<!DOCTYPE html>
<html lang="en">

<head>
   <meta charset="UTF-8" />
   <meta name="viewport" content="width=device-width, initial-scale=1.0" />
   <meta http-equiv="X-UA-Compatible" content="ie=edge" />
   <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDT0i15qVBYFv9vvNcKrLY8Qfg5AAb2K8Y"></script>
   <script src="https://apis.google.com/js/platform.js" async defer></script>
   <link rel="stylesheet" href="./dist/main.css" />
   <script src="./dist/main.js"></script>
   <title>grape prosperity</title>
   <link rel="icon" type="image/x-icon" href="/assets/favicon/grape.ico">
</head>

<body>
   <div id="main">
   
      <div id="realheader">(grape prosperity)</div>
      <h1 id="backer"></h1>
      <h2 id="headertext">the influence of climate on grapes
         <span id="underheadertext">
            'the fulfating acts as a fixative, locking the scourge into
            place and leaving the wine ill equiped to work the mouse out itself.'
         </span>
         <span id="underheadertext">
            'when we talk about "volatility," we're talking about the formation
            of acetic acid and related compounds through bacterial action.'
         </span>
         <span id="underheadertext">
            'if you had a label that said Vouvray, you could get a lot more money
            than a Vin de France, no? But then something happened. Vin de France
         </span>
      </h2>
      
      <div id="grape-info-backer">
         <div id="grape-header">region</div>
         <img src="" alt="" width="100">
         <div id="grape-text">texy</div>
      </div>
      <div id="map-container"></div>
   </div>
   <a href="https://github.com/charles-tyra" id="github">
      <img src="assets/github/github-mark.png" alt="" width="23">
   </a>

   <!-- given script to get maps API to work from demo -->
   <script>
      // Initializes Maps JavaScript API and adds an Earth Engine tile source to the map.
      const initialize = (mapid) => {
         const mapContainerEl = document.getElementById("map-container");

         // Create an interactive map inside the placeholder DOM element.
         const embeddedMap = new google.maps.Map(mapContainerEl, {
            center: { lng: 42.071334, lat: 45.483567 },
            zoom: 11,
         });

         // Create a new tile source to fetch visible tiles on demand and displays them on the map.
         const tileSource = new ee.layers.EarthEngineTileSource({
            mapid,
         });
         const overlay = new ee.layers.ImageOverlay(tileSource);
         embeddedMap.overlayMapTypes.push(overlay);
      };

      // Fetch a valid mapid from the remote web service defined in server.js.
      fetch("/mapid")
         .then((response) => response.text())
         .then((mapid) => initialize(mapid));
   </script>
</body>
</html>
