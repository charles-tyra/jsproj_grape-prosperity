/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (function() { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./node_modules/@google/earthengine/build/browser.js":
/*!***********************************************************!*\
  !*** ./node_modules/@google/earthengine/build/browser.js ***!
  \***********************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

eval("/*\n\n Copyright The Closure Library Authors.\n SPDX-License-Identifier: Apache-2.0\n*/\nvar isChrome87, $jscomp = $jscomp || {};\n$jscomp.scope = {};\n$jscomp.arrayIteratorImpl = function(array) {\n  var index = 0;\n  return function() {\n    return index < array.length ? {done:!1, value:array[index++],} : {done:!0};\n  };\n};\n$jscomp.arrayIterator = function(array) {\n  return {next:$jscomp.arrayIteratorImpl(array)};\n};\n$jscomp.ASSUME_ES5 = !1;\n$jscomp.ASSUME_NO_NATIVE_MAP = !1;\n$jscomp.ASSUME_NO_NATIVE_SET = !1;\n$jscomp.SIMPLE_FROUND_POLYFILL = !1;\n$jscomp.ISOLATE_POLYFILLS = !1;\n$jscomp.FORCE_POLYFILL_PROMISE = !1;\n$jscomp.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION = !1;\n$jscomp.defineProperty = $jscomp.ASSUME_ES5 || \"function\" == typeof Object.defineProperties ? Object.defineProperty : function(target, property, descriptor) {\n  if (target == Array.prototype || target == Object.prototype) {\n    return target;\n  }\n  target[property] = descriptor.value;\n  return target;\n};\n$jscomp.getGlobal = function(passedInThis) {\n  for (var possibleGlobals = [\"object\" == typeof globalThis && globalThis, passedInThis, \"object\" == typeof window && window, \"object\" == typeof self && self, \"object\" == typeof __webpack_require__.g && __webpack_require__.g,], i = 0; i < possibleGlobals.length; ++i) {\n    var maybeGlobal = possibleGlobals[i];\n    if (maybeGlobal && maybeGlobal.Math == Math) {\n      return maybeGlobal;\n    }\n  }\n  return function() {\n    throw Error(\"Cannot find global object\");\n  }();\n};\n$jscomp.global = $jscomp.getGlobal(this);\n$jscomp.IS_SYMBOL_NATIVE = \"function\" === typeof Symbol && \"symbol\" === typeof Symbol(\"x\");\n$jscomp.TRUST_ES6_POLYFILLS = !$jscomp.ISOLATE_POLYFILLS || $jscomp.IS_SYMBOL_NATIVE;\n$jscomp.polyfills = {};\n$jscomp.propertyToPolyfillSymbol = {};\n$jscomp.POLYFILL_PREFIX = \"$jscp$\";\nvar $jscomp$lookupPolyfilledValue = function(target, property) {\n  var obfuscatedName = $jscomp.propertyToPolyfillSymbol[property];\n  if (null == obfuscatedName) {\n    return target[property];\n  }\n  var polyfill = target[obfuscatedName];\n  return void 0 !== polyfill ? polyfill : target[property];\n};\n$jscomp.polyfill = function(target, polyfill, fromLang, toLang) {\n  polyfill && ($jscomp.ISOLATE_POLYFILLS ? $jscomp.polyfillIsolated(target, polyfill, fromLang, toLang) : $jscomp.polyfillUnisolated(target, polyfill, fromLang, toLang));\n};\n$jscomp.polyfillUnisolated = function(target, polyfill, fromLang, toLang) {\n  for (var obj = $jscomp.global, split = target.split(\".\"), i = 0; i < split.length - 1; i++) {\n    var key = split[i];\n    if (!(key in obj)) {\n      return;\n    }\n    obj = obj[key];\n  }\n  var property = split[split.length - 1], orig = obj[property], impl = polyfill(orig);\n  impl != orig && null != impl && $jscomp.defineProperty(obj, property, {configurable:!0, writable:!0, value:impl});\n};\n$jscomp.polyfillIsolated = function(target, polyfill, fromLang, toLang) {\n  var split = target.split(\".\"), isSimpleName = 1 === split.length, root = split[0];\n  var ownerObject = !isSimpleName && root in $jscomp.polyfills ? $jscomp.polyfills : $jscomp.global;\n  for (var i = 0; i < split.length - 1; i++) {\n    var key = split[i];\n    if (!(key in ownerObject)) {\n      return;\n    }\n    ownerObject = ownerObject[key];\n  }\n  var property = split[split.length - 1], nativeImpl = $jscomp.IS_SYMBOL_NATIVE && \"es6\" === fromLang ? ownerObject[property] : null, impl = polyfill(nativeImpl);\n  if (null != impl) {\n    if (isSimpleName) {\n      $jscomp.defineProperty($jscomp.polyfills, property, {configurable:!0, writable:!0, value:impl});\n    } else if (impl !== nativeImpl) {\n      if (void 0 === $jscomp.propertyToPolyfillSymbol[property]) {\n        var BIN_ID = 1E9 * Math.random() >>> 0;\n        $jscomp.propertyToPolyfillSymbol[property] = $jscomp.IS_SYMBOL_NATIVE ? $jscomp.global.Symbol(property) : $jscomp.POLYFILL_PREFIX + BIN_ID + \"$\" + property;\n      }\n      $jscomp.defineProperty(ownerObject, $jscomp.propertyToPolyfillSymbol[property], {configurable:!0, writable:!0, value:impl});\n    }\n  }\n};\n$jscomp.initSymbol = function() {\n};\n$jscomp.polyfill(\"Symbol\", function(orig) {\n  if (orig) {\n    return orig;\n  }\n  var SymbolClass = function(id, opt_description) {\n    this.$jscomp$symbol$id_ = id;\n    $jscomp.defineProperty(this, \"description\", {configurable:!0, writable:!0, value:opt_description});\n  };\n  SymbolClass.prototype.toString = function() {\n    return this.$jscomp$symbol$id_;\n  };\n  var SYMBOL_PREFIX = \"jscomp_symbol_\" + (1E9 * Math.random() >>> 0) + \"_\", counter = 0, symbolPolyfill = function(opt_description) {\n    if (this instanceof symbolPolyfill) {\n      throw new TypeError(\"Symbol is not a constructor\");\n    }\n    return new SymbolClass(SYMBOL_PREFIX + (opt_description || \"\") + \"_\" + counter++, opt_description);\n  };\n  return symbolPolyfill;\n}, \"es6\", \"es3\");\n$jscomp.polyfill(\"Symbol.iterator\", function(orig) {\n  if (orig) {\n    return orig;\n  }\n  for (var symbolIterator = Symbol(\"Symbol.iterator\"), arrayLikes = \"Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array\".split(\" \"), i = 0; i < arrayLikes.length; i++) {\n    var ArrayLikeCtor = $jscomp.global[arrayLikes[i]];\n    \"function\" === typeof ArrayLikeCtor && \"function\" != typeof ArrayLikeCtor.prototype[symbolIterator] && $jscomp.defineProperty(ArrayLikeCtor.prototype, symbolIterator, {configurable:!0, writable:!0, value:function() {\n      return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this));\n    }});\n  }\n  return symbolIterator;\n}, \"es6\", \"es3\");\n$jscomp.iteratorPrototype = function(next) {\n  var iterator = {next:next};\n  iterator[Symbol.iterator] = function() {\n    return this;\n  };\n  return iterator;\n};\n$jscomp.createTemplateTagFirstArg = function(arrayStrings) {\n  return arrayStrings.raw = arrayStrings;\n};\n$jscomp.createTemplateTagFirstArgWithRaw = function(arrayStrings, rawArrayStrings) {\n  arrayStrings.raw = rawArrayStrings;\n  return arrayStrings;\n};\n$jscomp.makeIterator = function(iterable) {\n  var iteratorFunction = \"undefined\" != typeof Symbol && Symbol.iterator && iterable[Symbol.iterator];\n  return iteratorFunction ? iteratorFunction.call(iterable) : $jscomp.arrayIterator(iterable);\n};\n$jscomp.arrayFromIterator = function(iterator) {\n  for (var i, arr = []; !(i = iterator.next()).done;) {\n    arr.push(i.value);\n  }\n  return arr;\n};\n$jscomp.arrayFromIterable = function(iterable) {\n  return iterable instanceof Array ? iterable : $jscomp.arrayFromIterator($jscomp.makeIterator(iterable));\n};\n$jscomp.owns = function(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n};\n$jscomp.assign = $jscomp.TRUST_ES6_POLYFILLS && \"function\" == typeof Object.assign ? Object.assign : function(target, var_args) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n    if (source) {\n      for (var key in source) {\n        $jscomp.owns(source, key) && (target[key] = source[key]);\n      }\n    }\n  }\n  return target;\n};\n$jscomp.polyfill(\"Object.assign\", function(orig) {\n  return orig || $jscomp.assign;\n}, \"es6\", \"es3\");\n$jscomp.objectCreate = $jscomp.ASSUME_ES5 || \"function\" == typeof Object.create ? Object.create : function(prototype) {\n  var ctor = function() {\n  };\n  ctor.prototype = prototype;\n  return new ctor();\n};\n$jscomp.getConstructImplementation = function() {\n  function reflectConstructWorks() {\n    function Base() {\n    }\n    new Base();\n    Reflect.construct(Base, [], function Derived() {\n    });\n    return new Base() instanceof Base;\n  }\n  if ($jscomp.TRUST_ES6_POLYFILLS && \"undefined\" != typeof Reflect && Reflect.construct) {\n    if (reflectConstructWorks()) {\n      return Reflect.construct;\n    }\n    var brokenConstruct = Reflect.construct;\n    return function(target, argList, opt_newTarget) {\n      var out = brokenConstruct(target, argList);\n      opt_newTarget && Reflect.setPrototypeOf(out, opt_newTarget.prototype);\n      return out;\n    };\n  }\n  return function construct(target, argList, opt_newTarget) {\n    void 0 === opt_newTarget && (opt_newTarget = target);\n    var obj = $jscomp.objectCreate(opt_newTarget.prototype || Object.prototype);\n    return Function.prototype.apply.call(target, obj, argList) || obj;\n  };\n};\n$jscomp.construct = {valueOf:$jscomp.getConstructImplementation}.valueOf();\n$jscomp.underscoreProtoCanBeSet = function() {\n  var x = {a:!0}, y = {};\n  try {\n    return y.__proto__ = x, y.a;\n  } catch (e) {\n  }\n  return !1;\n};\n$jscomp.setPrototypeOf = $jscomp.TRUST_ES6_POLYFILLS && \"function\" == typeof Object.setPrototypeOf ? Object.setPrototypeOf : $jscomp.underscoreProtoCanBeSet() ? function(target, proto) {\n  target.__proto__ = proto;\n  if (target.__proto__ !== proto) {\n    throw new TypeError(target + \" is not extensible\");\n  }\n  return target;\n} : null;\n$jscomp.inherits = function(childCtor, parentCtor) {\n  childCtor.prototype = $jscomp.objectCreate(parentCtor.prototype);\n  childCtor.prototype.constructor = childCtor;\n  if ($jscomp.setPrototypeOf) {\n    var setPrototypeOf = $jscomp.setPrototypeOf;\n    setPrototypeOf(childCtor, parentCtor);\n  } else {\n    for (var p in parentCtor) {\n      if (\"prototype\" != p) {\n        if (Object.defineProperties) {\n          var descriptor = Object.getOwnPropertyDescriptor(parentCtor, p);\n          descriptor && Object.defineProperty(childCtor, p, descriptor);\n        } else {\n          childCtor[p] = parentCtor[p];\n        }\n      }\n    }\n  }\n  childCtor.superClass_ = parentCtor.prototype;\n};\n$jscomp.generator = {};\n$jscomp.generator.ensureIteratorResultIsObject_ = function(result) {\n  if (!(result instanceof Object)) {\n    throw new TypeError(\"Iterator result \" + result + \" is not an object\");\n  }\n};\n$jscomp.generator.Context = function() {\n  this.isRunning_ = !1;\n  this.yieldAllIterator_ = null;\n  this.yieldResult = void 0;\n  this.nextAddress = 1;\n  this.finallyAddress_ = this.catchAddress_ = 0;\n  this.finallyContexts_ = this.abruptCompletion_ = null;\n};\n$jscomp.generator.Context.prototype.start_ = function() {\n  if (this.isRunning_) {\n    throw new TypeError(\"Generator is already running\");\n  }\n  this.isRunning_ = !0;\n};\n$jscomp.generator.Context.prototype.stop_ = function() {\n  this.isRunning_ = !1;\n};\n$jscomp.generator.Context.prototype.jumpToErrorHandler_ = function() {\n  this.nextAddress = this.catchAddress_ || this.finallyAddress_;\n};\n$jscomp.generator.Context.prototype.next_ = function(value) {\n  this.yieldResult = value;\n};\n$jscomp.generator.Context.prototype.throw_ = function(e) {\n  this.abruptCompletion_ = {exception:e, isException:!0};\n  this.jumpToErrorHandler_();\n};\n$jscomp.generator.Context.prototype.return = function(value) {\n  this.abruptCompletion_ = {return:value};\n  this.nextAddress = this.finallyAddress_;\n};\n$jscomp.generator.Context.prototype.jumpThroughFinallyBlocks = function(nextAddress) {\n  this.abruptCompletion_ = {jumpTo:nextAddress};\n  this.nextAddress = this.finallyAddress_;\n};\n$jscomp.generator.Context.prototype.yield = function(value, resumeAddress) {\n  this.nextAddress = resumeAddress;\n  return {value:value};\n};\n$jscomp.generator.Context.prototype.yieldAll = function(iterable, resumeAddress) {\n  var iterator = $jscomp.makeIterator(iterable), result = iterator.next();\n  $jscomp.generator.ensureIteratorResultIsObject_(result);\n  if (result.done) {\n    this.yieldResult = result.value, this.nextAddress = resumeAddress;\n  } else {\n    return this.yieldAllIterator_ = iterator, this.yield(result.value, resumeAddress);\n  }\n};\n$jscomp.generator.Context.prototype.jumpTo = function(nextAddress) {\n  this.nextAddress = nextAddress;\n};\n$jscomp.generator.Context.prototype.jumpToEnd = function() {\n  this.nextAddress = 0;\n};\n$jscomp.generator.Context.prototype.setCatchFinallyBlocks = function(catchAddress, finallyAddress) {\n  this.catchAddress_ = catchAddress;\n  void 0 != finallyAddress && (this.finallyAddress_ = finallyAddress);\n};\n$jscomp.generator.Context.prototype.setFinallyBlock = function(finallyAddress) {\n  this.catchAddress_ = 0;\n  this.finallyAddress_ = finallyAddress || 0;\n};\n$jscomp.generator.Context.prototype.leaveTryBlock = function(nextAddress, catchAddress) {\n  this.nextAddress = nextAddress;\n  this.catchAddress_ = catchAddress || 0;\n};\n$jscomp.generator.Context.prototype.enterCatchBlock = function(nextCatchBlockAddress) {\n  this.catchAddress_ = nextCatchBlockAddress || 0;\n  var exception = this.abruptCompletion_.exception;\n  this.abruptCompletion_ = null;\n  return exception;\n};\n$jscomp.generator.Context.prototype.enterFinallyBlock = function(nextCatchAddress, nextFinallyAddress, finallyDepth) {\n  finallyDepth ? this.finallyContexts_[finallyDepth] = this.abruptCompletion_ : this.finallyContexts_ = [this.abruptCompletion_];\n  this.catchAddress_ = nextCatchAddress || 0;\n  this.finallyAddress_ = nextFinallyAddress || 0;\n};\n$jscomp.generator.Context.prototype.leaveFinallyBlock = function(nextAddress, finallyDepth) {\n  var preservedContext = this.finallyContexts_.splice(finallyDepth || 0)[0], abruptCompletion = this.abruptCompletion_ = this.abruptCompletion_ || preservedContext;\n  if (abruptCompletion) {\n    if (abruptCompletion.isException) {\n      return this.jumpToErrorHandler_();\n    }\n    void 0 != abruptCompletion.jumpTo && this.finallyAddress_ < abruptCompletion.jumpTo ? (this.nextAddress = abruptCompletion.jumpTo, this.abruptCompletion_ = null) : this.nextAddress = this.finallyAddress_;\n  } else {\n    this.nextAddress = nextAddress;\n  }\n};\n$jscomp.generator.Context.prototype.forIn = function(object) {\n  return new $jscomp.generator.Context.PropertyIterator(object);\n};\n$jscomp.generator.Context.PropertyIterator = function(object) {\n  this.object_ = object;\n  this.properties_ = [];\n  for (var property in object) {\n    this.properties_.push(property);\n  }\n  this.properties_.reverse();\n};\n$jscomp.generator.Context.PropertyIterator.prototype.getNext = function() {\n  for (; 0 < this.properties_.length;) {\n    var property = this.properties_.pop();\n    if (property in this.object_) {\n      return property;\n    }\n  }\n  return null;\n};\n$jscomp.generator.Engine_ = function(program) {\n  this.context_ = new $jscomp.generator.Context();\n  this.program_ = program;\n};\n$jscomp.generator.Engine_.prototype.next_ = function(value) {\n  this.context_.start_();\n  if (this.context_.yieldAllIterator_) {\n    return this.yieldAllStep_(this.context_.yieldAllIterator_.next, value, this.context_.next_);\n  }\n  this.context_.next_(value);\n  return this.nextStep_();\n};\n$jscomp.generator.Engine_.prototype.return_ = function(value) {\n  this.context_.start_();\n  var yieldAllIterator = this.context_.yieldAllIterator_;\n  if (yieldAllIterator) {\n    return this.yieldAllStep_(\"return\" in yieldAllIterator ? yieldAllIterator[\"return\"] : function(v) {\n      return {value:v, done:!0};\n    }, value, this.context_.return);\n  }\n  this.context_.return(value);\n  return this.nextStep_();\n};\n$jscomp.generator.Engine_.prototype.throw_ = function(exception) {\n  this.context_.start_();\n  if (this.context_.yieldAllIterator_) {\n    return this.yieldAllStep_(this.context_.yieldAllIterator_[\"throw\"], exception, this.context_.next_);\n  }\n  this.context_.throw_(exception);\n  return this.nextStep_();\n};\n$jscomp.generator.Engine_.prototype.yieldAllStep_ = function(action, value, nextAction) {\n  try {\n    var result = action.call(this.context_.yieldAllIterator_, value);\n    $jscomp.generator.ensureIteratorResultIsObject_(result);\n    if (!result.done) {\n      return this.context_.stop_(), result;\n    }\n    var resultValue = result.value;\n  } catch (e) {\n    return this.context_.yieldAllIterator_ = null, this.context_.throw_(e), this.nextStep_();\n  }\n  this.context_.yieldAllIterator_ = null;\n  nextAction.call(this.context_, resultValue);\n  return this.nextStep_();\n};\n$jscomp.generator.Engine_.prototype.nextStep_ = function() {\n  for (; this.context_.nextAddress;) {\n    try {\n      var yieldValue = this.program_(this.context_);\n      if (yieldValue) {\n        return this.context_.stop_(), {value:yieldValue.value, done:!1};\n      }\n    } catch (e) {\n      this.context_.yieldResult = void 0, this.context_.throw_(e);\n    }\n  }\n  this.context_.stop_();\n  if (this.context_.abruptCompletion_) {\n    var abruptCompletion = this.context_.abruptCompletion_;\n    this.context_.abruptCompletion_ = null;\n    if (abruptCompletion.isException) {\n      throw abruptCompletion.exception;\n    }\n    return {value:abruptCompletion.return, done:!0};\n  }\n  return {value:void 0, done:!0};\n};\n$jscomp.generator.Generator_ = function(engine) {\n  this.next = function(opt_value) {\n    return engine.next_(opt_value);\n  };\n  this.throw = function(exception) {\n    return engine.throw_(exception);\n  };\n  this.return = function(value) {\n    return engine.return_(value);\n  };\n  this[Symbol.iterator] = function() {\n    return this;\n  };\n};\n$jscomp.generator.createGenerator = function(generator, program) {\n  var result = new $jscomp.generator.Generator_(new $jscomp.generator.Engine_(program));\n  $jscomp.setPrototypeOf && generator.prototype && $jscomp.setPrototypeOf(result, generator.prototype);\n  return result;\n};\n$jscomp.asyncExecutePromiseGenerator = function(generator) {\n  function passValueToGenerator(value) {\n    return generator.next(value);\n  }\n  function passErrorToGenerator(error) {\n    return generator.throw(error);\n  }\n  return new Promise(function(resolve, reject) {\n    function handleGeneratorRecord(genRec) {\n      genRec.done ? resolve(genRec.value) : Promise.resolve(genRec.value).then(passValueToGenerator, passErrorToGenerator).then(handleGeneratorRecord, reject);\n    }\n    handleGeneratorRecord(generator.next());\n  });\n};\n$jscomp.asyncExecutePromiseGeneratorFunction = function(generatorFunction) {\n  return $jscomp.asyncExecutePromiseGenerator(generatorFunction());\n};\n$jscomp.asyncExecutePromiseGeneratorProgram = function(program) {\n  return $jscomp.asyncExecutePromiseGenerator(new $jscomp.generator.Generator_(new $jscomp.generator.Engine_(program)));\n};\n$jscomp.getRestArguments = function() {\n  for (var startIndex = Number(this), restArgs = [], i = startIndex; i < arguments.length; i++) {\n    restArgs[i - startIndex] = arguments[i];\n  }\n  return restArgs;\n};\n$jscomp.polyfill(\"Reflect\", function(orig) {\n  return orig ? orig : {};\n}, \"es6\", \"es3\");\n$jscomp.polyfill(\"Reflect.construct\", function(orig) {\n  return $jscomp.construct;\n}, \"es6\", \"es3\");\n$jscomp.polyfill(\"Reflect.setPrototypeOf\", function(orig) {\n  if (orig) {\n    return orig;\n  }\n  if ($jscomp.setPrototypeOf) {\n    var setPrototypeOf = $jscomp.setPrototypeOf;\n    return function(target, proto) {\n      try {\n        return setPrototypeOf(target, proto), !0;\n      } catch (e) {\n        return !1;\n      }\n    };\n  }\n  return null;\n}, \"es6\", \"es5\");\n$jscomp.polyfill(\"Promise\", function(NativePromise) {\n  function platformSupportsPromiseRejectionEvents() {\n    return \"undefined\" !== typeof $jscomp.global.PromiseRejectionEvent;\n  }\n  function globalPromiseIsNative() {\n    return $jscomp.global.Promise && -1 !== $jscomp.global.Promise.toString().indexOf(\"[native code]\");\n  }\n  function shouldForcePolyfillPromise() {\n    return ($jscomp.FORCE_POLYFILL_PROMISE || $jscomp.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION && !platformSupportsPromiseRejectionEvents()) && globalPromiseIsNative();\n  }\n  function AsyncExecutor() {\n    this.batch_ = null;\n  }\n  function isObject(value) {\n    switch(typeof value) {\n      case \"object\":\n        return null != value;\n      case \"function\":\n        return !0;\n      default:\n        return !1;\n    }\n  }\n  function resolvingPromise(opt_value) {\n    return opt_value instanceof PolyfillPromise ? opt_value : new PolyfillPromise(function(resolve, reject) {\n      resolve(opt_value);\n    });\n  }\n  if (NativePromise && !shouldForcePolyfillPromise()) {\n    return NativePromise;\n  }\n  AsyncExecutor.prototype.asyncExecute = function(f) {\n    if (null == this.batch_) {\n      this.batch_ = [];\n      var self = this;\n      this.asyncExecuteFunction(function() {\n        self.executeBatch_();\n      });\n    }\n    this.batch_.push(f);\n  };\n  var nativeSetTimeout = $jscomp.global.setTimeout;\n  AsyncExecutor.prototype.asyncExecuteFunction = function(f) {\n    nativeSetTimeout(f, 0);\n  };\n  AsyncExecutor.prototype.executeBatch_ = function() {\n    for (; this.batch_ && this.batch_.length;) {\n      var executingBatch = this.batch_;\n      this.batch_ = [];\n      for (var i = 0; i < executingBatch.length; ++i) {\n        var f = executingBatch[i];\n        executingBatch[i] = null;\n        try {\n          f();\n        } catch (error) {\n          this.asyncThrow_(error);\n        }\n      }\n    }\n    this.batch_ = null;\n  };\n  AsyncExecutor.prototype.asyncThrow_ = function(exception) {\n    this.asyncExecuteFunction(function() {\n      throw exception;\n    });\n  };\n  var PromiseState = {PENDING:0, FULFILLED:1, REJECTED:2}, PolyfillPromise = function(executor) {\n    this.state_ = PromiseState.PENDING;\n    this.result_ = void 0;\n    this.onSettledCallbacks_ = [];\n    this.isRejectionHandled_ = !1;\n    var resolveAndReject = this.createResolveAndReject_();\n    try {\n      executor(resolveAndReject.resolve, resolveAndReject.reject);\n    } catch (e) {\n      resolveAndReject.reject(e);\n    }\n  };\n  PolyfillPromise.prototype.createResolveAndReject_ = function() {\n    function firstCallWins(method) {\n      return function(x) {\n        alreadyCalled || (alreadyCalled = !0, method.call(thisPromise, x));\n      };\n    }\n    var thisPromise = this, alreadyCalled = !1;\n    return {resolve:firstCallWins(this.resolveTo_), reject:firstCallWins(this.reject_)};\n  };\n  PolyfillPromise.prototype.resolveTo_ = function(value) {\n    value === this ? this.reject_(new TypeError(\"A Promise cannot resolve to itself\")) : value instanceof PolyfillPromise ? this.settleSameAsPromise_(value) : isObject(value) ? this.resolveToNonPromiseObj_(value) : this.fulfill_(value);\n  };\n  PolyfillPromise.prototype.resolveToNonPromiseObj_ = function(obj) {\n    var thenMethod = void 0;\n    try {\n      thenMethod = obj.then;\n    } catch (error) {\n      this.reject_(error);\n      return;\n    }\n    \"function\" == typeof thenMethod ? this.settleSameAsThenable_(thenMethod, obj) : this.fulfill_(obj);\n  };\n  PolyfillPromise.prototype.reject_ = function(reason) {\n    this.settle_(PromiseState.REJECTED, reason);\n  };\n  PolyfillPromise.prototype.fulfill_ = function(value) {\n    this.settle_(PromiseState.FULFILLED, value);\n  };\n  PolyfillPromise.prototype.settle_ = function(settledState, valueOrReason) {\n    if (this.state_ != PromiseState.PENDING) {\n      throw Error(\"Cannot settle(\" + settledState + \", \" + valueOrReason + \"): Promise already settled in state\" + this.state_);\n    }\n    this.state_ = settledState;\n    this.result_ = valueOrReason;\n    this.state_ === PromiseState.REJECTED && this.scheduleUnhandledRejectionCheck_();\n    this.executeOnSettledCallbacks_();\n  };\n  PolyfillPromise.prototype.scheduleUnhandledRejectionCheck_ = function() {\n    var self = this;\n    nativeSetTimeout(function() {\n      if (self.notifyUnhandledRejection_()) {\n        var nativeConsole = $jscomp.global.console;\n        \"undefined\" !== typeof nativeConsole && nativeConsole.error(self.result_);\n      }\n    }, 1);\n  };\n  PolyfillPromise.prototype.notifyUnhandledRejection_ = function() {\n    if (this.isRejectionHandled_) {\n      return !1;\n    }\n    var NativeCustomEvent = $jscomp.global.CustomEvent, NativeEvent = $jscomp.global.Event, nativeDispatchEvent = $jscomp.global.dispatchEvent;\n    if (\"undefined\" === typeof nativeDispatchEvent) {\n      return !0;\n    }\n    if (\"function\" === typeof NativeCustomEvent) {\n      var event = new NativeCustomEvent(\"unhandledrejection\", {cancelable:!0});\n    } else {\n      \"function\" === typeof NativeEvent ? event = new NativeEvent(\"unhandledrejection\", {cancelable:!0}) : (event = $jscomp.global.document.createEvent(\"CustomEvent\"), event.initCustomEvent(\"unhandledrejection\", !1, !0, event));\n    }\n    event.promise = this;\n    event.reason = this.result_;\n    return nativeDispatchEvent(event);\n  };\n  PolyfillPromise.prototype.executeOnSettledCallbacks_ = function() {\n    if (null != this.onSettledCallbacks_) {\n      for (var i = 0; i < this.onSettledCallbacks_.length; ++i) {\n        asyncExecutor.asyncExecute(this.onSettledCallbacks_[i]);\n      }\n      this.onSettledCallbacks_ = null;\n    }\n  };\n  var asyncExecutor = new AsyncExecutor();\n  PolyfillPromise.prototype.settleSameAsPromise_ = function(promise) {\n    var methods = this.createResolveAndReject_();\n    promise.callWhenSettled_(methods.resolve, methods.reject);\n  };\n  PolyfillPromise.prototype.settleSameAsThenable_ = function(thenMethod, thenable) {\n    var methods = this.createResolveAndReject_();\n    try {\n      thenMethod.call(thenable, methods.resolve, methods.reject);\n    } catch (error) {\n      methods.reject(error);\n    }\n  };\n  PolyfillPromise.prototype.then = function(onFulfilled, onRejected) {\n    function createCallback(paramF, defaultF) {\n      return \"function\" == typeof paramF ? function(x) {\n        try {\n          resolveChild(paramF(x));\n        } catch (error) {\n          rejectChild(error);\n        }\n      } : defaultF;\n    }\n    var resolveChild, rejectChild, childPromise = new PolyfillPromise(function(resolve, reject) {\n      resolveChild = resolve;\n      rejectChild = reject;\n    });\n    this.callWhenSettled_(createCallback(onFulfilled, resolveChild), createCallback(onRejected, rejectChild));\n    return childPromise;\n  };\n  PolyfillPromise.prototype.catch = function(onRejected) {\n    return this.then(void 0, onRejected);\n  };\n  PolyfillPromise.prototype.callWhenSettled_ = function(onFulfilled, onRejected) {\n    function callback() {\n      switch(thisPromise.state_) {\n        case PromiseState.FULFILLED:\n          onFulfilled(thisPromise.result_);\n          break;\n        case PromiseState.REJECTED:\n          onRejected(thisPromise.result_);\n          break;\n        default:\n          throw Error(\"Unexpected state: \" + thisPromise.state_);\n      }\n    }\n    var thisPromise = this;\n    null == this.onSettledCallbacks_ ? asyncExecutor.asyncExecute(callback) : this.onSettledCallbacks_.push(callback);\n    this.isRejectionHandled_ = !0;\n  };\n  PolyfillPromise.resolve = resolvingPromise;\n  PolyfillPromise.reject = function(opt_reason) {\n    return new PolyfillPromise(function(resolve, reject) {\n      reject(opt_reason);\n    });\n  };\n  PolyfillPromise.race = function(thenablesOrValues) {\n    return new PolyfillPromise(function(resolve, reject) {\n      for (var iterator = $jscomp.makeIterator(thenablesOrValues), iterRec = iterator.next(); !iterRec.done; iterRec = iterator.next()) {\n        resolvingPromise(iterRec.value).callWhenSettled_(resolve, reject);\n      }\n    });\n  };\n  PolyfillPromise.all = function(thenablesOrValues) {\n    var iterator = $jscomp.makeIterator(thenablesOrValues), iterRec = iterator.next();\n    return iterRec.done ? resolvingPromise([]) : new PolyfillPromise(function(resolveAll, rejectAll) {\n      function onFulfilled(i) {\n        return function(ithResult) {\n          resultsArray[i] = ithResult;\n          unresolvedCount--;\n          0 == unresolvedCount && resolveAll(resultsArray);\n        };\n      }\n      var resultsArray = [], unresolvedCount = 0;\n      do {\n        resultsArray.push(void 0), unresolvedCount++, resolvingPromise(iterRec.value).callWhenSettled_(onFulfilled(resultsArray.length - 1), rejectAll), iterRec = iterator.next();\n      } while (!iterRec.done);\n    });\n  };\n  return PolyfillPromise;\n}, \"es6\", \"es3\");\n$jscomp.checkEs6ConformanceViaProxy = function() {\n  try {\n    var proxied = {}, proxy = Object.create(new $jscomp.global.Proxy(proxied, {get:function(target, key, receiver) {\n      return target == proxied && \"q\" == key && receiver == proxy;\n    }}));\n    return !0 === proxy.q;\n  } catch (err) {\n    return !1;\n  }\n};\n$jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS = !1;\n$jscomp.ES6_CONFORMANCE = $jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS && $jscomp.checkEs6ConformanceViaProxy();\n$jscomp.polyfill(\"WeakMap\", function(NativeWeakMap) {\n  function isConformant() {\n    if (!NativeWeakMap || !Object.seal) {\n      return !1;\n    }\n    try {\n      var x = Object.seal({}), y = Object.seal({}), map = new NativeWeakMap([[x, 2], [y, 3]]);\n      if (2 != map.get(x) || 3 != map.get(y)) {\n        return !1;\n      }\n      map.delete(x);\n      map.set(y, 4);\n      return !map.has(x) && 4 == map.get(y);\n    } catch (err) {\n      return !1;\n    }\n  }\n  function WeakMapMembership() {\n  }\n  function isValidKey(key) {\n    var type = typeof key;\n    return \"object\" === type && null !== key || \"function\" === type;\n  }\n  function insert(target) {\n    if (!$jscomp.owns(target, prop)) {\n      var obj = new WeakMapMembership();\n      $jscomp.defineProperty(target, prop, {value:obj});\n    }\n  }\n  function patch(name) {\n    if (!$jscomp.ISOLATE_POLYFILLS) {\n      var prev = Object[name];\n      prev && (Object[name] = function(target) {\n        if (target instanceof WeakMapMembership) {\n          return target;\n        }\n        Object.isExtensible(target) && insert(target);\n        return prev(target);\n      });\n    }\n  }\n  if ($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS) {\n    if (NativeWeakMap && $jscomp.ES6_CONFORMANCE) {\n      return NativeWeakMap;\n    }\n  } else {\n    if (isConformant()) {\n      return NativeWeakMap;\n    }\n  }\n  var prop = \"$jscomp_hidden_\" + Math.random();\n  patch(\"freeze\");\n  patch(\"preventExtensions\");\n  patch(\"seal\");\n  var index = 0, PolyfillWeakMap = function(opt_iterable) {\n    this.id_ = (index += Math.random() + 1).toString();\n    if (opt_iterable) {\n      for (var iter = $jscomp.makeIterator(opt_iterable), entry; !(entry = iter.next()).done;) {\n        var item = entry.value;\n        this.set(item[0], item[1]);\n      }\n    }\n  };\n  PolyfillWeakMap.prototype.set = function(key, value) {\n    if (!isValidKey(key)) {\n      throw Error(\"Invalid WeakMap key\");\n    }\n    insert(key);\n    if (!$jscomp.owns(key, prop)) {\n      throw Error(\"WeakMap key fail: \" + key);\n    }\n    key[prop][this.id_] = value;\n    return this;\n  };\n  PolyfillWeakMap.prototype.get = function(key) {\n    return isValidKey(key) && $jscomp.owns(key, prop) ? key[prop][this.id_] : void 0;\n  };\n  PolyfillWeakMap.prototype.has = function(key) {\n    return isValidKey(key) && $jscomp.owns(key, prop) && $jscomp.owns(key[prop], this.id_);\n  };\n  PolyfillWeakMap.prototype.delete = function(key) {\n    return isValidKey(key) && $jscomp.owns(key, prop) && $jscomp.owns(key[prop], this.id_) ? delete key[prop][this.id_] : !1;\n  };\n  return PolyfillWeakMap;\n}, \"es6\", \"es3\");\n$jscomp.MapEntry = function() {\n};\n$jscomp.polyfill(\"Map\", function(NativeMap) {\n  function isConformant() {\n    if ($jscomp.ASSUME_NO_NATIVE_MAP || !NativeMap || \"function\" != typeof NativeMap || !NativeMap.prototype.entries || \"function\" != typeof Object.seal) {\n      return !1;\n    }\n    try {\n      var key = Object.seal({x:4}), map = new NativeMap($jscomp.makeIterator([[key, \"s\"]]));\n      if (\"s\" != map.get(key) || 1 != map.size || map.get({x:4}) || map.set({x:4}, \"t\") != map || 2 != map.size) {\n        return !1;\n      }\n      var iter = map.entries(), item = iter.next();\n      if (item.done || item.value[0] != key || \"s\" != item.value[1]) {\n        return !1;\n      }\n      item = iter.next();\n      return item.done || 4 != item.value[0].x || \"t\" != item.value[1] || !iter.next().done ? !1 : !0;\n    } catch (err) {\n      return !1;\n    }\n  }\n  if ($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS) {\n    if (NativeMap && $jscomp.ES6_CONFORMANCE) {\n      return NativeMap;\n    }\n  } else {\n    if (isConformant()) {\n      return NativeMap;\n    }\n  }\n  var idMap = new WeakMap(), PolyfillMap = function(opt_iterable) {\n    this.data_ = {};\n    this.head_ = createHead();\n    this.size = 0;\n    if (opt_iterable) {\n      for (var iter = $jscomp.makeIterator(opt_iterable), entry; !(entry = iter.next()).done;) {\n        var item = entry.value;\n        this.set(item[0], item[1]);\n      }\n    }\n  };\n  PolyfillMap.prototype.set = function(key, value) {\n    key = 0 === key ? 0 : key;\n    var r = maybeGetEntry(this, key);\n    r.list || (r.list = this.data_[r.id] = []);\n    r.entry ? r.entry.value = value : (r.entry = {next:this.head_, previous:this.head_.previous, head:this.head_, key:key, value:value,}, r.list.push(r.entry), this.head_.previous.next = r.entry, this.head_.previous = r.entry, this.size++);\n    return this;\n  };\n  PolyfillMap.prototype.delete = function(key) {\n    var r = maybeGetEntry(this, key);\n    return r.entry && r.list ? (r.list.splice(r.index, 1), r.list.length || delete this.data_[r.id], r.entry.previous.next = r.entry.next, r.entry.next.previous = r.entry.previous, r.entry.head = null, this.size--, !0) : !1;\n  };\n  PolyfillMap.prototype.clear = function() {\n    this.data_ = {};\n    this.head_ = this.head_.previous = createHead();\n    this.size = 0;\n  };\n  PolyfillMap.prototype.has = function(key) {\n    return !!maybeGetEntry(this, key).entry;\n  };\n  PolyfillMap.prototype.get = function(key) {\n    var entry = maybeGetEntry(this, key).entry;\n    return entry && entry.value;\n  };\n  PolyfillMap.prototype.entries = function() {\n    return makeIterator(this, function(entry) {\n      return [entry.key, entry.value];\n    });\n  };\n  PolyfillMap.prototype.keys = function() {\n    return makeIterator(this, function(entry) {\n      return entry.key;\n    });\n  };\n  PolyfillMap.prototype.values = function() {\n    return makeIterator(this, function(entry) {\n      return entry.value;\n    });\n  };\n  PolyfillMap.prototype.forEach = function(callback, opt_thisArg) {\n    for (var iter = this.entries(), item; !(item = iter.next()).done;) {\n      var entry = item.value;\n      callback.call(opt_thisArg, entry[1], entry[0], this);\n    }\n  };\n  PolyfillMap.prototype[Symbol.iterator] = PolyfillMap.prototype.entries;\n  var maybeGetEntry = function(map, key) {\n    var id = getId(key), list = map.data_[id];\n    if (list && $jscomp.owns(map.data_, id)) {\n      for (var index = 0; index < list.length; index++) {\n        var entry = list[index];\n        if (key !== key && entry.key !== entry.key || key === entry.key) {\n          return {id:id, list:list, index:index, entry:entry};\n        }\n      }\n    }\n    return {id:id, list:list, index:-1, entry:void 0};\n  }, makeIterator = function(map, func) {\n    var entry = map.head_;\n    return $jscomp.iteratorPrototype(function() {\n      if (entry) {\n        for (; entry.head != map.head_;) {\n          entry = entry.previous;\n        }\n        for (; entry.next != entry.head;) {\n          return entry = entry.next, {done:!1, value:func(entry)};\n        }\n        entry = null;\n      }\n      return {done:!0, value:void 0};\n    });\n  }, createHead = function() {\n    var head = {};\n    return head.previous = head.next = head.head = head;\n  }, mapIndex = 0, getId = function(obj) {\n    var type = obj && typeof obj;\n    if (\"object\" == type || \"function\" == type) {\n      if (!idMap.has(obj)) {\n        var id = \"\" + ++mapIndex;\n        idMap.set(obj, id);\n        return id;\n      }\n      return idMap.get(obj);\n    }\n    return \"p_\" + obj;\n  };\n  return PolyfillMap;\n}, \"es6\", \"es3\");\n$jscomp.findInternal = function(array, callback, thisArg) {\n  array instanceof String && (array = String(array));\n  for (var len = array.length, i = 0; i < len; i++) {\n    var value = array[i];\n    if (callback.call(thisArg, value, i, array)) {\n      return {i:i, v:value};\n    }\n  }\n  return {i:-1, v:void 0};\n};\n$jscomp.polyfill(\"Array.prototype.find\", function(orig) {\n  return orig ? orig : function(callback, opt_thisArg) {\n    return $jscomp.findInternal(this, callback, opt_thisArg).v;\n  };\n}, \"es6\", \"es3\");\n$jscomp.checkStringArgs = function(thisArg, arg, func) {\n  if (null == thisArg) {\n    throw new TypeError(\"The 'this' value for String.prototype.\" + func + \" must not be null or undefined\");\n  }\n  if (arg instanceof RegExp) {\n    throw new TypeError(\"First argument to String.prototype.\" + func + \" must not be a regular expression\");\n  }\n  return thisArg + \"\";\n};\n$jscomp.polyfill(\"String.prototype.repeat\", function(orig) {\n  return orig ? orig : function(copies) {\n    var string = $jscomp.checkStringArgs(this, null, \"repeat\");\n    if (0 > copies || 1342177279 < copies) {\n      throw new RangeError(\"Invalid count value\");\n    }\n    copies |= 0;\n    for (var result = \"\"; copies;) {\n      if (copies & 1 && (result += string), copies >>>= 1) {\n        string += string;\n      }\n    }\n    return result;\n  };\n}, \"es6\", \"es3\");\n$jscomp.iteratorFromArray = function(array, transform) {\n  array instanceof String && (array += \"\");\n  var i = 0, done = !1, iter = {next:function() {\n    if (!done && i < array.length) {\n      var index = i++;\n      return {value:transform(index, array[index]), done:!1};\n    }\n    done = !0;\n    return {done:!0, value:void 0};\n  }};\n  iter[Symbol.iterator] = function() {\n    return iter;\n  };\n  return iter;\n};\n$jscomp.polyfill(\"Array.prototype.keys\", function(orig) {\n  return orig ? orig : function() {\n    return $jscomp.iteratorFromArray(this, function(i) {\n      return i;\n    });\n  };\n}, \"es6\", \"es3\");\n$jscomp.polyfill(\"Array.from\", function(orig) {\n  return orig ? orig : function(arrayLike, opt_mapFn, opt_thisArg) {\n    opt_mapFn = null != opt_mapFn ? opt_mapFn : function(x) {\n      return x;\n    };\n    var result = [], iteratorFunction = \"undefined\" != typeof Symbol && Symbol.iterator && arrayLike[Symbol.iterator];\n    if (\"function\" == typeof iteratorFunction) {\n      arrayLike = iteratorFunction.call(arrayLike);\n      for (var next, k = 0; !(next = arrayLike.next()).done;) {\n        result.push(opt_mapFn.call(opt_thisArg, next.value, k++));\n      }\n    } else {\n      for (var len = arrayLike.length, i = 0; i < len; i++) {\n        result.push(opt_mapFn.call(opt_thisArg, arrayLike[i], i));\n      }\n    }\n    return result;\n  };\n}, \"es6\", \"es3\");\n$jscomp.polyfill(\"Array.prototype.values\", function(orig) {\n  return orig ? orig : function() {\n    return $jscomp.iteratorFromArray(this, function(k, v) {\n      return v;\n    });\n  };\n}, \"es8\", \"es3\");\n$jscomp.polyfill(\"Object.setPrototypeOf\", function(orig) {\n  return orig || $jscomp.setPrototypeOf;\n}, \"es6\", \"es5\");\n$jscomp.polyfill(\"String.prototype.endsWith\", function(orig) {\n  return orig ? orig : function(searchString, opt_position) {\n    var string = $jscomp.checkStringArgs(this, searchString, \"endsWith\");\n    searchString += \"\";\n    void 0 === opt_position && (opt_position = string.length);\n    for (var i = Math.max(0, Math.min(opt_position | 0, string.length)), j = searchString.length; 0 < j && 0 < i;) {\n      if (string[--i] != searchString[--j]) {\n        return !1;\n      }\n    }\n    return 0 >= j;\n  };\n}, \"es6\", \"es3\");\n$jscomp.polyfill(\"String.prototype.startsWith\", function(orig) {\n  return orig ? orig : function(searchString, opt_position) {\n    var string = $jscomp.checkStringArgs(this, searchString, \"startsWith\");\n    searchString += \"\";\n    for (var strLen = string.length, searchLen = searchString.length, i = Math.max(0, Math.min(opt_position | 0, string.length)), j = 0; j < searchLen && i < strLen;) {\n      if (string[i++] != searchString[j++]) {\n        return !1;\n      }\n    }\n    return j >= searchLen;\n  };\n}, \"es6\", \"es3\");\n$jscomp.polyfill(\"Number.isFinite\", function(orig) {\n  return orig ? orig : function(x) {\n    return \"number\" !== typeof x ? !1 : !isNaN(x) && Infinity !== x && -Infinity !== x;\n  };\n}, \"es6\", \"es3\");\n$jscomp.polyfill(\"Object.entries\", function(orig) {\n  return orig ? orig : function(obj) {\n    var result = [], key;\n    for (key in obj) {\n      $jscomp.owns(obj, key) && result.push([key, obj[key]]);\n    }\n    return result;\n  };\n}, \"es8\", \"es3\");\n$jscomp.polyfill(\"Object.is\", function(orig) {\n  return orig ? orig : function(left, right) {\n    return left === right ? 0 !== left || 1 / left === 1 / right : left !== left && right !== right;\n  };\n}, \"es6\", \"es3\");\n$jscomp.polyfill(\"Array.prototype.includes\", function(orig) {\n  return orig ? orig : function(searchElement, opt_fromIndex) {\n    var array = this;\n    array instanceof String && (array = String(array));\n    var len = array.length, i = opt_fromIndex || 0;\n    for (0 > i && (i = Math.max(i + len, 0)); i < len; i++) {\n      var element = array[i];\n      if (element === searchElement || Object.is(element, searchElement)) {\n        return !0;\n      }\n    }\n    return !1;\n  };\n}, \"es7\", \"es3\");\n$jscomp.polyfill(\"String.prototype.includes\", function(orig) {\n  return orig ? orig : function(searchString, opt_position) {\n    return -1 !== $jscomp.checkStringArgs(this, searchString, \"includes\").indexOf(searchString, opt_position || 0);\n  };\n}, \"es6\", \"es3\");\n$jscomp.polyfill(\"String.prototype.trimLeft\", function(orig) {\n  function polyfill() {\n    return this.replace(/^[\\s\\xa0]+/, \"\");\n  }\n  return orig || polyfill;\n}, \"es_2019\", \"es3\");\n$jscomp.polyfill(\"Array.prototype.entries\", function(orig) {\n  return orig ? orig : function() {\n    return $jscomp.iteratorFromArray(this, function(i, v) {\n      return [i, v];\n    });\n  };\n}, \"es6\", \"es3\");\n$jscomp.polyfill(\"Set\", function(NativeSet) {\n  function isConformant() {\n    if ($jscomp.ASSUME_NO_NATIVE_SET || !NativeSet || \"function\" != typeof NativeSet || !NativeSet.prototype.entries || \"function\" != typeof Object.seal) {\n      return !1;\n    }\n    try {\n      var value = Object.seal({x:4}), set = new NativeSet($jscomp.makeIterator([value]));\n      if (!set.has(value) || 1 != set.size || set.add(value) != set || 1 != set.size || set.add({x:4}) != set || 2 != set.size) {\n        return !1;\n      }\n      var iter = set.entries(), item = iter.next();\n      if (item.done || item.value[0] != value || item.value[1] != value) {\n        return !1;\n      }\n      item = iter.next();\n      return item.done || item.value[0] == value || 4 != item.value[0].x || item.value[1] != item.value[0] ? !1 : iter.next().done;\n    } catch (err) {\n      return !1;\n    }\n  }\n  if ($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS) {\n    if (NativeSet && $jscomp.ES6_CONFORMANCE) {\n      return NativeSet;\n    }\n  } else {\n    if (isConformant()) {\n      return NativeSet;\n    }\n  }\n  var PolyfillSet = function(opt_iterable) {\n    this.map_ = new Map();\n    if (opt_iterable) {\n      for (var iter = $jscomp.makeIterator(opt_iterable), entry; !(entry = iter.next()).done;) {\n        this.add(entry.value);\n      }\n    }\n    this.size = this.map_.size;\n  };\n  PolyfillSet.prototype.add = function(value) {\n    value = 0 === value ? 0 : value;\n    this.map_.set(value, value);\n    this.size = this.map_.size;\n    return this;\n  };\n  PolyfillSet.prototype.delete = function(value) {\n    var result = this.map_.delete(value);\n    this.size = this.map_.size;\n    return result;\n  };\n  PolyfillSet.prototype.clear = function() {\n    this.map_.clear();\n    this.size = 0;\n  };\n  PolyfillSet.prototype.has = function(value) {\n    return this.map_.has(value);\n  };\n  PolyfillSet.prototype.entries = function() {\n    return this.map_.entries();\n  };\n  PolyfillSet.prototype.values = function() {\n    return this.map_.values();\n  };\n  PolyfillSet.prototype.keys = PolyfillSet.prototype.values;\n  PolyfillSet.prototype[Symbol.iterator] = PolyfillSet.prototype.values;\n  PolyfillSet.prototype.forEach = function(callback, opt_thisArg) {\n    var set = this;\n    this.map_.forEach(function(value) {\n      return callback.call(opt_thisArg, value, value, set);\n    });\n  };\n  return PolyfillSet;\n}, \"es6\", \"es3\");\n$jscomp.polyfill(\"Object.values\", function(orig) {\n  return orig ? orig : function(obj) {\n    var result = [], key;\n    for (key in obj) {\n      $jscomp.owns(obj, key) && result.push(obj[key]);\n    }\n    return result;\n  };\n}, \"es8\", \"es3\");\n$jscomp.stringPadding = function(padString, padLength) {\n  var padding = void 0 !== padString ? String(padString) : \" \";\n  return 0 < padLength && padding ? padding.repeat(Math.ceil(padLength / padding.length)).substring(0, padLength) : \"\";\n};\n$jscomp.polyfill(\"String.prototype.padStart\", function(orig) {\n  return orig ? orig : function(targetLength, opt_padString) {\n    var string = $jscomp.checkStringArgs(this, null, \"padStart\");\n    return $jscomp.stringPadding(opt_padString, targetLength - string.length) + string;\n  };\n}, \"es8\", \"es3\");\nvar goog = goog || {};\ngoog.global = this || self;\ngoog.exportPath_ = function(name, object, overwriteImplicit, objectToExportTo) {\n  var parts = name.split(\".\"), cur = objectToExportTo || goog.global;\n  parts[0] in cur || \"undefined\" == typeof cur.execScript || cur.execScript(\"var \" + parts[0]);\n  for (var part; parts.length && (part = parts.shift());) {\n    if (parts.length || void 0 === object) {\n      cur = cur[part] && cur[part] !== Object.prototype[part] ? cur[part] : cur[part] = {};\n    } else {\n      if (!overwriteImplicit && goog.isObject(object) && goog.isObject(cur[part])) {\n        for (var prop in object) {\n          object.hasOwnProperty(prop) && (cur[part][prop] = object[prop]);\n        }\n      } else {\n        cur[part] = object;\n      }\n    }\n  }\n};\ngoog.define = function(name, defaultValue) {\n  var defines, uncompiledDefines;\n  return defaultValue;\n};\ngoog.FEATURESET_YEAR = 2012;\ngoog.DEBUG = !0;\ngoog.LOCALE = \"en\";\ngoog.getLocale = function() {\n  return \"en\";\n};\ngoog.TRUSTED_SITE = !0;\ngoog.DISALLOW_TEST_ONLY_CODE = !goog.DEBUG;\ngoog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING = !1;\ngoog.readFlagInternalDoNotUseOrElse = function(googFlagId, defaultValue) {\n  var obj = goog.getObjectByName(goog.FLAGS_OBJECT_), val = obj && obj[googFlagId];\n  return null != val ? val : defaultValue;\n};\ngoog.FLAGS_OBJECT_ = \"CLOSURE_FLAGS\";\ngoog.provide = function(name) {\n  if (goog.isInModuleLoader_()) {\n    throw Error(\"goog.provide cannot be used within a module.\");\n  }\n  goog.constructNamespace_(name);\n};\ngoog.constructNamespace_ = function(name, object, overwriteImplicit) {\n  var namespace;\n  goog.exportPath_(name, object, overwriteImplicit);\n};\ngoog.NONCE_PATTERN_ = /^[\\w+/_-]+[=]{0,2}$/;\ngoog.getScriptNonce_ = function(opt_window) {\n  var doc = (opt_window || goog.global).document, script = doc.querySelector && doc.querySelector(\"script[nonce]\");\n  if (script) {\n    var nonce = script.nonce || script.getAttribute(\"nonce\");\n    if (nonce && goog.NONCE_PATTERN_.test(nonce)) {\n      return nonce;\n    }\n  }\n  return \"\";\n};\ngoog.VALID_MODULE_RE_ = /^[a-zA-Z_$][a-zA-Z0-9._$]*$/;\ngoog.module = function(name) {\n  if (\"string\" !== typeof name || !name || -1 == name.search(goog.VALID_MODULE_RE_)) {\n    throw Error(\"Invalid module identifier\");\n  }\n  if (!goog.isInGoogModuleLoader_()) {\n    throw Error(\"Module \" + name + \" has been loaded incorrectly. Note, modules cannot be loaded as normal scripts. They require some kind of pre-processing step. You're likely trying to load a module via a script tag or as a part of a concatenated bundle without rewriting the module. For more info see: https://github.com/google/closure-library/wiki/goog.module:-an-ES6-module-like-alternative-to-goog.provide.\");\n  }\n  if (goog.moduleLoaderState_.moduleName) {\n    throw Error(\"goog.module may only be called once per module.\");\n  }\n  goog.moduleLoaderState_.moduleName = name;\n};\ngoog.module.get = function(name) {\n  return goog.module.getInternal_(name);\n};\ngoog.module.getInternal_ = function(name) {\n  var ns;\n  return null;\n};\ngoog.requireDynamic = function(name) {\n  return null;\n};\ngoog.importHandler_ = null;\ngoog.uncompiledChunkIdHandler_ = null;\ngoog.setImportHandlerInternalDoNotCallOrElse = function(fn) {\n  goog.importHandler_ = fn;\n};\ngoog.setUncompiledChunkIdHandlerInternalDoNotCallOrElse = function(fn) {\n  goog.uncompiledChunkIdHandler_ = fn;\n};\ngoog.ModuleType = {ES6:\"es6\", GOOG:\"goog\"};\ngoog.moduleLoaderState_ = null;\ngoog.isInModuleLoader_ = function() {\n  return goog.isInGoogModuleLoader_() || goog.isInEs6ModuleLoader_();\n};\ngoog.isInGoogModuleLoader_ = function() {\n  return !!goog.moduleLoaderState_ && goog.moduleLoaderState_.type == goog.ModuleType.GOOG;\n};\ngoog.isInEs6ModuleLoader_ = function() {\n  if (goog.moduleLoaderState_ && goog.moduleLoaderState_.type == goog.ModuleType.ES6) {\n    return !0;\n  }\n  var jscomp = goog.global.$jscomp;\n  return jscomp ? \"function\" != typeof jscomp.getCurrentModulePath ? !1 : !!jscomp.getCurrentModulePath() : !1;\n};\ngoog.module.declareLegacyNamespace = function() {\n  goog.moduleLoaderState_.declareLegacyNamespace = !0;\n};\ngoog.declareModuleId = function(namespace) {\n  if (goog.moduleLoaderState_) {\n    goog.moduleLoaderState_.moduleName = namespace;\n  } else {\n    var jscomp = goog.global.$jscomp;\n    if (!jscomp || \"function\" != typeof jscomp.getCurrentModulePath) {\n      throw Error('Module with namespace \"' + namespace + '\" has been loaded incorrectly.');\n    }\n    var exports = jscomp.require(jscomp.getCurrentModulePath());\n    goog.loadedModules_[namespace] = {exports:exports, type:goog.ModuleType.ES6, moduleId:namespace};\n  }\n};\ngoog.setTestOnly = function(opt_message) {\n  if (goog.DISALLOW_TEST_ONLY_CODE) {\n    throw opt_message = opt_message || \"\", Error(\"Importing test-only code into non-debug environment\" + (opt_message ? \": \" + opt_message : \".\"));\n  }\n};\ngoog.forwardDeclare = function(name) {\n};\ngoog.getObjectByName = function(name, opt_obj) {\n  for (var parts = name.split(\".\"), cur = opt_obj || goog.global, i = 0; i < parts.length; i++) {\n    if (cur = cur[parts[i]], null == cur) {\n      return null;\n    }\n  }\n  return cur;\n};\ngoog.addDependency = function(relPath, provides, requires, opt_loadFlags) {\n};\ngoog.ENABLE_DEBUG_LOADER = !0;\ngoog.logToConsole_ = function(msg) {\n  goog.global.console && goog.global.console.error(msg);\n};\ngoog.require = function(namespace) {\n  var moduleLoaderState;\n};\ngoog.requireType = function(namespace) {\n  return {};\n};\ngoog.basePath = \"\";\ngoog.abstractMethod = function() {\n  throw Error(\"unimplemented abstract method\");\n};\ngoog.addSingletonGetter = function(ctor) {\n  ctor.instance_ = void 0;\n  ctor.getInstance = function() {\n    if (ctor.instance_) {\n      return ctor.instance_;\n    }\n    goog.DEBUG && (goog.instantiatedSingletons_[goog.instantiatedSingletons_.length] = ctor);\n    return ctor.instance_ = new ctor();\n  };\n};\ngoog.instantiatedSingletons_ = [];\ngoog.LOAD_MODULE_USING_EVAL = !0;\ngoog.SEAL_MODULE_EXPORTS = goog.DEBUG;\ngoog.loadedModules_ = {};\ngoog.DEPENDENCIES_ENABLED = !1;\ngoog.TRANSPILE = \"detect\";\ngoog.ASSUME_ES_MODULES_TRANSPILED = !1;\ngoog.TRUSTED_TYPES_POLICY_NAME = \"goog\";\ngoog.hasBadLetScoping = null;\ngoog.loadModule = function(moduleDef) {\n  var previousState = goog.moduleLoaderState_;\n  try {\n    goog.moduleLoaderState_ = {moduleName:\"\", declareLegacyNamespace:!1, type:goog.ModuleType.GOOG};\n    var origExports = {}, exports = origExports;\n    if (\"function\" === typeof moduleDef) {\n      exports = moduleDef.call(void 0, exports);\n    } else if (\"string\" === typeof moduleDef) {\n      exports = goog.loadModuleFromSource_.call(void 0, exports, moduleDef);\n    } else {\n      throw Error(\"Invalid module definition\");\n    }\n    var moduleName = goog.moduleLoaderState_.moduleName;\n    if (\"string\" === typeof moduleName && moduleName) {\n      goog.moduleLoaderState_.declareLegacyNamespace ? goog.constructNamespace_(moduleName, exports, origExports !== exports) : goog.SEAL_MODULE_EXPORTS && Object.seal && \"object\" == typeof exports && null != exports && Object.seal(exports), goog.loadedModules_[moduleName] = {exports:exports, type:goog.ModuleType.GOOG, moduleId:goog.moduleLoaderState_.moduleName};\n    } else {\n      throw Error('Invalid module name \"' + moduleName + '\"');\n    }\n  } finally {\n    goog.moduleLoaderState_ = previousState;\n  }\n};\ngoog.loadModuleFromSource_ = function(exports, JSCompiler_OptimizeArgumentsArray_p0) {\n  eval(goog.CLOSURE_EVAL_PREFILTER_.createScript(JSCompiler_OptimizeArgumentsArray_p0));\n  return exports;\n};\ngoog.normalizePath_ = function(path) {\n  for (var components = path.split(\"/\"), i = 0; i < components.length;) {\n    \".\" == components[i] ? components.splice(i, 1) : i && \"..\" == components[i] && components[i - 1] && \"..\" != components[i - 1] ? components.splice(--i, 2) : i++;\n  }\n  return components.join(\"/\");\n};\ngoog.loadFileSync_ = function(src) {\n  if (goog.global.CLOSURE_LOAD_FILE_SYNC) {\n    return goog.global.CLOSURE_LOAD_FILE_SYNC(src);\n  }\n  try {\n    var xhr = new goog.global.XMLHttpRequest();\n    xhr.open(\"get\", src, !1);\n    xhr.send();\n    return 0 == xhr.status || 200 == xhr.status ? xhr.responseText : null;\n  } catch (err) {\n    return null;\n  }\n};\ngoog.typeOf = function(value) {\n  var s = typeof value;\n  return \"object\" != s ? s : value ? Array.isArray(value) ? \"array\" : s : \"null\";\n};\ngoog.isArrayLike = function(val) {\n  var type = goog.typeOf(val);\n  return \"array\" == type || \"object\" == type && \"number\" == typeof val.length;\n};\ngoog.isDateLike = function(val) {\n  return goog.isObject(val) && \"function\" == typeof val.getFullYear;\n};\ngoog.isObject = function(val) {\n  var type = typeof val;\n  return \"object\" == type && null != val || \"function\" == type;\n};\ngoog.getUid = function(obj) {\n  return Object.prototype.hasOwnProperty.call(obj, goog.UID_PROPERTY_) && obj[goog.UID_PROPERTY_] || (obj[goog.UID_PROPERTY_] = ++goog.uidCounter_);\n};\ngoog.hasUid = function(obj) {\n  return !!obj[goog.UID_PROPERTY_];\n};\ngoog.removeUid = function(obj) {\n  null !== obj && \"removeAttribute\" in obj && obj.removeAttribute(goog.UID_PROPERTY_);\n  try {\n    delete obj[goog.UID_PROPERTY_];\n  } catch (ex) {\n  }\n};\ngoog.UID_PROPERTY_ = \"closure_uid_\" + (1E9 * Math.random() >>> 0);\ngoog.uidCounter_ = 0;\ngoog.cloneObject = function(obj) {\n  var type = goog.typeOf(obj);\n  if (\"object\" == type || \"array\" == type) {\n    if (\"function\" === typeof obj.clone) {\n      return obj.clone();\n    }\n    if (\"undefined\" !== typeof Map && obj instanceof Map) {\n      return new Map(obj);\n    }\n    if (\"undefined\" !== typeof Set && obj instanceof Set) {\n      return new Set(obj);\n    }\n    var clone = \"array\" == type ? [] : {}, key;\n    for (key in obj) {\n      clone[key] = goog.cloneObject(obj[key]);\n    }\n    return clone;\n  }\n  return obj;\n};\ngoog.bindNative_ = function(fn, selfObj, var_args) {\n  return fn.call.apply(fn.bind, arguments);\n};\ngoog.bindJs_ = function(fn, selfObj, var_args) {\n  if (!fn) {\n    throw Error();\n  }\n  if (2 < arguments.length) {\n    var boundArgs = Array.prototype.slice.call(arguments, 2);\n    return function() {\n      var newArgs = Array.prototype.slice.call(arguments);\n      Array.prototype.unshift.apply(newArgs, boundArgs);\n      return fn.apply(selfObj, newArgs);\n    };\n  }\n  return function() {\n    return fn.apply(selfObj, arguments);\n  };\n};\ngoog.bind = function(fn, selfObj, var_args) {\n  Function.prototype.bind && -1 != Function.prototype.bind.toString().indexOf(\"native code\") ? goog.bind = goog.bindNative_ : goog.bind = goog.bindJs_;\n  return goog.bind.apply(null, arguments);\n};\ngoog.partial = function(fn, var_args) {\n  var args = Array.prototype.slice.call(arguments, 1);\n  return function() {\n    var newArgs = args.slice();\n    newArgs.push.apply(newArgs, arguments);\n    return fn.apply(this, newArgs);\n  };\n};\ngoog.now = function() {\n  return Date.now();\n};\ngoog.globalEval = function(script) {\n  (0,eval)(script);\n};\ngoog.getCssName = function(className, opt_modifier) {\n  if (\".\" == String(className).charAt(0)) {\n    throw Error('className passed in goog.getCssName must not start with \".\". You passed: ' + className);\n  }\n  var getMapping = function(cssName) {\n    return goog.cssNameMapping_[cssName] || cssName;\n  }, renameByParts = function(cssName) {\n    for (var parts = cssName.split(\"-\"), mapped = [], i = 0; i < parts.length; i++) {\n      mapped.push(getMapping(parts[i]));\n    }\n    return mapped.join(\"-\");\n  };\n  var rename = goog.cssNameMapping_ ? \"BY_WHOLE\" == goog.cssNameMappingStyle_ ? getMapping : renameByParts : function(a) {\n    return a;\n  };\n  var result = opt_modifier ? className + \"-\" + rename(opt_modifier) : rename(className);\n  return goog.global.CLOSURE_CSS_NAME_MAP_FN ? goog.global.CLOSURE_CSS_NAME_MAP_FN(result) : result;\n};\ngoog.setCssNameMapping = function(mapping, opt_style) {\n  goog.cssNameMapping_ = mapping;\n  goog.cssNameMappingStyle_ = opt_style;\n};\ngoog.GetMsgOptions = function() {\n};\ngoog.getMsg = function(str, opt_values, opt_options) {\n  opt_options && opt_options.html && (str = str.replace(/</g, \"&lt;\"));\n  opt_options && opt_options.unescapeHtmlEntities && (str = str.replace(/&lt;/g, \"<\").replace(/&gt;/g, \">\").replace(/&apos;/g, \"'\").replace(/&quot;/g, '\"').replace(/&amp;/g, \"&\"));\n  opt_values && (str = str.replace(/\\{\\$([^}]+)}/g, function(match, key) {\n    return null != opt_values && key in opt_values ? opt_values[key] : match;\n  }));\n  return str;\n};\ngoog.getMsgWithFallback = function(a, b) {\n  return a;\n};\ngoog.exportSymbol = function(publicPath, object, objectToExportTo) {\n  goog.exportPath_(publicPath, object, !0, objectToExportTo);\n};\ngoog.exportProperty = function(object, publicName, symbol) {\n  object[publicName] = symbol;\n};\ngoog.inherits = function(childCtor, parentCtor) {\n  function tempCtor() {\n  }\n  tempCtor.prototype = parentCtor.prototype;\n  childCtor.superClass_ = parentCtor.prototype;\n  childCtor.prototype = new tempCtor();\n  childCtor.prototype.constructor = childCtor;\n  childCtor.base = function(me, methodName, var_args) {\n    for (var args = Array(arguments.length - 2), i = 2; i < arguments.length; i++) {\n      args[i - 2] = arguments[i];\n    }\n    return parentCtor.prototype[methodName].apply(me, args);\n  };\n};\ngoog.scope = function(fn) {\n  if (goog.isInModuleLoader_()) {\n    throw Error(\"goog.scope is not supported within a module.\");\n  }\n  fn.call(goog.global);\n};\ngoog.defineClass = function(superClass, def) {\n  var constructor = def.constructor, statics = def.statics;\n  constructor && constructor != Object.prototype.constructor || (constructor = function() {\n    throw Error(\"cannot instantiate an interface (no constructor defined).\");\n  });\n  var cls = goog.defineClass.createSealingConstructor_(constructor, superClass);\n  superClass && goog.inherits(cls, superClass);\n  delete def.constructor;\n  delete def.statics;\n  goog.defineClass.applyProperties_(cls.prototype, def);\n  null != statics && (statics instanceof Function ? statics(cls) : goog.defineClass.applyProperties_(cls, statics));\n  return cls;\n};\ngoog.defineClass.SEAL_CLASS_INSTANCES = goog.DEBUG;\ngoog.defineClass.createSealingConstructor_ = function(ctr, superClass) {\n  return goog.defineClass.SEAL_CLASS_INSTANCES ? function() {\n    var instance = ctr.apply(this, arguments) || this;\n    instance[goog.UID_PROPERTY_] = instance[goog.UID_PROPERTY_];\n    return instance;\n  } : ctr;\n};\ngoog.defineClass.OBJECT_PROTOTYPE_FIELDS_ = \"constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf\".split(\" \");\ngoog.defineClass.applyProperties_ = function(target, source) {\n  for (var key in source) {\n    Object.prototype.hasOwnProperty.call(source, key) && (target[key] = source[key]);\n  }\n  for (var i = 0; i < goog.defineClass.OBJECT_PROTOTYPE_FIELDS_.length; i++) {\n    key = goog.defineClass.OBJECT_PROTOTYPE_FIELDS_[i], Object.prototype.hasOwnProperty.call(source, key) && (target[key] = source[key]);\n  }\n};\ngoog.identity_ = function(s) {\n  return s;\n};\ngoog.createTrustedTypesPolicy = function(name) {\n  var policy = null, policyFactory = goog.global.trustedTypes;\n  if (!policyFactory || !policyFactory.createPolicy) {\n    return policy;\n  }\n  try {\n    policy = policyFactory.createPolicy(name, {createHTML:goog.identity_, createScript:goog.identity_, createScriptURL:goog.identity_});\n  } catch (e) {\n    goog.logToConsole_(e.message);\n  }\n  return policy;\n};\nfunction module$contents$goog$dispose_dispose(obj) {\n  obj && \"function\" == typeof obj.dispose && obj.dispose();\n}\ngoog.dispose = module$contents$goog$dispose_dispose;\nfunction module$contents$goog$disposeAll_disposeAll(var_args) {\n  for (var i = 0, len = arguments.length; i < len; ++i) {\n    var disposable = arguments[i];\n    goog.isArrayLike(disposable) ? module$contents$goog$disposeAll_disposeAll.apply(null, disposable) : module$contents$goog$dispose_dispose(disposable);\n  }\n}\ngoog.disposeAll = module$contents$goog$disposeAll_disposeAll;\ngoog.disposable = {};\ngoog.disposable.IDisposable = function() {\n};\ngoog.Disposable = function() {\n  goog.Disposable.MONITORING_MODE != goog.Disposable.MonitoringMode.OFF && (goog.Disposable.INCLUDE_STACK_ON_CREATION && (this.creationStack = Error().stack), goog.Disposable.instances_[goog.getUid(this)] = this);\n  this.disposed_ = this.disposed_;\n  this.onDisposeCallbacks_ = this.onDisposeCallbacks_;\n};\ngoog.Disposable.MonitoringMode = {OFF:0, PERMANENT:1, INTERACTIVE:2};\ngoog.Disposable.MONITORING_MODE = 0;\ngoog.Disposable.INCLUDE_STACK_ON_CREATION = !0;\ngoog.Disposable.instances_ = {};\ngoog.Disposable.getUndisposedObjects = function() {\n  var ret = [], id;\n  for (id in goog.Disposable.instances_) {\n    goog.Disposable.instances_.hasOwnProperty(id) && ret.push(goog.Disposable.instances_[Number(id)]);\n  }\n  return ret;\n};\ngoog.Disposable.clearUndisposedObjects = function() {\n  goog.Disposable.instances_ = {};\n};\ngoog.Disposable.prototype.disposed_ = !1;\ngoog.Disposable.prototype.isDisposed = function() {\n  return this.disposed_;\n};\ngoog.Disposable.prototype.getDisposed = goog.Disposable.prototype.isDisposed;\ngoog.Disposable.prototype.dispose = function() {\n  if (!this.disposed_ && (this.disposed_ = !0, this.disposeInternal(), goog.Disposable.MONITORING_MODE != goog.Disposable.MonitoringMode.OFF)) {\n    var uid = goog.getUid(this);\n    if (goog.Disposable.MONITORING_MODE == goog.Disposable.MonitoringMode.PERMANENT && !goog.Disposable.instances_.hasOwnProperty(uid)) {\n      throw Error(this + \" did not call the goog.Disposable base constructor or was disposed of after a clearUndisposedObjects call\");\n    }\n    if (goog.Disposable.MONITORING_MODE != goog.Disposable.MonitoringMode.OFF && this.onDisposeCallbacks_ && 0 < this.onDisposeCallbacks_.length) {\n      throw Error(this + \" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.\");\n    }\n    delete goog.Disposable.instances_[uid];\n  }\n};\ngoog.Disposable.prototype.registerDisposable = function(disposable) {\n  this.addOnDisposeCallback(goog.partial(module$contents$goog$dispose_dispose, disposable));\n};\ngoog.Disposable.prototype.addOnDisposeCallback = function(callback, opt_scope) {\n  this.disposed_ ? void 0 !== opt_scope ? callback.call(opt_scope) : callback() : (this.onDisposeCallbacks_ || (this.onDisposeCallbacks_ = []), this.onDisposeCallbacks_.push(void 0 !== opt_scope ? goog.bind(callback, opt_scope) : callback));\n};\ngoog.Disposable.prototype.disposeInternal = function() {\n  if (this.onDisposeCallbacks_) {\n    for (; this.onDisposeCallbacks_.length;) {\n      this.onDisposeCallbacks_.shift()();\n    }\n  }\n};\ngoog.Disposable.isDisposed = function(obj) {\n  return obj && \"function\" == typeof obj.isDisposed ? obj.isDisposed() : !1;\n};\ngoog.events = {};\ngoog.events.EventId = function(eventId) {\n  this.id = eventId;\n};\ngoog.events.EventId.prototype.toString = function() {\n  return this.id;\n};\ngoog.events.Event = function(type, opt_target) {\n  this.type = type instanceof goog.events.EventId ? String(type) : type;\n  this.currentTarget = this.target = opt_target;\n  this.defaultPrevented = this.propagationStopped_ = !1;\n};\ngoog.events.Event.prototype.hasPropagationStopped = function() {\n  return this.propagationStopped_;\n};\ngoog.events.Event.prototype.stopPropagation = function() {\n  this.propagationStopped_ = !0;\n};\ngoog.events.Event.prototype.preventDefault = function() {\n  this.defaultPrevented = !0;\n};\ngoog.events.Event.stopPropagation = function(e) {\n  e.stopPropagation();\n};\ngoog.events.Event.preventDefault = function(e) {\n  e.preventDefault();\n};\ngoog.debug = {};\nfunction module$contents$goog$debug$Error_DebugError(msg, cause) {\n  if (Error.captureStackTrace) {\n    Error.captureStackTrace(this, module$contents$goog$debug$Error_DebugError);\n  } else {\n    var stack = Error().stack;\n    stack && (this.stack = stack);\n  }\n  msg && (this.message = String(msg));\n  void 0 !== cause && (this.cause = cause);\n  this.reportErrorToServer = !0;\n}\ngoog.inherits(module$contents$goog$debug$Error_DebugError, Error);\nmodule$contents$goog$debug$Error_DebugError.prototype.name = \"CustomError\";\ngoog.debug.Error = module$contents$goog$debug$Error_DebugError;\ngoog.dom = {};\ngoog.dom.NodeType = {ELEMENT:1, ATTRIBUTE:2, TEXT:3, CDATA_SECTION:4, ENTITY_REFERENCE:5, ENTITY:6, PROCESSING_INSTRUCTION:7, COMMENT:8, DOCUMENT:9, DOCUMENT_TYPE:10, DOCUMENT_FRAGMENT:11, NOTATION:12};\ngoog.asserts = {};\ngoog.asserts.ENABLE_ASSERTS = goog.DEBUG;\nfunction module$contents$goog$asserts_AssertionError(messagePattern, messageArgs) {\n  module$contents$goog$debug$Error_DebugError.call(this, module$contents$goog$asserts_subs(messagePattern, messageArgs));\n  this.messagePattern = messagePattern;\n}\ngoog.inherits(module$contents$goog$asserts_AssertionError, module$contents$goog$debug$Error_DebugError);\ngoog.asserts.AssertionError = module$contents$goog$asserts_AssertionError;\nmodule$contents$goog$asserts_AssertionError.prototype.name = \"AssertionError\";\ngoog.asserts.DEFAULT_ERROR_HANDLER = function(e) {\n  throw e;\n};\nvar module$contents$goog$asserts_errorHandler_ = goog.asserts.DEFAULT_ERROR_HANDLER;\nfunction module$contents$goog$asserts_subs(pattern, subs) {\n  for (var splitParts = pattern.split(\"%s\"), returnString = \"\", subLast = splitParts.length - 1, i = 0; i < subLast; i++) {\n    returnString += splitParts[i] + (i < subs.length ? subs[i] : \"%s\");\n  }\n  return returnString + splitParts[subLast];\n}\nfunction module$contents$goog$asserts_doAssertFailure(defaultMessage, defaultArgs, givenMessage, givenArgs) {\n  var message = \"Assertion failed\";\n  if (givenMessage) {\n    message += \": \" + givenMessage;\n    var args = givenArgs;\n  } else {\n    defaultMessage && (message += \": \" + defaultMessage, args = defaultArgs);\n  }\n  var e = new module$contents$goog$asserts_AssertionError(\"\" + message, args || []);\n  module$contents$goog$asserts_errorHandler_(e);\n}\ngoog.asserts.setErrorHandler = function(errorHandler) {\n  goog.asserts.ENABLE_ASSERTS && (module$contents$goog$asserts_errorHandler_ = errorHandler);\n};\ngoog.asserts.assert = function(condition, opt_message, var_args) {\n  goog.asserts.ENABLE_ASSERTS && !condition && module$contents$goog$asserts_doAssertFailure(\"\", null, opt_message, Array.prototype.slice.call(arguments, 2));\n  return condition;\n};\ngoog.asserts.assertExists = function(value, opt_message, var_args) {\n  goog.asserts.ENABLE_ASSERTS && null == value && module$contents$goog$asserts_doAssertFailure(\"Expected to exist: %s.\", [value], opt_message, Array.prototype.slice.call(arguments, 2));\n  return value;\n};\ngoog.asserts.fail = function(opt_message, var_args) {\n  goog.asserts.ENABLE_ASSERTS && module$contents$goog$asserts_errorHandler_(new module$contents$goog$asserts_AssertionError(\"Failure\" + (opt_message ? \": \" + opt_message : \"\"), Array.prototype.slice.call(arguments, 1)));\n};\ngoog.asserts.assertNumber = function(value, opt_message, var_args) {\n  goog.asserts.ENABLE_ASSERTS && \"number\" !== typeof value && module$contents$goog$asserts_doAssertFailure(\"Expected number but got %s: %s.\", [goog.typeOf(value), value], opt_message, Array.prototype.slice.call(arguments, 2));\n  return value;\n};\ngoog.asserts.assertString = function(value, opt_message, var_args) {\n  goog.asserts.ENABLE_ASSERTS && \"string\" !== typeof value && module$contents$goog$asserts_doAssertFailure(\"Expected string but got %s: %s.\", [goog.typeOf(value), value], opt_message, Array.prototype.slice.call(arguments, 2));\n  return value;\n};\ngoog.asserts.assertFunction = function(value, opt_message, var_args) {\n  goog.asserts.ENABLE_ASSERTS && \"function\" !== typeof value && module$contents$goog$asserts_doAssertFailure(\"Expected function but got %s: %s.\", [goog.typeOf(value), value], opt_message, Array.prototype.slice.call(arguments, 2));\n  return value;\n};\ngoog.asserts.assertObject = function(value, opt_message, var_args) {\n  goog.asserts.ENABLE_ASSERTS && !goog.isObject(value) && module$contents$goog$asserts_doAssertFailure(\"Expected object but got %s: %s.\", [goog.typeOf(value), value], opt_message, Array.prototype.slice.call(arguments, 2));\n  return value;\n};\ngoog.asserts.assertArray = function(value, opt_message, var_args) {\n  goog.asserts.ENABLE_ASSERTS && !Array.isArray(value) && module$contents$goog$asserts_doAssertFailure(\"Expected array but got %s: %s.\", [goog.typeOf(value), value], opt_message, Array.prototype.slice.call(arguments, 2));\n  return value;\n};\ngoog.asserts.assertBoolean = function(value, opt_message, var_args) {\n  goog.asserts.ENABLE_ASSERTS && \"boolean\" !== typeof value && module$contents$goog$asserts_doAssertFailure(\"Expected boolean but got %s: %s.\", [goog.typeOf(value), value], opt_message, Array.prototype.slice.call(arguments, 2));\n  return value;\n};\ngoog.asserts.assertElement = function(value, opt_message, var_args) {\n  !goog.asserts.ENABLE_ASSERTS || goog.isObject(value) && value.nodeType == goog.dom.NodeType.ELEMENT || module$contents$goog$asserts_doAssertFailure(\"Expected Element but got %s: %s.\", [goog.typeOf(value), value], opt_message, Array.prototype.slice.call(arguments, 2));\n  return value;\n};\ngoog.asserts.assertInstanceof = function(value, type, opt_message, var_args) {\n  !goog.asserts.ENABLE_ASSERTS || value instanceof type || module$contents$goog$asserts_doAssertFailure(\"Expected instanceof %s but got %s.\", [module$contents$goog$asserts_getType(type), module$contents$goog$asserts_getType(value)], opt_message, Array.prototype.slice.call(arguments, 3));\n  return value;\n};\ngoog.asserts.assertFinite = function(value, opt_message, var_args) {\n  !goog.asserts.ENABLE_ASSERTS || \"number\" == typeof value && isFinite(value) || module$contents$goog$asserts_doAssertFailure(\"Expected %s to be a finite number but it is not.\", [value], opt_message, Array.prototype.slice.call(arguments, 2));\n  return value;\n};\nfunction module$contents$goog$asserts_getType(value) {\n  return value instanceof Function ? value.displayName || value.name || \"unknown type name\" : value instanceof Object ? value.constructor.displayName || value.constructor.name || Object.prototype.toString.call(value) : null === value ? \"null\" : typeof value;\n}\n;goog.debug.entryPointRegistry = {};\ngoog.debug.entryPointRegistry.EntryPointMonitor = function() {\n};\ngoog.debug.EntryPointMonitor = goog.debug.entryPointRegistry.EntryPointMonitor;\ngoog.debug.entryPointRegistry.refList_ = [];\ngoog.debug.entryPointRegistry.monitors_ = [];\ngoog.debug.entryPointRegistry.monitorsMayExist_ = !1;\ngoog.debug.entryPointRegistry.register = function(callback) {\n  goog.debug.entryPointRegistry.refList_[goog.debug.entryPointRegistry.refList_.length] = callback;\n  if (goog.debug.entryPointRegistry.monitorsMayExist_) {\n    for (var monitors = goog.debug.entryPointRegistry.monitors_, i = 0; i < monitors.length; i++) {\n      callback(goog.bind(monitors[i].wrap, monitors[i]));\n    }\n  }\n};\ngoog.debug.entryPointRegistry.monitorAll = function(monitor) {\n  goog.debug.entryPointRegistry.monitorsMayExist_ = !0;\n  for (var transformer = goog.bind(monitor.wrap, monitor), i = 0; i < goog.debug.entryPointRegistry.refList_.length; i++) {\n    goog.debug.entryPointRegistry.refList_[i](transformer);\n  }\n  goog.debug.entryPointRegistry.monitors_.push(monitor);\n};\ngoog.debug.entryPointRegistry.unmonitorAllIfPossible = function(monitor) {\n  var monitors = goog.debug.entryPointRegistry.monitors_;\n  goog.asserts.assert(monitor == monitors[monitors.length - 1], \"Only the most recent monitor can be unwrapped.\");\n  for (var transformer = goog.bind(monitor.unwrap, monitor), i = 0; i < goog.debug.entryPointRegistry.refList_.length; i++) {\n    goog.debug.entryPointRegistry.refList_[i](transformer);\n  }\n  monitors.length--;\n};\ngoog.array = {};\ngoog.NATIVE_ARRAY_PROTOTYPES = goog.TRUSTED_SITE;\nvar module$contents$goog$array_ASSUME_NATIVE_FUNCTIONS = 2012 < goog.FEATURESET_YEAR;\ngoog.array.ASSUME_NATIVE_FUNCTIONS = module$contents$goog$array_ASSUME_NATIVE_FUNCTIONS;\nfunction module$contents$goog$array_peek(array) {\n  return array[array.length - 1];\n}\ngoog.array.peek = module$contents$goog$array_peek;\ngoog.array.last = module$contents$goog$array_peek;\nvar module$contents$goog$array_indexOf = goog.NATIVE_ARRAY_PROTOTYPES && (module$contents$goog$array_ASSUME_NATIVE_FUNCTIONS || Array.prototype.indexOf) ? function(arr, obj, opt_fromIndex) {\n  goog.asserts.assert(null != arr.length);\n  return Array.prototype.indexOf.call(arr, obj, opt_fromIndex);\n} : function(arr, obj, opt_fromIndex) {\n  var fromIndex = null == opt_fromIndex ? 0 : 0 > opt_fromIndex ? Math.max(0, arr.length + opt_fromIndex) : opt_fromIndex;\n  if (\"string\" === typeof arr) {\n    return \"string\" !== typeof obj || 1 != obj.length ? -1 : arr.indexOf(obj, fromIndex);\n  }\n  for (var i = fromIndex; i < arr.length; i++) {\n    if (i in arr && arr[i] === obj) {\n      return i;\n    }\n  }\n  return -1;\n};\ngoog.array.indexOf = module$contents$goog$array_indexOf;\nvar module$contents$goog$array_lastIndexOf = goog.NATIVE_ARRAY_PROTOTYPES && (module$contents$goog$array_ASSUME_NATIVE_FUNCTIONS || Array.prototype.lastIndexOf) ? function(arr, obj, opt_fromIndex) {\n  goog.asserts.assert(null != arr.length);\n  return Array.prototype.lastIndexOf.call(arr, obj, null == opt_fromIndex ? arr.length - 1 : opt_fromIndex);\n} : function(arr, obj, opt_fromIndex) {\n  var fromIndex = null == opt_fromIndex ? arr.length - 1 : opt_fromIndex;\n  0 > fromIndex && (fromIndex = Math.max(0, arr.length + fromIndex));\n  if (\"string\" === typeof arr) {\n    return \"string\" !== typeof obj || 1 != obj.length ? -1 : arr.lastIndexOf(obj, fromIndex);\n  }\n  for (var i = fromIndex; 0 <= i; i--) {\n    if (i in arr && arr[i] === obj) {\n      return i;\n    }\n  }\n  return -1;\n};\ngoog.array.lastIndexOf = module$contents$goog$array_lastIndexOf;\nvar module$contents$goog$array_forEach = goog.NATIVE_ARRAY_PROTOTYPES && (module$contents$goog$array_ASSUME_NATIVE_FUNCTIONS || Array.prototype.forEach) ? function(arr, f, opt_obj) {\n  goog.asserts.assert(null != arr.length);\n  Array.prototype.forEach.call(arr, f, opt_obj);\n} : function(arr, f, opt_obj) {\n  for (var l = arr.length, arr2 = \"string\" === typeof arr ? arr.split(\"\") : arr, i = 0; i < l; i++) {\n    i in arr2 && f.call(opt_obj, arr2[i], i, arr);\n  }\n};\ngoog.array.forEach = module$contents$goog$array_forEach;\nfunction module$contents$goog$array_forEachRight(arr, f, opt_obj) {\n  for (var l = arr.length, arr2 = \"string\" === typeof arr ? arr.split(\"\") : arr, i = l - 1; 0 <= i; --i) {\n    i in arr2 && f.call(opt_obj, arr2[i], i, arr);\n  }\n}\ngoog.array.forEachRight = module$contents$goog$array_forEachRight;\nvar module$contents$goog$array_filter = goog.NATIVE_ARRAY_PROTOTYPES && (module$contents$goog$array_ASSUME_NATIVE_FUNCTIONS || Array.prototype.filter) ? function(arr, f, opt_obj) {\n  goog.asserts.assert(null != arr.length);\n  return Array.prototype.filter.call(arr, f, opt_obj);\n} : function(arr, f, opt_obj) {\n  for (var l = arr.length, res = [], resLength = 0, arr2 = \"string\" === typeof arr ? arr.split(\"\") : arr, i = 0; i < l; i++) {\n    if (i in arr2) {\n      var val = arr2[i];\n      f.call(opt_obj, val, i, arr) && (res[resLength++] = val);\n    }\n  }\n  return res;\n};\ngoog.array.filter = module$contents$goog$array_filter;\nvar module$contents$goog$array_map = goog.NATIVE_ARRAY_PROTOTYPES && (module$contents$goog$array_ASSUME_NATIVE_FUNCTIONS || Array.prototype.map) ? function(arr, f, opt_obj) {\n  goog.asserts.assert(null != arr.length);\n  return Array.prototype.map.call(arr, f, opt_obj);\n} : function(arr, f, opt_obj) {\n  for (var l = arr.length, res = Array(l), arr2 = \"string\" === typeof arr ? arr.split(\"\") : arr, i = 0; i < l; i++) {\n    i in arr2 && (res[i] = f.call(opt_obj, arr2[i], i, arr));\n  }\n  return res;\n};\ngoog.array.map = module$contents$goog$array_map;\ngoog.array.reduce = goog.NATIVE_ARRAY_PROTOTYPES && (module$contents$goog$array_ASSUME_NATIVE_FUNCTIONS || Array.prototype.reduce) ? function(arr, f, val, opt_obj) {\n  goog.asserts.assert(null != arr.length);\n  opt_obj && (f = goog.bind(f, opt_obj));\n  return Array.prototype.reduce.call(arr, f, val);\n} : function(arr, f, val$jscomp$0, opt_obj) {\n  var rval = val$jscomp$0;\n  module$contents$goog$array_forEach(arr, function(val, index) {\n    rval = f.call(opt_obj, rval, val, index, arr);\n  });\n  return rval;\n};\ngoog.array.reduceRight = goog.NATIVE_ARRAY_PROTOTYPES && (module$contents$goog$array_ASSUME_NATIVE_FUNCTIONS || Array.prototype.reduceRight) ? function(arr, f, val, opt_obj) {\n  goog.asserts.assert(null != arr.length);\n  goog.asserts.assert(null != f);\n  opt_obj && (f = goog.bind(f, opt_obj));\n  return Array.prototype.reduceRight.call(arr, f, val);\n} : function(arr, f, val$jscomp$0, opt_obj) {\n  var rval = val$jscomp$0;\n  module$contents$goog$array_forEachRight(arr, function(val, index) {\n    rval = f.call(opt_obj, rval, val, index, arr);\n  });\n  return rval;\n};\nvar module$contents$goog$array_some = goog.NATIVE_ARRAY_PROTOTYPES && (module$contents$goog$array_ASSUME_NATIVE_FUNCTIONS || Array.prototype.some) ? function(arr, f, opt_obj) {\n  goog.asserts.assert(null != arr.length);\n  return Array.prototype.some.call(arr, f, opt_obj);\n} : function(arr, f, opt_obj) {\n  for (var l = arr.length, arr2 = \"string\" === typeof arr ? arr.split(\"\") : arr, i = 0; i < l; i++) {\n    if (i in arr2 && f.call(opt_obj, arr2[i], i, arr)) {\n      return !0;\n    }\n  }\n  return !1;\n};\ngoog.array.some = module$contents$goog$array_some;\nvar module$contents$goog$array_every = goog.NATIVE_ARRAY_PROTOTYPES && (module$contents$goog$array_ASSUME_NATIVE_FUNCTIONS || Array.prototype.every) ? function(arr, f, opt_obj) {\n  goog.asserts.assert(null != arr.length);\n  return Array.prototype.every.call(arr, f, opt_obj);\n} : function(arr, f, opt_obj) {\n  for (var l = arr.length, arr2 = \"string\" === typeof arr ? arr.split(\"\") : arr, i = 0; i < l; i++) {\n    if (i in arr2 && !f.call(opt_obj, arr2[i], i, arr)) {\n      return !1;\n    }\n  }\n  return !0;\n};\ngoog.array.every = module$contents$goog$array_every;\nfunction module$contents$goog$array_count(arr$jscomp$0, f, opt_obj) {\n  var count = 0;\n  module$contents$goog$array_forEach(arr$jscomp$0, function(element, index, arr) {\n    f.call(opt_obj, element, index, arr) && ++count;\n  }, opt_obj);\n  return count;\n}\ngoog.array.count = module$contents$goog$array_count;\nfunction module$contents$goog$array_find(arr, f, opt_obj) {\n  var i = module$contents$goog$array_findIndex(arr, f, opt_obj);\n  return 0 > i ? null : \"string\" === typeof arr ? arr.charAt(i) : arr[i];\n}\ngoog.array.find = module$contents$goog$array_find;\nfunction module$contents$goog$array_findIndex(arr, f, opt_obj) {\n  for (var l = arr.length, arr2 = \"string\" === typeof arr ? arr.split(\"\") : arr, i = 0; i < l; i++) {\n    if (i in arr2 && f.call(opt_obj, arr2[i], i, arr)) {\n      return i;\n    }\n  }\n  return -1;\n}\ngoog.array.findIndex = module$contents$goog$array_findIndex;\ngoog.array.findRight = function module$contents$goog$array_findRight(arr, f, opt_obj) {\n  var i = module$contents$goog$array_findIndexRight(arr, f, opt_obj);\n  return 0 > i ? null : \"string\" === typeof arr ? arr.charAt(i) : arr[i];\n};\nfunction module$contents$goog$array_findIndexRight(arr, f, opt_obj) {\n  for (var l = arr.length, arr2 = \"string\" === typeof arr ? arr.split(\"\") : arr, i = l - 1; 0 <= i; i--) {\n    if (i in arr2 && f.call(opt_obj, arr2[i], i, arr)) {\n      return i;\n    }\n  }\n  return -1;\n}\ngoog.array.findIndexRight = module$contents$goog$array_findIndexRight;\nfunction module$contents$goog$array_contains(arr, obj) {\n  return 0 <= module$contents$goog$array_indexOf(arr, obj);\n}\ngoog.array.contains = module$contents$goog$array_contains;\nfunction module$contents$goog$array_isEmpty(arr) {\n  return 0 == arr.length;\n}\ngoog.array.isEmpty = module$contents$goog$array_isEmpty;\nfunction module$contents$goog$array_clear(arr) {\n  if (!Array.isArray(arr)) {\n    for (var i = arr.length - 1; 0 <= i; i--) {\n      delete arr[i];\n    }\n  }\n  arr.length = 0;\n}\ngoog.array.clear = module$contents$goog$array_clear;\ngoog.array.insert = function module$contents$goog$array_insert(arr, obj) {\n  module$contents$goog$array_contains(arr, obj) || arr.push(obj);\n};\nfunction module$contents$goog$array_insertAt(arr, obj, opt_i) {\n  module$contents$goog$array_splice(arr, opt_i, 0, obj);\n}\ngoog.array.insertAt = module$contents$goog$array_insertAt;\ngoog.array.insertArrayAt = function module$contents$goog$array_insertArrayAt(arr, elementsToAdd, opt_i) {\n  goog.partial(module$contents$goog$array_splice, arr, opt_i, 0).apply(null, elementsToAdd);\n};\ngoog.array.insertBefore = function module$contents$goog$array_insertBefore(arr, obj, opt_obj2) {\n  var i;\n  2 == arguments.length || 0 > (i = module$contents$goog$array_indexOf(arr, opt_obj2)) ? arr.push(obj) : module$contents$goog$array_insertAt(arr, obj, i);\n};\nfunction module$contents$goog$array_remove(arr, obj) {\n  var i = module$contents$goog$array_indexOf(arr, obj), rv;\n  (rv = 0 <= i) && module$contents$goog$array_removeAt(arr, i);\n  return rv;\n}\ngoog.array.remove = module$contents$goog$array_remove;\nfunction module$contents$goog$array_removeLast(arr, obj) {\n  var i = module$contents$goog$array_lastIndexOf(arr, obj);\n  return 0 <= i ? (module$contents$goog$array_removeAt(arr, i), !0) : !1;\n}\ngoog.array.removeLast = module$contents$goog$array_removeLast;\nfunction module$contents$goog$array_removeAt(arr, i) {\n  goog.asserts.assert(null != arr.length);\n  return 1 == Array.prototype.splice.call(arr, i, 1).length;\n}\ngoog.array.removeAt = module$contents$goog$array_removeAt;\ngoog.array.removeIf = function module$contents$goog$array_removeIf(arr, f, opt_obj) {\n  var i = module$contents$goog$array_findIndex(arr, f, opt_obj);\n  return 0 <= i ? (module$contents$goog$array_removeAt(arr, i), !0) : !1;\n};\ngoog.array.removeAllIf = function module$contents$goog$array_removeAllIf(arr, f, opt_obj) {\n  var removedCount = 0;\n  module$contents$goog$array_forEachRight(arr, function(val, index) {\n    f.call(opt_obj, val, index, arr) && module$contents$goog$array_removeAt(arr, index) && removedCount++;\n  });\n  return removedCount;\n};\nfunction module$contents$goog$array_concat(var_args) {\n  return Array.prototype.concat.apply([], arguments);\n}\ngoog.array.concat = module$contents$goog$array_concat;\ngoog.array.join = function module$contents$goog$array_join(var_args) {\n  return Array.prototype.concat.apply([], arguments);\n};\nfunction module$contents$goog$array_toArray(object) {\n  var length = object.length;\n  if (0 < length) {\n    for (var rv = Array(length), i = 0; i < length; i++) {\n      rv[i] = object[i];\n    }\n    return rv;\n  }\n  return [];\n}\ngoog.array.toArray = module$contents$goog$array_toArray;\ngoog.array.clone = module$contents$goog$array_toArray;\nfunction module$contents$goog$array_extend(arr1, var_args) {\n  for (var i = 1; i < arguments.length; i++) {\n    var arr2 = arguments[i];\n    if (goog.isArrayLike(arr2)) {\n      var len1 = arr1.length || 0, len2 = arr2.length || 0;\n      arr1.length = len1 + len2;\n      for (var j = 0; j < len2; j++) {\n        arr1[len1 + j] = arr2[j];\n      }\n    } else {\n      arr1.push(arr2);\n    }\n  }\n}\ngoog.array.extend = module$contents$goog$array_extend;\nfunction module$contents$goog$array_splice(arr, index, howMany, var_args) {\n  goog.asserts.assert(null != arr.length);\n  return Array.prototype.splice.apply(arr, module$contents$goog$array_slice(arguments, 1));\n}\ngoog.array.splice = module$contents$goog$array_splice;\nfunction module$contents$goog$array_slice(arr, start, opt_end) {\n  goog.asserts.assert(null != arr.length);\n  return 2 >= arguments.length ? Array.prototype.slice.call(arr, start) : Array.prototype.slice.call(arr, start, opt_end);\n}\ngoog.array.slice = module$contents$goog$array_slice;\nfunction module$contents$goog$array_removeDuplicates(arr, opt_rv, opt_hashFn) {\n  for (var returnArray = opt_rv || arr, defaultHashFn = function(item) {\n    return goog.isObject(item) ? \"o\" + goog.getUid(item) : (typeof item).charAt(0) + item;\n  }, hashFn = opt_hashFn || defaultHashFn, cursorInsert = 0, cursorRead = 0, seen = {}; cursorRead < arr.length;) {\n    var current = arr[cursorRead++], key = hashFn(current);\n    Object.prototype.hasOwnProperty.call(seen, key) || (seen[key] = !0, returnArray[cursorInsert++] = current);\n  }\n  returnArray.length = cursorInsert;\n}\ngoog.array.removeDuplicates = module$contents$goog$array_removeDuplicates;\nfunction module$contents$goog$array_binarySearch(arr, target, opt_compareFn) {\n  return module$contents$goog$array_binarySearch_(arr, opt_compareFn || module$contents$goog$array_defaultCompare, !1, target);\n}\ngoog.array.binarySearch = module$contents$goog$array_binarySearch;\ngoog.array.binarySelect = function module$contents$goog$array_binarySelect(arr, evaluator, opt_obj) {\n  return module$contents$goog$array_binarySearch_(arr, evaluator, !0, void 0, opt_obj);\n};\nfunction module$contents$goog$array_binarySearch_(arr, compareFn, isEvaluator, opt_target, opt_selfObj) {\n  for (var left = 0, right = arr.length, found; left < right;) {\n    var middle = left + (right - left >>> 1), compareResult = void 0;\n    compareResult = isEvaluator ? compareFn.call(opt_selfObj, arr[middle], middle, arr) : compareFn(opt_target, arr[middle]);\n    0 < compareResult ? left = middle + 1 : (right = middle, found = !compareResult);\n  }\n  return found ? left : -left - 1;\n}\nfunction module$contents$goog$array_sort(arr, opt_compareFn) {\n  arr.sort(opt_compareFn || module$contents$goog$array_defaultCompare);\n}\ngoog.array.sort = module$contents$goog$array_sort;\ngoog.array.stableSort = function module$contents$goog$array_stableSort(arr, opt_compareFn) {\n  for (var compArr = Array(arr.length), i = 0; i < arr.length; i++) {\n    compArr[i] = {index:i, value:arr[i]};\n  }\n  var valueCompareFn = opt_compareFn || module$contents$goog$array_defaultCompare;\n  module$contents$goog$array_sort(compArr, function stableCompareFn(obj1, obj2) {\n    return valueCompareFn(obj1.value, obj2.value) || obj1.index - obj2.index;\n  });\n  for (var i$35 = 0; i$35 < arr.length; i$35++) {\n    arr[i$35] = compArr[i$35].value;\n  }\n};\nfunction module$contents$goog$array_sortByKey(arr, keyFn, opt_compareFn) {\n  var keyCompareFn = opt_compareFn || module$contents$goog$array_defaultCompare;\n  module$contents$goog$array_sort(arr, function(a, b) {\n    return keyCompareFn(keyFn(a), keyFn(b));\n  });\n}\ngoog.array.sortByKey = module$contents$goog$array_sortByKey;\ngoog.array.sortObjectsByKey = function module$contents$goog$array_sortObjectsByKey(arr, key, opt_compareFn) {\n  module$contents$goog$array_sortByKey(arr, function(obj) {\n    return obj[key];\n  }, opt_compareFn);\n};\nfunction module$contents$goog$array_isSorted(arr, opt_compareFn, opt_strict) {\n  for (var compare = opt_compareFn || module$contents$goog$array_defaultCompare, i = 1; i < arr.length; i++) {\n    var compareResult = compare(arr[i - 1], arr[i]);\n    if (0 < compareResult || 0 == compareResult && opt_strict) {\n      return !1;\n    }\n  }\n  return !0;\n}\ngoog.array.isSorted = module$contents$goog$array_isSorted;\nfunction module$contents$goog$array_equals(arr1, arr2, opt_equalsFn) {\n  if (!goog.isArrayLike(arr1) || !goog.isArrayLike(arr2) || arr1.length != arr2.length) {\n    return !1;\n  }\n  for (var l = arr1.length, equalsFn = opt_equalsFn || module$contents$goog$array_defaultCompareEquality, i = 0; i < l; i++) {\n    if (!equalsFn(arr1[i], arr2[i])) {\n      return !1;\n    }\n  }\n  return !0;\n}\ngoog.array.equals = module$contents$goog$array_equals;\ngoog.array.compare3 = function module$contents$goog$array_compare3(arr1, arr2, opt_compareFn) {\n  for (var compare = opt_compareFn || module$contents$goog$array_defaultCompare, l = Math.min(arr1.length, arr2.length), i = 0; i < l; i++) {\n    var result = compare(arr1[i], arr2[i]);\n    if (0 != result) {\n      return result;\n    }\n  }\n  return module$contents$goog$array_defaultCompare(arr1.length, arr2.length);\n};\nfunction module$contents$goog$array_defaultCompare(a, b) {\n  return a > b ? 1 : a < b ? -1 : 0;\n}\ngoog.array.defaultCompare = module$contents$goog$array_defaultCompare;\ngoog.array.inverseDefaultCompare = function module$contents$goog$array_inverseDefaultCompare(a, b) {\n  return -module$contents$goog$array_defaultCompare(a, b);\n};\nfunction module$contents$goog$array_defaultCompareEquality(a, b) {\n  return a === b;\n}\ngoog.array.defaultCompareEquality = module$contents$goog$array_defaultCompareEquality;\ngoog.array.binaryInsert = function module$contents$goog$array_binaryInsert(array, value, opt_compareFn) {\n  var index = module$contents$goog$array_binarySearch(array, value, opt_compareFn);\n  return 0 > index ? (module$contents$goog$array_insertAt(array, value, -(index + 1)), !0) : !1;\n};\ngoog.array.binaryRemove = function module$contents$goog$array_binaryRemove(array, value, opt_compareFn) {\n  var index = module$contents$goog$array_binarySearch(array, value, opt_compareFn);\n  return 0 <= index ? module$contents$goog$array_removeAt(array, index) : !1;\n};\ngoog.array.bucket = function module$contents$goog$array_bucket(array, sorter, opt_obj) {\n  for (var buckets = {}, i = 0; i < array.length; i++) {\n    var value = array[i], key = sorter.call(opt_obj, value, i, array);\n    void 0 !== key && (buckets[key] || (buckets[key] = [])).push(value);\n  }\n  return buckets;\n};\ngoog.array.bucketToMap = function module$contents$goog$array_bucketToMap(array, sorter) {\n  for (var buckets = new Map(), i = 0; i < array.length; i++) {\n    var value = array[i], key = sorter(value, i, array);\n    if (void 0 !== key) {\n      var bucket = buckets.get(key);\n      bucket || (bucket = [], buckets.set(key, bucket));\n      bucket.push(value);\n    }\n  }\n  return buckets;\n};\ngoog.array.toObject = function module$contents$goog$array_toObject(arr, keyFunc, opt_obj) {\n  var ret = {};\n  module$contents$goog$array_forEach(arr, function(element, index) {\n    ret[keyFunc.call(opt_obj, element, index, arr)] = element;\n  });\n  return ret;\n};\ngoog.array.toMap = function module$contents$goog$array_toMap(arr, keyFunc) {\n  for (var map = new Map(), i = 0; i < arr.length; i++) {\n    var element = arr[i];\n    map.set(keyFunc(element, i, arr), element);\n  }\n  return map;\n};\nfunction module$contents$goog$array_range(startOrEnd, opt_end, opt_step) {\n  var array = [], start = 0, end = startOrEnd, step = opt_step || 1;\n  void 0 !== opt_end && (start = startOrEnd, end = opt_end);\n  if (0 > step * (end - start)) {\n    return [];\n  }\n  if (0 < step) {\n    for (var i = start; i < end; i += step) {\n      array.push(i);\n    }\n  } else {\n    for (var i$36 = start; i$36 > end; i$36 += step) {\n      array.push(i$36);\n    }\n  }\n  return array;\n}\ngoog.array.range = module$contents$goog$array_range;\nfunction module$contents$goog$array_repeat(value, n) {\n  for (var array = [], i = 0; i < n; i++) {\n    array[i] = value;\n  }\n  return array;\n}\ngoog.array.repeat = module$contents$goog$array_repeat;\nfunction module$contents$goog$array_flatten(var_args) {\n  for (var result = [], i = 0; i < arguments.length; i++) {\n    var element = arguments[i];\n    if (Array.isArray(element)) {\n      for (var c = 0; c < element.length; c += 8192) {\n        for (var chunk = module$contents$goog$array_slice(element, c, c + 8192), recurseResult = module$contents$goog$array_flatten.apply(null, chunk), r = 0; r < recurseResult.length; r++) {\n          result.push(recurseResult[r]);\n        }\n      }\n    } else {\n      result.push(element);\n    }\n  }\n  return result;\n}\ngoog.array.flatten = module$contents$goog$array_flatten;\ngoog.array.rotate = function module$contents$goog$array_rotate(array, n) {\n  goog.asserts.assert(null != array.length);\n  array.length && (n %= array.length, 0 < n ? Array.prototype.unshift.apply(array, array.splice(-n, n)) : 0 > n && Array.prototype.push.apply(array, array.splice(0, -n)));\n  return array;\n};\ngoog.array.moveItem = function module$contents$goog$array_moveItem(arr, fromIndex, toIndex) {\n  goog.asserts.assert(0 <= fromIndex && fromIndex < arr.length);\n  goog.asserts.assert(0 <= toIndex && toIndex < arr.length);\n  var removedItems = Array.prototype.splice.call(arr, fromIndex, 1);\n  Array.prototype.splice.call(arr, toIndex, 0, removedItems[0]);\n};\ngoog.array.zip = function module$contents$goog$array_zip(var_args) {\n  if (!arguments.length) {\n    return [];\n  }\n  for (var result = [], minLen = arguments[0].length, i = 1; i < arguments.length; i++) {\n    arguments[i].length < minLen && (minLen = arguments[i].length);\n  }\n  for (var i$37 = 0; i$37 < minLen; i$37++) {\n    for (var value = [], j = 0; j < arguments.length; j++) {\n      value.push(arguments[j][i$37]);\n    }\n    result.push(value);\n  }\n  return result;\n};\ngoog.array.shuffle = function module$contents$goog$array_shuffle(arr, opt_randFn) {\n  for (var randFn = opt_randFn || Math.random, i = arr.length - 1; 0 < i; i--) {\n    var j = Math.floor(randFn() * (i + 1)), tmp = arr[i];\n    arr[i] = arr[j];\n    arr[j] = tmp;\n  }\n};\ngoog.array.copyByIndex = function module$contents$goog$array_copyByIndex(arr, index_arr) {\n  var result = [];\n  module$contents$goog$array_forEach(index_arr, function(index) {\n    result.push(arr[index]);\n  });\n  return result;\n};\ngoog.array.concatMap = function module$contents$goog$array_concatMap(arr, f, opt_obj) {\n  return module$contents$goog$array_concat.apply([], module$contents$goog$array_map(arr, f, opt_obj));\n};\ngoog.debug.errorcontext = {};\ngoog.debug.errorcontext.addErrorContext = function(err, contextKey, contextValue) {\n  err[goog.debug.errorcontext.CONTEXT_KEY_] || (err[goog.debug.errorcontext.CONTEXT_KEY_] = {});\n  err[goog.debug.errorcontext.CONTEXT_KEY_][contextKey] = contextValue;\n};\ngoog.debug.errorcontext.getErrorContext = function(err) {\n  return err[goog.debug.errorcontext.CONTEXT_KEY_] || {};\n};\ngoog.debug.errorcontext.CONTEXT_KEY_ = \"__closure__error__context__984382\";\ngoog.debug.LOGGING_ENABLED = goog.DEBUG;\ngoog.debug.FORCE_SLOPPY_STACKS = !1;\ngoog.debug.CHECK_FOR_THROWN_EVENT = !1;\ngoog.debug.catchErrors = function(logFunc, opt_cancel, opt_target) {\n  var target = opt_target || goog.global, oldErrorHandler = target.onerror, retVal = !!opt_cancel;\n  target.onerror = function(message, url, line, opt_col, opt_error) {\n    oldErrorHandler && oldErrorHandler(message, url, line, opt_col, opt_error);\n    logFunc({message:message, fileName:url, line:line, lineNumber:line, col:opt_col, error:opt_error});\n    return retVal;\n  };\n};\ngoog.debug.expose = function(obj, opt_showFn) {\n  if (\"undefined\" == typeof obj) {\n    return \"undefined\";\n  }\n  if (null == obj) {\n    return \"NULL\";\n  }\n  var str = [], x;\n  for (x in obj) {\n    if (opt_showFn || \"function\" !== typeof obj[x]) {\n      var s = x + \" = \";\n      try {\n        s += obj[x];\n      } catch (e) {\n        s += \"*** \" + e + \" ***\";\n      }\n      str.push(s);\n    }\n  }\n  return str.join(\"\\n\");\n};\ngoog.debug.deepExpose = function(obj$jscomp$0, opt_showFn) {\n  var str$jscomp$0 = [], uidsToCleanup = [], ancestorUids = {}, helper = function(obj, space) {\n    var nestspace = space + \"  \", indentMultiline = function(str) {\n      return str.replace(/\\n/g, \"\\n\" + space);\n    };\n    try {\n      if (void 0 === obj) {\n        str$jscomp$0.push(\"undefined\");\n      } else if (null === obj) {\n        str$jscomp$0.push(\"NULL\");\n      } else if (\"string\" === typeof obj) {\n        str$jscomp$0.push('\"' + indentMultiline(obj) + '\"');\n      } else if (\"function\" === typeof obj) {\n        str$jscomp$0.push(indentMultiline(String(obj)));\n      } else if (goog.isObject(obj)) {\n        goog.hasUid(obj) || uidsToCleanup.push(obj);\n        var uid = goog.getUid(obj);\n        if (ancestorUids[uid]) {\n          str$jscomp$0.push(\"*** reference loop detected (id=\" + uid + \") ***\");\n        } else {\n          ancestorUids[uid] = !0;\n          str$jscomp$0.push(\"{\");\n          for (var x in obj) {\n            if (opt_showFn || \"function\" !== typeof obj[x]) {\n              str$jscomp$0.push(\"\\n\"), str$jscomp$0.push(nestspace), str$jscomp$0.push(x + \" = \"), helper(obj[x], nestspace);\n            }\n          }\n          str$jscomp$0.push(\"\\n\" + space + \"}\");\n          delete ancestorUids[uid];\n        }\n      } else {\n        str$jscomp$0.push(obj);\n      }\n    } catch (e) {\n      str$jscomp$0.push(\"*** \" + e + \" ***\");\n    }\n  };\n  helper(obj$jscomp$0, \"\");\n  for (var i = 0; i < uidsToCleanup.length; i++) {\n    goog.removeUid(uidsToCleanup[i]);\n  }\n  return str$jscomp$0.join(\"\");\n};\ngoog.debug.exposeArray = function(arr) {\n  for (var str = [], i = 0; i < arr.length; i++) {\n    Array.isArray(arr[i]) ? str.push(goog.debug.exposeArray(arr[i])) : str.push(arr[i]);\n  }\n  return \"[ \" + str.join(\", \") + \" ]\";\n};\ngoog.debug.normalizeErrorObject = function(err) {\n  var href = goog.getObjectByName(\"window.location.href\");\n  null == err && (err = 'Unknown Error of type \"null/undefined\"');\n  if (\"string\" === typeof err) {\n    return {message:err, name:\"Unknown error\", lineNumber:\"Not available\", fileName:href, stack:\"Not available\"};\n  }\n  var threwError = !1;\n  try {\n    var lineNumber = err.lineNumber || err.line || \"Not available\";\n  } catch (e) {\n    lineNumber = \"Not available\", threwError = !0;\n  }\n  try {\n    var fileName = err.fileName || err.filename || err.sourceURL || goog.global.$googDebugFname || href;\n  } catch (e$38) {\n    fileName = \"Not available\", threwError = !0;\n  }\n  var stack = goog.debug.serializeErrorStack_(err);\n  if (!(!threwError && err.lineNumber && err.fileName && err.stack && err.message && err.name)) {\n    var message = err.message;\n    if (null == message) {\n      if (err.constructor && err.constructor instanceof Function) {\n        var ctorName = err.constructor.name ? err.constructor.name : goog.debug.getFunctionName(err.constructor);\n        message = 'Unknown Error of type \"' + ctorName + '\"';\n        if (goog.debug.CHECK_FOR_THROWN_EVENT && \"Event\" == ctorName) {\n          try {\n            message = message + ' with Event.type \"' + (err.type || \"\") + '\"';\n          } catch (e$39) {\n          }\n        }\n      } else {\n        message = \"Unknown Error of unknown type\";\n      }\n      \"function\" === typeof err.toString && Object.prototype.toString !== err.toString && (message += \": \" + err.toString());\n    }\n    return {message:message, name:err.name || \"UnknownError\", lineNumber:lineNumber, fileName:fileName, stack:stack || \"Not available\"};\n  }\n  err.stack = stack;\n  return {message:err.message, name:err.name, lineNumber:err.lineNumber, fileName:err.fileName, stack:err.stack};\n};\ngoog.debug.serializeErrorStack_ = function(e, seen) {\n  seen || (seen = {});\n  seen[goog.debug.serializeErrorAsKey_(e)] = !0;\n  var stack = e.stack || \"\", cause = e.cause;\n  cause && !seen[goog.debug.serializeErrorAsKey_(cause)] && (stack += \"\\nCaused by: \", cause.stack && 0 == cause.stack.indexOf(cause.toString()) || (stack += \"string\" === typeof cause ? cause : cause.message + \"\\n\"), stack += goog.debug.serializeErrorStack_(cause, seen));\n  return stack;\n};\ngoog.debug.serializeErrorAsKey_ = function(e) {\n  var keyPrefix = \"\";\n  \"function\" === typeof e.toString && (keyPrefix = \"\" + e);\n  return keyPrefix + e.stack;\n};\ngoog.debug.enhanceError = function(err, opt_message) {\n  if (err instanceof Error) {\n    var error = err;\n  } else {\n    error = Error(err), Error.captureStackTrace && Error.captureStackTrace(error, goog.debug.enhanceError);\n  }\n  error.stack || (error.stack = goog.debug.getStacktrace(goog.debug.enhanceError));\n  if (opt_message) {\n    for (var x = 0; error[\"message\" + x];) {\n      ++x;\n    }\n    error[\"message\" + x] = String(opt_message);\n  }\n  return error;\n};\ngoog.debug.enhanceErrorWithContext = function(err, opt_context) {\n  var error = goog.debug.enhanceError(err);\n  if (opt_context) {\n    for (var key in opt_context) {\n      goog.debug.errorcontext.addErrorContext(error, key, opt_context[key]);\n    }\n  }\n  return error;\n};\ngoog.debug.getStacktraceSimple = function(opt_depth) {\n  if (!goog.debug.FORCE_SLOPPY_STACKS) {\n    var stack = goog.debug.getNativeStackTrace_(goog.debug.getStacktraceSimple);\n    if (stack) {\n      return stack;\n    }\n  }\n  for (var sb = [], fn = arguments.callee.caller, depth = 0; fn && (!opt_depth || depth < opt_depth);) {\n    sb.push(goog.debug.getFunctionName(fn));\n    sb.push(\"()\\n\");\n    try {\n      fn = fn.caller;\n    } catch (e) {\n      sb.push(\"[exception trying to get caller]\\n\");\n      break;\n    }\n    depth++;\n    if (depth >= goog.debug.MAX_STACK_DEPTH) {\n      sb.push(\"[...long stack...]\");\n      break;\n    }\n  }\n  opt_depth && depth >= opt_depth ? sb.push(\"[...reached max depth limit...]\") : sb.push(\"[end]\");\n  return sb.join(\"\");\n};\ngoog.debug.MAX_STACK_DEPTH = 50;\ngoog.debug.getNativeStackTrace_ = function(fn) {\n  var tempErr = Error();\n  if (Error.captureStackTrace) {\n    return Error.captureStackTrace(tempErr, fn), String(tempErr.stack);\n  }\n  try {\n    throw tempErr;\n  } catch (e) {\n    tempErr = e;\n  }\n  var stack = tempErr.stack;\n  return stack ? String(stack) : null;\n};\ngoog.debug.getStacktrace = function(fn) {\n  var stack;\n  goog.debug.FORCE_SLOPPY_STACKS || (stack = goog.debug.getNativeStackTrace_(fn || goog.debug.getStacktrace));\n  stack || (stack = goog.debug.getStacktraceHelper_(fn || arguments.callee.caller, []));\n  return stack;\n};\ngoog.debug.getStacktraceHelper_ = function(fn, visited) {\n  var sb = [];\n  if (module$contents$goog$array_contains(visited, fn)) {\n    sb.push(\"[...circular reference...]\");\n  } else if (fn && visited.length < goog.debug.MAX_STACK_DEPTH) {\n    sb.push(goog.debug.getFunctionName(fn) + \"(\");\n    for (var args = fn.arguments, i = 0; args && i < args.length; i++) {\n      0 < i && sb.push(\", \");\n      var arg = args[i];\n      switch(typeof arg) {\n        case \"object\":\n          var argDesc = arg ? \"object\" : \"null\";\n          break;\n        case \"string\":\n          argDesc = arg;\n          break;\n        case \"number\":\n          argDesc = String(arg);\n          break;\n        case \"boolean\":\n          argDesc = arg ? \"true\" : \"false\";\n          break;\n        case \"function\":\n          argDesc = (argDesc = goog.debug.getFunctionName(arg)) ? argDesc : \"[fn]\";\n          break;\n        default:\n          argDesc = typeof arg;\n      }\n      40 < argDesc.length && (argDesc = argDesc.slice(0, 40) + \"...\");\n      sb.push(argDesc);\n    }\n    visited.push(fn);\n    sb.push(\")\\n\");\n    try {\n      sb.push(goog.debug.getStacktraceHelper_(fn.caller, visited));\n    } catch (e) {\n      sb.push(\"[exception trying to get caller]\\n\");\n    }\n  } else {\n    fn ? sb.push(\"[...long stack...]\") : sb.push(\"[end]\");\n  }\n  return sb.join(\"\");\n};\ngoog.debug.getFunctionName = function(fn) {\n  if (goog.debug.fnNameCache_[fn]) {\n    return goog.debug.fnNameCache_[fn];\n  }\n  var functionSource = String(fn);\n  if (!goog.debug.fnNameCache_[functionSource]) {\n    var matches = /function\\s+([^\\(]+)/m.exec(functionSource);\n    goog.debug.fnNameCache_[functionSource] = matches ? matches[1] : \"[Anonymous]\";\n  }\n  return goog.debug.fnNameCache_[functionSource];\n};\ngoog.debug.makeWhitespaceVisible = function(string) {\n  return string.replace(/ /g, \"[_]\").replace(/\\f/g, \"[f]\").replace(/\\n/g, \"[n]\\n\").replace(/\\r/g, \"[r]\").replace(/\\t/g, \"[t]\");\n};\ngoog.debug.runtimeType = function(value) {\n  return value instanceof Function ? value.displayName || value.name || \"unknown type name\" : value instanceof Object ? value.constructor.displayName || value.constructor.name || Object.prototype.toString.call(value) : null === value ? \"null\" : typeof value;\n};\ngoog.debug.fnNameCache_ = {};\ngoog.debug.freezeInternal_ = goog.DEBUG && Object.freeze || function(arg) {\n  return arg;\n};\ngoog.debug.freeze = function(arg) {\n  return function() {\n    return goog.debug.freezeInternal_(arg);\n  }();\n};\ngoog.events.BrowserFeature = {TOUCH_ENABLED:\"ontouchstart\" in goog.global || !!(goog.global.document && document.documentElement && \"ontouchstart\" in document.documentElement) || !(!goog.global.navigator || !goog.global.navigator.maxTouchPoints && !goog.global.navigator.msMaxTouchPoints), POINTER_EVENTS:\"PointerEvent\" in goog.global, MSPOINTER_EVENTS:!1, PASSIVE_EVENTS:function(fn) {\n  return {valueOf:fn}.valueOf();\n}(function() {\n  if (!goog.global.addEventListener || !Object.defineProperty) {\n    return !1;\n  }\n  var passive = !1, options = Object.defineProperty({}, \"passive\", {get:function() {\n    passive = !0;\n  }});\n  try {\n    goog.global.addEventListener(\"test\", function() {\n    }, options), goog.global.removeEventListener(\"test\", function() {\n    }, options);\n  } catch (e) {\n  }\n  return passive;\n})};\ngoog.labs = {};\ngoog.labs.userAgent = {};\nvar module$contents$goog$labs$userAgent_forceClientHintsInTests = !1;\ngoog.labs.userAgent.setUseClientHintsForTesting = function(use) {\n  module$contents$goog$labs$userAgent_forceClientHintsInTests = use;\n};\ngoog.labs.userAgent.useClientHints = function() {\n  return module$contents$goog$labs$userAgent_forceClientHintsInTests;\n};\ngoog.string = {};\ngoog.string.internal = {};\ngoog.string.internal.startsWith = function(str, prefix) {\n  return 0 == str.lastIndexOf(prefix, 0);\n};\ngoog.string.internal.endsWith = function(str, suffix) {\n  var l = str.length - suffix.length;\n  return 0 <= l && str.indexOf(suffix, l) == l;\n};\ngoog.string.internal.caseInsensitiveStartsWith = function(str, prefix) {\n  return 0 == goog.string.internal.caseInsensitiveCompare(prefix, str.slice(0, prefix.length));\n};\ngoog.string.internal.caseInsensitiveEndsWith = function(str, suffix) {\n  return 0 == goog.string.internal.caseInsensitiveCompare(suffix, str.slice(str.length - suffix.length));\n};\ngoog.string.internal.caseInsensitiveEquals = function(str1, str2) {\n  return str1.toLowerCase() == str2.toLowerCase();\n};\ngoog.string.internal.isEmptyOrWhitespace = function(str) {\n  return /^[\\s\\xa0]*$/.test(str);\n};\ngoog.string.internal.trim = goog.TRUSTED_SITE && String.prototype.trim ? function(str) {\n  return str.trim();\n} : function(str) {\n  return /^[\\s\\xa0]*([\\s\\S]*?)[\\s\\xa0]*$/.exec(str)[1];\n};\ngoog.string.internal.caseInsensitiveCompare = function(str1, str2) {\n  var test1 = String(str1).toLowerCase(), test2 = String(str2).toLowerCase();\n  return test1 < test2 ? -1 : test1 == test2 ? 0 : 1;\n};\ngoog.string.internal.newLineToBr = function(str, opt_xml) {\n  return str.replace(/(\\r\\n|\\r|\\n)/g, opt_xml ? \"<br />\" : \"<br>\");\n};\ngoog.string.internal.htmlEscape = function(str, opt_isLikelyToContainHtmlChars) {\n  if (opt_isLikelyToContainHtmlChars) {\n    str = str.replace(goog.string.internal.AMP_RE_, \"&amp;\").replace(goog.string.internal.LT_RE_, \"&lt;\").replace(goog.string.internal.GT_RE_, \"&gt;\").replace(goog.string.internal.QUOT_RE_, \"&quot;\").replace(goog.string.internal.SINGLE_QUOTE_RE_, \"&#39;\").replace(goog.string.internal.NULL_RE_, \"&#0;\");\n  } else {\n    if (!goog.string.internal.ALL_RE_.test(str)) {\n      return str;\n    }\n    -1 != str.indexOf(\"&\") && (str = str.replace(goog.string.internal.AMP_RE_, \"&amp;\"));\n    -1 != str.indexOf(\"<\") && (str = str.replace(goog.string.internal.LT_RE_, \"&lt;\"));\n    -1 != str.indexOf(\">\") && (str = str.replace(goog.string.internal.GT_RE_, \"&gt;\"));\n    -1 != str.indexOf('\"') && (str = str.replace(goog.string.internal.QUOT_RE_, \"&quot;\"));\n    -1 != str.indexOf(\"'\") && (str = str.replace(goog.string.internal.SINGLE_QUOTE_RE_, \"&#39;\"));\n    -1 != str.indexOf(\"\\x00\") && (str = str.replace(goog.string.internal.NULL_RE_, \"&#0;\"));\n  }\n  return str;\n};\ngoog.string.internal.AMP_RE_ = /&/g;\ngoog.string.internal.LT_RE_ = /</g;\ngoog.string.internal.GT_RE_ = />/g;\ngoog.string.internal.QUOT_RE_ = /\"/g;\ngoog.string.internal.SINGLE_QUOTE_RE_ = /'/g;\ngoog.string.internal.NULL_RE_ = /\\x00/g;\ngoog.string.internal.ALL_RE_ = /[\\x00&<>\"']/;\ngoog.string.internal.whitespaceEscape = function(str, opt_xml) {\n  return goog.string.internal.newLineToBr(str.replace(/  /g, \" &#160;\"), opt_xml);\n};\ngoog.string.internal.contains = function(str, subString) {\n  return -1 != str.indexOf(subString);\n};\ngoog.string.internal.caseInsensitiveContains = function(str, subString) {\n  return goog.string.internal.contains(str.toLowerCase(), subString.toLowerCase());\n};\ngoog.string.internal.compareVersions = function(version1, version2) {\n  for (var order = 0, v1Subs = goog.string.internal.trim(String(version1)).split(\".\"), v2Subs = goog.string.internal.trim(String(version2)).split(\".\"), subCount = Math.max(v1Subs.length, v2Subs.length), subIdx = 0; 0 == order && subIdx < subCount; subIdx++) {\n    var v1Sub = v1Subs[subIdx] || \"\", v2Sub = v2Subs[subIdx] || \"\";\n    do {\n      var v1Comp = /(\\d*)(\\D*)(.*)/.exec(v1Sub) || [\"\", \"\", \"\", \"\"], v2Comp = /(\\d*)(\\D*)(.*)/.exec(v2Sub) || [\"\", \"\", \"\", \"\"];\n      if (0 == v1Comp[0].length && 0 == v2Comp[0].length) {\n        break;\n      }\n      order = goog.string.internal.compareElements_(0 == v1Comp[1].length ? 0 : parseInt(v1Comp[1], 10), 0 == v2Comp[1].length ? 0 : parseInt(v2Comp[1], 10)) || goog.string.internal.compareElements_(0 == v1Comp[2].length, 0 == v2Comp[2].length) || goog.string.internal.compareElements_(v1Comp[2], v2Comp[2]);\n      v1Sub = v1Comp[3];\n      v2Sub = v2Comp[3];\n    } while (0 == order);\n  }\n  return order;\n};\ngoog.string.internal.compareElements_ = function(left, right) {\n  return left < right ? -1 : left > right ? 1 : 0;\n};\ngoog.labs.userAgent.util = {};\nfunction module$contents$goog$labs$userAgent$util_getNativeUserAgentString() {\n  var navigator = module$contents$goog$labs$userAgent$util_getNavigator();\n  if (navigator) {\n    var userAgent = navigator.userAgent;\n    if (userAgent) {\n      return userAgent;\n    }\n  }\n  return \"\";\n}\nfunction module$contents$goog$labs$userAgent$util_getNativeUserAgentData() {\n  var navigator = module$contents$goog$labs$userAgent$util_getNavigator();\n  return navigator ? navigator.userAgentData || null : null;\n}\nfunction module$contents$goog$labs$userAgent$util_getNavigator() {\n  return goog.global.navigator;\n}\nvar module$contents$goog$labs$userAgent$util_userAgentInternal = null, module$contents$goog$labs$userAgent$util_userAgentDataInternal = module$contents$goog$labs$userAgent$util_getNativeUserAgentData();\nfunction module$contents$goog$labs$userAgent$util_getUserAgent() {\n  return null == module$contents$goog$labs$userAgent$util_userAgentInternal ? module$contents$goog$labs$userAgent$util_getNativeUserAgentString() : module$contents$goog$labs$userAgent$util_userAgentInternal;\n}\nfunction module$contents$goog$labs$userAgent$util_getUserAgentData() {\n  return module$contents$goog$labs$userAgent$util_userAgentDataInternal;\n}\nfunction module$contents$goog$labs$userAgent$util_matchUserAgentDataBrand(str) {\n  if (!(0,goog.labs.userAgent.useClientHints)()) {\n    return !1;\n  }\n  var data = module$contents$goog$labs$userAgent$util_getUserAgentData();\n  return data ? data.brands.some(function($jscomp$destructuring$var0) {\n    var brand = $jscomp$destructuring$var0.brand;\n    return brand && (0,goog.string.internal.contains)(brand, str);\n  }) : !1;\n}\nfunction module$contents$goog$labs$userAgent$util_matchUserAgent(str) {\n  return (0,goog.string.internal.contains)(module$contents$goog$labs$userAgent$util_getUserAgent(), str);\n}\nfunction module$contents$goog$labs$userAgent$util_matchUserAgentIgnoreCase(str) {\n  return (0,goog.string.internal.caseInsensitiveContains)(module$contents$goog$labs$userAgent$util_getUserAgent(), str);\n}\nfunction module$contents$goog$labs$userAgent$util_extractVersionTuples(userAgent) {\n  for (var versionRegExp = RegExp(\"([A-Z][\\\\w ]+)/([^\\\\s]+)\\\\s*(?:\\\\((.*?)\\\\))?\", \"g\"), data = [], match; match = versionRegExp.exec(userAgent);) {\n    data.push([match[1], match[2], match[3] || void 0]);\n  }\n  return data;\n}\ngoog.labs.userAgent.util.ASSUME_CLIENT_HINTS_SUPPORT = !1;\ngoog.labs.userAgent.util.extractVersionTuples = module$contents$goog$labs$userAgent$util_extractVersionTuples;\ngoog.labs.userAgent.util.getNativeUserAgentString = module$contents$goog$labs$userAgent$util_getNativeUserAgentString;\ngoog.labs.userAgent.util.getUserAgent = module$contents$goog$labs$userAgent$util_getUserAgent;\ngoog.labs.userAgent.util.getUserAgentData = module$contents$goog$labs$userAgent$util_getUserAgentData;\ngoog.labs.userAgent.util.matchUserAgent = module$contents$goog$labs$userAgent$util_matchUserAgent;\ngoog.labs.userAgent.util.matchUserAgentDataBrand = module$contents$goog$labs$userAgent$util_matchUserAgentDataBrand;\ngoog.labs.userAgent.util.matchUserAgentIgnoreCase = module$contents$goog$labs$userAgent$util_matchUserAgentIgnoreCase;\ngoog.labs.userAgent.util.resetUserAgentData = function module$contents$goog$labs$userAgent$util_resetUserAgentData() {\n  module$contents$goog$labs$userAgent$util_userAgentDataInternal = module$contents$goog$labs$userAgent$util_getNativeUserAgentData();\n};\ngoog.labs.userAgent.util.setUserAgent = function module$contents$goog$labs$userAgent$util_setUserAgent(userAgent) {\n  module$contents$goog$labs$userAgent$util_userAgentInternal = \"string\" === typeof userAgent ? userAgent : module$contents$goog$labs$userAgent$util_getNativeUserAgentString();\n};\ngoog.labs.userAgent.util.setUserAgentData = function module$contents$goog$labs$userAgent$util_setUserAgentData(userAgentData) {\n  module$contents$goog$labs$userAgent$util_userAgentDataInternal = userAgentData;\n};\nvar module$exports$goog$labs$userAgent$highEntropy$highEntropyValue = {AsyncValue:function() {\n}};\nmodule$exports$goog$labs$userAgent$highEntropy$highEntropyValue.AsyncValue.prototype.getIfLoaded = function() {\n};\nmodule$exports$goog$labs$userAgent$highEntropy$highEntropyValue.AsyncValue.prototype.load = function() {\n};\nmodule$exports$goog$labs$userAgent$highEntropy$highEntropyValue.HighEntropyValue = function(key) {\n  this.key_ = key;\n  this.promise_ = this.value_ = void 0;\n  this.pending_ = !1;\n};\nmodule$exports$goog$labs$userAgent$highEntropy$highEntropyValue.HighEntropyValue.prototype.getIfLoaded = function() {\n  if (module$contents$goog$labs$userAgent$util_getUserAgentData()) {\n    return this.value_;\n  }\n};\nmodule$exports$goog$labs$userAgent$highEntropy$highEntropyValue.HighEntropyValue.prototype.load = function() {\n  var $jscomp$async$this = this, userAgentData;\n  return $jscomp.asyncExecutePromiseGeneratorProgram(function($jscomp$generator$context) {\n    if (1 == $jscomp$generator$context.nextAddress) {\n      userAgentData = module$contents$goog$labs$userAgent$util_getUserAgentData();\n      if (!userAgentData) {\n        return $jscomp$generator$context.return(void 0);\n      }\n      $jscomp$async$this.promise_ || ($jscomp$async$this.pending_ = !0, $jscomp$async$this.promise_ = function() {\n        var dataValues;\n        return $jscomp.asyncExecutePromiseGeneratorProgram(function($jscomp$generator$context$1) {\n          if (1 == $jscomp$generator$context$1.nextAddress) {\n            return $jscomp$generator$context$1.setFinallyBlock(2), $jscomp$generator$context$1.yield(userAgentData.getHighEntropyValues([$jscomp$async$this.key_]), 4);\n          }\n          if (2 != $jscomp$generator$context$1.nextAddress) {\n            return dataValues = $jscomp$generator$context$1.yieldResult, $jscomp$async$this.value_ = dataValues[$jscomp$async$this.key_], $jscomp$generator$context$1.return($jscomp$async$this.value_);\n          }\n          $jscomp$generator$context$1.enterFinallyBlock();\n          $jscomp$async$this.pending_ = !1;\n          return $jscomp$generator$context$1.leaveFinallyBlock(0);\n        });\n      }());\n      return $jscomp$generator$context.yield($jscomp$async$this.promise_, 2);\n    }\n    return $jscomp$generator$context.return($jscomp$generator$context.yieldResult);\n  });\n};\nmodule$exports$goog$labs$userAgent$highEntropy$highEntropyValue.HighEntropyValue.prototype.resetForTesting = function() {\n  if (this.pending_) {\n    throw Error(\"Unsafe call to resetForTesting\");\n  }\n  this.value_ = this.promise_ = void 0;\n  this.pending_ = !1;\n};\nmodule$exports$goog$labs$userAgent$highEntropy$highEntropyValue.Version = function(versionString) {\n  this.versionString_ = versionString;\n};\nmodule$exports$goog$labs$userAgent$highEntropy$highEntropyValue.Version.prototype.toVersionStringForLogging = function() {\n  return this.versionString_;\n};\nmodule$exports$goog$labs$userAgent$highEntropy$highEntropyValue.Version.prototype.isAtLeast = function(version) {\n  return 0 <= (0,goog.string.internal.compareVersions)(this.versionString_, version);\n};\nvar module$exports$goog$labs$userAgent$highEntropy$highEntropyData = {};\nmodule$exports$goog$labs$userAgent$highEntropy$highEntropyData.fullVersionList = new module$exports$goog$labs$userAgent$highEntropy$highEntropyValue.HighEntropyValue(\"fullVersionList\");\nmodule$exports$goog$labs$userAgent$highEntropy$highEntropyData.platformVersion = new module$exports$goog$labs$userAgent$highEntropy$highEntropyValue.HighEntropyValue(\"platformVersion\");\ngoog.labs.userAgent.browser = {};\nvar module$contents$goog$labs$userAgent$browser_Brand = {ANDROID_BROWSER:\"Android Browser\", CHROMIUM:\"Chromium\", EDGE:\"Microsoft Edge\", FIREFOX:\"Firefox\", IE:\"Internet Explorer\", OPERA:\"Opera\", SAFARI:\"Safari\", SILK:\"Silk\",};\ngoog.labs.userAgent.browser.Brand = module$contents$goog$labs$userAgent$browser_Brand;\nfunction module$contents$goog$labs$userAgent$browser_useUserAgentDataBrand(ignoreClientHintsFlag) {\n  if (!(void 0 !== ignoreClientHintsFlag && ignoreClientHintsFlag || (0,goog.labs.userAgent.useClientHints)())) {\n    return !1;\n  }\n  var userAgentData = module$contents$goog$labs$userAgent$util_getUserAgentData();\n  return !!userAgentData && 0 < userAgentData.brands.length;\n}\nfunction module$contents$goog$labs$userAgent$browser_hasFullVersionList() {\n  return module$contents$goog$labs$userAgent$browser_isAtLeast(module$contents$goog$labs$userAgent$browser_Brand.CHROMIUM, 98);\n}\nfunction module$contents$goog$labs$userAgent$browser_matchOpera() {\n  return module$contents$goog$labs$userAgent$browser_useUserAgentDataBrand() ? !1 : module$contents$goog$labs$userAgent$util_matchUserAgent(\"Opera\");\n}\nfunction module$contents$goog$labs$userAgent$browser_matchIE() {\n  return module$contents$goog$labs$userAgent$browser_useUserAgentDataBrand() ? !1 : module$contents$goog$labs$userAgent$util_matchUserAgent(\"Trident\") || module$contents$goog$labs$userAgent$util_matchUserAgent(\"MSIE\");\n}\nfunction module$contents$goog$labs$userAgent$browser_matchEdgeHtml() {\n  return module$contents$goog$labs$userAgent$browser_useUserAgentDataBrand() ? !1 : module$contents$goog$labs$userAgent$util_matchUserAgent(\"Edge\");\n}\nfunction module$contents$goog$labs$userAgent$browser_matchEdgeChromium() {\n  return module$contents$goog$labs$userAgent$browser_useUserAgentDataBrand() ? module$contents$goog$labs$userAgent$util_matchUserAgentDataBrand(module$contents$goog$labs$userAgent$browser_Brand.EDGE) : module$contents$goog$labs$userAgent$util_matchUserAgent(\"Edg/\");\n}\nfunction module$contents$goog$labs$userAgent$browser_matchOperaChromium() {\n  return module$contents$goog$labs$userAgent$browser_useUserAgentDataBrand() ? module$contents$goog$labs$userAgent$util_matchUserAgentDataBrand(module$contents$goog$labs$userAgent$browser_Brand.OPERA) : module$contents$goog$labs$userAgent$util_matchUserAgent(\"OPR\");\n}\nfunction module$contents$goog$labs$userAgent$browser_matchFirefox() {\n  return module$contents$goog$labs$userAgent$util_matchUserAgent(\"Firefox\") || module$contents$goog$labs$userAgent$util_matchUserAgent(\"FxiOS\");\n}\nfunction module$contents$goog$labs$userAgent$browser_matchSafari() {\n  return module$contents$goog$labs$userAgent$util_matchUserAgent(\"Safari\") && !(module$contents$goog$labs$userAgent$browser_matchChrome() || module$contents$goog$labs$userAgent$browser_matchCoast() || module$contents$goog$labs$userAgent$browser_matchOpera() || module$contents$goog$labs$userAgent$browser_matchEdgeHtml() || module$contents$goog$labs$userAgent$browser_matchEdgeChromium() || module$contents$goog$labs$userAgent$browser_matchOperaChromium() || module$contents$goog$labs$userAgent$browser_matchFirefox() || \n  module$contents$goog$labs$userAgent$browser_isSilk() || module$contents$goog$labs$userAgent$util_matchUserAgent(\"Android\"));\n}\nfunction module$contents$goog$labs$userAgent$browser_matchCoast() {\n  return module$contents$goog$labs$userAgent$browser_useUserAgentDataBrand() ? !1 : module$contents$goog$labs$userAgent$util_matchUserAgent(\"Coast\");\n}\nfunction module$contents$goog$labs$userAgent$browser_matchChrome() {\n  return module$contents$goog$labs$userAgent$browser_useUserAgentDataBrand() ? module$contents$goog$labs$userAgent$util_matchUserAgentDataBrand(module$contents$goog$labs$userAgent$browser_Brand.CHROMIUM) : (module$contents$goog$labs$userAgent$util_matchUserAgent(\"Chrome\") || module$contents$goog$labs$userAgent$util_matchUserAgent(\"CriOS\")) && !module$contents$goog$labs$userAgent$browser_matchEdgeHtml() || module$contents$goog$labs$userAgent$browser_isSilk();\n}\nfunction module$contents$goog$labs$userAgent$browser_matchAndroidBrowser() {\n  return module$contents$goog$labs$userAgent$util_matchUserAgent(\"Android\") && !(module$contents$goog$labs$userAgent$browser_matchChrome() || module$contents$goog$labs$userAgent$browser_matchFirefox() || module$contents$goog$labs$userAgent$browser_matchOpera() || module$contents$goog$labs$userAgent$browser_isSilk());\n}\nvar module$contents$goog$labs$userAgent$browser_isOpera = module$contents$goog$labs$userAgent$browser_matchOpera;\ngoog.labs.userAgent.browser.isOpera = module$contents$goog$labs$userAgent$browser_matchOpera;\nvar module$contents$goog$labs$userAgent$browser_isIE = module$contents$goog$labs$userAgent$browser_matchIE;\ngoog.labs.userAgent.browser.isIE = module$contents$goog$labs$userAgent$browser_matchIE;\nvar module$contents$goog$labs$userAgent$browser_isEdge = module$contents$goog$labs$userAgent$browser_matchEdgeHtml;\ngoog.labs.userAgent.browser.isEdge = module$contents$goog$labs$userAgent$browser_matchEdgeHtml;\nvar module$contents$goog$labs$userAgent$browser_isEdgeChromium = module$contents$goog$labs$userAgent$browser_matchEdgeChromium;\ngoog.labs.userAgent.browser.isEdgeChromium = module$contents$goog$labs$userAgent$browser_matchEdgeChromium;\nvar module$contents$goog$labs$userAgent$browser_isOperaChromium = module$contents$goog$labs$userAgent$browser_matchOperaChromium;\ngoog.labs.userAgent.browser.isOperaChromium = module$contents$goog$labs$userAgent$browser_matchOperaChromium;\nvar module$contents$goog$labs$userAgent$browser_isFirefox = module$contents$goog$labs$userAgent$browser_matchFirefox;\ngoog.labs.userAgent.browser.isFirefox = module$contents$goog$labs$userAgent$browser_matchFirefox;\nvar module$contents$goog$labs$userAgent$browser_isSafari = module$contents$goog$labs$userAgent$browser_matchSafari;\ngoog.labs.userAgent.browser.isSafari = module$contents$goog$labs$userAgent$browser_matchSafari;\nvar module$contents$goog$labs$userAgent$browser_isCoast = module$contents$goog$labs$userAgent$browser_matchCoast;\ngoog.labs.userAgent.browser.isCoast = module$contents$goog$labs$userAgent$browser_matchCoast;\ngoog.labs.userAgent.browser.isIosWebview = function module$contents$goog$labs$userAgent$browser_matchIosWebview() {\n  return (module$contents$goog$labs$userAgent$util_matchUserAgent(\"iPad\") || module$contents$goog$labs$userAgent$util_matchUserAgent(\"iPhone\")) && !module$contents$goog$labs$userAgent$browser_matchSafari() && !module$contents$goog$labs$userAgent$browser_matchChrome() && !module$contents$goog$labs$userAgent$browser_matchCoast() && !module$contents$goog$labs$userAgent$browser_matchFirefox() && module$contents$goog$labs$userAgent$util_matchUserAgent(\"AppleWebKit\");\n};\nvar module$contents$goog$labs$userAgent$browser_isChrome = module$contents$goog$labs$userAgent$browser_matchChrome;\ngoog.labs.userAgent.browser.isChrome = module$contents$goog$labs$userAgent$browser_matchChrome;\nvar module$contents$goog$labs$userAgent$browser_isAndroidBrowser = module$contents$goog$labs$userAgent$browser_matchAndroidBrowser;\ngoog.labs.userAgent.browser.isAndroidBrowser = module$contents$goog$labs$userAgent$browser_matchAndroidBrowser;\nfunction module$contents$goog$labs$userAgent$browser_isSilk() {\n  return module$contents$goog$labs$userAgent$util_matchUserAgent(\"Silk\");\n}\ngoog.labs.userAgent.browser.isSilk = module$contents$goog$labs$userAgent$browser_isSilk;\nfunction module$contents$goog$labs$userAgent$browser_createVersionMap(versionTuples) {\n  var versionMap = {};\n  versionTuples.forEach(function(tuple) {\n    versionMap[tuple[0]] = tuple[1];\n  });\n  return function(keys) {\n    return versionMap[keys.find(function(key) {\n      return key in versionMap;\n    })] || \"\";\n  };\n}\nfunction module$contents$goog$labs$userAgent$browser_getVersion() {\n  var userAgentString = module$contents$goog$labs$userAgent$util_getUserAgent();\n  if (module$contents$goog$labs$userAgent$browser_matchIE()) {\n    return module$contents$goog$labs$userAgent$browser_getIEVersion(userAgentString);\n  }\n  var versionTuples = module$contents$goog$labs$userAgent$util_extractVersionTuples(userAgentString), lookUpValueWithKeys = module$contents$goog$labs$userAgent$browser_createVersionMap(versionTuples);\n  if (module$contents$goog$labs$userAgent$browser_matchOpera()) {\n    return lookUpValueWithKeys([\"Version\", \"Opera\"]);\n  }\n  if (module$contents$goog$labs$userAgent$browser_matchEdgeHtml()) {\n    return lookUpValueWithKeys([\"Edge\"]);\n  }\n  if (module$contents$goog$labs$userAgent$browser_matchEdgeChromium()) {\n    return lookUpValueWithKeys([\"Edg\"]);\n  }\n  if (module$contents$goog$labs$userAgent$browser_isSilk()) {\n    return lookUpValueWithKeys([\"Silk\"]);\n  }\n  if (module$contents$goog$labs$userAgent$browser_matchChrome()) {\n    return lookUpValueWithKeys([\"Chrome\", \"CriOS\", \"HeadlessChrome\"]);\n  }\n  var tuple = versionTuples[2];\n  return tuple && tuple[1] || \"\";\n}\ngoog.labs.userAgent.browser.getVersion = module$contents$goog$labs$userAgent$browser_getVersion;\ngoog.labs.userAgent.browser.isVersionOrHigher = function module$contents$goog$labs$userAgent$browser_isVersionOrHigher(version) {\n  return 0 <= (0,goog.string.internal.compareVersions)(module$contents$goog$labs$userAgent$browser_getVersion(), version);\n};\nfunction module$contents$goog$labs$userAgent$browser_getIEVersion(userAgent) {\n  var rv = /rv: *([\\d\\.]*)/.exec(userAgent);\n  if (rv && rv[1]) {\n    return rv[1];\n  }\n  var version = \"\", msie = /MSIE +([\\d\\.]+)/.exec(userAgent);\n  if (msie && msie[1]) {\n    var tridentVersion = /Trident\\/(\\d.\\d)/.exec(userAgent);\n    if (\"7.0\" == msie[1]) {\n      if (tridentVersion && tridentVersion[1]) {\n        switch(tridentVersion[1]) {\n          case \"4.0\":\n            version = \"8.0\";\n            break;\n          case \"5.0\":\n            version = \"9.0\";\n            break;\n          case \"6.0\":\n            version = \"10.0\";\n            break;\n          case \"7.0\":\n            version = \"11.0\";\n        }\n      } else {\n        version = \"7.0\";\n      }\n    } else {\n      version = msie[1];\n    }\n  }\n  return version;\n}\nfunction module$contents$goog$labs$userAgent$browser_getFullVersionFromUserAgentString(browser) {\n  var userAgentString = module$contents$goog$labs$userAgent$util_getUserAgent();\n  if (browser === module$contents$goog$labs$userAgent$browser_Brand.IE) {\n    return module$contents$goog$labs$userAgent$browser_matchIE() ? module$contents$goog$labs$userAgent$browser_getIEVersion(userAgentString) : \"\";\n  }\n  var versionTuples = module$contents$goog$labs$userAgent$util_extractVersionTuples(userAgentString), lookUpValueWithKeys = module$contents$goog$labs$userAgent$browser_createVersionMap(versionTuples);\n  switch(browser) {\n    case module$contents$goog$labs$userAgent$browser_Brand.OPERA:\n      if (module$contents$goog$labs$userAgent$browser_matchOpera()) {\n        return lookUpValueWithKeys([\"Version\", \"Opera\"]);\n      }\n      if (module$contents$goog$labs$userAgent$browser_matchOperaChromium()) {\n        return lookUpValueWithKeys([\"OPR\"]);\n      }\n      break;\n    case module$contents$goog$labs$userAgent$browser_Brand.EDGE:\n      if (module$contents$goog$labs$userAgent$browser_matchEdgeHtml()) {\n        return lookUpValueWithKeys([\"Edge\"]);\n      }\n      if (module$contents$goog$labs$userAgent$browser_matchEdgeChromium()) {\n        return lookUpValueWithKeys([\"Edg\"]);\n      }\n      break;\n    case module$contents$goog$labs$userAgent$browser_Brand.CHROMIUM:\n      if (module$contents$goog$labs$userAgent$browser_matchChrome()) {\n        return lookUpValueWithKeys([\"Chrome\", \"CriOS\", \"HeadlessChrome\"]);\n      }\n  }\n  if (browser === module$contents$goog$labs$userAgent$browser_Brand.FIREFOX && module$contents$goog$labs$userAgent$browser_matchFirefox() || browser === module$contents$goog$labs$userAgent$browser_Brand.SAFARI && module$contents$goog$labs$userAgent$browser_matchSafari() || browser === module$contents$goog$labs$userAgent$browser_Brand.ANDROID_BROWSER && module$contents$goog$labs$userAgent$browser_matchAndroidBrowser() || browser === module$contents$goog$labs$userAgent$browser_Brand.SILK && module$contents$goog$labs$userAgent$browser_isSilk()) {\n    var tuple = versionTuples[2];\n    return tuple && tuple[1] || \"\";\n  }\n  return \"\";\n}\nfunction module$contents$goog$labs$userAgent$browser_versionOf_(browser) {\n  if (module$contents$goog$labs$userAgent$browser_useUserAgentDataBrand() && browser !== module$contents$goog$labs$userAgent$browser_Brand.SILK) {\n    var matchingBrand = module$contents$goog$labs$userAgent$util_getUserAgentData().brands.find(function($jscomp$destructuring$var2) {\n      return $jscomp$destructuring$var2.brand === browser;\n    });\n    if (!matchingBrand || !matchingBrand.version) {\n      return NaN;\n    }\n    var versionParts = matchingBrand.version.split(\".\");\n  } else {\n    var fullVersion = module$contents$goog$labs$userAgent$browser_getFullVersionFromUserAgentString(browser);\n    if (\"\" === fullVersion) {\n      return NaN;\n    }\n    versionParts = fullVersion.split(\".\");\n  }\n  return 0 === versionParts.length ? NaN : Number(versionParts[0]);\n}\nfunction module$contents$goog$labs$userAgent$browser_isAtLeast(brand, majorVersion) {\n  (0,goog.asserts.assert)(Math.floor(majorVersion) === majorVersion, \"Major version must be an integer\");\n  return module$contents$goog$labs$userAgent$browser_versionOf_(brand) >= majorVersion;\n}\ngoog.labs.userAgent.browser.isAtLeast = module$contents$goog$labs$userAgent$browser_isAtLeast;\ngoog.labs.userAgent.browser.isAtMost = function module$contents$goog$labs$userAgent$browser_isAtMost(brand, majorVersion) {\n  (0,goog.asserts.assert)(Math.floor(majorVersion) === majorVersion, \"Major version must be an integer\");\n  return module$contents$goog$labs$userAgent$browser_versionOf_(brand) <= majorVersion;\n};\nvar module$contents$goog$labs$userAgent$browser_HighEntropyBrandVersion = function(brand, useUach, fallbackVersion) {\n  this.brand_ = brand;\n  this.version_ = new module$exports$goog$labs$userAgent$highEntropy$highEntropyValue.Version(fallbackVersion);\n  this.useUach_ = useUach;\n};\nmodule$contents$goog$labs$userAgent$browser_HighEntropyBrandVersion.prototype.getIfLoaded = function() {\n  var $jscomp$this = this;\n  if (this.useUach_) {\n    var loadedVersionList = module$exports$goog$labs$userAgent$highEntropy$highEntropyData.fullVersionList.getIfLoaded();\n    if (void 0 !== loadedVersionList) {\n      var matchingBrand = loadedVersionList.find(function($jscomp$destructuring$var4) {\n        return $jscomp$this.brand_ === $jscomp$destructuring$var4.brand;\n      });\n      (0,goog.asserts.assertExists)(matchingBrand);\n      return new module$exports$goog$labs$userAgent$highEntropy$highEntropyValue.Version(matchingBrand.version);\n    }\n  }\n  if (module$contents$goog$labs$userAgent$browser_preUachHasLoaded) {\n    return this.version_;\n  }\n};\nmodule$contents$goog$labs$userAgent$browser_HighEntropyBrandVersion.prototype.load = function() {\n  var $jscomp$async$this = this, loadedVersionList, matchingBrand;\n  return $jscomp.asyncExecutePromiseGeneratorProgram(function($jscomp$generator$context) {\n    if (1 == $jscomp$generator$context.nextAddress) {\n      return $jscomp$async$this.useUach_ ? $jscomp$generator$context.yield(module$exports$goog$labs$userAgent$highEntropy$highEntropyData.fullVersionList.load(), 5) : $jscomp$generator$context.yield(0, 3);\n    }\n    if (3 != $jscomp$generator$context.nextAddress && (loadedVersionList = $jscomp$generator$context.yieldResult, void 0 !== loadedVersionList)) {\n      return matchingBrand = loadedVersionList.find(function($jscomp$destructuring$var6) {\n        return $jscomp$async$this.brand_ === $jscomp$destructuring$var6.brand;\n      }), (0,goog.asserts.assertExists)(matchingBrand), $jscomp$generator$context.return(new module$exports$goog$labs$userAgent$highEntropy$highEntropyValue.Version(matchingBrand.version));\n    }\n    module$contents$goog$labs$userAgent$browser_preUachHasLoaded = !0;\n    return $jscomp$generator$context.return($jscomp$async$this.version_);\n  });\n};\nvar module$contents$goog$labs$userAgent$browser_preUachHasLoaded = !1;\ngoog.labs.userAgent.browser.loadFullVersions = function module$contents$goog$labs$userAgent$browser_loadFullVersions() {\n  return $jscomp.asyncExecutePromiseGeneratorProgram(function($jscomp$generator$context) {\n    if (1 == $jscomp$generator$context.nextAddress) {\n      return module$contents$goog$labs$userAgent$browser_useUserAgentDataBrand(!0) ? $jscomp$generator$context.yield(module$exports$goog$labs$userAgent$highEntropy$highEntropyData.fullVersionList.load(), 2) : $jscomp$generator$context.jumpTo(2);\n    }\n    module$contents$goog$labs$userAgent$browser_preUachHasLoaded = !0;\n    $jscomp$generator$context.jumpToEnd();\n  });\n};\ngoog.labs.userAgent.browser.resetForTesting = function() {\n  module$contents$goog$labs$userAgent$browser_preUachHasLoaded = !1;\n  module$exports$goog$labs$userAgent$highEntropy$highEntropyData.fullVersionList.resetForTesting();\n};\nfunction module$contents$goog$labs$userAgent$browser_fullVersionOf(browser) {\n  var fallbackVersionString = \"\";\n  module$contents$goog$labs$userAgent$browser_hasFullVersionList() || (fallbackVersionString = module$contents$goog$labs$userAgent$browser_getFullVersionFromUserAgentString(browser));\n  var useUach = browser !== module$contents$goog$labs$userAgent$browser_Brand.SILK && module$contents$goog$labs$userAgent$browser_useUserAgentDataBrand(!0);\n  if (useUach) {\n    if (!module$contents$goog$labs$userAgent$util_getUserAgentData().brands.find(function($jscomp$destructuring$var8) {\n      return $jscomp$destructuring$var8.brand === browser;\n    })) {\n      return;\n    }\n  } else if (\"\" === fallbackVersionString) {\n    return;\n  }\n  return new module$contents$goog$labs$userAgent$browser_HighEntropyBrandVersion(browser, useUach, fallbackVersionString);\n}\ngoog.labs.userAgent.browser.fullVersionOf = module$contents$goog$labs$userAgent$browser_fullVersionOf;\ngoog.labs.userAgent.browser.getVersionStringForLogging = function module$contents$goog$labs$userAgent$browser_getVersionStringForLogging(browser) {\n  if (module$contents$goog$labs$userAgent$browser_useUserAgentDataBrand(!0)) {\n    var fullVersionObj = module$contents$goog$labs$userAgent$browser_fullVersionOf(browser);\n    if (fullVersionObj) {\n      var fullVersion = fullVersionObj.getIfLoaded();\n      if (fullVersion) {\n        return fullVersion.toVersionStringForLogging();\n      }\n      var matchingBrand = module$contents$goog$labs$userAgent$util_getUserAgentData().brands.find(function($jscomp$destructuring$var10) {\n        return $jscomp$destructuring$var10.brand === browser;\n      });\n      (0,goog.asserts.assertExists)(matchingBrand);\n      return matchingBrand.version;\n    }\n    return \"\";\n  }\n  return module$contents$goog$labs$userAgent$browser_getFullVersionFromUserAgentString(browser);\n};\ngoog.labs.userAgent.engine = {};\nfunction module$contents$goog$labs$userAgent$engine_isPresto() {\n  return module$contents$goog$labs$userAgent$util_matchUserAgent(\"Presto\");\n}\nfunction module$contents$goog$labs$userAgent$engine_isTrident() {\n  return module$contents$goog$labs$userAgent$util_matchUserAgent(\"Trident\") || module$contents$goog$labs$userAgent$util_matchUserAgent(\"MSIE\");\n}\nfunction module$contents$goog$labs$userAgent$engine_isEdge() {\n  return module$contents$goog$labs$userAgent$util_matchUserAgent(\"Edge\");\n}\nfunction module$contents$goog$labs$userAgent$engine_isWebKit() {\n  return module$contents$goog$labs$userAgent$util_matchUserAgentIgnoreCase(\"WebKit\") && !module$contents$goog$labs$userAgent$engine_isEdge();\n}\nfunction module$contents$goog$labs$userAgent$engine_isGecko() {\n  return module$contents$goog$labs$userAgent$util_matchUserAgent(\"Gecko\") && !module$contents$goog$labs$userAgent$engine_isWebKit() && !module$contents$goog$labs$userAgent$engine_isTrident() && !module$contents$goog$labs$userAgent$engine_isEdge();\n}\nfunction module$contents$goog$labs$userAgent$engine_getVersion() {\n  var userAgentString = module$contents$goog$labs$userAgent$util_getUserAgent();\n  if (userAgentString) {\n    var tuples = module$contents$goog$labs$userAgent$util_extractVersionTuples(userAgentString), engineTuple = module$contents$goog$labs$userAgent$engine_getEngineTuple(tuples);\n    if (engineTuple) {\n      return \"Gecko\" == engineTuple[0] ? module$contents$goog$labs$userAgent$engine_getVersionForKey(tuples, \"Firefox\") : engineTuple[1];\n    }\n    var browserTuple = tuples[0], info;\n    if (browserTuple && (info = browserTuple[2])) {\n      var match = /Trident\\/([^\\s;]+)/.exec(info);\n      if (match) {\n        return match[1];\n      }\n    }\n  }\n  return \"\";\n}\nfunction module$contents$goog$labs$userAgent$engine_getEngineTuple(tuples) {\n  if (!module$contents$goog$labs$userAgent$engine_isEdge()) {\n    return tuples[1];\n  }\n  for (var i = 0; i < tuples.length; i++) {\n    var tuple = tuples[i];\n    if (\"Edge\" == tuple[0]) {\n      return tuple;\n    }\n  }\n}\nfunction module$contents$goog$labs$userAgent$engine_getVersionForKey(tuples, key) {\n  var pair = module$contents$goog$array_find(tuples, function(pair) {\n    return key == pair[0];\n  });\n  return pair && pair[1] || \"\";\n}\ngoog.labs.userAgent.engine.getVersion = module$contents$goog$labs$userAgent$engine_getVersion;\ngoog.labs.userAgent.engine.isEdge = module$contents$goog$labs$userAgent$engine_isEdge;\ngoog.labs.userAgent.engine.isGecko = module$contents$goog$labs$userAgent$engine_isGecko;\ngoog.labs.userAgent.engine.isPresto = module$contents$goog$labs$userAgent$engine_isPresto;\ngoog.labs.userAgent.engine.isTrident = module$contents$goog$labs$userAgent$engine_isTrident;\ngoog.labs.userAgent.engine.isVersionOrHigher = function module$contents$goog$labs$userAgent$engine_isVersionOrHigher(version) {\n  return 0 <= goog.string.internal.compareVersions(module$contents$goog$labs$userAgent$engine_getVersion(), version);\n};\ngoog.labs.userAgent.engine.isWebKit = module$contents$goog$labs$userAgent$engine_isWebKit;\ngoog.labs.userAgent.platform = {};\nfunction module$contents$goog$labs$userAgent$platform_useUserAgentDataPlatform(ignoreClientHintsFlag) {\n  if (!(void 0 !== ignoreClientHintsFlag && ignoreClientHintsFlag || (0,goog.labs.userAgent.useClientHints)())) {\n    return !1;\n  }\n  var userAgentData = module$contents$goog$labs$userAgent$util_getUserAgentData();\n  return !!userAgentData && !!userAgentData.platform;\n}\nfunction module$contents$goog$labs$userAgent$platform_isAndroid() {\n  return module$contents$goog$labs$userAgent$platform_useUserAgentDataPlatform() ? \"Android\" === module$contents$goog$labs$userAgent$util_getUserAgentData().platform : module$contents$goog$labs$userAgent$util_matchUserAgent(\"Android\");\n}\nfunction module$contents$goog$labs$userAgent$platform_isIpod() {\n  return module$contents$goog$labs$userAgent$util_matchUserAgent(\"iPod\");\n}\nfunction module$contents$goog$labs$userAgent$platform_isIphone() {\n  return module$contents$goog$labs$userAgent$util_matchUserAgent(\"iPhone\") && !module$contents$goog$labs$userAgent$util_matchUserAgent(\"iPod\") && !module$contents$goog$labs$userAgent$util_matchUserAgent(\"iPad\");\n}\nfunction module$contents$goog$labs$userAgent$platform_isIpad() {\n  return module$contents$goog$labs$userAgent$util_matchUserAgent(\"iPad\");\n}\nfunction module$contents$goog$labs$userAgent$platform_isIos() {\n  return module$contents$goog$labs$userAgent$platform_isIphone() || module$contents$goog$labs$userAgent$platform_isIpad() || module$contents$goog$labs$userAgent$platform_isIpod();\n}\nfunction module$contents$goog$labs$userAgent$platform_isMacintosh() {\n  return module$contents$goog$labs$userAgent$platform_useUserAgentDataPlatform() ? \"macOS\" === module$contents$goog$labs$userAgent$util_getUserAgentData().platform : module$contents$goog$labs$userAgent$util_matchUserAgent(\"Macintosh\");\n}\nfunction module$contents$goog$labs$userAgent$platform_isLinux() {\n  return module$contents$goog$labs$userAgent$platform_useUserAgentDataPlatform() ? \"Linux\" === module$contents$goog$labs$userAgent$util_getUserAgentData().platform : module$contents$goog$labs$userAgent$util_matchUserAgent(\"Linux\");\n}\nfunction module$contents$goog$labs$userAgent$platform_isWindows() {\n  return module$contents$goog$labs$userAgent$platform_useUserAgentDataPlatform() ? \"Windows\" === module$contents$goog$labs$userAgent$util_getUserAgentData().platform : module$contents$goog$labs$userAgent$util_matchUserAgent(\"Windows\");\n}\nfunction module$contents$goog$labs$userAgent$platform_isChromeOS() {\n  return module$contents$goog$labs$userAgent$platform_useUserAgentDataPlatform() ? \"Chrome OS\" === module$contents$goog$labs$userAgent$util_getUserAgentData().platform : module$contents$goog$labs$userAgent$util_matchUserAgent(\"CrOS\");\n}\nfunction module$contents$goog$labs$userAgent$platform_isKaiOS() {\n  return module$contents$goog$labs$userAgent$util_matchUserAgentIgnoreCase(\"KaiOS\");\n}\nfunction module$contents$goog$labs$userAgent$platform_getVersion() {\n  var userAgentString = module$contents$goog$labs$userAgent$util_getUserAgent(), version = \"\";\n  if (module$contents$goog$labs$userAgent$platform_isWindows()) {\n    var re = /Windows (?:NT|Phone) ([0-9.]+)/;\n    var match = re.exec(userAgentString);\n    version = match ? match[1] : \"0.0\";\n  } else if (module$contents$goog$labs$userAgent$platform_isIos()) {\n    re = /(?:iPhone|iPod|iPad|CPU)\\s+OS\\s+(\\S+)/;\n    var match$40 = re.exec(userAgentString);\n    version = match$40 && match$40[1].replace(/_/g, \".\");\n  } else if (module$contents$goog$labs$userAgent$platform_isMacintosh()) {\n    re = /Mac OS X ([0-9_.]+)/;\n    var match$41 = re.exec(userAgentString);\n    version = match$41 ? match$41[1].replace(/_/g, \".\") : \"10\";\n  } else if (module$contents$goog$labs$userAgent$platform_isKaiOS()) {\n    re = /(?:KaiOS)\\/(\\S+)/i;\n    var match$42 = re.exec(userAgentString);\n    version = match$42 && match$42[1];\n  } else if (module$contents$goog$labs$userAgent$platform_isAndroid()) {\n    re = /Android\\s+([^\\);]+)(\\)|;)/;\n    var match$43 = re.exec(userAgentString);\n    version = match$43 && match$43[1];\n  } else if (module$contents$goog$labs$userAgent$platform_isChromeOS()) {\n    re = /(?:CrOS\\s+(?:i686|x86_64)\\s+([0-9.]+))/;\n    var match$44 = re.exec(userAgentString);\n    version = match$44 && match$44[1];\n  }\n  return version || \"\";\n}\nvar module$contents$goog$labs$userAgent$platform_PlatformVersion = function() {\n  this.preUachHasLoaded_ = !1;\n};\nmodule$contents$goog$labs$userAgent$platform_PlatformVersion.prototype.getIfLoaded = function() {\n  if (module$contents$goog$labs$userAgent$platform_useUserAgentDataPlatform(!0)) {\n    var loadedPlatformVersion = module$exports$goog$labs$userAgent$highEntropy$highEntropyData.platformVersion.getIfLoaded();\n    return void 0 === loadedPlatformVersion ? void 0 : new module$exports$goog$labs$userAgent$highEntropy$highEntropyValue.Version(loadedPlatformVersion);\n  }\n  if (this.preUachHasLoaded_) {\n    return new module$exports$goog$labs$userAgent$highEntropy$highEntropyValue.Version(module$contents$goog$labs$userAgent$platform_getVersion());\n  }\n};\nmodule$contents$goog$labs$userAgent$platform_PlatformVersion.prototype.load = function() {\n  var $jscomp$async$this = this, JSCompiler_temp_const;\n  return $jscomp.asyncExecutePromiseGeneratorProgram(function($jscomp$generator$context) {\n    if (1 == $jscomp$generator$context.nextAddress) {\n      if (!module$contents$goog$labs$userAgent$platform_useUserAgentDataPlatform(!0)) {\n        $jscomp$async$this.preUachHasLoaded_ = !0;\n        return $jscomp$generator$context.return(new module$exports$goog$labs$userAgent$highEntropy$highEntropyValue.Version(module$contents$goog$labs$userAgent$platform_getVersion()));\n        return $jscomp$generator$context.jumpTo(0);\n      }\n      JSCompiler_temp_const = module$exports$goog$labs$userAgent$highEntropy$highEntropyValue.Version;\n      return $jscomp$generator$context.yield(module$exports$goog$labs$userAgent$highEntropy$highEntropyData.platformVersion.load(), 3);\n    }\n    return $jscomp$generator$context.return(new JSCompiler_temp_const($jscomp$generator$context.yieldResult));\n  });\n};\nmodule$contents$goog$labs$userAgent$platform_PlatformVersion.prototype.resetForTesting = function() {\n  module$exports$goog$labs$userAgent$highEntropy$highEntropyData.platformVersion.resetForTesting();\n  this.preUachHasLoaded_ = !1;\n};\nvar module$contents$goog$labs$userAgent$platform_version = new module$contents$goog$labs$userAgent$platform_PlatformVersion();\ngoog.labs.userAgent.platform.getVersion = module$contents$goog$labs$userAgent$platform_getVersion;\ngoog.labs.userAgent.platform.isAndroid = module$contents$goog$labs$userAgent$platform_isAndroid;\ngoog.labs.userAgent.platform.isChromeOS = module$contents$goog$labs$userAgent$platform_isChromeOS;\ngoog.labs.userAgent.platform.isChromecast = function module$contents$goog$labs$userAgent$platform_isChromecast() {\n  return module$contents$goog$labs$userAgent$util_matchUserAgent(\"CrKey\");\n};\ngoog.labs.userAgent.platform.isIos = module$contents$goog$labs$userAgent$platform_isIos;\ngoog.labs.userAgent.platform.isIpad = module$contents$goog$labs$userAgent$platform_isIpad;\ngoog.labs.userAgent.platform.isIphone = module$contents$goog$labs$userAgent$platform_isIphone;\ngoog.labs.userAgent.platform.isIpod = module$contents$goog$labs$userAgent$platform_isIpod;\ngoog.labs.userAgent.platform.isKaiOS = module$contents$goog$labs$userAgent$platform_isKaiOS;\ngoog.labs.userAgent.platform.isLinux = module$contents$goog$labs$userAgent$platform_isLinux;\ngoog.labs.userAgent.platform.isMacintosh = module$contents$goog$labs$userAgent$platform_isMacintosh;\ngoog.labs.userAgent.platform.isVersionOrHigher = function module$contents$goog$labs$userAgent$platform_isVersionOrHigher(version) {\n  return 0 <= goog.string.internal.compareVersions(module$contents$goog$labs$userAgent$platform_getVersion(), version);\n};\ngoog.labs.userAgent.platform.isWindows = module$contents$goog$labs$userAgent$platform_isWindows;\ngoog.labs.userAgent.platform.version = module$contents$goog$labs$userAgent$platform_version;\ngoog.reflect = {};\ngoog.reflect.object = function(type, object) {\n  return object;\n};\ngoog.reflect.objectProperty = function(prop, object) {\n  return prop;\n};\ngoog.reflect.sinkValue = function(x) {\n  goog.reflect.sinkValue[\" \"](x);\n  return x;\n};\ngoog.reflect.sinkValue[\" \"] = function() {\n};\ngoog.reflect.canAccessProperty = function(obj, prop) {\n  try {\n    return goog.reflect.sinkValue(obj[prop]), !0;\n  } catch (e) {\n  }\n  return !1;\n};\ngoog.reflect.cache = function(cacheObj, key, valueFn, opt_keyFn) {\n  var storedKey = opt_keyFn ? opt_keyFn(key) : key;\n  return Object.prototype.hasOwnProperty.call(cacheObj, storedKey) ? cacheObj[storedKey] : cacheObj[storedKey] = valueFn(key);\n};\ngoog.userAgent = {};\ngoog.userAgent.ASSUME_IE = !1;\ngoog.userAgent.ASSUME_EDGE = !1;\ngoog.userAgent.ASSUME_GECKO = !1;\ngoog.userAgent.ASSUME_WEBKIT = !1;\ngoog.userAgent.ASSUME_MOBILE_WEBKIT = !1;\ngoog.userAgent.ASSUME_OPERA = !1;\ngoog.userAgent.ASSUME_ANY_VERSION = !1;\ngoog.userAgent.BROWSER_KNOWN_ = goog.userAgent.ASSUME_IE || goog.userAgent.ASSUME_EDGE || goog.userAgent.ASSUME_GECKO || goog.userAgent.ASSUME_MOBILE_WEBKIT || goog.userAgent.ASSUME_WEBKIT || goog.userAgent.ASSUME_OPERA;\ngoog.userAgent.getUserAgentString = function() {\n  return module$contents$goog$labs$userAgent$util_getUserAgent();\n};\ngoog.userAgent.getNavigatorTyped = function() {\n  return goog.global.navigator || null;\n};\ngoog.userAgent.getNavigator = function() {\n  return goog.userAgent.getNavigatorTyped();\n};\ngoog.userAgent.OPERA = goog.userAgent.BROWSER_KNOWN_ ? goog.userAgent.ASSUME_OPERA : module$contents$goog$labs$userAgent$browser_matchOpera();\ngoog.userAgent.IE = goog.userAgent.BROWSER_KNOWN_ ? goog.userAgent.ASSUME_IE : module$contents$goog$labs$userAgent$browser_matchIE();\ngoog.userAgent.EDGE = goog.userAgent.BROWSER_KNOWN_ ? goog.userAgent.ASSUME_EDGE : module$contents$goog$labs$userAgent$engine_isEdge();\ngoog.userAgent.EDGE_OR_IE = goog.userAgent.EDGE || goog.userAgent.IE;\ngoog.userAgent.GECKO = goog.userAgent.BROWSER_KNOWN_ ? goog.userAgent.ASSUME_GECKO : module$contents$goog$labs$userAgent$engine_isGecko();\ngoog.userAgent.WEBKIT = goog.userAgent.BROWSER_KNOWN_ ? goog.userAgent.ASSUME_WEBKIT || goog.userAgent.ASSUME_MOBILE_WEBKIT : module$contents$goog$labs$userAgent$engine_isWebKit();\ngoog.userAgent.isMobile_ = function() {\n  return goog.userAgent.WEBKIT && module$contents$goog$labs$userAgent$util_matchUserAgent(\"Mobile\");\n};\ngoog.userAgent.MOBILE = goog.userAgent.ASSUME_MOBILE_WEBKIT || goog.userAgent.isMobile_();\ngoog.userAgent.SAFARI = goog.userAgent.WEBKIT;\ngoog.userAgent.determinePlatform_ = function() {\n  var navigator = goog.userAgent.getNavigatorTyped();\n  return navigator && navigator.platform || \"\";\n};\ngoog.userAgent.PLATFORM = goog.userAgent.determinePlatform_();\ngoog.userAgent.ASSUME_MAC = !1;\ngoog.userAgent.ASSUME_WINDOWS = !1;\ngoog.userAgent.ASSUME_LINUX = !1;\ngoog.userAgent.ASSUME_X11 = !1;\ngoog.userAgent.ASSUME_ANDROID = !1;\ngoog.userAgent.ASSUME_IPHONE = !1;\ngoog.userAgent.ASSUME_IPAD = !1;\ngoog.userAgent.ASSUME_IPOD = !1;\ngoog.userAgent.ASSUME_KAIOS = !1;\ngoog.userAgent.PLATFORM_KNOWN_ = goog.userAgent.ASSUME_MAC || goog.userAgent.ASSUME_WINDOWS || goog.userAgent.ASSUME_LINUX || goog.userAgent.ASSUME_X11 || goog.userAgent.ASSUME_ANDROID || goog.userAgent.ASSUME_IPHONE || goog.userAgent.ASSUME_IPAD || goog.userAgent.ASSUME_IPOD;\ngoog.userAgent.MAC = goog.userAgent.PLATFORM_KNOWN_ ? goog.userAgent.ASSUME_MAC : module$contents$goog$labs$userAgent$platform_isMacintosh();\ngoog.userAgent.WINDOWS = goog.userAgent.PLATFORM_KNOWN_ ? goog.userAgent.ASSUME_WINDOWS : module$contents$goog$labs$userAgent$platform_isWindows();\ngoog.userAgent.isLegacyLinux_ = function() {\n  return module$contents$goog$labs$userAgent$platform_isLinux() || module$contents$goog$labs$userAgent$platform_isChromeOS();\n};\ngoog.userAgent.LINUX = goog.userAgent.PLATFORM_KNOWN_ ? goog.userAgent.ASSUME_LINUX : goog.userAgent.isLegacyLinux_();\ngoog.userAgent.isX11_ = function() {\n  var navigator = goog.userAgent.getNavigatorTyped();\n  return !!navigator && goog.string.internal.contains(navigator.appVersion || \"\", \"X11\");\n};\ngoog.userAgent.X11 = goog.userAgent.PLATFORM_KNOWN_ ? goog.userAgent.ASSUME_X11 : goog.userAgent.isX11_();\ngoog.userAgent.ANDROID = goog.userAgent.PLATFORM_KNOWN_ ? goog.userAgent.ASSUME_ANDROID : module$contents$goog$labs$userAgent$platform_isAndroid();\ngoog.userAgent.IPHONE = goog.userAgent.PLATFORM_KNOWN_ ? goog.userAgent.ASSUME_IPHONE : module$contents$goog$labs$userAgent$platform_isIphone();\ngoog.userAgent.IPAD = goog.userAgent.PLATFORM_KNOWN_ ? goog.userAgent.ASSUME_IPAD : module$contents$goog$labs$userAgent$platform_isIpad();\ngoog.userAgent.IPOD = goog.userAgent.PLATFORM_KNOWN_ ? goog.userAgent.ASSUME_IPOD : module$contents$goog$labs$userAgent$platform_isIpod();\ngoog.userAgent.IOS = goog.userAgent.PLATFORM_KNOWN_ ? goog.userAgent.ASSUME_IPHONE || goog.userAgent.ASSUME_IPAD || goog.userAgent.ASSUME_IPOD : module$contents$goog$labs$userAgent$platform_isIos();\ngoog.userAgent.KAIOS = goog.userAgent.PLATFORM_KNOWN_ ? goog.userAgent.ASSUME_KAIOS : module$contents$goog$labs$userAgent$platform_isKaiOS();\ngoog.userAgent.determineVersion_ = function() {\n  var version = \"\", arr = goog.userAgent.getVersionRegexResult_();\n  arr && (version = arr ? arr[1] : \"\");\n  if (goog.userAgent.IE) {\n    var docMode = goog.userAgent.getDocumentMode_();\n    if (null != docMode && docMode > parseFloat(version)) {\n      return String(docMode);\n    }\n  }\n  return version;\n};\ngoog.userAgent.getVersionRegexResult_ = function() {\n  var userAgent = goog.userAgent.getUserAgentString();\n  if (goog.userAgent.GECKO) {\n    return /rv:([^\\);]+)(\\)|;)/.exec(userAgent);\n  }\n  if (goog.userAgent.EDGE) {\n    return /Edge\\/([\\d\\.]+)/.exec(userAgent);\n  }\n  if (goog.userAgent.IE) {\n    return /\\b(?:MSIE|rv)[: ]([^\\);]+)(\\)|;)/.exec(userAgent);\n  }\n  if (goog.userAgent.WEBKIT) {\n    return /WebKit\\/(\\S+)/.exec(userAgent);\n  }\n  if (goog.userAgent.OPERA) {\n    return /(?:Version)[ \\/]?(\\S+)/.exec(userAgent);\n  }\n};\ngoog.userAgent.getDocumentMode_ = function() {\n  var doc = goog.global.document;\n  return doc ? doc.documentMode : void 0;\n};\ngoog.userAgent.VERSION = goog.userAgent.determineVersion_();\ngoog.userAgent.compare = function(v1, v2) {\n  return goog.string.internal.compareVersions(v1, v2);\n};\ngoog.userAgent.isVersionOrHigherCache_ = {};\ngoog.userAgent.isVersionOrHigher = function(version) {\n  return goog.userAgent.ASSUME_ANY_VERSION || goog.reflect.cache(goog.userAgent.isVersionOrHigherCache_, version, function() {\n    return 0 <= goog.string.internal.compareVersions(goog.userAgent.VERSION, version);\n  });\n};\ngoog.userAgent.isDocumentModeOrHigher = function(documentMode) {\n  return Number(goog.userAgent.DOCUMENT_MODE) >= documentMode;\n};\ngoog.userAgent.isDocumentMode = goog.userAgent.isDocumentModeOrHigher;\ngoog.userAgent.DOCUMENT_MODE = function() {\n  if (goog.global.document && goog.userAgent.IE) {\n    var documentMode = goog.userAgent.getDocumentMode_();\n    return documentMode ? documentMode : parseInt(goog.userAgent.VERSION, 10) || void 0;\n  }\n}();\ngoog.events.eventTypeHelpers = {};\ngoog.events.eventTypeHelpers.getVendorPrefixedName = function(eventName) {\n  return goog.userAgent.WEBKIT ? \"webkit\" + eventName : eventName.toLowerCase();\n};\ngoog.events.eventTypeHelpers.getPointerFallbackEventName = function(pointerEventName, msPointerEventName, fallbackEventName) {\n  return goog.events.BrowserFeature.POINTER_EVENTS ? pointerEventName : goog.events.BrowserFeature.MSPOINTER_EVENTS ? msPointerEventName : fallbackEventName;\n};\ngoog.events.EventType = {CLICK:\"click\", RIGHTCLICK:\"rightclick\", DBLCLICK:\"dblclick\", AUXCLICK:\"auxclick\", MOUSEDOWN:\"mousedown\", MOUSEUP:\"mouseup\", MOUSEOVER:\"mouseover\", MOUSEOUT:\"mouseout\", MOUSEMOVE:\"mousemove\", MOUSEENTER:\"mouseenter\", MOUSELEAVE:\"mouseleave\", MOUSECANCEL:\"mousecancel\", SELECTIONCHANGE:\"selectionchange\", SELECTSTART:\"selectstart\", WHEEL:\"wheel\", KEYPRESS:\"keypress\", KEYDOWN:\"keydown\", KEYUP:\"keyup\", BLUR:\"blur\", FOCUS:\"focus\", DEACTIVATE:\"deactivate\", FOCUSIN:\"focusin\", FOCUSOUT:\"focusout\", \nCHANGE:\"change\", RESET:\"reset\", SELECT:\"select\", SUBMIT:\"submit\", INPUT:\"input\", PROPERTYCHANGE:\"propertychange\", DRAGSTART:\"dragstart\", DRAG:\"drag\", DRAGENTER:\"dragenter\", DRAGOVER:\"dragover\", DRAGLEAVE:\"dragleave\", DROP:\"drop\", DRAGEND:\"dragend\", TOUCHSTART:\"touchstart\", TOUCHMOVE:\"touchmove\", TOUCHEND:\"touchend\", TOUCHCANCEL:\"touchcancel\", BEFOREUNLOAD:\"beforeunload\", CONSOLEMESSAGE:\"consolemessage\", CONTEXTMENU:\"contextmenu\", DEVICECHANGE:\"devicechange\", DEVICEMOTION:\"devicemotion\", DEVICEORIENTATION:\"deviceorientation\", \nDOMCONTENTLOADED:\"DOMContentLoaded\", ERROR:\"error\", HELP:\"help\", LOAD:\"load\", LOSECAPTURE:\"losecapture\", ORIENTATIONCHANGE:\"orientationchange\", READYSTATECHANGE:\"readystatechange\", RESIZE:\"resize\", SCROLL:\"scroll\", UNLOAD:\"unload\", CANPLAY:\"canplay\", CANPLAYTHROUGH:\"canplaythrough\", DURATIONCHANGE:\"durationchange\", EMPTIED:\"emptied\", ENDED:\"ended\", LOADEDDATA:\"loadeddata\", LOADEDMETADATA:\"loadedmetadata\", PAUSE:\"pause\", PLAY:\"play\", PLAYING:\"playing\", PROGRESS:\"progress\", RATECHANGE:\"ratechange\", \nSEEKED:\"seeked\", SEEKING:\"seeking\", STALLED:\"stalled\", SUSPEND:\"suspend\", TIMEUPDATE:\"timeupdate\", VOLUMECHANGE:\"volumechange\", WAITING:\"waiting\", SOURCEOPEN:\"sourceopen\", SOURCEENDED:\"sourceended\", SOURCECLOSED:\"sourceclosed\", ABORT:\"abort\", UPDATE:\"update\", UPDATESTART:\"updatestart\", UPDATEEND:\"updateend\", HASHCHANGE:\"hashchange\", PAGEHIDE:\"pagehide\", PAGESHOW:\"pageshow\", POPSTATE:\"popstate\", COPY:\"copy\", PASTE:\"paste\", CUT:\"cut\", BEFORECOPY:\"beforecopy\", BEFORECUT:\"beforecut\", BEFOREPASTE:\"beforepaste\", \nONLINE:\"online\", OFFLINE:\"offline\", MESSAGE:\"message\", CONNECT:\"connect\", INSTALL:\"install\", ACTIVATE:\"activate\", FETCH:\"fetch\", FOREIGNFETCH:\"foreignfetch\", MESSAGEERROR:\"messageerror\", STATECHANGE:\"statechange\", UPDATEFOUND:\"updatefound\", CONTROLLERCHANGE:\"controllerchange\", ANIMATIONSTART:goog.events.eventTypeHelpers.getVendorPrefixedName(\"AnimationStart\"), ANIMATIONEND:goog.events.eventTypeHelpers.getVendorPrefixedName(\"AnimationEnd\"), ANIMATIONITERATION:goog.events.eventTypeHelpers.getVendorPrefixedName(\"AnimationIteration\"), \nTRANSITIONEND:goog.events.eventTypeHelpers.getVendorPrefixedName(\"TransitionEnd\"), POINTERDOWN:\"pointerdown\", POINTERUP:\"pointerup\", POINTERCANCEL:\"pointercancel\", POINTERMOVE:\"pointermove\", POINTEROVER:\"pointerover\", POINTEROUT:\"pointerout\", POINTERENTER:\"pointerenter\", POINTERLEAVE:\"pointerleave\", GOTPOINTERCAPTURE:\"gotpointercapture\", LOSTPOINTERCAPTURE:\"lostpointercapture\", MSGESTURECHANGE:\"MSGestureChange\", MSGESTUREEND:\"MSGestureEnd\", MSGESTUREHOLD:\"MSGestureHold\", MSGESTURESTART:\"MSGestureStart\", \nMSGESTURETAP:\"MSGestureTap\", MSGOTPOINTERCAPTURE:\"MSGotPointerCapture\", MSINERTIASTART:\"MSInertiaStart\", MSLOSTPOINTERCAPTURE:\"MSLostPointerCapture\", MSPOINTERCANCEL:\"MSPointerCancel\", MSPOINTERDOWN:\"MSPointerDown\", MSPOINTERENTER:\"MSPointerEnter\", MSPOINTERHOVER:\"MSPointerHover\", MSPOINTERLEAVE:\"MSPointerLeave\", MSPOINTERMOVE:\"MSPointerMove\", MSPOINTEROUT:\"MSPointerOut\", MSPOINTEROVER:\"MSPointerOver\", MSPOINTERUP:\"MSPointerUp\", TEXT:\"text\", TEXTINPUT:goog.userAgent.IE ? \"textinput\" : \"textInput\", \nCOMPOSITIONSTART:\"compositionstart\", COMPOSITIONUPDATE:\"compositionupdate\", COMPOSITIONEND:\"compositionend\", BEFOREINPUT:\"beforeinput\", FULLSCREENCHANGE:\"fullscreenchange\", WEBKITBEGINFULLSCREEN:\"webkitbeginfullscreen\", WEBKITENDFULLSCREEN:\"webkitendfullscreen\", EXIT:\"exit\", LOADABORT:\"loadabort\", LOADCOMMIT:\"loadcommit\", LOADREDIRECT:\"loadredirect\", LOADSTART:\"loadstart\", LOADSTOP:\"loadstop\", RESPONSIVE:\"responsive\", SIZECHANGED:\"sizechanged\", UNRESPONSIVE:\"unresponsive\", VISIBILITYCHANGE:\"visibilitychange\", \nSTORAGE:\"storage\", DOMSUBTREEMODIFIED:\"DOMSubtreeModified\", DOMNODEINSERTED:\"DOMNodeInserted\", DOMNODEREMOVED:\"DOMNodeRemoved\", DOMNODEREMOVEDFROMDOCUMENT:\"DOMNodeRemovedFromDocument\", DOMNODEINSERTEDINTODOCUMENT:\"DOMNodeInsertedIntoDocument\", DOMATTRMODIFIED:\"DOMAttrModified\", DOMCHARACTERDATAMODIFIED:\"DOMCharacterDataModified\", BEFOREPRINT:\"beforeprint\", AFTERPRINT:\"afterprint\", BEFOREINSTALLPROMPT:\"beforeinstallprompt\", APPINSTALLED:\"appinstalled\", CANCEL:\"cancel\", FINISH:\"finish\", REMOVE:\"remove\"};\ngoog.events.BrowserEvent = function(opt_e, opt_currentTarget) {\n  goog.events.Event.call(this, opt_e ? opt_e.type : \"\");\n  this.relatedTarget = this.currentTarget = this.target = null;\n  this.button = this.screenY = this.screenX = this.clientY = this.clientX = this.offsetY = this.offsetX = 0;\n  this.key = \"\";\n  this.charCode = this.keyCode = 0;\n  this.metaKey = this.shiftKey = this.altKey = this.ctrlKey = !1;\n  this.state = null;\n  this.platformModifierKey = !1;\n  this.pointerId = 0;\n  this.pointerType = \"\";\n  this.event_ = null;\n  opt_e && this.init(opt_e, opt_currentTarget);\n};\ngoog.inherits(goog.events.BrowserEvent, goog.events.Event);\ngoog.events.BrowserEvent.USE_LAYER_XY_AS_OFFSET_XY = !1;\ngoog.events.BrowserEvent.MouseButton = {LEFT:0, MIDDLE:1, RIGHT:2, BACK:3, FORWARD:4,};\ngoog.events.BrowserEvent.PointerType = {MOUSE:\"mouse\", PEN:\"pen\", TOUCH:\"touch\"};\ngoog.events.BrowserEvent.IEButtonMap = goog.debug.freeze([1, 4, 2]);\ngoog.events.BrowserEvent.IE_BUTTON_MAP = goog.events.BrowserEvent.IEButtonMap;\ngoog.events.BrowserEvent.IE_POINTER_TYPE_MAP = goog.debug.freeze({2:goog.events.BrowserEvent.PointerType.TOUCH, 3:goog.events.BrowserEvent.PointerType.PEN, 4:goog.events.BrowserEvent.PointerType.MOUSE});\ngoog.events.BrowserEvent.prototype.init = function(e, opt_currentTarget) {\n  var type = this.type = e.type, relevantTouch = e.changedTouches && e.changedTouches.length ? e.changedTouches[0] : null;\n  this.target = e.target || e.srcElement;\n  this.currentTarget = opt_currentTarget;\n  var relatedTarget = e.relatedTarget;\n  relatedTarget ? goog.userAgent.GECKO && (goog.reflect.canAccessProperty(relatedTarget, \"nodeName\") || (relatedTarget = null)) : type == goog.events.EventType.MOUSEOVER ? relatedTarget = e.fromElement : type == goog.events.EventType.MOUSEOUT && (relatedTarget = e.toElement);\n  this.relatedTarget = relatedTarget;\n  relevantTouch ? (this.clientX = void 0 !== relevantTouch.clientX ? relevantTouch.clientX : relevantTouch.pageX, this.clientY = void 0 !== relevantTouch.clientY ? relevantTouch.clientY : relevantTouch.pageY, this.screenX = relevantTouch.screenX || 0, this.screenY = relevantTouch.screenY || 0) : (goog.events.BrowserEvent.USE_LAYER_XY_AS_OFFSET_XY ? (this.offsetX = void 0 !== e.layerX ? e.layerX : e.offsetX, this.offsetY = void 0 !== e.layerY ? e.layerY : e.offsetY) : (this.offsetX = goog.userAgent.WEBKIT || \n  void 0 !== e.offsetX ? e.offsetX : e.layerX, this.offsetY = goog.userAgent.WEBKIT || void 0 !== e.offsetY ? e.offsetY : e.layerY), this.clientX = void 0 !== e.clientX ? e.clientX : e.pageX, this.clientY = void 0 !== e.clientY ? e.clientY : e.pageY, this.screenX = e.screenX || 0, this.screenY = e.screenY || 0);\n  this.button = e.button;\n  this.keyCode = e.keyCode || 0;\n  this.key = e.key || \"\";\n  this.charCode = e.charCode || (\"keypress\" == type ? e.keyCode : 0);\n  this.ctrlKey = e.ctrlKey;\n  this.altKey = e.altKey;\n  this.shiftKey = e.shiftKey;\n  this.metaKey = e.metaKey;\n  this.platformModifierKey = goog.userAgent.MAC ? e.metaKey : e.ctrlKey;\n  this.pointerId = e.pointerId || 0;\n  this.pointerType = goog.events.BrowserEvent.getPointerType_(e);\n  this.state = e.state;\n  this.event_ = e;\n  e.defaultPrevented && goog.events.BrowserEvent.superClass_.preventDefault.call(this);\n};\ngoog.events.BrowserEvent.prototype.isButton = function(button) {\n  return this.event_.button == button;\n};\ngoog.events.BrowserEvent.prototype.isMouseActionButton = function() {\n  return this.isButton(goog.events.BrowserEvent.MouseButton.LEFT) && !(goog.userAgent.MAC && this.ctrlKey);\n};\ngoog.events.BrowserEvent.prototype.stopPropagation = function() {\n  goog.events.BrowserEvent.superClass_.stopPropagation.call(this);\n  this.event_.stopPropagation ? this.event_.stopPropagation() : this.event_.cancelBubble = !0;\n};\ngoog.events.BrowserEvent.prototype.preventDefault = function() {\n  goog.events.BrowserEvent.superClass_.preventDefault.call(this);\n  var be = this.event_;\n  be.preventDefault ? be.preventDefault() : be.returnValue = !1;\n};\ngoog.events.BrowserEvent.prototype.getBrowserEvent = function() {\n  return this.event_;\n};\ngoog.events.BrowserEvent.getPointerType_ = function(e) {\n  return \"string\" === typeof e.pointerType ? e.pointerType : goog.events.BrowserEvent.IE_POINTER_TYPE_MAP[e.pointerType] || \"\";\n};\ngoog.events.Listenable = function() {\n};\ngoog.events.Listenable.IMPLEMENTED_BY_PROP = \"closure_listenable_\" + (1E6 * Math.random() | 0);\ngoog.events.Listenable.addImplementation = function(cls) {\n  cls.prototype[goog.events.Listenable.IMPLEMENTED_BY_PROP] = !0;\n};\ngoog.events.Listenable.isImplementedBy = function(obj) {\n  return !(!obj || !obj[goog.events.Listenable.IMPLEMENTED_BY_PROP]);\n};\ngoog.events.Listenable.prototype.listen = function(type, listener, opt_useCapture, opt_listenerScope) {\n};\ngoog.events.Listenable.prototype.listenOnce = function(type, listener, opt_useCapture, opt_listenerScope) {\n};\ngoog.events.Listenable.prototype.unlisten = function(type, listener, opt_useCapture, opt_listenerScope) {\n};\ngoog.events.Listenable.prototype.unlistenByKey = function(key) {\n};\ngoog.events.Listenable.prototype.dispatchEvent = function(e) {\n};\ngoog.events.Listenable.prototype.removeAllListeners = function(opt_type) {\n};\ngoog.events.Listenable.prototype.getParentEventTarget = function() {\n};\ngoog.events.Listenable.prototype.fireListeners = function(type, capture, eventObject) {\n};\ngoog.events.Listenable.prototype.getListeners = function(type, capture) {\n};\ngoog.events.Listenable.prototype.getListener = function(type, listener, capture, opt_listenerScope) {\n};\ngoog.events.Listenable.prototype.hasListener = function(opt_type, opt_capture) {\n};\ngoog.events.ListenableKey = function() {\n};\ngoog.events.ListenableKey.counter_ = 0;\ngoog.events.ListenableKey.reserveKey = function() {\n  return ++goog.events.ListenableKey.counter_;\n};\ngoog.events.Listener = function(listener, proxy, src, type, capture, opt_handler) {\n  goog.events.Listener.ENABLE_MONITORING && (this.creationStack = Error().stack);\n  this.listener = listener;\n  this.proxy = proxy;\n  this.src = src;\n  this.type = type;\n  this.capture = !!capture;\n  this.handler = opt_handler;\n  this.key = goog.events.ListenableKey.reserveKey();\n  this.removed = this.callOnce = !1;\n};\ngoog.events.Listener.ENABLE_MONITORING = !1;\ngoog.events.Listener.prototype.markAsRemoved = function() {\n  this.removed = !0;\n  this.handler = this.src = this.proxy = this.listener = null;\n};\ngoog.object = {};\nfunction module$contents$goog$object_forEach(obj, f, opt_obj) {\n  for (var key in obj) {\n    f.call(opt_obj, obj[key], key, obj);\n  }\n}\nfunction module$contents$goog$object_filter(obj, f, opt_obj) {\n  var res = {}, key;\n  for (key in obj) {\n    f.call(opt_obj, obj[key], key, obj) && (res[key] = obj[key]);\n  }\n  return res;\n}\nfunction module$contents$goog$object_map(obj, f, opt_obj) {\n  var res = {}, key;\n  for (key in obj) {\n    res[key] = f.call(opt_obj, obj[key], key, obj);\n  }\n  return res;\n}\nfunction module$contents$goog$object_some(obj, f, opt_obj) {\n  for (var key in obj) {\n    if (f.call(opt_obj, obj[key], key, obj)) {\n      return !0;\n    }\n  }\n  return !1;\n}\nfunction module$contents$goog$object_getCount(obj) {\n  var rv = 0, key;\n  for (key in obj) {\n    rv++;\n  }\n  return rv;\n}\nfunction module$contents$goog$object_contains(obj, val) {\n  return module$contents$goog$object_containsValue(obj, val);\n}\nfunction module$contents$goog$object_getValues(obj) {\n  var res = [], i = 0, key;\n  for (key in obj) {\n    res[i++] = obj[key];\n  }\n  return res;\n}\nfunction module$contents$goog$object_getKeys(obj) {\n  var res = [], i = 0, key;\n  for (key in obj) {\n    res[i++] = key;\n  }\n  return res;\n}\nfunction module$contents$goog$object_containsKey(obj, key) {\n  return null !== obj && key in obj;\n}\nfunction module$contents$goog$object_containsValue(obj, val) {\n  for (var key in obj) {\n    if (obj[key] == val) {\n      return !0;\n    }\n  }\n  return !1;\n}\nfunction module$contents$goog$object_findKey(obj, f, thisObj) {\n  for (var key in obj) {\n    if (f.call(thisObj, obj[key], key, obj)) {\n      return key;\n    }\n  }\n}\nfunction module$contents$goog$object_isEmpty(obj) {\n  for (var key in obj) {\n    return !1;\n  }\n  return !0;\n}\nfunction module$contents$goog$object_clear(obj) {\n  for (var i in obj) {\n    delete obj[i];\n  }\n}\nfunction module$contents$goog$object_remove(obj, key) {\n  var rv;\n  (rv = key in obj) && delete obj[key];\n  return rv;\n}\nfunction module$contents$goog$object_set(obj, key, value) {\n  obj[key] = value;\n}\nfunction module$contents$goog$object_clone(obj) {\n  var res = {}, key;\n  for (key in obj) {\n    res[key] = obj[key];\n  }\n  return res;\n}\nfunction module$contents$goog$object_unsafeClone(obj) {\n  if (!obj || \"object\" !== typeof obj) {\n    return obj;\n  }\n  if (\"function\" === typeof obj.clone) {\n    return obj.clone();\n  }\n  if (\"undefined\" !== typeof Map && obj instanceof Map) {\n    return new Map(obj);\n  }\n  if (\"undefined\" !== typeof Set && obj instanceof Set) {\n    return new Set(obj);\n  }\n  if (obj instanceof Date) {\n    return new Date(obj.getTime());\n  }\n  var clone = Array.isArray(obj) ? [] : \"function\" !== typeof ArrayBuffer || \"function\" !== typeof ArrayBuffer.isView || !ArrayBuffer.isView(obj) || obj instanceof DataView ? {} : new obj.constructor(obj.length), key;\n  for (key in obj) {\n    clone[key] = module$contents$goog$object_unsafeClone(obj[key]);\n  }\n  return clone;\n}\nvar module$contents$goog$object_PROTOTYPE_FIELDS = \"constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf\".split(\" \");\nfunction module$contents$goog$object_extend(target, var_args) {\n  for (var key, source, i = 1; i < arguments.length; i++) {\n    source = arguments[i];\n    for (key in source) {\n      target[key] = source[key];\n    }\n    for (var j = 0; j < module$contents$goog$object_PROTOTYPE_FIELDS.length; j++) {\n      key = module$contents$goog$object_PROTOTYPE_FIELDS[j], Object.prototype.hasOwnProperty.call(source, key) && (target[key] = source[key]);\n    }\n  }\n}\nfunction module$contents$goog$object_create(var_args) {\n  var argLength = arguments.length;\n  if (1 == argLength && Array.isArray(arguments[0])) {\n    return module$contents$goog$object_create.apply(null, arguments[0]);\n  }\n  if (argLength % 2) {\n    throw Error(\"Uneven number of arguments\");\n  }\n  for (var rv = {}, i = 0; i < argLength; i += 2) {\n    rv[arguments[i]] = arguments[i + 1];\n  }\n  return rv;\n}\nfunction module$contents$goog$object_createSet(var_args) {\n  var argLength = arguments.length;\n  if (1 == argLength && Array.isArray(arguments[0])) {\n    return module$contents$goog$object_createSet.apply(null, arguments[0]);\n  }\n  for (var rv = {}, i = 0; i < argLength; i++) {\n    rv[arguments[i]] = !0;\n  }\n  return rv;\n}\ngoog.object.add = function module$contents$goog$object_add(obj, key, val) {\n  if (null !== obj && key in obj) {\n    throw Error('The object already contains the key \"' + key + '\"');\n  }\n  module$contents$goog$object_set(obj, key, val);\n};\ngoog.object.clear = module$contents$goog$object_clear;\ngoog.object.clone = module$contents$goog$object_clone;\ngoog.object.contains = module$contents$goog$object_contains;\ngoog.object.containsKey = module$contents$goog$object_containsKey;\ngoog.object.containsValue = module$contents$goog$object_containsValue;\ngoog.object.create = module$contents$goog$object_create;\ngoog.object.createImmutableView = function module$contents$goog$object_createImmutableView(obj) {\n  var result = obj;\n  Object.isFrozen && !Object.isFrozen(obj) && (result = Object.create(obj), Object.freeze(result));\n  return result;\n};\ngoog.object.createSet = module$contents$goog$object_createSet;\ngoog.object.equals = function module$contents$goog$object_equals(a, b) {\n  for (var k in a) {\n    if (!(k in b) || a[k] !== b[k]) {\n      return !1;\n    }\n  }\n  for (var k$45 in b) {\n    if (!(k$45 in a)) {\n      return !1;\n    }\n  }\n  return !0;\n};\ngoog.object.every = function module$contents$goog$object_every(obj, f, opt_obj) {\n  for (var key in obj) {\n    if (!f.call(opt_obj, obj[key], key, obj)) {\n      return !1;\n    }\n  }\n  return !0;\n};\ngoog.object.extend = module$contents$goog$object_extend;\ngoog.object.filter = module$contents$goog$object_filter;\ngoog.object.findKey = module$contents$goog$object_findKey;\ngoog.object.findValue = function module$contents$goog$object_findValue(obj, f, thisObj) {\n  var key = module$contents$goog$object_findKey(obj, f, thisObj);\n  return key && obj[key];\n};\ngoog.object.forEach = module$contents$goog$object_forEach;\ngoog.object.get = function module$contents$goog$object_get(obj, key, val) {\n  return null !== obj && key in obj ? obj[key] : val;\n};\ngoog.object.getAllPropertyNames = function module$contents$goog$object_getAllPropertyNames(obj, includeObjectPrototype, includeFunctionPrototype) {\n  if (!obj) {\n    return [];\n  }\n  if (!Object.getOwnPropertyNames || !Object.getPrototypeOf) {\n    return module$contents$goog$object_getKeys(obj);\n  }\n  for (var visitedSet = {}, proto = obj; proto && (proto !== Object.prototype || includeObjectPrototype) && (proto !== Function.prototype || includeFunctionPrototype);) {\n    for (var names = Object.getOwnPropertyNames(proto), i = 0; i < names.length; i++) {\n      visitedSet[names[i]] = !0;\n    }\n    proto = Object.getPrototypeOf(proto);\n  }\n  return module$contents$goog$object_getKeys(visitedSet);\n};\ngoog.object.getAnyKey = function module$contents$goog$object_getAnyKey(obj) {\n  for (var key in obj) {\n    return key;\n  }\n};\ngoog.object.getAnyValue = function module$contents$goog$object_getAnyValue(obj) {\n  for (var key in obj) {\n    return obj[key];\n  }\n};\ngoog.object.getCount = module$contents$goog$object_getCount;\ngoog.object.getKeys = module$contents$goog$object_getKeys;\ngoog.object.getSuperClass = function module$contents$goog$object_getSuperClass(constructor) {\n  var proto = Object.getPrototypeOf(constructor.prototype);\n  return proto && proto.constructor;\n};\ngoog.object.getValueByKeys = function module$contents$goog$object_getValueByKeys(obj, var_args) {\n  for (var isArrayLike = goog.isArrayLike(var_args), keys = isArrayLike ? var_args : arguments, i = isArrayLike ? 0 : 1; i < keys.length; i++) {\n    if (null == obj) {\n      return;\n    }\n    obj = obj[keys[i]];\n  }\n  return obj;\n};\ngoog.object.getValues = module$contents$goog$object_getValues;\ngoog.object.isEmpty = module$contents$goog$object_isEmpty;\ngoog.object.isImmutableView = function module$contents$goog$object_isImmutableView(obj) {\n  return !!Object.isFrozen && Object.isFrozen(obj);\n};\ngoog.object.map = module$contents$goog$object_map;\ngoog.object.remove = module$contents$goog$object_remove;\ngoog.object.set = module$contents$goog$object_set;\ngoog.object.setIfUndefined = function module$contents$goog$object_setIfUndefined(obj, key, value) {\n  return key in obj ? obj[key] : obj[key] = value;\n};\ngoog.object.setWithReturnValueIfNotSet = function module$contents$goog$object_setWithReturnValueIfNotSet(obj, key, f) {\n  if (key in obj) {\n    return obj[key];\n  }\n  var val = f();\n  return obj[key] = val;\n};\ngoog.object.some = module$contents$goog$object_some;\ngoog.object.transpose = function module$contents$goog$object_transpose(obj) {\n  var transposed = {}, key;\n  for (key in obj) {\n    transposed[obj[key]] = key;\n  }\n  return transposed;\n};\ngoog.object.unsafeClone = module$contents$goog$object_unsafeClone;\ngoog.events.ListenerMap = function(src) {\n  this.src = src;\n  this.listeners = {};\n  this.typeCount_ = 0;\n};\ngoog.events.ListenerMap.prototype.getTypeCount = function() {\n  return this.typeCount_;\n};\ngoog.events.ListenerMap.prototype.getListenerCount = function() {\n  var count = 0, type;\n  for (type in this.listeners) {\n    count += this.listeners[type].length;\n  }\n  return count;\n};\ngoog.events.ListenerMap.prototype.add = function(type, listener, callOnce, opt_useCapture, opt_listenerScope) {\n  var typeStr = type.toString(), listenerArray = this.listeners[typeStr];\n  listenerArray || (listenerArray = this.listeners[typeStr] = [], this.typeCount_++);\n  var index = goog.events.ListenerMap.findListenerIndex_(listenerArray, listener, opt_useCapture, opt_listenerScope);\n  if (-1 < index) {\n    var listenerObj = listenerArray[index];\n    callOnce || (listenerObj.callOnce = !1);\n  } else {\n    listenerObj = new goog.events.Listener(listener, null, this.src, typeStr, !!opt_useCapture, opt_listenerScope), listenerObj.callOnce = callOnce, listenerArray.push(listenerObj);\n  }\n  return listenerObj;\n};\ngoog.events.ListenerMap.prototype.remove = function(type, listener, opt_useCapture, opt_listenerScope) {\n  var typeStr = type.toString();\n  if (!(typeStr in this.listeners)) {\n    return !1;\n  }\n  var listenerArray = this.listeners[typeStr], index = goog.events.ListenerMap.findListenerIndex_(listenerArray, listener, opt_useCapture, opt_listenerScope);\n  return -1 < index ? (listenerArray[index].markAsRemoved(), module$contents$goog$array_removeAt(listenerArray, index), 0 == listenerArray.length && (delete this.listeners[typeStr], this.typeCount_--), !0) : !1;\n};\ngoog.events.ListenerMap.prototype.removeByKey = function(listener) {\n  var type = listener.type;\n  if (!(type in this.listeners)) {\n    return !1;\n  }\n  var removed = module$contents$goog$array_remove(this.listeners[type], listener);\n  removed && (listener.markAsRemoved(), 0 == this.listeners[type].length && (delete this.listeners[type], this.typeCount_--));\n  return removed;\n};\ngoog.events.ListenerMap.prototype.removeAll = function(opt_type) {\n  var typeStr = opt_type && opt_type.toString(), count = 0, type;\n  for (type in this.listeners) {\n    if (!typeStr || type == typeStr) {\n      for (var listenerArray = this.listeners[type], i = 0; i < listenerArray.length; i++) {\n        ++count, listenerArray[i].markAsRemoved();\n      }\n      delete this.listeners[type];\n      this.typeCount_--;\n    }\n  }\n  return count;\n};\ngoog.events.ListenerMap.prototype.getListeners = function(type, capture) {\n  var listenerArray = this.listeners[type.toString()], rv = [];\n  if (listenerArray) {\n    for (var i = 0; i < listenerArray.length; ++i) {\n      var listenerObj = listenerArray[i];\n      listenerObj.capture == capture && rv.push(listenerObj);\n    }\n  }\n  return rv;\n};\ngoog.events.ListenerMap.prototype.getListener = function(type, listener, capture, opt_listenerScope) {\n  var listenerArray = this.listeners[type.toString()], i = -1;\n  listenerArray && (i = goog.events.ListenerMap.findListenerIndex_(listenerArray, listener, capture, opt_listenerScope));\n  return -1 < i ? listenerArray[i] : null;\n};\ngoog.events.ListenerMap.prototype.hasListener = function(opt_type, opt_capture) {\n  var hasType = void 0 !== opt_type, typeStr = hasType ? opt_type.toString() : \"\", hasCapture = void 0 !== opt_capture;\n  return module$contents$goog$object_some(this.listeners, function(listenerArray, type) {\n    for (var i = 0; i < listenerArray.length; ++i) {\n      if (!(hasType && listenerArray[i].type != typeStr || hasCapture && listenerArray[i].capture != opt_capture)) {\n        return !0;\n      }\n    }\n    return !1;\n  });\n};\ngoog.events.ListenerMap.findListenerIndex_ = function(listenerArray, listener, opt_useCapture, opt_listenerScope) {\n  for (var i = 0; i < listenerArray.length; ++i) {\n    var listenerObj = listenerArray[i];\n    if (!listenerObj.removed && listenerObj.listener == listener && listenerObj.capture == !!opt_useCapture && listenerObj.handler == opt_listenerScope) {\n      return i;\n    }\n  }\n  return -1;\n};\ngoog.events.Key = {};\ngoog.events.ListenableType = {};\ngoog.events.LISTENER_MAP_PROP_ = \"closure_lm_\" + (1E6 * Math.random() | 0);\ngoog.events.onString_ = \"on\";\ngoog.events.onStringMap_ = {};\ngoog.events.CaptureSimulationMode = {OFF_AND_FAIL:0, OFF_AND_SILENT:1, ON:2};\ngoog.events.CAPTURE_SIMULATION_MODE = 2;\ngoog.events.listenerCountEstimate_ = 0;\ngoog.events.listen = function(src, type, listener, opt_options, opt_handler) {\n  if (opt_options && opt_options.once) {\n    return goog.events.listenOnce(src, type, listener, opt_options, opt_handler);\n  }\n  if (Array.isArray(type)) {\n    for (var i = 0; i < type.length; i++) {\n      goog.events.listen(src, type[i], listener, opt_options, opt_handler);\n    }\n    return null;\n  }\n  listener = goog.events.wrapListener(listener);\n  return goog.events.Listenable.isImplementedBy(src) ? src.listen(type, listener, goog.isObject(opt_options) ? !!opt_options.capture : !!opt_options, opt_handler) : goog.events.listen_(src, type, listener, !1, opt_options, opt_handler);\n};\ngoog.events.listen_ = function(src, type, listener, callOnce, opt_options, opt_handler) {\n  if (!type) {\n    throw Error(\"Invalid event type\");\n  }\n  var capture = goog.isObject(opt_options) ? !!opt_options.capture : !!opt_options, listenerMap = goog.events.getListenerMap_(src);\n  listenerMap || (src[goog.events.LISTENER_MAP_PROP_] = listenerMap = new goog.events.ListenerMap(src));\n  var listenerObj = listenerMap.add(type, listener, callOnce, capture, opt_handler);\n  if (listenerObj.proxy) {\n    return listenerObj;\n  }\n  var proxy = goog.events.getProxy();\n  listenerObj.proxy = proxy;\n  proxy.src = src;\n  proxy.listener = listenerObj;\n  if (src.addEventListener) {\n    goog.events.BrowserFeature.PASSIVE_EVENTS || (opt_options = capture), void 0 === opt_options && (opt_options = !1), src.addEventListener(type.toString(), proxy, opt_options);\n  } else if (src.attachEvent) {\n    src.attachEvent(goog.events.getOnString_(type.toString()), proxy);\n  } else if (src.addListener && src.removeListener) {\n    goog.asserts.assert(\"change\" === type, \"MediaQueryList only has a change event\"), src.addListener(proxy);\n  } else {\n    throw Error(\"addEventListener and attachEvent are unavailable.\");\n  }\n  goog.events.listenerCountEstimate_++;\n  return listenerObj;\n};\ngoog.events.getProxy = function() {\n  var proxyCallbackFunction = goog.events.handleBrowserEvent_, f = function(eventObject) {\n    return proxyCallbackFunction.call(f.src, f.listener, eventObject);\n  };\n  return f;\n};\ngoog.events.listenOnce = function(src, type, listener, opt_options, opt_handler) {\n  if (Array.isArray(type)) {\n    for (var i = 0; i < type.length; i++) {\n      goog.events.listenOnce(src, type[i], listener, opt_options, opt_handler);\n    }\n    return null;\n  }\n  listener = goog.events.wrapListener(listener);\n  return goog.events.Listenable.isImplementedBy(src) ? src.listenOnce(type, listener, goog.isObject(opt_options) ? !!opt_options.capture : !!opt_options, opt_handler) : goog.events.listen_(src, type, listener, !0, opt_options, opt_handler);\n};\ngoog.events.listenWithWrapper = function(src, wrapper, listener, opt_capt, opt_handler) {\n  wrapper.listen(src, listener, opt_capt, opt_handler);\n};\ngoog.events.unlisten = function(src, type, listener, opt_options, opt_handler) {\n  if (Array.isArray(type)) {\n    for (var i = 0; i < type.length; i++) {\n      goog.events.unlisten(src, type[i], listener, opt_options, opt_handler);\n    }\n    return null;\n  }\n  var capture = goog.isObject(opt_options) ? !!opt_options.capture : !!opt_options;\n  listener = goog.events.wrapListener(listener);\n  if (goog.events.Listenable.isImplementedBy(src)) {\n    return src.unlisten(type, listener, capture, opt_handler);\n  }\n  if (!src) {\n    return !1;\n  }\n  var listenerMap = goog.events.getListenerMap_(src);\n  if (listenerMap) {\n    var listenerObj = listenerMap.getListener(type, listener, capture, opt_handler);\n    if (listenerObj) {\n      return goog.events.unlistenByKey(listenerObj);\n    }\n  }\n  return !1;\n};\ngoog.events.unlistenByKey = function(key) {\n  if (\"number\" === typeof key || !key || key.removed) {\n    return !1;\n  }\n  var src = key.src;\n  if (goog.events.Listenable.isImplementedBy(src)) {\n    return src.unlistenByKey(key);\n  }\n  var type = key.type, proxy = key.proxy;\n  src.removeEventListener ? src.removeEventListener(type, proxy, key.capture) : src.detachEvent ? src.detachEvent(goog.events.getOnString_(type), proxy) : src.addListener && src.removeListener && src.removeListener(proxy);\n  goog.events.listenerCountEstimate_--;\n  var listenerMap = goog.events.getListenerMap_(src);\n  listenerMap ? (listenerMap.removeByKey(key), 0 == listenerMap.getTypeCount() && (listenerMap.src = null, src[goog.events.LISTENER_MAP_PROP_] = null)) : key.markAsRemoved();\n  return !0;\n};\ngoog.events.unlistenWithWrapper = function(src, wrapper, listener, opt_capt, opt_handler) {\n  wrapper.unlisten(src, listener, opt_capt, opt_handler);\n};\ngoog.events.removeAll = function(obj, opt_type) {\n  if (!obj) {\n    return 0;\n  }\n  if (goog.events.Listenable.isImplementedBy(obj)) {\n    return obj.removeAllListeners(opt_type);\n  }\n  var listenerMap = goog.events.getListenerMap_(obj);\n  if (!listenerMap) {\n    return 0;\n  }\n  var count = 0, typeStr = opt_type && opt_type.toString(), type;\n  for (type in listenerMap.listeners) {\n    if (!typeStr || type == typeStr) {\n      for (var listeners = listenerMap.listeners[type].concat(), i = 0; i < listeners.length; ++i) {\n        goog.events.unlistenByKey(listeners[i]) && ++count;\n      }\n    }\n  }\n  return count;\n};\ngoog.events.getListeners = function(obj, type, capture) {\n  if (goog.events.Listenable.isImplementedBy(obj)) {\n    return obj.getListeners(type, capture);\n  }\n  if (!obj) {\n    return [];\n  }\n  var listenerMap = goog.events.getListenerMap_(obj);\n  return listenerMap ? listenerMap.getListeners(type, capture) : [];\n};\ngoog.events.getListener = function(src, type, listener, opt_capt, opt_handler) {\n  listener = goog.events.wrapListener(listener);\n  var capture = !!opt_capt;\n  if (goog.events.Listenable.isImplementedBy(src)) {\n    return src.getListener(type, listener, capture, opt_handler);\n  }\n  if (!src) {\n    return null;\n  }\n  var listenerMap = goog.events.getListenerMap_(src);\n  return listenerMap ? listenerMap.getListener(type, listener, capture, opt_handler) : null;\n};\ngoog.events.hasListener = function(obj, opt_type, opt_capture) {\n  if (goog.events.Listenable.isImplementedBy(obj)) {\n    return obj.hasListener(opt_type, opt_capture);\n  }\n  var listenerMap = goog.events.getListenerMap_(obj);\n  return !!listenerMap && listenerMap.hasListener(opt_type, opt_capture);\n};\ngoog.events.expose = function(e) {\n  var str = [], key;\n  for (key in e) {\n    e[key] && e[key].id ? str.push(key + \" = \" + e[key] + \" (\" + e[key].id + \")\") : str.push(key + \" = \" + e[key]);\n  }\n  return str.join(\"\\n\");\n};\ngoog.events.getOnString_ = function(type) {\n  return type in goog.events.onStringMap_ ? goog.events.onStringMap_[type] : goog.events.onStringMap_[type] = goog.events.onString_ + type;\n};\ngoog.events.fireListeners = function(obj, type, capture, eventObject) {\n  return goog.events.Listenable.isImplementedBy(obj) ? obj.fireListeners(type, capture, eventObject) : goog.events.fireListeners_(obj, type, capture, eventObject);\n};\ngoog.events.fireListeners_ = function(obj, type, capture, eventObject) {\n  var retval = !0, listenerMap = goog.events.getListenerMap_(obj);\n  if (listenerMap) {\n    var listenerArray = listenerMap.listeners[type.toString()];\n    if (listenerArray) {\n      listenerArray = listenerArray.concat();\n      for (var i = 0; i < listenerArray.length; i++) {\n        var listener = listenerArray[i];\n        if (listener && listener.capture == capture && !listener.removed) {\n          var result = goog.events.fireListener(listener, eventObject);\n          retval = retval && !1 !== result;\n        }\n      }\n    }\n  }\n  return retval;\n};\ngoog.events.fireListener = function(listener, eventObject) {\n  var listenerFn = listener.listener, listenerHandler = listener.handler || listener.src;\n  listener.callOnce && goog.events.unlistenByKey(listener);\n  return listenerFn.call(listenerHandler, eventObject);\n};\ngoog.events.getTotalListenerCount = function() {\n  return goog.events.listenerCountEstimate_;\n};\ngoog.events.dispatchEvent = function(src, e) {\n  goog.asserts.assert(goog.events.Listenable.isImplementedBy(src), \"Can not use goog.events.dispatchEvent with non-goog.events.Listenable instance.\");\n  return src.dispatchEvent(e);\n};\ngoog.events.protectBrowserEventEntryPoint = function(errorHandler) {\n  goog.events.handleBrowserEvent_ = errorHandler.protectEntryPoint(goog.events.handleBrowserEvent_);\n};\ngoog.events.handleBrowserEvent_ = function(listener, opt_evt) {\n  return listener.removed ? !0 : goog.events.fireListener(listener, new goog.events.BrowserEvent(opt_evt, this));\n};\ngoog.events.markIeEvent_ = function(e) {\n  var useReturnValue = !1;\n  if (0 == e.keyCode) {\n    try {\n      e.keyCode = -1;\n      return;\n    } catch (ex) {\n      useReturnValue = !0;\n    }\n  }\n  if (useReturnValue || void 0 == e.returnValue) {\n    e.returnValue = !0;\n  }\n};\ngoog.events.isMarkedIeEvent_ = function(e) {\n  return 0 > e.keyCode || void 0 != e.returnValue;\n};\ngoog.events.uniqueIdCounter_ = 0;\ngoog.events.getUniqueId = function(identifier) {\n  return identifier + \"_\" + goog.events.uniqueIdCounter_++;\n};\ngoog.events.getListenerMap_ = function(src) {\n  var listenerMap = src[goog.events.LISTENER_MAP_PROP_];\n  return listenerMap instanceof goog.events.ListenerMap ? listenerMap : null;\n};\ngoog.events.LISTENER_WRAPPER_PROP_ = \"__closure_events_fn_\" + (1E9 * Math.random() >>> 0);\ngoog.events.wrapListener = function(listener) {\n  goog.asserts.assert(listener, \"Listener can not be null.\");\n  if (\"function\" === typeof listener) {\n    return listener;\n  }\n  goog.asserts.assert(listener.handleEvent, \"An object listener must have handleEvent method.\");\n  listener[goog.events.LISTENER_WRAPPER_PROP_] || (listener[goog.events.LISTENER_WRAPPER_PROP_] = function(e) {\n    return listener.handleEvent(e);\n  });\n  return listener[goog.events.LISTENER_WRAPPER_PROP_];\n};\ngoog.debug.entryPointRegistry.register(function(transformer) {\n  goog.events.handleBrowserEvent_ = transformer(goog.events.handleBrowserEvent_);\n});\ngoog.events.EventTarget = function() {\n  goog.Disposable.call(this);\n  this.eventTargetListeners_ = new goog.events.ListenerMap(this);\n  this.actualEventTarget_ = this;\n  this.parentEventTarget_ = null;\n};\ngoog.inherits(goog.events.EventTarget, goog.Disposable);\ngoog.events.Listenable.addImplementation(goog.events.EventTarget);\ngoog.events.EventTarget.MAX_ANCESTORS_ = 1E3;\ngoog.events.EventTarget.prototype.getParentEventTarget = function() {\n  return this.parentEventTarget_;\n};\ngoog.events.EventTarget.prototype.setParentEventTarget = function(parent) {\n  this.parentEventTarget_ = parent;\n};\ngoog.events.EventTarget.prototype.addEventListener = function(type, handler, opt_capture, opt_handlerScope) {\n  goog.events.listen(this, type, handler, opt_capture, opt_handlerScope);\n};\ngoog.events.EventTarget.prototype.removeEventListener = function(type, handler, opt_capture, opt_handlerScope) {\n  goog.events.unlisten(this, type, handler, opt_capture, opt_handlerScope);\n};\ngoog.events.EventTarget.prototype.dispatchEvent = function(e) {\n  this.assertInitialized_();\n  var ancestor = this.getParentEventTarget();\n  if (ancestor) {\n    var ancestorsTree = [];\n    for (var ancestorCount = 1; ancestor; ancestor = ancestor.getParentEventTarget()) {\n      ancestorsTree.push(ancestor), goog.asserts.assert(++ancestorCount < goog.events.EventTarget.MAX_ANCESTORS_, \"infinite loop\");\n    }\n  }\n  return goog.events.EventTarget.dispatchEventInternal_(this.actualEventTarget_, e, ancestorsTree);\n};\ngoog.events.EventTarget.prototype.disposeInternal = function() {\n  goog.events.EventTarget.superClass_.disposeInternal.call(this);\n  this.removeAllListeners();\n  this.parentEventTarget_ = null;\n};\ngoog.events.EventTarget.prototype.listen = function(type, listener, opt_useCapture, opt_listenerScope) {\n  this.assertInitialized_();\n  return this.eventTargetListeners_.add(String(type), listener, !1, opt_useCapture, opt_listenerScope);\n};\ngoog.events.EventTarget.prototype.listenOnce = function(type, listener, opt_useCapture, opt_listenerScope) {\n  return this.eventTargetListeners_.add(String(type), listener, !0, opt_useCapture, opt_listenerScope);\n};\ngoog.events.EventTarget.prototype.unlisten = function(type, listener, opt_useCapture, opt_listenerScope) {\n  return this.eventTargetListeners_.remove(String(type), listener, opt_useCapture, opt_listenerScope);\n};\ngoog.events.EventTarget.prototype.unlistenByKey = function(key) {\n  return this.eventTargetListeners_.removeByKey(key);\n};\ngoog.events.EventTarget.prototype.removeAllListeners = function(opt_type) {\n  return this.eventTargetListeners_ ? this.eventTargetListeners_.removeAll(opt_type) : 0;\n};\ngoog.events.EventTarget.prototype.fireListeners = function(type, capture, eventObject) {\n  var listenerArray = this.eventTargetListeners_.listeners[String(type)];\n  if (!listenerArray) {\n    return !0;\n  }\n  listenerArray = listenerArray.concat();\n  for (var rv = !0, i = 0; i < listenerArray.length; ++i) {\n    var listener = listenerArray[i];\n    if (listener && !listener.removed && listener.capture == capture) {\n      var listenerFn = listener.listener, listenerHandler = listener.handler || listener.src;\n      listener.callOnce && this.unlistenByKey(listener);\n      rv = !1 !== listenerFn.call(listenerHandler, eventObject) && rv;\n    }\n  }\n  return rv && !eventObject.defaultPrevented;\n};\ngoog.events.EventTarget.prototype.getListeners = function(type, capture) {\n  return this.eventTargetListeners_.getListeners(String(type), capture);\n};\ngoog.events.EventTarget.prototype.getListener = function(type, listener, capture, opt_listenerScope) {\n  return this.eventTargetListeners_.getListener(String(type), listener, capture, opt_listenerScope);\n};\ngoog.events.EventTarget.prototype.hasListener = function(opt_type, opt_capture) {\n  return this.eventTargetListeners_.hasListener(void 0 !== opt_type ? String(opt_type) : void 0, opt_capture);\n};\ngoog.events.EventTarget.prototype.setTargetForTesting = function(target) {\n  this.actualEventTarget_ = target;\n};\ngoog.events.EventTarget.prototype.assertInitialized_ = function() {\n  goog.asserts.assert(this.eventTargetListeners_, \"Event target is not initialized. Did you call the superclass (goog.events.EventTarget) constructor?\");\n};\ngoog.events.EventTarget.dispatchEventInternal_ = function(target, e, opt_ancestorsTree) {\n  var type = e.type || e;\n  if (\"string\" === typeof e) {\n    e = new goog.events.Event(e, target);\n  } else if (e instanceof goog.events.Event) {\n    e.target = e.target || target;\n  } else {\n    var oldEvent = e;\n    e = new goog.events.Event(type, target);\n    module$contents$goog$object_extend(e, oldEvent);\n  }\n  var rv = !0;\n  if (opt_ancestorsTree) {\n    for (var i = opt_ancestorsTree.length - 1; !e.hasPropagationStopped() && 0 <= i; i--) {\n      var currentTarget = e.currentTarget = opt_ancestorsTree[i];\n      rv = currentTarget.fireListeners(type, !0, e) && rv;\n    }\n  }\n  e.hasPropagationStopped() || (currentTarget = e.currentTarget = target, rv = currentTarget.fireListeners(type, !0, e) && rv, e.hasPropagationStopped() || (rv = currentTarget.fireListeners(type, !1, e) && rv));\n  if (opt_ancestorsTree) {\n    for (i = 0; !e.hasPropagationStopped() && i < opt_ancestorsTree.length; i++) {\n      currentTarget = e.currentTarget = opt_ancestorsTree[i], rv = currentTarget.fireListeners(type, !1, e) && rv;\n    }\n  }\n  return rv;\n};\ngoog.structs = {};\ngoog.structs.Collection = function() {\n};\ngoog.collections = {};\ngoog.collections.iters = {};\nfunction module$contents$goog$collections$iters_getIterator(iterable) {\n  return iterable[goog.global.Symbol.iterator]();\n}\ngoog.collections.iters.getIterator = module$contents$goog$collections$iters_getIterator;\nfunction module$contents$goog$collections$iters_forEach(iterator, f) {\n  for (var result; !(result = iterator.next()).done;) {\n    f(result.value);\n  }\n}\ngoog.collections.iters.forEach = module$contents$goog$collections$iters_forEach;\nvar module$contents$goog$collections$iters_MapIterator = function(childIter, mapFn) {\n  this.childIterator_ = module$contents$goog$collections$iters_getIterator(childIter);\n  this.mapFn_ = mapFn;\n};\nmodule$contents$goog$collections$iters_MapIterator.prototype[Symbol.iterator] = function() {\n  return this;\n};\nmodule$contents$goog$collections$iters_MapIterator.prototype.next = function() {\n  var childResult = this.childIterator_.next();\n  return {value:childResult.done ? void 0 : this.mapFn_.call(void 0, childResult.value), done:childResult.done,};\n};\ngoog.collections.iters.map = function(iterable, f) {\n  return new module$contents$goog$collections$iters_MapIterator(iterable, f);\n};\nvar module$contents$goog$collections$iters_FilterIterator = function(childIter, filterFn) {\n  this.childIter_ = module$contents$goog$collections$iters_getIterator(childIter);\n  this.filterFn_ = filterFn;\n};\nmodule$contents$goog$collections$iters_FilterIterator.prototype[Symbol.iterator] = function() {\n  return this;\n};\nmodule$contents$goog$collections$iters_FilterIterator.prototype.next = function() {\n  for (;;) {\n    var childResult = this.childIter_.next();\n    if (childResult.done) {\n      return {done:!0, value:void 0};\n    }\n    if (this.filterFn_.call(void 0, childResult.value)) {\n      return childResult;\n    }\n  }\n};\ngoog.collections.iters.filter = function(iterable, f) {\n  return new module$contents$goog$collections$iters_FilterIterator(iterable, f);\n};\nvar module$contents$goog$collections$iters_ConcatIterator = function(iterators) {\n  this.iterators_ = iterators;\n  this.iterIndex_ = 0;\n};\nmodule$contents$goog$collections$iters_ConcatIterator.prototype[Symbol.iterator] = function() {\n  return this;\n};\nmodule$contents$goog$collections$iters_ConcatIterator.prototype.next = function() {\n  for (; this.iterIndex_ < this.iterators_.length;) {\n    var result = this.iterators_[this.iterIndex_].next();\n    if (!result.done) {\n      return result;\n    }\n    this.iterIndex_++;\n  }\n  return {done:!0};\n};\ngoog.collections.iters.concat = function() {\n  return new module$contents$goog$collections$iters_ConcatIterator($jscomp.getRestArguments.apply(0, arguments).map(module$contents$goog$collections$iters_getIterator));\n};\ngoog.collections.iters.toArray = function(iterator) {\n  var arr = [];\n  module$contents$goog$collections$iters_forEach(iterator, function(e) {\n    return arr.push(e);\n  });\n  return arr;\n};\ngoog.functions = {};\ngoog.functions.constant = function(retValue) {\n  return function() {\n    return retValue;\n  };\n};\ngoog.functions.FALSE = function() {\n  return !1;\n};\ngoog.functions.TRUE = function() {\n  return !0;\n};\ngoog.functions.NULL = function() {\n  return null;\n};\ngoog.functions.UNDEFINED = function() {\n};\ngoog.functions.EMPTY = goog.functions.UNDEFINED;\ngoog.functions.identity = function(opt_returnValue, var_args) {\n  return opt_returnValue;\n};\ngoog.functions.error = function(message) {\n  return function() {\n    throw Error(message);\n  };\n};\ngoog.functions.fail = function(err) {\n  return function() {\n    throw err;\n  };\n};\ngoog.functions.lock = function(f, opt_numArgs) {\n  opt_numArgs = opt_numArgs || 0;\n  return function() {\n    return f.apply(this, Array.prototype.slice.call(arguments, 0, opt_numArgs));\n  };\n};\ngoog.functions.nth = function(n) {\n  return function() {\n    return arguments[n];\n  };\n};\ngoog.functions.partialRight = function(fn, var_args) {\n  var rightArgs = Array.prototype.slice.call(arguments, 1);\n  return function() {\n    var self = this;\n    self === goog.global && (self = void 0);\n    var newArgs = Array.prototype.slice.call(arguments);\n    newArgs.push.apply(newArgs, rightArgs);\n    return fn.apply(self, newArgs);\n  };\n};\ngoog.functions.withReturnValue = function(f, retValue) {\n  return goog.functions.sequence(f, goog.functions.constant(retValue));\n};\ngoog.functions.equalTo = function(value, opt_useLooseComparison) {\n  return function(other) {\n    return opt_useLooseComparison ? value == other : value === other;\n  };\n};\ngoog.functions.compose = function(fn, var_args) {\n  var functions = arguments, length = functions.length;\n  return function() {\n    var result;\n    length && (result = functions[length - 1].apply(this, arguments));\n    for (var i = length - 2; 0 <= i; i--) {\n      result = functions[i].call(this, result);\n    }\n    return result;\n  };\n};\ngoog.functions.sequence = function(var_args) {\n  var functions = arguments, length = functions.length;\n  return function() {\n    for (var result, i = 0; i < length; i++) {\n      result = functions[i].apply(this, arguments);\n    }\n    return result;\n  };\n};\ngoog.functions.and = function(var_args) {\n  var functions = arguments, length = functions.length;\n  return function() {\n    for (var i = 0; i < length; i++) {\n      if (!functions[i].apply(this, arguments)) {\n        return !1;\n      }\n    }\n    return !0;\n  };\n};\ngoog.functions.or = function(var_args) {\n  var functions = arguments, length = functions.length;\n  return function() {\n    for (var i = 0; i < length; i++) {\n      if (functions[i].apply(this, arguments)) {\n        return !0;\n      }\n    }\n    return !1;\n  };\n};\ngoog.functions.not = function(f) {\n  return function() {\n    return !f.apply(this, arguments);\n  };\n};\ngoog.functions.create = function(constructor, var_args) {\n  var temp = function() {\n  };\n  temp.prototype = constructor.prototype;\n  var obj = new temp();\n  constructor.apply(obj, Array.prototype.slice.call(arguments, 1));\n  return obj;\n};\ngoog.functions.CACHE_RETURN_VALUE = !0;\ngoog.functions.cacheReturnValue = function(fn) {\n  var called = !1, value;\n  return function() {\n    if (!goog.functions.CACHE_RETURN_VALUE) {\n      return fn();\n    }\n    called || (value = fn(), called = !0);\n    return value;\n  };\n};\ngoog.functions.once = function(f) {\n  var inner = f;\n  return function() {\n    if (inner) {\n      var tmp = inner;\n      inner = null;\n      tmp();\n    }\n  };\n};\ngoog.functions.debounce = function(f, interval, opt_scope) {\n  var timeout = 0;\n  return function(var_args) {\n    goog.global.clearTimeout(timeout);\n    var args = arguments;\n    timeout = goog.global.setTimeout(function() {\n      f.apply(opt_scope, args);\n    }, interval);\n  };\n};\ngoog.functions.throttle = function(f, interval, opt_scope) {\n  var timeout = 0, shouldFire = !1, storedArgs = [], handleTimeout = function() {\n    timeout = 0;\n    shouldFire && (shouldFire = !1, fire());\n  }, fire = function() {\n    timeout = goog.global.setTimeout(handleTimeout, interval);\n    var args = storedArgs;\n    storedArgs = [];\n    f.apply(opt_scope, args);\n  };\n  return function(var_args) {\n    storedArgs = arguments;\n    timeout ? shouldFire = !0 : fire();\n  };\n};\ngoog.functions.rateLimit = function(f, interval, opt_scope) {\n  var timeout = 0, handleTimeout = function() {\n    timeout = 0;\n  };\n  return function(var_args) {\n    timeout || (timeout = goog.global.setTimeout(handleTimeout, interval), f.apply(opt_scope, arguments));\n  };\n};\ngoog.functions.isFunction = function(val) {\n  return \"function\" === typeof val;\n};\ngoog.math = {};\ngoog.math.randomInt = function(a) {\n  return Math.floor(Math.random() * a);\n};\ngoog.math.uniformRandom = function(a, b) {\n  return a + Math.random() * (b - a);\n};\ngoog.math.clamp = function(value, min, max) {\n  return Math.min(Math.max(value, min), max);\n};\ngoog.math.modulo = function(a, b) {\n  var r = a % b;\n  return 0 > r * b ? r + b : r;\n};\ngoog.math.lerp = function(a, b, x) {\n  return a + x * (b - a);\n};\ngoog.math.nearlyEquals = function(a, b, opt_tolerance) {\n  return Math.abs(a - b) <= (opt_tolerance || 1E-6);\n};\ngoog.math.standardAngle = function(angle) {\n  return goog.math.modulo(angle, 360);\n};\ngoog.math.standardAngleInRadians = function(angle) {\n  return goog.math.modulo(angle, 2 * Math.PI);\n};\ngoog.math.toRadians = function(angleDegrees) {\n  return angleDegrees * Math.PI / 180;\n};\ngoog.math.toDegrees = function(angleRadians) {\n  return 180 * angleRadians / Math.PI;\n};\ngoog.math.angleDx = function(degrees, radius) {\n  return radius * Math.cos(goog.math.toRadians(degrees));\n};\ngoog.math.angleDy = function(degrees, radius) {\n  return radius * Math.sin(goog.math.toRadians(degrees));\n};\ngoog.math.angle = function(x1, y1, x2, y2) {\n  return goog.math.standardAngle(goog.math.toDegrees(Math.atan2(y2 - y1, x2 - x1)));\n};\ngoog.math.angleDifference = function(startAngle, endAngle) {\n  var d = goog.math.standardAngle(endAngle) - goog.math.standardAngle(startAngle);\n  180 < d ? d -= 360 : -180 >= d && (d = 360 + d);\n  return d;\n};\ngoog.math.sign = function(x) {\n  return 0 < x ? 1 : 0 > x ? -1 : x;\n};\ngoog.math.longestCommonSubsequence = function(array1, array2, opt_compareFn, opt_collectorFn) {\n  for (var compare = opt_compareFn || function(a, b) {\n    return a == b;\n  }, collect = opt_collectorFn || function(i1, i2) {\n    return array1[i1];\n  }, length1 = array1.length, length2 = array2.length, arr = [], i = 0; i < length1 + 1; i++) {\n    arr[i] = [], arr[i][0] = 0;\n  }\n  for (var j = 0; j < length2 + 1; j++) {\n    arr[0][j] = 0;\n  }\n  for (i = 1; i <= length1; i++) {\n    for (j = 1; j <= length2; j++) {\n      compare(array1[i - 1], array2[j - 1]) ? arr[i][j] = arr[i - 1][j - 1] + 1 : arr[i][j] = Math.max(arr[i - 1][j], arr[i][j - 1]);\n    }\n  }\n  var result = [];\n  i = length1;\n  for (j = length2; 0 < i && 0 < j;) {\n    compare(array1[i - 1], array2[j - 1]) ? (result.unshift(collect(i - 1, j - 1)), i--, j--) : arr[i - 1][j] > arr[i][j - 1] ? i-- : j--;\n  }\n  return result;\n};\ngoog.math.sum = function(var_args) {\n  return Array.prototype.reduce.call(arguments, function(sum, value) {\n    return sum + value;\n  }, 0);\n};\ngoog.math.average = function(var_args) {\n  return goog.math.sum.apply(null, arguments) / arguments.length;\n};\ngoog.math.sampleVariance = function(var_args) {\n  var sampleSize = arguments.length;\n  if (2 > sampleSize) {\n    return 0;\n  }\n  var mean = goog.math.average.apply(null, arguments);\n  return goog.math.sum.apply(null, Array.prototype.map.call(arguments, function(val) {\n    return Math.pow(val - mean, 2);\n  })) / (sampleSize - 1);\n};\ngoog.math.standardDeviation = function(var_args) {\n  return Math.sqrt(goog.math.sampleVariance.apply(null, arguments));\n};\ngoog.math.isInt = function(num) {\n  return isFinite(num) && 0 == num % 1;\n};\ngoog.math.isFiniteNumber = function(num) {\n  return isFinite(num);\n};\ngoog.math.isNegativeZero = function(num) {\n  return 0 == num && 0 > 1 / num;\n};\ngoog.math.log10Floor = function(num) {\n  if (0 < num) {\n    var x = Math.round(Math.log(num) * Math.LOG10E);\n    return x - (parseFloat(\"1e\" + x) > num ? 1 : 0);\n  }\n  return 0 == num ? -Infinity : NaN;\n};\ngoog.math.safeFloor = function(num, opt_epsilon) {\n  goog.asserts.assert(void 0 === opt_epsilon || 0 < opt_epsilon);\n  return Math.floor(num + (opt_epsilon || 2E-15));\n};\ngoog.math.safeCeil = function(num, opt_epsilon) {\n  goog.asserts.assert(void 0 === opt_epsilon || 0 < opt_epsilon);\n  return Math.ceil(num - (opt_epsilon || 2E-15));\n};\ngoog.iter = {};\ngoog.iter.Iterable = {};\ngoog.iter.Iterator = function() {\n};\ngoog.iter.Iterator.prototype.next = function() {\n  return goog.iter.ES6_ITERATOR_DONE;\n};\ngoog.iter.ES6_ITERATOR_DONE = goog.debug.freeze({done:!0, value:void 0});\ngoog.iter.createEs6IteratorYield = function(value) {\n  return {value:value, done:!1};\n};\ngoog.iter.Iterator.prototype.__iterator__ = function(opt_keys) {\n  return this;\n};\ngoog.iter.toIterator = function(iterable) {\n  if (iterable instanceof goog.iter.Iterator) {\n    return iterable;\n  }\n  if (\"function\" == typeof iterable.__iterator__) {\n    return iterable.__iterator__(!1);\n  }\n  if (goog.isArrayLike(iterable)) {\n    var i = 0, newIter = new goog.iter.Iterator();\n    newIter.next = function() {\n      for (;;) {\n        if (i >= iterable.length) {\n          return goog.iter.ES6_ITERATOR_DONE;\n        }\n        if (i in iterable) {\n          return goog.iter.createEs6IteratorYield(iterable[i++]);\n        }\n        i++;\n      }\n    };\n    return newIter;\n  }\n  throw Error(\"Not implemented\");\n};\ngoog.iter.forEach = function(iterable, f, opt_obj) {\n  if (goog.isArrayLike(iterable)) {\n    module$contents$goog$array_forEach(iterable, f, opt_obj);\n  } else {\n    for (var iterator = goog.iter.toIterator(iterable);;) {\n      var $jscomp$destructuring$var12 = iterator.next();\n      if ($jscomp$destructuring$var12.done) {\n        break;\n      }\n      f.call(opt_obj, $jscomp$destructuring$var12.value, void 0, iterator);\n    }\n  }\n};\ngoog.iter.filter = function(iterable, f, opt_obj) {\n  var iterator = goog.iter.toIterator(iterable), newIter = new goog.iter.Iterator();\n  newIter.next = function() {\n    for (;;) {\n      var $jscomp$destructuring$var13 = iterator.next(), value = $jscomp$destructuring$var13.value;\n      if ($jscomp$destructuring$var13.done) {\n        return goog.iter.ES6_ITERATOR_DONE;\n      }\n      if (f.call(opt_obj, value, void 0, iterator)) {\n        return goog.iter.createEs6IteratorYield(value);\n      }\n    }\n  };\n  return newIter;\n};\ngoog.iter.filterFalse = function(iterable, f, opt_obj) {\n  return goog.iter.filter(iterable, goog.functions.not(f), opt_obj);\n};\ngoog.iter.range = function(startOrStop, opt_stop, opt_step) {\n  var start = 0, stop = startOrStop, step = opt_step || 1;\n  1 < arguments.length && (start = startOrStop, stop = +opt_stop);\n  if (0 == step) {\n    throw Error(\"Range step argument must not be zero\");\n  }\n  var newIter = new goog.iter.Iterator();\n  newIter.next = function() {\n    if (0 < step && start >= stop || 0 > step && start <= stop) {\n      return goog.iter.ES6_ITERATOR_DONE;\n    }\n    var rv = start;\n    start += step;\n    return goog.iter.createEs6IteratorYield(rv);\n  };\n  return newIter;\n};\ngoog.iter.join = function(iterable, deliminator) {\n  return goog.iter.toArray(iterable).join(deliminator);\n};\ngoog.iter.map = function(iterable, f, opt_obj) {\n  var iterator = goog.iter.toIterator(iterable), newIter = new goog.iter.Iterator();\n  newIter.next = function() {\n    var $jscomp$destructuring$var14 = iterator.next();\n    if ($jscomp$destructuring$var14.done) {\n      return goog.iter.ES6_ITERATOR_DONE;\n    }\n    var mappedVal = f.call(opt_obj, $jscomp$destructuring$var14.value, void 0, iterator);\n    return goog.iter.createEs6IteratorYield(mappedVal);\n  };\n  return newIter;\n};\ngoog.iter.reduce = function(iterable, f, val$jscomp$0, opt_obj) {\n  var rval = val$jscomp$0;\n  goog.iter.forEach(iterable, function(val) {\n    rval = f.call(opt_obj, rval, val);\n  });\n  return rval;\n};\ngoog.iter.some = function(iterable, f, opt_obj) {\n  for (var iterator = goog.iter.toIterator(iterable);;) {\n    var $jscomp$destructuring$var15 = iterator.next();\n    if ($jscomp$destructuring$var15.done) {\n      return !1;\n    }\n    if (f.call(opt_obj, $jscomp$destructuring$var15.value, void 0, iterator)) {\n      return !0;\n    }\n  }\n};\ngoog.iter.every = function(iterable, f, opt_obj) {\n  for (var iterator = goog.iter.toIterator(iterable);;) {\n    var $jscomp$destructuring$var16 = iterator.next();\n    if ($jscomp$destructuring$var16.done) {\n      return !0;\n    }\n    if (!f.call(opt_obj, $jscomp$destructuring$var16.value, void 0, iterator)) {\n      return !1;\n    }\n  }\n};\ngoog.iter.chain = function(var_args) {\n  return goog.iter.chainFromIterable(arguments);\n};\ngoog.iter.chainFromIterable = function(iterable) {\n  var iteratorOfIterators = goog.iter.toIterator(iterable), iter = new goog.iter.Iterator(), current = null;\n  iter.next = function() {\n    for (;;) {\n      if (null == current) {\n        var it = iteratorOfIterators.next();\n        if (it.done) {\n          return goog.iter.ES6_ITERATOR_DONE;\n        }\n        current = goog.iter.toIterator(it.value);\n      }\n      var it$46 = current.next();\n      if (it$46.done) {\n        current = null;\n      } else {\n        return goog.iter.createEs6IteratorYield(it$46.value);\n      }\n    }\n  };\n  return iter;\n};\ngoog.iter.dropWhile = function(iterable, f, opt_obj) {\n  var iterator = goog.iter.toIterator(iterable), newIter = new goog.iter.Iterator(), dropping = !0;\n  newIter.next = function() {\n    for (;;) {\n      var $jscomp$destructuring$var17 = iterator.next(), value = $jscomp$destructuring$var17.value;\n      if ($jscomp$destructuring$var17.done) {\n        return goog.iter.ES6_ITERATOR_DONE;\n      }\n      if (!dropping || !f.call(opt_obj, value, void 0, iterator)) {\n        return dropping = !1, goog.iter.createEs6IteratorYield(value);\n      }\n    }\n  };\n  return newIter;\n};\ngoog.iter.takeWhile = function(iterable, f, opt_obj) {\n  var iterator = goog.iter.toIterator(iterable), iter = new goog.iter.Iterator();\n  iter.next = function() {\n    var $jscomp$destructuring$var18 = iterator.next(), value = $jscomp$destructuring$var18.value;\n    return $jscomp$destructuring$var18.done ? goog.iter.ES6_ITERATOR_DONE : f.call(opt_obj, value, void 0, iterator) ? goog.iter.createEs6IteratorYield(value) : goog.iter.ES6_ITERATOR_DONE;\n  };\n  return iter;\n};\ngoog.iter.toArray = function(iterable) {\n  if (goog.isArrayLike(iterable)) {\n    return module$contents$goog$array_toArray(iterable);\n  }\n  iterable = goog.iter.toIterator(iterable);\n  var array = [];\n  goog.iter.forEach(iterable, function(val) {\n    array.push(val);\n  });\n  return array;\n};\ngoog.iter.equals = function(iterable1, iterable2, opt_equalsFn) {\n  var pairs = goog.iter.zipLongest({}, iterable1, iterable2), equalsFn = opt_equalsFn || module$contents$goog$array_defaultCompareEquality;\n  return goog.iter.every(pairs, function(pair) {\n    return equalsFn(pair[0], pair[1]);\n  });\n};\ngoog.iter.nextOrValue = function(iterable, defaultValue) {\n  var $jscomp$destructuring$var19 = goog.iter.toIterator(iterable).next();\n  return $jscomp$destructuring$var19.done ? defaultValue : $jscomp$destructuring$var19.value;\n};\ngoog.iter.product = function(var_args) {\n  if (Array.prototype.some.call(arguments, function(arr) {\n    return !arr.length;\n  }) || !arguments.length) {\n    return new goog.iter.Iterator();\n  }\n  var iter = new goog.iter.Iterator(), arrays = arguments, indices = module$contents$goog$array_repeat(0, arrays.length);\n  iter.next = function() {\n    if (indices) {\n      for (var retVal = module$contents$goog$array_map(indices, function(valueIndex, arrayIndex) {\n        return arrays[arrayIndex][valueIndex];\n      }), i = indices.length - 1; 0 <= i; i--) {\n        goog.asserts.assert(indices);\n        if (indices[i] < arrays[i].length - 1) {\n          indices[i]++;\n          break;\n        }\n        if (0 == i) {\n          indices = null;\n          break;\n        }\n        indices[i] = 0;\n      }\n      return goog.iter.createEs6IteratorYield(retVal);\n    }\n    return goog.iter.ES6_ITERATOR_DONE;\n  };\n  return iter;\n};\ngoog.iter.cycle = function(iterable) {\n  var baseIterator = goog.iter.toIterator(iterable), cache = [], cacheIndex = 0, iter = new goog.iter.Iterator(), useCache = !1;\n  iter.next = function() {\n    var returnElement = null;\n    if (!useCache) {\n      var it = baseIterator.next();\n      if (it.done) {\n        if (module$contents$goog$array_isEmpty(cache)) {\n          return goog.iter.ES6_ITERATOR_DONE;\n        }\n        useCache = !0;\n      } else {\n        return cache.push(it.value), it;\n      }\n    }\n    returnElement = cache[cacheIndex];\n    cacheIndex = (cacheIndex + 1) % cache.length;\n    return goog.iter.createEs6IteratorYield(returnElement);\n  };\n  return iter;\n};\ngoog.iter.count = function(opt_start, opt_step) {\n  var counter = opt_start || 0, step = void 0 !== opt_step ? opt_step : 1, iter = new goog.iter.Iterator();\n  iter.next = function() {\n    var returnValue = counter;\n    counter += step;\n    return goog.iter.createEs6IteratorYield(returnValue);\n  };\n  return iter;\n};\ngoog.iter.repeat = function(value) {\n  var iter = new goog.iter.Iterator();\n  iter.next = function() {\n    return goog.iter.createEs6IteratorYield(value);\n  };\n  return iter;\n};\ngoog.iter.accumulate = function(iterable) {\n  var iterator = goog.iter.toIterator(iterable), total = 0, iter = new goog.iter.Iterator();\n  iter.next = function() {\n    var $jscomp$destructuring$var20 = iterator.next();\n    if ($jscomp$destructuring$var20.done) {\n      return goog.iter.ES6_ITERATOR_DONE;\n    }\n    total += $jscomp$destructuring$var20.value;\n    return goog.iter.createEs6IteratorYield(total);\n  };\n  return iter;\n};\ngoog.iter.zip = function(var_args) {\n  var args = arguments, iter = new goog.iter.Iterator();\n  if (0 < args.length) {\n    var iterators = module$contents$goog$array_map(args, goog.iter.toIterator), allDone = !1;\n    iter.next = function() {\n      if (allDone) {\n        return goog.iter.ES6_ITERATOR_DONE;\n      }\n      for (var arr = [], i = 0, iterator = void 0; iterator = iterators[i++];) {\n        var it = iterator.next();\n        if (it.done) {\n          return allDone = !0, goog.iter.ES6_ITERATOR_DONE;\n        }\n        arr.push(it.value);\n      }\n      return goog.iter.createEs6IteratorYield(arr);\n    };\n  }\n  return iter;\n};\ngoog.iter.zipLongest = function(fillValue, var_args) {\n  var args = Array.prototype.slice.call(arguments, 1), iter = new goog.iter.Iterator();\n  if (0 < args.length) {\n    var iterators = module$contents$goog$array_map(args, goog.iter.toIterator), allDone = !1;\n    iter.next = function() {\n      if (allDone) {\n        return goog.iter.ES6_ITERATOR_DONE;\n      }\n      for (var iteratorsHaveValues = !1, arr = [], i = 0, iterator = void 0; iterator = iterators[i++];) {\n        var it = iterator.next();\n        it.done ? arr.push(fillValue) : (arr.push(it.value), iteratorsHaveValues = !0);\n      }\n      return iteratorsHaveValues ? goog.iter.createEs6IteratorYield(arr) : (allDone = !0, goog.iter.ES6_ITERATOR_DONE);\n    };\n  }\n  return iter;\n};\ngoog.iter.compress = function(iterable, selectors) {\n  var valueIterator = goog.iter.toIterator(iterable), selectorIterator = goog.iter.toIterator(selectors), iter = new goog.iter.Iterator(), allDone = !1;\n  iter.next = function() {\n    if (allDone) {\n      return goog.iter.ES6_ITERATOR_DONE;\n    }\n    for (;;) {\n      var valIt = valueIterator.next();\n      if (valIt.done) {\n        return allDone = !0, goog.iter.ES6_ITERATOR_DONE;\n      }\n      var selectorIt = selectorIterator.next();\n      if (selectorIt.done) {\n        return allDone = !0, goog.iter.ES6_ITERATOR_DONE;\n      }\n      var val = valIt.value;\n      if (selectorIt.value) {\n        return goog.iter.createEs6IteratorYield(val);\n      }\n    }\n  };\n  return iter;\n};\ngoog.iter.GroupByIterator_ = function(iterable, opt_keyFunc) {\n  this.iterator = goog.iter.toIterator(iterable);\n  this.keyFunc = opt_keyFunc || goog.functions.identity;\n};\ngoog.inherits(goog.iter.GroupByIterator_, goog.iter.Iterator);\ngoog.iter.GroupByIterator_.prototype.next = function() {\n  for (; this.currentKey == this.targetKey;) {\n    var it = this.iterator.next();\n    if (it.done) {\n      return goog.iter.ES6_ITERATOR_DONE;\n    }\n    this.currentValue = it.value;\n    this.currentKey = this.keyFunc(this.currentValue);\n  }\n  this.targetKey = this.currentKey;\n  return goog.iter.createEs6IteratorYield([this.currentKey, this.groupItems_(this.targetKey)]);\n};\ngoog.iter.GroupByIterator_.prototype.groupItems_ = function(targetKey) {\n  for (var arr = []; this.currentKey == targetKey;) {\n    arr.push(this.currentValue);\n    var it = this.iterator.next();\n    if (it.done) {\n      break;\n    }\n    this.currentValue = it.value;\n    this.currentKey = this.keyFunc(this.currentValue);\n  }\n  return arr;\n};\ngoog.iter.groupBy = function(iterable, opt_keyFunc) {\n  return new goog.iter.GroupByIterator_(iterable, opt_keyFunc);\n};\ngoog.iter.starMap = function(iterable, f, opt_obj) {\n  var iterator = goog.iter.toIterator(iterable), iter = new goog.iter.Iterator();\n  iter.next = function() {\n    var it = iterator.next();\n    if (it.done) {\n      return goog.iter.ES6_ITERATOR_DONE;\n    }\n    var args = goog.iter.toArray(it.value), value = f.apply(opt_obj, [].concat(args, void 0, iterator));\n    return goog.iter.createEs6IteratorYield(value);\n  };\n  return iter;\n};\ngoog.iter.tee = function(iterable, opt_num) {\n  function addNextIteratorValueToBuffers() {\n    var $jscomp$destructuring$var21 = iterator.next(), value = $jscomp$destructuring$var21.value;\n    if ($jscomp$destructuring$var21.done) {\n      return !1;\n    }\n    for (var i = 0, buffer = void 0; buffer = buffers[i++];) {\n      buffer.push(value);\n    }\n    return !0;\n  }\n  var iterator = goog.iter.toIterator(iterable), buffers = module$contents$goog$array_map(module$contents$goog$array_range(\"number\" === typeof opt_num ? opt_num : 2), function() {\n    return [];\n  });\n  return module$contents$goog$array_map(buffers, function createIterator(buffer) {\n    var iter = new goog.iter.Iterator();\n    iter.next = function() {\n      if (module$contents$goog$array_isEmpty(buffer) && !addNextIteratorValueToBuffers()) {\n        return goog.iter.ES6_ITERATOR_DONE;\n      }\n      goog.asserts.assert(!module$contents$goog$array_isEmpty(buffer));\n      return goog.iter.createEs6IteratorYield(buffer.shift());\n    };\n    return iter;\n  });\n};\ngoog.iter.enumerate = function(iterable, opt_start) {\n  return goog.iter.zip(goog.iter.count(opt_start), iterable);\n};\ngoog.iter.limit = function(iterable, limitSize) {\n  goog.asserts.assert(goog.math.isInt(limitSize) && 0 <= limitSize);\n  var iterator = goog.iter.toIterator(iterable), iter = new goog.iter.Iterator(), remaining = limitSize;\n  iter.next = function() {\n    return 0 < remaining-- ? iterator.next() : goog.iter.ES6_ITERATOR_DONE;\n  };\n  return iter;\n};\ngoog.iter.consume = function(iterable, count) {\n  goog.asserts.assert(goog.math.isInt(count) && 0 <= count);\n  for (var iterator = goog.iter.toIterator(iterable); 0 < count--;) {\n    goog.iter.nextOrValue(iterator, null);\n  }\n  return iterator;\n};\ngoog.iter.slice = function(iterable, start, opt_end) {\n  goog.asserts.assert(goog.math.isInt(start) && 0 <= start);\n  var iterator = goog.iter.consume(iterable, start);\n  \"number\" === typeof opt_end && (goog.asserts.assert(goog.math.isInt(opt_end) && opt_end >= start), iterator = goog.iter.limit(iterator, opt_end - start));\n  return iterator;\n};\ngoog.iter.hasDuplicates_ = function(arr) {\n  var deduped = [];\n  module$contents$goog$array_removeDuplicates(arr, deduped);\n  return arr.length != deduped.length;\n};\ngoog.iter.permutations = function(iterable, opt_length) {\n  var elements = goog.iter.toArray(iterable), product = goog.iter.product.apply(void 0, module$contents$goog$array_repeat(elements, \"number\" === typeof opt_length ? opt_length : elements.length));\n  return goog.iter.filter(product, function(arr) {\n    return !goog.iter.hasDuplicates_(arr);\n  });\n};\ngoog.iter.combinations = function(iterable, length) {\n  function getIndexFromElements(index) {\n    return elements[index];\n  }\n  var elements = goog.iter.toArray(iterable), indexes = goog.iter.range(elements.length), indexIterator = goog.iter.permutations(indexes, length), sortedIndexIterator = goog.iter.filter(indexIterator, function(arr) {\n    return module$contents$goog$array_isSorted(arr);\n  }), iter = new goog.iter.Iterator();\n  iter.next = function() {\n    var $jscomp$destructuring$var22 = sortedIndexIterator.next();\n    return $jscomp$destructuring$var22.done ? goog.iter.ES6_ITERATOR_DONE : goog.iter.createEs6IteratorYield(module$contents$goog$array_map($jscomp$destructuring$var22.value, getIndexFromElements));\n  };\n  return iter;\n};\ngoog.iter.combinationsWithReplacement = function(iterable, length) {\n  function getIndexFromElements(index) {\n    return elements[index];\n  }\n  var elements = goog.iter.toArray(iterable), indexes = module$contents$goog$array_range(elements.length), indexIterator = goog.iter.product.apply(void 0, module$contents$goog$array_repeat(indexes, length)), sortedIndexIterator = goog.iter.filter(indexIterator, function(arr) {\n    return module$contents$goog$array_isSorted(arr);\n  }), iter = new goog.iter.Iterator();\n  iter.next = function() {\n    var $jscomp$destructuring$var23 = sortedIndexIterator.next();\n    return $jscomp$destructuring$var23.done ? goog.iter.ES6_ITERATOR_DONE : goog.iter.createEs6IteratorYield(module$contents$goog$array_map($jscomp$destructuring$var23.value, getIndexFromElements));\n  };\n  return iter;\n};\ngoog.iter.es6 = {};\nvar module$contents$goog$iter$es6_ShimIterable = function() {\n};\nmodule$contents$goog$iter$es6_ShimIterable.prototype.__iterator__ = function() {\n};\nmodule$contents$goog$iter$es6_ShimIterable.prototype.toGoog = function() {\n};\nmodule$contents$goog$iter$es6_ShimIterable.prototype.toEs6 = function() {\n};\nmodule$contents$goog$iter$es6_ShimIterable.of = function(iter) {\n  if (iter instanceof module$contents$goog$iter$es6_ShimIterableImpl || iter instanceof module$contents$goog$iter$es6_ShimGoogIterator || iter instanceof module$contents$goog$iter$es6_ShimEs6Iterator) {\n    return iter;\n  }\n  if (\"function\" == typeof iter.next) {\n    return new module$contents$goog$iter$es6_ShimIterableImpl(function() {\n      return iter;\n    });\n  }\n  if (\"function\" == typeof iter[Symbol.iterator]) {\n    return new module$contents$goog$iter$es6_ShimIterableImpl(function() {\n      return iter[Symbol.iterator]();\n    });\n  }\n  if (\"function\" == typeof iter.__iterator__) {\n    return new module$contents$goog$iter$es6_ShimIterableImpl(function() {\n      return iter.__iterator__();\n    });\n  }\n  throw Error(\"Not an iterator or iterable.\");\n};\nvar module$contents$goog$iter$es6_ShimIterableImpl = function(func) {\n  this.func_ = func;\n};\nmodule$contents$goog$iter$es6_ShimIterableImpl.prototype.__iterator__ = function() {\n  return new module$contents$goog$iter$es6_ShimGoogIterator(this.func_());\n};\nmodule$contents$goog$iter$es6_ShimIterableImpl.prototype.toGoog = function() {\n  return new module$contents$goog$iter$es6_ShimGoogIterator(this.func_());\n};\nmodule$contents$goog$iter$es6_ShimIterableImpl.prototype[Symbol.iterator] = function() {\n  return new module$contents$goog$iter$es6_ShimEs6Iterator(this.func_());\n};\nmodule$contents$goog$iter$es6_ShimIterableImpl.prototype.toEs6 = function() {\n  return new module$contents$goog$iter$es6_ShimEs6Iterator(this.func_());\n};\nvar module$contents$goog$iter$es6_ShimGoogIterator = function(iter) {\n  goog.iter.Iterator.call(this);\n  this.iter_ = iter;\n};\n$jscomp.inherits(module$contents$goog$iter$es6_ShimGoogIterator, goog.iter.Iterator);\nmodule$contents$goog$iter$es6_ShimGoogIterator.prototype.next = function() {\n  return this.iter_.next();\n};\nmodule$contents$goog$iter$es6_ShimGoogIterator.prototype.toGoog = function() {\n  return this;\n};\nmodule$contents$goog$iter$es6_ShimGoogIterator.prototype[Symbol.iterator] = function() {\n  return new module$contents$goog$iter$es6_ShimEs6Iterator(this.iter_);\n};\nmodule$contents$goog$iter$es6_ShimGoogIterator.prototype.toEs6 = function() {\n  return new module$contents$goog$iter$es6_ShimEs6Iterator(this.iter_);\n};\nvar module$contents$goog$iter$es6_ShimEs6Iterator = function(iter) {\n  module$contents$goog$iter$es6_ShimIterableImpl.call(this, function() {\n    return iter;\n  });\n  this.iter_ = iter;\n};\n$jscomp.inherits(module$contents$goog$iter$es6_ShimEs6Iterator, module$contents$goog$iter$es6_ShimIterableImpl);\nmodule$contents$goog$iter$es6_ShimEs6Iterator.prototype.next = function() {\n  return this.iter_.next();\n};\ngoog.iter.es6.ShimIterable = module$contents$goog$iter$es6_ShimIterable;\ngoog.iter.es6.ShimEs6Iterator = module$contents$goog$iter$es6_ShimEs6Iterator;\ngoog.iter.es6.ShimGoogIterator = module$contents$goog$iter$es6_ShimGoogIterator;\ngoog.structs.Map = function(opt_map, var_args) {\n  this.map_ = {};\n  this.keys_ = [];\n  this.version_ = this.size = 0;\n  var argLength = arguments.length;\n  if (1 < argLength) {\n    if (argLength % 2) {\n      throw Error(\"Uneven number of arguments\");\n    }\n    for (var i = 0; i < argLength; i += 2) {\n      this.set(arguments[i], arguments[i + 1]);\n    }\n  } else {\n    opt_map && this.addAll(opt_map);\n  }\n};\ngoog.structs.Map.prototype.getCount = function() {\n  return this.size;\n};\ngoog.structs.Map.prototype.getValues = function() {\n  this.cleanupKeysArray_();\n  for (var rv = [], i = 0; i < this.keys_.length; i++) {\n    rv.push(this.map_[this.keys_[i]]);\n  }\n  return rv;\n};\ngoog.structs.Map.prototype.getKeys = function() {\n  this.cleanupKeysArray_();\n  return this.keys_.concat();\n};\ngoog.structs.Map.prototype.containsKey = function(key) {\n  return this.has(key);\n};\ngoog.structs.Map.prototype.has = function(key) {\n  return goog.structs.Map.hasKey_(this.map_, key);\n};\ngoog.structs.Map.prototype.containsValue = function(val) {\n  for (var i = 0; i < this.keys_.length; i++) {\n    var key = this.keys_[i];\n    if (goog.structs.Map.hasKey_(this.map_, key) && this.map_[key] == val) {\n      return !0;\n    }\n  }\n  return !1;\n};\ngoog.structs.Map.prototype.equals = function(otherMap, opt_equalityFn) {\n  if (this === otherMap) {\n    return !0;\n  }\n  if (this.size != otherMap.getCount()) {\n    return !1;\n  }\n  var equalityFn = opt_equalityFn || goog.structs.Map.defaultEquals;\n  this.cleanupKeysArray_();\n  for (var key, i = 0; key = this.keys_[i]; i++) {\n    if (!equalityFn(this.get(key), otherMap.get(key))) {\n      return !1;\n    }\n  }\n  return !0;\n};\ngoog.structs.Map.defaultEquals = function(a, b) {\n  return a === b;\n};\ngoog.structs.Map.prototype.isEmpty = function() {\n  return 0 == this.size;\n};\ngoog.structs.Map.prototype.clear = function() {\n  this.map_ = {};\n  this.keys_.length = 0;\n  this.setSizeInternal_(0);\n  this.version_ = 0;\n};\ngoog.structs.Map.prototype.remove = function(key) {\n  return this.delete(key);\n};\ngoog.structs.Map.prototype.delete = function(key) {\n  return goog.structs.Map.hasKey_(this.map_, key) ? (delete this.map_[key], this.setSizeInternal_(this.size - 1), this.version_++, this.keys_.length > 2 * this.size && this.cleanupKeysArray_(), !0) : !1;\n};\ngoog.structs.Map.prototype.cleanupKeysArray_ = function() {\n  if (this.size != this.keys_.length) {\n    for (var srcIndex = 0, destIndex = 0; srcIndex < this.keys_.length;) {\n      var key = this.keys_[srcIndex];\n      goog.structs.Map.hasKey_(this.map_, key) && (this.keys_[destIndex++] = key);\n      srcIndex++;\n    }\n    this.keys_.length = destIndex;\n  }\n  if (this.size != this.keys_.length) {\n    var seen = {};\n    for (destIndex = srcIndex = 0; srcIndex < this.keys_.length;) {\n      key = this.keys_[srcIndex], goog.structs.Map.hasKey_(seen, key) || (this.keys_[destIndex++] = key, seen[key] = 1), srcIndex++;\n    }\n    this.keys_.length = destIndex;\n  }\n};\ngoog.structs.Map.prototype.get = function(key, opt_val) {\n  return goog.structs.Map.hasKey_(this.map_, key) ? this.map_[key] : opt_val;\n};\ngoog.structs.Map.prototype.set = function(key, value) {\n  goog.structs.Map.hasKey_(this.map_, key) || (this.setSizeInternal_(this.size + 1), this.keys_.push(key), this.version_++);\n  this.map_[key] = value;\n};\ngoog.structs.Map.prototype.addAll = function(map) {\n  if (map instanceof goog.structs.Map) {\n    for (var keys = map.getKeys(), i = 0; i < keys.length; i++) {\n      this.set(keys[i], map.get(keys[i]));\n    }\n  } else {\n    for (var key in map) {\n      this.set(key, map[key]);\n    }\n  }\n};\ngoog.structs.Map.prototype.forEach = function(f, opt_obj) {\n  for (var keys = this.getKeys(), i = 0; i < keys.length; i++) {\n    var key = keys[i], value = this.get(key);\n    f.call(opt_obj, value, key, this);\n  }\n};\ngoog.structs.Map.prototype.clone = function() {\n  return new goog.structs.Map(this);\n};\ngoog.structs.Map.prototype.transpose = function() {\n  for (var transposed = new goog.structs.Map(), i = 0; i < this.keys_.length; i++) {\n    var key = this.keys_[i];\n    transposed.set(this.map_[key], key);\n  }\n  return transposed;\n};\ngoog.structs.Map.prototype.toObject = function() {\n  this.cleanupKeysArray_();\n  for (var obj = {}, i = 0; i < this.keys_.length; i++) {\n    var key = this.keys_[i];\n    obj[key] = this.map_[key];\n  }\n  return obj;\n};\ngoog.structs.Map.prototype.getKeyIterator = function() {\n  return this.__iterator__(!0);\n};\ngoog.structs.Map.prototype.keys = function() {\n  return module$contents$goog$iter$es6_ShimIterable.of(this.getKeyIterator()).toEs6();\n};\ngoog.structs.Map.prototype.getValueIterator = function() {\n  return this.__iterator__(!1);\n};\ngoog.structs.Map.prototype.values = function() {\n  return module$contents$goog$iter$es6_ShimIterable.of(this.getValueIterator()).toEs6();\n};\ngoog.structs.Map.prototype.entries = function() {\n  var self = this;\n  return goog.collections.iters.map(this.keys(), function(key) {\n    return [key, self.get(key)];\n  });\n};\ngoog.structs.Map.prototype.__iterator__ = function(opt_keys) {\n  this.cleanupKeysArray_();\n  var i = 0, version = this.version_, selfObj = this, newIter = new goog.iter.Iterator();\n  newIter.next = function() {\n    if (version != selfObj.version_) {\n      throw Error(\"The map has changed since the iterator was created\");\n    }\n    if (i >= selfObj.keys_.length) {\n      return goog.iter.ES6_ITERATOR_DONE;\n    }\n    var key = selfObj.keys_[i++];\n    return goog.iter.createEs6IteratorYield(opt_keys ? key : selfObj.map_[key]);\n  };\n  return newIter;\n};\ngoog.structs.Map.prototype.setSizeInternal_ = function(newSize) {\n  this.size = newSize;\n};\ngoog.structs.Map.hasKey_ = function(obj, key) {\n  return Object.prototype.hasOwnProperty.call(obj, key);\n};\ngoog.structs.getCount = function(col) {\n  return col.getCount && \"function\" == typeof col.getCount ? col.getCount() : goog.isArrayLike(col) || \"string\" === typeof col ? col.length : module$contents$goog$object_getCount(col);\n};\ngoog.structs.getValues = function(col) {\n  if (col.getValues && \"function\" == typeof col.getValues) {\n    return col.getValues();\n  }\n  if (\"undefined\" !== typeof Map && col instanceof Map || \"undefined\" !== typeof Set && col instanceof Set) {\n    return Array.from(col.values());\n  }\n  if (\"string\" === typeof col) {\n    return col.split(\"\");\n  }\n  if (goog.isArrayLike(col)) {\n    for (var rv = [], l = col.length, i = 0; i < l; i++) {\n      rv.push(col[i]);\n    }\n    return rv;\n  }\n  return module$contents$goog$object_getValues(col);\n};\ngoog.structs.getKeys = function(col) {\n  if (col.getKeys && \"function\" == typeof col.getKeys) {\n    return col.getKeys();\n  }\n  if (!col.getValues || \"function\" != typeof col.getValues) {\n    if (\"undefined\" !== typeof Map && col instanceof Map) {\n      return Array.from(col.keys());\n    }\n    if (!(\"undefined\" !== typeof Set && col instanceof Set)) {\n      if (goog.isArrayLike(col) || \"string\" === typeof col) {\n        for (var rv = [], l = col.length, i = 0; i < l; i++) {\n          rv.push(i);\n        }\n        return rv;\n      }\n      return module$contents$goog$object_getKeys(col);\n    }\n  }\n};\ngoog.structs.contains = function(col, val) {\n  return col.contains && \"function\" == typeof col.contains ? col.contains(val) : col.containsValue && \"function\" == typeof col.containsValue ? col.containsValue(val) : goog.isArrayLike(col) || \"string\" === typeof col ? module$contents$goog$array_contains(col, val) : module$contents$goog$object_containsValue(col, val);\n};\ngoog.structs.isEmpty = function(col) {\n  return col.isEmpty && \"function\" == typeof col.isEmpty ? col.isEmpty() : goog.isArrayLike(col) || \"string\" === typeof col ? 0 === col.length : module$contents$goog$object_isEmpty(col);\n};\ngoog.structs.clear = function(col) {\n  col.clear && \"function\" == typeof col.clear ? col.clear() : goog.isArrayLike(col) ? module$contents$goog$array_clear(col) : module$contents$goog$object_clear(col);\n};\ngoog.structs.forEach = function(col, f, opt_obj) {\n  if (col.forEach && \"function\" == typeof col.forEach) {\n    col.forEach(f, opt_obj);\n  } else if (goog.isArrayLike(col) || \"string\" === typeof col) {\n    Array.prototype.forEach.call(col, f, opt_obj);\n  } else {\n    for (var keys = goog.structs.getKeys(col), values = goog.structs.getValues(col), l = values.length, i = 0; i < l; i++) {\n      f.call(opt_obj, values[i], keys && keys[i], col);\n    }\n  }\n};\ngoog.structs.filter = function(col, f, opt_obj) {\n  if (\"function\" == typeof col.filter) {\n    return col.filter(f, opt_obj);\n  }\n  if (goog.isArrayLike(col) || \"string\" === typeof col) {\n    return Array.prototype.filter.call(col, f, opt_obj);\n  }\n  var keys = goog.structs.getKeys(col), values = goog.structs.getValues(col), l = values.length;\n  if (keys) {\n    var rv = {};\n    for (var i = 0; i < l; i++) {\n      f.call(opt_obj, values[i], keys[i], col) && (rv[keys[i]] = values[i]);\n    }\n  } else {\n    for (rv = [], i = 0; i < l; i++) {\n      f.call(opt_obj, values[i], void 0, col) && rv.push(values[i]);\n    }\n  }\n  return rv;\n};\ngoog.structs.map = function(col, f, opt_obj) {\n  if (\"function\" == typeof col.map) {\n    return col.map(f, opt_obj);\n  }\n  if (goog.isArrayLike(col) || \"string\" === typeof col) {\n    return Array.prototype.map.call(col, f, opt_obj);\n  }\n  var keys = goog.structs.getKeys(col), values = goog.structs.getValues(col), l = values.length;\n  if (keys) {\n    var rv = {};\n    for (var i = 0; i < l; i++) {\n      rv[keys[i]] = f.call(opt_obj, values[i], keys[i], col);\n    }\n  } else {\n    for (rv = [], i = 0; i < l; i++) {\n      rv[i] = f.call(opt_obj, values[i], void 0, col);\n    }\n  }\n  return rv;\n};\ngoog.structs.some = function(col, f, opt_obj) {\n  if (\"function\" == typeof col.some) {\n    return col.some(f, opt_obj);\n  }\n  if (goog.isArrayLike(col) || \"string\" === typeof col) {\n    return Array.prototype.some.call(col, f, opt_obj);\n  }\n  for (var keys = goog.structs.getKeys(col), values = goog.structs.getValues(col), l = values.length, i = 0; i < l; i++) {\n    if (f.call(opt_obj, values[i], keys && keys[i], col)) {\n      return !0;\n    }\n  }\n  return !1;\n};\ngoog.structs.every = function(col, f, opt_obj) {\n  if (\"function\" == typeof col.every) {\n    return col.every(f, opt_obj);\n  }\n  if (goog.isArrayLike(col) || \"string\" === typeof col) {\n    return Array.prototype.every.call(col, f, opt_obj);\n  }\n  for (var keys = goog.structs.getKeys(col), values = goog.structs.getValues(col), l = values.length, i = 0; i < l; i++) {\n    if (!f.call(opt_obj, values[i], keys && keys[i], col)) {\n      return !1;\n    }\n  }\n  return !0;\n};\ngoog.structs.Set = function(opt_values) {\n  this.map_ = new goog.structs.Map();\n  this.size = 0;\n  opt_values && this.addAll(opt_values);\n};\ngoog.structs.Set.getUid_ = goog.getUid;\ngoog.structs.Set.getKey_ = function(val) {\n  var type = typeof val;\n  return \"object\" == type && val || \"function\" == type ? \"o\" + goog.getUid(val) : type.slice(0, 1) + val;\n};\ngoog.structs.Set.prototype.getCount = function() {\n  return this.map_.size;\n};\ngoog.structs.Set.prototype.add = function(element) {\n  this.map_.set(goog.structs.Set.getKey_(element), element);\n  this.setSizeInternal_(this.map_.size);\n};\ngoog.structs.Set.prototype.addAll = function(col) {\n  for (var values = goog.structs.getValues(col), l = values.length, i = 0; i < l; i++) {\n    this.add(values[i]);\n  }\n  this.setSizeInternal_(this.map_.size);\n};\ngoog.structs.Set.prototype.removeAll = function(col) {\n  for (var values = goog.structs.getValues(col), l = values.length, i = 0; i < l; i++) {\n    this.remove(values[i]);\n  }\n  this.setSizeInternal_(this.map_.size);\n};\ngoog.structs.Set.prototype.delete = function(element) {\n  var rv = this.map_.remove(goog.structs.Set.getKey_(element));\n  this.setSizeInternal_(this.map_.size);\n  return rv;\n};\ngoog.structs.Set.prototype.remove = function(element) {\n  return this.delete(element);\n};\ngoog.structs.Set.prototype.clear = function() {\n  this.map_.clear();\n  this.setSizeInternal_(0);\n};\ngoog.structs.Set.prototype.isEmpty = function() {\n  return 0 === this.map_.size;\n};\ngoog.structs.Set.prototype.has = function(element) {\n  return this.map_.containsKey(goog.structs.Set.getKey_(element));\n};\ngoog.structs.Set.prototype.contains = function(element) {\n  return this.map_.containsKey(goog.structs.Set.getKey_(element));\n};\ngoog.structs.Set.prototype.containsAll = function(col) {\n  return goog.structs.every(col, this.contains, this);\n};\ngoog.structs.Set.prototype.intersection = function(col) {\n  for (var result = new goog.structs.Set(), values = goog.structs.getValues(col), i = 0; i < values.length; i++) {\n    var value = values[i];\n    this.contains(value) && result.add(value);\n  }\n  return result;\n};\ngoog.structs.Set.prototype.difference = function(col) {\n  var result = this.clone();\n  result.removeAll(col);\n  return result;\n};\ngoog.structs.Set.prototype.getValues = function() {\n  return this.map_.getValues();\n};\ngoog.structs.Set.prototype.values = function() {\n  return this.map_.values();\n};\ngoog.structs.Set.prototype.clone = function() {\n  return new goog.structs.Set(this);\n};\ngoog.structs.Set.prototype.equals = function(col) {\n  return this.getCount() == goog.structs.getCount(col) && this.isSubsetOf(col);\n};\ngoog.structs.Set.prototype.isSubsetOf = function(col) {\n  var colCount = goog.structs.getCount(col);\n  if (this.getCount() > colCount) {\n    return !1;\n  }\n  !(col instanceof goog.structs.Set) && 5 < colCount && (col = new goog.structs.Set(col));\n  return goog.structs.every(this, function(value) {\n    return goog.structs.contains(col, value);\n  });\n};\ngoog.structs.Set.prototype.__iterator__ = function(opt_keys) {\n  return this.map_.__iterator__(!1);\n};\ngoog.structs.Set.prototype[Symbol.iterator] = function() {\n  return this.values();\n};\ngoog.structs.Set.prototype.setSizeInternal_ = function(newSize) {\n  this.size = newSize;\n};\nvar ee = {AbstractOverlay:function(url, mapId, token, opt_init, opt_profiler) {\n  goog.events.EventTarget.call(this);\n  this.mapId = mapId;\n  this.token = token;\n  this.tilesLoading = [];\n  this.tilesFailed = new goog.structs.Set();\n  this.tileCounter = 0;\n  this.url = url;\n}};\ngoog.inherits(ee.AbstractOverlay, goog.events.EventTarget);\ngoog.exportSymbol(\"ee.AbstractOverlay\", ee.AbstractOverlay);\nee.AbstractOverlay.EventType = {TILE_LOADED:\"tileevent\"};\nee.AbstractOverlay.prototype.getTileId = function(coord, zoom) {\n  var maxCoord = 1 << zoom, x = coord.x % maxCoord;\n  0 > x && (x += maxCoord);\n  return [this.mapId, zoom, x, coord.y].join(\"/\");\n};\nee.AbstractOverlay.prototype.getLoadingTilesCount = function() {\n  return this.tilesLoading.length;\n};\nee.AbstractOverlay.prototype.getFailedTilesCount = function() {\n  return this.tilesFailed.getCount();\n};\nee.TileEvent = function(count) {\n  goog.events.Event.call(this, ee.AbstractOverlay.EventType.TILE_LOADED);\n  this.count = count;\n};\ngoog.inherits(ee.TileEvent, goog.events.Event);\nvar module$exports$tslib = {}, module$contents$tslib_extendStatics = Object.setPrototypeOf || function(d, b) {\n  for (var p in b) {\n    Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);\n  }\n};\nmodule$exports$tslib.__extends = function(d, b) {\n  function __() {\n    this.constructor = d;\n  }\n  module$contents$tslib_extendStatics(d, b);\n  d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nmodule$exports$tslib.__assign = Object.assign || function(t) {\n  for (var s, i = 1, n = arguments.length; i < n; i++) {\n    s = arguments[i];\n    for (var p in s) {\n      Object.prototype.hasOwnProperty.call(s, p) && (t[p] = s[p]);\n    }\n  }\n  return t;\n};\nmodule$exports$tslib.__rest = function(s, e) {\n  var t = {}, p;\n  for (p in s) {\n    Object.prototype.hasOwnProperty.call(s, p) && 0 > e.indexOf(p) && (t[p] = s[p]);\n  }\n  if (null != s && \"function\" === typeof Object.getOwnPropertySymbols) {\n    var i = 0;\n    for (p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n      0 > e.indexOf(p[i]) && Object.prototype.propertyIsEnumerable.call(s, p[i]) && (t[p[i]] = s[p[i]]);\n    }\n  }\n  return t;\n};\nmodule$exports$tslib.__decorate = function(decorators, target, key, desc) {\n  var c = arguments.length, r = 3 > c ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n  if (\"object\" === typeof Reflect && Reflect && \"function\" === typeof Reflect.decorate) {\n    r = Reflect.decorate(decorators, target, key, desc);\n  } else {\n    for (var i = decorators.length - 1; 0 <= i; i--) {\n      if (d = decorators[i]) {\n        r = (3 > c ? d(r) : 3 < c ? d(target, key, r) : d(target, key)) || r;\n      }\n    }\n  }\n  return 3 < c && r && Object.defineProperty(target, key, r), r;\n};\nmodule$exports$tslib.__param = function(paramIndex, decorator) {\n  return function(target, key) {\n    decorator(target, key, paramIndex);\n  };\n};\nmodule$exports$tslib.__metadata = function(metadataKey, metadataValue) {\n  if (\"object\" === typeof Reflect && Reflect && \"function\" === typeof Reflect.metadata) {\n    return Reflect.metadata(metadataKey, metadataValue);\n  }\n};\nmodule$exports$tslib.__awaiter = function(thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function(resolve) {\n      resolve(value);\n    });\n  }\n  return new (P || (P = Promise))(function(resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nmodule$exports$tslib.__generator = function(thisArg, body) {\n  function verb(n) {\n    return function(v) {\n      return step([n, v]);\n    };\n  }\n  function step(op) {\n    if (f) {\n      throw new TypeError(\"Generator is already executing.\");\n    }\n    for (; _;) {\n      try {\n        if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) {\n          return t;\n        }\n        if (y = 0, t) {\n          op = [op[0] & 2, t.value];\n        }\n        switch(op[0]) {\n          case 0:\n          case 1:\n            t = op;\n            break;\n          case 4:\n            return _.label++, {value:op[1], done:!1};\n          case 5:\n            _.label++;\n            y = op[1];\n            op = [0];\n            continue;\n          case 7:\n            op = _.ops.pop();\n            _.trys.pop();\n            continue;\n          default:\n            if (!(t = _.trys, t = 0 < t.length && t[t.length - 1]) && (6 === op[0] || 2 === op[0])) {\n              _ = 0;\n              continue;\n            }\n            if (3 === op[0] && (!t || op[1] > t[0] && op[1] < t[3])) {\n              _.label = op[1];\n            } else {\n              if (6 === op[0] && _.label < t[1]) {\n                _.label = t[1], t = op;\n              } else {\n                if (t && _.label < t[2]) {\n                  _.label = t[2], _.ops.push(op);\n                } else {\n                  t[2] && _.ops.pop();\n                  _.trys.pop();\n                  continue;\n                }\n              }\n            }\n        }\n        op = body.call(thisArg, _);\n      } catch (e) {\n        op = [6, e], y = 0;\n      } finally {\n        f = t = 0;\n      }\n    }\n    if (op[0] & 5) {\n      throw op[1];\n    }\n    return {value:op[0] ? op[1] : void 0, done:!0};\n  }\n  var _ = {label:0, sent:function() {\n    if (t[0] & 1) {\n      throw t[1];\n    }\n    return t[1];\n  }, trys:[], ops:[]}, f, y, t, g;\n  return g = {next:verb(0), \"throw\":verb(1), \"return\":verb(2)}, \"function\" === typeof Symbol && (g[Symbol.iterator] = function() {\n    return g;\n  }), g;\n};\nmodule$exports$tslib.__exportStar = function(m, o) {\n  for (var p in m) {\n    o.hasOwnProperty(p) || (o[p] = m[p]);\n  }\n};\nmodule$exports$tslib.__values = function(o) {\n  var m = \"function\" === typeof Symbol && o[Symbol.iterator], i = 0;\n  return m ? m.call(o) : {next:function() {\n    o && i >= o.length && (o = void 0);\n    return {value:o && o[i++], done:!o};\n  }};\n};\nmodule$exports$tslib.__read = function(o, n) {\n  var m = \"function\" === typeof Symbol && o[Symbol.iterator];\n  if (!m) {\n    return o;\n  }\n  var i = m.call(o), r, ar = [];\n  try {\n    for (; (void 0 === n || 0 < n--) && !(r = i.next()).done;) {\n      ar.push(r.value);\n    }\n  } catch (error) {\n    var e = {error:error};\n  } finally {\n    try {\n      r && !r.done && (m = i[\"return\"]) && m.call(i);\n    } finally {\n      if (e) {\n        throw e.error;\n      }\n    }\n  }\n  return ar;\n};\nmodule$exports$tslib.__spread = function() {\n  for (var ar = [], i = 0; i < arguments.length; i++) {\n    ar = ar.concat(module$exports$tslib.__read(arguments[i]));\n  }\n  return ar;\n};\nmodule$exports$tslib.__spreadArrays = function() {\n  for (var s = 0, i = 0, il = arguments.length; i < il; i++) {\n    s += arguments[i].length;\n  }\n  var r = Array(s), k = 0;\n  for (i = 0; i < il; i++) {\n    for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++) {\n      r[k] = a[j];\n    }\n  }\n  return r;\n};\nmodule$exports$tslib.__spreadArray = function(to, from, pack) {\n  if (!(Array.isArray(from) || from instanceof NodeList)) {\n    throw new TypeError(\"Expected an Array or NodeList: \" + String(from));\n  }\n  if (pack || 2 === arguments.length) {\n    for (var i = 0, l = from.length, ar; i < l; i++) {\n      !ar && i in from || (ar || (ar = Array.prototype.slice.call(from, 0, i)), ar[i] = from[i]);\n    }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n};\nmodule$exports$tslib.__await = function(v) {\n  return this instanceof module$exports$tslib.__await ? (this.v = v, this) : new module$exports$tslib.__await(v);\n};\nmodule$exports$tslib.__asyncGenerator = function(thisArg, _arguments, generator) {\n  function verb(n) {\n    g[n] && (i[n] = function(v) {\n      return new Promise(function(a, b) {\n        1 < q.push([n, v, a, b]) || resume(n, v);\n      });\n    });\n  }\n  function resume(n, v) {\n    try {\n      step(g[n](v));\n    } catch (e) {\n      settle(q[0][3], e);\n    }\n  }\n  function step(r) {\n    r.value instanceof module$exports$tslib.__await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r);\n  }\n  function fulfill(value) {\n    resume(\"next\", value);\n  }\n  function reject(value) {\n    resume(\"throw\", value);\n  }\n  function settle(f, v) {\n    (f(v), q.shift(), q.length) && resume(q[0][0], q[0][1]);\n  }\n  if (!Symbol.asyncIterator) {\n    throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n  }\n  var g = generator.apply(thisArg, _arguments || []), i, q = [];\n  return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function() {\n    return this;\n  }, i;\n};\nmodule$exports$tslib.__asyncDelegator = function(o) {\n  function verb(n, f) {\n    i[n] = o[n] ? function(v) {\n      return (p = !p) ? {value:new module$exports$tslib.__await(o[n](v)), done:\"return\" === n} : f ? f(v) : v;\n    } : f;\n  }\n  var i, p;\n  return i = {}, verb(\"next\"), verb(\"throw\", function(e) {\n    throw e;\n  }), verb(\"return\"), i[Symbol.iterator] = function() {\n    return i;\n  }, i;\n};\nmodule$exports$tslib.__asyncValues = function(o) {\n  function verb(n) {\n    i[n] = o[n] && function(v) {\n      return new Promise(function(resolve, reject) {\n        v = o[n](v);\n        settle(resolve, reject, v.done, v.value);\n      });\n    };\n  }\n  function settle(resolve, reject, d, v$jscomp$0) {\n    Promise.resolve(v$jscomp$0).then(function(v) {\n      resolve({value:v, done:d});\n    }, reject);\n  }\n  if (!Symbol.asyncIterator) {\n    throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n  }\n  var m = o[Symbol.asyncIterator], i;\n  return m ? m.call(o) : (o = \"function\" === typeof __values ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function() {\n    return this;\n  }, i);\n};\nmodule$exports$tslib.__makeTemplateObject = function(cooked, raw) {\n  Object.defineProperty ? Object.defineProperty(cooked, \"raw\", {value:raw}) : cooked.raw = raw;\n  return cooked;\n};\nmodule$exports$tslib.__classPrivateFieldGet = function(receiver, state, kind, f) {\n  if (\"a\" === kind && !f) {\n    throw new TypeError(\"Private accessor was defined without a getter\");\n  }\n  if (\"function\" === typeof state ? receiver !== state || !f : !state.has(receiver)) {\n    throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n  }\n  return \"m\" === kind ? f : \"a\" === kind ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nmodule$exports$tslib.__classPrivateFieldSet = function(receiver, state, value, kind, f) {\n  if (\"m\" === kind) {\n    throw new TypeError(\"Private method is not writable\");\n  }\n  if (\"a\" === kind && !f) {\n    throw new TypeError(\"Private accessor was defined without a setter\");\n  }\n  if (\"function\" === typeof state ? receiver !== state || !f : !state.has(receiver)) {\n    throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n  }\n  return \"a\" === kind ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value), value;\n};\nmodule$exports$tslib.__classPrivateFieldIn = function(state, receiver) {\n  if (null === receiver || \"object\" !== typeof receiver && \"function\" !== typeof receiver) {\n    throw new TypeError(\"Cannot use 'in' operator on non-object\");\n  }\n  return \"function\" === typeof state ? receiver === state : state.has(receiver);\n};\nvar module$exports$eeapiclient$domain_object = {}, module$contents$eeapiclient$domain_object_module = module$contents$eeapiclient$domain_object_module || {id:\"javascript/typescript/contrib/apiclient/core/domain_object.closure.js\"};\nmodule$exports$eeapiclient$domain_object.ObjectMapMetadata = function module$contents$eeapiclient$domain_object_ObjectMapMetadata() {\n};\nvar module$contents$eeapiclient$domain_object_Primitive;\nmodule$exports$eeapiclient$domain_object.ClassMetadata = function module$contents$eeapiclient$domain_object_ClassMetadata() {\n};\nvar module$contents$eeapiclient$domain_object_NullClass = function() {\n};\nmodule$exports$eeapiclient$domain_object.NULL_VALUE = new module$contents$eeapiclient$domain_object_NullClass();\nmodule$exports$eeapiclient$domain_object.ISerializable = function module$contents$eeapiclient$domain_object_ISerializable() {\n};\nfunction module$contents$eeapiclient$domain_object_buildClassMetadataFromPartial(partialClassMetadata) {\n  return Object.assign({}, {arrays:{}, descriptions:{}, keys:[], objectMaps:{}, objects:{}, enums:{}, emptyArrayIsUnset:!1}, partialClassMetadata);\n}\nmodule$exports$eeapiclient$domain_object.buildClassMetadataFromPartial = module$contents$eeapiclient$domain_object_buildClassMetadataFromPartial;\nmodule$exports$eeapiclient$domain_object.Serializable = function() {\n  this.Serializable$values = {};\n};\nmodule$exports$eeapiclient$domain_object.Serializable.prototype.getClassMetadata = function() {\n  return module$contents$eeapiclient$domain_object_buildClassMetadataFromPartial(this.getPartialClassMetadata());\n};\nmodule$exports$eeapiclient$domain_object.Serializable.prototype.Serializable$get = function(key) {\n  return this.Serializable$values.hasOwnProperty(key) ? this.Serializable$values[key] : null;\n};\nmodule$exports$eeapiclient$domain_object.Serializable.prototype.Serializable$set = function(key, value) {\n  this.Serializable$values[key] = value;\n};\nmodule$exports$eeapiclient$domain_object.Serializable.prototype.Serializable$has = function(key) {\n  return null != this.Serializable$values[key];\n};\nmodule$exports$eeapiclient$domain_object.SerializableCtor = function module$contents$eeapiclient$domain_object_SerializableCtor() {\n};\nmodule$exports$eeapiclient$domain_object.clone = function module$contents$eeapiclient$domain_object_clone(serializable) {\n  return module$contents$eeapiclient$domain_object_deserialize(serializable.getConstructor(), module$contents$eeapiclient$domain_object_serialize(serializable));\n};\nmodule$exports$eeapiclient$domain_object.isEmpty = function module$contents$eeapiclient$domain_object_isEmpty(serializable) {\n  return !Object.keys(module$contents$eeapiclient$domain_object_serialize(serializable)).length;\n};\nfunction module$contents$eeapiclient$domain_object_serialize(serializable) {\n  return module$contents$eeapiclient$domain_object_deepCopy(serializable, module$contents$eeapiclient$domain_object_serializeGetter, module$contents$eeapiclient$domain_object_serializeSetter, module$contents$eeapiclient$domain_object_serializeInstanciator);\n}\nmodule$exports$eeapiclient$domain_object.serialize = module$contents$eeapiclient$domain_object_serialize;\nfunction module$contents$eeapiclient$domain_object_serializeGetter(key, obj) {\n  return obj.Serializable$get(key);\n}\nfunction module$contents$eeapiclient$domain_object_serializeSetter(key, obj, value) {\n  obj[key] = value;\n}\nfunction module$contents$eeapiclient$domain_object_serializeInstanciator(ctor) {\n  return {};\n}\nfunction module$contents$eeapiclient$domain_object_deserialize(type, raw) {\n  var result = new type();\n  return null == raw ? result : module$contents$eeapiclient$domain_object_deepCopy(raw, module$contents$eeapiclient$domain_object_deserializeGetter, module$contents$eeapiclient$domain_object_deserializeSetter, module$contents$eeapiclient$domain_object_deserializeInstanciator, type);\n}\nmodule$exports$eeapiclient$domain_object.deserialize = module$contents$eeapiclient$domain_object_deserialize;\nfunction module$contents$eeapiclient$domain_object_deserializeGetter(key, obj) {\n  return obj[key];\n}\nfunction module$contents$eeapiclient$domain_object_deserializeSetter(key, obj, value) {\n  obj.Serializable$set(key, value);\n}\nfunction module$contents$eeapiclient$domain_object_deserializeInstanciator(ctor) {\n  if (null == ctor) {\n    throw Error(\"Cannot deserialize, target constructor was null.\");\n  }\n  return new ctor();\n}\nmodule$exports$eeapiclient$domain_object.strictDeserialize = function module$contents$eeapiclient$domain_object_strictDeserialize(type, raw) {\n  return module$contents$eeapiclient$domain_object_deserialize(type, raw);\n};\nvar module$contents$eeapiclient$domain_object_CopyValueGetter, module$contents$eeapiclient$domain_object_CopyValueSetter, module$contents$eeapiclient$domain_object_CopyConstructor, module$contents$eeapiclient$domain_object_CopyInstanciator;\nfunction module$contents$eeapiclient$domain_object_deepCopy(source, valueGetter, valueSetter, copyInstanciator, targetConstructor) {\n  for (var target = copyInstanciator(targetConstructor), metadata = module$contents$eeapiclient$domain_object_deepCopyMetadata(source, target), arrays = metadata.arrays || {}, objects = metadata.objects || {}, objectMaps = metadata.objectMaps || {}, $jscomp$loop$72 = {}, $jscomp$iter$12 = $jscomp.makeIterator(metadata.keys || []), $jscomp$key$key = $jscomp$iter$12.next(); !$jscomp$key$key.done; $jscomp$loop$72 = {$jscomp$loop$prop$mapMetadata$73:$jscomp$loop$72.$jscomp$loop$prop$mapMetadata$73}, \n  $jscomp$key$key = $jscomp$iter$12.next()) {\n    var key = $jscomp$key$key.value, value = valueGetter(key, source);\n    if (null != value) {\n      var copy = void 0;\n      if (arrays.hasOwnProperty(key)) {\n        if (metadata.emptyArrayIsUnset && 0 === value.length) {\n          continue;\n        }\n        copy = module$contents$eeapiclient$domain_object_deepCopyValue(value, valueGetter, valueSetter, copyInstanciator, !0, !0, arrays[key]);\n      } else if (objects.hasOwnProperty(key)) {\n        copy = module$contents$eeapiclient$domain_object_deepCopyValue(value, valueGetter, valueSetter, copyInstanciator, !1, !0, objects[key]);\n      } else if (objectMaps.hasOwnProperty(key)) {\n        $jscomp$loop$72.$jscomp$loop$prop$mapMetadata$73 = objectMaps[key], copy = $jscomp$loop$72.$jscomp$loop$prop$mapMetadata$73.isPropertyArray ? value.map(function($jscomp$loop$72) {\n          return function(v) {\n            return module$contents$eeapiclient$domain_object_deepCopyObjectMap(v, $jscomp$loop$72.$jscomp$loop$prop$mapMetadata$73, valueGetter, valueSetter, copyInstanciator);\n          };\n        }($jscomp$loop$72)) : module$contents$eeapiclient$domain_object_deepCopyObjectMap(value, $jscomp$loop$72.$jscomp$loop$prop$mapMetadata$73, valueGetter, valueSetter, copyInstanciator);\n      } else if (Array.isArray(value)) {\n        if (metadata.emptyArrayIsUnset && 0 === value.length) {\n          continue;\n        }\n        copy = module$contents$eeapiclient$domain_object_deepCopyValue(value, valueGetter, valueSetter, copyInstanciator, !0, !1);\n      } else {\n        copy = value instanceof module$contents$eeapiclient$domain_object_NullClass ? null : value;\n      }\n      valueSetter(key, target, copy);\n    }\n  }\n  return target;\n}\nfunction module$contents$eeapiclient$domain_object_deepCopyObjectMap(value, mapMetadata, valueGetter, valueSetter, copyInstanciator) {\n  for (var objMap = {}, $jscomp$iter$13 = $jscomp.makeIterator(Object.keys(value)), $jscomp$key$mapKey = $jscomp$iter$13.next(); !$jscomp$key$mapKey.done; $jscomp$key$mapKey = $jscomp$iter$13.next()) {\n    var mapKey = $jscomp$key$mapKey.value, mapValue = value[mapKey];\n    null != mapValue && (objMap[mapKey] = module$contents$eeapiclient$domain_object_deepCopyValue(mapValue, valueGetter, valueSetter, copyInstanciator, mapMetadata.isValueArray, mapMetadata.isSerializable, mapMetadata.ctor));\n  }\n  return objMap;\n}\nfunction module$contents$eeapiclient$domain_object_deepCopyValue(value, valueGetter, valueSetter, copyInstanciator, isArray, isRef, ctor) {\n  if (isRef && null == ctor) {\n    throw Error(\"Cannot deserialize a reference object without a constructor.\");\n  }\n  return null == value ? value : isArray && isRef ? value.map(function(v) {\n    return module$contents$eeapiclient$domain_object_deepCopy(v, valueGetter, valueSetter, copyInstanciator, ctor);\n  }) : isArray && !isRef ? value.map(function(v) {\n    return v;\n  }) : !isArray && isRef ? module$contents$eeapiclient$domain_object_deepCopy(value, valueGetter, valueSetter, copyInstanciator, ctor) : value instanceof module$contents$eeapiclient$domain_object_NullClass ? null : \"object\" === typeof value ? JSON.parse(JSON.stringify(value)) : value;\n}\nfunction module$contents$eeapiclient$domain_object_deepCopyMetadata(source, target) {\n  if (target instanceof module$exports$eeapiclient$domain_object.Serializable) {\n    var metadata = target.getClassMetadata();\n  } else if (source instanceof module$exports$eeapiclient$domain_object.Serializable) {\n    metadata = source.getClassMetadata();\n  } else {\n    throw Error(\"Cannot find ClassMetadata.\");\n  }\n  return metadata;\n}\nfunction module$contents$eeapiclient$domain_object_deepEquals(serializable1, serializable2) {\n  var metadata1 = serializable1.getClassMetadata(), keys1 = metadata1.keys || [], arrays1 = metadata1.arrays || {}, objects1 = metadata1.objects || {}, objectMaps1 = metadata1.objectMaps || {}, metadata2 = serializable2.getClassMetadata(), arrays2 = metadata2.arrays || {}, objects2 = metadata2.objects || {}, objectMaps2 = metadata2.objectMaps || {};\n  if (!(module$contents$eeapiclient$domain_object_sameKeys(keys1, metadata2.keys || []) && module$contents$eeapiclient$domain_object_sameKeys(arrays1, arrays2) && module$contents$eeapiclient$domain_object_sameKeys(objects1, objects2) && module$contents$eeapiclient$domain_object_sameKeys(objectMaps1, objectMaps2))) {\n    return !1;\n  }\n  for (var $jscomp$loop$74 = {}, $jscomp$iter$14 = $jscomp.makeIterator(keys1), $jscomp$key$key = $jscomp$iter$14.next(); !$jscomp$key$key.done; $jscomp$loop$74 = {$jscomp$loop$prop$value2$75:$jscomp$loop$74.$jscomp$loop$prop$value2$75, $jscomp$loop$prop$mapMetadata$76:$jscomp$loop$74.$jscomp$loop$prop$mapMetadata$76}, $jscomp$key$key = $jscomp$iter$14.next()) {\n    var key = $jscomp$key$key.value, has1 = module$contents$eeapiclient$domain_object_hasAndIsNotEmptyArray(serializable1, key, metadata1), has2 = module$contents$eeapiclient$domain_object_hasAndIsNotEmptyArray(serializable2, key, metadata2);\n    if (has1 !== has2) {\n      return !1;\n    }\n    if (has1) {\n      var value1 = serializable1.Serializable$get(key);\n      $jscomp$loop$74.$jscomp$loop$prop$value2$75 = serializable2.Serializable$get(key);\n      if (arrays1.hasOwnProperty(key)) {\n        if (!module$contents$eeapiclient$domain_object_deepEqualsValue(value1, $jscomp$loop$74.$jscomp$loop$prop$value2$75, !0, !0)) {\n          return !1;\n        }\n      } else if (objects1.hasOwnProperty(key)) {\n        if (!module$contents$eeapiclient$domain_object_deepEqualsValue(value1, $jscomp$loop$74.$jscomp$loop$prop$value2$75, !1, !0)) {\n          return !1;\n        }\n      } else if (objectMaps1.hasOwnProperty(key)) {\n        if ($jscomp$loop$74.$jscomp$loop$prop$mapMetadata$76 = objectMaps1[key], $jscomp$loop$74.$jscomp$loop$prop$mapMetadata$76.isPropertyArray) {\n          if (!module$contents$eeapiclient$domain_object_sameKeys(value1, $jscomp$loop$74.$jscomp$loop$prop$value2$75) || value1.some(function($jscomp$loop$74) {\n            return function(v1, i) {\n              return !module$contents$eeapiclient$domain_object_deepEqualsObjectMap(v1, $jscomp$loop$74.$jscomp$loop$prop$value2$75[i], $jscomp$loop$74.$jscomp$loop$prop$mapMetadata$76);\n            };\n          }($jscomp$loop$74))) {\n            return !1;\n          }\n        } else if (!module$contents$eeapiclient$domain_object_deepEqualsObjectMap(value1, $jscomp$loop$74.$jscomp$loop$prop$value2$75, $jscomp$loop$74.$jscomp$loop$prop$mapMetadata$76)) {\n          return !1;\n        }\n      } else if (Array.isArray(value1)) {\n        if (!module$contents$eeapiclient$domain_object_deepEqualsValue(value1, $jscomp$loop$74.$jscomp$loop$prop$value2$75, !0, !1)) {\n          return !1;\n        }\n      } else if (!module$contents$eeapiclient$domain_object_deepEqualsValue(value1, $jscomp$loop$74.$jscomp$loop$prop$value2$75, !1, !1)) {\n        return !1;\n      }\n    }\n  }\n  return !0;\n}\nmodule$exports$eeapiclient$domain_object.deepEquals = module$contents$eeapiclient$domain_object_deepEquals;\nfunction module$contents$eeapiclient$domain_object_hasAndIsNotEmptyArray(serializable, key, metadata) {\n  if (!serializable.Serializable$has(key)) {\n    return !1;\n  }\n  if (!metadata.emptyArrayIsUnset) {\n    return !0;\n  }\n  var value = serializable.Serializable$get(key);\n  return Array.isArray(value) ? 0 !== value.length : !0;\n}\nfunction module$contents$eeapiclient$domain_object_deepEqualsObjectMap(value1, value2, mapMetadata) {\n  if (!module$contents$eeapiclient$domain_object_sameKeys(value1, value2)) {\n    return !1;\n  }\n  for (var $jscomp$iter$15 = $jscomp.makeIterator(Object.keys(value1)), $jscomp$key$mapKey = $jscomp$iter$15.next(); !$jscomp$key$mapKey.done; $jscomp$key$mapKey = $jscomp$iter$15.next()) {\n    var mapKey = $jscomp$key$mapKey.value;\n    if (!module$contents$eeapiclient$domain_object_deepEqualsValue(value1[mapKey], value2[mapKey], mapMetadata.isValueArray, mapMetadata.isSerializable)) {\n      return !1;\n    }\n  }\n  return !0;\n}\nfunction module$contents$eeapiclient$domain_object_deepEqualsValue(value1, value2, isArray, isSerializable) {\n  if (null == value1 && null == value2) {\n    return !0;\n  }\n  if (isArray && isSerializable) {\n    if (!module$contents$eeapiclient$domain_object_sameKeys(value1, value2) || value1.some(function(v1, i) {\n      return !module$contents$eeapiclient$domain_object_deepEquals(v1, value2[i]);\n    })) {\n      return !1;\n    }\n  } else if (isArray && !isSerializable) {\n    if (!module$contents$eeapiclient$domain_object_sameKeys(value1, value2) || value1.some(function(v, i) {\n      return v !== value2[i];\n    })) {\n      return !1;\n    }\n  } else {\n    if (isSerializable) {\n      return module$contents$eeapiclient$domain_object_deepEquals(value1, value2);\n    }\n    if (\"object\" === typeof value1) {\n      if (JSON.stringify(value1) !== JSON.stringify(value2)) {\n        return !1;\n      }\n    } else if (value1 !== value2) {\n      return !1;\n    }\n  }\n  return !0;\n}\nfunction module$contents$eeapiclient$domain_object_sameKeys(a, b) {\n  if (typeof a !== typeof b || Array.isArray(a) !== Array.isArray(b)) {\n    throw Error(\"Types are not comparable.\");\n  }\n  var aKeys = Object.keys(a), bKeys = Object.keys(b);\n  if (aKeys.length !== bKeys.length) {\n    return !1;\n  }\n  Array.isArray(a) || (aKeys.sort(), bKeys.sort());\n  for (var i = 0; i < aKeys.length; i++) {\n    if (aKeys[i] !== bKeys[i]) {\n      return !1;\n    }\n  }\n  return !0;\n}\nmodule$exports$eeapiclient$domain_object.serializableEqualityTester = function module$contents$eeapiclient$domain_object_serializableEqualityTester(left, right) {\n  if (left instanceof module$exports$eeapiclient$domain_object.Serializable && right instanceof module$exports$eeapiclient$domain_object.Serializable) {\n    return module$contents$eeapiclient$domain_object_deepEquals(left, right);\n  }\n};\ngoog.dom.HtmlElement = function() {\n};\ngoog.dom.TagName = function() {\n};\ngoog.dom.TagName.cast = function(name, type) {\n  return name;\n};\ngoog.dom.TagName.prototype.toString = function() {\n};\ngoog.dom.TagName.A = \"A\";\ngoog.dom.TagName.ABBR = \"ABBR\";\ngoog.dom.TagName.ACRONYM = \"ACRONYM\";\ngoog.dom.TagName.ADDRESS = \"ADDRESS\";\ngoog.dom.TagName.APPLET = \"APPLET\";\ngoog.dom.TagName.AREA = \"AREA\";\ngoog.dom.TagName.ARTICLE = \"ARTICLE\";\ngoog.dom.TagName.ASIDE = \"ASIDE\";\ngoog.dom.TagName.AUDIO = \"AUDIO\";\ngoog.dom.TagName.B = \"B\";\ngoog.dom.TagName.BASE = \"BASE\";\ngoog.dom.TagName.BASEFONT = \"BASEFONT\";\ngoog.dom.TagName.BDI = \"BDI\";\ngoog.dom.TagName.BDO = \"BDO\";\ngoog.dom.TagName.BIG = \"BIG\";\ngoog.dom.TagName.BLOCKQUOTE = \"BLOCKQUOTE\";\ngoog.dom.TagName.BODY = \"BODY\";\ngoog.dom.TagName.BR = \"BR\";\ngoog.dom.TagName.BUTTON = \"BUTTON\";\ngoog.dom.TagName.CANVAS = \"CANVAS\";\ngoog.dom.TagName.CAPTION = \"CAPTION\";\ngoog.dom.TagName.CENTER = \"CENTER\";\ngoog.dom.TagName.CITE = \"CITE\";\ngoog.dom.TagName.CODE = \"CODE\";\ngoog.dom.TagName.COL = \"COL\";\ngoog.dom.TagName.COLGROUP = \"COLGROUP\";\ngoog.dom.TagName.COMMAND = \"COMMAND\";\ngoog.dom.TagName.DATA = \"DATA\";\ngoog.dom.TagName.DATALIST = \"DATALIST\";\ngoog.dom.TagName.DD = \"DD\";\ngoog.dom.TagName.DEL = \"DEL\";\ngoog.dom.TagName.DETAILS = \"DETAILS\";\ngoog.dom.TagName.DFN = \"DFN\";\ngoog.dom.TagName.DIALOG = \"DIALOG\";\ngoog.dom.TagName.DIR = \"DIR\";\ngoog.dom.TagName.DIV = \"DIV\";\ngoog.dom.TagName.DL = \"DL\";\ngoog.dom.TagName.DT = \"DT\";\ngoog.dom.TagName.EM = \"EM\";\ngoog.dom.TagName.EMBED = \"EMBED\";\ngoog.dom.TagName.FIELDSET = \"FIELDSET\";\ngoog.dom.TagName.FIGCAPTION = \"FIGCAPTION\";\ngoog.dom.TagName.FIGURE = \"FIGURE\";\ngoog.dom.TagName.FONT = \"FONT\";\ngoog.dom.TagName.FOOTER = \"FOOTER\";\ngoog.dom.TagName.FORM = \"FORM\";\ngoog.dom.TagName.FRAME = \"FRAME\";\ngoog.dom.TagName.FRAMESET = \"FRAMESET\";\ngoog.dom.TagName.H1 = \"H1\";\ngoog.dom.TagName.H2 = \"H2\";\ngoog.dom.TagName.H3 = \"H3\";\ngoog.dom.TagName.H4 = \"H4\";\ngoog.dom.TagName.H5 = \"H5\";\ngoog.dom.TagName.H6 = \"H6\";\ngoog.dom.TagName.HEAD = \"HEAD\";\ngoog.dom.TagName.HEADER = \"HEADER\";\ngoog.dom.TagName.HGROUP = \"HGROUP\";\ngoog.dom.TagName.HR = \"HR\";\ngoog.dom.TagName.HTML = \"HTML\";\ngoog.dom.TagName.I = \"I\";\ngoog.dom.TagName.IFRAME = \"IFRAME\";\ngoog.dom.TagName.IMG = \"IMG\";\ngoog.dom.TagName.INPUT = \"INPUT\";\ngoog.dom.TagName.INS = \"INS\";\ngoog.dom.TagName.ISINDEX = \"ISINDEX\";\ngoog.dom.TagName.KBD = \"KBD\";\ngoog.dom.TagName.KEYGEN = \"KEYGEN\";\ngoog.dom.TagName.LABEL = \"LABEL\";\ngoog.dom.TagName.LEGEND = \"LEGEND\";\ngoog.dom.TagName.LI = \"LI\";\ngoog.dom.TagName.LINK = \"LINK\";\ngoog.dom.TagName.MAIN = \"MAIN\";\ngoog.dom.TagName.MAP = \"MAP\";\ngoog.dom.TagName.MARK = \"MARK\";\ngoog.dom.TagName.MATH = \"MATH\";\ngoog.dom.TagName.MENU = \"MENU\";\ngoog.dom.TagName.MENUITEM = \"MENUITEM\";\ngoog.dom.TagName.META = \"META\";\ngoog.dom.TagName.METER = \"METER\";\ngoog.dom.TagName.NAV = \"NAV\";\ngoog.dom.TagName.NOFRAMES = \"NOFRAMES\";\ngoog.dom.TagName.NOSCRIPT = \"NOSCRIPT\";\ngoog.dom.TagName.OBJECT = \"OBJECT\";\ngoog.dom.TagName.OL = \"OL\";\ngoog.dom.TagName.OPTGROUP = \"OPTGROUP\";\ngoog.dom.TagName.OPTION = \"OPTION\";\ngoog.dom.TagName.OUTPUT = \"OUTPUT\";\ngoog.dom.TagName.P = \"P\";\ngoog.dom.TagName.PARAM = \"PARAM\";\ngoog.dom.TagName.PICTURE = \"PICTURE\";\ngoog.dom.TagName.PRE = \"PRE\";\ngoog.dom.TagName.PROGRESS = \"PROGRESS\";\ngoog.dom.TagName.Q = \"Q\";\ngoog.dom.TagName.RP = \"RP\";\ngoog.dom.TagName.RT = \"RT\";\ngoog.dom.TagName.RTC = \"RTC\";\ngoog.dom.TagName.RUBY = \"RUBY\";\ngoog.dom.TagName.S = \"S\";\ngoog.dom.TagName.SAMP = \"SAMP\";\ngoog.dom.TagName.SCRIPT = \"SCRIPT\";\ngoog.dom.TagName.SECTION = \"SECTION\";\ngoog.dom.TagName.SELECT = \"SELECT\";\ngoog.dom.TagName.SMALL = \"SMALL\";\ngoog.dom.TagName.SOURCE = \"SOURCE\";\ngoog.dom.TagName.SPAN = \"SPAN\";\ngoog.dom.TagName.STRIKE = \"STRIKE\";\ngoog.dom.TagName.STRONG = \"STRONG\";\ngoog.dom.TagName.STYLE = \"STYLE\";\ngoog.dom.TagName.SUB = \"SUB\";\ngoog.dom.TagName.SUMMARY = \"SUMMARY\";\ngoog.dom.TagName.SUP = \"SUP\";\ngoog.dom.TagName.SVG = \"SVG\";\ngoog.dom.TagName.TABLE = \"TABLE\";\ngoog.dom.TagName.TBODY = \"TBODY\";\ngoog.dom.TagName.TD = \"TD\";\ngoog.dom.TagName.TEMPLATE = \"TEMPLATE\";\ngoog.dom.TagName.TEXTAREA = \"TEXTAREA\";\ngoog.dom.TagName.TFOOT = \"TFOOT\";\ngoog.dom.TagName.TH = \"TH\";\ngoog.dom.TagName.THEAD = \"THEAD\";\ngoog.dom.TagName.TIME = \"TIME\";\ngoog.dom.TagName.TITLE = \"TITLE\";\ngoog.dom.TagName.TR = \"TR\";\ngoog.dom.TagName.TRACK = \"TRACK\";\ngoog.dom.TagName.TT = \"TT\";\ngoog.dom.TagName.U = \"U\";\ngoog.dom.TagName.UL = \"UL\";\ngoog.dom.TagName.VAR = \"VAR\";\ngoog.dom.TagName.VIDEO = \"VIDEO\";\ngoog.dom.TagName.WBR = \"WBR\";\ngoog.dom.element = {};\nvar module$contents$goog$dom$element_isElement = function(value) {\n  return goog.isObject(value) && value.nodeType === goog.dom.NodeType.ELEMENT;\n}, module$contents$goog$dom$element_isHtmlElement = function(value) {\n  return goog.isObject(value) && module$contents$goog$dom$element_isElement(value) && (!value.namespaceURI || \"http://www.w3.org/1999/xhtml\" === value.namespaceURI);\n}, module$contents$goog$dom$element_isHtmlElementOfType = function(value, tagName) {\n  return goog.isObject(value) && module$contents$goog$dom$element_isHtmlElement(value) && value.tagName.toUpperCase() === tagName.toString();\n};\ngoog.dom.element.isElement = module$contents$goog$dom$element_isElement;\ngoog.dom.element.isHtmlElement = module$contents$goog$dom$element_isHtmlElement;\ngoog.dom.element.isHtmlElementOfType = module$contents$goog$dom$element_isHtmlElementOfType;\ngoog.dom.element.isHtmlAnchorElement = function(value) {\n  return module$contents$goog$dom$element_isHtmlElementOfType(value, goog.dom.TagName.A);\n};\ngoog.dom.element.isHtmlButtonElement = function(value) {\n  return module$contents$goog$dom$element_isHtmlElementOfType(value, goog.dom.TagName.BUTTON);\n};\ngoog.dom.element.isHtmlLinkElement = function(value) {\n  return module$contents$goog$dom$element_isHtmlElementOfType(value, goog.dom.TagName.LINK);\n};\ngoog.dom.element.isHtmlImageElement = function(value) {\n  return module$contents$goog$dom$element_isHtmlElementOfType(value, goog.dom.TagName.IMG);\n};\ngoog.dom.element.isHtmlAudioElement = function(value) {\n  return module$contents$goog$dom$element_isHtmlElementOfType(value, goog.dom.TagName.AUDIO);\n};\ngoog.dom.element.isHtmlVideoElement = function(value) {\n  return module$contents$goog$dom$element_isHtmlElementOfType(value, goog.dom.TagName.VIDEO);\n};\ngoog.dom.element.isHtmlInputElement = function(value) {\n  return module$contents$goog$dom$element_isHtmlElementOfType(value, goog.dom.TagName.INPUT);\n};\ngoog.dom.element.isHtmlTextAreaElement = function(value) {\n  return module$contents$goog$dom$element_isHtmlElementOfType(value, goog.dom.TagName.TEXTAREA);\n};\ngoog.dom.element.isHtmlCanvasElement = function(value) {\n  return module$contents$goog$dom$element_isHtmlElementOfType(value, goog.dom.TagName.CANVAS);\n};\ngoog.dom.element.isHtmlEmbedElement = function(value) {\n  return module$contents$goog$dom$element_isHtmlElementOfType(value, goog.dom.TagName.EMBED);\n};\ngoog.dom.element.isHtmlFormElement = function(value) {\n  return module$contents$goog$dom$element_isHtmlElementOfType(value, goog.dom.TagName.FORM);\n};\ngoog.dom.element.isHtmlFrameElement = function(value) {\n  return module$contents$goog$dom$element_isHtmlElementOfType(value, goog.dom.TagName.FRAME);\n};\ngoog.dom.element.isHtmlIFrameElement = function(value) {\n  return module$contents$goog$dom$element_isHtmlElementOfType(value, goog.dom.TagName.IFRAME);\n};\ngoog.dom.element.isHtmlObjectElement = function(value) {\n  return module$contents$goog$dom$element_isHtmlElementOfType(value, goog.dom.TagName.OBJECT);\n};\ngoog.dom.element.isHtmlScriptElement = function(value) {\n  return module$contents$goog$dom$element_isHtmlElementOfType(value, goog.dom.TagName.SCRIPT);\n};\ngoog.asserts.dom = {};\nvar module$contents$goog$asserts$dom_assertIsHtmlElement = function(value) {\n  goog.asserts.ENABLE_ASSERTS && !module$contents$goog$dom$element_isHtmlElement(value) && goog.asserts.fail(\"Argument is not an HTML Element; got: \" + module$contents$goog$asserts$dom_debugStringForType(value));\n  return value;\n}, module$contents$goog$asserts$dom_assertIsHtmlElementOfType = function(value, tagName) {\n  goog.asserts.ENABLE_ASSERTS && !module$contents$goog$dom$element_isHtmlElementOfType(value, tagName) && goog.asserts.fail(\"Argument is not an HTML Element with tag name \" + (tagName.toString() + \"; got: \" + module$contents$goog$asserts$dom_debugStringForType(value)));\n  return value;\n}, module$contents$goog$asserts$dom_assertIsHtmlAnchorElement = function(value) {\n  return module$contents$goog$asserts$dom_assertIsHtmlElementOfType(value, goog.dom.TagName.A);\n}, module$contents$goog$asserts$dom_assertIsHtmlButtonElement = function(value) {\n  return module$contents$goog$asserts$dom_assertIsHtmlElementOfType(value, goog.dom.TagName.BUTTON);\n}, module$contents$goog$asserts$dom_assertIsHtmlLinkElement = function(value) {\n  return module$contents$goog$asserts$dom_assertIsHtmlElementOfType(value, goog.dom.TagName.LINK);\n}, module$contents$goog$asserts$dom_assertIsHtmlAudioElement = function(value) {\n  return module$contents$goog$asserts$dom_assertIsHtmlElementOfType(value, goog.dom.TagName.AUDIO);\n}, module$contents$goog$asserts$dom_assertIsHtmlVideoElement = function(value) {\n  return module$contents$goog$asserts$dom_assertIsHtmlElementOfType(value, goog.dom.TagName.VIDEO);\n}, module$contents$goog$asserts$dom_assertIsHtmlInputElement = function(value) {\n  return module$contents$goog$asserts$dom_assertIsHtmlElementOfType(value, goog.dom.TagName.INPUT);\n}, module$contents$goog$asserts$dom_assertIsHtmlEmbedElement = function(value) {\n  return module$contents$goog$asserts$dom_assertIsHtmlElementOfType(value, goog.dom.TagName.EMBED);\n}, module$contents$goog$asserts$dom_assertIsHtmlFormElement = function(value) {\n  return module$contents$goog$asserts$dom_assertIsHtmlElementOfType(value, goog.dom.TagName.FORM);\n}, module$contents$goog$asserts$dom_assertIsHtmlFrameElement = function(value) {\n  return module$contents$goog$asserts$dom_assertIsHtmlElementOfType(value, goog.dom.TagName.FRAME);\n}, module$contents$goog$asserts$dom_assertIsHtmlIFrameElement = function(value) {\n  return module$contents$goog$asserts$dom_assertIsHtmlElementOfType(value, goog.dom.TagName.IFRAME);\n}, module$contents$goog$asserts$dom_assertIsHtmlObjectElement = function(value) {\n  return module$contents$goog$asserts$dom_assertIsHtmlElementOfType(value, goog.dom.TagName.OBJECT);\n}, module$contents$goog$asserts$dom_assertIsHtmlScriptElement = function(value) {\n  return module$contents$goog$asserts$dom_assertIsHtmlElementOfType(value, goog.dom.TagName.SCRIPT);\n}, module$contents$goog$asserts$dom_debugStringForType = function(value) {\n  if (goog.isObject(value)) {\n    try {\n      return value.constructor.displayName || value.constructor.name || Object.prototype.toString.call(value);\n    } catch (e) {\n      return \"<object could not be stringified>\";\n    }\n  } else {\n    return void 0 === value ? \"undefined\" : null === value ? \"null\" : typeof value;\n  }\n};\ngoog.asserts.dom.assertIsElement = function(value) {\n  goog.asserts.ENABLE_ASSERTS && !module$contents$goog$dom$element_isElement(value) && goog.asserts.fail(\"Argument is not an Element; got: \" + module$contents$goog$asserts$dom_debugStringForType(value));\n  return value;\n};\ngoog.asserts.dom.assertIsHtmlElement = module$contents$goog$asserts$dom_assertIsHtmlElement;\ngoog.asserts.dom.assertIsHtmlElementOfType = module$contents$goog$asserts$dom_assertIsHtmlElementOfType;\ngoog.asserts.dom.assertIsHtmlAnchorElement = module$contents$goog$asserts$dom_assertIsHtmlAnchorElement;\ngoog.asserts.dom.assertIsHtmlButtonElement = module$contents$goog$asserts$dom_assertIsHtmlButtonElement;\ngoog.asserts.dom.assertIsHtmlLinkElement = module$contents$goog$asserts$dom_assertIsHtmlLinkElement;\ngoog.asserts.dom.assertIsHtmlImageElement = function(value) {\n  return module$contents$goog$asserts$dom_assertIsHtmlElementOfType(value, goog.dom.TagName.IMG);\n};\ngoog.asserts.dom.assertIsHtmlAudioElement = module$contents$goog$asserts$dom_assertIsHtmlAudioElement;\ngoog.asserts.dom.assertIsHtmlVideoElement = module$contents$goog$asserts$dom_assertIsHtmlVideoElement;\ngoog.asserts.dom.assertIsHtmlInputElement = module$contents$goog$asserts$dom_assertIsHtmlInputElement;\ngoog.asserts.dom.assertIsHtmlTextAreaElement = function(value) {\n  return module$contents$goog$asserts$dom_assertIsHtmlElementOfType(value, goog.dom.TagName.TEXTAREA);\n};\ngoog.asserts.dom.assertIsHtmlCanvasElement = function(value) {\n  return module$contents$goog$asserts$dom_assertIsHtmlElementOfType(value, goog.dom.TagName.CANVAS);\n};\ngoog.asserts.dom.assertIsHtmlEmbedElement = module$contents$goog$asserts$dom_assertIsHtmlEmbedElement;\ngoog.asserts.dom.assertIsHtmlFormElement = module$contents$goog$asserts$dom_assertIsHtmlFormElement;\ngoog.asserts.dom.assertIsHtmlFrameElement = module$contents$goog$asserts$dom_assertIsHtmlFrameElement;\ngoog.asserts.dom.assertIsHtmlIFrameElement = module$contents$goog$asserts$dom_assertIsHtmlIFrameElement;\ngoog.asserts.dom.assertIsHtmlObjectElement = module$contents$goog$asserts$dom_assertIsHtmlObjectElement;\ngoog.asserts.dom.assertIsHtmlScriptElement = module$contents$goog$asserts$dom_assertIsHtmlScriptElement;\ngoog.dom.asserts = {};\ngoog.dom.asserts.assertIsLocation = function(o) {\n  if (goog.asserts.ENABLE_ASSERTS) {\n    var win = goog.dom.asserts.getWindow_(o);\n    win && (!o || !(o instanceof win.Location) && o instanceof win.Element) && goog.asserts.fail(\"Argument is not a Location (or a non-Element mock); got: %s\", goog.dom.asserts.debugStringForType_(o));\n  }\n  return o;\n};\ngoog.dom.asserts.debugStringForType_ = function(value) {\n  if (goog.isObject(value)) {\n    try {\n      return value.constructor.displayName || value.constructor.name || Object.prototype.toString.call(value);\n    } catch (e) {\n      return \"<object could not be stringified>\";\n    }\n  } else {\n    return void 0 === value ? \"undefined\" : null === value ? \"null\" : typeof value;\n  }\n};\ngoog.dom.asserts.getWindow_ = function(o) {\n  try {\n    var doc = o && o.ownerDocument, win = doc && (doc.defaultView || doc.parentWindow);\n    win = win || goog.global;\n    if (win.Element && win.Location) {\n      return win;\n    }\n  } catch (ex) {\n  }\n  return null;\n};\ngoog.dom.tags = {};\ngoog.dom.tags.VOID_TAGS_ = {area:!0, base:!0, br:!0, col:!0, command:!0, embed:!0, hr:!0, img:!0, input:!0, keygen:!0, link:!0, meta:!0, param:!0, source:!0, track:!0, wbr:!0};\ngoog.dom.tags.isVoidTag = function(tagName) {\n  return !0 === goog.dom.tags.VOID_TAGS_[tagName];\n};\ngoog.html = {};\ngoog.html.trustedtypes = {};\ngoog.html.trustedtypes.POLICY_NAME = goog.TRUSTED_TYPES_POLICY_NAME ? goog.TRUSTED_TYPES_POLICY_NAME + \"#html\" : \"\";\ngoog.html.trustedtypes.getPolicyPrivateDoNotAccessOrElse = function() {\n  if (!goog.html.trustedtypes.POLICY_NAME) {\n    return null;\n  }\n  void 0 === goog.html.trustedtypes.cachedPolicy_ && (goog.html.trustedtypes.cachedPolicy_ = goog.createTrustedTypesPolicy(goog.html.trustedtypes.POLICY_NAME));\n  return goog.html.trustedtypes.cachedPolicy_;\n};\ngoog.string.TypedString = function() {\n};\ngoog.string.Const = function(opt_token, opt_content) {\n  this.stringConstValueWithSecurityContract__googStringSecurityPrivate_ = opt_token === goog.string.Const.GOOG_STRING_CONSTRUCTOR_TOKEN_PRIVATE_ && opt_content || \"\";\n  this.STRING_CONST_TYPE_MARKER__GOOG_STRING_SECURITY_PRIVATE_ = goog.string.Const.TYPE_MARKER_;\n};\ngoog.string.Const.prototype.implementsGoogStringTypedString = !0;\ngoog.string.Const.prototype.getTypedStringValue = function() {\n  return this.stringConstValueWithSecurityContract__googStringSecurityPrivate_;\n};\ngoog.DEBUG && (goog.string.Const.prototype.toString = function() {\n  return \"Const{\" + this.stringConstValueWithSecurityContract__googStringSecurityPrivate_ + \"}\";\n});\ngoog.string.Const.unwrap = function(stringConst) {\n  if (stringConst instanceof goog.string.Const && stringConst.constructor === goog.string.Const && stringConst.STRING_CONST_TYPE_MARKER__GOOG_STRING_SECURITY_PRIVATE_ === goog.string.Const.TYPE_MARKER_) {\n    return stringConst.stringConstValueWithSecurityContract__googStringSecurityPrivate_;\n  }\n  goog.asserts.fail(\"expected object of type Const, got '\" + stringConst + \"'\");\n  return \"type_error:Const\";\n};\ngoog.string.Const.from = function(s) {\n  return new goog.string.Const(goog.string.Const.GOOG_STRING_CONSTRUCTOR_TOKEN_PRIVATE_, s);\n};\ngoog.string.Const.TYPE_MARKER_ = {};\ngoog.string.Const.GOOG_STRING_CONSTRUCTOR_TOKEN_PRIVATE_ = {};\ngoog.string.Const.EMPTY = goog.string.Const.from(\"\");\nvar module$contents$goog$html$SafeScript_CONSTRUCTOR_TOKEN_PRIVATE = {}, module$contents$goog$html$SafeScript_SafeScript = function(value, token) {\n  this.privateDoNotAccessOrElseSafeScriptWrappedValue_ = token === module$contents$goog$html$SafeScript_CONSTRUCTOR_TOKEN_PRIVATE ? value : \"\";\n  this.implementsGoogStringTypedString = !0;\n};\nmodule$contents$goog$html$SafeScript_SafeScript.prototype.toString = function() {\n  return this.privateDoNotAccessOrElseSafeScriptWrappedValue_.toString();\n};\nmodule$contents$goog$html$SafeScript_SafeScript.fromConstant = function(script) {\n  var scriptString = goog.string.Const.unwrap(script);\n  return 0 === scriptString.length ? module$contents$goog$html$SafeScript_SafeScript.EMPTY : module$contents$goog$html$SafeScript_SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(scriptString);\n};\nmodule$contents$goog$html$SafeScript_SafeScript.fromJson = function(val) {\n  return module$contents$goog$html$SafeScript_SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(module$contents$goog$html$SafeScript_SafeScript.stringify_(val));\n};\nmodule$contents$goog$html$SafeScript_SafeScript.prototype.getTypedStringValue = function() {\n  return this.privateDoNotAccessOrElseSafeScriptWrappedValue_.toString();\n};\nmodule$contents$goog$html$SafeScript_SafeScript.unwrap = function(safeScript) {\n  return module$contents$goog$html$SafeScript_SafeScript.unwrapTrustedScript(safeScript).toString();\n};\nmodule$contents$goog$html$SafeScript_SafeScript.unwrapTrustedScript = function(safeScript) {\n  if (safeScript instanceof module$contents$goog$html$SafeScript_SafeScript && safeScript.constructor === module$contents$goog$html$SafeScript_SafeScript) {\n    return safeScript.privateDoNotAccessOrElseSafeScriptWrappedValue_;\n  }\n  (0,goog.asserts.fail)(\"expected object of type SafeScript, got '\" + safeScript + \"' of type \" + goog.typeOf(safeScript));\n  return \"type_error:SafeScript\";\n};\nmodule$contents$goog$html$SafeScript_SafeScript.stringify_ = function(val) {\n  return JSON.stringify(val).replace(/</g, \"\\\\x3c\");\n};\nmodule$contents$goog$html$SafeScript_SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse = function(script) {\n  var noinlineScript = script, policy = goog.html.trustedtypes.getPolicyPrivateDoNotAccessOrElse(), trustedScript = policy ? policy.createScript(noinlineScript) : noinlineScript;\n  return new module$contents$goog$html$SafeScript_SafeScript(trustedScript, module$contents$goog$html$SafeScript_CONSTRUCTOR_TOKEN_PRIVATE);\n};\nmodule$contents$goog$html$SafeScript_SafeScript.EMPTY = function() {\n  return module$contents$goog$html$SafeScript_SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(\"\");\n}();\ngoog.html.SafeScript = module$contents$goog$html$SafeScript_SafeScript;\ngoog.fs = {};\ngoog.fs.url = {};\ngoog.fs.url.createObjectUrl = function(obj) {\n  return goog.fs.url.getUrlObject_().createObjectURL(obj);\n};\ngoog.fs.url.revokeObjectUrl = function(url) {\n  goog.fs.url.getUrlObject_().revokeObjectURL(url);\n};\ngoog.fs.url.UrlObject_ = function() {\n};\ngoog.fs.url.UrlObject_.prototype.createObjectURL = function(arg) {\n};\ngoog.fs.url.UrlObject_.prototype.revokeObjectURL = function(s) {\n};\ngoog.fs.url.getUrlObject_ = function() {\n  var urlObject = goog.fs.url.findUrlObject_();\n  if (null != urlObject) {\n    return urlObject;\n  }\n  throw Error(\"This browser doesn't seem to support blob URLs\");\n};\ngoog.fs.url.findUrlObject_ = function() {\n  return void 0 !== goog.global.URL && void 0 !== goog.global.URL.createObjectURL ? goog.global.URL : void 0 !== goog.global.createObjectURL ? goog.global : null;\n};\ngoog.fs.url.browserSupportsObjectUrls = function() {\n  return null != goog.fs.url.findUrlObject_();\n};\ngoog.fs.blob = {};\ngoog.fs.blob.getBlob = function(var_args) {\n  var BlobBuilder = goog.global.BlobBuilder || goog.global.WebKitBlobBuilder;\n  if (void 0 !== BlobBuilder) {\n    for (var bb = new BlobBuilder(), i = 0; i < arguments.length; i++) {\n      bb.append(arguments[i]);\n    }\n    return bb.getBlob();\n  }\n  return goog.fs.blob.getBlobWithProperties(Array.prototype.slice.call(arguments));\n};\ngoog.fs.blob.getBlobWithProperties = function(parts, opt_type, opt_endings) {\n  var BlobBuilder = goog.global.BlobBuilder || goog.global.WebKitBlobBuilder;\n  if (void 0 !== BlobBuilder) {\n    for (var bb = new BlobBuilder(), i = 0; i < parts.length; i++) {\n      bb.append(parts[i], opt_endings);\n    }\n    return bb.getBlob(opt_type);\n  }\n  if (void 0 !== goog.global.Blob) {\n    var properties = {};\n    opt_type && (properties.type = opt_type);\n    opt_endings && (properties.endings = opt_endings);\n    return new Blob(parts, properties);\n  }\n  throw Error(\"This browser doesn't seem to support creating Blobs\");\n};\ngoog.html.TrustedResourceUrl = function(value, token) {\n  this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_ = token === goog.html.TrustedResourceUrl.CONSTRUCTOR_TOKEN_PRIVATE_ ? value : \"\";\n};\ngoog.html.TrustedResourceUrl.prototype.toString = function() {\n  return this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_ + \"\";\n};\ngoog.html.TrustedResourceUrl.prototype.implementsGoogStringTypedString = !0;\ngoog.html.TrustedResourceUrl.prototype.getTypedStringValue = function() {\n  return this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_.toString();\n};\ngoog.html.TrustedResourceUrl.prototype.cloneWithParams = function(searchParams, opt_hashParams) {\n  var url = goog.html.TrustedResourceUrl.unwrap(this), parts = goog.html.TrustedResourceUrl.URL_PARAM_PARSER_.exec(url), urlHash = parts[3] || \"\";\n  return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(parts[1] + goog.html.TrustedResourceUrl.stringifyParams_(\"?\", parts[2] || \"\", searchParams) + goog.html.TrustedResourceUrl.stringifyParams_(\"#\", urlHash, opt_hashParams));\n};\ngoog.html.TrustedResourceUrl.unwrap = function(trustedResourceUrl) {\n  return goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(trustedResourceUrl).toString();\n};\ngoog.html.TrustedResourceUrl.unwrapTrustedScriptURL = function(trustedResourceUrl) {\n  if (trustedResourceUrl instanceof goog.html.TrustedResourceUrl && trustedResourceUrl.constructor === goog.html.TrustedResourceUrl) {\n    return trustedResourceUrl.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_;\n  }\n  goog.asserts.fail(\"expected object of type TrustedResourceUrl, got '\" + trustedResourceUrl + \"' of type \" + goog.typeOf(trustedResourceUrl));\n  return \"type_error:TrustedResourceUrl\";\n};\ngoog.html.TrustedResourceUrl.format = function(format, args) {\n  var formatStr = goog.string.Const.unwrap(format);\n  if (!goog.html.TrustedResourceUrl.BASE_URL_.test(formatStr)) {\n    throw Error(\"Invalid TrustedResourceUrl format: \" + formatStr);\n  }\n  var result = formatStr.replace(goog.html.TrustedResourceUrl.FORMAT_MARKER_, function(match, id) {\n    if (!Object.prototype.hasOwnProperty.call(args, id)) {\n      throw Error('Found marker, \"' + id + '\", in format string, \"' + formatStr + '\", but no valid label mapping found in args: ' + JSON.stringify(args));\n    }\n    var arg = args[id];\n    return arg instanceof goog.string.Const ? goog.string.Const.unwrap(arg) : encodeURIComponent(String(arg));\n  });\n  return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(result);\n};\ngoog.html.TrustedResourceUrl.FORMAT_MARKER_ = /%{(\\w+)}/g;\ngoog.html.TrustedResourceUrl.BASE_URL_ = RegExp(\"^((https:)?//[0-9a-z.:[\\\\]-]+/|/[^/\\\\\\\\]|[^:/\\\\\\\\%]+/|[^:/\\\\\\\\%]*[?#]|about:blank#)\", \"i\");\ngoog.html.TrustedResourceUrl.URL_PARAM_PARSER_ = /^([^?#]*)(\\?[^#]*)?(#[\\s\\S]*)?/;\ngoog.html.TrustedResourceUrl.formatWithParams = function(format, args, searchParams, opt_hashParams) {\n  return goog.html.TrustedResourceUrl.format(format, args).cloneWithParams(searchParams, opt_hashParams);\n};\ngoog.html.TrustedResourceUrl.fromConstant = function(url) {\n  return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(goog.string.Const.unwrap(url));\n};\ngoog.html.TrustedResourceUrl.fromConstants = function(parts) {\n  for (var unwrapped = \"\", i = 0; i < parts.length; i++) {\n    unwrapped += goog.string.Const.unwrap(parts[i]);\n  }\n  return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(unwrapped);\n};\ngoog.html.TrustedResourceUrl.fromSafeScript = function(safeScript) {\n  var blob = goog.fs.blob.getBlobWithProperties([module$contents$goog$html$SafeScript_SafeScript.unwrap(safeScript)], \"text/javascript\"), url = goog.fs.url.createObjectUrl(blob);\n  return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(url);\n};\ngoog.html.TrustedResourceUrl.CONSTRUCTOR_TOKEN_PRIVATE_ = {};\ngoog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse = function(url) {\n  var noinlineUrl = url, policy = goog.html.trustedtypes.getPolicyPrivateDoNotAccessOrElse(), value = policy ? policy.createScriptURL(noinlineUrl) : noinlineUrl;\n  return new goog.html.TrustedResourceUrl(value, goog.html.TrustedResourceUrl.CONSTRUCTOR_TOKEN_PRIVATE_);\n};\ngoog.html.TrustedResourceUrl.stringifyParams_ = function(prefix, currentString, params) {\n  if (null == params) {\n    return currentString;\n  }\n  if (\"string\" === typeof params) {\n    return params ? prefix + encodeURIComponent(params) : \"\";\n  }\n  for (var key in params) {\n    if (Object.prototype.hasOwnProperty.call(params, key)) {\n      for (var value = params[key], outputValues = Array.isArray(value) ? value : [value], i = 0; i < outputValues.length; i++) {\n        var outputValue = outputValues[i];\n        null != outputValue && (currentString || (currentString = prefix), currentString += (currentString.length > prefix.length ? \"&\" : \"\") + encodeURIComponent(key) + \"=\" + encodeURIComponent(String(outputValue)));\n      }\n    }\n  }\n  return currentString;\n};\ngoog.html.SafeUrl = function(value, token) {\n  this.privateDoNotAccessOrElseSafeUrlWrappedValue_ = token === goog.html.SafeUrl.CONSTRUCTOR_TOKEN_PRIVATE_ ? value : \"\";\n};\ngoog.html.SafeUrl.prototype.toString = function() {\n  return this.privateDoNotAccessOrElseSafeUrlWrappedValue_.toString();\n};\ngoog.html.SafeUrl.INNOCUOUS_STRING = \"about:invalid#zClosurez\";\ngoog.html.SafeUrl.prototype.implementsGoogStringTypedString = !0;\ngoog.html.SafeUrl.prototype.getTypedStringValue = function() {\n  return this.privateDoNotAccessOrElseSafeUrlWrappedValue_.toString();\n};\ngoog.html.SafeUrl.unwrap = function(safeUrl) {\n  if (safeUrl instanceof goog.html.SafeUrl && safeUrl.constructor === goog.html.SafeUrl) {\n    return safeUrl.privateDoNotAccessOrElseSafeUrlWrappedValue_;\n  }\n  goog.asserts.fail(\"expected object of type SafeUrl, got '\" + safeUrl + \"' of type \" + goog.typeOf(safeUrl));\n  return \"type_error:SafeUrl\";\n};\ngoog.html.SafeUrl.fromConstant = function(url) {\n  return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(goog.string.Const.unwrap(url));\n};\ngoog.html.SAFE_MIME_TYPE_PATTERN_ = RegExp('^(?:audio/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font/\\\\w+|image/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon|heic|heif)|video/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\\\\w+=(?:\\\\w+|\"[\\\\w;,= ]+\"))*$', \"i\");\ngoog.html.SafeUrl.isSafeMimeType = function(mimeType) {\n  return goog.html.SAFE_MIME_TYPE_PATTERN_.test(mimeType);\n};\ngoog.html.SafeUrl.fromBlob = function(blob) {\n  var url = goog.html.SafeUrl.isSafeMimeType(blob.type) ? goog.fs.url.createObjectUrl(blob) : goog.html.SafeUrl.INNOCUOUS_STRING;\n  return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(url);\n};\ngoog.html.SafeUrl.revokeObjectUrl = function(safeUrl) {\n  var url = safeUrl.getTypedStringValue();\n  url !== goog.html.SafeUrl.INNOCUOUS_STRING && goog.fs.url.revokeObjectUrl(url);\n};\ngoog.html.SafeUrl.fromMediaSource = function(mediaSource) {\n  goog.asserts.assert(\"MediaSource\" in goog.global, \"No support for MediaSource\");\n  var url = mediaSource instanceof MediaSource ? goog.fs.url.createObjectUrl(mediaSource) : goog.html.SafeUrl.INNOCUOUS_STRING;\n  return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(url);\n};\ngoog.html.DATA_URL_PATTERN_ = /^data:(.*);base64,[a-z0-9+\\/]+=*$/i;\ngoog.html.SafeUrl.tryFromDataUrl = function(dataUrl) {\n  dataUrl = String(dataUrl);\n  var filteredDataUrl = dataUrl.replace(/(%0A|%0D)/g, \"\");\n  return filteredDataUrl.match(goog.html.DATA_URL_PATTERN_) ? goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(filteredDataUrl) : null;\n};\ngoog.html.SafeUrl.fromDataUrl = function(dataUrl) {\n  return goog.html.SafeUrl.tryFromDataUrl(dataUrl) || goog.html.SafeUrl.INNOCUOUS_URL;\n};\ngoog.html.SafeUrl.fromTelUrl = function(telUrl) {\n  goog.string.internal.caseInsensitiveStartsWith(telUrl, \"tel:\") || (telUrl = goog.html.SafeUrl.INNOCUOUS_STRING);\n  return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(telUrl);\n};\ngoog.html.SIP_URL_PATTERN_ = RegExp(\"^sip[s]?:[+a-z0-9_.!$%&'*\\\\/=^`{|}~-]+@([a-z0-9-]+\\\\.)+[a-z0-9]{2,63}$\", \"i\");\ngoog.html.SafeUrl.fromSipUrl = function(sipUrl) {\n  goog.html.SIP_URL_PATTERN_.test(decodeURIComponent(sipUrl)) || (sipUrl = goog.html.SafeUrl.INNOCUOUS_STRING);\n  return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(sipUrl);\n};\ngoog.html.SafeUrl.fromFacebookMessengerUrl = function(facebookMessengerUrl) {\n  goog.string.internal.caseInsensitiveStartsWith(facebookMessengerUrl, \"fb-messenger://share\") || (facebookMessengerUrl = goog.html.SafeUrl.INNOCUOUS_STRING);\n  return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(facebookMessengerUrl);\n};\ngoog.html.SafeUrl.fromWhatsAppUrl = function(whatsAppUrl) {\n  goog.string.internal.caseInsensitiveStartsWith(whatsAppUrl, \"whatsapp://send\") || (whatsAppUrl = goog.html.SafeUrl.INNOCUOUS_STRING);\n  return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(whatsAppUrl);\n};\ngoog.html.SafeUrl.fromSmsUrl = function(smsUrl) {\n  goog.string.internal.caseInsensitiveStartsWith(smsUrl, \"sms:\") && goog.html.SafeUrl.isSmsUrlBodyValid_(smsUrl) || (smsUrl = goog.html.SafeUrl.INNOCUOUS_STRING);\n  return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(smsUrl);\n};\ngoog.html.SafeUrl.isSmsUrlBodyValid_ = function(smsUrl) {\n  var hash = smsUrl.indexOf(\"#\");\n  0 < hash && (smsUrl = smsUrl.substring(0, hash));\n  var bodyParams = smsUrl.match(/[?&]body=/gi);\n  if (!bodyParams) {\n    return !0;\n  }\n  if (1 < bodyParams.length) {\n    return !1;\n  }\n  var bodyValue = smsUrl.match(/[?&]body=([^&]*)/)[1];\n  if (!bodyValue) {\n    return !0;\n  }\n  try {\n    decodeURIComponent(bodyValue);\n  } catch (error) {\n    return !1;\n  }\n  return /^(?:[a-z0-9\\-_.~]|%[0-9a-f]{2})+$/i.test(bodyValue);\n};\ngoog.html.SafeUrl.fromSshUrl = function(sshUrl) {\n  goog.string.internal.caseInsensitiveStartsWith(sshUrl, \"ssh://\") || (sshUrl = goog.html.SafeUrl.INNOCUOUS_STRING);\n  return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(sshUrl);\n};\ngoog.html.SafeUrl.sanitizeChromeExtensionUrl = function(url, extensionId) {\n  return goog.html.SafeUrl.sanitizeExtensionUrl_(/^chrome-extension:\\/\\/([^\\/]+)\\//, url, extensionId);\n};\ngoog.html.SafeUrl.sanitizeFirefoxExtensionUrl = function(url, extensionId) {\n  return goog.html.SafeUrl.sanitizeExtensionUrl_(/^moz-extension:\\/\\/([^\\/]+)\\//, url, extensionId);\n};\ngoog.html.SafeUrl.sanitizeEdgeExtensionUrl = function(url, extensionId) {\n  return goog.html.SafeUrl.sanitizeExtensionUrl_(/^ms-browser-extension:\\/\\/([^\\/]+)\\//, url, extensionId);\n};\ngoog.html.SafeUrl.sanitizeExtensionUrl_ = function(scheme, url, extensionId) {\n  var matches = scheme.exec(url);\n  if (matches) {\n    var extractedExtensionId = matches[1];\n    -1 == (extensionId instanceof goog.string.Const ? [goog.string.Const.unwrap(extensionId)] : extensionId.map(function unwrap(x) {\n      return goog.string.Const.unwrap(x);\n    })).indexOf(extractedExtensionId) && (url = goog.html.SafeUrl.INNOCUOUS_STRING);\n  } else {\n    url = goog.html.SafeUrl.INNOCUOUS_STRING;\n  }\n  return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(url);\n};\ngoog.html.SafeUrl.fromTrustedResourceUrl = function(trustedResourceUrl) {\n  return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(goog.html.TrustedResourceUrl.unwrap(trustedResourceUrl));\n};\ngoog.html.SAFE_URL_PATTERN_ = /^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;\ngoog.html.SafeUrl.SAFE_URL_PATTERN = goog.html.SAFE_URL_PATTERN_;\ngoog.html.SafeUrl.trySanitize = function(url) {\n  if (url instanceof goog.html.SafeUrl) {\n    return url;\n  }\n  url = \"object\" == typeof url && url.implementsGoogStringTypedString ? url.getTypedStringValue() : String(url);\n  return goog.html.SAFE_URL_PATTERN_.test(url) ? goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(url) : goog.html.SafeUrl.tryFromDataUrl(url);\n};\ngoog.html.SafeUrl.sanitize = function(url) {\n  return goog.html.SafeUrl.trySanitize(url) || goog.html.SafeUrl.INNOCUOUS_URL;\n};\ngoog.html.SafeUrl.sanitizeAssertUnchanged = function(url, opt_allowDataUrl) {\n  if (url instanceof goog.html.SafeUrl) {\n    return url;\n  }\n  url = \"object\" == typeof url && url.implementsGoogStringTypedString ? url.getTypedStringValue() : String(url);\n  if (opt_allowDataUrl && /^data:/i.test(url)) {\n    var safeUrl = goog.html.SafeUrl.fromDataUrl(url);\n    if (safeUrl.getTypedStringValue() == url) {\n      return safeUrl;\n    }\n  }\n  goog.asserts.assert(goog.html.SAFE_URL_PATTERN_.test(url), \"%s does not match the safe URL pattern\", url) || (url = goog.html.SafeUrl.INNOCUOUS_STRING);\n  return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(url);\n};\ngoog.html.SafeUrl.CONSTRUCTOR_TOKEN_PRIVATE_ = {};\ngoog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse = function(url) {\n  return new goog.html.SafeUrl(url, goog.html.SafeUrl.CONSTRUCTOR_TOKEN_PRIVATE_);\n};\ngoog.html.SafeUrl.INNOCUOUS_URL = goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(goog.html.SafeUrl.INNOCUOUS_STRING);\ngoog.html.SafeUrl.ABOUT_BLANK = goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(\"about:blank\");\nvar module$contents$goog$html$SafeStyle_CONSTRUCTOR_TOKEN_PRIVATE = {}, module$contents$goog$html$SafeStyle_SafeStyle = function(value, token) {\n  this.privateDoNotAccessOrElseSafeStyleWrappedValue_ = token === module$contents$goog$html$SafeStyle_CONSTRUCTOR_TOKEN_PRIVATE ? value : \"\";\n  this.implementsGoogStringTypedString = !0;\n};\nmodule$contents$goog$html$SafeStyle_SafeStyle.fromConstant = function(style) {\n  var styleString = goog.string.Const.unwrap(style);\n  if (0 === styleString.length) {\n    return module$contents$goog$html$SafeStyle_SafeStyle.EMPTY;\n  }\n  (0,goog.asserts.assert)((0,goog.string.internal.endsWith)(styleString, \";\"), \"Last character of style string is not ';': \" + styleString);\n  (0,goog.asserts.assert)((0,goog.string.internal.contains)(styleString, \":\"), \"Style string must contain at least one ':', to specify a \\\"name: value\\\" pair: \" + styleString);\n  return module$contents$goog$html$SafeStyle_SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(styleString);\n};\nmodule$contents$goog$html$SafeStyle_SafeStyle.prototype.getTypedStringValue = function() {\n  return this.privateDoNotAccessOrElseSafeStyleWrappedValue_;\n};\nmodule$contents$goog$html$SafeStyle_SafeStyle.prototype.toString = function() {\n  return this.privateDoNotAccessOrElseSafeStyleWrappedValue_.toString();\n};\nmodule$contents$goog$html$SafeStyle_SafeStyle.unwrap = function(safeStyle) {\n  if (safeStyle instanceof module$contents$goog$html$SafeStyle_SafeStyle && safeStyle.constructor === module$contents$goog$html$SafeStyle_SafeStyle) {\n    return safeStyle.privateDoNotAccessOrElseSafeStyleWrappedValue_;\n  }\n  (0,goog.asserts.fail)(\"expected object of type SafeStyle, got '\" + safeStyle + \"' of type \" + goog.typeOf(safeStyle));\n  return \"type_error:SafeStyle\";\n};\nmodule$contents$goog$html$SafeStyle_SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse = function(style) {\n  return new module$contents$goog$html$SafeStyle_SafeStyle(style, module$contents$goog$html$SafeStyle_CONSTRUCTOR_TOKEN_PRIVATE);\n};\nmodule$contents$goog$html$SafeStyle_SafeStyle.create = function(map) {\n  var style = \"\", name;\n  for (name in map) {\n    if (Object.prototype.hasOwnProperty.call(map, name)) {\n      if (!/^[-_a-zA-Z0-9]+$/.test(name)) {\n        throw Error(\"Name allows only [-_a-zA-Z0-9], got: \" + name);\n      }\n      var value = map[name];\n      null != value && (value = Array.isArray(value) ? value.map(module$contents$goog$html$SafeStyle_sanitizePropertyValue).join(\" \") : module$contents$goog$html$SafeStyle_sanitizePropertyValue(value), style += name + \":\" + value + \";\");\n    }\n  }\n  return style ? module$contents$goog$html$SafeStyle_SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(style) : module$contents$goog$html$SafeStyle_SafeStyle.EMPTY;\n};\nmodule$contents$goog$html$SafeStyle_SafeStyle.concat = function(var_args) {\n  var style = \"\", addArgument = function(argument) {\n    Array.isArray(argument) ? argument.forEach(addArgument) : style += module$contents$goog$html$SafeStyle_SafeStyle.unwrap(argument);\n  };\n  Array.prototype.forEach.call(arguments, addArgument);\n  return style ? module$contents$goog$html$SafeStyle_SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(style) : module$contents$goog$html$SafeStyle_SafeStyle.EMPTY;\n};\nmodule$contents$goog$html$SafeStyle_SafeStyle.EMPTY = module$contents$goog$html$SafeStyle_SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(\"\");\nmodule$contents$goog$html$SafeStyle_SafeStyle.INNOCUOUS_STRING = \"zClosurez\";\nfunction module$contents$goog$html$SafeStyle_sanitizePropertyValue(value) {\n  if (value instanceof goog.html.SafeUrl) {\n    return 'url(\"' + goog.html.SafeUrl.unwrap(value).replace(/</g, \"%3c\").replace(/[\\\\\"]/g, \"\\\\$&\") + '\")';\n  }\n  var result = value instanceof goog.string.Const ? goog.string.Const.unwrap(value) : module$contents$goog$html$SafeStyle_sanitizePropertyValueString(String(value));\n  if (/[{;}]/.test(result)) {\n    throw new module$contents$goog$asserts_AssertionError(\"Value does not allow [{;}], got: %s.\", [result]);\n  }\n  return result;\n}\nfunction module$contents$goog$html$SafeStyle_sanitizePropertyValueString(value) {\n  var valueWithoutFunctions = value.replace(module$contents$goog$html$SafeStyle_FUNCTIONS_RE, \"$1\").replace(module$contents$goog$html$SafeStyle_FUNCTIONS_RE, \"$1\").replace(module$contents$goog$html$SafeStyle_URL_RE, \"url\");\n  if (module$contents$goog$html$SafeStyle_VALUE_RE.test(valueWithoutFunctions)) {\n    if (module$contents$goog$html$SafeStyle_COMMENT_RE.test(value)) {\n      return (0,goog.asserts.fail)(\"String value disallows comments, got: \" + value), module$contents$goog$html$SafeStyle_SafeStyle.INNOCUOUS_STRING;\n    }\n    if (!module$contents$goog$html$SafeStyle_hasBalancedQuotes(value)) {\n      return (0,goog.asserts.fail)(\"String value requires balanced quotes, got: \" + value), module$contents$goog$html$SafeStyle_SafeStyle.INNOCUOUS_STRING;\n    }\n    if (!module$contents$goog$html$SafeStyle_hasBalancedSquareBrackets(value)) {\n      return (0,goog.asserts.fail)(\"String value requires balanced square brackets and one identifier per pair of brackets, got: \" + value), module$contents$goog$html$SafeStyle_SafeStyle.INNOCUOUS_STRING;\n    }\n  } else {\n    return (0,goog.asserts.fail)(\"String value allows only [-+,.\\\"'%_!#/ a-zA-Z0-9\\\\[\\\\]] and simple functions, got: \" + value), module$contents$goog$html$SafeStyle_SafeStyle.INNOCUOUS_STRING;\n  }\n  return module$contents$goog$html$SafeStyle_sanitizeUrl(value);\n}\nfunction module$contents$goog$html$SafeStyle_hasBalancedQuotes(value) {\n  for (var outsideSingle = !0, outsideDouble = !0, i = 0; i < value.length; i++) {\n    var c = value.charAt(i);\n    \"'\" == c && outsideDouble ? outsideSingle = !outsideSingle : '\"' == c && outsideSingle && (outsideDouble = !outsideDouble);\n  }\n  return outsideSingle && outsideDouble;\n}\nfunction module$contents$goog$html$SafeStyle_hasBalancedSquareBrackets(value) {\n  for (var outside = !0, tokenRe = /^[-_a-zA-Z0-9]$/, i = 0; i < value.length; i++) {\n    var c = value.charAt(i);\n    if (\"]\" == c) {\n      if (outside) {\n        return !1;\n      }\n      outside = !0;\n    } else if (\"[\" == c) {\n      if (!outside) {\n        return !1;\n      }\n      outside = !1;\n    } else if (!outside && !tokenRe.test(c)) {\n      return !1;\n    }\n  }\n  return outside;\n}\nvar module$contents$goog$html$SafeStyle_VALUE_RE = RegExp(\"^[-+,.\\\"'%_!#/ a-zA-Z0-9\\\\[\\\\]]+$\"), module$contents$goog$html$SafeStyle_URL_RE = RegExp(\"\\\\b(url\\\\([ \\t\\n]*)('[ -&(-\\\\[\\\\]-~]*'|\\\"[ !#-\\\\[\\\\]-~]*\\\"|[!#-&*-\\\\[\\\\]-~]*)([ \\t\\n]*\\\\))\", \"g\"), module$contents$goog$html$SafeStyle_FUNCTIONS_RE = RegExp(\"\\\\b(calc|cubic-bezier|fit-content|hsl|hsla|linear-gradient|matrix|minmax|radial-gradient|repeat|rgb|rgba|(rotate|scale|translate)(X|Y|Z|3d)?|steps|var)\\\\([-+*/0-9a-zA-Z.%#\\\\[\\\\], ]+\\\\)\", \"g\"), module$contents$goog$html$SafeStyle_COMMENT_RE = \n/\\/\\*/;\nfunction module$contents$goog$html$SafeStyle_sanitizeUrl(value) {\n  return value.replace(module$contents$goog$html$SafeStyle_URL_RE, function(match$jscomp$0, before, url, after) {\n    var quote = \"\";\n    url = url.replace(/^(['\"])(.*)\\1$/, function(match, start, inside) {\n      quote = start;\n      return inside;\n    });\n    var sanitized = goog.html.SafeUrl.sanitize(url).getTypedStringValue();\n    return before + quote + sanitized + quote + after;\n  });\n}\ngoog.html.SafeStyle = module$contents$goog$html$SafeStyle_SafeStyle;\nvar module$contents$goog$html$SafeStyleSheet_CONSTRUCTOR_TOKEN_PRIVATE = {}, module$contents$goog$html$SafeStyleSheet_SafeStyleSheet = function(value, token) {\n  this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_ = token === module$contents$goog$html$SafeStyleSheet_CONSTRUCTOR_TOKEN_PRIVATE ? value : \"\";\n  this.implementsGoogStringTypedString = !0;\n};\nmodule$contents$goog$html$SafeStyleSheet_SafeStyleSheet.prototype.toString = function() {\n  return this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_.toString();\n};\nmodule$contents$goog$html$SafeStyleSheet_SafeStyleSheet.createRule = function(selector, style) {\n  if ((0,goog.string.internal.contains)(selector, \"<\")) {\n    throw Error(\"Selector does not allow '<', got: \" + selector);\n  }\n  var selectorToCheck = selector.replace(/('|\")((?!\\1)[^\\r\\n\\f\\\\]|\\\\[\\s\\S])*\\1/g, \"\");\n  if (!/^[-_a-zA-Z0-9#.:* ,>+~[\\]()=^$|]+$/.test(selectorToCheck)) {\n    throw Error(\"Selector allows only [-_a-zA-Z0-9#.:* ,>+~[\\\\]()=^$|] and strings, got: \" + selector);\n  }\n  if (!module$contents$goog$html$SafeStyleSheet_SafeStyleSheet.hasBalancedBrackets_(selectorToCheck)) {\n    throw Error(\"() and [] in selector must be balanced, got: \" + selector);\n  }\n  style instanceof module$contents$goog$html$SafeStyle_SafeStyle || (style = module$contents$goog$html$SafeStyle_SafeStyle.create(style));\n  var styleSheet = selector + \"{\" + module$contents$goog$html$SafeStyle_SafeStyle.unwrap(style).replace(/</g, \"\\\\3C \") + \"}\";\n  return module$contents$goog$html$SafeStyleSheet_SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(styleSheet);\n};\nmodule$contents$goog$html$SafeStyleSheet_SafeStyleSheet.hasBalancedBrackets_ = function(s) {\n  for (var brackets = {\"(\":\")\", \"[\":\"]\"}, expectedBrackets = [], i = 0; i < s.length; i++) {\n    var ch = s[i];\n    if (brackets[ch]) {\n      expectedBrackets.push(brackets[ch]);\n    } else if (module$contents$goog$object_contains(brackets, ch) && expectedBrackets.pop() != ch) {\n      return !1;\n    }\n  }\n  return 0 == expectedBrackets.length;\n};\nmodule$contents$goog$html$SafeStyleSheet_SafeStyleSheet.concat = function(var_args) {\n  var result = \"\", addArgument = function(argument) {\n    Array.isArray(argument) ? argument.forEach(addArgument) : result += module$contents$goog$html$SafeStyleSheet_SafeStyleSheet.unwrap(argument);\n  };\n  Array.prototype.forEach.call(arguments, addArgument);\n  return module$contents$goog$html$SafeStyleSheet_SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(result);\n};\nmodule$contents$goog$html$SafeStyleSheet_SafeStyleSheet.fromConstant = function(styleSheet) {\n  var styleSheetString = goog.string.Const.unwrap(styleSheet);\n  if (0 === styleSheetString.length) {\n    return module$contents$goog$html$SafeStyleSheet_SafeStyleSheet.EMPTY;\n  }\n  (0,goog.asserts.assert)(!(0,goog.string.internal.contains)(styleSheetString, \"<\"), \"Forbidden '<' character in style sheet string: \" + styleSheetString);\n  return module$contents$goog$html$SafeStyleSheet_SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(styleSheetString);\n};\nmodule$contents$goog$html$SafeStyleSheet_SafeStyleSheet.prototype.getTypedStringValue = function() {\n  return this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_;\n};\nmodule$contents$goog$html$SafeStyleSheet_SafeStyleSheet.unwrap = function(safeStyleSheet) {\n  if (safeStyleSheet instanceof module$contents$goog$html$SafeStyleSheet_SafeStyleSheet && safeStyleSheet.constructor === module$contents$goog$html$SafeStyleSheet_SafeStyleSheet) {\n    return safeStyleSheet.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_;\n  }\n  (0,goog.asserts.fail)(\"expected object of type SafeStyleSheet, got '\" + safeStyleSheet + \"' of type \" + goog.typeOf(safeStyleSheet));\n  return \"type_error:SafeStyleSheet\";\n};\nmodule$contents$goog$html$SafeStyleSheet_SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse = function(styleSheet) {\n  return new module$contents$goog$html$SafeStyleSheet_SafeStyleSheet(styleSheet, module$contents$goog$html$SafeStyleSheet_CONSTRUCTOR_TOKEN_PRIVATE);\n};\nmodule$contents$goog$html$SafeStyleSheet_SafeStyleSheet.EMPTY = module$contents$goog$html$SafeStyleSheet_SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(\"\");\ngoog.html.SafeStyleSheet = module$contents$goog$html$SafeStyleSheet_SafeStyleSheet;\nvar module$contents$goog$html$SafeHtml_CONSTRUCTOR_TOKEN_PRIVATE = {}, module$contents$goog$html$SafeHtml_SafeHtml = function(value, token) {\n  this.privateDoNotAccessOrElseSafeHtmlWrappedValue_ = token === module$contents$goog$html$SafeHtml_CONSTRUCTOR_TOKEN_PRIVATE ? value : \"\";\n  this.implementsGoogStringTypedString = !0;\n};\nmodule$contents$goog$html$SafeHtml_SafeHtml.prototype.getTypedStringValue = function() {\n  return this.privateDoNotAccessOrElseSafeHtmlWrappedValue_.toString();\n};\nmodule$contents$goog$html$SafeHtml_SafeHtml.prototype.toString = function() {\n  return this.privateDoNotAccessOrElseSafeHtmlWrappedValue_.toString();\n};\nmodule$contents$goog$html$SafeHtml_SafeHtml.unwrap = function(safeHtml) {\n  return module$contents$goog$html$SafeHtml_SafeHtml.unwrapTrustedHTML(safeHtml).toString();\n};\nmodule$contents$goog$html$SafeHtml_SafeHtml.unwrapTrustedHTML = function(safeHtml) {\n  if (safeHtml instanceof module$contents$goog$html$SafeHtml_SafeHtml && safeHtml.constructor === module$contents$goog$html$SafeHtml_SafeHtml) {\n    return safeHtml.privateDoNotAccessOrElseSafeHtmlWrappedValue_;\n  }\n  goog.asserts.fail(\"expected object of type SafeHtml, got '\" + safeHtml + \"' of type \" + goog.typeOf(safeHtml));\n  return \"type_error:SafeHtml\";\n};\nmodule$contents$goog$html$SafeHtml_SafeHtml.htmlEscape = function(textOrHtml) {\n  return textOrHtml instanceof module$contents$goog$html$SafeHtml_SafeHtml ? textOrHtml : module$contents$goog$html$SafeHtml_SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(goog.string.internal.htmlEscape(\"object\" == typeof textOrHtml && textOrHtml.implementsGoogStringTypedString ? textOrHtml.getTypedStringValue() : String(textOrHtml)));\n};\nmodule$contents$goog$html$SafeHtml_SafeHtml.htmlEscapePreservingNewlines = function(textOrHtml) {\n  if (textOrHtml instanceof module$contents$goog$html$SafeHtml_SafeHtml) {\n    return textOrHtml;\n  }\n  var html = module$contents$goog$html$SafeHtml_SafeHtml.htmlEscape(textOrHtml);\n  return module$contents$goog$html$SafeHtml_SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(goog.string.internal.newLineToBr(module$contents$goog$html$SafeHtml_SafeHtml.unwrap(html)));\n};\nmodule$contents$goog$html$SafeHtml_SafeHtml.htmlEscapePreservingNewlinesAndSpaces = function(textOrHtml) {\n  if (textOrHtml instanceof module$contents$goog$html$SafeHtml_SafeHtml) {\n    return textOrHtml;\n  }\n  var html = module$contents$goog$html$SafeHtml_SafeHtml.htmlEscape(textOrHtml);\n  return module$contents$goog$html$SafeHtml_SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(goog.string.internal.whitespaceEscape(module$contents$goog$html$SafeHtml_SafeHtml.unwrap(html)));\n};\nmodule$contents$goog$html$SafeHtml_SafeHtml.comment = function(text) {\n  return module$contents$goog$html$SafeHtml_SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(\"\\x3c!--\" + goog.string.internal.htmlEscape(text) + \"--\\x3e\");\n};\nmodule$contents$goog$html$SafeHtml_SafeHtml.create = function(tagName, attributes, content) {\n  module$contents$goog$html$SafeHtml_SafeHtml.verifyTagName(String(tagName));\n  return module$contents$goog$html$SafeHtml_SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse(String(tagName), attributes, content);\n};\nmodule$contents$goog$html$SafeHtml_SafeHtml.verifyTagName = function(tagName) {\n  if (!module$contents$goog$html$SafeHtml_VALID_NAMES_IN_TAG.test(tagName)) {\n    throw Error(module$contents$goog$html$SafeHtml_SafeHtml.ENABLE_ERROR_MESSAGES ? \"Invalid tag name <\" + tagName + \">.\" : \"\");\n  }\n  if (tagName.toUpperCase() in module$contents$goog$html$SafeHtml_NOT_ALLOWED_TAG_NAMES) {\n    throw Error(module$contents$goog$html$SafeHtml_SafeHtml.ENABLE_ERROR_MESSAGES ? \"Tag name <\" + tagName + \"> is not allowed for SafeHtml.\" : \"\");\n  }\n};\nmodule$contents$goog$html$SafeHtml_SafeHtml.createIframe = function(src, srcdoc, attributes, content) {\n  src && goog.html.TrustedResourceUrl.unwrap(src);\n  var fixedAttributes = {};\n  fixedAttributes.src = src || null;\n  fixedAttributes.srcdoc = srcdoc && module$contents$goog$html$SafeHtml_SafeHtml.unwrap(srcdoc);\n  var combinedAttrs = module$contents$goog$html$SafeHtml_SafeHtml.combineAttributes(fixedAttributes, {sandbox:\"\"}, attributes);\n  return module$contents$goog$html$SafeHtml_SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse(\"iframe\", combinedAttrs, content);\n};\nmodule$contents$goog$html$SafeHtml_SafeHtml.createSandboxIframe = function(src, srcdoc, attributes, content) {\n  if (!module$contents$goog$html$SafeHtml_SafeHtml.canUseSandboxIframe()) {\n    throw Error(module$contents$goog$html$SafeHtml_SafeHtml.ENABLE_ERROR_MESSAGES ? \"The browser does not support sandboxed iframes.\" : \"\");\n  }\n  var fixedAttributes = {};\n  fixedAttributes.src = src ? goog.html.SafeUrl.unwrap(goog.html.SafeUrl.sanitize(src)) : null;\n  fixedAttributes.srcdoc = srcdoc || null;\n  fixedAttributes.sandbox = \"\";\n  var combinedAttrs = module$contents$goog$html$SafeHtml_SafeHtml.combineAttributes(fixedAttributes, {}, attributes);\n  return module$contents$goog$html$SafeHtml_SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse(\"iframe\", combinedAttrs, content);\n};\nmodule$contents$goog$html$SafeHtml_SafeHtml.canUseSandboxIframe = function() {\n  return goog.global.HTMLIFrameElement && \"sandbox\" in goog.global.HTMLIFrameElement.prototype;\n};\nmodule$contents$goog$html$SafeHtml_SafeHtml.createScriptSrc = function(src, attributes) {\n  goog.html.TrustedResourceUrl.unwrap(src);\n  var combinedAttrs = module$contents$goog$html$SafeHtml_SafeHtml.combineAttributes({src:src}, {}, attributes);\n  return module$contents$goog$html$SafeHtml_SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse(\"script\", combinedAttrs);\n};\nmodule$contents$goog$html$SafeHtml_SafeHtml.createScript = function(script, attributes) {\n  for (var attr in attributes) {\n    if (Object.prototype.hasOwnProperty.call(attributes, attr)) {\n      var attrLower = attr.toLowerCase();\n      if (\"language\" == attrLower || \"src\" == attrLower || \"text\" == attrLower) {\n        throw Error(module$contents$goog$html$SafeHtml_SafeHtml.ENABLE_ERROR_MESSAGES ? 'Cannot set \"' + attrLower + '\" attribute' : \"\");\n      }\n    }\n  }\n  var content = \"\";\n  script = module$contents$goog$array_concat(script);\n  for (var i = 0; i < script.length; i++) {\n    content += module$contents$goog$html$SafeScript_SafeScript.unwrap(script[i]);\n  }\n  var htmlContent = module$contents$goog$html$SafeHtml_SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(content);\n  return module$contents$goog$html$SafeHtml_SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse(\"script\", attributes, htmlContent);\n};\nmodule$contents$goog$html$SafeHtml_SafeHtml.createStyle = function(styleSheet, attributes) {\n  var combinedAttrs = module$contents$goog$html$SafeHtml_SafeHtml.combineAttributes({type:\"text/css\"}, {}, attributes), content = \"\";\n  styleSheet = module$contents$goog$array_concat(styleSheet);\n  for (var i = 0; i < styleSheet.length; i++) {\n    content += module$contents$goog$html$SafeStyleSheet_SafeStyleSheet.unwrap(styleSheet[i]);\n  }\n  var htmlContent = module$contents$goog$html$SafeHtml_SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(content);\n  return module$contents$goog$html$SafeHtml_SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse(\"style\", combinedAttrs, htmlContent);\n};\nmodule$contents$goog$html$SafeHtml_SafeHtml.createMetaRefresh = function(url, secs) {\n  var unwrappedUrl = goog.html.SafeUrl.unwrap(goog.html.SafeUrl.sanitize(url));\n  (module$contents$goog$labs$userAgent$browser_matchIE() || module$contents$goog$labs$userAgent$browser_matchEdgeHtml()) && goog.string.internal.contains(unwrappedUrl, \";\") && (unwrappedUrl = \"'\" + unwrappedUrl.replace(/'/g, \"%27\") + \"'\");\n  return module$contents$goog$html$SafeHtml_SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse(\"meta\", {\"http-equiv\":\"refresh\", content:(secs || 0) + \"; url=\" + unwrappedUrl,});\n};\nmodule$contents$goog$html$SafeHtml_SafeHtml.join = function(separator, parts) {\n  var separatorHtml = module$contents$goog$html$SafeHtml_SafeHtml.htmlEscape(separator), content = [], addArgument = function(argument) {\n    if (Array.isArray(argument)) {\n      argument.forEach(addArgument);\n    } else {\n      var html = module$contents$goog$html$SafeHtml_SafeHtml.htmlEscape(argument);\n      content.push(module$contents$goog$html$SafeHtml_SafeHtml.unwrap(html));\n    }\n  };\n  parts.forEach(addArgument);\n  return module$contents$goog$html$SafeHtml_SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(content.join(module$contents$goog$html$SafeHtml_SafeHtml.unwrap(separatorHtml)));\n};\nmodule$contents$goog$html$SafeHtml_SafeHtml.concat = function(var_args) {\n  return module$contents$goog$html$SafeHtml_SafeHtml.join(module$contents$goog$html$SafeHtml_SafeHtml.EMPTY, Array.prototype.slice.call(arguments));\n};\nmodule$contents$goog$html$SafeHtml_SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse = function(html) {\n  var noinlineHtml = html, policy = goog.html.trustedtypes.getPolicyPrivateDoNotAccessOrElse(), trustedHtml = policy ? policy.createHTML(noinlineHtml) : noinlineHtml;\n  return new module$contents$goog$html$SafeHtml_SafeHtml(trustedHtml, module$contents$goog$html$SafeHtml_CONSTRUCTOR_TOKEN_PRIVATE);\n};\nmodule$contents$goog$html$SafeHtml_SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse = function(tagName, attributes, content) {\n  var result = \"<\" + tagName + module$contents$goog$html$SafeHtml_SafeHtml.stringifyAttributes(tagName, attributes);\n  null == content ? content = [] : Array.isArray(content) || (content = [content]);\n  if (goog.dom.tags.isVoidTag(tagName.toLowerCase())) {\n    goog.asserts.assert(!content.length, \"Void tag <\" + tagName + \"> does not allow content.\"), result += \">\";\n  } else {\n    var html = module$contents$goog$html$SafeHtml_SafeHtml.concat(content);\n    result += \">\" + module$contents$goog$html$SafeHtml_SafeHtml.unwrap(html) + \"</\" + tagName + \">\";\n  }\n  return module$contents$goog$html$SafeHtml_SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(result);\n};\nmodule$contents$goog$html$SafeHtml_SafeHtml.stringifyAttributes = function(tagName, attributes) {\n  var result = \"\";\n  if (attributes) {\n    for (var name in attributes) {\n      if (Object.prototype.hasOwnProperty.call(attributes, name)) {\n        if (!module$contents$goog$html$SafeHtml_VALID_NAMES_IN_TAG.test(name)) {\n          throw Error(module$contents$goog$html$SafeHtml_SafeHtml.ENABLE_ERROR_MESSAGES ? 'Invalid attribute name \"' + name + '\".' : \"\");\n        }\n        var value = attributes[name];\n        null != value && (result += \" \" + module$contents$goog$html$SafeHtml_getAttrNameAndValue(tagName, name, value));\n      }\n    }\n  }\n  return result;\n};\nmodule$contents$goog$html$SafeHtml_SafeHtml.combineAttributes = function(fixedAttributes, defaultAttributes, attributes) {\n  var combinedAttributes = {}, name;\n  for (name in fixedAttributes) {\n    Object.prototype.hasOwnProperty.call(fixedAttributes, name) && (goog.asserts.assert(name.toLowerCase() == name, \"Must be lower case\"), combinedAttributes[name] = fixedAttributes[name]);\n  }\n  for (var name$48 in defaultAttributes) {\n    Object.prototype.hasOwnProperty.call(defaultAttributes, name$48) && (goog.asserts.assert(name$48.toLowerCase() == name$48, \"Must be lower case\"), combinedAttributes[name$48] = defaultAttributes[name$48]);\n  }\n  if (attributes) {\n    for (var name$49 in attributes) {\n      if (Object.prototype.hasOwnProperty.call(attributes, name$49)) {\n        var nameLower = name$49.toLowerCase();\n        if (nameLower in fixedAttributes) {\n          throw Error(module$contents$goog$html$SafeHtml_SafeHtml.ENABLE_ERROR_MESSAGES ? 'Cannot override \"' + nameLower + '\" attribute, got \"' + name$49 + '\" with value \"' + attributes[name$49] + '\"' : \"\");\n        }\n        nameLower in defaultAttributes && delete combinedAttributes[nameLower];\n        combinedAttributes[name$49] = attributes[name$49];\n      }\n    }\n  }\n  return combinedAttributes;\n};\nmodule$contents$goog$html$SafeHtml_SafeHtml.ENABLE_ERROR_MESSAGES = goog.DEBUG;\nmodule$contents$goog$html$SafeHtml_SafeHtml.SUPPORT_STYLE_ATTRIBUTE = !0;\nmodule$contents$goog$html$SafeHtml_SafeHtml.from = module$contents$goog$html$SafeHtml_SafeHtml.htmlEscape;\nvar module$contents$goog$html$SafeHtml_VALID_NAMES_IN_TAG = /^[a-zA-Z0-9-]+$/, module$contents$goog$html$SafeHtml_URL_ATTRIBUTES = {action:!0, cite:!0, data:!0, formaction:!0, href:!0, manifest:!0, poster:!0, src:!0}, module$contents$goog$html$SafeHtml_NOT_ALLOWED_TAG_NAMES = module$contents$goog$object_createSet(goog.dom.TagName.APPLET, goog.dom.TagName.BASE, goog.dom.TagName.EMBED, goog.dom.TagName.IFRAME, goog.dom.TagName.LINK, goog.dom.TagName.MATH, goog.dom.TagName.META, goog.dom.TagName.OBJECT, \ngoog.dom.TagName.SCRIPT, goog.dom.TagName.STYLE, goog.dom.TagName.SVG, goog.dom.TagName.TEMPLATE);\nfunction module$contents$goog$html$SafeHtml_getAttrNameAndValue(tagName, name, value) {\n  if (value instanceof goog.string.Const) {\n    value = goog.string.Const.unwrap(value);\n  } else if (\"style\" == name.toLowerCase()) {\n    if (module$contents$goog$html$SafeHtml_SafeHtml.SUPPORT_STYLE_ATTRIBUTE) {\n      value = module$contents$goog$html$SafeHtml_getStyleValue(value);\n    } else {\n      throw Error(module$contents$goog$html$SafeHtml_SafeHtml.ENABLE_ERROR_MESSAGES ? 'Attribute \"style\" not supported.' : \"\");\n    }\n  } else {\n    if (/^on/i.test(name)) {\n      throw Error(module$contents$goog$html$SafeHtml_SafeHtml.ENABLE_ERROR_MESSAGES ? 'Attribute \"' + name + '\" requires goog.string.Const value, \"' + value + '\" given.' : \"\");\n    }\n    if (name.toLowerCase() in module$contents$goog$html$SafeHtml_URL_ATTRIBUTES) {\n      if (value instanceof goog.html.TrustedResourceUrl) {\n        value = goog.html.TrustedResourceUrl.unwrap(value);\n      } else if (value instanceof goog.html.SafeUrl) {\n        value = goog.html.SafeUrl.unwrap(value);\n      } else if (\"string\" === typeof value) {\n        value = goog.html.SafeUrl.sanitize(value).getTypedStringValue();\n      } else {\n        throw Error(module$contents$goog$html$SafeHtml_SafeHtml.ENABLE_ERROR_MESSAGES ? 'Attribute \"' + name + '\" on tag \"' + tagName + '\" requires goog.html.SafeUrl, goog.string.Const, or string, value \"' + value + '\" given.' : \"\");\n      }\n    }\n  }\n  value.implementsGoogStringTypedString && (value = value.getTypedStringValue());\n  goog.asserts.assert(\"string\" === typeof value || \"number\" === typeof value, \"String or number value expected, got \" + typeof value + \" with value: \" + value);\n  return name + '=\"' + goog.string.internal.htmlEscape(String(value)) + '\"';\n}\nfunction module$contents$goog$html$SafeHtml_getStyleValue(value) {\n  if (!goog.isObject(value)) {\n    throw Error(module$contents$goog$html$SafeHtml_SafeHtml.ENABLE_ERROR_MESSAGES ? 'The \"style\" attribute requires goog.html.SafeStyle or map of style properties, ' + typeof value + \" given: \" + value : \"\");\n  }\n  value instanceof module$contents$goog$html$SafeStyle_SafeStyle || (value = module$contents$goog$html$SafeStyle_SafeStyle.create(value));\n  return module$contents$goog$html$SafeStyle_SafeStyle.unwrap(value);\n}\nmodule$contents$goog$html$SafeHtml_SafeHtml.DOCTYPE_HTML = function() {\n  return module$contents$goog$html$SafeHtml_SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(\"<!DOCTYPE html>\");\n}();\nmodule$contents$goog$html$SafeHtml_SafeHtml.EMPTY = new module$contents$goog$html$SafeHtml_SafeHtml(goog.global.trustedTypes && goog.global.trustedTypes.emptyHTML || \"\", module$contents$goog$html$SafeHtml_CONSTRUCTOR_TOKEN_PRIVATE);\nmodule$contents$goog$html$SafeHtml_SafeHtml.BR = function() {\n  return module$contents$goog$html$SafeHtml_SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(\"<br>\");\n}();\ngoog.html.SafeHtml = module$contents$goog$html$SafeHtml_SafeHtml;\ngoog.html.uncheckedconversions = {};\ngoog.html.uncheckedconversions.safeHtmlFromStringKnownToSatisfyTypeContract = function(justification, html) {\n  goog.asserts.assertString(goog.string.Const.unwrap(justification), \"must provide justification\");\n  goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(justification)), \"must provide non-empty justification\");\n  return module$contents$goog$html$SafeHtml_SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(html);\n};\ngoog.html.uncheckedconversions.safeScriptFromStringKnownToSatisfyTypeContract = function(justification, script) {\n  goog.asserts.assertString(goog.string.Const.unwrap(justification), \"must provide justification\");\n  goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(justification)), \"must provide non-empty justification\");\n  return module$contents$goog$html$SafeScript_SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(script);\n};\ngoog.html.uncheckedconversions.safeStyleFromStringKnownToSatisfyTypeContract = function(justification, style) {\n  goog.asserts.assertString(goog.string.Const.unwrap(justification), \"must provide justification\");\n  goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(justification)), \"must provide non-empty justification\");\n  return module$contents$goog$html$SafeStyle_SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(style);\n};\ngoog.html.uncheckedconversions.safeStyleSheetFromStringKnownToSatisfyTypeContract = function(justification, styleSheet) {\n  goog.asserts.assertString(goog.string.Const.unwrap(justification), \"must provide justification\");\n  goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(justification)), \"must provide non-empty justification\");\n  return module$contents$goog$html$SafeStyleSheet_SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(styleSheet);\n};\ngoog.html.uncheckedconversions.safeUrlFromStringKnownToSatisfyTypeContract = function(justification, url) {\n  goog.asserts.assertString(goog.string.Const.unwrap(justification), \"must provide justification\");\n  goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(justification)), \"must provide non-empty justification\");\n  return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(url);\n};\ngoog.html.uncheckedconversions.trustedResourceUrlFromStringKnownToSatisfyTypeContract = function(justification, url) {\n  goog.asserts.assertString(goog.string.Const.unwrap(justification), \"must provide justification\");\n  goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(justification)), \"must provide non-empty justification\");\n  return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(url);\n};\ngoog.dom.safe = {};\ngoog.dom.safe.InsertAdjacentHtmlPosition = {AFTERBEGIN:\"afterbegin\", AFTEREND:\"afterend\", BEFOREBEGIN:\"beforebegin\", BEFOREEND:\"beforeend\"};\ngoog.dom.safe.insertAdjacentHtml = function(node, position, html) {\n  node.insertAdjacentHTML(position, module$contents$goog$html$SafeHtml_SafeHtml.unwrapTrustedHTML(html));\n};\ngoog.dom.safe.SET_INNER_HTML_DISALLOWED_TAGS_ = {MATH:!0, SCRIPT:!0, STYLE:!0, SVG:!0, TEMPLATE:!0};\ngoog.dom.safe.isInnerHtmlCleanupRecursive_ = goog.functions.cacheReturnValue(function() {\n  if (goog.DEBUG && \"undefined\" === typeof document) {\n    return !1;\n  }\n  var div = document.createElement(\"div\"), childDiv = document.createElement(\"div\");\n  childDiv.appendChild(document.createElement(\"div\"));\n  div.appendChild(childDiv);\n  if (goog.DEBUG && !div.firstChild) {\n    return !1;\n  }\n  var innerChild = div.firstChild.firstChild;\n  div.innerHTML = module$contents$goog$html$SafeHtml_SafeHtml.unwrapTrustedHTML(module$contents$goog$html$SafeHtml_SafeHtml.EMPTY);\n  return !innerChild.parentElement;\n});\ngoog.dom.safe.unsafeSetInnerHtmlDoNotUseOrElse = function(elem, html) {\n  if (goog.dom.safe.isInnerHtmlCleanupRecursive_()) {\n    for (; elem.lastChild;) {\n      elem.removeChild(elem.lastChild);\n    }\n  }\n  elem.innerHTML = module$contents$goog$html$SafeHtml_SafeHtml.unwrapTrustedHTML(html);\n};\ngoog.dom.safe.setInnerHtml = function(elem, html) {\n  if (goog.asserts.ENABLE_ASSERTS && elem.tagName && goog.dom.safe.SET_INNER_HTML_DISALLOWED_TAGS_[elem.tagName.toUpperCase()]) {\n    throw Error(\"goog.dom.safe.setInnerHtml cannot be used to set content of \" + elem.tagName + \".\");\n  }\n  goog.dom.safe.unsafeSetInnerHtmlDoNotUseOrElse(elem, html);\n};\ngoog.dom.safe.setInnerHtmlFromConstant = function(element, constHtml) {\n  goog.dom.safe.setInnerHtml(element, goog.html.uncheckedconversions.safeHtmlFromStringKnownToSatisfyTypeContract(goog.string.Const.from(\"Constant HTML to be immediatelly used.\"), goog.string.Const.unwrap(constHtml)));\n};\ngoog.dom.safe.setOuterHtml = function(elem, html) {\n  elem.outerHTML = module$contents$goog$html$SafeHtml_SafeHtml.unwrapTrustedHTML(html);\n};\ngoog.dom.safe.setFormElementAction = function(form, url) {\n  var safeUrl = url instanceof goog.html.SafeUrl ? url : goog.html.SafeUrl.sanitizeAssertUnchanged(url);\n  module$contents$goog$asserts$dom_assertIsHtmlFormElement(form).action = goog.html.SafeUrl.unwrap(safeUrl);\n};\ngoog.dom.safe.setButtonFormAction = function(button, url) {\n  var safeUrl = url instanceof goog.html.SafeUrl ? url : goog.html.SafeUrl.sanitizeAssertUnchanged(url);\n  module$contents$goog$asserts$dom_assertIsHtmlButtonElement(button).formAction = goog.html.SafeUrl.unwrap(safeUrl);\n};\ngoog.dom.safe.setInputFormAction = function(input, url) {\n  var safeUrl = url instanceof goog.html.SafeUrl ? url : goog.html.SafeUrl.sanitizeAssertUnchanged(url);\n  module$contents$goog$asserts$dom_assertIsHtmlInputElement(input).formAction = goog.html.SafeUrl.unwrap(safeUrl);\n};\ngoog.dom.safe.setStyle = function(elem, style) {\n  elem.style.cssText = module$contents$goog$html$SafeStyle_SafeStyle.unwrap(style);\n};\ngoog.dom.safe.documentWrite = function(doc, html) {\n  doc.write(module$contents$goog$html$SafeHtml_SafeHtml.unwrapTrustedHTML(html));\n};\ngoog.dom.safe.setAnchorHref = function(anchor, url) {\n  module$contents$goog$asserts$dom_assertIsHtmlAnchorElement(anchor);\n  var safeUrl = url instanceof goog.html.SafeUrl ? url : goog.html.SafeUrl.sanitizeAssertUnchanged(url);\n  anchor.href = goog.html.SafeUrl.unwrap(safeUrl);\n};\ngoog.dom.safe.setAudioSrc = function(audioElement, url) {\n  module$contents$goog$asserts$dom_assertIsHtmlAudioElement(audioElement);\n  var safeUrl = url instanceof goog.html.SafeUrl ? url : goog.html.SafeUrl.sanitizeAssertUnchanged(url, /^data:audio\\//i.test(url));\n  audioElement.src = goog.html.SafeUrl.unwrap(safeUrl);\n};\ngoog.dom.safe.setVideoSrc = function(videoElement, url) {\n  module$contents$goog$asserts$dom_assertIsHtmlVideoElement(videoElement);\n  var safeUrl = url instanceof goog.html.SafeUrl ? url : goog.html.SafeUrl.sanitizeAssertUnchanged(url, /^data:video\\//i.test(url));\n  videoElement.src = goog.html.SafeUrl.unwrap(safeUrl);\n};\ngoog.dom.safe.setEmbedSrc = function(embed, url) {\n  module$contents$goog$asserts$dom_assertIsHtmlEmbedElement(embed);\n  embed.src = goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(url);\n};\ngoog.dom.safe.setFrameSrc = function(frame, url) {\n  module$contents$goog$asserts$dom_assertIsHtmlFrameElement(frame);\n  frame.src = goog.html.TrustedResourceUrl.unwrap(url);\n};\ngoog.dom.safe.setIframeSrc = function(iframe, url) {\n  module$contents$goog$asserts$dom_assertIsHtmlIFrameElement(iframe);\n  iframe.src = goog.html.TrustedResourceUrl.unwrap(url);\n};\ngoog.dom.safe.setIframeSrcdoc = function(iframe, html) {\n  module$contents$goog$asserts$dom_assertIsHtmlIFrameElement(iframe);\n  iframe.srcdoc = module$contents$goog$html$SafeHtml_SafeHtml.unwrapTrustedHTML(html);\n};\ngoog.dom.safe.setLinkHrefAndRel = function(link, url, rel) {\n  module$contents$goog$asserts$dom_assertIsHtmlLinkElement(link);\n  link.rel = rel;\n  if (goog.string.internal.caseInsensitiveContains(rel, \"stylesheet\")) {\n    goog.asserts.assert(url instanceof goog.html.TrustedResourceUrl, 'URL must be TrustedResourceUrl because \"rel\" contains \"stylesheet\"');\n    link.href = goog.html.TrustedResourceUrl.unwrap(url);\n    var nonce = goog.dom.safe.getStyleNonce(link.ownerDocument && link.ownerDocument.defaultView);\n    nonce && link.setAttribute(\"nonce\", nonce);\n  } else {\n    link.href = url instanceof goog.html.TrustedResourceUrl ? goog.html.TrustedResourceUrl.unwrap(url) : url instanceof goog.html.SafeUrl ? goog.html.SafeUrl.unwrap(url) : goog.html.SafeUrl.unwrap(goog.html.SafeUrl.sanitizeAssertUnchanged(url));\n  }\n};\ngoog.dom.safe.setObjectData = function(object, url) {\n  module$contents$goog$asserts$dom_assertIsHtmlObjectElement(object);\n  object.data = goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(url);\n};\ngoog.dom.safe.setScriptSrc = function(script, url) {\n  module$contents$goog$asserts$dom_assertIsHtmlScriptElement(script);\n  goog.dom.safe.setNonceForScriptElement_(script);\n  script.src = goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(url);\n};\ngoog.dom.safe.setScriptContent = function(script, content) {\n  module$contents$goog$asserts$dom_assertIsHtmlScriptElement(script);\n  goog.dom.safe.setNonceForScriptElement_(script);\n  script.textContent = module$contents$goog$html$SafeScript_SafeScript.unwrapTrustedScript(content);\n};\ngoog.dom.safe.setNonceForScriptElement_ = function(script) {\n  var nonce = goog.dom.safe.getScriptNonce(script.ownerDocument && script.ownerDocument.defaultView);\n  nonce && script.setAttribute(\"nonce\", nonce);\n};\ngoog.dom.safe.setLocationHref = function(loc, url) {\n  goog.dom.asserts.assertIsLocation(loc);\n  var safeUrl = url instanceof goog.html.SafeUrl ? url : goog.html.SafeUrl.sanitizeAssertUnchanged(url);\n  loc.href = goog.html.SafeUrl.unwrap(safeUrl);\n};\ngoog.dom.safe.assignLocation = function(loc, url) {\n  goog.dom.asserts.assertIsLocation(loc);\n  var safeUrl = url instanceof goog.html.SafeUrl ? url : goog.html.SafeUrl.sanitizeAssertUnchanged(url);\n  loc.assign(goog.html.SafeUrl.unwrap(safeUrl));\n};\ngoog.dom.safe.replaceLocation = function(loc, url) {\n  var safeUrl = url instanceof goog.html.SafeUrl ? url : goog.html.SafeUrl.sanitizeAssertUnchanged(url);\n  loc.replace(goog.html.SafeUrl.unwrap(safeUrl));\n};\ngoog.dom.safe.openInWindow = function(url, opt_openerWin, opt_name, opt_specs) {\n  var safeUrl = url instanceof goog.html.SafeUrl ? url : goog.html.SafeUrl.sanitizeAssertUnchanged(url);\n  var win = opt_openerWin || goog.global, name = opt_name instanceof goog.string.Const ? goog.string.Const.unwrap(opt_name) : opt_name || \"\";\n  return void 0 !== opt_specs ? win.open(goog.html.SafeUrl.unwrap(safeUrl), name, opt_specs) : win.open(goog.html.SafeUrl.unwrap(safeUrl), name);\n};\ngoog.dom.safe.parseFromStringHtml = function(parser, html) {\n  return goog.dom.safe.parseFromString(parser, html, \"text/html\");\n};\ngoog.dom.safe.parseFromString = function(parser, content, type) {\n  return parser.parseFromString(module$contents$goog$html$SafeHtml_SafeHtml.unwrapTrustedHTML(content), type);\n};\ngoog.dom.safe.createImageFromBlob = function(blob) {\n  if (!/^image\\/.*/g.test(blob.type)) {\n    throw Error(\"goog.dom.safe.createImageFromBlob only accepts MIME type image/.*.\");\n  }\n  var objectUrl = goog.global.URL.createObjectURL(blob), image = new goog.global.Image();\n  image.onload = function() {\n    goog.global.URL.revokeObjectURL(objectUrl);\n  };\n  image.src = objectUrl;\n  return image;\n};\ngoog.dom.safe.createContextualFragment = function(range, html) {\n  return range.createContextualFragment(module$contents$goog$html$SafeHtml_SafeHtml.unwrapTrustedHTML(html));\n};\ngoog.dom.safe.getScriptNonce = function(opt_window) {\n  return goog.dom.safe.getNonce_(\"script[nonce]\", opt_window);\n};\ngoog.dom.safe.getStyleNonce = function(opt_window) {\n  return goog.dom.safe.getNonce_('style[nonce],link[rel=\"stylesheet\"][nonce]', opt_window);\n};\ngoog.dom.safe.NONCE_PATTERN_ = /^[\\w+/_-]+[=]{0,2}$/;\ngoog.dom.safe.getNonce_ = function(selector, win) {\n  var doc = (win || goog.global).document;\n  if (!doc.querySelector) {\n    return \"\";\n  }\n  var el = doc.querySelector(selector);\n  if (el) {\n    var nonce = el.nonce || el.getAttribute(\"nonce\");\n    if (nonce && goog.dom.safe.NONCE_PATTERN_.test(nonce)) {\n      return nonce;\n    }\n  }\n  return \"\";\n};\ngoog.string.DETECT_DOUBLE_ESCAPING = !1;\ngoog.string.FORCE_NON_DOM_HTML_UNESCAPING = !1;\ngoog.string.Unicode = {NBSP:\"\\u00a0\", ZERO_WIDTH_SPACE:\"\\u200b\"};\ngoog.string.startsWith = goog.string.internal.startsWith;\ngoog.string.endsWith = goog.string.internal.endsWith;\ngoog.string.caseInsensitiveStartsWith = goog.string.internal.caseInsensitiveStartsWith;\ngoog.string.caseInsensitiveEndsWith = goog.string.internal.caseInsensitiveEndsWith;\ngoog.string.caseInsensitiveEquals = goog.string.internal.caseInsensitiveEquals;\ngoog.string.subs = function(str, var_args) {\n  for (var splitParts = str.split(\"%s\"), returnString = \"\", subsArguments = Array.prototype.slice.call(arguments, 1); subsArguments.length && 1 < splitParts.length;) {\n    returnString += splitParts.shift() + subsArguments.shift();\n  }\n  return returnString + splitParts.join(\"%s\");\n};\ngoog.string.collapseWhitespace = function(str) {\n  return str.replace(/[\\s\\xa0]+/g, \" \").replace(/^\\s+|\\s+$/g, \"\");\n};\ngoog.string.isEmptyOrWhitespace = goog.string.internal.isEmptyOrWhitespace;\ngoog.string.isEmptyString = function(str) {\n  return 0 == str.length;\n};\ngoog.string.isEmpty = goog.string.isEmptyOrWhitespace;\ngoog.string.isEmptyOrWhitespaceSafe = function(str) {\n  return goog.string.isEmptyOrWhitespace(goog.string.makeSafe(str));\n};\ngoog.string.isEmptySafe = goog.string.isEmptyOrWhitespaceSafe;\ngoog.string.isBreakingWhitespace = function(str) {\n  return !/[^\\t\\n\\r ]/.test(str);\n};\ngoog.string.isAlpha = function(str) {\n  return !/[^a-zA-Z]/.test(str);\n};\ngoog.string.isNumeric = function(str) {\n  return !/[^0-9]/.test(str);\n};\ngoog.string.isAlphaNumeric = function(str) {\n  return !/[^a-zA-Z0-9]/.test(str);\n};\ngoog.string.isSpace = function(ch) {\n  return \" \" == ch;\n};\ngoog.string.isUnicodeChar = function(ch) {\n  return 1 == ch.length && \" \" <= ch && \"~\" >= ch || \"\\u0080\" <= ch && \"\\ufffd\" >= ch;\n};\ngoog.string.stripNewlines = function(str) {\n  return str.replace(/(\\r\\n|\\r|\\n)+/g, \" \");\n};\ngoog.string.canonicalizeNewlines = function(str) {\n  return str.replace(/(\\r\\n|\\r|\\n)/g, \"\\n\");\n};\ngoog.string.normalizeWhitespace = function(str) {\n  return str.replace(/\\xa0|\\s/g, \" \");\n};\ngoog.string.normalizeSpaces = function(str) {\n  return str.replace(/\\xa0|[ \\t]+/g, \" \");\n};\ngoog.string.collapseBreakingSpaces = function(str) {\n  return str.replace(/[\\t\\r\\n ]+/g, \" \").replace(/^[\\t\\r\\n ]+|[\\t\\r\\n ]+$/g, \"\");\n};\ngoog.string.trim = goog.string.internal.trim;\ngoog.string.trimLeft = function(str) {\n  return str.replace(/^[\\s\\xa0]+/, \"\");\n};\ngoog.string.trimRight = function(str) {\n  return str.replace(/[\\s\\xa0]+$/, \"\");\n};\ngoog.string.caseInsensitiveCompare = goog.string.internal.caseInsensitiveCompare;\ngoog.string.numberAwareCompare_ = function(str1, str2, tokenizerRegExp) {\n  if (str1 == str2) {\n    return 0;\n  }\n  if (!str1) {\n    return -1;\n  }\n  if (!str2) {\n    return 1;\n  }\n  for (var tokens1 = str1.toLowerCase().match(tokenizerRegExp), tokens2 = str2.toLowerCase().match(tokenizerRegExp), count = Math.min(tokens1.length, tokens2.length), i = 0; i < count; i++) {\n    var a = tokens1[i], b = tokens2[i];\n    if (a != b) {\n      var num1 = parseInt(a, 10);\n      if (!isNaN(num1)) {\n        var num2 = parseInt(b, 10);\n        if (!isNaN(num2) && num1 - num2) {\n          return num1 - num2;\n        }\n      }\n      return a < b ? -1 : 1;\n    }\n  }\n  return tokens1.length != tokens2.length ? tokens1.length - tokens2.length : str1 < str2 ? -1 : 1;\n};\ngoog.string.intAwareCompare = function(str1, str2) {\n  return goog.string.numberAwareCompare_(str1, str2, /\\d+|\\D+/g);\n};\ngoog.string.floatAwareCompare = function(str1, str2) {\n  return goog.string.numberAwareCompare_(str1, str2, /\\d+|\\.\\d+|\\D+/g);\n};\ngoog.string.numerateCompare = goog.string.floatAwareCompare;\ngoog.string.urlEncode = function(str) {\n  return encodeURIComponent(String(str));\n};\ngoog.string.urlDecode = function(str) {\n  return decodeURIComponent(str.replace(/\\+/g, \" \"));\n};\ngoog.string.newLineToBr = goog.string.internal.newLineToBr;\ngoog.string.htmlEscape = function(str, opt_isLikelyToContainHtmlChars) {\n  str = goog.string.internal.htmlEscape(str, opt_isLikelyToContainHtmlChars);\n  goog.string.DETECT_DOUBLE_ESCAPING && (str = str.replace(goog.string.E_RE_, \"&#101;\"));\n  return str;\n};\ngoog.string.E_RE_ = /e/g;\ngoog.string.unescapeEntities = function(str) {\n  return goog.string.contains(str, \"&\") ? !goog.string.FORCE_NON_DOM_HTML_UNESCAPING && \"document\" in goog.global ? goog.string.unescapeEntitiesUsingDom_(str) : goog.string.unescapePureXmlEntities_(str) : str;\n};\ngoog.string.unescapeEntitiesWithDocument = function(str, document) {\n  return goog.string.contains(str, \"&\") ? goog.string.unescapeEntitiesUsingDom_(str, document) : str;\n};\ngoog.string.unescapeEntitiesUsingDom_ = function(str, opt_document) {\n  var seen = {\"&amp;\":\"&\", \"&lt;\":\"<\", \"&gt;\":\">\", \"&quot;\":'\"'};\n  var div = opt_document ? opt_document.createElement(\"div\") : goog.global.document.createElement(\"div\");\n  return str.replace(goog.string.HTML_ENTITY_PATTERN_, function(s, entity) {\n    var value = seen[s];\n    if (value) {\n      return value;\n    }\n    if (\"#\" == entity.charAt(0)) {\n      var n = Number(\"0\" + entity.slice(1));\n      isNaN(n) || (value = String.fromCharCode(n));\n    }\n    value || (goog.dom.safe.setInnerHtml(div, goog.html.uncheckedconversions.safeHtmlFromStringKnownToSatisfyTypeContract(goog.string.Const.from(\"Single HTML entity.\"), s + \" \")), value = div.firstChild.nodeValue.slice(0, -1));\n    return seen[s] = value;\n  });\n};\ngoog.string.unescapePureXmlEntities_ = function(str) {\n  return str.replace(/&([^;]+);/g, function(s, entity) {\n    switch(entity) {\n      case \"amp\":\n        return \"&\";\n      case \"lt\":\n        return \"<\";\n      case \"gt\":\n        return \">\";\n      case \"quot\":\n        return '\"';\n      default:\n        if (\"#\" == entity.charAt(0)) {\n          var n = Number(\"0\" + entity.slice(1));\n          if (!isNaN(n)) {\n            return String.fromCharCode(n);\n          }\n        }\n        return s;\n    }\n  });\n};\ngoog.string.HTML_ENTITY_PATTERN_ = /&([^;\\s<&]+);?/g;\ngoog.string.whitespaceEscape = function(str, opt_xml) {\n  return goog.string.newLineToBr(str.replace(/  /g, \" &#160;\"), opt_xml);\n};\ngoog.string.preserveSpaces = function(str) {\n  return str.replace(/(^|[\\n ]) /g, \"$1\" + goog.string.Unicode.NBSP);\n};\ngoog.string.stripQuotes = function(str, quoteChars) {\n  for (var length = quoteChars.length, i = 0; i < length; i++) {\n    var quoteChar = 1 == length ? quoteChars : quoteChars.charAt(i);\n    if (str.charAt(0) == quoteChar && str.charAt(str.length - 1) == quoteChar) {\n      return str.substring(1, str.length - 1);\n    }\n  }\n  return str;\n};\ngoog.string.truncate = function(str, chars, opt_protectEscapedCharacters) {\n  opt_protectEscapedCharacters && (str = goog.string.unescapeEntities(str));\n  str.length > chars && (str = str.substring(0, chars - 3) + \"...\");\n  opt_protectEscapedCharacters && (str = goog.string.htmlEscape(str));\n  return str;\n};\ngoog.string.truncateMiddle = function(str, chars, opt_protectEscapedCharacters, opt_trailingChars) {\n  opt_protectEscapedCharacters && (str = goog.string.unescapeEntities(str));\n  if (opt_trailingChars && str.length > chars) {\n    opt_trailingChars > chars && (opt_trailingChars = chars), str = str.substring(0, chars - opt_trailingChars) + \"...\" + str.substring(str.length - opt_trailingChars);\n  } else if (str.length > chars) {\n    var half = Math.floor(chars / 2);\n    str = str.substring(0, half + chars % 2) + \"...\" + str.substring(str.length - half);\n  }\n  opt_protectEscapedCharacters && (str = goog.string.htmlEscape(str));\n  return str;\n};\ngoog.string.specialEscapeChars_ = {\"\\x00\":\"\\\\0\", \"\\b\":\"\\\\b\", \"\\f\":\"\\\\f\", \"\\n\":\"\\\\n\", \"\\r\":\"\\\\r\", \"\\t\":\"\\\\t\", \"\\v\":\"\\\\x0B\", '\"':'\\\\\"', \"\\\\\":\"\\\\\\\\\", \"<\":\"\\\\u003C\"};\ngoog.string.jsEscapeCache_ = {\"'\":\"\\\\'\"};\ngoog.string.quote = function(s) {\n  s = String(s);\n  for (var sb = ['\"'], i = 0; i < s.length; i++) {\n    var ch = s.charAt(i), cc = ch.charCodeAt(0);\n    sb[i + 1] = goog.string.specialEscapeChars_[ch] || (31 < cc && 127 > cc ? ch : goog.string.escapeChar(ch));\n  }\n  sb.push('\"');\n  return sb.join(\"\");\n};\ngoog.string.escapeString = function(str) {\n  for (var sb = [], i = 0; i < str.length; i++) {\n    sb[i] = goog.string.escapeChar(str.charAt(i));\n  }\n  return sb.join(\"\");\n};\ngoog.string.escapeChar = function(c) {\n  if (c in goog.string.jsEscapeCache_) {\n    return goog.string.jsEscapeCache_[c];\n  }\n  if (c in goog.string.specialEscapeChars_) {\n    return goog.string.jsEscapeCache_[c] = goog.string.specialEscapeChars_[c];\n  }\n  var rv = c, cc = c.charCodeAt(0);\n  if (31 < cc && 127 > cc) {\n    rv = c;\n  } else {\n    if (256 > cc) {\n      if (rv = \"\\\\x\", 16 > cc || 256 < cc) {\n        rv += \"0\";\n      }\n    } else {\n      rv = \"\\\\u\", 4096 > cc && (rv += \"0\");\n    }\n    rv += cc.toString(16).toUpperCase();\n  }\n  return goog.string.jsEscapeCache_[c] = rv;\n};\ngoog.string.contains = goog.string.internal.contains;\ngoog.string.caseInsensitiveContains = goog.string.internal.caseInsensitiveContains;\ngoog.string.countOf = function(s, ss) {\n  return s && ss ? s.split(ss).length - 1 : 0;\n};\ngoog.string.removeAt = function(s, index, stringLength) {\n  var resultStr = s;\n  0 <= index && index < s.length && 0 < stringLength && (resultStr = s.slice(0, index) + s.slice(index + stringLength));\n  return resultStr;\n};\ngoog.string.remove = function(str, substr) {\n  return str.replace(substr, \"\");\n};\ngoog.string.removeAll = function(s, ss) {\n  var re = new RegExp(goog.string.regExpEscape(ss), \"g\");\n  return s.replace(re, \"\");\n};\ngoog.string.replaceAll = function(s, ss, replacement) {\n  var re = new RegExp(goog.string.regExpEscape(ss), \"g\");\n  return s.replace(re, replacement.replace(/\\$/g, \"$$$$\"));\n};\ngoog.string.regExpEscape = function(s) {\n  return String(s).replace(/([-()\\[\\]{}+?*.$\\^|,:#<!\\\\])/g, \"\\\\$1\").replace(/\\x08/g, \"\\\\x08\");\n};\ngoog.string.repeat = String.prototype.repeat ? function(string, length) {\n  return string.repeat(length);\n} : function(string, length) {\n  return Array(length + 1).join(string);\n};\ngoog.string.padNumber = function(num, length, opt_precision) {\n  if (!Number.isFinite(num)) {\n    return String(num);\n  }\n  var s = void 0 !== opt_precision ? num.toFixed(opt_precision) : String(num), index = s.indexOf(\".\");\n  -1 === index && (index = s.length);\n  var sign = \"-\" === s[0] ? \"-\" : \"\";\n  sign && (s = s.substring(1));\n  return sign + goog.string.repeat(\"0\", Math.max(0, length - index)) + s;\n};\ngoog.string.makeSafe = function(obj) {\n  return null == obj ? \"\" : String(obj);\n};\ngoog.string.getRandomString = function() {\n  return Math.floor(2147483648 * Math.random()).toString(36) + Math.abs(Math.floor(2147483648 * Math.random()) ^ goog.now()).toString(36);\n};\ngoog.string.compareVersions = goog.string.internal.compareVersions;\ngoog.string.hashCode = function(str) {\n  for (var result = 0, i = 0; i < str.length; ++i) {\n    result = 31 * result + str.charCodeAt(i) >>> 0;\n  }\n  return result;\n};\ngoog.string.uniqueStringCounter_ = 2147483648 * Math.random() | 0;\ngoog.string.createUniqueString = function() {\n  return \"goog_\" + goog.string.uniqueStringCounter_++;\n};\ngoog.string.toNumber = function(str) {\n  var num = Number(str);\n  return 0 == num && goog.string.isEmptyOrWhitespace(str) ? NaN : num;\n};\ngoog.string.isLowerCamelCase = function(str) {\n  return /^[a-z]+([A-Z][a-z]*)*$/.test(str);\n};\ngoog.string.isUpperCamelCase = function(str) {\n  return /^([A-Z][a-z]*)+$/.test(str);\n};\ngoog.string.toCamelCase = function(str) {\n  return String(str).replace(/\\-([a-z])/g, function(all, match) {\n    return match.toUpperCase();\n  });\n};\ngoog.string.toSelectorCase = function(str) {\n  return String(str).replace(/([A-Z])/g, \"-$1\").toLowerCase();\n};\ngoog.string.toTitleCase = function(str, opt_delimiters) {\n  var delimiters = \"string\" === typeof opt_delimiters ? goog.string.regExpEscape(opt_delimiters) : \"\\\\s\";\n  return str.replace(new RegExp(\"(^\" + (delimiters ? \"|[\" + delimiters + \"]+\" : \"\") + \")([a-z])\", \"g\"), function(all, p1, p2) {\n    return p1 + p2.toUpperCase();\n  });\n};\ngoog.string.capitalize = function(str) {\n  return String(str.charAt(0)).toUpperCase() + String(str.slice(1)).toLowerCase();\n};\ngoog.string.parseInt = function(value) {\n  isFinite(value) && (value = String(value));\n  return \"string\" === typeof value ? /^\\s*-?0x/i.test(value) ? parseInt(value, 16) : parseInt(value, 10) : NaN;\n};\ngoog.string.splitLimit = function(str, separator, limit) {\n  for (var parts = str.split(separator), returnVal = []; 0 < limit && parts.length;) {\n    returnVal.push(parts.shift()), limit--;\n  }\n  parts.length && returnVal.push(parts.join(separator));\n  return returnVal;\n};\ngoog.string.lastComponent = function(str, separators) {\n  if (separators) {\n    \"string\" == typeof separators && (separators = [separators]);\n  } else {\n    return str;\n  }\n  for (var lastSeparatorIndex = -1, i = 0; i < separators.length; i++) {\n    if (\"\" != separators[i]) {\n      var currentSeparatorIndex = str.lastIndexOf(separators[i]);\n      currentSeparatorIndex > lastSeparatorIndex && (lastSeparatorIndex = currentSeparatorIndex);\n    }\n  }\n  return -1 == lastSeparatorIndex ? str : str.slice(lastSeparatorIndex + 1);\n};\ngoog.string.editDistance = function(a, b) {\n  var v0 = [], v1 = [];\n  if (a == b) {\n    return 0;\n  }\n  if (!a.length || !b.length) {\n    return Math.max(a.length, b.length);\n  }\n  for (var i = 0; i < b.length + 1; i++) {\n    v0[i] = i;\n  }\n  for (var i$50 = 0; i$50 < a.length; i$50++) {\n    v1[0] = i$50 + 1;\n    for (var j = 0; j < b.length; j++) {\n      v1[j + 1] = Math.min(v1[j] + 1, v0[j + 1] + 1, v0[j] + Number(a[i$50] != b[j]));\n    }\n    for (var j$51 = 0; j$51 < v0.length; j$51++) {\n      v0[j$51] = v1[j$51];\n    }\n  }\n  return v1[b.length];\n};\ngoog.collections.maps = {};\nvar module$contents$goog$collections$maps_MapLike = function() {\n};\nmodule$contents$goog$collections$maps_MapLike.prototype.set = function(key, val) {\n};\nmodule$contents$goog$collections$maps_MapLike.prototype.get = function(key) {\n};\nmodule$contents$goog$collections$maps_MapLike.prototype.keys = function() {\n};\nmodule$contents$goog$collections$maps_MapLike.prototype.values = function() {\n};\nmodule$contents$goog$collections$maps_MapLike.prototype.has = function(key) {\n};\ngoog.collections.maps.MapLike = module$contents$goog$collections$maps_MapLike;\ngoog.collections.maps.setAll = function module$contents$goog$collections$maps_setAll(map, entries) {\n  if (entries) {\n    for (var $jscomp$iter$16 = $jscomp.makeIterator(entries), $jscomp$key$ = $jscomp$iter$16.next(); !$jscomp$key$.done; $jscomp$key$ = $jscomp$iter$16.next()) {\n      var $jscomp$destructuring$var25 = $jscomp.makeIterator($jscomp$key$.value), k = $jscomp$destructuring$var25.next().value, v = $jscomp$destructuring$var25.next().value;\n      map.set(k, v);\n    }\n  }\n};\ngoog.collections.maps.hasValue = function module$contents$goog$collections$maps_hasValue(map, val, valueEqualityFn) {\n  valueEqualityFn = void 0 === valueEqualityFn ? module$contents$goog$collections$maps_defaultEqualityFn : valueEqualityFn;\n  for (var $jscomp$iter$17 = $jscomp.makeIterator(map.values()), $jscomp$key$v = $jscomp$iter$17.next(); !$jscomp$key$v.done; $jscomp$key$v = $jscomp$iter$17.next()) {\n    if (valueEqualityFn($jscomp$key$v.value, val)) {\n      return !0;\n    }\n  }\n  return !1;\n};\nvar module$contents$goog$collections$maps_defaultEqualityFn = function(a, b) {\n  return a === b;\n};\ngoog.collections.maps.equals = function module$contents$goog$collections$maps_equals(map, otherMap, valueEqualityFn) {\n  valueEqualityFn = void 0 === valueEqualityFn ? module$contents$goog$collections$maps_defaultEqualityFn : valueEqualityFn;\n  if (map === otherMap) {\n    return !0;\n  }\n  if (map.size !== otherMap.size) {\n    return !1;\n  }\n  for (var $jscomp$iter$18 = $jscomp.makeIterator(map.keys()), $jscomp$key$key = $jscomp$iter$18.next(); !$jscomp$key$key.done; $jscomp$key$key = $jscomp$iter$18.next()) {\n    var key = $jscomp$key$key.value;\n    if (!otherMap.has(key) || !valueEqualityFn(map.get(key), otherMap.get(key))) {\n      return !1;\n    }\n  }\n  return !0;\n};\ngoog.collections.maps.transpose = function module$contents$goog$collections$maps_transpose(map) {\n  for (var transposed = new Map(), $jscomp$iter$19 = $jscomp.makeIterator(map.keys()), $jscomp$key$key = $jscomp$iter$19.next(); !$jscomp$key$key.done; $jscomp$key$key = $jscomp$iter$19.next()) {\n    var key = $jscomp$key$key.value, val = map.get(key);\n    transposed.set(val, key);\n  }\n  return transposed;\n};\ngoog.collections.maps.toObject = function module$contents$goog$collections$maps_toObject(map) {\n  for (var obj = {}, $jscomp$iter$20 = $jscomp.makeIterator(map.keys()), $jscomp$key$key = $jscomp$iter$20.next(); !$jscomp$key$key.done; $jscomp$key$key = $jscomp$iter$20.next()) {\n    var key = $jscomp$key$key.value;\n    obj[key] = map.get(key);\n  }\n  return obj;\n};\ngoog.uri = {};\ngoog.uri.utils = {};\ngoog.uri.utils.QueryArray = {};\ngoog.uri.utils.QueryValue = {};\ngoog.uri.utils.CharCode_ = {AMPERSAND:38, EQUAL:61, HASH:35, QUESTION:63};\ngoog.uri.utils.buildFromEncodedParts = function(opt_scheme, opt_userInfo, opt_domain, opt_port, opt_path, opt_queryData, opt_fragment) {\n  var out = \"\";\n  opt_scheme && (out += opt_scheme + \":\");\n  opt_domain && (out += \"//\", opt_userInfo && (out += opt_userInfo + \"@\"), out += opt_domain, opt_port && (out += \":\" + opt_port));\n  opt_path && (out += opt_path);\n  opt_queryData && (out += \"?\" + opt_queryData);\n  opt_fragment && (out += \"#\" + opt_fragment);\n  return out;\n};\ngoog.uri.utils.splitRe_ = RegExp(\"^(?:([^:/?#.]+):)?(?://(?:([^\\\\\\\\/?#]*)@)?([^\\\\\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\\\\\/?#]|$))?([^?#]+)?(?:\\\\?([^#]*))?(?:#([\\\\s\\\\S]*))?$\");\ngoog.uri.utils.ComponentIndex = {SCHEME:1, USER_INFO:2, DOMAIN:3, PORT:4, PATH:5, QUERY_DATA:6, FRAGMENT:7};\ngoog.uri.utils.urlPackageSupportLoggingHandler_ = null;\ngoog.uri.utils.setUrlPackageSupportLoggingHandler = function(handler) {\n  goog.uri.utils.urlPackageSupportLoggingHandler_ = handler;\n};\ngoog.uri.utils.split = function(uri) {\n  var result = uri.match(goog.uri.utils.splitRe_);\n  goog.uri.utils.urlPackageSupportLoggingHandler_ && 0 <= [\"http\", \"https\", \"ws\", \"wss\", \"ftp\"].indexOf(result[goog.uri.utils.ComponentIndex.SCHEME]) && goog.uri.utils.urlPackageSupportLoggingHandler_(uri);\n  return result;\n};\ngoog.uri.utils.decodeIfPossible_ = function(uri, opt_preserveReserved) {\n  return uri ? opt_preserveReserved ? decodeURI(uri) : decodeURIComponent(uri) : uri;\n};\ngoog.uri.utils.getComponentByIndex_ = function(componentIndex, uri) {\n  return goog.uri.utils.split(uri)[componentIndex] || null;\n};\ngoog.uri.utils.getScheme = function(uri) {\n  return goog.uri.utils.getComponentByIndex_(goog.uri.utils.ComponentIndex.SCHEME, uri);\n};\ngoog.uri.utils.getEffectiveScheme = function(uri) {\n  var scheme = goog.uri.utils.getScheme(uri);\n  !scheme && goog.global.self && goog.global.self.location && (scheme = goog.global.self.location.protocol.slice(0, -1));\n  return scheme ? scheme.toLowerCase() : \"\";\n};\ngoog.uri.utils.getUserInfoEncoded = function(uri) {\n  return goog.uri.utils.getComponentByIndex_(goog.uri.utils.ComponentIndex.USER_INFO, uri);\n};\ngoog.uri.utils.getUserInfo = function(uri) {\n  return goog.uri.utils.decodeIfPossible_(goog.uri.utils.getUserInfoEncoded(uri));\n};\ngoog.uri.utils.getDomainEncoded = function(uri) {\n  return goog.uri.utils.getComponentByIndex_(goog.uri.utils.ComponentIndex.DOMAIN, uri);\n};\ngoog.uri.utils.getDomain = function(uri) {\n  return goog.uri.utils.decodeIfPossible_(goog.uri.utils.getDomainEncoded(uri), !0);\n};\ngoog.uri.utils.getPort = function(uri) {\n  return Number(goog.uri.utils.getComponentByIndex_(goog.uri.utils.ComponentIndex.PORT, uri)) || null;\n};\ngoog.uri.utils.getPathEncoded = function(uri) {\n  return goog.uri.utils.getComponentByIndex_(goog.uri.utils.ComponentIndex.PATH, uri);\n};\ngoog.uri.utils.getPath = function(uri) {\n  return goog.uri.utils.decodeIfPossible_(goog.uri.utils.getPathEncoded(uri), !0);\n};\ngoog.uri.utils.getQueryData = function(uri) {\n  return goog.uri.utils.getComponentByIndex_(goog.uri.utils.ComponentIndex.QUERY_DATA, uri);\n};\ngoog.uri.utils.getFragmentEncoded = function(uri) {\n  var hashIndex = uri.indexOf(\"#\");\n  return 0 > hashIndex ? null : uri.slice(hashIndex + 1);\n};\ngoog.uri.utils.setFragmentEncoded = function(uri, fragment) {\n  return goog.uri.utils.removeFragment(uri) + (fragment ? \"#\" + fragment : \"\");\n};\ngoog.uri.utils.getFragment = function(uri) {\n  return goog.uri.utils.decodeIfPossible_(goog.uri.utils.getFragmentEncoded(uri));\n};\ngoog.uri.utils.getHost = function(uri) {\n  var pieces = goog.uri.utils.split(uri);\n  return goog.uri.utils.buildFromEncodedParts(pieces[goog.uri.utils.ComponentIndex.SCHEME], pieces[goog.uri.utils.ComponentIndex.USER_INFO], pieces[goog.uri.utils.ComponentIndex.DOMAIN], pieces[goog.uri.utils.ComponentIndex.PORT]);\n};\ngoog.uri.utils.getOrigin = function(uri) {\n  var pieces = goog.uri.utils.split(uri);\n  return goog.uri.utils.buildFromEncodedParts(pieces[goog.uri.utils.ComponentIndex.SCHEME], null, pieces[goog.uri.utils.ComponentIndex.DOMAIN], pieces[goog.uri.utils.ComponentIndex.PORT]);\n};\ngoog.uri.utils.getPathAndAfter = function(uri) {\n  var pieces = goog.uri.utils.split(uri);\n  return goog.uri.utils.buildFromEncodedParts(null, null, null, null, pieces[goog.uri.utils.ComponentIndex.PATH], pieces[goog.uri.utils.ComponentIndex.QUERY_DATA], pieces[goog.uri.utils.ComponentIndex.FRAGMENT]);\n};\ngoog.uri.utils.removeFragment = function(uri) {\n  var hashIndex = uri.indexOf(\"#\");\n  return 0 > hashIndex ? uri : uri.slice(0, hashIndex);\n};\ngoog.uri.utils.haveSameDomain = function(uri1, uri2) {\n  var pieces1 = goog.uri.utils.split(uri1), pieces2 = goog.uri.utils.split(uri2);\n  return pieces1[goog.uri.utils.ComponentIndex.DOMAIN] == pieces2[goog.uri.utils.ComponentIndex.DOMAIN] && pieces1[goog.uri.utils.ComponentIndex.SCHEME] == pieces2[goog.uri.utils.ComponentIndex.SCHEME] && pieces1[goog.uri.utils.ComponentIndex.PORT] == pieces2[goog.uri.utils.ComponentIndex.PORT];\n};\ngoog.uri.utils.assertNoFragmentsOrQueries_ = function(uri) {\n  goog.asserts.assert(0 > uri.indexOf(\"#\") && 0 > uri.indexOf(\"?\"), \"goog.uri.utils: Fragment or query identifiers are not supported: [%s]\", uri);\n};\ngoog.uri.utils.parseQueryData = function(encodedQuery, callback) {\n  if (encodedQuery) {\n    for (var pairs = encodedQuery.split(\"&\"), i = 0; i < pairs.length; i++) {\n      var indexOfEquals = pairs[i].indexOf(\"=\"), name = null, value = null;\n      0 <= indexOfEquals ? (name = pairs[i].substring(0, indexOfEquals), value = pairs[i].substring(indexOfEquals + 1)) : name = pairs[i];\n      callback(name, value ? goog.string.urlDecode(value) : \"\");\n    }\n  }\n};\ngoog.uri.utils.splitQueryData_ = function(uri) {\n  var hashIndex = uri.indexOf(\"#\");\n  0 > hashIndex && (hashIndex = uri.length);\n  var questionIndex = uri.indexOf(\"?\");\n  if (0 > questionIndex || questionIndex > hashIndex) {\n    questionIndex = hashIndex;\n    var queryData = \"\";\n  } else {\n    queryData = uri.substring(questionIndex + 1, hashIndex);\n  }\n  return [uri.slice(0, questionIndex), queryData, uri.slice(hashIndex)];\n};\ngoog.uri.utils.joinQueryData_ = function(parts) {\n  return parts[0] + (parts[1] ? \"?\" + parts[1] : \"\") + parts[2];\n};\ngoog.uri.utils.appendQueryData_ = function(queryData, newData) {\n  return newData ? queryData ? queryData + \"&\" + newData : newData : queryData;\n};\ngoog.uri.utils.appendQueryDataToUri_ = function(uri, queryData) {\n  if (!queryData) {\n    return uri;\n  }\n  var parts = goog.uri.utils.splitQueryData_(uri);\n  parts[1] = goog.uri.utils.appendQueryData_(parts[1], queryData);\n  return goog.uri.utils.joinQueryData_(parts);\n};\ngoog.uri.utils.appendKeyValuePairs_ = function(key, value, pairs) {\n  goog.asserts.assertString(key);\n  if (Array.isArray(value)) {\n    goog.asserts.assertArray(value);\n    for (var j = 0; j < value.length; j++) {\n      goog.uri.utils.appendKeyValuePairs_(key, String(value[j]), pairs);\n    }\n  } else {\n    null != value && pairs.push(key + (\"\" === value ? \"\" : \"=\" + goog.string.urlEncode(value)));\n  }\n};\ngoog.uri.utils.buildQueryData = function(keysAndValues, opt_startIndex) {\n  goog.asserts.assert(0 == Math.max(keysAndValues.length - (opt_startIndex || 0), 0) % 2, \"goog.uri.utils: Key/value lists must be even in length.\");\n  for (var params = [], i = opt_startIndex || 0; i < keysAndValues.length; i += 2) {\n    goog.uri.utils.appendKeyValuePairs_(keysAndValues[i], keysAndValues[i + 1], params);\n  }\n  return params.join(\"&\");\n};\ngoog.uri.utils.buildQueryDataFromMap = function(map) {\n  var params = [], key;\n  for (key in map) {\n    goog.uri.utils.appendKeyValuePairs_(key, map[key], params);\n  }\n  return params.join(\"&\");\n};\ngoog.uri.utils.appendParams = function(uri, var_args) {\n  var queryData = 2 == arguments.length ? goog.uri.utils.buildQueryData(arguments[1], 0) : goog.uri.utils.buildQueryData(arguments, 1);\n  return goog.uri.utils.appendQueryDataToUri_(uri, queryData);\n};\ngoog.uri.utils.appendParamsFromMap = function(uri, map) {\n  var queryData = goog.uri.utils.buildQueryDataFromMap(map);\n  return goog.uri.utils.appendQueryDataToUri_(uri, queryData);\n};\ngoog.uri.utils.appendParam = function(uri, key, opt_value) {\n  var value = null != opt_value ? \"=\" + goog.string.urlEncode(opt_value) : \"\";\n  return goog.uri.utils.appendQueryDataToUri_(uri, key + value);\n};\ngoog.uri.utils.findParam_ = function(uri, startIndex, keyEncoded, hashOrEndIndex) {\n  for (var index = startIndex, keyLength = keyEncoded.length; 0 <= (index = uri.indexOf(keyEncoded, index)) && index < hashOrEndIndex;) {\n    var precedingChar = uri.charCodeAt(index - 1);\n    if (precedingChar == goog.uri.utils.CharCode_.AMPERSAND || precedingChar == goog.uri.utils.CharCode_.QUESTION) {\n      var followingChar = uri.charCodeAt(index + keyLength);\n      if (!followingChar || followingChar == goog.uri.utils.CharCode_.EQUAL || followingChar == goog.uri.utils.CharCode_.AMPERSAND || followingChar == goog.uri.utils.CharCode_.HASH) {\n        return index;\n      }\n    }\n    index += keyLength + 1;\n  }\n  return -1;\n};\ngoog.uri.utils.hashOrEndRe_ = /#|$/;\ngoog.uri.utils.hasParam = function(uri, keyEncoded) {\n  return 0 <= goog.uri.utils.findParam_(uri, 0, keyEncoded, uri.search(goog.uri.utils.hashOrEndRe_));\n};\ngoog.uri.utils.getParamValue = function(uri, keyEncoded) {\n  var hashOrEndIndex = uri.search(goog.uri.utils.hashOrEndRe_), foundIndex = goog.uri.utils.findParam_(uri, 0, keyEncoded, hashOrEndIndex);\n  if (0 > foundIndex) {\n    return null;\n  }\n  var endPosition = uri.indexOf(\"&\", foundIndex);\n  if (0 > endPosition || endPosition > hashOrEndIndex) {\n    endPosition = hashOrEndIndex;\n  }\n  foundIndex += keyEncoded.length + 1;\n  return goog.string.urlDecode(uri.slice(foundIndex, -1 !== endPosition ? endPosition : 0));\n};\ngoog.uri.utils.getParamValues = function(uri, keyEncoded) {\n  for (var hashOrEndIndex = uri.search(goog.uri.utils.hashOrEndRe_), position = 0, foundIndex, result = []; 0 <= (foundIndex = goog.uri.utils.findParam_(uri, position, keyEncoded, hashOrEndIndex));) {\n    position = uri.indexOf(\"&\", foundIndex);\n    if (0 > position || position > hashOrEndIndex) {\n      position = hashOrEndIndex;\n    }\n    foundIndex += keyEncoded.length + 1;\n    result.push(goog.string.urlDecode(uri.slice(foundIndex, Math.max(position, 0))));\n  }\n  return result;\n};\ngoog.uri.utils.trailingQueryPunctuationRe_ = /[?&]($|#)/;\ngoog.uri.utils.removeParam = function(uri, keyEncoded) {\n  for (var hashOrEndIndex = uri.search(goog.uri.utils.hashOrEndRe_), position = 0, foundIndex, buffer = []; 0 <= (foundIndex = goog.uri.utils.findParam_(uri, position, keyEncoded, hashOrEndIndex));) {\n    buffer.push(uri.substring(position, foundIndex)), position = Math.min(uri.indexOf(\"&\", foundIndex) + 1 || hashOrEndIndex, hashOrEndIndex);\n  }\n  buffer.push(uri.slice(position));\n  return buffer.join(\"\").replace(goog.uri.utils.trailingQueryPunctuationRe_, \"$1\");\n};\ngoog.uri.utils.setParam = function(uri, keyEncoded, value) {\n  return goog.uri.utils.appendParam(goog.uri.utils.removeParam(uri, keyEncoded), keyEncoded, value);\n};\ngoog.uri.utils.setParamsFromMap = function(uri, params) {\n  var parts = goog.uri.utils.splitQueryData_(uri), queryData = parts[1], buffer = [];\n  queryData && queryData.split(\"&\").forEach(function(pair) {\n    var indexOfEquals = pair.indexOf(\"=\"), name = 0 <= indexOfEquals ? pair.slice(0, indexOfEquals) : pair;\n    params.hasOwnProperty(name) || buffer.push(pair);\n  });\n  parts[1] = goog.uri.utils.appendQueryData_(buffer.join(\"&\"), goog.uri.utils.buildQueryDataFromMap(params));\n  return goog.uri.utils.joinQueryData_(parts);\n};\ngoog.uri.utils.appendPath = function(baseUri, path) {\n  goog.uri.utils.assertNoFragmentsOrQueries_(baseUri);\n  goog.string.endsWith(baseUri, \"/\") && (baseUri = baseUri.slice(0, -1));\n  goog.string.startsWith(path, \"/\") && (path = path.slice(1));\n  return \"\" + baseUri + \"/\" + path;\n};\ngoog.uri.utils.setPath = function(uri, path) {\n  goog.string.startsWith(path, \"/\") || (path = \"/\" + path);\n  var parts = goog.uri.utils.split(uri);\n  return goog.uri.utils.buildFromEncodedParts(parts[goog.uri.utils.ComponentIndex.SCHEME], parts[goog.uri.utils.ComponentIndex.USER_INFO], parts[goog.uri.utils.ComponentIndex.DOMAIN], parts[goog.uri.utils.ComponentIndex.PORT], path, parts[goog.uri.utils.ComponentIndex.QUERY_DATA], parts[goog.uri.utils.ComponentIndex.FRAGMENT]);\n};\ngoog.uri.utils.StandardQueryParam = {RANDOM:\"zx\"};\ngoog.uri.utils.makeUnique = function(uri) {\n  return goog.uri.utils.setParam(uri, goog.uri.utils.StandardQueryParam.RANDOM, goog.string.getRandomString());\n};\ngoog.Uri = function(opt_uri, opt_ignoreCase) {\n  this.domain_ = this.userInfo_ = this.scheme_ = \"\";\n  this.port_ = null;\n  this.fragment_ = this.path_ = \"\";\n  this.ignoreCase_ = this.isReadOnly_ = !1;\n  var m;\n  opt_uri instanceof goog.Uri ? (this.ignoreCase_ = void 0 !== opt_ignoreCase ? opt_ignoreCase : opt_uri.getIgnoreCase(), this.setScheme(opt_uri.getScheme()), this.setUserInfo(opt_uri.getUserInfo()), this.setDomain(opt_uri.getDomain()), this.setPort(opt_uri.getPort()), this.setPath(opt_uri.getPath()), this.setQueryData(opt_uri.getQueryData().clone()), this.setFragment(opt_uri.getFragment())) : opt_uri && (m = goog.uri.utils.split(String(opt_uri))) ? (this.ignoreCase_ = !!opt_ignoreCase, this.setScheme(m[goog.uri.utils.ComponentIndex.SCHEME] || \n  \"\", !0), this.setUserInfo(m[goog.uri.utils.ComponentIndex.USER_INFO] || \"\", !0), this.setDomain(m[goog.uri.utils.ComponentIndex.DOMAIN] || \"\", !0), this.setPort(m[goog.uri.utils.ComponentIndex.PORT]), this.setPath(m[goog.uri.utils.ComponentIndex.PATH] || \"\", !0), this.setQueryData(m[goog.uri.utils.ComponentIndex.QUERY_DATA] || \"\", !0), this.setFragment(m[goog.uri.utils.ComponentIndex.FRAGMENT] || \"\", !0)) : (this.ignoreCase_ = !!opt_ignoreCase, this.queryData_ = new goog.Uri.QueryData(null, this.ignoreCase_));\n};\ngoog.Uri.RANDOM_PARAM = goog.uri.utils.StandardQueryParam.RANDOM;\ngoog.Uri.prototype.toString = function() {\n  var out = [], scheme = this.getScheme();\n  scheme && out.push(goog.Uri.encodeSpecialChars_(scheme, goog.Uri.reDisallowedInSchemeOrUserInfo_, !0), \":\");\n  var domain = this.getDomain();\n  if (domain || \"file\" == scheme) {\n    out.push(\"//\");\n    var userInfo = this.getUserInfo();\n    userInfo && out.push(goog.Uri.encodeSpecialChars_(userInfo, goog.Uri.reDisallowedInSchemeOrUserInfo_, !0), \"@\");\n    out.push(goog.Uri.removeDoubleEncoding_(goog.string.urlEncode(domain)));\n    var port = this.getPort();\n    null != port && out.push(\":\", String(port));\n  }\n  var path = this.getPath();\n  path && (this.hasDomain() && \"/\" != path.charAt(0) && out.push(\"/\"), out.push(goog.Uri.encodeSpecialChars_(path, \"/\" == path.charAt(0) ? goog.Uri.reDisallowedInAbsolutePath_ : goog.Uri.reDisallowedInRelativePath_, !0)));\n  var query = this.getEncodedQuery();\n  query && out.push(\"?\", query);\n  var fragment = this.getFragment();\n  fragment && out.push(\"#\", goog.Uri.encodeSpecialChars_(fragment, goog.Uri.reDisallowedInFragment_));\n  return out.join(\"\");\n};\ngoog.Uri.prototype.resolve = function(relativeUri) {\n  var absoluteUri = this.clone(), overridden = relativeUri.hasScheme();\n  overridden ? absoluteUri.setScheme(relativeUri.getScheme()) : overridden = relativeUri.hasUserInfo();\n  overridden ? absoluteUri.setUserInfo(relativeUri.getUserInfo()) : overridden = relativeUri.hasDomain();\n  overridden ? absoluteUri.setDomain(relativeUri.getDomain()) : overridden = relativeUri.hasPort();\n  var path = relativeUri.getPath();\n  if (overridden) {\n    absoluteUri.setPort(relativeUri.getPort());\n  } else {\n    if (overridden = relativeUri.hasPath()) {\n      if (\"/\" != path.charAt(0)) {\n        if (this.hasDomain() && !this.hasPath()) {\n          path = \"/\" + path;\n        } else {\n          var lastSlashIndex = absoluteUri.getPath().lastIndexOf(\"/\");\n          -1 != lastSlashIndex && (path = absoluteUri.getPath().slice(0, lastSlashIndex + 1) + path);\n        }\n      }\n      path = goog.Uri.removeDotSegments(path);\n    }\n  }\n  overridden ? absoluteUri.setPath(path) : overridden = relativeUri.hasQuery();\n  overridden ? absoluteUri.setQueryData(relativeUri.getQueryData().clone()) : overridden = relativeUri.hasFragment();\n  overridden && absoluteUri.setFragment(relativeUri.getFragment());\n  return absoluteUri;\n};\ngoog.Uri.prototype.clone = function() {\n  return new goog.Uri(this);\n};\ngoog.Uri.prototype.getScheme = function() {\n  return this.scheme_;\n};\ngoog.Uri.prototype.setScheme = function(newScheme, opt_decode) {\n  this.enforceReadOnly();\n  if (this.scheme_ = opt_decode ? goog.Uri.decodeOrEmpty_(newScheme, !0) : newScheme) {\n    this.scheme_ = this.scheme_.replace(/:$/, \"\");\n  }\n  return this;\n};\ngoog.Uri.prototype.hasScheme = function() {\n  return !!this.scheme_;\n};\ngoog.Uri.prototype.getUserInfo = function() {\n  return this.userInfo_;\n};\ngoog.Uri.prototype.setUserInfo = function(newUserInfo, opt_decode) {\n  this.enforceReadOnly();\n  this.userInfo_ = opt_decode ? goog.Uri.decodeOrEmpty_(newUserInfo) : newUserInfo;\n  return this;\n};\ngoog.Uri.prototype.hasUserInfo = function() {\n  return !!this.userInfo_;\n};\ngoog.Uri.prototype.getDomain = function() {\n  return this.domain_;\n};\ngoog.Uri.prototype.setDomain = function(newDomain, opt_decode) {\n  this.enforceReadOnly();\n  this.domain_ = opt_decode ? goog.Uri.decodeOrEmpty_(newDomain, !0) : newDomain;\n  return this;\n};\ngoog.Uri.prototype.hasDomain = function() {\n  return !!this.domain_;\n};\ngoog.Uri.prototype.getPort = function() {\n  return this.port_;\n};\ngoog.Uri.prototype.setPort = function(newPort) {\n  this.enforceReadOnly();\n  if (newPort) {\n    newPort = Number(newPort);\n    if (isNaN(newPort) || 0 > newPort) {\n      throw Error(\"Bad port number \" + newPort);\n    }\n    this.port_ = newPort;\n  } else {\n    this.port_ = null;\n  }\n  return this;\n};\ngoog.Uri.prototype.hasPort = function() {\n  return null != this.port_;\n};\ngoog.Uri.prototype.getPath = function() {\n  return this.path_;\n};\ngoog.Uri.prototype.setPath = function(newPath, opt_decode) {\n  this.enforceReadOnly();\n  this.path_ = opt_decode ? goog.Uri.decodeOrEmpty_(newPath, !0) : newPath;\n  return this;\n};\ngoog.Uri.prototype.hasPath = function() {\n  return !!this.path_;\n};\ngoog.Uri.prototype.hasQuery = function() {\n  return \"\" !== this.queryData_.toString();\n};\ngoog.Uri.prototype.setQueryData = function(queryData, opt_decode) {\n  this.enforceReadOnly();\n  queryData instanceof goog.Uri.QueryData ? (this.queryData_ = queryData, this.queryData_.setIgnoreCase(this.ignoreCase_)) : (opt_decode || (queryData = goog.Uri.encodeSpecialChars_(queryData, goog.Uri.reDisallowedInQuery_)), this.queryData_ = new goog.Uri.QueryData(queryData, this.ignoreCase_));\n  return this;\n};\ngoog.Uri.prototype.setQuery = function(newQuery, opt_decode) {\n  return this.setQueryData(newQuery, opt_decode);\n};\ngoog.Uri.prototype.getEncodedQuery = function() {\n  return this.queryData_.toString();\n};\ngoog.Uri.prototype.getDecodedQuery = function() {\n  return this.queryData_.toDecodedString();\n};\ngoog.Uri.prototype.getQueryData = function() {\n  return this.queryData_;\n};\ngoog.Uri.prototype.getQuery = function() {\n  return this.getEncodedQuery();\n};\ngoog.Uri.prototype.setParameterValue = function(key, value) {\n  this.enforceReadOnly();\n  this.queryData_.set(key, value);\n  return this;\n};\ngoog.Uri.prototype.setParameterValues = function(key, values) {\n  this.enforceReadOnly();\n  Array.isArray(values) || (values = [String(values)]);\n  this.queryData_.setValues(key, values);\n  return this;\n};\ngoog.Uri.prototype.getParameterValues = function(name) {\n  return this.queryData_.getValues(name);\n};\ngoog.Uri.prototype.getParameterValue = function(paramName) {\n  return this.queryData_.get(paramName);\n};\ngoog.Uri.prototype.getFragment = function() {\n  return this.fragment_;\n};\ngoog.Uri.prototype.setFragment = function(newFragment, opt_decode) {\n  this.enforceReadOnly();\n  this.fragment_ = opt_decode ? goog.Uri.decodeOrEmpty_(newFragment) : newFragment;\n  return this;\n};\ngoog.Uri.prototype.hasFragment = function() {\n  return !!this.fragment_;\n};\ngoog.Uri.prototype.hasSameDomainAs = function(uri2) {\n  return (!this.hasDomain() && !uri2.hasDomain() || this.getDomain() == uri2.getDomain()) && (!this.hasPort() && !uri2.hasPort() || this.getPort() == uri2.getPort());\n};\ngoog.Uri.prototype.makeUnique = function() {\n  this.enforceReadOnly();\n  this.setParameterValue(goog.Uri.RANDOM_PARAM, goog.string.getRandomString());\n  return this;\n};\ngoog.Uri.prototype.removeParameter = function(key) {\n  this.enforceReadOnly();\n  this.queryData_.remove(key);\n  return this;\n};\ngoog.Uri.prototype.setReadOnly = function(isReadOnly) {\n  this.isReadOnly_ = isReadOnly;\n  return this;\n};\ngoog.Uri.prototype.isReadOnly = function() {\n  return this.isReadOnly_;\n};\ngoog.Uri.prototype.enforceReadOnly = function() {\n  if (this.isReadOnly_) {\n    throw Error(\"Tried to modify a read-only Uri\");\n  }\n};\ngoog.Uri.prototype.setIgnoreCase = function(ignoreCase) {\n  this.ignoreCase_ = ignoreCase;\n  this.queryData_ && this.queryData_.setIgnoreCase(ignoreCase);\n  return this;\n};\ngoog.Uri.prototype.getIgnoreCase = function() {\n  return this.ignoreCase_;\n};\ngoog.Uri.parse = function(uri, opt_ignoreCase) {\n  return uri instanceof goog.Uri ? uri.clone() : new goog.Uri(uri, opt_ignoreCase);\n};\ngoog.Uri.create = function(opt_scheme, opt_userInfo, opt_domain, opt_port, opt_path, opt_query, opt_fragment, opt_ignoreCase) {\n  var uri = new goog.Uri(null, opt_ignoreCase);\n  opt_scheme && uri.setScheme(opt_scheme);\n  opt_userInfo && uri.setUserInfo(opt_userInfo);\n  opt_domain && uri.setDomain(opt_domain);\n  opt_port && uri.setPort(opt_port);\n  opt_path && uri.setPath(opt_path);\n  opt_query && uri.setQueryData(opt_query);\n  opt_fragment && uri.setFragment(opt_fragment);\n  return uri;\n};\ngoog.Uri.resolve = function(base, rel) {\n  base instanceof goog.Uri || (base = goog.Uri.parse(base));\n  rel instanceof goog.Uri || (rel = goog.Uri.parse(rel));\n  return base.resolve(rel);\n};\ngoog.Uri.removeDotSegments = function(path) {\n  if (\"..\" == path || \".\" == path) {\n    return \"\";\n  }\n  if (goog.string.contains(path, \"./\") || goog.string.contains(path, \"/.\")) {\n    for (var leadingSlash = goog.string.startsWith(path, \"/\"), segments = path.split(\"/\"), out = [], pos = 0; pos < segments.length;) {\n      var segment = segments[pos++];\n      \".\" == segment ? leadingSlash && pos == segments.length && out.push(\"\") : \"..\" == segment ? ((1 < out.length || 1 == out.length && \"\" != out[0]) && out.pop(), leadingSlash && pos == segments.length && out.push(\"\")) : (out.push(segment), leadingSlash = !0);\n    }\n    return out.join(\"/\");\n  }\n  return path;\n};\ngoog.Uri.decodeOrEmpty_ = function(val, opt_preserveReserved) {\n  return val ? opt_preserveReserved ? decodeURI(val.replace(/%25/g, \"%2525\")) : decodeURIComponent(val) : \"\";\n};\ngoog.Uri.encodeSpecialChars_ = function(unescapedPart, extra, opt_removeDoubleEncoding) {\n  if (\"string\" === typeof unescapedPart) {\n    var encoded = encodeURI(unescapedPart).replace(extra, goog.Uri.encodeChar_);\n    opt_removeDoubleEncoding && (encoded = goog.Uri.removeDoubleEncoding_(encoded));\n    return encoded;\n  }\n  return null;\n};\ngoog.Uri.encodeChar_ = function(ch) {\n  var n = ch.charCodeAt(0);\n  return \"%\" + (n >> 4 & 15).toString(16) + (n & 15).toString(16);\n};\ngoog.Uri.removeDoubleEncoding_ = function(doubleEncodedString) {\n  return doubleEncodedString.replace(/%25([0-9a-fA-F]{2})/g, \"%$1\");\n};\ngoog.Uri.reDisallowedInSchemeOrUserInfo_ = /[#\\/\\?@]/g;\ngoog.Uri.reDisallowedInRelativePath_ = /[#\\?:]/g;\ngoog.Uri.reDisallowedInAbsolutePath_ = /[#\\?]/g;\ngoog.Uri.reDisallowedInQuery_ = /[#\\?@]/g;\ngoog.Uri.reDisallowedInFragment_ = /#/g;\ngoog.Uri.haveSameDomain = function(uri1String, uri2String) {\n  var pieces1 = goog.uri.utils.split(uri1String), pieces2 = goog.uri.utils.split(uri2String);\n  return pieces1[goog.uri.utils.ComponentIndex.DOMAIN] == pieces2[goog.uri.utils.ComponentIndex.DOMAIN] && pieces1[goog.uri.utils.ComponentIndex.PORT] == pieces2[goog.uri.utils.ComponentIndex.PORT];\n};\ngoog.Uri.QueryData = function(opt_query, opt_ignoreCase) {\n  this.count_ = this.keyMap_ = null;\n  this.encodedQuery_ = opt_query || null;\n  this.ignoreCase_ = !!opt_ignoreCase;\n};\ngoog.Uri.QueryData.prototype.ensureKeyMapInitialized_ = function() {\n  if (!this.keyMap_ && (this.keyMap_ = new Map(), this.count_ = 0, this.encodedQuery_)) {\n    var self = this;\n    goog.uri.utils.parseQueryData(this.encodedQuery_, function(name, value) {\n      self.add(goog.string.urlDecode(name), value);\n    });\n  }\n};\ngoog.Uri.QueryData.createFromMap = function(map, opt_ignoreCase) {\n  var keys = goog.structs.getKeys(map);\n  if (\"undefined\" == typeof keys) {\n    throw Error(\"Keys are undefined\");\n  }\n  for (var queryData = new goog.Uri.QueryData(null, opt_ignoreCase), values = goog.structs.getValues(map), i = 0; i < keys.length; i++) {\n    var key = keys[i], value = values[i];\n    Array.isArray(value) ? queryData.setValues(key, value) : queryData.add(key, value);\n  }\n  return queryData;\n};\ngoog.Uri.QueryData.createFromKeysValues = function(keys, values, opt_ignoreCase) {\n  if (keys.length != values.length) {\n    throw Error(\"Mismatched lengths for keys/values\");\n  }\n  for (var queryData = new goog.Uri.QueryData(null, opt_ignoreCase), i = 0; i < keys.length; i++) {\n    queryData.add(keys[i], values[i]);\n  }\n  return queryData;\n};\ngoog.Uri.QueryData.prototype.getCount = function() {\n  this.ensureKeyMapInitialized_();\n  return this.count_;\n};\ngoog.Uri.QueryData.prototype.add = function(key, value) {\n  this.ensureKeyMapInitialized_();\n  this.invalidateCache_();\n  key = this.getKeyName_(key);\n  var values = this.keyMap_.get(key);\n  values || this.keyMap_.set(key, values = []);\n  values.push(value);\n  this.count_ = goog.asserts.assertNumber(this.count_) + 1;\n  return this;\n};\ngoog.Uri.QueryData.prototype.remove = function(key) {\n  this.ensureKeyMapInitialized_();\n  key = this.getKeyName_(key);\n  return this.keyMap_.has(key) ? (this.invalidateCache_(), this.count_ = goog.asserts.assertNumber(this.count_) - this.keyMap_.get(key).length, this.keyMap_.delete(key)) : !1;\n};\ngoog.Uri.QueryData.prototype.clear = function() {\n  this.invalidateCache_();\n  this.keyMap_ = null;\n  this.count_ = 0;\n};\ngoog.Uri.QueryData.prototype.isEmpty = function() {\n  this.ensureKeyMapInitialized_();\n  return 0 == this.count_;\n};\ngoog.Uri.QueryData.prototype.containsKey = function(key) {\n  this.ensureKeyMapInitialized_();\n  key = this.getKeyName_(key);\n  return this.keyMap_.has(key);\n};\ngoog.Uri.QueryData.prototype.containsValue = function(value) {\n  var vals = this.getValues();\n  return module$contents$goog$array_contains(vals, value);\n};\ngoog.Uri.QueryData.prototype.forEach = function(f, opt_scope) {\n  this.ensureKeyMapInitialized_();\n  this.keyMap_.forEach(function(values, key) {\n    values.forEach(function(value) {\n      f.call(opt_scope, value, key, this);\n    }, this);\n  }, this);\n};\ngoog.Uri.QueryData.prototype.getKeys = function() {\n  this.ensureKeyMapInitialized_();\n  for (var vals = Array.from(this.keyMap_.values()), keys = Array.from(this.keyMap_.keys()), rv = [], i = 0; i < keys.length; i++) {\n    for (var val = vals[i], j = 0; j < val.length; j++) {\n      rv.push(keys[i]);\n    }\n  }\n  return rv;\n};\ngoog.Uri.QueryData.prototype.getValues = function(opt_key) {\n  this.ensureKeyMapInitialized_();\n  var rv = [];\n  if (\"string\" === typeof opt_key) {\n    this.containsKey(opt_key) && (rv = rv.concat(this.keyMap_.get(this.getKeyName_(opt_key))));\n  } else {\n    for (var values = Array.from(this.keyMap_.values()), i = 0; i < values.length; i++) {\n      rv = rv.concat(values[i]);\n    }\n  }\n  return rv;\n};\ngoog.Uri.QueryData.prototype.set = function(key, value) {\n  this.ensureKeyMapInitialized_();\n  this.invalidateCache_();\n  key = this.getKeyName_(key);\n  this.containsKey(key) && (this.count_ = goog.asserts.assertNumber(this.count_) - this.keyMap_.get(key).length);\n  this.keyMap_.set(key, [value]);\n  this.count_ = goog.asserts.assertNumber(this.count_) + 1;\n  return this;\n};\ngoog.Uri.QueryData.prototype.get = function(key, opt_default) {\n  if (!key) {\n    return opt_default;\n  }\n  var values = this.getValues(key);\n  return 0 < values.length ? String(values[0]) : opt_default;\n};\ngoog.Uri.QueryData.prototype.setValues = function(key, values) {\n  this.remove(key);\n  0 < values.length && (this.invalidateCache_(), this.keyMap_.set(this.getKeyName_(key), module$contents$goog$array_toArray(values)), this.count_ = goog.asserts.assertNumber(this.count_) + values.length);\n};\ngoog.Uri.QueryData.prototype.toString = function() {\n  if (this.encodedQuery_) {\n    return this.encodedQuery_;\n  }\n  if (!this.keyMap_) {\n    return \"\";\n  }\n  for (var sb = [], keys = Array.from(this.keyMap_.keys()), i = 0; i < keys.length; i++) {\n    for (var key = keys[i], encodedKey = goog.string.urlEncode(key), val = this.getValues(key), j = 0; j < val.length; j++) {\n      var param = encodedKey;\n      \"\" !== val[j] && (param += \"=\" + goog.string.urlEncode(val[j]));\n      sb.push(param);\n    }\n  }\n  return this.encodedQuery_ = sb.join(\"&\");\n};\ngoog.Uri.QueryData.prototype.toDecodedString = function() {\n  return goog.Uri.decodeOrEmpty_(this.toString());\n};\ngoog.Uri.QueryData.prototype.invalidateCache_ = function() {\n  this.encodedQuery_ = null;\n};\ngoog.Uri.QueryData.prototype.filterKeys = function(keys) {\n  this.ensureKeyMapInitialized_();\n  this.keyMap_.forEach(function(value, key) {\n    module$contents$goog$array_contains(keys, key) || this.remove(key);\n  }, this);\n  return this;\n};\ngoog.Uri.QueryData.prototype.clone = function() {\n  var rv = new goog.Uri.QueryData();\n  rv.encodedQuery_ = this.encodedQuery_;\n  this.keyMap_ && (rv.keyMap_ = new Map(this.keyMap_), rv.count_ = this.count_);\n  return rv;\n};\ngoog.Uri.QueryData.prototype.getKeyName_ = function(arg) {\n  var keyName = String(arg);\n  this.ignoreCase_ && (keyName = keyName.toLowerCase());\n  return keyName;\n};\ngoog.Uri.QueryData.prototype.setIgnoreCase = function(ignoreCase) {\n  ignoreCase && !this.ignoreCase_ && (this.ensureKeyMapInitialized_(), this.invalidateCache_(), this.keyMap_.forEach(function(value, key) {\n    var lowerCase = key.toLowerCase();\n    key != lowerCase && (this.remove(key), this.setValues(lowerCase, value));\n  }, this));\n  this.ignoreCase_ = ignoreCase;\n};\ngoog.Uri.QueryData.prototype.extend = function(var_args) {\n  for (var i = 0; i < arguments.length; i++) {\n    goog.structs.forEach(arguments[i], function(value, key) {\n      this.add(key, value);\n    }, this);\n  }\n};\nvar module$exports$goog$net$rpc$HttpCors = {HTTP_HEADERS_PARAM_NAME:\"$httpHeaders\", HTTP_METHOD_PARAM_NAME:\"$httpMethod\", generateHttpHeadersOverwriteParam:function(headers) {\n  var result = \"\";\n  module$contents$goog$object_forEach(headers, function(value, key) {\n    result += key;\n    result += \":\";\n    result += value;\n    result += \"\\r\\n\";\n  });\n  return result;\n}, generateEncodedHttpHeadersOverwriteParam:function(headers) {\n  return goog.string.urlEncode(module$exports$goog$net$rpc$HttpCors.generateHttpHeadersOverwriteParam(headers));\n}, setHttpHeadersWithOverwriteParam:function(url, urlParam, extraHeaders) {\n  if (module$contents$goog$object_isEmpty(extraHeaders)) {\n    return url;\n  }\n  var httpHeaders = module$exports$goog$net$rpc$HttpCors.generateHttpHeadersOverwriteParam(extraHeaders);\n  if (\"string\" === typeof url) {\n    return goog.uri.utils.appendParam(url, goog.string.urlEncode(urlParam), httpHeaders);\n  }\n  url.setParameterValue(urlParam, httpHeaders);\n  return url;\n}};\nvar module$exports$eeapiclient$request_params = {}, module$contents$eeapiclient$request_params_module = module$contents$eeapiclient$request_params_module || {id:\"javascript/typescript/contrib/apiclient/core/request_params.closure.js\"};\nmodule$exports$eeapiclient$request_params.HttpMethodEnum = {GET:\"GET\", POST:\"POST\", PUT:\"PUT\", PATCH:\"PATCH\", DELETE:\"DELETE\",};\nmodule$exports$eeapiclient$request_params.AuthType = {AUTO:\"auto\", NONE:\"none\", OAUTH2:\"oauth2\", FIRST_PARTY:\"1p\",};\nmodule$exports$eeapiclient$request_params.StreamingType = {NONE:\"NONE\", CLIENT_SIDE:\"CLIENT_SIDE\", SERVER_SIDE:\"SERVER_SIDE\", BIDIRECTONAL:\"BIDIRECTONAL\",};\nfunction module$contents$eeapiclient$request_params_MakeRequestParams() {\n}\nmodule$exports$eeapiclient$request_params.MakeRequestParams = module$contents$eeapiclient$request_params_MakeRequestParams;\nfunction module$contents$eeapiclient$request_params_processParams(params) {\n  if (null != params.queryParams) {\n    var filteredQueryParams = {}, key;\n    for (key in params.queryParams) {\n      void 0 !== params.queryParams[key] && (filteredQueryParams[key] = params.queryParams[key]);\n    }\n    params.queryParams = filteredQueryParams;\n  }\n}\nmodule$exports$eeapiclient$request_params.processParams = module$contents$eeapiclient$request_params_processParams;\nfunction module$contents$eeapiclient$request_params_buildQueryParams(params, mapping, passthroughParams) {\n  for (var urlQueryParams = passthroughParams = void 0 === passthroughParams ? {} : passthroughParams, $jscomp$iter$21 = $jscomp.makeIterator(Object.entries(mapping)), $jscomp$key$ = $jscomp$iter$21.next(); !$jscomp$key$.done; $jscomp$key$ = $jscomp$iter$21.next()) {\n    var $jscomp$destructuring$var27 = $jscomp.makeIterator($jscomp$key$.value), jsName__tsickle_destructured_1 = $jscomp$destructuring$var27.next().value, urlQueryParamName__tsickle_destructured_2 = $jscomp$destructuring$var27.next().value, jsName = jsName__tsickle_destructured_1, urlQueryParamName = urlQueryParamName__tsickle_destructured_2;\n    jsName in params && (urlQueryParams[urlQueryParamName] = params[jsName]);\n  }\n  return urlQueryParams;\n}\nmodule$exports$eeapiclient$request_params.buildQueryParams = module$contents$eeapiclient$request_params_buildQueryParams;\nvar module$contents$eeapiclient$request_params_simpleCorsAllowedHeaders = [\"accept\", \"accept-language\", \"content-language\"], module$contents$eeapiclient$request_params_simpleCorsAllowedMethods = [\"GET\", \"HEAD\", \"POST\"];\nmodule$exports$eeapiclient$request_params.bypassCorsPreflight = function module$contents$eeapiclient$request_params_bypassCorsPreflight(params) {\n  var safeHeaders = {}, unsafeHeaders = {}, hasUnsafeHeaders = !1, hasSafeHeaders = !1, hasContentType = !1;\n  if (params.headers) {\n    hasContentType = null != params.headers[\"Content-Type\"];\n    for (var $jscomp$iter$22 = $jscomp.makeIterator(Object.entries(params.headers)), $jscomp$key$ = $jscomp$iter$22.next(); !$jscomp$key$.done; $jscomp$key$ = $jscomp$iter$22.next()) {\n      var $jscomp$destructuring$var29 = $jscomp.makeIterator($jscomp$key$.value), key__tsickle_destructured_3 = $jscomp$destructuring$var29.next().value, value__tsickle_destructured_4 = $jscomp$destructuring$var29.next().value, key = key__tsickle_destructured_3, value = value__tsickle_destructured_4;\n      module$contents$eeapiclient$request_params_simpleCorsAllowedHeaders.includes(key) ? (safeHeaders[key] = value, hasSafeHeaders = !0) : (unsafeHeaders[key] = value, hasUnsafeHeaders = !0);\n    }\n  }\n  if (null != params.body || \"PUT\" === params.httpMethod || \"POST\" === params.httpMethod) {\n    hasContentType || (unsafeHeaders[\"Content-Type\"] = \"application/json\", hasUnsafeHeaders = !0), safeHeaders[\"Content-Type\"] = \"text/plain\", hasSafeHeaders = !0;\n  }\n  if (hasUnsafeHeaders) {\n    var finalParam = (0,module$exports$goog$net$rpc$HttpCors.generateEncodedHttpHeadersOverwriteParam)(unsafeHeaders);\n    module$contents$eeapiclient$request_params_addQueryParameter(params, module$exports$goog$net$rpc$HttpCors.HTTP_HEADERS_PARAM_NAME, finalParam);\n  }\n  hasSafeHeaders && (params.headers = safeHeaders);\n  module$contents$eeapiclient$request_params_simpleCorsAllowedMethods.includes(params.httpMethod) || (module$contents$eeapiclient$request_params_addQueryParameter(params, module$exports$goog$net$rpc$HttpCors.HTTP_METHOD_PARAM_NAME, params.httpMethod), params.httpMethod = \"POST\");\n};\nfunction module$contents$eeapiclient$request_params_addQueryParameter(params, key, value) {\n  if (params.queryParams) {\n    params.queryParams[key] = value;\n  } else {\n    var $jscomp$compprop7 = {};\n    params.queryParams = ($jscomp$compprop7[key] = value, $jscomp$compprop7);\n  }\n}\n;var module$exports$eeapiclient$multipart_request = {}, module$contents$eeapiclient$multipart_request_module = module$contents$eeapiclient$multipart_request_module || {id:\"javascript/typescript/contrib/apiclient/core/multipart_request.closure.js\"};\nmodule$exports$eeapiclient$multipart_request.MultipartRequest = function(files, _metadata) {\n  this.files = files;\n  this._metadata = _metadata;\n  this._metadataPayload = \"\";\n  this._boundary = Date.now().toString();\n  _metadata && this.addMetadata(_metadata);\n  this._payloadPromise = this.build();\n};\nmodule$exports$eeapiclient$multipart_request.MultipartRequest.prototype.boundary = function() {\n  return this._boundary;\n};\nmodule$exports$eeapiclient$multipart_request.MultipartRequest.prototype.metadata = function() {\n  return this._metadata;\n};\nmodule$exports$eeapiclient$multipart_request.MultipartRequest.prototype.payloadPromise = function() {\n  return this._payloadPromise;\n};\nmodule$exports$eeapiclient$multipart_request.MultipartRequest.prototype.addMetadata = function(metadata) {\n  var json = metadata instanceof module$exports$eeapiclient$domain_object.Serializable ? module$contents$eeapiclient$domain_object_serialize(metadata) : metadata;\n  this._metadataPayload += \"Content-Type: application/json; charset=utf-8\\r\\n\\r\\n\" + JSON.stringify(json) + (\"\\r\\n--\" + this._boundary + \"\\r\\n\");\n};\nmodule$exports$eeapiclient$multipart_request.MultipartRequest.prototype.build = function() {\n  var $jscomp$this = this, payload = \"--\" + this._boundary + \"\\r\\n\";\n  payload += this._metadataPayload;\n  return Promise.all(this.files.map(function(f) {\n    return $jscomp$this.encodeFile(f);\n  })).then(function(filePayloads) {\n    for (var $jscomp$iter$23 = $jscomp.makeIterator(filePayloads), $jscomp$key$filePayload = $jscomp$iter$23.next(); !$jscomp$key$filePayload.done; $jscomp$key$filePayload = $jscomp$iter$23.next()) {\n      payload += $jscomp$key$filePayload.value;\n    }\n    return payload += \"\\r\\n--\" + $jscomp$this._boundary + \"--\";\n  });\n};\nmodule$exports$eeapiclient$multipart_request.MultipartRequest.prototype.encodeFile = function(file) {\n  return this.base64EncodeFile(file).then(function(base64Str) {\n    return \"Content-Type: \" + file.type + '\\r\\nContent-Disposition: form-data; name=\"file\"; filename=\"' + (encodeURIComponent(file.name) + '\"\\r\\nContent-Transfer-Encoding: base64\\r\\n\\r\\n') + base64Str;\n  });\n};\nmodule$exports$eeapiclient$multipart_request.MultipartRequest.prototype.base64EncodeFile = function(file) {\n  return new Promise(function(resolve, reject) {\n    var reader = new FileReader();\n    reader.onload = function(ev) {\n      try {\n        var file$52 = ev.target.result, toResolve = file$52.substr(file$52.indexOf(\",\") + 1);\n        resolve(toResolve);\n      } catch (e) {\n        reject(e);\n      }\n    };\n    reader.readAsDataURL(file);\n  });\n};\nvar module$exports$eeapiclient$api_client = {}, module$contents$eeapiclient$api_client_module = module$contents$eeapiclient$api_client_module || {id:\"javascript/typescript/contrib/apiclient/core/api_client.closure.js\"};\nmodule$exports$eeapiclient$api_client.ApiClient = function() {\n};\nmodule$exports$eeapiclient$api_client.ApiClient.prototype.$validateParameter = function(param, pattern) {\n  var paramStr = String(param);\n  if (!pattern.test(paramStr)) {\n    throw Error(\"parameter [\" + paramStr + \"] does not match pattern [\" + pattern.toString() + \"]\");\n  }\n};\nfunction module$contents$eeapiclient$api_client_toMakeRequestParams(requestParams) {\n  var body = requestParams.body instanceof module$exports$eeapiclient$domain_object.Serializable ? module$contents$eeapiclient$domain_object_serialize(requestParams.body) : requestParams.body;\n  return {path:requestParams.path, httpMethod:requestParams.httpMethod, methodId:requestParams.methodId, body:body, queryParams:requestParams.queryParams, streamingType:requestParams.streamingType && requestParams.streamingType};\n}\nmodule$exports$eeapiclient$api_client.toMakeRequestParams = module$contents$eeapiclient$api_client_toMakeRequestParams;\nfunction module$contents$eeapiclient$api_client_toMultipartMakeRequestParams(requestParams) {\n  if (!(requestParams.body instanceof module$exports$eeapiclient$multipart_request.MultipartRequest)) {\n    throw Error(requestParams.path + \" request must be a MultipartRequest\");\n  }\n  var multipartRequest = requestParams.body;\n  return multipartRequest.payloadPromise().then(function(body) {\n    var $jscomp$nullish$tmp0, queryParams = null != ($jscomp$nullish$tmp0 = requestParams.queryParams) ? $jscomp$nullish$tmp0 : {};\n    return {path:requestParams.path, httpMethod:requestParams.httpMethod, methodId:requestParams.methodId, queryParams:Object.assign({}, queryParams, {uploadType:\"multipart\"}), headers:{\"X-Goog-Upload-Protocol\":\"multipart\", \"Content-Type\":\"multipart/related; boundary=\" + multipartRequest.boundary()}, body:body,};\n  });\n}\nmodule$exports$eeapiclient$api_client.toMultipartMakeRequestParams = module$contents$eeapiclient$api_client_toMultipartMakeRequestParams;\nvar module$exports$eeapiclient$api_request_hook = {}, module$contents$eeapiclient$api_request_hook_module = module$contents$eeapiclient$api_request_hook_module || {id:\"javascript/typescript/contrib/apiclient/core/api_request_hook.closure.js\"};\nmodule$exports$eeapiclient$api_request_hook.ApiClientRequestHook = function module$contents$eeapiclient$api_request_hook_ApiClientRequestHook() {\n};\nmodule$exports$eeapiclient$api_request_hook.ApiClientHookFactory = function() {\n};\nmodule$exports$eeapiclient$api_request_hook.ApiClientHookFactoryCtor = function module$contents$eeapiclient$api_request_hook_ApiClientHookFactoryCtor() {\n};\nmodule$exports$eeapiclient$api_request_hook.DefaultApiClientHookFactory = function() {\n};\nmodule$exports$eeapiclient$api_request_hook.DefaultApiClientHookFactory.prototype.getRequestHook = function(requestParams) {\n  return {onBeforeSend:function() {\n  }, onSuccess:function(response) {\n  }, onError:function(error) {\n  },};\n};\nfunction module$contents$eeapiclient$api_request_hook_getRequestHook(factory, requestParams) {\n  if (null == factory) {\n    return null;\n  }\n  var hook = factory.getRequestHook(requestParams);\n  return null == hook ? null : hook;\n}\nmodule$exports$eeapiclient$api_request_hook.getRequestHook = module$contents$eeapiclient$api_request_hook_getRequestHook;\nvar module$exports$eeapiclient$promise_api_client = {}, module$contents$eeapiclient$promise_api_client_module = module$contents$eeapiclient$promise_api_client_module || {id:\"javascript/typescript/contrib/apiclient/request_service/promise_api_client.closure.js\"};\nmodule$exports$eeapiclient$promise_api_client.PromiseApiClient = function(requestService, hookFactory) {\n  this.requestService = requestService;\n  this.hookFactory = void 0 === hookFactory ? null : hookFactory;\n};\n$jscomp.inherits(module$exports$eeapiclient$promise_api_client.PromiseApiClient, module$exports$eeapiclient$api_client.ApiClient);\nmodule$exports$eeapiclient$promise_api_client.PromiseApiClient.prototype.$addHooksToRequest = function(requestParams, promise) {\n  return null == module$contents$eeapiclient$api_request_hook_getRequestHook(this.hookFactory, requestParams) ? promise : promise.then(function(response) {\n    return response;\n  }, function(error) {\n    throw error;\n  });\n};\nmodule$exports$eeapiclient$promise_api_client.PromiseApiClient.prototype.$request = function(requestParams) {\n  var responseCtor = requestParams.responseCtor || void 0;\n  return this.$addHooksToRequest(requestParams, this.requestService.send(module$contents$eeapiclient$api_client_toMakeRequestParams(requestParams), responseCtor));\n};\nmodule$exports$eeapiclient$promise_api_client.PromiseApiClient.prototype.$uploadRequest = function(requestParams) {\n  var $jscomp$this = this, responseCtor = requestParams.responseCtor || void 0;\n  return this.$addHooksToRequest(requestParams, module$contents$eeapiclient$api_client_toMultipartMakeRequestParams(requestParams).then(function(params) {\n    return $jscomp$this.requestService.send(params, responseCtor);\n  }));\n};\nvar module$exports$eeapiclient$ee_api_client = {}, module$contents$eeapiclient$ee_api_client_module = module$contents$eeapiclient$ee_api_client_module || {id:\"geo/gestalt/client/javascript/v1alpha/ee_api_client.closure.js\"};\nmodule$exports$eeapiclient$ee_api_client.IAuditLogConfigLogTypeEnum = function module$contents$eeapiclient$ee_api_client_IAuditLogConfigLogTypeEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.AuditLogConfigLogTypeEnum = {ADMIN_READ:\"ADMIN_READ\", DATA_READ:\"DATA_READ\", DATA_WRITE:\"DATA_WRITE\", LOG_TYPE_UNSPECIFIED:\"LOG_TYPE_UNSPECIFIED\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.AuditLogConfigLogTypeEnum.LOG_TYPE_UNSPECIFIED, module$exports$eeapiclient$ee_api_client.AuditLogConfigLogTypeEnum.ADMIN_READ, module$exports$eeapiclient$ee_api_client.AuditLogConfigLogTypeEnum.DATA_WRITE, module$exports$eeapiclient$ee_api_client.AuditLogConfigLogTypeEnum.DATA_READ];\n}};\nmodule$exports$eeapiclient$ee_api_client.IAuthorizationLoggingOptionsPermissionTypeEnum = function module$contents$eeapiclient$ee_api_client_IAuthorizationLoggingOptionsPermissionTypeEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.AuthorizationLoggingOptionsPermissionTypeEnum = {ADMIN_READ:\"ADMIN_READ\", ADMIN_WRITE:\"ADMIN_WRITE\", DATA_READ:\"DATA_READ\", DATA_WRITE:\"DATA_WRITE\", PERMISSION_TYPE_UNSPECIFIED:\"PERMISSION_TYPE_UNSPECIFIED\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.AuthorizationLoggingOptionsPermissionTypeEnum.PERMISSION_TYPE_UNSPECIFIED, module$exports$eeapiclient$ee_api_client.AuthorizationLoggingOptionsPermissionTypeEnum.ADMIN_READ, module$exports$eeapiclient$ee_api_client.AuthorizationLoggingOptionsPermissionTypeEnum.ADMIN_WRITE, module$exports$eeapiclient$ee_api_client.AuthorizationLoggingOptionsPermissionTypeEnum.DATA_READ, \n  module$exports$eeapiclient$ee_api_client.AuthorizationLoggingOptionsPermissionTypeEnum.DATA_WRITE];\n}};\nmodule$exports$eeapiclient$ee_api_client.ICapabilitiesCapabilitiesEnum = function module$contents$eeapiclient$ee_api_client_ICapabilitiesCapabilitiesEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.CapabilitiesCapabilitiesEnum = {AUTO_APPEAL_ELIGIBLE:\"AUTO_APPEAL_ELIGIBLE\", CAPABILITY_GROUP_UNSPECIFIED:\"CAPABILITY_GROUP_UNSPECIFIED\", CLOUD_ALPHA:\"CLOUD_ALPHA\", EXTERNAL:\"EXTERNAL\", INTERNAL:\"INTERNAL\", LIMITED:\"LIMITED\", PREAUTHORIZED:\"PREAUTHORIZED\", PREVIEW:\"PREVIEW\", PUBLIC:\"PUBLIC\", RESTRICTED:\"RESTRICTED\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.CapabilitiesCapabilitiesEnum.CAPABILITY_GROUP_UNSPECIFIED, module$exports$eeapiclient$ee_api_client.CapabilitiesCapabilitiesEnum.PUBLIC, module$exports$eeapiclient$ee_api_client.CapabilitiesCapabilitiesEnum.INTERNAL, module$exports$eeapiclient$ee_api_client.CapabilitiesCapabilitiesEnum.EXTERNAL, module$exports$eeapiclient$ee_api_client.CapabilitiesCapabilitiesEnum.LIMITED, \n  module$exports$eeapiclient$ee_api_client.CapabilitiesCapabilitiesEnum.PREAUTHORIZED, module$exports$eeapiclient$ee_api_client.CapabilitiesCapabilitiesEnum.PREVIEW, module$exports$eeapiclient$ee_api_client.CapabilitiesCapabilitiesEnum.CLOUD_ALPHA, module$exports$eeapiclient$ee_api_client.CapabilitiesCapabilitiesEnum.RESTRICTED, module$exports$eeapiclient$ee_api_client.CapabilitiesCapabilitiesEnum.AUTO_APPEAL_ELIGIBLE];\n}};\nmodule$exports$eeapiclient$ee_api_client.IChangeSubscriptionTypeRequestChangeTimeEnum = function module$contents$eeapiclient$ee_api_client_IChangeSubscriptionTypeRequestChangeTimeEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ChangeSubscriptionTypeRequestChangeTimeEnum = {CHANGE_TIME_TYPE_UNSPECIFIED:\"CHANGE_TIME_TYPE_UNSPECIFIED\", EARLIEST_POSSIBLE:\"EARLIEST_POSSIBLE\", END_OF_PERIOD:\"END_OF_PERIOD\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ChangeSubscriptionTypeRequestChangeTimeEnum.CHANGE_TIME_TYPE_UNSPECIFIED, module$exports$eeapiclient$ee_api_client.ChangeSubscriptionTypeRequestChangeTimeEnum.END_OF_PERIOD, module$exports$eeapiclient$ee_api_client.ChangeSubscriptionTypeRequestChangeTimeEnum.EARLIEST_POSSIBLE];\n}};\nmodule$exports$eeapiclient$ee_api_client.IChangeSubscriptionTypeRequestTypeEnum = function module$contents$eeapiclient$ee_api_client_IChangeSubscriptionTypeRequestTypeEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ChangeSubscriptionTypeRequestTypeEnum = {BASIC:\"BASIC\", NO_SUBSCRIPTION:\"NO_SUBSCRIPTION\", PREMIUM:\"PREMIUM\", PROFESSIONAL:\"PROFESSIONAL\", TYPE_UNSPECIFIED:\"TYPE_UNSPECIFIED\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ChangeSubscriptionTypeRequestTypeEnum.TYPE_UNSPECIFIED, module$exports$eeapiclient$ee_api_client.ChangeSubscriptionTypeRequestTypeEnum.NO_SUBSCRIPTION, module$exports$eeapiclient$ee_api_client.ChangeSubscriptionTypeRequestTypeEnum.BASIC, module$exports$eeapiclient$ee_api_client.ChangeSubscriptionTypeRequestTypeEnum.PROFESSIONAL, \n  module$exports$eeapiclient$ee_api_client.ChangeSubscriptionTypeRequestTypeEnum.PREMIUM];\n}};\nmodule$exports$eeapiclient$ee_api_client.ICloudAuditOptionsLogNameEnum = function module$contents$eeapiclient$ee_api_client_ICloudAuditOptionsLogNameEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.CloudAuditOptionsLogNameEnum = {ADMIN_ACTIVITY:\"ADMIN_ACTIVITY\", DATA_ACCESS:\"DATA_ACCESS\", UNSPECIFIED_LOG_NAME:\"UNSPECIFIED_LOG_NAME\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.CloudAuditOptionsLogNameEnum.UNSPECIFIED_LOG_NAME, module$exports$eeapiclient$ee_api_client.CloudAuditOptionsLogNameEnum.ADMIN_ACTIVITY, module$exports$eeapiclient$ee_api_client.CloudAuditOptionsLogNameEnum.DATA_ACCESS];\n}};\nmodule$exports$eeapiclient$ee_api_client.ICloudStorageDestinationPermissionsEnum = function module$contents$eeapiclient$ee_api_client_ICloudStorageDestinationPermissionsEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.CloudStorageDestinationPermissionsEnum = {DEFAULT_OBJECT_ACL:\"DEFAULT_OBJECT_ACL\", PUBLIC:\"PUBLIC\", TILE_PERMISSIONS_UNSPECIFIED:\"TILE_PERMISSIONS_UNSPECIFIED\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.CloudStorageDestinationPermissionsEnum.TILE_PERMISSIONS_UNSPECIFIED, module$exports$eeapiclient$ee_api_client.CloudStorageDestinationPermissionsEnum.PUBLIC, module$exports$eeapiclient$ee_api_client.CloudStorageDestinationPermissionsEnum.DEFAULT_OBJECT_ACL];\n}};\nmodule$exports$eeapiclient$ee_api_client.IComputePixelsRequestFileFormatEnum = function module$contents$eeapiclient$ee_api_client_IComputePixelsRequestFileFormatEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ComputePixelsRequestFileFormatEnum = {AUTO_JPEG_PNG:\"AUTO_JPEG_PNG\", GEO_TIFF:\"GEO_TIFF\", IMAGE_FILE_FORMAT_UNSPECIFIED:\"IMAGE_FILE_FORMAT_UNSPECIFIED\", JPEG:\"JPEG\", MULTI_BAND_IMAGE_TILE:\"MULTI_BAND_IMAGE_TILE\", NPY:\"NPY\", PNG:\"PNG\", TF_RECORD_IMAGE:\"TF_RECORD_IMAGE\", ZIPPED_GEO_TIFF:\"ZIPPED_GEO_TIFF\", ZIPPED_GEO_TIFF_PER_BAND:\"ZIPPED_GEO_TIFF_PER_BAND\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ComputePixelsRequestFileFormatEnum.IMAGE_FILE_FORMAT_UNSPECIFIED, module$exports$eeapiclient$ee_api_client.ComputePixelsRequestFileFormatEnum.JPEG, module$exports$eeapiclient$ee_api_client.ComputePixelsRequestFileFormatEnum.PNG, module$exports$eeapiclient$ee_api_client.ComputePixelsRequestFileFormatEnum.AUTO_JPEG_PNG, \n  module$exports$eeapiclient$ee_api_client.ComputePixelsRequestFileFormatEnum.NPY, module$exports$eeapiclient$ee_api_client.ComputePixelsRequestFileFormatEnum.GEO_TIFF, module$exports$eeapiclient$ee_api_client.ComputePixelsRequestFileFormatEnum.TF_RECORD_IMAGE, module$exports$eeapiclient$ee_api_client.ComputePixelsRequestFileFormatEnum.MULTI_BAND_IMAGE_TILE, module$exports$eeapiclient$ee_api_client.ComputePixelsRequestFileFormatEnum.ZIPPED_GEO_TIFF, \n  module$exports$eeapiclient$ee_api_client.ComputePixelsRequestFileFormatEnum.ZIPPED_GEO_TIFF_PER_BAND];\n}};\nmodule$exports$eeapiclient$ee_api_client.IConditionIamEnum = function module$contents$eeapiclient$ee_api_client_IConditionIamEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ConditionIamEnum = {APPROVER:\"APPROVER\", ATTRIBUTION:\"ATTRIBUTION\", AUTHORITY:\"AUTHORITY\", CREDENTIALS_TYPE:\"CREDENTIALS_TYPE\", CREDS_ASSERTION:\"CREDS_ASSERTION\", JUSTIFICATION_TYPE:\"JUSTIFICATION_TYPE\", NO_ATTR:\"NO_ATTR\", SECURITY_REALM:\"SECURITY_REALM\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ConditionIamEnum.NO_ATTR, module$exports$eeapiclient$ee_api_client.ConditionIamEnum.AUTHORITY, module$exports$eeapiclient$ee_api_client.ConditionIamEnum.ATTRIBUTION, module$exports$eeapiclient$ee_api_client.ConditionIamEnum.SECURITY_REALM, module$exports$eeapiclient$ee_api_client.ConditionIamEnum.APPROVER, \n  module$exports$eeapiclient$ee_api_client.ConditionIamEnum.JUSTIFICATION_TYPE, module$exports$eeapiclient$ee_api_client.ConditionIamEnum.CREDENTIALS_TYPE, module$exports$eeapiclient$ee_api_client.ConditionIamEnum.CREDS_ASSERTION];\n}};\nmodule$exports$eeapiclient$ee_api_client.IConditionOpEnum = function module$contents$eeapiclient$ee_api_client_IConditionOpEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ConditionOpEnum = {DISCHARGED:\"DISCHARGED\", EQUALS:\"EQUALS\", IN:\"IN\", NOT_EQUALS:\"NOT_EQUALS\", NOT_IN:\"NOT_IN\", NO_OP:\"NO_OP\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ConditionOpEnum.NO_OP, module$exports$eeapiclient$ee_api_client.ConditionOpEnum.EQUALS, module$exports$eeapiclient$ee_api_client.ConditionOpEnum.NOT_EQUALS, module$exports$eeapiclient$ee_api_client.ConditionOpEnum.IN, module$exports$eeapiclient$ee_api_client.ConditionOpEnum.NOT_IN, \n  module$exports$eeapiclient$ee_api_client.ConditionOpEnum.DISCHARGED];\n}};\nmodule$exports$eeapiclient$ee_api_client.IConditionSysEnum = function module$contents$eeapiclient$ee_api_client_IConditionSysEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ConditionSysEnum = {IP:\"IP\", NAME:\"NAME\", NO_ATTR:\"NO_ATTR\", REGION:\"REGION\", SERVICE:\"SERVICE\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ConditionSysEnum.NO_ATTR, module$exports$eeapiclient$ee_api_client.ConditionSysEnum.REGION, module$exports$eeapiclient$ee_api_client.ConditionSysEnum.SERVICE, module$exports$eeapiclient$ee_api_client.ConditionSysEnum.NAME, module$exports$eeapiclient$ee_api_client.ConditionSysEnum.IP];\n}};\nmodule$exports$eeapiclient$ee_api_client.IDataAccessOptionsLogModeEnum = function module$contents$eeapiclient$ee_api_client_IDataAccessOptionsLogModeEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.DataAccessOptionsLogModeEnum = {LOG_FAIL_CLOSED:\"LOG_FAIL_CLOSED\", LOG_MODE_UNSPECIFIED:\"LOG_MODE_UNSPECIFIED\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.DataAccessOptionsLogModeEnum.LOG_MODE_UNSPECIFIED, module$exports$eeapiclient$ee_api_client.DataAccessOptionsLogModeEnum.LOG_FAIL_CLOSED];\n}};\nmodule$exports$eeapiclient$ee_api_client.IEarthEngineAssetTypeEnum = function module$contents$eeapiclient$ee_api_client_IEarthEngineAssetTypeEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.EarthEngineAssetTypeEnum = {CLASSIFIER:\"CLASSIFIER\", FEATURE_VIEW:\"FEATURE_VIEW\", FOLDER:\"FOLDER\", IMAGE:\"IMAGE\", IMAGE_COLLECTION:\"IMAGE_COLLECTION\", TABLE:\"TABLE\", TYPE_UNSPECIFIED:\"TYPE_UNSPECIFIED\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.EarthEngineAssetTypeEnum.TYPE_UNSPECIFIED, module$exports$eeapiclient$ee_api_client.EarthEngineAssetTypeEnum.IMAGE, module$exports$eeapiclient$ee_api_client.EarthEngineAssetTypeEnum.IMAGE_COLLECTION, module$exports$eeapiclient$ee_api_client.EarthEngineAssetTypeEnum.TABLE, module$exports$eeapiclient$ee_api_client.EarthEngineAssetTypeEnum.FOLDER, \n  module$exports$eeapiclient$ee_api_client.EarthEngineAssetTypeEnum.CLASSIFIER, module$exports$eeapiclient$ee_api_client.EarthEngineAssetTypeEnum.FEATURE_VIEW];\n}};\nmodule$exports$eeapiclient$ee_api_client.IEarthEngineMapFileFormatEnum = function module$contents$eeapiclient$ee_api_client_IEarthEngineMapFileFormatEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.EarthEngineMapFileFormatEnum = {AUTO_JPEG_PNG:\"AUTO_JPEG_PNG\", GEO_TIFF:\"GEO_TIFF\", IMAGE_FILE_FORMAT_UNSPECIFIED:\"IMAGE_FILE_FORMAT_UNSPECIFIED\", JPEG:\"JPEG\", MULTI_BAND_IMAGE_TILE:\"MULTI_BAND_IMAGE_TILE\", NPY:\"NPY\", PNG:\"PNG\", TF_RECORD_IMAGE:\"TF_RECORD_IMAGE\", ZIPPED_GEO_TIFF:\"ZIPPED_GEO_TIFF\", ZIPPED_GEO_TIFF_PER_BAND:\"ZIPPED_GEO_TIFF_PER_BAND\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.EarthEngineMapFileFormatEnum.IMAGE_FILE_FORMAT_UNSPECIFIED, module$exports$eeapiclient$ee_api_client.EarthEngineMapFileFormatEnum.JPEG, module$exports$eeapiclient$ee_api_client.EarthEngineMapFileFormatEnum.PNG, module$exports$eeapiclient$ee_api_client.EarthEngineMapFileFormatEnum.AUTO_JPEG_PNG, module$exports$eeapiclient$ee_api_client.EarthEngineMapFileFormatEnum.NPY, \n  module$exports$eeapiclient$ee_api_client.EarthEngineMapFileFormatEnum.GEO_TIFF, module$exports$eeapiclient$ee_api_client.EarthEngineMapFileFormatEnum.TF_RECORD_IMAGE, module$exports$eeapiclient$ee_api_client.EarthEngineMapFileFormatEnum.MULTI_BAND_IMAGE_TILE, module$exports$eeapiclient$ee_api_client.EarthEngineMapFileFormatEnum.ZIPPED_GEO_TIFF, module$exports$eeapiclient$ee_api_client.EarthEngineMapFileFormatEnum.ZIPPED_GEO_TIFF_PER_BAND];\n}};\nmodule$exports$eeapiclient$ee_api_client.IExportVideoMapRequestVersionEnum = function module$contents$eeapiclient$ee_api_client_IExportVideoMapRequestVersionEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ExportVideoMapRequestVersionEnum = {V1:\"V1\", V2:\"V2\", VERSION_UNSPECIFIED:\"VERSION_UNSPECIFIED\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ExportVideoMapRequestVersionEnum.VERSION_UNSPECIFIED, module$exports$eeapiclient$ee_api_client.ExportVideoMapRequestVersionEnum.V1, module$exports$eeapiclient$ee_api_client.ExportVideoMapRequestVersionEnum.V2];\n}};\nmodule$exports$eeapiclient$ee_api_client.IFeatureViewAttributeTypeEnum = function module$contents$eeapiclient$ee_api_client_IFeatureViewAttributeTypeEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.FeatureViewAttributeTypeEnum = {BOOLEAN:\"BOOLEAN\", DATE_TIME:\"DATE_TIME\", DOUBLE:\"DOUBLE\", INTEGER:\"INTEGER\", STRING:\"STRING\", TYPE_UNSPECIFIED:\"TYPE_UNSPECIFIED\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.FeatureViewAttributeTypeEnum.TYPE_UNSPECIFIED, module$exports$eeapiclient$ee_api_client.FeatureViewAttributeTypeEnum.INTEGER, module$exports$eeapiclient$ee_api_client.FeatureViewAttributeTypeEnum.BOOLEAN, module$exports$eeapiclient$ee_api_client.FeatureViewAttributeTypeEnum.DOUBLE, module$exports$eeapiclient$ee_api_client.FeatureViewAttributeTypeEnum.STRING, \n  module$exports$eeapiclient$ee_api_client.FeatureViewAttributeTypeEnum.DATE_TIME];\n}};\nmodule$exports$eeapiclient$ee_api_client.IFeatureViewDestinationPermissionsEnum = function module$contents$eeapiclient$ee_api_client_IFeatureViewDestinationPermissionsEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.FeatureViewDestinationPermissionsEnum = {FEATURE_VIEW_ASSET_PERMISSIONS_UNSPECIFIED:\"FEATURE_VIEW_ASSET_PERMISSIONS_UNSPECIFIED\", PUBLIC:\"PUBLIC\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.FeatureViewDestinationPermissionsEnum.FEATURE_VIEW_ASSET_PERMISSIONS_UNSPECIFIED, module$exports$eeapiclient$ee_api_client.FeatureViewDestinationPermissionsEnum.PUBLIC];\n}};\nmodule$exports$eeapiclient$ee_api_client.IFilmstripThumbnailFileFormatEnum = function module$contents$eeapiclient$ee_api_client_IFilmstripThumbnailFileFormatEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.FilmstripThumbnailFileFormatEnum = {AUTO_JPEG_PNG:\"AUTO_JPEG_PNG\", GEO_TIFF:\"GEO_TIFF\", IMAGE_FILE_FORMAT_UNSPECIFIED:\"IMAGE_FILE_FORMAT_UNSPECIFIED\", JPEG:\"JPEG\", MULTI_BAND_IMAGE_TILE:\"MULTI_BAND_IMAGE_TILE\", NPY:\"NPY\", PNG:\"PNG\", TF_RECORD_IMAGE:\"TF_RECORD_IMAGE\", ZIPPED_GEO_TIFF:\"ZIPPED_GEO_TIFF\", ZIPPED_GEO_TIFF_PER_BAND:\"ZIPPED_GEO_TIFF_PER_BAND\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.FilmstripThumbnailFileFormatEnum.IMAGE_FILE_FORMAT_UNSPECIFIED, module$exports$eeapiclient$ee_api_client.FilmstripThumbnailFileFormatEnum.JPEG, module$exports$eeapiclient$ee_api_client.FilmstripThumbnailFileFormatEnum.PNG, module$exports$eeapiclient$ee_api_client.FilmstripThumbnailFileFormatEnum.AUTO_JPEG_PNG, module$exports$eeapiclient$ee_api_client.FilmstripThumbnailFileFormatEnum.NPY, \n  module$exports$eeapiclient$ee_api_client.FilmstripThumbnailFileFormatEnum.GEO_TIFF, module$exports$eeapiclient$ee_api_client.FilmstripThumbnailFileFormatEnum.TF_RECORD_IMAGE, module$exports$eeapiclient$ee_api_client.FilmstripThumbnailFileFormatEnum.MULTI_BAND_IMAGE_TILE, module$exports$eeapiclient$ee_api_client.FilmstripThumbnailFileFormatEnum.ZIPPED_GEO_TIFF, \n  module$exports$eeapiclient$ee_api_client.FilmstripThumbnailFileFormatEnum.ZIPPED_GEO_TIFF_PER_BAND];\n}};\nmodule$exports$eeapiclient$ee_api_client.IFilmstripThumbnailOrientationEnum = function module$contents$eeapiclient$ee_api_client_IFilmstripThumbnailOrientationEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.FilmstripThumbnailOrientationEnum = {HORIZONTAL:\"HORIZONTAL\", ORIENTATION_UNSPECIFIED:\"ORIENTATION_UNSPECIFIED\", VERTICAL:\"VERTICAL\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.FilmstripThumbnailOrientationEnum.ORIENTATION_UNSPECIFIED, module$exports$eeapiclient$ee_api_client.FilmstripThumbnailOrientationEnum.HORIZONTAL, module$exports$eeapiclient$ee_api_client.FilmstripThumbnailOrientationEnum.VERTICAL];\n}};\nmodule$exports$eeapiclient$ee_api_client.IGcsDestinationPermissionsEnum = function module$contents$eeapiclient$ee_api_client_IGcsDestinationPermissionsEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.GcsDestinationPermissionsEnum = {DEFAULT_OBJECT_ACL:\"DEFAULT_OBJECT_ACL\", PUBLIC:\"PUBLIC\", TILE_PERMISSIONS_UNSPECIFIED:\"TILE_PERMISSIONS_UNSPECIFIED\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.GcsDestinationPermissionsEnum.TILE_PERMISSIONS_UNSPECIFIED, module$exports$eeapiclient$ee_api_client.GcsDestinationPermissionsEnum.PUBLIC, module$exports$eeapiclient$ee_api_client.GcsDestinationPermissionsEnum.DEFAULT_OBJECT_ACL];\n}};\nmodule$exports$eeapiclient$ee_api_client.IGetPixelsRequestFileFormatEnum = function module$contents$eeapiclient$ee_api_client_IGetPixelsRequestFileFormatEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.GetPixelsRequestFileFormatEnum = {AUTO_JPEG_PNG:\"AUTO_JPEG_PNG\", GEO_TIFF:\"GEO_TIFF\", IMAGE_FILE_FORMAT_UNSPECIFIED:\"IMAGE_FILE_FORMAT_UNSPECIFIED\", JPEG:\"JPEG\", MULTI_BAND_IMAGE_TILE:\"MULTI_BAND_IMAGE_TILE\", NPY:\"NPY\", PNG:\"PNG\", TF_RECORD_IMAGE:\"TF_RECORD_IMAGE\", ZIPPED_GEO_TIFF:\"ZIPPED_GEO_TIFF\", ZIPPED_GEO_TIFF_PER_BAND:\"ZIPPED_GEO_TIFF_PER_BAND\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.GetPixelsRequestFileFormatEnum.IMAGE_FILE_FORMAT_UNSPECIFIED, module$exports$eeapiclient$ee_api_client.GetPixelsRequestFileFormatEnum.JPEG, module$exports$eeapiclient$ee_api_client.GetPixelsRequestFileFormatEnum.PNG, module$exports$eeapiclient$ee_api_client.GetPixelsRequestFileFormatEnum.AUTO_JPEG_PNG, module$exports$eeapiclient$ee_api_client.GetPixelsRequestFileFormatEnum.NPY, \n  module$exports$eeapiclient$ee_api_client.GetPixelsRequestFileFormatEnum.GEO_TIFF, module$exports$eeapiclient$ee_api_client.GetPixelsRequestFileFormatEnum.TF_RECORD_IMAGE, module$exports$eeapiclient$ee_api_client.GetPixelsRequestFileFormatEnum.MULTI_BAND_IMAGE_TILE, module$exports$eeapiclient$ee_api_client.GetPixelsRequestFileFormatEnum.ZIPPED_GEO_TIFF, module$exports$eeapiclient$ee_api_client.GetPixelsRequestFileFormatEnum.ZIPPED_GEO_TIFF_PER_BAND];\n}};\nmodule$exports$eeapiclient$ee_api_client.IImageAssetExportOptionsPyramidingPolicyEnum = function module$contents$eeapiclient$ee_api_client_IImageAssetExportOptionsPyramidingPolicyEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ImageAssetExportOptionsPyramidingPolicyEnum = {MAX:\"MAX\", MEAN:\"MEAN\", MEDIAN:\"MEDIAN\", MIN:\"MIN\", MODE:\"MODE\", PYRAMIDING_POLICY_UNSPECIFIED:\"PYRAMIDING_POLICY_UNSPECIFIED\", SAMPLE:\"SAMPLE\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ImageAssetExportOptionsPyramidingPolicyEnum.PYRAMIDING_POLICY_UNSPECIFIED, module$exports$eeapiclient$ee_api_client.ImageAssetExportOptionsPyramidingPolicyEnum.MEAN, module$exports$eeapiclient$ee_api_client.ImageAssetExportOptionsPyramidingPolicyEnum.SAMPLE, module$exports$eeapiclient$ee_api_client.ImageAssetExportOptionsPyramidingPolicyEnum.MIN, \n  module$exports$eeapiclient$ee_api_client.ImageAssetExportOptionsPyramidingPolicyEnum.MAX, module$exports$eeapiclient$ee_api_client.ImageAssetExportOptionsPyramidingPolicyEnum.MODE, module$exports$eeapiclient$ee_api_client.ImageAssetExportOptionsPyramidingPolicyEnum.MEDIAN];\n}};\nmodule$exports$eeapiclient$ee_api_client.IImageAssetExportOptionsPyramidingPolicyOverridesEnum = function module$contents$eeapiclient$ee_api_client_IImageAssetExportOptionsPyramidingPolicyOverridesEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ImageAssetExportOptionsPyramidingPolicyOverridesEnum = {MAX:\"MAX\", MEAN:\"MEAN\", MEDIAN:\"MEDIAN\", MIN:\"MIN\", MODE:\"MODE\", PYRAMIDING_POLICY_UNSPECIFIED:\"PYRAMIDING_POLICY_UNSPECIFIED\", SAMPLE:\"SAMPLE\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ImageAssetExportOptionsPyramidingPolicyOverridesEnum.PYRAMIDING_POLICY_UNSPECIFIED, module$exports$eeapiclient$ee_api_client.ImageAssetExportOptionsPyramidingPolicyOverridesEnum.MEAN, module$exports$eeapiclient$ee_api_client.ImageAssetExportOptionsPyramidingPolicyOverridesEnum.SAMPLE, module$exports$eeapiclient$ee_api_client.ImageAssetExportOptionsPyramidingPolicyOverridesEnum.MIN, \n  module$exports$eeapiclient$ee_api_client.ImageAssetExportOptionsPyramidingPolicyOverridesEnum.MAX, module$exports$eeapiclient$ee_api_client.ImageAssetExportOptionsPyramidingPolicyOverridesEnum.MODE, module$exports$eeapiclient$ee_api_client.ImageAssetExportOptionsPyramidingPolicyOverridesEnum.MEDIAN];\n}};\nmodule$exports$eeapiclient$ee_api_client.IImageBandPyramidingPolicyEnum = function module$contents$eeapiclient$ee_api_client_IImageBandPyramidingPolicyEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ImageBandPyramidingPolicyEnum = {MAX:\"MAX\", MEAN:\"MEAN\", MEDIAN:\"MEDIAN\", MIN:\"MIN\", MODE:\"MODE\", PYRAMIDING_POLICY_UNSPECIFIED:\"PYRAMIDING_POLICY_UNSPECIFIED\", SAMPLE:\"SAMPLE\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ImageBandPyramidingPolicyEnum.PYRAMIDING_POLICY_UNSPECIFIED, module$exports$eeapiclient$ee_api_client.ImageBandPyramidingPolicyEnum.MEAN, module$exports$eeapiclient$ee_api_client.ImageBandPyramidingPolicyEnum.SAMPLE, module$exports$eeapiclient$ee_api_client.ImageBandPyramidingPolicyEnum.MIN, module$exports$eeapiclient$ee_api_client.ImageBandPyramidingPolicyEnum.MAX, \n  module$exports$eeapiclient$ee_api_client.ImageBandPyramidingPolicyEnum.MODE, module$exports$eeapiclient$ee_api_client.ImageBandPyramidingPolicyEnum.MEDIAN];\n}};\nmodule$exports$eeapiclient$ee_api_client.IImageFileExportOptionsFileFormatEnum = function module$contents$eeapiclient$ee_api_client_IImageFileExportOptionsFileFormatEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ImageFileExportOptionsFileFormatEnum = {AUTO_JPEG_PNG:\"AUTO_JPEG_PNG\", GEO_TIFF:\"GEO_TIFF\", IMAGE_FILE_FORMAT_UNSPECIFIED:\"IMAGE_FILE_FORMAT_UNSPECIFIED\", JPEG:\"JPEG\", MULTI_BAND_IMAGE_TILE:\"MULTI_BAND_IMAGE_TILE\", NPY:\"NPY\", PNG:\"PNG\", TF_RECORD_IMAGE:\"TF_RECORD_IMAGE\", ZIPPED_GEO_TIFF:\"ZIPPED_GEO_TIFF\", ZIPPED_GEO_TIFF_PER_BAND:\"ZIPPED_GEO_TIFF_PER_BAND\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ImageFileExportOptionsFileFormatEnum.IMAGE_FILE_FORMAT_UNSPECIFIED, module$exports$eeapiclient$ee_api_client.ImageFileExportOptionsFileFormatEnum.JPEG, module$exports$eeapiclient$ee_api_client.ImageFileExportOptionsFileFormatEnum.PNG, module$exports$eeapiclient$ee_api_client.ImageFileExportOptionsFileFormatEnum.AUTO_JPEG_PNG, \n  module$exports$eeapiclient$ee_api_client.ImageFileExportOptionsFileFormatEnum.NPY, module$exports$eeapiclient$ee_api_client.ImageFileExportOptionsFileFormatEnum.GEO_TIFF, module$exports$eeapiclient$ee_api_client.ImageFileExportOptionsFileFormatEnum.TF_RECORD_IMAGE, module$exports$eeapiclient$ee_api_client.ImageFileExportOptionsFileFormatEnum.MULTI_BAND_IMAGE_TILE, \n  module$exports$eeapiclient$ee_api_client.ImageFileExportOptionsFileFormatEnum.ZIPPED_GEO_TIFF, module$exports$eeapiclient$ee_api_client.ImageFileExportOptionsFileFormatEnum.ZIPPED_GEO_TIFF_PER_BAND];\n}};\nmodule$exports$eeapiclient$ee_api_client.IImageManifestPyramidingPolicyEnum = function module$contents$eeapiclient$ee_api_client_IImageManifestPyramidingPolicyEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ImageManifestPyramidingPolicyEnum = {MAX:\"MAX\", MEAN:\"MEAN\", MEDIAN:\"MEDIAN\", MIN:\"MIN\", MODE:\"MODE\", PYRAMIDING_POLICY_UNSPECIFIED:\"PYRAMIDING_POLICY_UNSPECIFIED\", SAMPLE:\"SAMPLE\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ImageManifestPyramidingPolicyEnum.PYRAMIDING_POLICY_UNSPECIFIED, module$exports$eeapiclient$ee_api_client.ImageManifestPyramidingPolicyEnum.MEAN, module$exports$eeapiclient$ee_api_client.ImageManifestPyramidingPolicyEnum.SAMPLE, module$exports$eeapiclient$ee_api_client.ImageManifestPyramidingPolicyEnum.MIN, module$exports$eeapiclient$ee_api_client.ImageManifestPyramidingPolicyEnum.MAX, \n  module$exports$eeapiclient$ee_api_client.ImageManifestPyramidingPolicyEnum.MODE, module$exports$eeapiclient$ee_api_client.ImageManifestPyramidingPolicyEnum.MEDIAN];\n}};\nmodule$exports$eeapiclient$ee_api_client.IOperationMetadataStateEnum = function module$contents$eeapiclient$ee_api_client_IOperationMetadataStateEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.OperationMetadataStateEnum = {CANCELLED:\"CANCELLED\", CANCELLING:\"CANCELLING\", FAILED:\"FAILED\", PENDING:\"PENDING\", RUNNING:\"RUNNING\", STATE_UNSPECIFIED:\"STATE_UNSPECIFIED\", SUCCEEDED:\"SUCCEEDED\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.OperationMetadataStateEnum.STATE_UNSPECIFIED, module$exports$eeapiclient$ee_api_client.OperationMetadataStateEnum.PENDING, module$exports$eeapiclient$ee_api_client.OperationMetadataStateEnum.RUNNING, module$exports$eeapiclient$ee_api_client.OperationMetadataStateEnum.CANCELLING, module$exports$eeapiclient$ee_api_client.OperationMetadataStateEnum.SUCCEEDED, \n  module$exports$eeapiclient$ee_api_client.OperationMetadataStateEnum.CANCELLED, module$exports$eeapiclient$ee_api_client.OperationMetadataStateEnum.FAILED];\n}};\nmodule$exports$eeapiclient$ee_api_client.IOperationNotificationSeverityEnum = function module$contents$eeapiclient$ee_api_client_IOperationNotificationSeverityEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.OperationNotificationSeverityEnum = {SEVERE:\"SEVERE\", SEVERITY_UNSPECIFIED:\"SEVERITY_UNSPECIFIED\", WARNING:\"WARNING\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.OperationNotificationSeverityEnum.SEVERITY_UNSPECIFIED, module$exports$eeapiclient$ee_api_client.OperationNotificationSeverityEnum.WARNING, module$exports$eeapiclient$ee_api_client.OperationNotificationSeverityEnum.SEVERE];\n}};\nmodule$exports$eeapiclient$ee_api_client.IPixelDataTypePrecisionEnum = function module$contents$eeapiclient$ee_api_client_IPixelDataTypePrecisionEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.PixelDataTypePrecisionEnum = {DOUBLE:\"DOUBLE\", FLOAT:\"FLOAT\", INT:\"INT\", PRECISION_UNSPECIFIED:\"PRECISION_UNSPECIFIED\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.PixelDataTypePrecisionEnum.PRECISION_UNSPECIFIED, module$exports$eeapiclient$ee_api_client.PixelDataTypePrecisionEnum.INT, module$exports$eeapiclient$ee_api_client.PixelDataTypePrecisionEnum.FLOAT, module$exports$eeapiclient$ee_api_client.PixelDataTypePrecisionEnum.DOUBLE];\n}};\nmodule$exports$eeapiclient$ee_api_client.IProjectRegistrationBillingConsentEnum = function module$contents$eeapiclient$ee_api_client_IProjectRegistrationBillingConsentEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectRegistrationBillingConsentEnum = {BILLING_CONSENT_FULL:\"BILLING_CONSENT_FULL\", BILLING_CONSENT_NONE:\"BILLING_CONSENT_NONE\", BILLING_CONSENT_UNSPECIFIED:\"BILLING_CONSENT_UNSPECIFIED\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ProjectRegistrationBillingConsentEnum.BILLING_CONSENT_UNSPECIFIED, module$exports$eeapiclient$ee_api_client.ProjectRegistrationBillingConsentEnum.BILLING_CONSENT_NONE, module$exports$eeapiclient$ee_api_client.ProjectRegistrationBillingConsentEnum.BILLING_CONSENT_FULL];\n}};\nmodule$exports$eeapiclient$ee_api_client.IProjectRegistrationFreeQuotaEnum = function module$contents$eeapiclient$ee_api_client_IProjectRegistrationFreeQuotaEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectRegistrationFreeQuotaEnum = {FREE_QUOTA_FULL:\"FREE_QUOTA_FULL\", FREE_QUOTA_NONE:\"FREE_QUOTA_NONE\", FREE_QUOTA_UNSPECIFIED:\"FREE_QUOTA_UNSPECIFIED\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ProjectRegistrationFreeQuotaEnum.FREE_QUOTA_UNSPECIFIED, module$exports$eeapiclient$ee_api_client.ProjectRegistrationFreeQuotaEnum.FREE_QUOTA_NONE, module$exports$eeapiclient$ee_api_client.ProjectRegistrationFreeQuotaEnum.FREE_QUOTA_FULL];\n}};\nmodule$exports$eeapiclient$ee_api_client.IRankByOneThingRuleDirectionEnum = function module$contents$eeapiclient$ee_api_client_IRankByOneThingRuleDirectionEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.RankByOneThingRuleDirectionEnum = {ASCENDING:\"ASCENDING\", DESCENDING:\"DESCENDING\", DIRECTION_UNSPECIFIED:\"DIRECTION_UNSPECIFIED\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.RankByOneThingRuleDirectionEnum.DIRECTION_UNSPECIFIED, module$exports$eeapiclient$ee_api_client.RankByOneThingRuleDirectionEnum.ASCENDING, module$exports$eeapiclient$ee_api_client.RankByOneThingRuleDirectionEnum.DESCENDING];\n}};\nmodule$exports$eeapiclient$ee_api_client.IRuleActionEnum = function module$contents$eeapiclient$ee_api_client_IRuleActionEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.RuleActionEnum = {ALLOW:\"ALLOW\", ALLOW_WITH_LOG:\"ALLOW_WITH_LOG\", DENY:\"DENY\", DENY_WITH_LOG:\"DENY_WITH_LOG\", LOG:\"LOG\", NO_ACTION:\"NO_ACTION\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.RuleActionEnum.NO_ACTION, module$exports$eeapiclient$ee_api_client.RuleActionEnum.ALLOW, module$exports$eeapiclient$ee_api_client.RuleActionEnum.ALLOW_WITH_LOG, module$exports$eeapiclient$ee_api_client.RuleActionEnum.DENY, module$exports$eeapiclient$ee_api_client.RuleActionEnum.DENY_WITH_LOG, \n  module$exports$eeapiclient$ee_api_client.RuleActionEnum.LOG];\n}};\nmodule$exports$eeapiclient$ee_api_client.IScheduledUpdateSubscriptionUpdateTypeEnum = function module$contents$eeapiclient$ee_api_client_IScheduledUpdateSubscriptionUpdateTypeEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ScheduledUpdateSubscriptionUpdateTypeEnum = {BASIC:\"BASIC\", NO_SUBSCRIPTION:\"NO_SUBSCRIPTION\", PREMIUM:\"PREMIUM\", PROFESSIONAL:\"PROFESSIONAL\", TYPE_UNSPECIFIED:\"TYPE_UNSPECIFIED\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ScheduledUpdateSubscriptionUpdateTypeEnum.TYPE_UNSPECIFIED, module$exports$eeapiclient$ee_api_client.ScheduledUpdateSubscriptionUpdateTypeEnum.NO_SUBSCRIPTION, module$exports$eeapiclient$ee_api_client.ScheduledUpdateSubscriptionUpdateTypeEnum.BASIC, module$exports$eeapiclient$ee_api_client.ScheduledUpdateSubscriptionUpdateTypeEnum.PROFESSIONAL, \n  module$exports$eeapiclient$ee_api_client.ScheduledUpdateSubscriptionUpdateTypeEnum.PREMIUM];\n}};\nmodule$exports$eeapiclient$ee_api_client.IScheduledUpdateUpdateChangeTypeEnum = function module$contents$eeapiclient$ee_api_client_IScheduledUpdateUpdateChangeTypeEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ScheduledUpdateUpdateChangeTypeEnum = {CHANGE_TIME_TYPE_UNSPECIFIED:\"CHANGE_TIME_TYPE_UNSPECIFIED\", EARLIEST_POSSIBLE:\"EARLIEST_POSSIBLE\", END_OF_PERIOD:\"END_OF_PERIOD\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ScheduledUpdateUpdateChangeTypeEnum.CHANGE_TIME_TYPE_UNSPECIFIED, module$exports$eeapiclient$ee_api_client.ScheduledUpdateUpdateChangeTypeEnum.END_OF_PERIOD, module$exports$eeapiclient$ee_api_client.ScheduledUpdateUpdateChangeTypeEnum.EARLIEST_POSSIBLE];\n}};\nmodule$exports$eeapiclient$ee_api_client.ISubscriptionStateEnum = function module$contents$eeapiclient$ee_api_client_ISubscriptionStateEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.SubscriptionStateEnum = {ACTIVE:\"ACTIVE\", COMPLETED:\"COMPLETED\", ERROR:\"ERROR\", INACTIVE:\"INACTIVE\", STATE_UNSPECIFIED:\"STATE_UNSPECIFIED\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.SubscriptionStateEnum.STATE_UNSPECIFIED, module$exports$eeapiclient$ee_api_client.SubscriptionStateEnum.INACTIVE, module$exports$eeapiclient$ee_api_client.SubscriptionStateEnum.ACTIVE, module$exports$eeapiclient$ee_api_client.SubscriptionStateEnum.COMPLETED, module$exports$eeapiclient$ee_api_client.SubscriptionStateEnum.ERROR];\n}};\nmodule$exports$eeapiclient$ee_api_client.ISubscriptionTrialStateEnum = function module$contents$eeapiclient$ee_api_client_ISubscriptionTrialStateEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.SubscriptionTrialStateEnum = {ACTIVE:\"ACTIVE\", EXPIRED:\"EXPIRED\", STATE_UNSPECIFIED:\"STATE_UNSPECIFIED\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.SubscriptionTrialStateEnum.STATE_UNSPECIFIED, module$exports$eeapiclient$ee_api_client.SubscriptionTrialStateEnum.ACTIVE, module$exports$eeapiclient$ee_api_client.SubscriptionTrialStateEnum.EXPIRED];\n}};\nmodule$exports$eeapiclient$ee_api_client.ISubscriptionTypeEnum = function module$contents$eeapiclient$ee_api_client_ISubscriptionTypeEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.SubscriptionTypeEnum = {BASIC:\"BASIC\", NO_SUBSCRIPTION:\"NO_SUBSCRIPTION\", PREMIUM:\"PREMIUM\", PROFESSIONAL:\"PROFESSIONAL\", TYPE_UNSPECIFIED:\"TYPE_UNSPECIFIED\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.SubscriptionTypeEnum.TYPE_UNSPECIFIED, module$exports$eeapiclient$ee_api_client.SubscriptionTypeEnum.NO_SUBSCRIPTION, module$exports$eeapiclient$ee_api_client.SubscriptionTypeEnum.BASIC, module$exports$eeapiclient$ee_api_client.SubscriptionTypeEnum.PROFESSIONAL, module$exports$eeapiclient$ee_api_client.SubscriptionTypeEnum.PREMIUM];\n}};\nmodule$exports$eeapiclient$ee_api_client.ITableFileExportOptionsFileFormatEnum = function module$contents$eeapiclient$ee_api_client_ITableFileExportOptionsFileFormatEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.TableFileExportOptionsFileFormatEnum = {CSV:\"CSV\", GEO_JSON:\"GEO_JSON\", KML:\"KML\", KMZ:\"KMZ\", SHP:\"SHP\", TABLE_FILE_FORMAT_UNSPECIFIED:\"TABLE_FILE_FORMAT_UNSPECIFIED\", TF_RECORD_TABLE:\"TF_RECORD_TABLE\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.TableFileExportOptionsFileFormatEnum.TABLE_FILE_FORMAT_UNSPECIFIED, module$exports$eeapiclient$ee_api_client.TableFileExportOptionsFileFormatEnum.CSV, module$exports$eeapiclient$ee_api_client.TableFileExportOptionsFileFormatEnum.GEO_JSON, module$exports$eeapiclient$ee_api_client.TableFileExportOptionsFileFormatEnum.KML, \n  module$exports$eeapiclient$ee_api_client.TableFileExportOptionsFileFormatEnum.KMZ, module$exports$eeapiclient$ee_api_client.TableFileExportOptionsFileFormatEnum.SHP, module$exports$eeapiclient$ee_api_client.TableFileExportOptionsFileFormatEnum.TF_RECORD_TABLE];\n}};\nmodule$exports$eeapiclient$ee_api_client.ITableFileFormatEnum = function module$contents$eeapiclient$ee_api_client_ITableFileFormatEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.TableFileFormatEnum = {CSV:\"CSV\", GEO_JSON:\"GEO_JSON\", KML:\"KML\", KMZ:\"KMZ\", SHP:\"SHP\", TABLE_FILE_FORMAT_UNSPECIFIED:\"TABLE_FILE_FORMAT_UNSPECIFIED\", TF_RECORD_TABLE:\"TF_RECORD_TABLE\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.TableFileFormatEnum.TABLE_FILE_FORMAT_UNSPECIFIED, module$exports$eeapiclient$ee_api_client.TableFileFormatEnum.CSV, module$exports$eeapiclient$ee_api_client.TableFileFormatEnum.GEO_JSON, module$exports$eeapiclient$ee_api_client.TableFileFormatEnum.KML, module$exports$eeapiclient$ee_api_client.TableFileFormatEnum.KMZ, \n  module$exports$eeapiclient$ee_api_client.TableFileFormatEnum.SHP, module$exports$eeapiclient$ee_api_client.TableFileFormatEnum.TF_RECORD_TABLE];\n}};\nmodule$exports$eeapiclient$ee_api_client.ITableManifestColumnDataTypeOverridesEnum = function module$contents$eeapiclient$ee_api_client_ITableManifestColumnDataTypeOverridesEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.TableManifestColumnDataTypeOverridesEnum = {COLUMN_DATA_TYPE_LONG:\"COLUMN_DATA_TYPE_LONG\", COLUMN_DATA_TYPE_NUMERIC:\"COLUMN_DATA_TYPE_NUMERIC\", COLUMN_DATA_TYPE_STRING:\"COLUMN_DATA_TYPE_STRING\", COLUMN_DATA_TYPE_UNSPECIFIED:\"COLUMN_DATA_TYPE_UNSPECIFIED\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.TableManifestColumnDataTypeOverridesEnum.COLUMN_DATA_TYPE_UNSPECIFIED, module$exports$eeapiclient$ee_api_client.TableManifestColumnDataTypeOverridesEnum.COLUMN_DATA_TYPE_STRING, module$exports$eeapiclient$ee_api_client.TableManifestColumnDataTypeOverridesEnum.COLUMN_DATA_TYPE_NUMERIC, module$exports$eeapiclient$ee_api_client.TableManifestColumnDataTypeOverridesEnum.COLUMN_DATA_TYPE_LONG];\n}};\nmodule$exports$eeapiclient$ee_api_client.ITableManifestCsvColumnDataTypeOverridesEnum = function module$contents$eeapiclient$ee_api_client_ITableManifestCsvColumnDataTypeOverridesEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.TableManifestCsvColumnDataTypeOverridesEnum = {CSV_COLUMN_DATA_TYPE_LONG:\"CSV_COLUMN_DATA_TYPE_LONG\", CSV_COLUMN_DATA_TYPE_NUMERIC:\"CSV_COLUMN_DATA_TYPE_NUMERIC\", CSV_COLUMN_DATA_TYPE_STRING:\"CSV_COLUMN_DATA_TYPE_STRING\", CSV_COLUMN_DATA_TYPE_UNSPECIFIED:\"CSV_COLUMN_DATA_TYPE_UNSPECIFIED\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.TableManifestCsvColumnDataTypeOverridesEnum.CSV_COLUMN_DATA_TYPE_UNSPECIFIED, module$exports$eeapiclient$ee_api_client.TableManifestCsvColumnDataTypeOverridesEnum.CSV_COLUMN_DATA_TYPE_STRING, module$exports$eeapiclient$ee_api_client.TableManifestCsvColumnDataTypeOverridesEnum.CSV_COLUMN_DATA_TYPE_NUMERIC, module$exports$eeapiclient$ee_api_client.TableManifestCsvColumnDataTypeOverridesEnum.CSV_COLUMN_DATA_TYPE_LONG];\n}};\nmodule$exports$eeapiclient$ee_api_client.ITerminateSubscriptionRequestTerminationTypeEnum = function module$contents$eeapiclient$ee_api_client_ITerminateSubscriptionRequestTerminationTypeEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.TerminateSubscriptionRequestTerminationTypeEnum = {CHANGE_TIME_TYPE_UNSPECIFIED:\"CHANGE_TIME_TYPE_UNSPECIFIED\", EARLIEST_POSSIBLE:\"EARLIEST_POSSIBLE\", END_OF_PERIOD:\"END_OF_PERIOD\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.TerminateSubscriptionRequestTerminationTypeEnum.CHANGE_TIME_TYPE_UNSPECIFIED, module$exports$eeapiclient$ee_api_client.TerminateSubscriptionRequestTerminationTypeEnum.END_OF_PERIOD, module$exports$eeapiclient$ee_api_client.TerminateSubscriptionRequestTerminationTypeEnum.EARLIEST_POSSIBLE];\n}};\nmodule$exports$eeapiclient$ee_api_client.IThinningOptionsThinningStrategyEnum = function module$contents$eeapiclient$ee_api_client_IThinningOptionsThinningStrategyEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ThinningOptionsThinningStrategyEnum = {GLOBALLY_CONSISTENT:\"GLOBALLY_CONSISTENT\", HIGHER_DENSITY:\"HIGHER_DENSITY\", UNKNOWN_THINNING_STRATEGY:\"UNKNOWN_THINNING_STRATEGY\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ThinningOptionsThinningStrategyEnum.UNKNOWN_THINNING_STRATEGY, module$exports$eeapiclient$ee_api_client.ThinningOptionsThinningStrategyEnum.GLOBALLY_CONSISTENT, module$exports$eeapiclient$ee_api_client.ThinningOptionsThinningStrategyEnum.HIGHER_DENSITY];\n}};\nmodule$exports$eeapiclient$ee_api_client.IThumbnailFileFormatEnum = function module$contents$eeapiclient$ee_api_client_IThumbnailFileFormatEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ThumbnailFileFormatEnum = {AUTO_JPEG_PNG:\"AUTO_JPEG_PNG\", GEO_TIFF:\"GEO_TIFF\", IMAGE_FILE_FORMAT_UNSPECIFIED:\"IMAGE_FILE_FORMAT_UNSPECIFIED\", JPEG:\"JPEG\", MULTI_BAND_IMAGE_TILE:\"MULTI_BAND_IMAGE_TILE\", NPY:\"NPY\", PNG:\"PNG\", TF_RECORD_IMAGE:\"TF_RECORD_IMAGE\", ZIPPED_GEO_TIFF:\"ZIPPED_GEO_TIFF\", ZIPPED_GEO_TIFF_PER_BAND:\"ZIPPED_GEO_TIFF_PER_BAND\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ThumbnailFileFormatEnum.IMAGE_FILE_FORMAT_UNSPECIFIED, module$exports$eeapiclient$ee_api_client.ThumbnailFileFormatEnum.JPEG, module$exports$eeapiclient$ee_api_client.ThumbnailFileFormatEnum.PNG, module$exports$eeapiclient$ee_api_client.ThumbnailFileFormatEnum.AUTO_JPEG_PNG, module$exports$eeapiclient$ee_api_client.ThumbnailFileFormatEnum.NPY, \n  module$exports$eeapiclient$ee_api_client.ThumbnailFileFormatEnum.GEO_TIFF, module$exports$eeapiclient$ee_api_client.ThumbnailFileFormatEnum.TF_RECORD_IMAGE, module$exports$eeapiclient$ee_api_client.ThumbnailFileFormatEnum.MULTI_BAND_IMAGE_TILE, module$exports$eeapiclient$ee_api_client.ThumbnailFileFormatEnum.ZIPPED_GEO_TIFF, module$exports$eeapiclient$ee_api_client.ThumbnailFileFormatEnum.ZIPPED_GEO_TIFF_PER_BAND];\n}};\nmodule$exports$eeapiclient$ee_api_client.ITilesetBandPyramidingPolicyEnum = function module$contents$eeapiclient$ee_api_client_ITilesetBandPyramidingPolicyEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.TilesetBandPyramidingPolicyEnum = {MAX:\"MAX\", MEAN:\"MEAN\", MEDIAN:\"MEDIAN\", MIN:\"MIN\", MODE:\"MODE\", PYRAMIDING_POLICY_UNSPECIFIED:\"PYRAMIDING_POLICY_UNSPECIFIED\", SAMPLE:\"SAMPLE\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.TilesetBandPyramidingPolicyEnum.PYRAMIDING_POLICY_UNSPECIFIED, module$exports$eeapiclient$ee_api_client.TilesetBandPyramidingPolicyEnum.MEAN, module$exports$eeapiclient$ee_api_client.TilesetBandPyramidingPolicyEnum.SAMPLE, module$exports$eeapiclient$ee_api_client.TilesetBandPyramidingPolicyEnum.MIN, module$exports$eeapiclient$ee_api_client.TilesetBandPyramidingPolicyEnum.MAX, \n  module$exports$eeapiclient$ee_api_client.TilesetBandPyramidingPolicyEnum.MODE, module$exports$eeapiclient$ee_api_client.TilesetBandPyramidingPolicyEnum.MEDIAN];\n}};\nmodule$exports$eeapiclient$ee_api_client.ITilesetDataTypeEnum = function module$contents$eeapiclient$ee_api_client_ITilesetDataTypeEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.TilesetDataTypeEnum = {DATA_TYPE_UNSPECIFIED:\"DATA_TYPE_UNSPECIFIED\", DOUBLE:\"DOUBLE\", FLOAT:\"FLOAT\", INT16:\"INT16\", INT32:\"INT32\", INT8:\"INT8\", UINT16:\"UINT16\", UINT32:\"UINT32\", UINT8:\"UINT8\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.TilesetDataTypeEnum.DATA_TYPE_UNSPECIFIED, module$exports$eeapiclient$ee_api_client.TilesetDataTypeEnum.INT8, module$exports$eeapiclient$ee_api_client.TilesetDataTypeEnum.UINT8, module$exports$eeapiclient$ee_api_client.TilesetDataTypeEnum.INT16, module$exports$eeapiclient$ee_api_client.TilesetDataTypeEnum.UINT16, \n  module$exports$eeapiclient$ee_api_client.TilesetDataTypeEnum.INT32, module$exports$eeapiclient$ee_api_client.TilesetDataTypeEnum.UINT32, module$exports$eeapiclient$ee_api_client.TilesetDataTypeEnum.FLOAT, module$exports$eeapiclient$ee_api_client.TilesetDataTypeEnum.DOUBLE];\n}};\nmodule$exports$eeapiclient$ee_api_client.ITrialStatusEligibilityEnum = function module$contents$eeapiclient$ee_api_client_ITrialStatusEligibilityEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.TrialStatusEligibilityEnum = {ALREADY_EVALUATED:\"ALREADY_EVALUATED\", ELIGIBILITY_UNSPECIFIED:\"ELIGIBILITY_UNSPECIFIED\", ELIGIBLE:\"ELIGIBLE\", NO_BILLING_ACCOUNT:\"NO_BILLING_ACCOUNT\", REDEEMED:\"REDEEMED\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.TrialStatusEligibilityEnum.ELIGIBILITY_UNSPECIFIED, module$exports$eeapiclient$ee_api_client.TrialStatusEligibilityEnum.ELIGIBLE, module$exports$eeapiclient$ee_api_client.TrialStatusEligibilityEnum.REDEEMED, module$exports$eeapiclient$ee_api_client.TrialStatusEligibilityEnum.ALREADY_EVALUATED, module$exports$eeapiclient$ee_api_client.TrialStatusEligibilityEnum.NO_BILLING_ACCOUNT];\n}};\nmodule$exports$eeapiclient$ee_api_client.ITrialStatusStateEnum = function module$contents$eeapiclient$ee_api_client_ITrialStatusStateEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.TrialStatusStateEnum = {ACTIVE:\"ACTIVE\", EXPIRED:\"EXPIRED\", STATE_UNSPECIFIED:\"STATE_UNSPECIFIED\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.TrialStatusStateEnum.STATE_UNSPECIFIED, module$exports$eeapiclient$ee_api_client.TrialStatusStateEnum.ACTIVE, module$exports$eeapiclient$ee_api_client.TrialStatusStateEnum.EXPIRED];\n}};\nmodule$exports$eeapiclient$ee_api_client.IVideoFileExportOptionsFileFormatEnum = function module$contents$eeapiclient$ee_api_client_IVideoFileExportOptionsFileFormatEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.VideoFileExportOptionsFileFormatEnum = {GIF:\"GIF\", MP4:\"MP4\", VIDEO_FILE_FORMAT_UNSPECIFIED:\"VIDEO_FILE_FORMAT_UNSPECIFIED\", VP9:\"VP9\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.VideoFileExportOptionsFileFormatEnum.VIDEO_FILE_FORMAT_UNSPECIFIED, module$exports$eeapiclient$ee_api_client.VideoFileExportOptionsFileFormatEnum.MP4, module$exports$eeapiclient$ee_api_client.VideoFileExportOptionsFileFormatEnum.GIF, module$exports$eeapiclient$ee_api_client.VideoFileExportOptionsFileFormatEnum.VP9];\n}};\nmodule$exports$eeapiclient$ee_api_client.IVideoThumbnailFileFormatEnum = function module$contents$eeapiclient$ee_api_client_IVideoThumbnailFileFormatEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.VideoThumbnailFileFormatEnum = {GIF:\"GIF\", MP4:\"MP4\", VIDEO_FILE_FORMAT_UNSPECIFIED:\"VIDEO_FILE_FORMAT_UNSPECIFIED\", VP9:\"VP9\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.VideoThumbnailFileFormatEnum.VIDEO_FILE_FORMAT_UNSPECIFIED, module$exports$eeapiclient$ee_api_client.VideoThumbnailFileFormatEnum.MP4, module$exports$eeapiclient$ee_api_client.VideoThumbnailFileFormatEnum.GIF, module$exports$eeapiclient$ee_api_client.VideoThumbnailFileFormatEnum.VP9];\n}};\nmodule$exports$eeapiclient$ee_api_client.AffineTransformParameters = function module$contents$eeapiclient$ee_api_client_AffineTransformParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.AffineTransform = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"scaleX\", null == parameters.scaleX ? null : parameters.scaleX);\n  this.Serializable$set(\"shearX\", null == parameters.shearX ? null : parameters.shearX);\n  this.Serializable$set(\"translateX\", null == parameters.translateX ? null : parameters.translateX);\n  this.Serializable$set(\"shearY\", null == parameters.shearY ? null : parameters.shearY);\n  this.Serializable$set(\"scaleY\", null == parameters.scaleY ? null : parameters.scaleY);\n  this.Serializable$set(\"translateY\", null == parameters.translateY ? null : parameters.translateY);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.AffineTransform, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.AffineTransform.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.AffineTransform;\n};\nmodule$exports$eeapiclient$ee_api_client.AffineTransform.prototype.getPartialClassMetadata = function() {\n  return {keys:\"scaleX scaleY shearX shearY translateX translateY\".split(\" \")};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.AffineTransform.prototype, {scaleX:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"scaleX\") ? this.Serializable$get(\"scaleX\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"scaleX\", value);\n}}, scaleY:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"scaleY\") ? this.Serializable$get(\"scaleY\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"scaleY\", value);\n}}, shearX:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"shearX\") ? this.Serializable$get(\"shearX\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"shearX\", value);\n}}, shearY:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"shearY\") ? this.Serializable$get(\"shearY\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"shearY\", value);\n}}, translateX:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"translateX\") ? this.Serializable$get(\"translateX\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"translateX\", value);\n}}, translateY:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"translateY\") ? this.Serializable$get(\"translateY\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"translateY\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.AlgorithmParameters = function module$contents$eeapiclient$ee_api_client_AlgorithmParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.Algorithm = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"name\", null == parameters.name ? null : parameters.name);\n  this.Serializable$set(\"description\", null == parameters.description ? null : parameters.description);\n  this.Serializable$set(\"returnType\", null == parameters.returnType ? null : parameters.returnType);\n  this.Serializable$set(\"arguments\", null == parameters.arguments ? null : parameters.arguments);\n  this.Serializable$set(\"deprecated\", null == parameters.deprecated ? null : parameters.deprecated);\n  this.Serializable$set(\"deprecationReason\", null == parameters.deprecationReason ? null : parameters.deprecationReason);\n  this.Serializable$set(\"hidden\", null == parameters.hidden ? null : parameters.hidden);\n  this.Serializable$set(\"preview\", null == parameters.preview ? null : parameters.preview);\n  this.Serializable$set(\"sourceCodeUri\", null == parameters.sourceCodeUri ? null : parameters.sourceCodeUri);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.Algorithm, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.Algorithm.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.Algorithm;\n};\nmodule$exports$eeapiclient$ee_api_client.Algorithm.prototype.getPartialClassMetadata = function() {\n  return {arrays:{arguments:module$exports$eeapiclient$ee_api_client.AlgorithmArgument}, keys:\"arguments deprecated deprecationReason description hidden name preview returnType sourceCodeUri\".split(\" \")};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.Algorithm.prototype, {arguments:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"arguments\") ? this.Serializable$get(\"arguments\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"arguments\", value);\n}}, deprecated:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"deprecated\") ? this.Serializable$get(\"deprecated\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"deprecated\", value);\n}}, deprecationReason:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"deprecationReason\") ? this.Serializable$get(\"deprecationReason\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"deprecationReason\", value);\n}}, description:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"description\") ? this.Serializable$get(\"description\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"description\", value);\n}}, hidden:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"hidden\") ? this.Serializable$get(\"hidden\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"hidden\", value);\n}}, name:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"name\") ? this.Serializable$get(\"name\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"name\", value);\n}}, preview:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"preview\") ? this.Serializable$get(\"preview\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"preview\", value);\n}}, returnType:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"returnType\") ? this.Serializable$get(\"returnType\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"returnType\", value);\n}}, sourceCodeUri:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"sourceCodeUri\") ? this.Serializable$get(\"sourceCodeUri\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"sourceCodeUri\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.AlgorithmArgumentParameters = function module$contents$eeapiclient$ee_api_client_AlgorithmArgumentParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.AlgorithmArgument = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"argumentName\", null == parameters.argumentName ? null : parameters.argumentName);\n  this.Serializable$set(\"type\", null == parameters.type ? null : parameters.type);\n  this.Serializable$set(\"description\", null == parameters.description ? null : parameters.description);\n  this.Serializable$set(\"optional\", null == parameters.optional ? null : parameters.optional);\n  this.Serializable$set(\"defaultValue\", null == parameters.defaultValue ? null : parameters.defaultValue);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.AlgorithmArgument, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.AlgorithmArgument.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.AlgorithmArgument;\n};\nmodule$exports$eeapiclient$ee_api_client.AlgorithmArgument.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"argumentName\", \"defaultValue\", \"description\", \"optional\", \"type\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.AlgorithmArgument.prototype, {argumentName:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"argumentName\") ? this.Serializable$get(\"argumentName\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"argumentName\", value);\n}}, defaultValue:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"defaultValue\") ? this.Serializable$get(\"defaultValue\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"defaultValue\", value);\n}}, description:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"description\") ? this.Serializable$get(\"description\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"description\", value);\n}}, optional:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"optional\") ? this.Serializable$get(\"optional\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"optional\", value);\n}}, type:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"type\") ? this.Serializable$get(\"type\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"type\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.AppealRestrictionRequestParameters = function module$contents$eeapiclient$ee_api_client_AppealRestrictionRequestParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.AppealRestrictionRequest = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.AppealRestrictionRequest, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.AppealRestrictionRequest.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.AppealRestrictionRequest;\n};\nmodule$exports$eeapiclient$ee_api_client.AppealRestrictionRequest.prototype.getPartialClassMetadata = function() {\n  return {keys:[]};\n};\nmodule$exports$eeapiclient$ee_api_client.ArrayValueParameters = function module$contents$eeapiclient$ee_api_client_ArrayValueParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.ArrayValue = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"values\", null == parameters.values ? null : parameters.values);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.ArrayValue, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.ArrayValue.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.ArrayValue;\n};\nmodule$exports$eeapiclient$ee_api_client.ArrayValue.prototype.getPartialClassMetadata = function() {\n  return {arrays:{values:module$exports$eeapiclient$ee_api_client.ValueNode}, keys:[\"values\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ArrayValue.prototype, {values:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"values\") ? this.Serializable$get(\"values\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"values\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.AuditConfigParameters = function module$contents$eeapiclient$ee_api_client_AuditConfigParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.AuditConfig = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"service\", null == parameters.service ? null : parameters.service);\n  this.Serializable$set(\"auditLogConfigs\", null == parameters.auditLogConfigs ? null : parameters.auditLogConfigs);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.AuditConfig, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.AuditConfig.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.AuditConfig;\n};\nmodule$exports$eeapiclient$ee_api_client.AuditConfig.prototype.getPartialClassMetadata = function() {\n  return {arrays:{auditLogConfigs:module$exports$eeapiclient$ee_api_client.AuditLogConfig}, keys:[\"auditLogConfigs\", \"service\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.AuditConfig.prototype, {auditLogConfigs:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"auditLogConfigs\") ? this.Serializable$get(\"auditLogConfigs\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"auditLogConfigs\", value);\n}}, service:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"service\") ? this.Serializable$get(\"service\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"service\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.AuditLogConfigParameters = function module$contents$eeapiclient$ee_api_client_AuditLogConfigParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.AuditLogConfig = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"logType\", null == parameters.logType ? null : parameters.logType);\n  this.Serializable$set(\"exemptedMembers\", null == parameters.exemptedMembers ? null : parameters.exemptedMembers);\n  this.Serializable$set(\"ignoreChildExemptions\", null == parameters.ignoreChildExemptions ? null : parameters.ignoreChildExemptions);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.AuditLogConfig, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.AuditLogConfig.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.AuditLogConfig;\n};\nmodule$exports$eeapiclient$ee_api_client.AuditLogConfig.prototype.getPartialClassMetadata = function() {\n  return {enums:{logType:module$exports$eeapiclient$ee_api_client.AuditLogConfigLogTypeEnum}, keys:[\"exemptedMembers\", \"ignoreChildExemptions\", \"logType\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.AuditLogConfig.prototype, {exemptedMembers:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"exemptedMembers\") ? this.Serializable$get(\"exemptedMembers\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"exemptedMembers\", value);\n}}, ignoreChildExemptions:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"ignoreChildExemptions\") ? this.Serializable$get(\"ignoreChildExemptions\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"ignoreChildExemptions\", value);\n}}, logType:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"logType\") ? this.Serializable$get(\"logType\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"logType\", value);\n}}});\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.AuditLogConfig, {LogType:{configurable:!0, enumerable:!0, get:function() {\n  return module$exports$eeapiclient$ee_api_client.AuditLogConfigLogTypeEnum;\n}}});\nmodule$exports$eeapiclient$ee_api_client.AuthorizationLoggingOptionsParameters = function module$contents$eeapiclient$ee_api_client_AuthorizationLoggingOptionsParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.AuthorizationLoggingOptions = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"permissionType\", null == parameters.permissionType ? null : parameters.permissionType);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.AuthorizationLoggingOptions, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.AuthorizationLoggingOptions.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.AuthorizationLoggingOptions;\n};\nmodule$exports$eeapiclient$ee_api_client.AuthorizationLoggingOptions.prototype.getPartialClassMetadata = function() {\n  return {enums:{permissionType:module$exports$eeapiclient$ee_api_client.AuthorizationLoggingOptionsPermissionTypeEnum}, keys:[\"permissionType\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.AuthorizationLoggingOptions.prototype, {permissionType:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"permissionType\") ? this.Serializable$get(\"permissionType\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"permissionType\", value);\n}}});\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.AuthorizationLoggingOptions, {PermissionType:{configurable:!0, enumerable:!0, get:function() {\n  return module$exports$eeapiclient$ee_api_client.AuthorizationLoggingOptionsPermissionTypeEnum;\n}}});\nmodule$exports$eeapiclient$ee_api_client.BigQueryDestinationParameters = function module$contents$eeapiclient$ee_api_client_BigQueryDestinationParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.BigQueryDestination = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"table\", null == parameters.table ? null : parameters.table);\n  this.Serializable$set(\"overwrite\", null == parameters.overwrite ? null : parameters.overwrite);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.BigQueryDestination, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.BigQueryDestination.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.BigQueryDestination;\n};\nmodule$exports$eeapiclient$ee_api_client.BigQueryDestination.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"overwrite\", \"table\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.BigQueryDestination.prototype, {overwrite:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"overwrite\") ? this.Serializable$get(\"overwrite\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"overwrite\", value);\n}}, table:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"table\") ? this.Serializable$get(\"table\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"table\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.BigQueryExportOptionsParameters = function module$contents$eeapiclient$ee_api_client_BigQueryExportOptionsParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.BigQueryExportOptions = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"bigqueryDestination\", null == parameters.bigqueryDestination ? null : parameters.bigqueryDestination);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.BigQueryExportOptions, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.BigQueryExportOptions.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.BigQueryExportOptions;\n};\nmodule$exports$eeapiclient$ee_api_client.BigQueryExportOptions.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"bigqueryDestination\"], objects:{bigqueryDestination:module$exports$eeapiclient$ee_api_client.BigQueryDestination}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.BigQueryExportOptions.prototype, {bigqueryDestination:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"bigqueryDestination\") ? this.Serializable$get(\"bigqueryDestination\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"bigqueryDestination\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.BindingParameters = function module$contents$eeapiclient$ee_api_client_BindingParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.Binding = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"role\", null == parameters.role ? null : parameters.role);\n  this.Serializable$set(\"members\", null == parameters.members ? null : parameters.members);\n  this.Serializable$set(\"condition\", null == parameters.condition ? null : parameters.condition);\n  this.Serializable$set(\"bindingId\", null == parameters.bindingId ? null : parameters.bindingId);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.Binding, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.Binding.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.Binding;\n};\nmodule$exports$eeapiclient$ee_api_client.Binding.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"bindingId\", \"condition\", \"members\", \"role\"], objects:{condition:module$exports$eeapiclient$ee_api_client.Expr}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.Binding.prototype, {bindingId:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"bindingId\") ? this.Serializable$get(\"bindingId\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"bindingId\", value);\n}}, condition:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"condition\") ? this.Serializable$get(\"condition\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"condition\", value);\n}}, members:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"members\") ? this.Serializable$get(\"members\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"members\", value);\n}}, role:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"role\") ? this.Serializable$get(\"role\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"role\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.CancelOperationRequestParameters = function module$contents$eeapiclient$ee_api_client_CancelOperationRequestParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.CancelOperationRequest = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.CancelOperationRequest, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.CancelOperationRequest.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.CancelOperationRequest;\n};\nmodule$exports$eeapiclient$ee_api_client.CancelOperationRequest.prototype.getPartialClassMetadata = function() {\n  return {keys:[]};\n};\nmodule$exports$eeapiclient$ee_api_client.CapabilitiesParameters = function module$contents$eeapiclient$ee_api_client_CapabilitiesParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.Capabilities = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"capabilities\", null == parameters.capabilities ? null : parameters.capabilities);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.Capabilities, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.Capabilities.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.Capabilities;\n};\nmodule$exports$eeapiclient$ee_api_client.Capabilities.prototype.getPartialClassMetadata = function() {\n  return {enums:{capabilities:module$exports$eeapiclient$ee_api_client.CapabilitiesCapabilitiesEnum}, keys:[\"capabilities\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.Capabilities.prototype, {capabilities:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"capabilities\") ? this.Serializable$get(\"capabilities\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"capabilities\", value);\n}}});\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.Capabilities, {Capabilities:{configurable:!0, enumerable:!0, get:function() {\n  return module$exports$eeapiclient$ee_api_client.CapabilitiesCapabilitiesEnum;\n}}});\nmodule$exports$eeapiclient$ee_api_client.ChangeSubscriptionTypeRequestParameters = function module$contents$eeapiclient$ee_api_client_ChangeSubscriptionTypeRequestParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.ChangeSubscriptionTypeRequest = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"type\", null == parameters.type ? null : parameters.type);\n  this.Serializable$set(\"changeTime\", null == parameters.changeTime ? null : parameters.changeTime);\n  this.Serializable$set(\"etag\", null == parameters.etag ? null : parameters.etag);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.ChangeSubscriptionTypeRequest, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.ChangeSubscriptionTypeRequest.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.ChangeSubscriptionTypeRequest;\n};\nmodule$exports$eeapiclient$ee_api_client.ChangeSubscriptionTypeRequest.prototype.getPartialClassMetadata = function() {\n  return {enums:{changeTime:module$exports$eeapiclient$ee_api_client.ChangeSubscriptionTypeRequestChangeTimeEnum, type:module$exports$eeapiclient$ee_api_client.ChangeSubscriptionTypeRequestTypeEnum}, keys:[\"changeTime\", \"etag\", \"type\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ChangeSubscriptionTypeRequest.prototype, {changeTime:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"changeTime\") ? this.Serializable$get(\"changeTime\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"changeTime\", value);\n}}, etag:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"etag\") ? this.Serializable$get(\"etag\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"etag\", value);\n}}, type:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"type\") ? this.Serializable$get(\"type\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"type\", value);\n}}});\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ChangeSubscriptionTypeRequest, {ChangeTime:{configurable:!0, enumerable:!0, get:function() {\n  return module$exports$eeapiclient$ee_api_client.ChangeSubscriptionTypeRequestChangeTimeEnum;\n}}, Type:{configurable:!0, enumerable:!0, get:function() {\n  return module$exports$eeapiclient$ee_api_client.ChangeSubscriptionTypeRequestTypeEnum;\n}}});\nmodule$exports$eeapiclient$ee_api_client.ClassifierAssetExportOptionsParameters = function module$contents$eeapiclient$ee_api_client_ClassifierAssetExportOptionsParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.ClassifierAssetExportOptions = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"earthEngineDestination\", null == parameters.earthEngineDestination ? null : parameters.earthEngineDestination);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.ClassifierAssetExportOptions, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.ClassifierAssetExportOptions.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.ClassifierAssetExportOptions;\n};\nmodule$exports$eeapiclient$ee_api_client.ClassifierAssetExportOptions.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"earthEngineDestination\"], objects:{earthEngineDestination:module$exports$eeapiclient$ee_api_client.EarthEngineDestination}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ClassifierAssetExportOptions.prototype, {earthEngineDestination:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"earthEngineDestination\") ? this.Serializable$get(\"earthEngineDestination\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"earthEngineDestination\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.CloudAuditOptionsParameters = function module$contents$eeapiclient$ee_api_client_CloudAuditOptionsParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.CloudAuditOptions = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"logName\", null == parameters.logName ? null : parameters.logName);\n  this.Serializable$set(\"authorizationLoggingOptions\", null == parameters.authorizationLoggingOptions ? null : parameters.authorizationLoggingOptions);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.CloudAuditOptions, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.CloudAuditOptions.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.CloudAuditOptions;\n};\nmodule$exports$eeapiclient$ee_api_client.CloudAuditOptions.prototype.getPartialClassMetadata = function() {\n  return {enums:{logName:module$exports$eeapiclient$ee_api_client.CloudAuditOptionsLogNameEnum}, keys:[\"authorizationLoggingOptions\", \"logName\"], objects:{authorizationLoggingOptions:module$exports$eeapiclient$ee_api_client.AuthorizationLoggingOptions}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.CloudAuditOptions.prototype, {authorizationLoggingOptions:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"authorizationLoggingOptions\") ? this.Serializable$get(\"authorizationLoggingOptions\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"authorizationLoggingOptions\", value);\n}}, logName:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"logName\") ? this.Serializable$get(\"logName\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"logName\", value);\n}}});\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.CloudAuditOptions, {LogName:{configurable:!0, enumerable:!0, get:function() {\n  return module$exports$eeapiclient$ee_api_client.CloudAuditOptionsLogNameEnum;\n}}});\nmodule$exports$eeapiclient$ee_api_client.CloudStorageDestinationParameters = function module$contents$eeapiclient$ee_api_client_CloudStorageDestinationParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.CloudStorageDestination = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"bucket\", null == parameters.bucket ? null : parameters.bucket);\n  this.Serializable$set(\"filenamePrefix\", null == parameters.filenamePrefix ? null : parameters.filenamePrefix);\n  this.Serializable$set(\"permissions\", null == parameters.permissions ? null : parameters.permissions);\n  this.Serializable$set(\"bucketCorsUris\", null == parameters.bucketCorsUris ? null : parameters.bucketCorsUris);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.CloudStorageDestination, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.CloudStorageDestination.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.CloudStorageDestination;\n};\nmodule$exports$eeapiclient$ee_api_client.CloudStorageDestination.prototype.getPartialClassMetadata = function() {\n  return {enums:{permissions:module$exports$eeapiclient$ee_api_client.CloudStorageDestinationPermissionsEnum}, keys:[\"bucket\", \"bucketCorsUris\", \"filenamePrefix\", \"permissions\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.CloudStorageDestination.prototype, {bucket:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"bucket\") ? this.Serializable$get(\"bucket\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"bucket\", value);\n}}, bucketCorsUris:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"bucketCorsUris\") ? this.Serializable$get(\"bucketCorsUris\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"bucketCorsUris\", value);\n}}, filenamePrefix:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"filenamePrefix\") ? this.Serializable$get(\"filenamePrefix\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"filenamePrefix\", value);\n}}, permissions:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"permissions\") ? this.Serializable$get(\"permissions\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"permissions\", value);\n}}});\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.CloudStorageDestination, {Permissions:{configurable:!0, enumerable:!0, get:function() {\n  return module$exports$eeapiclient$ee_api_client.CloudStorageDestinationPermissionsEnum;\n}}});\nmodule$exports$eeapiclient$ee_api_client.CloudStorageLocationParameters = function module$contents$eeapiclient$ee_api_client_CloudStorageLocationParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.CloudStorageLocation = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"uris\", null == parameters.uris ? null : parameters.uris);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.CloudStorageLocation, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.CloudStorageLocation.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.CloudStorageLocation;\n};\nmodule$exports$eeapiclient$ee_api_client.CloudStorageLocation.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"uris\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.CloudStorageLocation.prototype, {uris:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"uris\") ? this.Serializable$get(\"uris\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"uris\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.ComputeFeaturesRequestParameters = function module$contents$eeapiclient$ee_api_client_ComputeFeaturesRequestParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.ComputeFeaturesRequest = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"expression\", null == parameters.expression ? null : parameters.expression);\n  this.Serializable$set(\"pageSize\", null == parameters.pageSize ? null : parameters.pageSize);\n  this.Serializable$set(\"pageToken\", null == parameters.pageToken ? null : parameters.pageToken);\n  this.Serializable$set(\"workloadTag\", null == parameters.workloadTag ? null : parameters.workloadTag);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.ComputeFeaturesRequest, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.ComputeFeaturesRequest.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.ComputeFeaturesRequest;\n};\nmodule$exports$eeapiclient$ee_api_client.ComputeFeaturesRequest.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"expression\", \"pageSize\", \"pageToken\", \"workloadTag\"], objects:{expression:module$exports$eeapiclient$ee_api_client.Expression}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ComputeFeaturesRequest.prototype, {expression:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"expression\") ? this.Serializable$get(\"expression\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"expression\", value);\n}}, pageSize:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"pageSize\") ? this.Serializable$get(\"pageSize\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"pageSize\", value);\n}}, pageToken:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"pageToken\") ? this.Serializable$get(\"pageToken\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"pageToken\", value);\n}}, workloadTag:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"workloadTag\") ? this.Serializable$get(\"workloadTag\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"workloadTag\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.ComputeFeaturesResponseParameters = function module$contents$eeapiclient$ee_api_client_ComputeFeaturesResponseParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.ComputeFeaturesResponse = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"type\", null == parameters.type ? null : parameters.type);\n  this.Serializable$set(\"features\", null == parameters.features ? null : parameters.features);\n  this.Serializable$set(\"nextPageToken\", null == parameters.nextPageToken ? null : parameters.nextPageToken);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.ComputeFeaturesResponse, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.ComputeFeaturesResponse.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.ComputeFeaturesResponse;\n};\nmodule$exports$eeapiclient$ee_api_client.ComputeFeaturesResponse.prototype.getPartialClassMetadata = function() {\n  return {arrays:{features:module$exports$eeapiclient$ee_api_client.Feature}, keys:[\"features\", \"nextPageToken\", \"type\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ComputeFeaturesResponse.prototype, {features:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"features\") ? this.Serializable$get(\"features\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"features\", value);\n}}, nextPageToken:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"nextPageToken\") ? this.Serializable$get(\"nextPageToken\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"nextPageToken\", value);\n}}, type:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"type\") ? this.Serializable$get(\"type\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"type\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.ComputeImagesRequestParameters = function module$contents$eeapiclient$ee_api_client_ComputeImagesRequestParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.ComputeImagesRequest = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"expression\", null == parameters.expression ? null : parameters.expression);\n  this.Serializable$set(\"pageSize\", null == parameters.pageSize ? null : parameters.pageSize);\n  this.Serializable$set(\"pageToken\", null == parameters.pageToken ? null : parameters.pageToken);\n  this.Serializable$set(\"workloadTag\", null == parameters.workloadTag ? null : parameters.workloadTag);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.ComputeImagesRequest, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.ComputeImagesRequest.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.ComputeImagesRequest;\n};\nmodule$exports$eeapiclient$ee_api_client.ComputeImagesRequest.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"expression\", \"pageSize\", \"pageToken\", \"workloadTag\"], objects:{expression:module$exports$eeapiclient$ee_api_client.Expression}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ComputeImagesRequest.prototype, {expression:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"expression\") ? this.Serializable$get(\"expression\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"expression\", value);\n}}, pageSize:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"pageSize\") ? this.Serializable$get(\"pageSize\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"pageSize\", value);\n}}, pageToken:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"pageToken\") ? this.Serializable$get(\"pageToken\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"pageToken\", value);\n}}, workloadTag:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"workloadTag\") ? this.Serializable$get(\"workloadTag\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"workloadTag\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.ComputeImagesResponseParameters = function module$contents$eeapiclient$ee_api_client_ComputeImagesResponseParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.ComputeImagesResponse = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"images\", null == parameters.images ? null : parameters.images);\n  this.Serializable$set(\"nextPageToken\", null == parameters.nextPageToken ? null : parameters.nextPageToken);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.ComputeImagesResponse, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.ComputeImagesResponse.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.ComputeImagesResponse;\n};\nmodule$exports$eeapiclient$ee_api_client.ComputeImagesResponse.prototype.getPartialClassMetadata = function() {\n  return {arrays:{images:module$exports$eeapiclient$ee_api_client.EarthEngineAsset}, keys:[\"images\", \"nextPageToken\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ComputeImagesResponse.prototype, {images:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"images\") ? this.Serializable$get(\"images\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"images\", value);\n}}, nextPageToken:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"nextPageToken\") ? this.Serializable$get(\"nextPageToken\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"nextPageToken\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.ComputePixelsRequestParameters = function module$contents$eeapiclient$ee_api_client_ComputePixelsRequestParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.ComputePixelsRequest = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"expression\", null == parameters.expression ? null : parameters.expression);\n  this.Serializable$set(\"fileFormat\", null == parameters.fileFormat ? null : parameters.fileFormat);\n  this.Serializable$set(\"grid\", null == parameters.grid ? null : parameters.grid);\n  this.Serializable$set(\"bandIds\", null == parameters.bandIds ? null : parameters.bandIds);\n  this.Serializable$set(\"visualizationOptions\", null == parameters.visualizationOptions ? null : parameters.visualizationOptions);\n  this.Serializable$set(\"workloadTag\", null == parameters.workloadTag ? null : parameters.workloadTag);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.ComputePixelsRequest, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.ComputePixelsRequest.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.ComputePixelsRequest;\n};\nmodule$exports$eeapiclient$ee_api_client.ComputePixelsRequest.prototype.getPartialClassMetadata = function() {\n  return {enums:{fileFormat:module$exports$eeapiclient$ee_api_client.ComputePixelsRequestFileFormatEnum}, keys:\"bandIds expression fileFormat grid visualizationOptions workloadTag\".split(\" \"), objects:{expression:module$exports$eeapiclient$ee_api_client.Expression, grid:module$exports$eeapiclient$ee_api_client.PixelGrid, visualizationOptions:module$exports$eeapiclient$ee_api_client.VisualizationOptions}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ComputePixelsRequest.prototype, {bandIds:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"bandIds\") ? this.Serializable$get(\"bandIds\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"bandIds\", value);\n}}, expression:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"expression\") ? this.Serializable$get(\"expression\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"expression\", value);\n}}, fileFormat:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"fileFormat\") ? this.Serializable$get(\"fileFormat\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"fileFormat\", value);\n}}, grid:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"grid\") ? this.Serializable$get(\"grid\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"grid\", value);\n}}, visualizationOptions:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"visualizationOptions\") ? this.Serializable$get(\"visualizationOptions\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"visualizationOptions\", value);\n}}, workloadTag:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"workloadTag\") ? this.Serializable$get(\"workloadTag\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"workloadTag\", value);\n}}});\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ComputePixelsRequest, {FileFormat:{configurable:!0, enumerable:!0, get:function() {\n  return module$exports$eeapiclient$ee_api_client.ComputePixelsRequestFileFormatEnum;\n}}});\nmodule$exports$eeapiclient$ee_api_client.ComputeValueRequestParameters = function module$contents$eeapiclient$ee_api_client_ComputeValueRequestParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.ComputeValueRequest = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"expression\", null == parameters.expression ? null : parameters.expression);\n  this.Serializable$set(\"workloadTag\", null == parameters.workloadTag ? null : parameters.workloadTag);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.ComputeValueRequest, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.ComputeValueRequest.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.ComputeValueRequest;\n};\nmodule$exports$eeapiclient$ee_api_client.ComputeValueRequest.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"expression\", \"workloadTag\"], objects:{expression:module$exports$eeapiclient$ee_api_client.Expression}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ComputeValueRequest.prototype, {expression:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"expression\") ? this.Serializable$get(\"expression\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"expression\", value);\n}}, workloadTag:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"workloadTag\") ? this.Serializable$get(\"workloadTag\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"workloadTag\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.ComputeValueResponseParameters = function module$contents$eeapiclient$ee_api_client_ComputeValueResponseParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.ComputeValueResponse = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"result\", null == parameters.result ? null : parameters.result);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.ComputeValueResponse, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.ComputeValueResponse.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.ComputeValueResponse;\n};\nmodule$exports$eeapiclient$ee_api_client.ComputeValueResponse.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"result\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ComputeValueResponse.prototype, {result:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"result\") ? this.Serializable$get(\"result\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"result\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.ConditionParameters = function module$contents$eeapiclient$ee_api_client_ConditionParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.Condition = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"iam\", null == parameters.iam ? null : parameters.iam);\n  this.Serializable$set(\"sys\", null == parameters.sys ? null : parameters.sys);\n  this.Serializable$set(\"svc\", null == parameters.svc ? null : parameters.svc);\n  this.Serializable$set(\"op\", null == parameters.op ? null : parameters.op);\n  this.Serializable$set(\"values\", null == parameters.values ? null : parameters.values);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.Condition, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.Condition.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.Condition;\n};\nmodule$exports$eeapiclient$ee_api_client.Condition.prototype.getPartialClassMetadata = function() {\n  return {enums:{iam:module$exports$eeapiclient$ee_api_client.ConditionIamEnum, op:module$exports$eeapiclient$ee_api_client.ConditionOpEnum, sys:module$exports$eeapiclient$ee_api_client.ConditionSysEnum}, keys:[\"iam\", \"op\", \"svc\", \"sys\", \"values\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.Condition.prototype, {iam:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"iam\") ? this.Serializable$get(\"iam\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"iam\", value);\n}}, op:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"op\") ? this.Serializable$get(\"op\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"op\", value);\n}}, svc:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"svc\") ? this.Serializable$get(\"svc\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"svc\", value);\n}}, sys:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"sys\") ? this.Serializable$get(\"sys\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"sys\", value);\n}}, values:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"values\") ? this.Serializable$get(\"values\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"values\", value);\n}}});\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.Condition, {Iam:{configurable:!0, enumerable:!0, get:function() {\n  return module$exports$eeapiclient$ee_api_client.ConditionIamEnum;\n}}, Op:{configurable:!0, enumerable:!0, get:function() {\n  return module$exports$eeapiclient$ee_api_client.ConditionOpEnum;\n}}, Sys:{configurable:!0, enumerable:!0, get:function() {\n  return module$exports$eeapiclient$ee_api_client.ConditionSysEnum;\n}}});\nmodule$exports$eeapiclient$ee_api_client.CopyAssetRequestParameters = function module$contents$eeapiclient$ee_api_client_CopyAssetRequestParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.CopyAssetRequest = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"destinationName\", null == parameters.destinationName ? null : parameters.destinationName);\n  this.Serializable$set(\"overwrite\", null == parameters.overwrite ? null : parameters.overwrite);\n  this.Serializable$set(\"bandIds\", null == parameters.bandIds ? null : parameters.bandIds);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.CopyAssetRequest, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.CopyAssetRequest.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.CopyAssetRequest;\n};\nmodule$exports$eeapiclient$ee_api_client.CopyAssetRequest.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"bandIds\", \"destinationName\", \"overwrite\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.CopyAssetRequest.prototype, {bandIds:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"bandIds\") ? this.Serializable$get(\"bandIds\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"bandIds\", value);\n}}, destinationName:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"destinationName\") ? this.Serializable$get(\"destinationName\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"destinationName\", value);\n}}, overwrite:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"overwrite\") ? this.Serializable$get(\"overwrite\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"overwrite\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.CounterOptionsParameters = function module$contents$eeapiclient$ee_api_client_CounterOptionsParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.CounterOptions = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"metric\", null == parameters.metric ? null : parameters.metric);\n  this.Serializable$set(\"field\", null == parameters.field ? null : parameters.field);\n  this.Serializable$set(\"customFields\", null == parameters.customFields ? null : parameters.customFields);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.CounterOptions, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.CounterOptions.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.CounterOptions;\n};\nmodule$exports$eeapiclient$ee_api_client.CounterOptions.prototype.getPartialClassMetadata = function() {\n  return {arrays:{customFields:module$exports$eeapiclient$ee_api_client.CustomField}, keys:[\"customFields\", \"field\", \"metric\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.CounterOptions.prototype, {customFields:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"customFields\") ? this.Serializable$get(\"customFields\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"customFields\", value);\n}}, field:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"field\") ? this.Serializable$get(\"field\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"field\", value);\n}}, metric:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"metric\") ? this.Serializable$get(\"metric\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"metric\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.CustomFieldParameters = function module$contents$eeapiclient$ee_api_client_CustomFieldParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.CustomField = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"name\", null == parameters.name ? null : parameters.name);\n  this.Serializable$set(\"value\", null == parameters.value ? null : parameters.value);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.CustomField, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.CustomField.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.CustomField;\n};\nmodule$exports$eeapiclient$ee_api_client.CustomField.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"name\", \"value\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.CustomField.prototype, {name:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"name\") ? this.Serializable$get(\"name\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"name\", value);\n}}, value:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"value\") ? this.Serializable$get(\"value\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"value\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.DataAccessOptionsParameters = function module$contents$eeapiclient$ee_api_client_DataAccessOptionsParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.DataAccessOptions = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"logMode\", null == parameters.logMode ? null : parameters.logMode);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.DataAccessOptions, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.DataAccessOptions.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.DataAccessOptions;\n};\nmodule$exports$eeapiclient$ee_api_client.DataAccessOptions.prototype.getPartialClassMetadata = function() {\n  return {enums:{logMode:module$exports$eeapiclient$ee_api_client.DataAccessOptionsLogModeEnum}, keys:[\"logMode\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.DataAccessOptions.prototype, {logMode:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"logMode\") ? this.Serializable$get(\"logMode\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"logMode\", value);\n}}});\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.DataAccessOptions, {LogMode:{configurable:!0, enumerable:!0, get:function() {\n  return module$exports$eeapiclient$ee_api_client.DataAccessOptionsLogModeEnum;\n}}});\nmodule$exports$eeapiclient$ee_api_client.DictionaryValueParameters = function module$contents$eeapiclient$ee_api_client_DictionaryValueParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.DictionaryValue = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"values\", null == parameters.values ? null : parameters.values);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.DictionaryValue, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.DictionaryValue.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.DictionaryValue;\n};\nmodule$exports$eeapiclient$ee_api_client.DictionaryValue.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"values\"], objectMaps:{values:{ctor:module$exports$eeapiclient$ee_api_client.ValueNode, isPropertyArray:!1, isSerializable:!0, isValueArray:!1}}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.DictionaryValue.prototype, {values:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"values\") ? this.Serializable$get(\"values\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"values\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.DoubleRangeParameters = function module$contents$eeapiclient$ee_api_client_DoubleRangeParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.DoubleRange = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"min\", null == parameters.min ? null : parameters.min);\n  this.Serializable$set(\"max\", null == parameters.max ? null : parameters.max);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.DoubleRange, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.DoubleRange.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.DoubleRange;\n};\nmodule$exports$eeapiclient$ee_api_client.DoubleRange.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"max\", \"min\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.DoubleRange.prototype, {max:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"max\") ? this.Serializable$get(\"max\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"max\", value);\n}}, min:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"min\") ? this.Serializable$get(\"min\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"min\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.DriveDestinationParameters = function module$contents$eeapiclient$ee_api_client_DriveDestinationParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.DriveDestination = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"folder\", null == parameters.folder ? null : parameters.folder);\n  this.Serializable$set(\"filenamePrefix\", null == parameters.filenamePrefix ? null : parameters.filenamePrefix);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.DriveDestination, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.DriveDestination.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.DriveDestination;\n};\nmodule$exports$eeapiclient$ee_api_client.DriveDestination.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"filenamePrefix\", \"folder\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.DriveDestination.prototype, {filenamePrefix:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"filenamePrefix\") ? this.Serializable$get(\"filenamePrefix\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"filenamePrefix\", value);\n}}, folder:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"folder\") ? this.Serializable$get(\"folder\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"folder\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.EarthEngineAssetParameters = function module$contents$eeapiclient$ee_api_client_EarthEngineAssetParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.EarthEngineAsset = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"tilestoreLocation\", null == parameters.tilestoreLocation ? null : parameters.tilestoreLocation);\n  this.Serializable$set(\"cloudStorageLocation\", null == parameters.cloudStorageLocation ? null : parameters.cloudStorageLocation);\n  this.Serializable$set(\"tilestoreEntry\", null == parameters.tilestoreEntry ? null : parameters.tilestoreEntry);\n  this.Serializable$set(\"gcsLocation\", null == parameters.gcsLocation ? null : parameters.gcsLocation);\n  this.Serializable$set(\"featureViewAssetLocation\", null == parameters.featureViewAssetLocation ? null : parameters.featureViewAssetLocation);\n  this.Serializable$set(\"tableLocation\", null == parameters.tableLocation ? null : parameters.tableLocation);\n  this.Serializable$set(\"type\", null == parameters.type ? null : parameters.type);\n  this.Serializable$set(\"name\", null == parameters.name ? null : parameters.name);\n  this.Serializable$set(\"id\", null == parameters.id ? null : parameters.id);\n  this.Serializable$set(\"updateTime\", null == parameters.updateTime ? null : parameters.updateTime);\n  this.Serializable$set(\"title\", null == parameters.title ? null : parameters.title);\n  this.Serializable$set(\"description\", null == parameters.description ? null : parameters.description);\n  this.Serializable$set(\"properties\", null == parameters.properties ? null : parameters.properties);\n  this.Serializable$set(\"startTime\", null == parameters.startTime ? null : parameters.startTime);\n  this.Serializable$set(\"endTime\", null == parameters.endTime ? null : parameters.endTime);\n  this.Serializable$set(\"geometry\", null == parameters.geometry ? null : parameters.geometry);\n  this.Serializable$set(\"bands\", null == parameters.bands ? null : parameters.bands);\n  this.Serializable$set(\"sizeBytes\", null == parameters.sizeBytes ? null : parameters.sizeBytes);\n  this.Serializable$set(\"featureCount\", null == parameters.featureCount ? null : parameters.featureCount);\n  this.Serializable$set(\"quota\", null == parameters.quota ? null : parameters.quota);\n  this.Serializable$set(\"expression\", null == parameters.expression ? null : parameters.expression);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.EarthEngineAsset, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.EarthEngineAsset.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.EarthEngineAsset;\n};\nmodule$exports$eeapiclient$ee_api_client.EarthEngineAsset.prototype.getPartialClassMetadata = function() {\n  return {arrays:{bands:module$exports$eeapiclient$ee_api_client.ImageBand}, enums:{type:module$exports$eeapiclient$ee_api_client.EarthEngineAssetTypeEnum}, keys:\"bands cloudStorageLocation description endTime expression featureCount featureViewAssetLocation gcsLocation geometry id name properties quota sizeBytes startTime tableLocation tilestoreEntry tilestoreLocation title type updateTime\".split(\" \"), objectMaps:{geometry:{ctor:null, \n  isPropertyArray:!1, isSerializable:!1, isValueArray:!1}, properties:{ctor:null, isPropertyArray:!1, isSerializable:!1, isValueArray:!1}}, objects:{cloudStorageLocation:module$exports$eeapiclient$ee_api_client.CloudStorageLocation, expression:module$exports$eeapiclient$ee_api_client.Expression, featureViewAssetLocation:module$exports$eeapiclient$ee_api_client.FeatureViewLocation, gcsLocation:module$exports$eeapiclient$ee_api_client.GcsLocation, \n  quota:module$exports$eeapiclient$ee_api_client.FolderQuota, tableLocation:module$exports$eeapiclient$ee_api_client.TableLocation, tilestoreEntry:module$exports$eeapiclient$ee_api_client.TilestoreEntry, tilestoreLocation:module$exports$eeapiclient$ee_api_client.TilestoreLocation}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.EarthEngineAsset.prototype, {bands:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"bands\") ? this.Serializable$get(\"bands\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"bands\", value);\n}}, cloudStorageLocation:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"cloudStorageLocation\") ? this.Serializable$get(\"cloudStorageLocation\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"cloudStorageLocation\", value);\n}}, description:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"description\") ? this.Serializable$get(\"description\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"description\", value);\n}}, endTime:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"endTime\") ? this.Serializable$get(\"endTime\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"endTime\", value);\n}}, expression:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"expression\") ? this.Serializable$get(\"expression\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"expression\", value);\n}}, featureCount:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"featureCount\") ? this.Serializable$get(\"featureCount\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"featureCount\", value);\n}}, featureViewAssetLocation:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"featureViewAssetLocation\") ? this.Serializable$get(\"featureViewAssetLocation\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"featureViewAssetLocation\", value);\n}}, gcsLocation:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"gcsLocation\") ? this.Serializable$get(\"gcsLocation\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"gcsLocation\", value);\n}}, geometry:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"geometry\") ? this.Serializable$get(\"geometry\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"geometry\", value);\n}}, id:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"id\") ? this.Serializable$get(\"id\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"id\", value);\n}}, name:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"name\") ? this.Serializable$get(\"name\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"name\", value);\n}}, properties:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"properties\") ? this.Serializable$get(\"properties\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"properties\", value);\n}}, quota:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"quota\") ? this.Serializable$get(\"quota\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"quota\", value);\n}}, sizeBytes:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"sizeBytes\") ? this.Serializable$get(\"sizeBytes\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"sizeBytes\", value);\n}}, startTime:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"startTime\") ? this.Serializable$get(\"startTime\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"startTime\", value);\n}}, tableLocation:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"tableLocation\") ? this.Serializable$get(\"tableLocation\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"tableLocation\", value);\n}}, tilestoreEntry:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"tilestoreEntry\") ? this.Serializable$get(\"tilestoreEntry\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"tilestoreEntry\", value);\n}}, tilestoreLocation:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"tilestoreLocation\") ? this.Serializable$get(\"tilestoreLocation\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"tilestoreLocation\", value);\n}}, title:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"title\") ? this.Serializable$get(\"title\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"title\", value);\n}}, type:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"type\") ? this.Serializable$get(\"type\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"type\", value);\n}}, updateTime:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"updateTime\") ? this.Serializable$get(\"updateTime\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"updateTime\", value);\n}}});\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.EarthEngineAsset, {Type:{configurable:!0, enumerable:!0, get:function() {\n  return module$exports$eeapiclient$ee_api_client.EarthEngineAssetTypeEnum;\n}}});\nmodule$exports$eeapiclient$ee_api_client.EarthEngineDestinationParameters = function module$contents$eeapiclient$ee_api_client_EarthEngineDestinationParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.EarthEngineDestination = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"name\", null == parameters.name ? null : parameters.name);\n  this.Serializable$set(\"overwrite\", null == parameters.overwrite ? null : parameters.overwrite);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.EarthEngineDestination, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.EarthEngineDestination.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.EarthEngineDestination;\n};\nmodule$exports$eeapiclient$ee_api_client.EarthEngineDestination.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"name\", \"overwrite\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.EarthEngineDestination.prototype, {name:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"name\") ? this.Serializable$get(\"name\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"name\", value);\n}}, overwrite:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"overwrite\") ? this.Serializable$get(\"overwrite\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"overwrite\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.EarthEngineMapParameters = function module$contents$eeapiclient$ee_api_client_EarthEngineMapParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.EarthEngineMap = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"name\", null == parameters.name ? null : parameters.name);\n  this.Serializable$set(\"expression\", null == parameters.expression ? null : parameters.expression);\n  this.Serializable$set(\"fileFormat\", null == parameters.fileFormat ? null : parameters.fileFormat);\n  this.Serializable$set(\"bandIds\", null == parameters.bandIds ? null : parameters.bandIds);\n  this.Serializable$set(\"visualizationOptions\", null == parameters.visualizationOptions ? null : parameters.visualizationOptions);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.EarthEngineMap, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.EarthEngineMap.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.EarthEngineMap;\n};\nmodule$exports$eeapiclient$ee_api_client.EarthEngineMap.prototype.getPartialClassMetadata = function() {\n  return {enums:{fileFormat:module$exports$eeapiclient$ee_api_client.EarthEngineMapFileFormatEnum}, keys:[\"bandIds\", \"expression\", \"fileFormat\", \"name\", \"visualizationOptions\"], objects:{expression:module$exports$eeapiclient$ee_api_client.Expression, visualizationOptions:module$exports$eeapiclient$ee_api_client.VisualizationOptions}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.EarthEngineMap.prototype, {bandIds:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"bandIds\") ? this.Serializable$get(\"bandIds\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"bandIds\", value);\n}}, expression:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"expression\") ? this.Serializable$get(\"expression\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"expression\", value);\n}}, fileFormat:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"fileFormat\") ? this.Serializable$get(\"fileFormat\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"fileFormat\", value);\n}}, name:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"name\") ? this.Serializable$get(\"name\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"name\", value);\n}}, visualizationOptions:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"visualizationOptions\") ? this.Serializable$get(\"visualizationOptions\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"visualizationOptions\", value);\n}}});\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.EarthEngineMap, {FileFormat:{configurable:!0, enumerable:!0, get:function() {\n  return module$exports$eeapiclient$ee_api_client.EarthEngineMapFileFormatEnum;\n}}});\nmodule$exports$eeapiclient$ee_api_client.EmptyParameters = function module$contents$eeapiclient$ee_api_client_EmptyParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.Empty = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.Empty, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.Empty.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.Empty;\n};\nmodule$exports$eeapiclient$ee_api_client.Empty.prototype.getPartialClassMetadata = function() {\n  return {keys:[]};\n};\nmodule$exports$eeapiclient$ee_api_client.ExportClassifierRequestParameters = function module$contents$eeapiclient$ee_api_client_ExportClassifierRequestParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.ExportClassifierRequest = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"expression\", null == parameters.expression ? null : parameters.expression);\n  this.Serializable$set(\"description\", null == parameters.description ? null : parameters.description);\n  this.Serializable$set(\"requestId\", null == parameters.requestId ? null : parameters.requestId);\n  this.Serializable$set(\"assetExportOptions\", null == parameters.assetExportOptions ? null : parameters.assetExportOptions);\n  this.Serializable$set(\"maxWorkers\", null == parameters.maxWorkers ? null : parameters.maxWorkers);\n  this.Serializable$set(\"maxWorkerCount\", null == parameters.maxWorkerCount ? null : parameters.maxWorkerCount);\n  this.Serializable$set(\"workloadTag\", null == parameters.workloadTag ? null : parameters.workloadTag);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.ExportClassifierRequest, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.ExportClassifierRequest.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.ExportClassifierRequest;\n};\nmodule$exports$eeapiclient$ee_api_client.ExportClassifierRequest.prototype.getPartialClassMetadata = function() {\n  return {keys:\"assetExportOptions description expression maxWorkerCount maxWorkers requestId workloadTag\".split(\" \"), objects:{assetExportOptions:module$exports$eeapiclient$ee_api_client.ClassifierAssetExportOptions, expression:module$exports$eeapiclient$ee_api_client.Expression}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ExportClassifierRequest.prototype, {assetExportOptions:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"assetExportOptions\") ? this.Serializable$get(\"assetExportOptions\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"assetExportOptions\", value);\n}}, description:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"description\") ? this.Serializable$get(\"description\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"description\", value);\n}}, expression:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"expression\") ? this.Serializable$get(\"expression\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"expression\", value);\n}}, maxWorkerCount:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"maxWorkerCount\") ? this.Serializable$get(\"maxWorkerCount\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"maxWorkerCount\", value);\n}}, maxWorkers:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"maxWorkers\") ? this.Serializable$get(\"maxWorkers\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"maxWorkers\", value);\n}}, requestId:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"requestId\") ? this.Serializable$get(\"requestId\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"requestId\", value);\n}}, workloadTag:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"workloadTag\") ? this.Serializable$get(\"workloadTag\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"workloadTag\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.ExportImageRequestParameters = function module$contents$eeapiclient$ee_api_client_ExportImageRequestParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.ExportImageRequest = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"fileExportOptions\", null == parameters.fileExportOptions ? null : parameters.fileExportOptions);\n  this.Serializable$set(\"assetExportOptions\", null == parameters.assetExportOptions ? null : parameters.assetExportOptions);\n  this.Serializable$set(\"expression\", null == parameters.expression ? null : parameters.expression);\n  this.Serializable$set(\"description\", null == parameters.description ? null : parameters.description);\n  this.Serializable$set(\"maxPixels\", null == parameters.maxPixels ? null : parameters.maxPixels);\n  this.Serializable$set(\"grid\", null == parameters.grid ? null : parameters.grid);\n  this.Serializable$set(\"requestId\", null == parameters.requestId ? null : parameters.requestId);\n  this.Serializable$set(\"maxWorkers\", null == parameters.maxWorkers ? null : parameters.maxWorkers);\n  this.Serializable$set(\"maxWorkerCount\", null == parameters.maxWorkerCount ? null : parameters.maxWorkerCount);\n  this.Serializable$set(\"workloadTag\", null == parameters.workloadTag ? null : parameters.workloadTag);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.ExportImageRequest, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.ExportImageRequest.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.ExportImageRequest;\n};\nmodule$exports$eeapiclient$ee_api_client.ExportImageRequest.prototype.getPartialClassMetadata = function() {\n  return {keys:\"assetExportOptions description expression fileExportOptions grid maxPixels maxWorkerCount maxWorkers requestId workloadTag\".split(\" \"), objects:{assetExportOptions:module$exports$eeapiclient$ee_api_client.ImageAssetExportOptions, expression:module$exports$eeapiclient$ee_api_client.Expression, fileExportOptions:module$exports$eeapiclient$ee_api_client.ImageFileExportOptions, grid:module$exports$eeapiclient$ee_api_client.PixelGrid}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ExportImageRequest.prototype, {assetExportOptions:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"assetExportOptions\") ? this.Serializable$get(\"assetExportOptions\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"assetExportOptions\", value);\n}}, description:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"description\") ? this.Serializable$get(\"description\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"description\", value);\n}}, expression:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"expression\") ? this.Serializable$get(\"expression\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"expression\", value);\n}}, fileExportOptions:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"fileExportOptions\") ? this.Serializable$get(\"fileExportOptions\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"fileExportOptions\", value);\n}}, grid:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"grid\") ? this.Serializable$get(\"grid\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"grid\", value);\n}}, maxPixels:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"maxPixels\") ? this.Serializable$get(\"maxPixels\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"maxPixels\", value);\n}}, maxWorkerCount:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"maxWorkerCount\") ? this.Serializable$get(\"maxWorkerCount\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"maxWorkerCount\", value);\n}}, maxWorkers:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"maxWorkers\") ? this.Serializable$get(\"maxWorkers\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"maxWorkers\", value);\n}}, requestId:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"requestId\") ? this.Serializable$get(\"requestId\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"requestId\", value);\n}}, workloadTag:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"workloadTag\") ? this.Serializable$get(\"workloadTag\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"workloadTag\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.ExportMapRequestParameters = function module$contents$eeapiclient$ee_api_client_ExportMapRequestParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.ExportMapRequest = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"expression\", null == parameters.expression ? null : parameters.expression);\n  this.Serializable$set(\"description\", null == parameters.description ? null : parameters.description);\n  this.Serializable$set(\"tileOptions\", null == parameters.tileOptions ? null : parameters.tileOptions);\n  this.Serializable$set(\"tileExportOptions\", null == parameters.tileExportOptions ? null : parameters.tileExportOptions);\n  this.Serializable$set(\"requestId\", null == parameters.requestId ? null : parameters.requestId);\n  this.Serializable$set(\"maxWorkers\", null == parameters.maxWorkers ? null : parameters.maxWorkers);\n  this.Serializable$set(\"maxWorkerCount\", null == parameters.maxWorkerCount ? null : parameters.maxWorkerCount);\n  this.Serializable$set(\"workloadTag\", null == parameters.workloadTag ? null : parameters.workloadTag);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.ExportMapRequest, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.ExportMapRequest.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.ExportMapRequest;\n};\nmodule$exports$eeapiclient$ee_api_client.ExportMapRequest.prototype.getPartialClassMetadata = function() {\n  return {keys:\"description expression maxWorkerCount maxWorkers requestId tileExportOptions tileOptions workloadTag\".split(\" \"), objects:{expression:module$exports$eeapiclient$ee_api_client.Expression, tileExportOptions:module$exports$eeapiclient$ee_api_client.ImageFileExportOptions, tileOptions:module$exports$eeapiclient$ee_api_client.TileOptions}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ExportMapRequest.prototype, {description:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"description\") ? this.Serializable$get(\"description\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"description\", value);\n}}, expression:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"expression\") ? this.Serializable$get(\"expression\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"expression\", value);\n}}, maxWorkerCount:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"maxWorkerCount\") ? this.Serializable$get(\"maxWorkerCount\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"maxWorkerCount\", value);\n}}, maxWorkers:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"maxWorkers\") ? this.Serializable$get(\"maxWorkers\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"maxWorkers\", value);\n}}, requestId:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"requestId\") ? this.Serializable$get(\"requestId\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"requestId\", value);\n}}, tileExportOptions:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"tileExportOptions\") ? this.Serializable$get(\"tileExportOptions\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"tileExportOptions\", value);\n}}, tileOptions:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"tileOptions\") ? this.Serializable$get(\"tileOptions\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"tileOptions\", value);\n}}, workloadTag:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"workloadTag\") ? this.Serializable$get(\"workloadTag\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"workloadTag\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.ExportTableRequestParameters = function module$contents$eeapiclient$ee_api_client_ExportTableRequestParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.ExportTableRequest = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"fileExportOptions\", null == parameters.fileExportOptions ? null : parameters.fileExportOptions);\n  this.Serializable$set(\"assetExportOptions\", null == parameters.assetExportOptions ? null : parameters.assetExportOptions);\n  this.Serializable$set(\"featureViewExportOptions\", null == parameters.featureViewExportOptions ? null : parameters.featureViewExportOptions);\n  this.Serializable$set(\"bigqueryExportOptions\", null == parameters.bigqueryExportOptions ? null : parameters.bigqueryExportOptions);\n  this.Serializable$set(\"expression\", null == parameters.expression ? null : parameters.expression);\n  this.Serializable$set(\"description\", null == parameters.description ? null : parameters.description);\n  this.Serializable$set(\"selectors\", null == parameters.selectors ? null : parameters.selectors);\n  this.Serializable$set(\"requestId\", null == parameters.requestId ? null : parameters.requestId);\n  this.Serializable$set(\"maxErrorMeters\", null == parameters.maxErrorMeters ? null : parameters.maxErrorMeters);\n  this.Serializable$set(\"maxWorkers\", null == parameters.maxWorkers ? null : parameters.maxWorkers);\n  this.Serializable$set(\"maxWorkerCount\", null == parameters.maxWorkerCount ? null : parameters.maxWorkerCount);\n  this.Serializable$set(\"maxVertices\", null == parameters.maxVertices ? null : parameters.maxVertices);\n  this.Serializable$set(\"workloadTag\", null == parameters.workloadTag ? null : parameters.workloadTag);\n  this.Serializable$set(\"policy\", null == parameters.policy ? null : parameters.policy);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.ExportTableRequest, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.ExportTableRequest.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.ExportTableRequest;\n};\nmodule$exports$eeapiclient$ee_api_client.ExportTableRequest.prototype.getPartialClassMetadata = function() {\n  return {keys:\"assetExportOptions bigqueryExportOptions description expression featureViewExportOptions fileExportOptions maxErrorMeters maxVertices maxWorkerCount maxWorkers policy requestId selectors workloadTag\".split(\" \"), objects:{assetExportOptions:module$exports$eeapiclient$ee_api_client.TableAssetExportOptions, bigqueryExportOptions:module$exports$eeapiclient$ee_api_client.BigQueryExportOptions, expression:module$exports$eeapiclient$ee_api_client.Expression, \n  featureViewExportOptions:module$exports$eeapiclient$ee_api_client.FeatureViewAssetExportOptions, fileExportOptions:module$exports$eeapiclient$ee_api_client.TableFileExportOptions, policy:module$exports$eeapiclient$ee_api_client.Policy}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ExportTableRequest.prototype, {assetExportOptions:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"assetExportOptions\") ? this.Serializable$get(\"assetExportOptions\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"assetExportOptions\", value);\n}}, bigqueryExportOptions:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"bigqueryExportOptions\") ? this.Serializable$get(\"bigqueryExportOptions\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"bigqueryExportOptions\", value);\n}}, description:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"description\") ? this.Serializable$get(\"description\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"description\", value);\n}}, expression:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"expression\") ? this.Serializable$get(\"expression\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"expression\", value);\n}}, featureViewExportOptions:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"featureViewExportOptions\") ? this.Serializable$get(\"featureViewExportOptions\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"featureViewExportOptions\", value);\n}}, fileExportOptions:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"fileExportOptions\") ? this.Serializable$get(\"fileExportOptions\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"fileExportOptions\", value);\n}}, maxErrorMeters:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"maxErrorMeters\") ? this.Serializable$get(\"maxErrorMeters\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"maxErrorMeters\", value);\n}}, maxVertices:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"maxVertices\") ? this.Serializable$get(\"maxVertices\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"maxVertices\", value);\n}}, maxWorkerCount:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"maxWorkerCount\") ? this.Serializable$get(\"maxWorkerCount\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"maxWorkerCount\", value);\n}}, maxWorkers:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"maxWorkers\") ? this.Serializable$get(\"maxWorkers\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"maxWorkers\", value);\n}}, policy:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"policy\") ? this.Serializable$get(\"policy\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"policy\", value);\n}}, requestId:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"requestId\") ? this.Serializable$get(\"requestId\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"requestId\", value);\n}}, selectors:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"selectors\") ? this.Serializable$get(\"selectors\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"selectors\", value);\n}}, workloadTag:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"workloadTag\") ? this.Serializable$get(\"workloadTag\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"workloadTag\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.ExportVideoMapRequestParameters = function module$contents$eeapiclient$ee_api_client_ExportVideoMapRequestParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.ExportVideoMapRequest = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"expression\", null == parameters.expression ? null : parameters.expression);\n  this.Serializable$set(\"description\", null == parameters.description ? null : parameters.description);\n  this.Serializable$set(\"videoOptions\", null == parameters.videoOptions ? null : parameters.videoOptions);\n  this.Serializable$set(\"tileOptions\", null == parameters.tileOptions ? null : parameters.tileOptions);\n  this.Serializable$set(\"tileExportOptions\", null == parameters.tileExportOptions ? null : parameters.tileExportOptions);\n  this.Serializable$set(\"requestId\", null == parameters.requestId ? null : parameters.requestId);\n  this.Serializable$set(\"version\", null == parameters.version ? null : parameters.version);\n  this.Serializable$set(\"maxWorkers\", null == parameters.maxWorkers ? null : parameters.maxWorkers);\n  this.Serializable$set(\"maxWorkerCount\", null == parameters.maxWorkerCount ? null : parameters.maxWorkerCount);\n  this.Serializable$set(\"workloadTag\", null == parameters.workloadTag ? null : parameters.workloadTag);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.ExportVideoMapRequest, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.ExportVideoMapRequest.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.ExportVideoMapRequest;\n};\nmodule$exports$eeapiclient$ee_api_client.ExportVideoMapRequest.prototype.getPartialClassMetadata = function() {\n  return {enums:{version:module$exports$eeapiclient$ee_api_client.ExportVideoMapRequestVersionEnum}, keys:\"description expression maxWorkerCount maxWorkers requestId tileExportOptions tileOptions version videoOptions workloadTag\".split(\" \"), objects:{expression:module$exports$eeapiclient$ee_api_client.Expression, tileExportOptions:module$exports$eeapiclient$ee_api_client.VideoFileExportOptions, tileOptions:module$exports$eeapiclient$ee_api_client.TileOptions, \n  videoOptions:module$exports$eeapiclient$ee_api_client.VideoOptions}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ExportVideoMapRequest.prototype, {description:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"description\") ? this.Serializable$get(\"description\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"description\", value);\n}}, expression:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"expression\") ? this.Serializable$get(\"expression\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"expression\", value);\n}}, maxWorkerCount:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"maxWorkerCount\") ? this.Serializable$get(\"maxWorkerCount\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"maxWorkerCount\", value);\n}}, maxWorkers:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"maxWorkers\") ? this.Serializable$get(\"maxWorkers\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"maxWorkers\", value);\n}}, requestId:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"requestId\") ? this.Serializable$get(\"requestId\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"requestId\", value);\n}}, tileExportOptions:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"tileExportOptions\") ? this.Serializable$get(\"tileExportOptions\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"tileExportOptions\", value);\n}}, tileOptions:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"tileOptions\") ? this.Serializable$get(\"tileOptions\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"tileOptions\", value);\n}}, version:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"version\") ? this.Serializable$get(\"version\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"version\", value);\n}}, videoOptions:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"videoOptions\") ? this.Serializable$get(\"videoOptions\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"videoOptions\", value);\n}}, workloadTag:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"workloadTag\") ? this.Serializable$get(\"workloadTag\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"workloadTag\", value);\n}}});\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ExportVideoMapRequest, {Version:{configurable:!0, enumerable:!0, get:function() {\n  return module$exports$eeapiclient$ee_api_client.ExportVideoMapRequestVersionEnum;\n}}});\nmodule$exports$eeapiclient$ee_api_client.ExportVideoRequestParameters = function module$contents$eeapiclient$ee_api_client_ExportVideoRequestParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.ExportVideoRequest = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"expression\", null == parameters.expression ? null : parameters.expression);\n  this.Serializable$set(\"description\", null == parameters.description ? null : parameters.description);\n  this.Serializable$set(\"videoOptions\", null == parameters.videoOptions ? null : parameters.videoOptions);\n  this.Serializable$set(\"fileExportOptions\", null == parameters.fileExportOptions ? null : parameters.fileExportOptions);\n  this.Serializable$set(\"requestId\", null == parameters.requestId ? null : parameters.requestId);\n  this.Serializable$set(\"maxWorkers\", null == parameters.maxWorkers ? null : parameters.maxWorkers);\n  this.Serializable$set(\"maxWorkerCount\", null == parameters.maxWorkerCount ? null : parameters.maxWorkerCount);\n  this.Serializable$set(\"workloadTag\", null == parameters.workloadTag ? null : parameters.workloadTag);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.ExportVideoRequest, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.ExportVideoRequest.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.ExportVideoRequest;\n};\nmodule$exports$eeapiclient$ee_api_client.ExportVideoRequest.prototype.getPartialClassMetadata = function() {\n  return {keys:\"description expression fileExportOptions maxWorkerCount maxWorkers requestId videoOptions workloadTag\".split(\" \"), objects:{expression:module$exports$eeapiclient$ee_api_client.Expression, fileExportOptions:module$exports$eeapiclient$ee_api_client.VideoFileExportOptions, videoOptions:module$exports$eeapiclient$ee_api_client.VideoOptions}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ExportVideoRequest.prototype, {description:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"description\") ? this.Serializable$get(\"description\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"description\", value);\n}}, expression:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"expression\") ? this.Serializable$get(\"expression\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"expression\", value);\n}}, fileExportOptions:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"fileExportOptions\") ? this.Serializable$get(\"fileExportOptions\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"fileExportOptions\", value);\n}}, maxWorkerCount:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"maxWorkerCount\") ? this.Serializable$get(\"maxWorkerCount\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"maxWorkerCount\", value);\n}}, maxWorkers:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"maxWorkers\") ? this.Serializable$get(\"maxWorkers\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"maxWorkers\", value);\n}}, requestId:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"requestId\") ? this.Serializable$get(\"requestId\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"requestId\", value);\n}}, videoOptions:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"videoOptions\") ? this.Serializable$get(\"videoOptions\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"videoOptions\", value);\n}}, workloadTag:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"workloadTag\") ? this.Serializable$get(\"workloadTag\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"workloadTag\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.ExprParameters = function module$contents$eeapiclient$ee_api_client_ExprParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.Expr = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"expression\", null == parameters.expression ? null : parameters.expression);\n  this.Serializable$set(\"title\", null == parameters.title ? null : parameters.title);\n  this.Serializable$set(\"description\", null == parameters.description ? null : parameters.description);\n  this.Serializable$set(\"location\", null == parameters.location ? null : parameters.location);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.Expr, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.Expr.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.Expr;\n};\nmodule$exports$eeapiclient$ee_api_client.Expr.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"description\", \"expression\", \"location\", \"title\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.Expr.prototype, {description:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"description\") ? this.Serializable$get(\"description\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"description\", value);\n}}, expression:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"expression\") ? this.Serializable$get(\"expression\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"expression\", value);\n}}, location:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"location\") ? this.Serializable$get(\"location\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"location\", value);\n}}, title:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"title\") ? this.Serializable$get(\"title\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"title\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.ExpressionParameters = function module$contents$eeapiclient$ee_api_client_ExpressionParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.Expression = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"values\", null == parameters.values ? null : parameters.values);\n  this.Serializable$set(\"result\", null == parameters.result ? null : parameters.result);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.Expression, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.Expression.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.Expression;\n};\nmodule$exports$eeapiclient$ee_api_client.Expression.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"result\", \"values\"], objectMaps:{values:{ctor:module$exports$eeapiclient$ee_api_client.ValueNode, isPropertyArray:!1, isSerializable:!0, isValueArray:!1}}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.Expression.prototype, {result:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"result\") ? this.Serializable$get(\"result\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"result\", value);\n}}, values:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"values\") ? this.Serializable$get(\"values\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"values\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.FeatureParameters = function module$contents$eeapiclient$ee_api_client_FeatureParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.Feature = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"type\", null == parameters.type ? null : parameters.type);\n  this.Serializable$set(\"geometry\", null == parameters.geometry ? null : parameters.geometry);\n  this.Serializable$set(\"properties\", null == parameters.properties ? null : parameters.properties);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.Feature, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.Feature.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.Feature;\n};\nmodule$exports$eeapiclient$ee_api_client.Feature.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"geometry\", \"properties\", \"type\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.Feature.prototype, {geometry:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"geometry\") ? this.Serializable$get(\"geometry\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"geometry\", value);\n}}, properties:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"properties\") ? this.Serializable$get(\"properties\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"properties\", value);\n}}, type:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"type\") ? this.Serializable$get(\"type\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"type\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.FeatureViewParameters = function module$contents$eeapiclient$ee_api_client_FeatureViewParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.FeatureView = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"asset\", null == parameters.asset ? null : parameters.asset);\n  this.Serializable$set(\"mapName\", null == parameters.mapName ? null : parameters.mapName);\n  this.Serializable$set(\"name\", null == parameters.name ? null : parameters.name);\n  this.Serializable$set(\"visualizationExpression\", null == parameters.visualizationExpression ? null : parameters.visualizationExpression);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.FeatureView, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.FeatureView.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.FeatureView;\n};\nmodule$exports$eeapiclient$ee_api_client.FeatureView.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"asset\", \"mapName\", \"name\", \"visualizationExpression\"], objects:{visualizationExpression:module$exports$eeapiclient$ee_api_client.Expression}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.FeatureView.prototype, {asset:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"asset\") ? this.Serializable$get(\"asset\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"asset\", value);\n}}, mapName:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"mapName\") ? this.Serializable$get(\"mapName\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"mapName\", value);\n}}, name:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"name\") ? this.Serializable$get(\"name\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"name\", value);\n}}, visualizationExpression:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"visualizationExpression\") ? this.Serializable$get(\"visualizationExpression\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"visualizationExpression\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.FeatureViewAssetExportOptionsParameters = function module$contents$eeapiclient$ee_api_client_FeatureViewAssetExportOptionsParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.FeatureViewAssetExportOptions = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"featureViewDestination\", null == parameters.featureViewDestination ? null : parameters.featureViewDestination);\n  this.Serializable$set(\"ingestionTimeParameters\", null == parameters.ingestionTimeParameters ? null : parameters.ingestionTimeParameters);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.FeatureViewAssetExportOptions, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.FeatureViewAssetExportOptions.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.FeatureViewAssetExportOptions;\n};\nmodule$exports$eeapiclient$ee_api_client.FeatureViewAssetExportOptions.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"featureViewDestination\", \"ingestionTimeParameters\"], objects:{featureViewDestination:module$exports$eeapiclient$ee_api_client.FeatureViewDestination, ingestionTimeParameters:module$exports$eeapiclient$ee_api_client.FeatureViewIngestionTimeParameters}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.FeatureViewAssetExportOptions.prototype, {featureViewDestination:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"featureViewDestination\") ? this.Serializable$get(\"featureViewDestination\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"featureViewDestination\", value);\n}}, ingestionTimeParameters:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"ingestionTimeParameters\") ? this.Serializable$get(\"ingestionTimeParameters\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"ingestionTimeParameters\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.FeatureViewAttributeParameters = function module$contents$eeapiclient$ee_api_client_FeatureViewAttributeParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.FeatureViewAttribute = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"name\", null == parameters.name ? null : parameters.name);\n  this.Serializable$set(\"type\", null == parameters.type ? null : parameters.type);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.FeatureViewAttribute, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.FeatureViewAttribute.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.FeatureViewAttribute;\n};\nmodule$exports$eeapiclient$ee_api_client.FeatureViewAttribute.prototype.getPartialClassMetadata = function() {\n  return {enums:{type:module$exports$eeapiclient$ee_api_client.FeatureViewAttributeTypeEnum}, keys:[\"name\", \"type\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.FeatureViewAttribute.prototype, {name:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"name\") ? this.Serializable$get(\"name\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"name\", value);\n}}, type:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"type\") ? this.Serializable$get(\"type\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"type\", value);\n}}});\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.FeatureViewAttribute, {Type:{configurable:!0, enumerable:!0, get:function() {\n  return module$exports$eeapiclient$ee_api_client.FeatureViewAttributeTypeEnum;\n}}});\nmodule$exports$eeapiclient$ee_api_client.FeatureViewDestinationParameters = function module$contents$eeapiclient$ee_api_client_FeatureViewDestinationParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.FeatureViewDestination = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"name\", null == parameters.name ? null : parameters.name);\n  this.Serializable$set(\"assetVersion\", null == parameters.assetVersion ? null : parameters.assetVersion);\n  this.Serializable$set(\"permissions\", null == parameters.permissions ? null : parameters.permissions);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.FeatureViewDestination, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.FeatureViewDestination.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.FeatureViewDestination;\n};\nmodule$exports$eeapiclient$ee_api_client.FeatureViewDestination.prototype.getPartialClassMetadata = function() {\n  return {enums:{permissions:module$exports$eeapiclient$ee_api_client.FeatureViewDestinationPermissionsEnum}, keys:[\"assetVersion\", \"name\", \"permissions\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.FeatureViewDestination.prototype, {assetVersion:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"assetVersion\") ? this.Serializable$get(\"assetVersion\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"assetVersion\", value);\n}}, name:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"name\") ? this.Serializable$get(\"name\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"name\", value);\n}}, permissions:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"permissions\") ? this.Serializable$get(\"permissions\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"permissions\", value);\n}}});\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.FeatureViewDestination, {Permissions:{configurable:!0, enumerable:!0, get:function() {\n  return module$exports$eeapiclient$ee_api_client.FeatureViewDestinationPermissionsEnum;\n}}});\nmodule$exports$eeapiclient$ee_api_client.FeatureViewIngestionTimeParametersParameters = function module$contents$eeapiclient$ee_api_client_FeatureViewIngestionTimeParametersParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.FeatureViewIngestionTimeParameters = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"thinningOptions\", null == parameters.thinningOptions ? null : parameters.thinningOptions);\n  this.Serializable$set(\"rankingOptions\", null == parameters.rankingOptions ? null : parameters.rankingOptions);\n  this.Serializable$set(\"prerenderingOptions\", null == parameters.prerenderingOptions ? null : parameters.prerenderingOptions);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.FeatureViewIngestionTimeParameters, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.FeatureViewIngestionTimeParameters.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.FeatureViewIngestionTimeParameters;\n};\nmodule$exports$eeapiclient$ee_api_client.FeatureViewIngestionTimeParameters.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"prerenderingOptions\", \"rankingOptions\", \"thinningOptions\"], objects:{prerenderingOptions:module$exports$eeapiclient$ee_api_client.PrerenderingOptions, rankingOptions:module$exports$eeapiclient$ee_api_client.RankingOptions, thinningOptions:module$exports$eeapiclient$ee_api_client.ThinningOptions}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.FeatureViewIngestionTimeParameters.prototype, {prerenderingOptions:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"prerenderingOptions\") ? this.Serializable$get(\"prerenderingOptions\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"prerenderingOptions\", value);\n}}, rankingOptions:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"rankingOptions\") ? this.Serializable$get(\"rankingOptions\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"rankingOptions\", value);\n}}, thinningOptions:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"thinningOptions\") ? this.Serializable$get(\"thinningOptions\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"thinningOptions\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.FeatureViewLocationParameters = function module$contents$eeapiclient$ee_api_client_FeatureViewLocationParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.FeatureViewLocation = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"location\", null == parameters.location ? null : parameters.location);\n  this.Serializable$set(\"assetOptions\", null == parameters.assetOptions ? null : parameters.assetOptions);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.FeatureViewLocation, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.FeatureViewLocation.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.FeatureViewLocation;\n};\nmodule$exports$eeapiclient$ee_api_client.FeatureViewLocation.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"assetOptions\", \"location\"], objects:{assetOptions:module$exports$eeapiclient$ee_api_client.FeatureViewOptions}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.FeatureViewLocation.prototype, {assetOptions:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"assetOptions\") ? this.Serializable$get(\"assetOptions\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"assetOptions\", value);\n}}, location:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"location\") ? this.Serializable$get(\"location\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"location\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.FeatureViewOptionsParameters = function module$contents$eeapiclient$ee_api_client_FeatureViewOptionsParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.FeatureViewOptions = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"featureViewAttributes\", null == parameters.featureViewAttributes ? null : parameters.featureViewAttributes);\n  this.Serializable$set(\"ingestionTimeParameters\", null == parameters.ingestionTimeParameters ? null : parameters.ingestionTimeParameters);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.FeatureViewOptions, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.FeatureViewOptions.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.FeatureViewOptions;\n};\nmodule$exports$eeapiclient$ee_api_client.FeatureViewOptions.prototype.getPartialClassMetadata = function() {\n  return {arrays:{featureViewAttributes:module$exports$eeapiclient$ee_api_client.FeatureViewAttribute}, keys:[\"featureViewAttributes\", \"ingestionTimeParameters\"], objects:{ingestionTimeParameters:module$exports$eeapiclient$ee_api_client.FeatureViewIngestionTimeParameters}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.FeatureViewOptions.prototype, {featureViewAttributes:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"featureViewAttributes\") ? this.Serializable$get(\"featureViewAttributes\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"featureViewAttributes\", value);\n}}, ingestionTimeParameters:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"ingestionTimeParameters\") ? this.Serializable$get(\"ingestionTimeParameters\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"ingestionTimeParameters\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.FilmstripThumbnailParameters = function module$contents$eeapiclient$ee_api_client_FilmstripThumbnailParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.FilmstripThumbnail = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"name\", null == parameters.name ? null : parameters.name);\n  this.Serializable$set(\"expression\", null == parameters.expression ? null : parameters.expression);\n  this.Serializable$set(\"orientation\", null == parameters.orientation ? null : parameters.orientation);\n  this.Serializable$set(\"fileFormat\", null == parameters.fileFormat ? null : parameters.fileFormat);\n  this.Serializable$set(\"grid\", null == parameters.grid ? null : parameters.grid);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.FilmstripThumbnail, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.FilmstripThumbnail.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.FilmstripThumbnail;\n};\nmodule$exports$eeapiclient$ee_api_client.FilmstripThumbnail.prototype.getPartialClassMetadata = function() {\n  return {enums:{fileFormat:module$exports$eeapiclient$ee_api_client.FilmstripThumbnailFileFormatEnum, orientation:module$exports$eeapiclient$ee_api_client.FilmstripThumbnailOrientationEnum}, keys:[\"expression\", \"fileFormat\", \"grid\", \"name\", \"orientation\"], objects:{expression:module$exports$eeapiclient$ee_api_client.Expression, grid:module$exports$eeapiclient$ee_api_client.PixelGrid}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.FilmstripThumbnail.prototype, {expression:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"expression\") ? this.Serializable$get(\"expression\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"expression\", value);\n}}, fileFormat:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"fileFormat\") ? this.Serializable$get(\"fileFormat\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"fileFormat\", value);\n}}, grid:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"grid\") ? this.Serializable$get(\"grid\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"grid\", value);\n}}, name:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"name\") ? this.Serializable$get(\"name\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"name\", value);\n}}, orientation:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"orientation\") ? this.Serializable$get(\"orientation\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"orientation\", value);\n}}});\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.FilmstripThumbnail, {FileFormat:{configurable:!0, enumerable:!0, get:function() {\n  return module$exports$eeapiclient$ee_api_client.FilmstripThumbnailFileFormatEnum;\n}}, Orientation:{configurable:!0, enumerable:!0, get:function() {\n  return module$exports$eeapiclient$ee_api_client.FilmstripThumbnailOrientationEnum;\n}}});\nmodule$exports$eeapiclient$ee_api_client.FolderQuotaParameters = function module$contents$eeapiclient$ee_api_client_FolderQuotaParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.FolderQuota = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"sizeBytes\", null == parameters.sizeBytes ? null : parameters.sizeBytes);\n  this.Serializable$set(\"maxSizeBytes\", null == parameters.maxSizeBytes ? null : parameters.maxSizeBytes);\n  this.Serializable$set(\"assetCount\", null == parameters.assetCount ? null : parameters.assetCount);\n  this.Serializable$set(\"maxAssets\", null == parameters.maxAssets ? null : parameters.maxAssets);\n  this.Serializable$set(\"maxAssetCount\", null == parameters.maxAssetCount ? null : parameters.maxAssetCount);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.FolderQuota, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.FolderQuota.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.FolderQuota;\n};\nmodule$exports$eeapiclient$ee_api_client.FolderQuota.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"assetCount\", \"maxAssetCount\", \"maxAssets\", \"maxSizeBytes\", \"sizeBytes\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.FolderQuota.prototype, {assetCount:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"assetCount\") ? this.Serializable$get(\"assetCount\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"assetCount\", value);\n}}, maxAssetCount:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"maxAssetCount\") ? this.Serializable$get(\"maxAssetCount\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"maxAssetCount\", value);\n}}, maxAssets:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"maxAssets\") ? this.Serializable$get(\"maxAssets\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"maxAssets\", value);\n}}, maxSizeBytes:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"maxSizeBytes\") ? this.Serializable$get(\"maxSizeBytes\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"maxSizeBytes\", value);\n}}, sizeBytes:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"sizeBytes\") ? this.Serializable$get(\"sizeBytes\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"sizeBytes\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.FunctionDefinitionParameters = function module$contents$eeapiclient$ee_api_client_FunctionDefinitionParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.FunctionDefinition = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"argumentNames\", null == parameters.argumentNames ? null : parameters.argumentNames);\n  this.Serializable$set(\"body\", null == parameters.body ? null : parameters.body);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.FunctionDefinition, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.FunctionDefinition.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.FunctionDefinition;\n};\nmodule$exports$eeapiclient$ee_api_client.FunctionDefinition.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"argumentNames\", \"body\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.FunctionDefinition.prototype, {argumentNames:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"argumentNames\") ? this.Serializable$get(\"argumentNames\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"argumentNames\", value);\n}}, body:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"body\") ? this.Serializable$get(\"body\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"body\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.FunctionInvocationParameters = function module$contents$eeapiclient$ee_api_client_FunctionInvocationParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.FunctionInvocation = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"functionName\", null == parameters.functionName ? null : parameters.functionName);\n  this.Serializable$set(\"functionReference\", null == parameters.functionReference ? null : parameters.functionReference);\n  this.Serializable$set(\"arguments\", null == parameters.arguments ? null : parameters.arguments);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.FunctionInvocation, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.FunctionInvocation.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.FunctionInvocation;\n};\nmodule$exports$eeapiclient$ee_api_client.FunctionInvocation.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"arguments\", \"functionName\", \"functionReference\"], objectMaps:{arguments:{ctor:module$exports$eeapiclient$ee_api_client.ValueNode, isPropertyArray:!1, isSerializable:!0, isValueArray:!1}}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.FunctionInvocation.prototype, {arguments:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"arguments\") ? this.Serializable$get(\"arguments\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"arguments\", value);\n}}, functionName:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"functionName\") ? this.Serializable$get(\"functionName\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"functionName\", value);\n}}, functionReference:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"functionReference\") ? this.Serializable$get(\"functionReference\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"functionReference\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.GcsDestinationParameters = function module$contents$eeapiclient$ee_api_client_GcsDestinationParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.GcsDestination = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"bucket\", null == parameters.bucket ? null : parameters.bucket);\n  this.Serializable$set(\"filenamePrefix\", null == parameters.filenamePrefix ? null : parameters.filenamePrefix);\n  this.Serializable$set(\"permissions\", null == parameters.permissions ? null : parameters.permissions);\n  this.Serializable$set(\"bucketCorsUris\", null == parameters.bucketCorsUris ? null : parameters.bucketCorsUris);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.GcsDestination, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.GcsDestination.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.GcsDestination;\n};\nmodule$exports$eeapiclient$ee_api_client.GcsDestination.prototype.getPartialClassMetadata = function() {\n  return {enums:{permissions:module$exports$eeapiclient$ee_api_client.GcsDestinationPermissionsEnum}, keys:[\"bucket\", \"bucketCorsUris\", \"filenamePrefix\", \"permissions\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.GcsDestination.prototype, {bucket:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"bucket\") ? this.Serializable$get(\"bucket\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"bucket\", value);\n}}, bucketCorsUris:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"bucketCorsUris\") ? this.Serializable$get(\"bucketCorsUris\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"bucketCorsUris\", value);\n}}, filenamePrefix:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"filenamePrefix\") ? this.Serializable$get(\"filenamePrefix\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"filenamePrefix\", value);\n}}, permissions:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"permissions\") ? this.Serializable$get(\"permissions\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"permissions\", value);\n}}});\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.GcsDestination, {Permissions:{configurable:!0, enumerable:!0, get:function() {\n  return module$exports$eeapiclient$ee_api_client.GcsDestinationPermissionsEnum;\n}}});\nmodule$exports$eeapiclient$ee_api_client.GcsLocationParameters = function module$contents$eeapiclient$ee_api_client_GcsLocationParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.GcsLocation = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"uris\", null == parameters.uris ? null : parameters.uris);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.GcsLocation, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.GcsLocation.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.GcsLocation;\n};\nmodule$exports$eeapiclient$ee_api_client.GcsLocation.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"uris\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.GcsLocation.prototype, {uris:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"uris\") ? this.Serializable$get(\"uris\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"uris\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.GeoTiffImageExportOptionsParameters = function module$contents$eeapiclient$ee_api_client_GeoTiffImageExportOptionsParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.GeoTiffImageExportOptions = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"cloudOptimized\", null == parameters.cloudOptimized ? null : parameters.cloudOptimized);\n  this.Serializable$set(\"tileDimensions\", null == parameters.tileDimensions ? null : parameters.tileDimensions);\n  this.Serializable$set(\"skipEmptyFiles\", null == parameters.skipEmptyFiles ? null : parameters.skipEmptyFiles);\n  this.Serializable$set(\"tileSize\", null == parameters.tileSize ? null : parameters.tileSize);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.GeoTiffImageExportOptions, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.GeoTiffImageExportOptions.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.GeoTiffImageExportOptions;\n};\nmodule$exports$eeapiclient$ee_api_client.GeoTiffImageExportOptions.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"cloudOptimized\", \"skipEmptyFiles\", \"tileDimensions\", \"tileSize\"], objects:{tileDimensions:module$exports$eeapiclient$ee_api_client.GridDimensions}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.GeoTiffImageExportOptions.prototype, {cloudOptimized:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"cloudOptimized\") ? this.Serializable$get(\"cloudOptimized\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"cloudOptimized\", value);\n}}, skipEmptyFiles:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"skipEmptyFiles\") ? this.Serializable$get(\"skipEmptyFiles\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"skipEmptyFiles\", value);\n}}, tileDimensions:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"tileDimensions\") ? this.Serializable$get(\"tileDimensions\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"tileDimensions\", value);\n}}, tileSize:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"tileSize\") ? this.Serializable$get(\"tileSize\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"tileSize\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.GetIamPolicyRequestParameters = function module$contents$eeapiclient$ee_api_client_GetIamPolicyRequestParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.GetIamPolicyRequest = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"options\", null == parameters.options ? null : parameters.options);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.GetIamPolicyRequest, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.GetIamPolicyRequest.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.GetIamPolicyRequest;\n};\nmodule$exports$eeapiclient$ee_api_client.GetIamPolicyRequest.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"options\"], objects:{options:module$exports$eeapiclient$ee_api_client.GetPolicyOptions}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.GetIamPolicyRequest.prototype, {options:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"options\") ? this.Serializable$get(\"options\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"options\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.GetLinkedAssetRequestParameters = function module$contents$eeapiclient$ee_api_client_GetLinkedAssetRequestParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.GetLinkedAssetRequest = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.GetLinkedAssetRequest, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.GetLinkedAssetRequest.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.GetLinkedAssetRequest;\n};\nmodule$exports$eeapiclient$ee_api_client.GetLinkedAssetRequest.prototype.getPartialClassMetadata = function() {\n  return {keys:[]};\n};\nmodule$exports$eeapiclient$ee_api_client.GetPixelsRequestParameters = function module$contents$eeapiclient$ee_api_client_GetPixelsRequestParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.GetPixelsRequest = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"fileFormat\", null == parameters.fileFormat ? null : parameters.fileFormat);\n  this.Serializable$set(\"grid\", null == parameters.grid ? null : parameters.grid);\n  this.Serializable$set(\"region\", null == parameters.region ? null : parameters.region);\n  this.Serializable$set(\"bandIds\", null == parameters.bandIds ? null : parameters.bandIds);\n  this.Serializable$set(\"visualizationOptions\", null == parameters.visualizationOptions ? null : parameters.visualizationOptions);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.GetPixelsRequest, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.GetPixelsRequest.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.GetPixelsRequest;\n};\nmodule$exports$eeapiclient$ee_api_client.GetPixelsRequest.prototype.getPartialClassMetadata = function() {\n  return {enums:{fileFormat:module$exports$eeapiclient$ee_api_client.GetPixelsRequestFileFormatEnum}, keys:[\"bandIds\", \"fileFormat\", \"grid\", \"region\", \"visualizationOptions\"], objectMaps:{region:{ctor:null, isPropertyArray:!1, isSerializable:!1, isValueArray:!1}}, objects:{grid:module$exports$eeapiclient$ee_api_client.PixelGrid, visualizationOptions:module$exports$eeapiclient$ee_api_client.VisualizationOptions}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.GetPixelsRequest.prototype, {bandIds:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"bandIds\") ? this.Serializable$get(\"bandIds\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"bandIds\", value);\n}}, fileFormat:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"fileFormat\") ? this.Serializable$get(\"fileFormat\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"fileFormat\", value);\n}}, grid:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"grid\") ? this.Serializable$get(\"grid\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"grid\", value);\n}}, region:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"region\") ? this.Serializable$get(\"region\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"region\", value);\n}}, visualizationOptions:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"visualizationOptions\") ? this.Serializable$get(\"visualizationOptions\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"visualizationOptions\", value);\n}}});\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.GetPixelsRequest, {FileFormat:{configurable:!0, enumerable:!0, get:function() {\n  return module$exports$eeapiclient$ee_api_client.GetPixelsRequestFileFormatEnum;\n}}});\nmodule$exports$eeapiclient$ee_api_client.GetPolicyOptionsParameters = function module$contents$eeapiclient$ee_api_client_GetPolicyOptionsParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.GetPolicyOptions = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"requestedPolicyVersion\", null == parameters.requestedPolicyVersion ? null : parameters.requestedPolicyVersion);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.GetPolicyOptions, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.GetPolicyOptions.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.GetPolicyOptions;\n};\nmodule$exports$eeapiclient$ee_api_client.GetPolicyOptions.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"requestedPolicyVersion\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.GetPolicyOptions.prototype, {requestedPolicyVersion:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"requestedPolicyVersion\") ? this.Serializable$get(\"requestedPolicyVersion\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"requestedPolicyVersion\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.GridDimensionsParameters = function module$contents$eeapiclient$ee_api_client_GridDimensionsParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.GridDimensions = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"width\", null == parameters.width ? null : parameters.width);\n  this.Serializable$set(\"height\", null == parameters.height ? null : parameters.height);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.GridDimensions, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.GridDimensions.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.GridDimensions;\n};\nmodule$exports$eeapiclient$ee_api_client.GridDimensions.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"height\", \"width\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.GridDimensions.prototype, {height:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"height\") ? this.Serializable$get(\"height\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"height\", value);\n}}, width:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"width\") ? this.Serializable$get(\"width\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"width\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.GridPointParameters = function module$contents$eeapiclient$ee_api_client_GridPointParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.GridPoint = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"x\", null == parameters.x ? null : parameters.x);\n  this.Serializable$set(\"y\", null == parameters.y ? null : parameters.y);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.GridPoint, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.GridPoint.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.GridPoint;\n};\nmodule$exports$eeapiclient$ee_api_client.GridPoint.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"x\", \"y\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.GridPoint.prototype, {x:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"x\") ? this.Serializable$get(\"x\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"x\", value);\n}}, y:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"y\") ? this.Serializable$get(\"y\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"y\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.HttpBodyParameters = function module$contents$eeapiclient$ee_api_client_HttpBodyParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.HttpBody = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"contentType\", null == parameters.contentType ? null : parameters.contentType);\n  this.Serializable$set(\"data\", null == parameters.data ? null : parameters.data);\n  this.Serializable$set(\"extensions\", null == parameters.extensions ? null : parameters.extensions);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.HttpBody, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.HttpBody.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.HttpBody;\n};\nmodule$exports$eeapiclient$ee_api_client.HttpBody.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"contentType\", \"data\", \"extensions\"], objectMaps:{extensions:{ctor:null, isPropertyArray:!0, isSerializable:!1, isValueArray:!1}}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.HttpBody.prototype, {contentType:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"contentType\") ? this.Serializable$get(\"contentType\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"contentType\", value);\n}}, data:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"data\") ? this.Serializable$get(\"data\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"data\", value);\n}}, extensions:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"extensions\") ? this.Serializable$get(\"extensions\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"extensions\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.ImageParameters = function module$contents$eeapiclient$ee_api_client_ImageParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.Image = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"name\", null == parameters.name ? null : parameters.name);\n  this.Serializable$set(\"id\", null == parameters.id ? null : parameters.id);\n  this.Serializable$set(\"updateTime\", null == parameters.updateTime ? null : parameters.updateTime);\n  this.Serializable$set(\"title\", null == parameters.title ? null : parameters.title);\n  this.Serializable$set(\"description\", null == parameters.description ? null : parameters.description);\n  this.Serializable$set(\"properties\", null == parameters.properties ? null : parameters.properties);\n  this.Serializable$set(\"startTime\", null == parameters.startTime ? null : parameters.startTime);\n  this.Serializable$set(\"endTime\", null == parameters.endTime ? null : parameters.endTime);\n  this.Serializable$set(\"geometry\", null == parameters.geometry ? null : parameters.geometry);\n  this.Serializable$set(\"bands\", null == parameters.bands ? null : parameters.bands);\n  this.Serializable$set(\"sizeBytes\", null == parameters.sizeBytes ? null : parameters.sizeBytes);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.Image, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.Image.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.Image;\n};\nmodule$exports$eeapiclient$ee_api_client.Image.prototype.getPartialClassMetadata = function() {\n  return {arrays:{bands:module$exports$eeapiclient$ee_api_client.ImageBand}, keys:\"bands description endTime geometry id name properties sizeBytes startTime title updateTime\".split(\" \"), objectMaps:{geometry:{ctor:null, isPropertyArray:!1, isSerializable:!1, isValueArray:!1}, properties:{ctor:null, isPropertyArray:!1, isSerializable:!1, isValueArray:!1}}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.Image.prototype, {bands:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"bands\") ? this.Serializable$get(\"bands\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"bands\", value);\n}}, description:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"description\") ? this.Serializable$get(\"description\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"description\", value);\n}}, endTime:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"endTime\") ? this.Serializable$get(\"endTime\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"endTime\", value);\n}}, geometry:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"geometry\") ? this.Serializable$get(\"geometry\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"geometry\", value);\n}}, id:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"id\") ? this.Serializable$get(\"id\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"id\", value);\n}}, name:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"name\") ? this.Serializable$get(\"name\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"name\", value);\n}}, properties:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"properties\") ? this.Serializable$get(\"properties\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"properties\", value);\n}}, sizeBytes:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"sizeBytes\") ? this.Serializable$get(\"sizeBytes\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"sizeBytes\", value);\n}}, startTime:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"startTime\") ? this.Serializable$get(\"startTime\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"startTime\", value);\n}}, title:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"title\") ? this.Serializable$get(\"title\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"title\", value);\n}}, updateTime:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"updateTime\") ? this.Serializable$get(\"updateTime\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"updateTime\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.ImageAssetExportOptionsParameters = function module$contents$eeapiclient$ee_api_client_ImageAssetExportOptionsParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.ImageAssetExportOptions = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"earthEngineDestination\", null == parameters.earthEngineDestination ? null : parameters.earthEngineDestination);\n  this.Serializable$set(\"pyramidingPolicy\", null == parameters.pyramidingPolicy ? null : parameters.pyramidingPolicy);\n  this.Serializable$set(\"pyramidingPolicyOverrides\", null == parameters.pyramidingPolicyOverrides ? null : parameters.pyramidingPolicyOverrides);\n  this.Serializable$set(\"tileSize\", null == parameters.tileSize ? null : parameters.tileSize);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.ImageAssetExportOptions, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.ImageAssetExportOptions.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.ImageAssetExportOptions;\n};\nmodule$exports$eeapiclient$ee_api_client.ImageAssetExportOptions.prototype.getPartialClassMetadata = function() {\n  return {enums:{pyramidingPolicy:module$exports$eeapiclient$ee_api_client.ImageAssetExportOptionsPyramidingPolicyEnum, pyramidingPolicyOverrides:module$exports$eeapiclient$ee_api_client.ImageAssetExportOptionsPyramidingPolicyOverridesEnum}, keys:[\"earthEngineDestination\", \"pyramidingPolicy\", \"pyramidingPolicyOverrides\", \"tileSize\"], objectMaps:{pyramidingPolicyOverrides:{ctor:null, isPropertyArray:!1, isSerializable:!1, isValueArray:!1}}, \n  objects:{earthEngineDestination:module$exports$eeapiclient$ee_api_client.EarthEngineDestination}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ImageAssetExportOptions.prototype, {earthEngineDestination:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"earthEngineDestination\") ? this.Serializable$get(\"earthEngineDestination\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"earthEngineDestination\", value);\n}}, pyramidingPolicy:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"pyramidingPolicy\") ? this.Serializable$get(\"pyramidingPolicy\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"pyramidingPolicy\", value);\n}}, pyramidingPolicyOverrides:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"pyramidingPolicyOverrides\") ? this.Serializable$get(\"pyramidingPolicyOverrides\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"pyramidingPolicyOverrides\", value);\n}}, tileSize:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"tileSize\") ? this.Serializable$get(\"tileSize\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"tileSize\", value);\n}}});\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ImageAssetExportOptions, {PyramidingPolicy:{configurable:!0, enumerable:!0, get:function() {\n  return module$exports$eeapiclient$ee_api_client.ImageAssetExportOptionsPyramidingPolicyEnum;\n}}, PyramidingPolicyOverrides:{configurable:!0, enumerable:!0, get:function() {\n  return module$exports$eeapiclient$ee_api_client.ImageAssetExportOptionsPyramidingPolicyOverridesEnum;\n}}});\nmodule$exports$eeapiclient$ee_api_client.ImageBandParameters = function module$contents$eeapiclient$ee_api_client_ImageBandParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.ImageBand = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"id\", null == parameters.id ? null : parameters.id);\n  this.Serializable$set(\"dataType\", null == parameters.dataType ? null : parameters.dataType);\n  this.Serializable$set(\"grid\", null == parameters.grid ? null : parameters.grid);\n  this.Serializable$set(\"pyramidingPolicy\", null == parameters.pyramidingPolicy ? null : parameters.pyramidingPolicy);\n  this.Serializable$set(\"tilesets\", null == parameters.tilesets ? null : parameters.tilesets);\n  this.Serializable$set(\"missingData\", null == parameters.missingData ? null : parameters.missingData);\n  this.Serializable$set(\"cloudStorageLocation\", null == parameters.cloudStorageLocation ? null : parameters.cloudStorageLocation);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.ImageBand, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.ImageBand.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.ImageBand;\n};\nmodule$exports$eeapiclient$ee_api_client.ImageBand.prototype.getPartialClassMetadata = function() {\n  return {arrays:{tilesets:module$exports$eeapiclient$ee_api_client.TilestoreTileset}, enums:{pyramidingPolicy:module$exports$eeapiclient$ee_api_client.ImageBandPyramidingPolicyEnum}, keys:\"cloudStorageLocation dataType grid id missingData pyramidingPolicy tilesets\".split(\" \"), objects:{cloudStorageLocation:module$exports$eeapiclient$ee_api_client.CloudStorageLocation, dataType:module$exports$eeapiclient$ee_api_client.PixelDataType, \n  grid:module$exports$eeapiclient$ee_api_client.PixelGrid, missingData:module$exports$eeapiclient$ee_api_client.MissingData}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ImageBand.prototype, {cloudStorageLocation:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"cloudStorageLocation\") ? this.Serializable$get(\"cloudStorageLocation\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"cloudStorageLocation\", value);\n}}, dataType:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"dataType\") ? this.Serializable$get(\"dataType\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"dataType\", value);\n}}, grid:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"grid\") ? this.Serializable$get(\"grid\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"grid\", value);\n}}, id:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"id\") ? this.Serializable$get(\"id\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"id\", value);\n}}, missingData:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"missingData\") ? this.Serializable$get(\"missingData\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"missingData\", value);\n}}, pyramidingPolicy:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"pyramidingPolicy\") ? this.Serializable$get(\"pyramidingPolicy\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"pyramidingPolicy\", value);\n}}, tilesets:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"tilesets\") ? this.Serializable$get(\"tilesets\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"tilesets\", value);\n}}});\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ImageBand, {PyramidingPolicy:{configurable:!0, enumerable:!0, get:function() {\n  return module$exports$eeapiclient$ee_api_client.ImageBandPyramidingPolicyEnum;\n}}});\nmodule$exports$eeapiclient$ee_api_client.ImageFileExportOptionsParameters = function module$contents$eeapiclient$ee_api_client_ImageFileExportOptionsParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.ImageFileExportOptions = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"driveDestination\", null == parameters.driveDestination ? null : parameters.driveDestination);\n  this.Serializable$set(\"cloudStorageDestination\", null == parameters.cloudStorageDestination ? null : parameters.cloudStorageDestination);\n  this.Serializable$set(\"gcsDestination\", null == parameters.gcsDestination ? null : parameters.gcsDestination);\n  this.Serializable$set(\"geoTiffOptions\", null == parameters.geoTiffOptions ? null : parameters.geoTiffOptions);\n  this.Serializable$set(\"tfRecordOptions\", null == parameters.tfRecordOptions ? null : parameters.tfRecordOptions);\n  this.Serializable$set(\"fileFormat\", null == parameters.fileFormat ? null : parameters.fileFormat);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.ImageFileExportOptions, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.ImageFileExportOptions.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.ImageFileExportOptions;\n};\nmodule$exports$eeapiclient$ee_api_client.ImageFileExportOptions.prototype.getPartialClassMetadata = function() {\n  return {enums:{fileFormat:module$exports$eeapiclient$ee_api_client.ImageFileExportOptionsFileFormatEnum}, keys:\"cloudStorageDestination driveDestination fileFormat gcsDestination geoTiffOptions tfRecordOptions\".split(\" \"), objects:{cloudStorageDestination:module$exports$eeapiclient$ee_api_client.CloudStorageDestination, driveDestination:module$exports$eeapiclient$ee_api_client.DriveDestination, \n  gcsDestination:module$exports$eeapiclient$ee_api_client.GcsDestination, geoTiffOptions:module$exports$eeapiclient$ee_api_client.GeoTiffImageExportOptions, tfRecordOptions:module$exports$eeapiclient$ee_api_client.TfRecordImageExportOptions}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ImageFileExportOptions.prototype, {cloudStorageDestination:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"cloudStorageDestination\") ? this.Serializable$get(\"cloudStorageDestination\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"cloudStorageDestination\", value);\n}}, driveDestination:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"driveDestination\") ? this.Serializable$get(\"driveDestination\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"driveDestination\", value);\n}}, fileFormat:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"fileFormat\") ? this.Serializable$get(\"fileFormat\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"fileFormat\", value);\n}}, gcsDestination:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"gcsDestination\") ? this.Serializable$get(\"gcsDestination\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"gcsDestination\", value);\n}}, geoTiffOptions:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"geoTiffOptions\") ? this.Serializable$get(\"geoTiffOptions\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"geoTiffOptions\", value);\n}}, tfRecordOptions:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"tfRecordOptions\") ? this.Serializable$get(\"tfRecordOptions\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"tfRecordOptions\", value);\n}}});\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ImageFileExportOptions, {FileFormat:{configurable:!0, enumerable:!0, get:function() {\n  return module$exports$eeapiclient$ee_api_client.ImageFileExportOptionsFileFormatEnum;\n}}});\nmodule$exports$eeapiclient$ee_api_client.ImageManifestParameters = function module$contents$eeapiclient$ee_api_client_ImageManifestParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.ImageManifest = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"name\", null == parameters.name ? null : parameters.name);\n  this.Serializable$set(\"properties\", null == parameters.properties ? null : parameters.properties);\n  this.Serializable$set(\"uriPrefix\", null == parameters.uriPrefix ? null : parameters.uriPrefix);\n  this.Serializable$set(\"tilesets\", null == parameters.tilesets ? null : parameters.tilesets);\n  this.Serializable$set(\"bands\", null == parameters.bands ? null : parameters.bands);\n  this.Serializable$set(\"maskBands\", null == parameters.maskBands ? null : parameters.maskBands);\n  this.Serializable$set(\"footprint\", null == parameters.footprint ? null : parameters.footprint);\n  this.Serializable$set(\"missingData\", null == parameters.missingData ? null : parameters.missingData);\n  this.Serializable$set(\"pyramidingPolicy\", null == parameters.pyramidingPolicy ? null : parameters.pyramidingPolicy);\n  this.Serializable$set(\"startTime\", null == parameters.startTime ? null : parameters.startTime);\n  this.Serializable$set(\"endTime\", null == parameters.endTime ? null : parameters.endTime);\n  this.Serializable$set(\"minTileAreaRatio\", null == parameters.minTileAreaRatio ? null : parameters.minTileAreaRatio);\n  this.Serializable$set(\"skipMetadataRead\", null == parameters.skipMetadataRead ? null : parameters.skipMetadataRead);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.ImageManifest, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.ImageManifest.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.ImageManifest;\n};\nmodule$exports$eeapiclient$ee_api_client.ImageManifest.prototype.getPartialClassMetadata = function() {\n  return {arrays:{bands:module$exports$eeapiclient$ee_api_client.TilesetBand, maskBands:module$exports$eeapiclient$ee_api_client.TilesetMaskBand, tilesets:module$exports$eeapiclient$ee_api_client.Tileset}, enums:{pyramidingPolicy:module$exports$eeapiclient$ee_api_client.ImageManifestPyramidingPolicyEnum}, keys:\"bands endTime footprint maskBands minTileAreaRatio missingData name properties pyramidingPolicy skipMetadataRead startTime tilesets uriPrefix\".split(\" \"), \n  objectMaps:{properties:{ctor:null, isPropertyArray:!1, isSerializable:!1, isValueArray:!1}}, objects:{footprint:module$exports$eeapiclient$ee_api_client.PixelFootprint, missingData:module$exports$eeapiclient$ee_api_client.MissingData}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ImageManifest.prototype, {bands:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"bands\") ? this.Serializable$get(\"bands\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"bands\", value);\n}}, endTime:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"endTime\") ? this.Serializable$get(\"endTime\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"endTime\", value);\n}}, footprint:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"footprint\") ? this.Serializable$get(\"footprint\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"footprint\", value);\n}}, maskBands:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"maskBands\") ? this.Serializable$get(\"maskBands\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"maskBands\", value);\n}}, minTileAreaRatio:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"minTileAreaRatio\") ? this.Serializable$get(\"minTileAreaRatio\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"minTileAreaRatio\", value);\n}}, missingData:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"missingData\") ? this.Serializable$get(\"missingData\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"missingData\", value);\n}}, name:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"name\") ? this.Serializable$get(\"name\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"name\", value);\n}}, properties:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"properties\") ? this.Serializable$get(\"properties\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"properties\", value);\n}}, pyramidingPolicy:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"pyramidingPolicy\") ? this.Serializable$get(\"pyramidingPolicy\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"pyramidingPolicy\", value);\n}}, skipMetadataRead:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"skipMetadataRead\") ? this.Serializable$get(\"skipMetadataRead\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"skipMetadataRead\", value);\n}}, startTime:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"startTime\") ? this.Serializable$get(\"startTime\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"startTime\", value);\n}}, tilesets:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"tilesets\") ? this.Serializable$get(\"tilesets\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"tilesets\", value);\n}}, uriPrefix:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"uriPrefix\") ? this.Serializable$get(\"uriPrefix\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"uriPrefix\", value);\n}}});\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ImageManifest, {PyramidingPolicy:{configurable:!0, enumerable:!0, get:function() {\n  return module$exports$eeapiclient$ee_api_client.ImageManifestPyramidingPolicyEnum;\n}}});\nmodule$exports$eeapiclient$ee_api_client.ImageSourceParameters = function module$contents$eeapiclient$ee_api_client_ImageSourceParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.ImageSource = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"uris\", null == parameters.uris ? null : parameters.uris);\n  this.Serializable$set(\"affineTransform\", null == parameters.affineTransform ? null : parameters.affineTransform);\n  this.Serializable$set(\"dimensions\", null == parameters.dimensions ? null : parameters.dimensions);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.ImageSource, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.ImageSource.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.ImageSource;\n};\nmodule$exports$eeapiclient$ee_api_client.ImageSource.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"affineTransform\", \"dimensions\", \"uris\"], objects:{affineTransform:module$exports$eeapiclient$ee_api_client.AffineTransform, dimensions:module$exports$eeapiclient$ee_api_client.GridDimensions}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ImageSource.prototype, {affineTransform:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"affineTransform\") ? this.Serializable$get(\"affineTransform\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"affineTransform\", value);\n}}, dimensions:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"dimensions\") ? this.Serializable$get(\"dimensions\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"dimensions\", value);\n}}, uris:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"uris\") ? this.Serializable$get(\"uris\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"uris\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.ImportImageRequestParameters = function module$contents$eeapiclient$ee_api_client_ImportImageRequestParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.ImportImageRequest = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"imageManifest\", null == parameters.imageManifest ? null : parameters.imageManifest);\n  this.Serializable$set(\"description\", null == parameters.description ? null : parameters.description);\n  this.Serializable$set(\"overwrite\", null == parameters.overwrite ? null : parameters.overwrite);\n  this.Serializable$set(\"requestId\", null == parameters.requestId ? null : parameters.requestId);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.ImportImageRequest, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.ImportImageRequest.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.ImportImageRequest;\n};\nmodule$exports$eeapiclient$ee_api_client.ImportImageRequest.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"description\", \"imageManifest\", \"overwrite\", \"requestId\"], objects:{imageManifest:module$exports$eeapiclient$ee_api_client.ImageManifest}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ImportImageRequest.prototype, {description:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"description\") ? this.Serializable$get(\"description\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"description\", value);\n}}, imageManifest:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"imageManifest\") ? this.Serializable$get(\"imageManifest\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"imageManifest\", value);\n}}, overwrite:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"overwrite\") ? this.Serializable$get(\"overwrite\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"overwrite\", value);\n}}, requestId:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"requestId\") ? this.Serializable$get(\"requestId\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"requestId\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.ImportTableRequestParameters = function module$contents$eeapiclient$ee_api_client_ImportTableRequestParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.ImportTableRequest = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"tableManifest\", null == parameters.tableManifest ? null : parameters.tableManifest);\n  this.Serializable$set(\"description\", null == parameters.description ? null : parameters.description);\n  this.Serializable$set(\"overwrite\", null == parameters.overwrite ? null : parameters.overwrite);\n  this.Serializable$set(\"requestId\", null == parameters.requestId ? null : parameters.requestId);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.ImportTableRequest, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.ImportTableRequest.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.ImportTableRequest;\n};\nmodule$exports$eeapiclient$ee_api_client.ImportTableRequest.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"description\", \"overwrite\", \"requestId\", \"tableManifest\"], objects:{tableManifest:module$exports$eeapiclient$ee_api_client.TableManifest}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ImportTableRequest.prototype, {description:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"description\") ? this.Serializable$get(\"description\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"description\", value);\n}}, overwrite:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"overwrite\") ? this.Serializable$get(\"overwrite\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"overwrite\", value);\n}}, requestId:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"requestId\") ? this.Serializable$get(\"requestId\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"requestId\", value);\n}}, tableManifest:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"tableManifest\") ? this.Serializable$get(\"tableManifest\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"tableManifest\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.LinkAssetRequestParameters = function module$contents$eeapiclient$ee_api_client_LinkAssetRequestParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.LinkAssetRequest = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"destinationName\", null == parameters.destinationName ? null : parameters.destinationName);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.LinkAssetRequest, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.LinkAssetRequest.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.LinkAssetRequest;\n};\nmodule$exports$eeapiclient$ee_api_client.LinkAssetRequest.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"destinationName\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.LinkAssetRequest.prototype, {destinationName:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"destinationName\") ? this.Serializable$get(\"destinationName\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"destinationName\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.ListAlgorithmsResponseParameters = function module$contents$eeapiclient$ee_api_client_ListAlgorithmsResponseParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.ListAlgorithmsResponse = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"algorithms\", null == parameters.algorithms ? null : parameters.algorithms);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.ListAlgorithmsResponse, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.ListAlgorithmsResponse.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.ListAlgorithmsResponse;\n};\nmodule$exports$eeapiclient$ee_api_client.ListAlgorithmsResponse.prototype.getPartialClassMetadata = function() {\n  return {arrays:{algorithms:module$exports$eeapiclient$ee_api_client.Algorithm}, keys:[\"algorithms\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ListAlgorithmsResponse.prototype, {algorithms:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"algorithms\") ? this.Serializable$get(\"algorithms\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"algorithms\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.ListAssetsResponseParameters = function module$contents$eeapiclient$ee_api_client_ListAssetsResponseParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.ListAssetsResponse = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"assets\", null == parameters.assets ? null : parameters.assets);\n  this.Serializable$set(\"nextPageToken\", null == parameters.nextPageToken ? null : parameters.nextPageToken);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.ListAssetsResponse, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.ListAssetsResponse.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.ListAssetsResponse;\n};\nmodule$exports$eeapiclient$ee_api_client.ListAssetsResponse.prototype.getPartialClassMetadata = function() {\n  return {arrays:{assets:module$exports$eeapiclient$ee_api_client.EarthEngineAsset}, keys:[\"assets\", \"nextPageToken\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ListAssetsResponse.prototype, {assets:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"assets\") ? this.Serializable$get(\"assets\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"assets\", value);\n}}, nextPageToken:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"nextPageToken\") ? this.Serializable$get(\"nextPageToken\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"nextPageToken\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.ListFeaturesResponseParameters = function module$contents$eeapiclient$ee_api_client_ListFeaturesResponseParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.ListFeaturesResponse = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"type\", null == parameters.type ? null : parameters.type);\n  this.Serializable$set(\"features\", null == parameters.features ? null : parameters.features);\n  this.Serializable$set(\"nextPageToken\", null == parameters.nextPageToken ? null : parameters.nextPageToken);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.ListFeaturesResponse, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.ListFeaturesResponse.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.ListFeaturesResponse;\n};\nmodule$exports$eeapiclient$ee_api_client.ListFeaturesResponse.prototype.getPartialClassMetadata = function() {\n  return {arrays:{features:module$exports$eeapiclient$ee_api_client.Feature}, keys:[\"features\", \"nextPageToken\", \"type\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ListFeaturesResponse.prototype, {features:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"features\") ? this.Serializable$get(\"features\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"features\", value);\n}}, nextPageToken:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"nextPageToken\") ? this.Serializable$get(\"nextPageToken\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"nextPageToken\", value);\n}}, type:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"type\") ? this.Serializable$get(\"type\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"type\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.ListImagesResponseParameters = function module$contents$eeapiclient$ee_api_client_ListImagesResponseParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.ListImagesResponse = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"images\", null == parameters.images ? null : parameters.images);\n  this.Serializable$set(\"nextPageToken\", null == parameters.nextPageToken ? null : parameters.nextPageToken);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.ListImagesResponse, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.ListImagesResponse.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.ListImagesResponse;\n};\nmodule$exports$eeapiclient$ee_api_client.ListImagesResponse.prototype.getPartialClassMetadata = function() {\n  return {arrays:{images:module$exports$eeapiclient$ee_api_client.Image}, keys:[\"images\", \"nextPageToken\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ListImagesResponse.prototype, {images:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"images\") ? this.Serializable$get(\"images\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"images\", value);\n}}, nextPageToken:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"nextPageToken\") ? this.Serializable$get(\"nextPageToken\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"nextPageToken\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.ListOperationsResponseParameters = function module$contents$eeapiclient$ee_api_client_ListOperationsResponseParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.ListOperationsResponse = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"operations\", null == parameters.operations ? null : parameters.operations);\n  this.Serializable$set(\"nextPageToken\", null == parameters.nextPageToken ? null : parameters.nextPageToken);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.ListOperationsResponse, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.ListOperationsResponse.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.ListOperationsResponse;\n};\nmodule$exports$eeapiclient$ee_api_client.ListOperationsResponse.prototype.getPartialClassMetadata = function() {\n  return {arrays:{operations:module$exports$eeapiclient$ee_api_client.Operation}, keys:[\"nextPageToken\", \"operations\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ListOperationsResponse.prototype, {nextPageToken:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"nextPageToken\") ? this.Serializable$get(\"nextPageToken\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"nextPageToken\", value);\n}}, operations:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"operations\") ? this.Serializable$get(\"operations\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"operations\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.ListSubscriptionsResponseParameters = function module$contents$eeapiclient$ee_api_client_ListSubscriptionsResponseParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.ListSubscriptionsResponse = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"subscriptions\", null == parameters.subscriptions ? null : parameters.subscriptions);\n  this.Serializable$set(\"nextPageToken\", null == parameters.nextPageToken ? null : parameters.nextPageToken);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.ListSubscriptionsResponse, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.ListSubscriptionsResponse.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.ListSubscriptionsResponse;\n};\nmodule$exports$eeapiclient$ee_api_client.ListSubscriptionsResponse.prototype.getPartialClassMetadata = function() {\n  return {arrays:{subscriptions:module$exports$eeapiclient$ee_api_client.Subscription}, keys:[\"nextPageToken\", \"subscriptions\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ListSubscriptionsResponse.prototype, {nextPageToken:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"nextPageToken\") ? this.Serializable$get(\"nextPageToken\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"nextPageToken\", value);\n}}, subscriptions:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"subscriptions\") ? this.Serializable$get(\"subscriptions\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"subscriptions\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.LogConfigParameters = function module$contents$eeapiclient$ee_api_client_LogConfigParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.LogConfig = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"counter\", null == parameters.counter ? null : parameters.counter);\n  this.Serializable$set(\"dataAccess\", null == parameters.dataAccess ? null : parameters.dataAccess);\n  this.Serializable$set(\"cloudAudit\", null == parameters.cloudAudit ? null : parameters.cloudAudit);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.LogConfig, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.LogConfig.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.LogConfig;\n};\nmodule$exports$eeapiclient$ee_api_client.LogConfig.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"cloudAudit\", \"counter\", \"dataAccess\"], objects:{cloudAudit:module$exports$eeapiclient$ee_api_client.CloudAuditOptions, counter:module$exports$eeapiclient$ee_api_client.CounterOptions, dataAccess:module$exports$eeapiclient$ee_api_client.DataAccessOptions}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.LogConfig.prototype, {cloudAudit:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"cloudAudit\") ? this.Serializable$get(\"cloudAudit\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"cloudAudit\", value);\n}}, counter:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"counter\") ? this.Serializable$get(\"counter\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"counter\", value);\n}}, dataAccess:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"dataAccess\") ? this.Serializable$get(\"dataAccess\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"dataAccess\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.MissingDataParameters = function module$contents$eeapiclient$ee_api_client_MissingDataParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.MissingData = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"values\", null == parameters.values ? null : parameters.values);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.MissingData, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.MissingData.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.MissingData;\n};\nmodule$exports$eeapiclient$ee_api_client.MissingData.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"values\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.MissingData.prototype, {values:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"values\") ? this.Serializable$get(\"values\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"values\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.MoveAssetRequestParameters = function module$contents$eeapiclient$ee_api_client_MoveAssetRequestParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.MoveAssetRequest = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"destinationName\", null == parameters.destinationName ? null : parameters.destinationName);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.MoveAssetRequest, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.MoveAssetRequest.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.MoveAssetRequest;\n};\nmodule$exports$eeapiclient$ee_api_client.MoveAssetRequest.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"destinationName\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.MoveAssetRequest.prototype, {destinationName:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"destinationName\") ? this.Serializable$get(\"destinationName\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"destinationName\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.OperationParameters = function module$contents$eeapiclient$ee_api_client_OperationParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.Operation = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"name\", null == parameters.name ? null : parameters.name);\n  this.Serializable$set(\"metadata\", null == parameters.metadata ? null : parameters.metadata);\n  this.Serializable$set(\"done\", null == parameters.done ? null : parameters.done);\n  this.Serializable$set(\"error\", null == parameters.error ? null : parameters.error);\n  this.Serializable$set(\"response\", null == parameters.response ? null : parameters.response);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.Operation, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.Operation.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.Operation;\n};\nmodule$exports$eeapiclient$ee_api_client.Operation.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"done\", \"error\", \"metadata\", \"name\", \"response\"], objectMaps:{metadata:{ctor:null, isPropertyArray:!1, isSerializable:!1, isValueArray:!1}, response:{ctor:null, isPropertyArray:!1, isSerializable:!1, isValueArray:!1}}, objects:{error:module$exports$eeapiclient$ee_api_client.Status}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.Operation.prototype, {done:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"done\") ? this.Serializable$get(\"done\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"done\", value);\n}}, error:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"error\") ? this.Serializable$get(\"error\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"error\", value);\n}}, metadata:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"metadata\") ? this.Serializable$get(\"metadata\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"metadata\", value);\n}}, name:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"name\") ? this.Serializable$get(\"name\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"name\", value);\n}}, response:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"response\") ? this.Serializable$get(\"response\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"response\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.OperationMetadataParameters = function module$contents$eeapiclient$ee_api_client_OperationMetadataParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.OperationMetadata = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"state\", null == parameters.state ? null : parameters.state);\n  this.Serializable$set(\"description\", null == parameters.description ? null : parameters.description);\n  this.Serializable$set(\"type\", null == parameters.type ? null : parameters.type);\n  this.Serializable$set(\"priority\", null == parameters.priority ? null : parameters.priority);\n  this.Serializable$set(\"createTime\", null == parameters.createTime ? null : parameters.createTime);\n  this.Serializable$set(\"updateTime\", null == parameters.updateTime ? null : parameters.updateTime);\n  this.Serializable$set(\"startTime\", null == parameters.startTime ? null : parameters.startTime);\n  this.Serializable$set(\"endTime\", null == parameters.endTime ? null : parameters.endTime);\n  this.Serializable$set(\"progress\", null == parameters.progress ? null : parameters.progress);\n  this.Serializable$set(\"stages\", null == parameters.stages ? null : parameters.stages);\n  this.Serializable$set(\"attempt\", null == parameters.attempt ? null : parameters.attempt);\n  this.Serializable$set(\"scriptUri\", null == parameters.scriptUri ? null : parameters.scriptUri);\n  this.Serializable$set(\"destinationUris\", null == parameters.destinationUris ? null : parameters.destinationUris);\n  this.Serializable$set(\"notifications\", null == parameters.notifications ? null : parameters.notifications);\n  this.Serializable$set(\"batchEecuUsageSeconds\", null == parameters.batchEecuUsageSeconds ? null : parameters.batchEecuUsageSeconds);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.OperationMetadata, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.OperationMetadata.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.OperationMetadata;\n};\nmodule$exports$eeapiclient$ee_api_client.OperationMetadata.prototype.getPartialClassMetadata = function() {\n  return {arrays:{notifications:module$exports$eeapiclient$ee_api_client.OperationNotification, stages:module$exports$eeapiclient$ee_api_client.OperationStage}, enums:{state:module$exports$eeapiclient$ee_api_client.OperationMetadataStateEnum}, keys:\"attempt batchEecuUsageSeconds createTime description destinationUris endTime notifications priority progress scriptUri stages startTime state type updateTime\".split(\" \")};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.OperationMetadata.prototype, {attempt:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"attempt\") ? this.Serializable$get(\"attempt\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"attempt\", value);\n}}, batchEecuUsageSeconds:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"batchEecuUsageSeconds\") ? this.Serializable$get(\"batchEecuUsageSeconds\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"batchEecuUsageSeconds\", value);\n}}, createTime:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"createTime\") ? this.Serializable$get(\"createTime\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"createTime\", value);\n}}, description:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"description\") ? this.Serializable$get(\"description\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"description\", value);\n}}, destinationUris:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"destinationUris\") ? this.Serializable$get(\"destinationUris\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"destinationUris\", value);\n}}, endTime:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"endTime\") ? this.Serializable$get(\"endTime\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"endTime\", value);\n}}, notifications:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"notifications\") ? this.Serializable$get(\"notifications\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"notifications\", value);\n}}, priority:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"priority\") ? this.Serializable$get(\"priority\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"priority\", value);\n}}, progress:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"progress\") ? this.Serializable$get(\"progress\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"progress\", value);\n}}, scriptUri:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"scriptUri\") ? this.Serializable$get(\"scriptUri\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"scriptUri\", value);\n}}, stages:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"stages\") ? this.Serializable$get(\"stages\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"stages\", value);\n}}, startTime:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"startTime\") ? this.Serializable$get(\"startTime\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"startTime\", value);\n}}, state:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"state\") ? this.Serializable$get(\"state\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"state\", value);\n}}, type:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"type\") ? this.Serializable$get(\"type\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"type\", value);\n}}, updateTime:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"updateTime\") ? this.Serializable$get(\"updateTime\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"updateTime\", value);\n}}});\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.OperationMetadata, {State:{configurable:!0, enumerable:!0, get:function() {\n  return module$exports$eeapiclient$ee_api_client.OperationMetadataStateEnum;\n}}});\nmodule$exports$eeapiclient$ee_api_client.OperationNotificationParameters = function module$contents$eeapiclient$ee_api_client_OperationNotificationParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.OperationNotification = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"severity\", null == parameters.severity ? null : parameters.severity);\n  this.Serializable$set(\"topic\", null == parameters.topic ? null : parameters.topic);\n  this.Serializable$set(\"detail\", null == parameters.detail ? null : parameters.detail);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.OperationNotification, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.OperationNotification.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.OperationNotification;\n};\nmodule$exports$eeapiclient$ee_api_client.OperationNotification.prototype.getPartialClassMetadata = function() {\n  return {enums:{severity:module$exports$eeapiclient$ee_api_client.OperationNotificationSeverityEnum}, keys:[\"detail\", \"severity\", \"topic\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.OperationNotification.prototype, {detail:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"detail\") ? this.Serializable$get(\"detail\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"detail\", value);\n}}, severity:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"severity\") ? this.Serializable$get(\"severity\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"severity\", value);\n}}, topic:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"topic\") ? this.Serializable$get(\"topic\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"topic\", value);\n}}});\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.OperationNotification, {Severity:{configurable:!0, enumerable:!0, get:function() {\n  return module$exports$eeapiclient$ee_api_client.OperationNotificationSeverityEnum;\n}}});\nmodule$exports$eeapiclient$ee_api_client.OperationStageParameters = function module$contents$eeapiclient$ee_api_client_OperationStageParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.OperationStage = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"displayName\", null == parameters.displayName ? null : parameters.displayName);\n  this.Serializable$set(\"completeWorkUnits\", null == parameters.completeWorkUnits ? null : parameters.completeWorkUnits);\n  this.Serializable$set(\"totalWorkUnits\", null == parameters.totalWorkUnits ? null : parameters.totalWorkUnits);\n  this.Serializable$set(\"description\", null == parameters.description ? null : parameters.description);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.OperationStage, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.OperationStage.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.OperationStage;\n};\nmodule$exports$eeapiclient$ee_api_client.OperationStage.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"completeWorkUnits\", \"description\", \"displayName\", \"totalWorkUnits\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.OperationStage.prototype, {completeWorkUnits:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"completeWorkUnits\") ? this.Serializable$get(\"completeWorkUnits\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"completeWorkUnits\", value);\n}}, description:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"description\") ? this.Serializable$get(\"description\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"description\", value);\n}}, displayName:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"displayName\") ? this.Serializable$get(\"displayName\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"displayName\", value);\n}}, totalWorkUnits:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"totalWorkUnits\") ? this.Serializable$get(\"totalWorkUnits\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"totalWorkUnits\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.PixelDataTypeParameters = function module$contents$eeapiclient$ee_api_client_PixelDataTypeParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.PixelDataType = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"precision\", null == parameters.precision ? null : parameters.precision);\n  this.Serializable$set(\"range\", null == parameters.range ? null : parameters.range);\n  this.Serializable$set(\"dimensionsCount\", null == parameters.dimensionsCount ? null : parameters.dimensionsCount);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.PixelDataType, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.PixelDataType.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.PixelDataType;\n};\nmodule$exports$eeapiclient$ee_api_client.PixelDataType.prototype.getPartialClassMetadata = function() {\n  return {enums:{precision:module$exports$eeapiclient$ee_api_client.PixelDataTypePrecisionEnum}, keys:[\"dimensionsCount\", \"precision\", \"range\"], objects:{range:module$exports$eeapiclient$ee_api_client.DoubleRange}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.PixelDataType.prototype, {dimensionsCount:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"dimensionsCount\") ? this.Serializable$get(\"dimensionsCount\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"dimensionsCount\", value);\n}}, precision:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"precision\") ? this.Serializable$get(\"precision\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"precision\", value);\n}}, range:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"range\") ? this.Serializable$get(\"range\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"range\", value);\n}}});\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.PixelDataType, {Precision:{configurable:!0, enumerable:!0, get:function() {\n  return module$exports$eeapiclient$ee_api_client.PixelDataTypePrecisionEnum;\n}}});\nmodule$exports$eeapiclient$ee_api_client.PixelFootprintParameters = function module$contents$eeapiclient$ee_api_client_PixelFootprintParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.PixelFootprint = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"points\", null == parameters.points ? null : parameters.points);\n  this.Serializable$set(\"bandId\", null == parameters.bandId ? null : parameters.bandId);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.PixelFootprint, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.PixelFootprint.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.PixelFootprint;\n};\nmodule$exports$eeapiclient$ee_api_client.PixelFootprint.prototype.getPartialClassMetadata = function() {\n  return {arrays:{points:module$exports$eeapiclient$ee_api_client.GridPoint}, keys:[\"bandId\", \"points\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.PixelFootprint.prototype, {bandId:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"bandId\") ? this.Serializable$get(\"bandId\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"bandId\", value);\n}}, points:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"points\") ? this.Serializable$get(\"points\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"points\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.PixelGridParameters = function module$contents$eeapiclient$ee_api_client_PixelGridParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.PixelGrid = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"crsCode\", null == parameters.crsCode ? null : parameters.crsCode);\n  this.Serializable$set(\"crsWkt\", null == parameters.crsWkt ? null : parameters.crsWkt);\n  this.Serializable$set(\"dimensions\", null == parameters.dimensions ? null : parameters.dimensions);\n  this.Serializable$set(\"affineTransform\", null == parameters.affineTransform ? null : parameters.affineTransform);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.PixelGrid, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.PixelGrid.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.PixelGrid;\n};\nmodule$exports$eeapiclient$ee_api_client.PixelGrid.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"affineTransform\", \"crsCode\", \"crsWkt\", \"dimensions\"], objects:{affineTransform:module$exports$eeapiclient$ee_api_client.AffineTransform, dimensions:module$exports$eeapiclient$ee_api_client.GridDimensions}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.PixelGrid.prototype, {affineTransform:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"affineTransform\") ? this.Serializable$get(\"affineTransform\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"affineTransform\", value);\n}}, crsCode:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"crsCode\") ? this.Serializable$get(\"crsCode\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"crsCode\", value);\n}}, crsWkt:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"crsWkt\") ? this.Serializable$get(\"crsWkt\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"crsWkt\", value);\n}}, dimensions:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"dimensions\") ? this.Serializable$get(\"dimensions\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"dimensions\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.PolicyParameters = function module$contents$eeapiclient$ee_api_client_PolicyParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.Policy = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"version\", null == parameters.version ? null : parameters.version);\n  this.Serializable$set(\"bindings\", null == parameters.bindings ? null : parameters.bindings);\n  this.Serializable$set(\"auditConfigs\", null == parameters.auditConfigs ? null : parameters.auditConfigs);\n  this.Serializable$set(\"rules\", null == parameters.rules ? null : parameters.rules);\n  this.Serializable$set(\"etag\", null == parameters.etag ? null : parameters.etag);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.Policy, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.Policy.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.Policy;\n};\nmodule$exports$eeapiclient$ee_api_client.Policy.prototype.getPartialClassMetadata = function() {\n  return {arrays:{auditConfigs:module$exports$eeapiclient$ee_api_client.AuditConfig, bindings:module$exports$eeapiclient$ee_api_client.Binding, rules:module$exports$eeapiclient$ee_api_client.Rule}, keys:[\"auditConfigs\", \"bindings\", \"etag\", \"rules\", \"version\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.Policy.prototype, {auditConfigs:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"auditConfigs\") ? this.Serializable$get(\"auditConfigs\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"auditConfigs\", value);\n}}, bindings:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"bindings\") ? this.Serializable$get(\"bindings\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"bindings\", value);\n}}, etag:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"etag\") ? this.Serializable$get(\"etag\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"etag\", value);\n}}, rules:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"rules\") ? this.Serializable$get(\"rules\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"rules\", value);\n}}, version:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"version\") ? this.Serializable$get(\"version\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"version\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.PrerenderingOptionsParameters = function module$contents$eeapiclient$ee_api_client_PrerenderingOptionsParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.PrerenderingOptions = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"prerenderTiles\", null == parameters.prerenderTiles ? null : parameters.prerenderTiles);\n  this.Serializable$set(\"tileLimiting\", null == parameters.tileLimiting ? null : parameters.tileLimiting);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.PrerenderingOptions, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.PrerenderingOptions.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.PrerenderingOptions;\n};\nmodule$exports$eeapiclient$ee_api_client.PrerenderingOptions.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"prerenderTiles\", \"tileLimiting\"], objects:{tileLimiting:module$exports$eeapiclient$ee_api_client.TileLimiting}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.PrerenderingOptions.prototype, {prerenderTiles:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"prerenderTiles\") ? this.Serializable$get(\"prerenderTiles\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"prerenderTiles\", value);\n}}, tileLimiting:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"tileLimiting\") ? this.Serializable$get(\"tileLimiting\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"tileLimiting\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.ProjectConfigParameters = function module$contents$eeapiclient$ee_api_client_ProjectConfigParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectConfig = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"name\", null == parameters.name ? null : parameters.name);\n  this.Serializable$set(\"registration\", null == parameters.registration ? null : parameters.registration);\n  this.Serializable$set(\"trialStatus\", null == parameters.trialStatus ? null : parameters.trialStatus);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.ProjectConfig, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.ProjectConfig.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.ProjectConfig;\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectConfig.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"name\", \"registration\", \"trialStatus\"], objects:{registration:module$exports$eeapiclient$ee_api_client.ProjectRegistration, trialStatus:module$exports$eeapiclient$ee_api_client.TrialStatus}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ProjectConfig.prototype, {name:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"name\") ? this.Serializable$get(\"name\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"name\", value);\n}}, registration:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"registration\") ? this.Serializable$get(\"registration\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"registration\", value);\n}}, trialStatus:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"trialStatus\") ? this.Serializable$get(\"trialStatus\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"trialStatus\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.ProjectRegistrationParameters = function module$contents$eeapiclient$ee_api_client_ProjectRegistrationParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectRegistration = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"billingConsent\", null == parameters.billingConsent ? null : parameters.billingConsent);\n  this.Serializable$set(\"freeQuota\", null == parameters.freeQuota ? null : parameters.freeQuota);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.ProjectRegistration, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.ProjectRegistration.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.ProjectRegistration;\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectRegistration.prototype.getPartialClassMetadata = function() {\n  return {enums:{billingConsent:module$exports$eeapiclient$ee_api_client.ProjectRegistrationBillingConsentEnum, freeQuota:module$exports$eeapiclient$ee_api_client.ProjectRegistrationFreeQuotaEnum}, keys:[\"billingConsent\", \"freeQuota\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ProjectRegistration.prototype, {billingConsent:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"billingConsent\") ? this.Serializable$get(\"billingConsent\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"billingConsent\", value);\n}}, freeQuota:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"freeQuota\") ? this.Serializable$get(\"freeQuota\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"freeQuota\", value);\n}}});\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ProjectRegistration, {BillingConsent:{configurable:!0, enumerable:!0, get:function() {\n  return module$exports$eeapiclient$ee_api_client.ProjectRegistrationBillingConsentEnum;\n}}, FreeQuota:{configurable:!0, enumerable:!0, get:function() {\n  return module$exports$eeapiclient$ee_api_client.ProjectRegistrationFreeQuotaEnum;\n}}});\nmodule$exports$eeapiclient$ee_api_client.RankByAttributeRuleParameters = function module$contents$eeapiclient$ee_api_client_RankByAttributeRuleParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.RankByAttributeRule = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"attributeName\", null == parameters.attributeName ? null : parameters.attributeName);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.RankByAttributeRule, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.RankByAttributeRule.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.RankByAttributeRule;\n};\nmodule$exports$eeapiclient$ee_api_client.RankByAttributeRule.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"attributeName\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.RankByAttributeRule.prototype, {attributeName:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"attributeName\") ? this.Serializable$get(\"attributeName\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"attributeName\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.RankByGeometryTypeRuleParameters = function module$contents$eeapiclient$ee_api_client_RankByGeometryTypeRuleParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.RankByGeometryTypeRule = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.RankByGeometryTypeRule, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.RankByGeometryTypeRule.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.RankByGeometryTypeRule;\n};\nmodule$exports$eeapiclient$ee_api_client.RankByGeometryTypeRule.prototype.getPartialClassMetadata = function() {\n  return {keys:[]};\n};\nmodule$exports$eeapiclient$ee_api_client.RankByMinVisibleLodRuleParameters = function module$contents$eeapiclient$ee_api_client_RankByMinVisibleLodRuleParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.RankByMinVisibleLodRule = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.RankByMinVisibleLodRule, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.RankByMinVisibleLodRule.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.RankByMinVisibleLodRule;\n};\nmodule$exports$eeapiclient$ee_api_client.RankByMinVisibleLodRule.prototype.getPartialClassMetadata = function() {\n  return {keys:[]};\n};\nmodule$exports$eeapiclient$ee_api_client.RankByMinZoomLevelRuleParameters = function module$contents$eeapiclient$ee_api_client_RankByMinZoomLevelRuleParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.RankByMinZoomLevelRule = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.RankByMinZoomLevelRule, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.RankByMinZoomLevelRule.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.RankByMinZoomLevelRule;\n};\nmodule$exports$eeapiclient$ee_api_client.RankByMinZoomLevelRule.prototype.getPartialClassMetadata = function() {\n  return {keys:[]};\n};\nmodule$exports$eeapiclient$ee_api_client.RankByOneThingRuleParameters = function module$contents$eeapiclient$ee_api_client_RankByOneThingRuleParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.RankByOneThingRule = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"rankByAttributeRule\", null == parameters.rankByAttributeRule ? null : parameters.rankByAttributeRule);\n  this.Serializable$set(\"rankByMinVisibleLodRule\", null == parameters.rankByMinVisibleLodRule ? null : parameters.rankByMinVisibleLodRule);\n  this.Serializable$set(\"rankByGeometryTypeRule\", null == parameters.rankByGeometryTypeRule ? null : parameters.rankByGeometryTypeRule);\n  this.Serializable$set(\"rankByMinZoomLevelRule\", null == parameters.rankByMinZoomLevelRule ? null : parameters.rankByMinZoomLevelRule);\n  this.Serializable$set(\"direction\", null == parameters.direction ? null : parameters.direction);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.RankByOneThingRule, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.RankByOneThingRule.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.RankByOneThingRule;\n};\nmodule$exports$eeapiclient$ee_api_client.RankByOneThingRule.prototype.getPartialClassMetadata = function() {\n  return {enums:{direction:module$exports$eeapiclient$ee_api_client.RankByOneThingRuleDirectionEnum}, keys:[\"direction\", \"rankByAttributeRule\", \"rankByGeometryTypeRule\", \"rankByMinVisibleLodRule\", \"rankByMinZoomLevelRule\"], objects:{rankByAttributeRule:module$exports$eeapiclient$ee_api_client.RankByAttributeRule, rankByGeometryTypeRule:module$exports$eeapiclient$ee_api_client.RankByGeometryTypeRule, \n  rankByMinVisibleLodRule:module$exports$eeapiclient$ee_api_client.RankByMinVisibleLodRule, rankByMinZoomLevelRule:module$exports$eeapiclient$ee_api_client.RankByMinZoomLevelRule}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.RankByOneThingRule.prototype, {direction:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"direction\") ? this.Serializable$get(\"direction\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"direction\", value);\n}}, rankByAttributeRule:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"rankByAttributeRule\") ? this.Serializable$get(\"rankByAttributeRule\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"rankByAttributeRule\", value);\n}}, rankByGeometryTypeRule:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"rankByGeometryTypeRule\") ? this.Serializable$get(\"rankByGeometryTypeRule\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"rankByGeometryTypeRule\", value);\n}}, rankByMinVisibleLodRule:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"rankByMinVisibleLodRule\") ? this.Serializable$get(\"rankByMinVisibleLodRule\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"rankByMinVisibleLodRule\", value);\n}}, rankByMinZoomLevelRule:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"rankByMinZoomLevelRule\") ? this.Serializable$get(\"rankByMinZoomLevelRule\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"rankByMinZoomLevelRule\", value);\n}}});\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.RankByOneThingRule, {Direction:{configurable:!0, enumerable:!0, get:function() {\n  return module$exports$eeapiclient$ee_api_client.RankByOneThingRuleDirectionEnum;\n}}});\nmodule$exports$eeapiclient$ee_api_client.RankingOptionsParameters = function module$contents$eeapiclient$ee_api_client_RankingOptionsParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.RankingOptions = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"zOrderRankingRule\", null == parameters.zOrderRankingRule ? null : parameters.zOrderRankingRule);\n  this.Serializable$set(\"thinningRankingRule\", null == parameters.thinningRankingRule ? null : parameters.thinningRankingRule);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.RankingOptions, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.RankingOptions.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.RankingOptions;\n};\nmodule$exports$eeapiclient$ee_api_client.RankingOptions.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"thinningRankingRule\", \"zOrderRankingRule\"], objects:{thinningRankingRule:module$exports$eeapiclient$ee_api_client.RankingRule, zOrderRankingRule:module$exports$eeapiclient$ee_api_client.RankingRule}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.RankingOptions.prototype, {thinningRankingRule:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"thinningRankingRule\") ? this.Serializable$get(\"thinningRankingRule\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"thinningRankingRule\", value);\n}}, zOrderRankingRule:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"zOrderRankingRule\") ? this.Serializable$get(\"zOrderRankingRule\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"zOrderRankingRule\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.RankingRuleParameters = function module$contents$eeapiclient$ee_api_client_RankingRuleParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.RankingRule = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"rankByOneThingRule\", null == parameters.rankByOneThingRule ? null : parameters.rankByOneThingRule);\n  this.Serializable$set(\"pseudoRandomTiebreaking\", null == parameters.pseudoRandomTiebreaking ? null : parameters.pseudoRandomTiebreaking);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.RankingRule, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.RankingRule.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.RankingRule;\n};\nmodule$exports$eeapiclient$ee_api_client.RankingRule.prototype.getPartialClassMetadata = function() {\n  return {arrays:{rankByOneThingRule:module$exports$eeapiclient$ee_api_client.RankByOneThingRule}, keys:[\"pseudoRandomTiebreaking\", \"rankByOneThingRule\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.RankingRule.prototype, {pseudoRandomTiebreaking:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"pseudoRandomTiebreaking\") ? this.Serializable$get(\"pseudoRandomTiebreaking\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"pseudoRandomTiebreaking\", value);\n}}, rankByOneThingRule:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"rankByOneThingRule\") ? this.Serializable$get(\"rankByOneThingRule\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"rankByOneThingRule\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.RuleParameters = function module$contents$eeapiclient$ee_api_client_RuleParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.Rule = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"description\", null == parameters.description ? null : parameters.description);\n  this.Serializable$set(\"permissions\", null == parameters.permissions ? null : parameters.permissions);\n  this.Serializable$set(\"action\", null == parameters.action ? null : parameters.action);\n  this.Serializable$set(\"in\", null == parameters.in ? null : parameters.in);\n  this.Serializable$set(\"notIn\", null == parameters.notIn ? null : parameters.notIn);\n  this.Serializable$set(\"conditions\", null == parameters.conditions ? null : parameters.conditions);\n  this.Serializable$set(\"logConfig\", null == parameters.logConfig ? null : parameters.logConfig);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.Rule, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.Rule.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.Rule;\n};\nmodule$exports$eeapiclient$ee_api_client.Rule.prototype.getPartialClassMetadata = function() {\n  return {arrays:{conditions:module$exports$eeapiclient$ee_api_client.Condition, logConfig:module$exports$eeapiclient$ee_api_client.LogConfig}, enums:{action:module$exports$eeapiclient$ee_api_client.RuleActionEnum}, keys:\"action conditions description in logConfig notIn permissions\".split(\" \")};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.Rule.prototype, {action:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"action\") ? this.Serializable$get(\"action\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"action\", value);\n}}, conditions:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"conditions\") ? this.Serializable$get(\"conditions\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"conditions\", value);\n}}, description:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"description\") ? this.Serializable$get(\"description\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"description\", value);\n}}, in:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"in\") ? this.Serializable$get(\"in\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"in\", value);\n}}, logConfig:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"logConfig\") ? this.Serializable$get(\"logConfig\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"logConfig\", value);\n}}, notIn:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"notIn\") ? this.Serializable$get(\"notIn\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"notIn\", value);\n}}, permissions:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"permissions\") ? this.Serializable$get(\"permissions\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"permissions\", value);\n}}});\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.Rule, {Action:{configurable:!0, enumerable:!0, get:function() {\n  return module$exports$eeapiclient$ee_api_client.RuleActionEnum;\n}}});\nmodule$exports$eeapiclient$ee_api_client.ScheduledUpdateParameters = function module$contents$eeapiclient$ee_api_client_ScheduledUpdateParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.ScheduledUpdate = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"subscriptionUpdateType\", null == parameters.subscriptionUpdateType ? null : parameters.subscriptionUpdateType);\n  this.Serializable$set(\"updateChangeType\", null == parameters.updateChangeType ? null : parameters.updateChangeType);\n  this.Serializable$set(\"updateTime\", null == parameters.updateTime ? null : parameters.updateTime);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.ScheduledUpdate, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.ScheduledUpdate.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.ScheduledUpdate;\n};\nmodule$exports$eeapiclient$ee_api_client.ScheduledUpdate.prototype.getPartialClassMetadata = function() {\n  return {enums:{subscriptionUpdateType:module$exports$eeapiclient$ee_api_client.ScheduledUpdateSubscriptionUpdateTypeEnum, updateChangeType:module$exports$eeapiclient$ee_api_client.ScheduledUpdateUpdateChangeTypeEnum}, keys:[\"subscriptionUpdateType\", \"updateChangeType\", \"updateTime\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ScheduledUpdate.prototype, {subscriptionUpdateType:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"subscriptionUpdateType\") ? this.Serializable$get(\"subscriptionUpdateType\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"subscriptionUpdateType\", value);\n}}, updateChangeType:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"updateChangeType\") ? this.Serializable$get(\"updateChangeType\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"updateChangeType\", value);\n}}, updateTime:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"updateTime\") ? this.Serializable$get(\"updateTime\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"updateTime\", value);\n}}});\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ScheduledUpdate, {SubscriptionUpdateType:{configurable:!0, enumerable:!0, get:function() {\n  return module$exports$eeapiclient$ee_api_client.ScheduledUpdateSubscriptionUpdateTypeEnum;\n}}, UpdateChangeType:{configurable:!0, enumerable:!0, get:function() {\n  return module$exports$eeapiclient$ee_api_client.ScheduledUpdateUpdateChangeTypeEnum;\n}}});\nmodule$exports$eeapiclient$ee_api_client.SetIamPolicyRequestParameters = function module$contents$eeapiclient$ee_api_client_SetIamPolicyRequestParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.SetIamPolicyRequest = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"policy\", null == parameters.policy ? null : parameters.policy);\n  this.Serializable$set(\"updateMask\", null == parameters.updateMask ? null : parameters.updateMask);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.SetIamPolicyRequest, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.SetIamPolicyRequest.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.SetIamPolicyRequest;\n};\nmodule$exports$eeapiclient$ee_api_client.SetIamPolicyRequest.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"policy\", \"updateMask\"], objects:{policy:module$exports$eeapiclient$ee_api_client.Policy}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.SetIamPolicyRequest.prototype, {policy:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"policy\") ? this.Serializable$get(\"policy\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"policy\", value);\n}}, updateMask:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"updateMask\") ? this.Serializable$get(\"updateMask\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"updateMask\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.StatusParameters = function module$contents$eeapiclient$ee_api_client_StatusParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.Status = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"code\", null == parameters.code ? null : parameters.code);\n  this.Serializable$set(\"message\", null == parameters.message ? null : parameters.message);\n  this.Serializable$set(\"details\", null == parameters.details ? null : parameters.details);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.Status, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.Status.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.Status;\n};\nmodule$exports$eeapiclient$ee_api_client.Status.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"code\", \"details\", \"message\"], objectMaps:{details:{ctor:null, isPropertyArray:!0, isSerializable:!1, isValueArray:!1}}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.Status.prototype, {code:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"code\") ? this.Serializable$get(\"code\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"code\", value);\n}}, details:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"details\") ? this.Serializable$get(\"details\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"details\", value);\n}}, message:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"message\") ? this.Serializable$get(\"message\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"message\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.SubscriptionParameters = function module$contents$eeapiclient$ee_api_client_SubscriptionParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.Subscription = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"name\", null == parameters.name ? null : parameters.name);\n  this.Serializable$set(\"etag\", null == parameters.etag ? null : parameters.etag);\n  this.Serializable$set(\"type\", null == parameters.type ? null : parameters.type);\n  this.Serializable$set(\"state\", null == parameters.state ? null : parameters.state);\n  this.Serializable$set(\"creationTime\", null == parameters.creationTime ? null : parameters.creationTime);\n  this.Serializable$set(\"startTime\", null == parameters.startTime ? null : parameters.startTime);\n  this.Serializable$set(\"periodEndTime\", null == parameters.periodEndTime ? null : parameters.periodEndTime);\n  this.Serializable$set(\"endTime\", null == parameters.endTime ? null : parameters.endTime);\n  this.Serializable$set(\"scheduledUpdate\", null == parameters.scheduledUpdate ? null : parameters.scheduledUpdate);\n  this.Serializable$set(\"trialState\", null == parameters.trialState ? null : parameters.trialState);\n  this.Serializable$set(\"errorDetail\", null == parameters.errorDetail ? null : parameters.errorDetail);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.Subscription, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.Subscription.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.Subscription;\n};\nmodule$exports$eeapiclient$ee_api_client.Subscription.prototype.getPartialClassMetadata = function() {\n  return {enums:{state:module$exports$eeapiclient$ee_api_client.SubscriptionStateEnum, trialState:module$exports$eeapiclient$ee_api_client.SubscriptionTrialStateEnum, type:module$exports$eeapiclient$ee_api_client.SubscriptionTypeEnum}, keys:\"creationTime endTime errorDetail etag name periodEndTime scheduledUpdate startTime state trialState type\".split(\" \"), objects:{scheduledUpdate:module$exports$eeapiclient$ee_api_client.ScheduledUpdate}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.Subscription.prototype, {creationTime:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"creationTime\") ? this.Serializable$get(\"creationTime\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"creationTime\", value);\n}}, endTime:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"endTime\") ? this.Serializable$get(\"endTime\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"endTime\", value);\n}}, errorDetail:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"errorDetail\") ? this.Serializable$get(\"errorDetail\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"errorDetail\", value);\n}}, etag:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"etag\") ? this.Serializable$get(\"etag\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"etag\", value);\n}}, name:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"name\") ? this.Serializable$get(\"name\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"name\", value);\n}}, periodEndTime:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"periodEndTime\") ? this.Serializable$get(\"periodEndTime\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"periodEndTime\", value);\n}}, scheduledUpdate:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"scheduledUpdate\") ? this.Serializable$get(\"scheduledUpdate\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"scheduledUpdate\", value);\n}}, startTime:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"startTime\") ? this.Serializable$get(\"startTime\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"startTime\", value);\n}}, state:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"state\") ? this.Serializable$get(\"state\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"state\", value);\n}}, trialState:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"trialState\") ? this.Serializable$get(\"trialState\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"trialState\", value);\n}}, type:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"type\") ? this.Serializable$get(\"type\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"type\", value);\n}}});\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.Subscription, {State:{configurable:!0, enumerable:!0, get:function() {\n  return module$exports$eeapiclient$ee_api_client.SubscriptionStateEnum;\n}}, TrialState:{configurable:!0, enumerable:!0, get:function() {\n  return module$exports$eeapiclient$ee_api_client.SubscriptionTrialStateEnum;\n}}, Type:{configurable:!0, enumerable:!0, get:function() {\n  return module$exports$eeapiclient$ee_api_client.SubscriptionTypeEnum;\n}}});\nmodule$exports$eeapiclient$ee_api_client.TableParameters = function module$contents$eeapiclient$ee_api_client_TableParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.Table = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"name\", null == parameters.name ? null : parameters.name);\n  this.Serializable$set(\"expression\", null == parameters.expression ? null : parameters.expression);\n  this.Serializable$set(\"fileFormat\", null == parameters.fileFormat ? null : parameters.fileFormat);\n  this.Serializable$set(\"selectors\", null == parameters.selectors ? null : parameters.selectors);\n  this.Serializable$set(\"filename\", null == parameters.filename ? null : parameters.filename);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.Table, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.Table.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.Table;\n};\nmodule$exports$eeapiclient$ee_api_client.Table.prototype.getPartialClassMetadata = function() {\n  return {enums:{fileFormat:module$exports$eeapiclient$ee_api_client.TableFileFormatEnum}, keys:[\"expression\", \"fileFormat\", \"filename\", \"name\", \"selectors\"], objects:{expression:module$exports$eeapiclient$ee_api_client.Expression}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.Table.prototype, {expression:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"expression\") ? this.Serializable$get(\"expression\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"expression\", value);\n}}, fileFormat:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"fileFormat\") ? this.Serializable$get(\"fileFormat\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"fileFormat\", value);\n}}, filename:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"filename\") ? this.Serializable$get(\"filename\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"filename\", value);\n}}, name:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"name\") ? this.Serializable$get(\"name\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"name\", value);\n}}, selectors:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"selectors\") ? this.Serializable$get(\"selectors\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"selectors\", value);\n}}});\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.Table, {FileFormat:{configurable:!0, enumerable:!0, get:function() {\n  return module$exports$eeapiclient$ee_api_client.TableFileFormatEnum;\n}}});\nmodule$exports$eeapiclient$ee_api_client.TableAssetExportOptionsParameters = function module$contents$eeapiclient$ee_api_client_TableAssetExportOptionsParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.TableAssetExportOptions = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"earthEngineDestination\", null == parameters.earthEngineDestination ? null : parameters.earthEngineDestination);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.TableAssetExportOptions, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.TableAssetExportOptions.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.TableAssetExportOptions;\n};\nmodule$exports$eeapiclient$ee_api_client.TableAssetExportOptions.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"earthEngineDestination\"], objects:{earthEngineDestination:module$exports$eeapiclient$ee_api_client.EarthEngineDestination}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.TableAssetExportOptions.prototype, {earthEngineDestination:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"earthEngineDestination\") ? this.Serializable$get(\"earthEngineDestination\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"earthEngineDestination\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.TableFileExportOptionsParameters = function module$contents$eeapiclient$ee_api_client_TableFileExportOptionsParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.TableFileExportOptions = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"driveDestination\", null == parameters.driveDestination ? null : parameters.driveDestination);\n  this.Serializable$set(\"cloudStorageDestination\", null == parameters.cloudStorageDestination ? null : parameters.cloudStorageDestination);\n  this.Serializable$set(\"gcsDestination\", null == parameters.gcsDestination ? null : parameters.gcsDestination);\n  this.Serializable$set(\"fileFormat\", null == parameters.fileFormat ? null : parameters.fileFormat);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.TableFileExportOptions, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.TableFileExportOptions.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.TableFileExportOptions;\n};\nmodule$exports$eeapiclient$ee_api_client.TableFileExportOptions.prototype.getPartialClassMetadata = function() {\n  return {enums:{fileFormat:module$exports$eeapiclient$ee_api_client.TableFileExportOptionsFileFormatEnum}, keys:[\"cloudStorageDestination\", \"driveDestination\", \"fileFormat\", \"gcsDestination\"], objects:{cloudStorageDestination:module$exports$eeapiclient$ee_api_client.CloudStorageDestination, driveDestination:module$exports$eeapiclient$ee_api_client.DriveDestination, gcsDestination:module$exports$eeapiclient$ee_api_client.GcsDestination}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.TableFileExportOptions.prototype, {cloudStorageDestination:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"cloudStorageDestination\") ? this.Serializable$get(\"cloudStorageDestination\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"cloudStorageDestination\", value);\n}}, driveDestination:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"driveDestination\") ? this.Serializable$get(\"driveDestination\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"driveDestination\", value);\n}}, fileFormat:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"fileFormat\") ? this.Serializable$get(\"fileFormat\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"fileFormat\", value);\n}}, gcsDestination:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"gcsDestination\") ? this.Serializable$get(\"gcsDestination\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"gcsDestination\", value);\n}}});\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.TableFileExportOptions, {FileFormat:{configurable:!0, enumerable:!0, get:function() {\n  return module$exports$eeapiclient$ee_api_client.TableFileExportOptionsFileFormatEnum;\n}}});\nmodule$exports$eeapiclient$ee_api_client.TableLocationParameters = function module$contents$eeapiclient$ee_api_client_TableLocationParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.TableLocation = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"paths\", null == parameters.paths ? null : parameters.paths);\n  this.Serializable$set(\"sizeBytes\", null == parameters.sizeBytes ? null : parameters.sizeBytes);\n  this.Serializable$set(\"shardCount\", null == parameters.shardCount ? null : parameters.shardCount);\n  this.Serializable$set(\"primaryGeometryColumn\", null == parameters.primaryGeometryColumn ? null : parameters.primaryGeometryColumn);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.TableLocation, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.TableLocation.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.TableLocation;\n};\nmodule$exports$eeapiclient$ee_api_client.TableLocation.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"paths\", \"primaryGeometryColumn\", \"shardCount\", \"sizeBytes\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.TableLocation.prototype, {paths:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"paths\") ? this.Serializable$get(\"paths\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"paths\", value);\n}}, primaryGeometryColumn:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"primaryGeometryColumn\") ? this.Serializable$get(\"primaryGeometryColumn\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"primaryGeometryColumn\", value);\n}}, shardCount:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"shardCount\") ? this.Serializable$get(\"shardCount\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"shardCount\", value);\n}}, sizeBytes:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"sizeBytes\") ? this.Serializable$get(\"sizeBytes\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"sizeBytes\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.TableManifestParameters = function module$contents$eeapiclient$ee_api_client_TableManifestParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.TableManifest = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"name\", null == parameters.name ? null : parameters.name);\n  this.Serializable$set(\"properties\", null == parameters.properties ? null : parameters.properties);\n  this.Serializable$set(\"uriPrefix\", null == parameters.uriPrefix ? null : parameters.uriPrefix);\n  this.Serializable$set(\"sources\", null == parameters.sources ? null : parameters.sources);\n  this.Serializable$set(\"startTime\", null == parameters.startTime ? null : parameters.startTime);\n  this.Serializable$set(\"endTime\", null == parameters.endTime ? null : parameters.endTime);\n  this.Serializable$set(\"csvColumnDataTypeOverrides\", null == parameters.csvColumnDataTypeOverrides ? null : parameters.csvColumnDataTypeOverrides);\n  this.Serializable$set(\"policy\", null == parameters.policy ? null : parameters.policy);\n  this.Serializable$set(\"columnDataTypeOverrides\", null == parameters.columnDataTypeOverrides ? null : parameters.columnDataTypeOverrides);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.TableManifest, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.TableManifest.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.TableManifest;\n};\nmodule$exports$eeapiclient$ee_api_client.TableManifest.prototype.getPartialClassMetadata = function() {\n  return {arrays:{sources:module$exports$eeapiclient$ee_api_client.TableSource}, enums:{columnDataTypeOverrides:module$exports$eeapiclient$ee_api_client.TableManifestColumnDataTypeOverridesEnum, csvColumnDataTypeOverrides:module$exports$eeapiclient$ee_api_client.TableManifestCsvColumnDataTypeOverridesEnum}, keys:\"columnDataTypeOverrides csvColumnDataTypeOverrides endTime name policy properties sources startTime uriPrefix\".split(\" \"), \n  objectMaps:{columnDataTypeOverrides:{ctor:null, isPropertyArray:!1, isSerializable:!1, isValueArray:!1}, csvColumnDataTypeOverrides:{ctor:null, isPropertyArray:!1, isSerializable:!1, isValueArray:!1}, properties:{ctor:null, isPropertyArray:!1, isSerializable:!1, isValueArray:!1}}, objects:{policy:module$exports$eeapiclient$ee_api_client.Policy}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.TableManifest.prototype, {columnDataTypeOverrides:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"columnDataTypeOverrides\") ? this.Serializable$get(\"columnDataTypeOverrides\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"columnDataTypeOverrides\", value);\n}}, csvColumnDataTypeOverrides:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"csvColumnDataTypeOverrides\") ? this.Serializable$get(\"csvColumnDataTypeOverrides\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"csvColumnDataTypeOverrides\", value);\n}}, endTime:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"endTime\") ? this.Serializable$get(\"endTime\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"endTime\", value);\n}}, name:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"name\") ? this.Serializable$get(\"name\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"name\", value);\n}}, policy:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"policy\") ? this.Serializable$get(\"policy\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"policy\", value);\n}}, properties:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"properties\") ? this.Serializable$get(\"properties\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"properties\", value);\n}}, sources:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"sources\") ? this.Serializable$get(\"sources\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"sources\", value);\n}}, startTime:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"startTime\") ? this.Serializable$get(\"startTime\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"startTime\", value);\n}}, uriPrefix:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"uriPrefix\") ? this.Serializable$get(\"uriPrefix\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"uriPrefix\", value);\n}}});\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.TableManifest, {ColumnDataTypeOverrides:{configurable:!0, enumerable:!0, get:function() {\n  return module$exports$eeapiclient$ee_api_client.TableManifestColumnDataTypeOverridesEnum;\n}}, CsvColumnDataTypeOverrides:{configurable:!0, enumerable:!0, get:function() {\n  return module$exports$eeapiclient$ee_api_client.TableManifestCsvColumnDataTypeOverridesEnum;\n}}});\nmodule$exports$eeapiclient$ee_api_client.TableSourceParameters = function module$contents$eeapiclient$ee_api_client_TableSourceParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.TableSource = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"uris\", null == parameters.uris ? null : parameters.uris);\n  this.Serializable$set(\"charset\", null == parameters.charset ? null : parameters.charset);\n  this.Serializable$set(\"maxErrorMeters\", null == parameters.maxErrorMeters ? null : parameters.maxErrorMeters);\n  this.Serializable$set(\"maxVertices\", null == parameters.maxVertices ? null : parameters.maxVertices);\n  this.Serializable$set(\"crs\", null == parameters.crs ? null : parameters.crs);\n  this.Serializable$set(\"geodesic\", null == parameters.geodesic ? null : parameters.geodesic);\n  this.Serializable$set(\"primaryGeometryColumn\", null == parameters.primaryGeometryColumn ? null : parameters.primaryGeometryColumn);\n  this.Serializable$set(\"xColumn\", null == parameters.xColumn ? null : parameters.xColumn);\n  this.Serializable$set(\"yColumn\", null == parameters.yColumn ? null : parameters.yColumn);\n  this.Serializable$set(\"dateFormat\", null == parameters.dateFormat ? null : parameters.dateFormat);\n  this.Serializable$set(\"csvDelimiter\", null == parameters.csvDelimiter ? null : parameters.csvDelimiter);\n  this.Serializable$set(\"csvQualifier\", null == parameters.csvQualifier ? null : parameters.csvQualifier);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.TableSource, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.TableSource.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.TableSource;\n};\nmodule$exports$eeapiclient$ee_api_client.TableSource.prototype.getPartialClassMetadata = function() {\n  return {keys:\"charset crs csvDelimiter csvQualifier dateFormat geodesic maxErrorMeters maxVertices primaryGeometryColumn uris xColumn yColumn\".split(\" \")};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.TableSource.prototype, {charset:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"charset\") ? this.Serializable$get(\"charset\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"charset\", value);\n}}, crs:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"crs\") ? this.Serializable$get(\"crs\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"crs\", value);\n}}, csvDelimiter:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"csvDelimiter\") ? this.Serializable$get(\"csvDelimiter\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"csvDelimiter\", value);\n}}, csvQualifier:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"csvQualifier\") ? this.Serializable$get(\"csvQualifier\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"csvQualifier\", value);\n}}, dateFormat:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"dateFormat\") ? this.Serializable$get(\"dateFormat\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"dateFormat\", value);\n}}, geodesic:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"geodesic\") ? this.Serializable$get(\"geodesic\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"geodesic\", value);\n}}, maxErrorMeters:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"maxErrorMeters\") ? this.Serializable$get(\"maxErrorMeters\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"maxErrorMeters\", value);\n}}, maxVertices:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"maxVertices\") ? this.Serializable$get(\"maxVertices\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"maxVertices\", value);\n}}, primaryGeometryColumn:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"primaryGeometryColumn\") ? this.Serializable$get(\"primaryGeometryColumn\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"primaryGeometryColumn\", value);\n}}, uris:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"uris\") ? this.Serializable$get(\"uris\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"uris\", value);\n}}, xColumn:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"xColumn\") ? this.Serializable$get(\"xColumn\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"xColumn\", value);\n}}, yColumn:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"yColumn\") ? this.Serializable$get(\"yColumn\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"yColumn\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.TerminateSubscriptionRequestParameters = function module$contents$eeapiclient$ee_api_client_TerminateSubscriptionRequestParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.TerminateSubscriptionRequest = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"terminationType\", null == parameters.terminationType ? null : parameters.terminationType);\n  this.Serializable$set(\"etag\", null == parameters.etag ? null : parameters.etag);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.TerminateSubscriptionRequest, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.TerminateSubscriptionRequest.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.TerminateSubscriptionRequest;\n};\nmodule$exports$eeapiclient$ee_api_client.TerminateSubscriptionRequest.prototype.getPartialClassMetadata = function() {\n  return {enums:{terminationType:module$exports$eeapiclient$ee_api_client.TerminateSubscriptionRequestTerminationTypeEnum}, keys:[\"etag\", \"terminationType\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.TerminateSubscriptionRequest.prototype, {etag:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"etag\") ? this.Serializable$get(\"etag\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"etag\", value);\n}}, terminationType:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"terminationType\") ? this.Serializable$get(\"terminationType\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"terminationType\", value);\n}}});\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.TerminateSubscriptionRequest, {TerminationType:{configurable:!0, enumerable:!0, get:function() {\n  return module$exports$eeapiclient$ee_api_client.TerminateSubscriptionRequestTerminationTypeEnum;\n}}});\nmodule$exports$eeapiclient$ee_api_client.TestIamPermissionsRequestParameters = function module$contents$eeapiclient$ee_api_client_TestIamPermissionsRequestParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.TestIamPermissionsRequest = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"permissions\", null == parameters.permissions ? null : parameters.permissions);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.TestIamPermissionsRequest, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.TestIamPermissionsRequest.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.TestIamPermissionsRequest;\n};\nmodule$exports$eeapiclient$ee_api_client.TestIamPermissionsRequest.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"permissions\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.TestIamPermissionsRequest.prototype, {permissions:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"permissions\") ? this.Serializable$get(\"permissions\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"permissions\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.TestIamPermissionsResponseParameters = function module$contents$eeapiclient$ee_api_client_TestIamPermissionsResponseParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.TestIamPermissionsResponse = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"permissions\", null == parameters.permissions ? null : parameters.permissions);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.TestIamPermissionsResponse, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.TestIamPermissionsResponse.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.TestIamPermissionsResponse;\n};\nmodule$exports$eeapiclient$ee_api_client.TestIamPermissionsResponse.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"permissions\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.TestIamPermissionsResponse.prototype, {permissions:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"permissions\") ? this.Serializable$get(\"permissions\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"permissions\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.TfRecordImageExportOptionsParameters = function module$contents$eeapiclient$ee_api_client_TfRecordImageExportOptionsParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.TfRecordImageExportOptions = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"tileDimensions\", null == parameters.tileDimensions ? null : parameters.tileDimensions);\n  this.Serializable$set(\"marginDimensions\", null == parameters.marginDimensions ? null : parameters.marginDimensions);\n  this.Serializable$set(\"compress\", null == parameters.compress ? null : parameters.compress);\n  this.Serializable$set(\"maxSizeBytes\", null == parameters.maxSizeBytes ? null : parameters.maxSizeBytes);\n  this.Serializable$set(\"defaultValue\", null == parameters.defaultValue ? null : parameters.defaultValue);\n  this.Serializable$set(\"tensorDepths\", null == parameters.tensorDepths ? null : parameters.tensorDepths);\n  this.Serializable$set(\"sequenceData\", null == parameters.sequenceData ? null : parameters.sequenceData);\n  this.Serializable$set(\"collapseBands\", null == parameters.collapseBands ? null : parameters.collapseBands);\n  this.Serializable$set(\"maxMaskedRatio\", null == parameters.maxMaskedRatio ? null : parameters.maxMaskedRatio);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.TfRecordImageExportOptions, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.TfRecordImageExportOptions.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.TfRecordImageExportOptions;\n};\nmodule$exports$eeapiclient$ee_api_client.TfRecordImageExportOptions.prototype.getPartialClassMetadata = function() {\n  return {keys:\"collapseBands compress defaultValue marginDimensions maxMaskedRatio maxSizeBytes sequenceData tensorDepths tileDimensions\".split(\" \"), objectMaps:{tensorDepths:{ctor:null, isPropertyArray:!1, isSerializable:!1, isValueArray:!1}}, objects:{marginDimensions:module$exports$eeapiclient$ee_api_client.GridDimensions, tileDimensions:module$exports$eeapiclient$ee_api_client.GridDimensions}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.TfRecordImageExportOptions.prototype, {collapseBands:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"collapseBands\") ? this.Serializable$get(\"collapseBands\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"collapseBands\", value);\n}}, compress:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"compress\") ? this.Serializable$get(\"compress\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"compress\", value);\n}}, defaultValue:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"defaultValue\") ? this.Serializable$get(\"defaultValue\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"defaultValue\", value);\n}}, marginDimensions:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"marginDimensions\") ? this.Serializable$get(\"marginDimensions\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"marginDimensions\", value);\n}}, maxMaskedRatio:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"maxMaskedRatio\") ? this.Serializable$get(\"maxMaskedRatio\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"maxMaskedRatio\", value);\n}}, maxSizeBytes:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"maxSizeBytes\") ? this.Serializable$get(\"maxSizeBytes\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"maxSizeBytes\", value);\n}}, sequenceData:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"sequenceData\") ? this.Serializable$get(\"sequenceData\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"sequenceData\", value);\n}}, tensorDepths:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"tensorDepths\") ? this.Serializable$get(\"tensorDepths\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"tensorDepths\", value);\n}}, tileDimensions:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"tileDimensions\") ? this.Serializable$get(\"tileDimensions\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"tileDimensions\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.ThinningOptionsParameters = function module$contents$eeapiclient$ee_api_client_ThinningOptionsParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.ThinningOptions = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"maxFeaturesPerTile\", null == parameters.maxFeaturesPerTile ? null : parameters.maxFeaturesPerTile);\n  this.Serializable$set(\"thinningStrategy\", null == parameters.thinningStrategy ? null : parameters.thinningStrategy);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.ThinningOptions, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.ThinningOptions.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.ThinningOptions;\n};\nmodule$exports$eeapiclient$ee_api_client.ThinningOptions.prototype.getPartialClassMetadata = function() {\n  return {enums:{thinningStrategy:module$exports$eeapiclient$ee_api_client.ThinningOptionsThinningStrategyEnum}, keys:[\"maxFeaturesPerTile\", \"thinningStrategy\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ThinningOptions.prototype, {maxFeaturesPerTile:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"maxFeaturesPerTile\") ? this.Serializable$get(\"maxFeaturesPerTile\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"maxFeaturesPerTile\", value);\n}}, thinningStrategy:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"thinningStrategy\") ? this.Serializable$get(\"thinningStrategy\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"thinningStrategy\", value);\n}}});\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ThinningOptions, {ThinningStrategy:{configurable:!0, enumerable:!0, get:function() {\n  return module$exports$eeapiclient$ee_api_client.ThinningOptionsThinningStrategyEnum;\n}}});\nmodule$exports$eeapiclient$ee_api_client.ThumbnailParameters = function module$contents$eeapiclient$ee_api_client_ThumbnailParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.Thumbnail = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"name\", null == parameters.name ? null : parameters.name);\n  this.Serializable$set(\"expression\", null == parameters.expression ? null : parameters.expression);\n  this.Serializable$set(\"fileFormat\", null == parameters.fileFormat ? null : parameters.fileFormat);\n  this.Serializable$set(\"bandIds\", null == parameters.bandIds ? null : parameters.bandIds);\n  this.Serializable$set(\"visualizationOptions\", null == parameters.visualizationOptions ? null : parameters.visualizationOptions);\n  this.Serializable$set(\"grid\", null == parameters.grid ? null : parameters.grid);\n  this.Serializable$set(\"filenamePrefix\", null == parameters.filenamePrefix ? null : parameters.filenamePrefix);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.Thumbnail, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.Thumbnail.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.Thumbnail;\n};\nmodule$exports$eeapiclient$ee_api_client.Thumbnail.prototype.getPartialClassMetadata = function() {\n  return {enums:{fileFormat:module$exports$eeapiclient$ee_api_client.ThumbnailFileFormatEnum}, keys:\"bandIds expression fileFormat filenamePrefix grid name visualizationOptions\".split(\" \"), objects:{expression:module$exports$eeapiclient$ee_api_client.Expression, grid:module$exports$eeapiclient$ee_api_client.PixelGrid, visualizationOptions:module$exports$eeapiclient$ee_api_client.VisualizationOptions}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.Thumbnail.prototype, {bandIds:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"bandIds\") ? this.Serializable$get(\"bandIds\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"bandIds\", value);\n}}, expression:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"expression\") ? this.Serializable$get(\"expression\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"expression\", value);\n}}, fileFormat:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"fileFormat\") ? this.Serializable$get(\"fileFormat\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"fileFormat\", value);\n}}, filenamePrefix:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"filenamePrefix\") ? this.Serializable$get(\"filenamePrefix\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"filenamePrefix\", value);\n}}, grid:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"grid\") ? this.Serializable$get(\"grid\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"grid\", value);\n}}, name:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"name\") ? this.Serializable$get(\"name\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"name\", value);\n}}, visualizationOptions:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"visualizationOptions\") ? this.Serializable$get(\"visualizationOptions\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"visualizationOptions\", value);\n}}});\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.Thumbnail, {FileFormat:{configurable:!0, enumerable:!0, get:function() {\n  return module$exports$eeapiclient$ee_api_client.ThumbnailFileFormatEnum;\n}}});\nmodule$exports$eeapiclient$ee_api_client.TileLimitingParameters = function module$contents$eeapiclient$ee_api_client_TileLimitingParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.TileLimiting = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"maxPrerenderZoom\", null == parameters.maxPrerenderZoom ? null : parameters.maxPrerenderZoom);\n  this.Serializable$set(\"minVerticesPerTile\", null == parameters.minVerticesPerTile ? null : parameters.minVerticesPerTile);\n  this.Serializable$set(\"neighborDepth\", null == parameters.neighborDepth ? null : parameters.neighborDepth);\n  this.Serializable$set(\"minFeaturesPerTile\", null == parameters.minFeaturesPerTile ? null : parameters.minFeaturesPerTile);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.TileLimiting, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.TileLimiting.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.TileLimiting;\n};\nmodule$exports$eeapiclient$ee_api_client.TileLimiting.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"maxPrerenderZoom\", \"minFeaturesPerTile\", \"minVerticesPerTile\", \"neighborDepth\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.TileLimiting.prototype, {maxPrerenderZoom:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"maxPrerenderZoom\") ? this.Serializable$get(\"maxPrerenderZoom\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"maxPrerenderZoom\", value);\n}}, minFeaturesPerTile:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"minFeaturesPerTile\") ? this.Serializable$get(\"minFeaturesPerTile\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"minFeaturesPerTile\", value);\n}}, minVerticesPerTile:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"minVerticesPerTile\") ? this.Serializable$get(\"minVerticesPerTile\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"minVerticesPerTile\", value);\n}}, neighborDepth:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"neighborDepth\") ? this.Serializable$get(\"neighborDepth\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"neighborDepth\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.TileOptionsParameters = function module$contents$eeapiclient$ee_api_client_TileOptionsParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.TileOptions = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"endZoom\", null == parameters.endZoom ? null : parameters.endZoom);\n  this.Serializable$set(\"maxZoom\", null == parameters.maxZoom ? null : parameters.maxZoom);\n  this.Serializable$set(\"scale\", null == parameters.scale ? null : parameters.scale);\n  this.Serializable$set(\"startZoom\", null == parameters.startZoom ? null : parameters.startZoom);\n  this.Serializable$set(\"minZoom\", null == parameters.minZoom ? null : parameters.minZoom);\n  this.Serializable$set(\"skipEmpty\", null == parameters.skipEmpty ? null : parameters.skipEmpty);\n  this.Serializable$set(\"skipEmptyTiles\", null == parameters.skipEmptyTiles ? null : parameters.skipEmptyTiles);\n  this.Serializable$set(\"mapsApiKey\", null == parameters.mapsApiKey ? null : parameters.mapsApiKey);\n  this.Serializable$set(\"dimensions\", null == parameters.dimensions ? null : parameters.dimensions);\n  this.Serializable$set(\"tileDimensions\", null == parameters.tileDimensions ? null : parameters.tileDimensions);\n  this.Serializable$set(\"stride\", null == parameters.stride ? null : parameters.stride);\n  this.Serializable$set(\"zoomSubset\", null == parameters.zoomSubset ? null : parameters.zoomSubset);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.TileOptions, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.TileOptions.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.TileOptions;\n};\nmodule$exports$eeapiclient$ee_api_client.TileOptions.prototype.getPartialClassMetadata = function() {\n  return {keys:\"dimensions endZoom mapsApiKey maxZoom minZoom scale skipEmpty skipEmptyTiles startZoom stride tileDimensions zoomSubset\".split(\" \"), objects:{dimensions:module$exports$eeapiclient$ee_api_client.GridDimensions, tileDimensions:module$exports$eeapiclient$ee_api_client.GridDimensions, zoomSubset:module$exports$eeapiclient$ee_api_client.ZoomSubset}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.TileOptions.prototype, {dimensions:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"dimensions\") ? this.Serializable$get(\"dimensions\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"dimensions\", value);\n}}, endZoom:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"endZoom\") ? this.Serializable$get(\"endZoom\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"endZoom\", value);\n}}, mapsApiKey:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"mapsApiKey\") ? this.Serializable$get(\"mapsApiKey\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"mapsApiKey\", value);\n}}, maxZoom:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"maxZoom\") ? this.Serializable$get(\"maxZoom\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"maxZoom\", value);\n}}, minZoom:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"minZoom\") ? this.Serializable$get(\"minZoom\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"minZoom\", value);\n}}, scale:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"scale\") ? this.Serializable$get(\"scale\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"scale\", value);\n}}, skipEmpty:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"skipEmpty\") ? this.Serializable$get(\"skipEmpty\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"skipEmpty\", value);\n}}, skipEmptyTiles:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"skipEmptyTiles\") ? this.Serializable$get(\"skipEmptyTiles\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"skipEmptyTiles\", value);\n}}, startZoom:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"startZoom\") ? this.Serializable$get(\"startZoom\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"startZoom\", value);\n}}, stride:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"stride\") ? this.Serializable$get(\"stride\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"stride\", value);\n}}, tileDimensions:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"tileDimensions\") ? this.Serializable$get(\"tileDimensions\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"tileDimensions\", value);\n}}, zoomSubset:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"zoomSubset\") ? this.Serializable$get(\"zoomSubset\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"zoomSubset\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.TilesetParameters = function module$contents$eeapiclient$ee_api_client_TilesetParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.Tileset = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"id\", null == parameters.id ? null : parameters.id);\n  this.Serializable$set(\"sources\", null == parameters.sources ? null : parameters.sources);\n  this.Serializable$set(\"dataType\", null == parameters.dataType ? null : parameters.dataType);\n  this.Serializable$set(\"crs\", null == parameters.crs ? null : parameters.crs);\n  this.Serializable$set(\"subdatasetPrefix\", null == parameters.subdatasetPrefix ? null : parameters.subdatasetPrefix);\n  this.Serializable$set(\"subdatasetSuffix\", null == parameters.subdatasetSuffix ? null : parameters.subdatasetSuffix);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.Tileset, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.Tileset.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.Tileset;\n};\nmodule$exports$eeapiclient$ee_api_client.Tileset.prototype.getPartialClassMetadata = function() {\n  return {arrays:{sources:module$exports$eeapiclient$ee_api_client.ImageSource}, enums:{dataType:module$exports$eeapiclient$ee_api_client.TilesetDataTypeEnum}, keys:\"crs dataType id sources subdatasetPrefix subdatasetSuffix\".split(\" \")};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.Tileset.prototype, {crs:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"crs\") ? this.Serializable$get(\"crs\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"crs\", value);\n}}, dataType:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"dataType\") ? this.Serializable$get(\"dataType\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"dataType\", value);\n}}, id:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"id\") ? this.Serializable$get(\"id\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"id\", value);\n}}, sources:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"sources\") ? this.Serializable$get(\"sources\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"sources\", value);\n}}, subdatasetPrefix:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"subdatasetPrefix\") ? this.Serializable$get(\"subdatasetPrefix\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"subdatasetPrefix\", value);\n}}, subdatasetSuffix:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"subdatasetSuffix\") ? this.Serializable$get(\"subdatasetSuffix\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"subdatasetSuffix\", value);\n}}});\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.Tileset, {DataType:{configurable:!0, enumerable:!0, get:function() {\n  return module$exports$eeapiclient$ee_api_client.TilesetDataTypeEnum;\n}}});\nmodule$exports$eeapiclient$ee_api_client.TilesetBandParameters = function module$contents$eeapiclient$ee_api_client_TilesetBandParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.TilesetBand = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"id\", null == parameters.id ? null : parameters.id);\n  this.Serializable$set(\"tilesetId\", null == parameters.tilesetId ? null : parameters.tilesetId);\n  this.Serializable$set(\"tilesetBandIndex\", null == parameters.tilesetBandIndex ? null : parameters.tilesetBandIndex);\n  this.Serializable$set(\"missingData\", null == parameters.missingData ? null : parameters.missingData);\n  this.Serializable$set(\"pyramidingPolicy\", null == parameters.pyramidingPolicy ? null : parameters.pyramidingPolicy);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.TilesetBand, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.TilesetBand.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.TilesetBand;\n};\nmodule$exports$eeapiclient$ee_api_client.TilesetBand.prototype.getPartialClassMetadata = function() {\n  return {enums:{pyramidingPolicy:module$exports$eeapiclient$ee_api_client.TilesetBandPyramidingPolicyEnum}, keys:[\"id\", \"missingData\", \"pyramidingPolicy\", \"tilesetBandIndex\", \"tilesetId\"], objects:{missingData:module$exports$eeapiclient$ee_api_client.MissingData}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.TilesetBand.prototype, {id:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"id\") ? this.Serializable$get(\"id\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"id\", value);\n}}, missingData:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"missingData\") ? this.Serializable$get(\"missingData\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"missingData\", value);\n}}, pyramidingPolicy:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"pyramidingPolicy\") ? this.Serializable$get(\"pyramidingPolicy\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"pyramidingPolicy\", value);\n}}, tilesetBandIndex:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"tilesetBandIndex\") ? this.Serializable$get(\"tilesetBandIndex\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"tilesetBandIndex\", value);\n}}, tilesetId:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"tilesetId\") ? this.Serializable$get(\"tilesetId\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"tilesetId\", value);\n}}});\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.TilesetBand, {PyramidingPolicy:{configurable:!0, enumerable:!0, get:function() {\n  return module$exports$eeapiclient$ee_api_client.TilesetBandPyramidingPolicyEnum;\n}}});\nmodule$exports$eeapiclient$ee_api_client.TilesetMaskBandParameters = function module$contents$eeapiclient$ee_api_client_TilesetMaskBandParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.TilesetMaskBand = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"tilesetId\", null == parameters.tilesetId ? null : parameters.tilesetId);\n  this.Serializable$set(\"bandIds\", null == parameters.bandIds ? null : parameters.bandIds);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.TilesetMaskBand, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.TilesetMaskBand.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.TilesetMaskBand;\n};\nmodule$exports$eeapiclient$ee_api_client.TilesetMaskBand.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"bandIds\", \"tilesetId\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.TilesetMaskBand.prototype, {bandIds:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"bandIds\") ? this.Serializable$get(\"bandIds\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"bandIds\", value);\n}}, tilesetId:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"tilesetId\") ? this.Serializable$get(\"tilesetId\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"tilesetId\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.TilestoreEntryParameters = function module$contents$eeapiclient$ee_api_client_TilestoreEntryParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.TilestoreEntry = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"sources\", null == parameters.sources ? null : parameters.sources);\n  this.Serializable$set(\"pathPrefix\", null == parameters.pathPrefix ? null : parameters.pathPrefix);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.TilestoreEntry, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.TilestoreEntry.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.TilestoreEntry;\n};\nmodule$exports$eeapiclient$ee_api_client.TilestoreEntry.prototype.getPartialClassMetadata = function() {\n  return {arrays:{sources:module$exports$eeapiclient$ee_api_client.TilestoreSource}, keys:[\"pathPrefix\", \"sources\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.TilestoreEntry.prototype, {pathPrefix:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"pathPrefix\") ? this.Serializable$get(\"pathPrefix\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"pathPrefix\", value);\n}}, sources:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"sources\") ? this.Serializable$get(\"sources\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"sources\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.TilestoreLocationParameters = function module$contents$eeapiclient$ee_api_client_TilestoreLocationParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.TilestoreLocation = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"sources\", null == parameters.sources ? null : parameters.sources);\n  this.Serializable$set(\"pathPrefix\", null == parameters.pathPrefix ? null : parameters.pathPrefix);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.TilestoreLocation, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.TilestoreLocation.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.TilestoreLocation;\n};\nmodule$exports$eeapiclient$ee_api_client.TilestoreLocation.prototype.getPartialClassMetadata = function() {\n  return {arrays:{sources:module$exports$eeapiclient$ee_api_client.TilestoreSource}, keys:[\"pathPrefix\", \"sources\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.TilestoreLocation.prototype, {pathPrefix:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"pathPrefix\") ? this.Serializable$get(\"pathPrefix\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"pathPrefix\", value);\n}}, sources:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"sources\") ? this.Serializable$get(\"sources\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"sources\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.TilestoreSourceParameters = function module$contents$eeapiclient$ee_api_client_TilestoreSourceParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.TilestoreSource = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"pathSuffix\", null == parameters.pathSuffix ? null : parameters.pathSuffix);\n  this.Serializable$set(\"headerSizeBytes\", null == parameters.headerSizeBytes ? null : parameters.headerSizeBytes);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.TilestoreSource, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.TilestoreSource.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.TilestoreSource;\n};\nmodule$exports$eeapiclient$ee_api_client.TilestoreSource.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"headerSizeBytes\", \"pathSuffix\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.TilestoreSource.prototype, {headerSizeBytes:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"headerSizeBytes\") ? this.Serializable$get(\"headerSizeBytes\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"headerSizeBytes\", value);\n}}, pathSuffix:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"pathSuffix\") ? this.Serializable$get(\"pathSuffix\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"pathSuffix\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.TilestoreTilesetParameters = function module$contents$eeapiclient$ee_api_client_TilestoreTilesetParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.TilestoreTileset = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"fileIndexes\", null == parameters.fileIndexes ? null : parameters.fileIndexes);\n  this.Serializable$set(\"firstTileIndex\", null == parameters.firstTileIndex ? null : parameters.firstTileIndex);\n  this.Serializable$set(\"tilesPerFile\", null == parameters.tilesPerFile ? null : parameters.tilesPerFile);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.TilestoreTileset, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.TilestoreTileset.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.TilestoreTileset;\n};\nmodule$exports$eeapiclient$ee_api_client.TilestoreTileset.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"fileIndexes\", \"firstTileIndex\", \"tilesPerFile\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.TilestoreTileset.prototype, {fileIndexes:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"fileIndexes\") ? this.Serializable$get(\"fileIndexes\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"fileIndexes\", value);\n}}, firstTileIndex:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"firstTileIndex\") ? this.Serializable$get(\"firstTileIndex\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"firstTileIndex\", value);\n}}, tilesPerFile:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"tilesPerFile\") ? this.Serializable$get(\"tilesPerFile\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"tilesPerFile\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.TrialStatusParameters = function module$contents$eeapiclient$ee_api_client_TrialStatusParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.TrialStatus = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"billingAccount\", null == parameters.billingAccount ? null : parameters.billingAccount);\n  this.Serializable$set(\"eligibility\", null == parameters.eligibility ? null : parameters.eligibility);\n  this.Serializable$set(\"state\", null == parameters.state ? null : parameters.state);\n  this.Serializable$set(\"startTime\", null == parameters.startTime ? null : parameters.startTime);\n  this.Serializable$set(\"expiryTime\", null == parameters.expiryTime ? null : parameters.expiryTime);\n  this.Serializable$set(\"subscription\", null == parameters.subscription ? null : parameters.subscription);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.TrialStatus, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.TrialStatus.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.TrialStatus;\n};\nmodule$exports$eeapiclient$ee_api_client.TrialStatus.prototype.getPartialClassMetadata = function() {\n  return {enums:{eligibility:module$exports$eeapiclient$ee_api_client.TrialStatusEligibilityEnum, state:module$exports$eeapiclient$ee_api_client.TrialStatusStateEnum}, keys:\"billingAccount eligibility expiryTime startTime state subscription\".split(\" \")};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.TrialStatus.prototype, {billingAccount:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"billingAccount\") ? this.Serializable$get(\"billingAccount\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"billingAccount\", value);\n}}, eligibility:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"eligibility\") ? this.Serializable$get(\"eligibility\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"eligibility\", value);\n}}, expiryTime:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"expiryTime\") ? this.Serializable$get(\"expiryTime\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"expiryTime\", value);\n}}, startTime:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"startTime\") ? this.Serializable$get(\"startTime\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"startTime\", value);\n}}, state:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"state\") ? this.Serializable$get(\"state\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"state\", value);\n}}, subscription:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"subscription\") ? this.Serializable$get(\"subscription\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"subscription\", value);\n}}});\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.TrialStatus, {Eligibility:{configurable:!0, enumerable:!0, get:function() {\n  return module$exports$eeapiclient$ee_api_client.TrialStatusEligibilityEnum;\n}}, State:{configurable:!0, enumerable:!0, get:function() {\n  return module$exports$eeapiclient$ee_api_client.TrialStatusStateEnum;\n}}});\nmodule$exports$eeapiclient$ee_api_client.UpdateAssetRequestParameters = function module$contents$eeapiclient$ee_api_client_UpdateAssetRequestParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.UpdateAssetRequest = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"asset\", null == parameters.asset ? null : parameters.asset);\n  this.Serializable$set(\"updateMask\", null == parameters.updateMask ? null : parameters.updateMask);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.UpdateAssetRequest, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.UpdateAssetRequest.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.UpdateAssetRequest;\n};\nmodule$exports$eeapiclient$ee_api_client.UpdateAssetRequest.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"asset\", \"updateMask\"], objects:{asset:module$exports$eeapiclient$ee_api_client.EarthEngineAsset}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.UpdateAssetRequest.prototype, {asset:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"asset\") ? this.Serializable$get(\"asset\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"asset\", value);\n}}, updateMask:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"updateMask\") ? this.Serializable$get(\"updateMask\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"updateMask\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.ValueNodeParameters = function module$contents$eeapiclient$ee_api_client_ValueNodeParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.ValueNode = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"constantValue\", null == parameters.constantValue ? null : parameters.constantValue);\n  this.Serializable$set(\"integerValue\", null == parameters.integerValue ? null : parameters.integerValue);\n  this.Serializable$set(\"bytesValue\", null == parameters.bytesValue ? null : parameters.bytesValue);\n  this.Serializable$set(\"arrayValue\", null == parameters.arrayValue ? null : parameters.arrayValue);\n  this.Serializable$set(\"dictionaryValue\", null == parameters.dictionaryValue ? null : parameters.dictionaryValue);\n  this.Serializable$set(\"functionDefinitionValue\", null == parameters.functionDefinitionValue ? null : parameters.functionDefinitionValue);\n  this.Serializable$set(\"functionInvocationValue\", null == parameters.functionInvocationValue ? null : parameters.functionInvocationValue);\n  this.Serializable$set(\"argumentReference\", null == parameters.argumentReference ? null : parameters.argumentReference);\n  this.Serializable$set(\"valueReference\", null == parameters.valueReference ? null : parameters.valueReference);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.ValueNode, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.ValueNode.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.ValueNode;\n};\nmodule$exports$eeapiclient$ee_api_client.ValueNode.prototype.getPartialClassMetadata = function() {\n  return {keys:\"argumentReference arrayValue bytesValue constantValue dictionaryValue functionDefinitionValue functionInvocationValue integerValue valueReference\".split(\" \"), objects:{arrayValue:module$exports$eeapiclient$ee_api_client.ArrayValue, dictionaryValue:module$exports$eeapiclient$ee_api_client.DictionaryValue, functionDefinitionValue:module$exports$eeapiclient$ee_api_client.FunctionDefinition, \n  functionInvocationValue:module$exports$eeapiclient$ee_api_client.FunctionInvocation}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ValueNode.prototype, {argumentReference:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"argumentReference\") ? this.Serializable$get(\"argumentReference\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"argumentReference\", value);\n}}, arrayValue:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"arrayValue\") ? this.Serializable$get(\"arrayValue\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"arrayValue\", value);\n}}, bytesValue:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"bytesValue\") ? this.Serializable$get(\"bytesValue\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"bytesValue\", value);\n}}, constantValue:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"constantValue\") ? this.Serializable$get(\"constantValue\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"constantValue\", value);\n}}, dictionaryValue:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"dictionaryValue\") ? this.Serializable$get(\"dictionaryValue\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"dictionaryValue\", value);\n}}, functionDefinitionValue:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"functionDefinitionValue\") ? this.Serializable$get(\"functionDefinitionValue\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"functionDefinitionValue\", value);\n}}, functionInvocationValue:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"functionInvocationValue\") ? this.Serializable$get(\"functionInvocationValue\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"functionInvocationValue\", value);\n}}, integerValue:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"integerValue\") ? this.Serializable$get(\"integerValue\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"integerValue\", value);\n}}, valueReference:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"valueReference\") ? this.Serializable$get(\"valueReference\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"valueReference\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.VideoFileExportOptionsParameters = function module$contents$eeapiclient$ee_api_client_VideoFileExportOptionsParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.VideoFileExportOptions = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"driveDestination\", null == parameters.driveDestination ? null : parameters.driveDestination);\n  this.Serializable$set(\"cloudStorageDestination\", null == parameters.cloudStorageDestination ? null : parameters.cloudStorageDestination);\n  this.Serializable$set(\"gcsDestination\", null == parameters.gcsDestination ? null : parameters.gcsDestination);\n  this.Serializable$set(\"fileFormat\", null == parameters.fileFormat ? null : parameters.fileFormat);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.VideoFileExportOptions, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.VideoFileExportOptions.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.VideoFileExportOptions;\n};\nmodule$exports$eeapiclient$ee_api_client.VideoFileExportOptions.prototype.getPartialClassMetadata = function() {\n  return {enums:{fileFormat:module$exports$eeapiclient$ee_api_client.VideoFileExportOptionsFileFormatEnum}, keys:[\"cloudStorageDestination\", \"driveDestination\", \"fileFormat\", \"gcsDestination\"], objects:{cloudStorageDestination:module$exports$eeapiclient$ee_api_client.CloudStorageDestination, driveDestination:module$exports$eeapiclient$ee_api_client.DriveDestination, gcsDestination:module$exports$eeapiclient$ee_api_client.GcsDestination}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.VideoFileExportOptions.prototype, {cloudStorageDestination:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"cloudStorageDestination\") ? this.Serializable$get(\"cloudStorageDestination\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"cloudStorageDestination\", value);\n}}, driveDestination:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"driveDestination\") ? this.Serializable$get(\"driveDestination\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"driveDestination\", value);\n}}, fileFormat:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"fileFormat\") ? this.Serializable$get(\"fileFormat\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"fileFormat\", value);\n}}, gcsDestination:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"gcsDestination\") ? this.Serializable$get(\"gcsDestination\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"gcsDestination\", value);\n}}});\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.VideoFileExportOptions, {FileFormat:{configurable:!0, enumerable:!0, get:function() {\n  return module$exports$eeapiclient$ee_api_client.VideoFileExportOptionsFileFormatEnum;\n}}});\nmodule$exports$eeapiclient$ee_api_client.VideoOptionsParameters = function module$contents$eeapiclient$ee_api_client_VideoOptionsParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.VideoOptions = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"framesPerSecond\", null == parameters.framesPerSecond ? null : parameters.framesPerSecond);\n  this.Serializable$set(\"maxFrames\", null == parameters.maxFrames ? null : parameters.maxFrames);\n  this.Serializable$set(\"maxPixelsPerFrame\", null == parameters.maxPixelsPerFrame ? null : parameters.maxPixelsPerFrame);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.VideoOptions, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.VideoOptions.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.VideoOptions;\n};\nmodule$exports$eeapiclient$ee_api_client.VideoOptions.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"framesPerSecond\", \"maxFrames\", \"maxPixelsPerFrame\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.VideoOptions.prototype, {framesPerSecond:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"framesPerSecond\") ? this.Serializable$get(\"framesPerSecond\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"framesPerSecond\", value);\n}}, maxFrames:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"maxFrames\") ? this.Serializable$get(\"maxFrames\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"maxFrames\", value);\n}}, maxPixelsPerFrame:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"maxPixelsPerFrame\") ? this.Serializable$get(\"maxPixelsPerFrame\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"maxPixelsPerFrame\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.VideoThumbnailParameters = function module$contents$eeapiclient$ee_api_client_VideoThumbnailParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.VideoThumbnail = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"name\", null == parameters.name ? null : parameters.name);\n  this.Serializable$set(\"expression\", null == parameters.expression ? null : parameters.expression);\n  this.Serializable$set(\"videoOptions\", null == parameters.videoOptions ? null : parameters.videoOptions);\n  this.Serializable$set(\"fileFormat\", null == parameters.fileFormat ? null : parameters.fileFormat);\n  this.Serializable$set(\"grid\", null == parameters.grid ? null : parameters.grid);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.VideoThumbnail, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.VideoThumbnail.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.VideoThumbnail;\n};\nmodule$exports$eeapiclient$ee_api_client.VideoThumbnail.prototype.getPartialClassMetadata = function() {\n  return {enums:{fileFormat:module$exports$eeapiclient$ee_api_client.VideoThumbnailFileFormatEnum}, keys:[\"expression\", \"fileFormat\", \"grid\", \"name\", \"videoOptions\"], objects:{expression:module$exports$eeapiclient$ee_api_client.Expression, grid:module$exports$eeapiclient$ee_api_client.PixelGrid, videoOptions:module$exports$eeapiclient$ee_api_client.VideoOptions}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.VideoThumbnail.prototype, {expression:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"expression\") ? this.Serializable$get(\"expression\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"expression\", value);\n}}, fileFormat:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"fileFormat\") ? this.Serializable$get(\"fileFormat\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"fileFormat\", value);\n}}, grid:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"grid\") ? this.Serializable$get(\"grid\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"grid\", value);\n}}, name:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"name\") ? this.Serializable$get(\"name\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"name\", value);\n}}, videoOptions:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"videoOptions\") ? this.Serializable$get(\"videoOptions\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"videoOptions\", value);\n}}});\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.VideoThumbnail, {FileFormat:{configurable:!0, enumerable:!0, get:function() {\n  return module$exports$eeapiclient$ee_api_client.VideoThumbnailFileFormatEnum;\n}}});\nmodule$exports$eeapiclient$ee_api_client.VisualizationOptionsParameters = function module$contents$eeapiclient$ee_api_client_VisualizationOptionsParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.VisualizationOptions = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"ranges\", null == parameters.ranges ? null : parameters.ranges);\n  this.Serializable$set(\"paletteColors\", null == parameters.paletteColors ? null : parameters.paletteColors);\n  this.Serializable$set(\"gamma\", null == parameters.gamma ? null : parameters.gamma);\n  this.Serializable$set(\"opacity\", null == parameters.opacity ? null : parameters.opacity);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.VisualizationOptions, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.VisualizationOptions.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.VisualizationOptions;\n};\nmodule$exports$eeapiclient$ee_api_client.VisualizationOptions.prototype.getPartialClassMetadata = function() {\n  return {arrays:{ranges:module$exports$eeapiclient$ee_api_client.DoubleRange}, keys:[\"gamma\", \"opacity\", \"paletteColors\", \"ranges\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.VisualizationOptions.prototype, {gamma:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"gamma\") ? this.Serializable$get(\"gamma\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"gamma\", value);\n}}, opacity:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"opacity\") ? this.Serializable$get(\"opacity\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"opacity\", value);\n}}, paletteColors:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"paletteColors\") ? this.Serializable$get(\"paletteColors\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"paletteColors\", value);\n}}, ranges:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"ranges\") ? this.Serializable$get(\"ranges\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"ranges\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.WaitOperationRequestParameters = function module$contents$eeapiclient$ee_api_client_WaitOperationRequestParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.WaitOperationRequest = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"timeout\", null == parameters.timeout ? null : parameters.timeout);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.WaitOperationRequest, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.WaitOperationRequest.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.WaitOperationRequest;\n};\nmodule$exports$eeapiclient$ee_api_client.WaitOperationRequest.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"timeout\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.WaitOperationRequest.prototype, {timeout:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"timeout\") ? this.Serializable$get(\"timeout\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"timeout\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.ZoomSubsetParameters = function module$contents$eeapiclient$ee_api_client_ZoomSubsetParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.ZoomSubset = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"start\", null == parameters.start ? null : parameters.start);\n  this.Serializable$set(\"end\", null == parameters.end ? null : parameters.end);\n  this.Serializable$set(\"min\", null == parameters.min ? null : parameters.min);\n  this.Serializable$set(\"max\", null == parameters.max ? null : parameters.max);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.ZoomSubset, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.ZoomSubset.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.ZoomSubset;\n};\nmodule$exports$eeapiclient$ee_api_client.ZoomSubset.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"end\", \"max\", \"min\", \"start\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ZoomSubset.prototype, {end:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"end\") ? this.Serializable$get(\"end\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"end\", value);\n}}, max:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"max\") ? this.Serializable$get(\"max\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"max\", value);\n}}, min:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"min\") ? this.Serializable$get(\"min\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"min\", value);\n}}, start:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"start\") ? this.Serializable$get(\"start\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"start\", value);\n}}});\nvar module$contents$eeapiclient$ee_api_client_PARAM_MAP_0 = {$Xgafv:\"$.xgafv\", access_token:\"access_token\", alt:\"alt\", assetId:\"assetId\", billingAccount:\"billingAccount\", callback:\"callback\", endTime:\"endTime\", fields:\"fields\", filter:\"filter\", key:\"key\", oauth_token:\"oauth_token\", overwrite:\"overwrite\", pageSize:\"pageSize\", pageToken:\"pageToken\", parent:\"parent\", prettyPrint:\"prettyPrint\", quotaUser:\"quotaUser\", region:\"region\", startTime:\"startTime\", updateMask:\"updateMask\", \nuploadType:\"uploadType\", upload_protocol:\"upload_protocol\", view:\"view\", workloadTag:\"workloadTag\"};\nmodule$exports$eeapiclient$ee_api_client.IBillingAccountsSubscriptionsApiClient$XgafvEnum = function module$contents$eeapiclient$ee_api_client_IBillingAccountsSubscriptionsApiClient$XgafvEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.BillingAccountsSubscriptionsApiClient$XgafvEnum = {1:\"1\", 2:\"2\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.BillingAccountsSubscriptionsApiClient$XgafvEnum[1], module$exports$eeapiclient$ee_api_client.BillingAccountsSubscriptionsApiClient$XgafvEnum[2]];\n}};\nmodule$exports$eeapiclient$ee_api_client.IBillingAccountsSubscriptionsApiClientAltEnum = function module$contents$eeapiclient$ee_api_client_IBillingAccountsSubscriptionsApiClientAltEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.BillingAccountsSubscriptionsApiClientAltEnum = {JSON:\"json\", MEDIA:\"media\", PROTO:\"proto\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.BillingAccountsSubscriptionsApiClientAltEnum.JSON, module$exports$eeapiclient$ee_api_client.BillingAccountsSubscriptionsApiClientAltEnum.MEDIA, module$exports$eeapiclient$ee_api_client.BillingAccountsSubscriptionsApiClientAltEnum.PROTO];\n}};\nmodule$exports$eeapiclient$ee_api_client.BillingAccountsSubscriptionsApiClientImpl = function(gapiVersion, gapiRequestService, apiClientHookFactory) {\n  this.gapiVersion = gapiVersion;\n  this.$apiClient = new module$exports$eeapiclient$promise_api_client.PromiseApiClient(gapiRequestService, void 0 === apiClientHookFactory ? null : apiClientHookFactory);\n};\nmodule$exports$eeapiclient$ee_api_client.BillingAccountsSubscriptionsApiClientImpl.prototype.changeType = function(name, $requestBody, namedParameters, passthroughNamedParameters) {\n  namedParameters = void 0 === namedParameters ? {} : namedParameters;\n  passthroughNamedParameters = void 0 === passthroughNamedParameters ? {} : passthroughNamedParameters;\n  this.$apiClient.$validateParameter(name, RegExp(\"^billingAccounts/[^/]+/subscriptions/[^/]+$\"));\n  return this.$apiClient.$request({body:$requestBody, httpMethod:\"POST\", methodId:\"earthengine.billingAccounts.subscriptions.changeType\", path:\"/\" + this.gapiVersion + \"/\" + name + \":changeType\", queryParams:module$contents$eeapiclient$request_params_buildQueryParams(namedParameters, module$contents$eeapiclient$ee_api_client_PARAM_MAP_0, passthroughNamedParameters), responseCtor:module$exports$eeapiclient$ee_api_client.Subscription});\n};\nmodule$exports$eeapiclient$ee_api_client.BillingAccountsSubscriptionsApiClientImpl.prototype.create = function(parent, $requestBody, namedParameters, passthroughNamedParameters) {\n  namedParameters = void 0 === namedParameters ? {} : namedParameters;\n  passthroughNamedParameters = void 0 === passthroughNamedParameters ? {} : passthroughNamedParameters;\n  this.$apiClient.$validateParameter(parent, RegExp(\"^billingAccounts/[^/]+$\"));\n  return this.$apiClient.$request({body:$requestBody, httpMethod:\"POST\", methodId:\"earthengine.billingAccounts.subscriptions.create\", path:\"/\" + this.gapiVersion + \"/\" + parent + \"/subscriptions\", queryParams:module$contents$eeapiclient$request_params_buildQueryParams(namedParameters, module$contents$eeapiclient$ee_api_client_PARAM_MAP_0, passthroughNamedParameters), responseCtor:module$exports$eeapiclient$ee_api_client.Subscription});\n};\nmodule$exports$eeapiclient$ee_api_client.BillingAccountsSubscriptionsApiClientImpl.prototype.list = function(parent, namedParameters, passthroughNamedParameters) {\n  namedParameters = void 0 === namedParameters ? {} : namedParameters;\n  passthroughNamedParameters = void 0 === passthroughNamedParameters ? {} : passthroughNamedParameters;\n  this.$apiClient.$validateParameter(parent, RegExp(\"^billingAccounts/[^/]+$\"));\n  return this.$apiClient.$request({body:null, httpMethod:\"GET\", methodId:\"earthengine.billingAccounts.subscriptions.list\", path:\"/\" + this.gapiVersion + \"/\" + parent + \"/subscriptions\", queryParams:module$contents$eeapiclient$request_params_buildQueryParams(namedParameters, module$contents$eeapiclient$ee_api_client_PARAM_MAP_0, passthroughNamedParameters), responseCtor:module$exports$eeapiclient$ee_api_client.ListSubscriptionsResponse});\n};\nmodule$exports$eeapiclient$ee_api_client.BillingAccountsSubscriptionsApiClientImpl.prototype.terminate = function(name, $requestBody, namedParameters, passthroughNamedParameters) {\n  namedParameters = void 0 === namedParameters ? {} : namedParameters;\n  passthroughNamedParameters = void 0 === passthroughNamedParameters ? {} : passthroughNamedParameters;\n  this.$apiClient.$validateParameter(name, RegExp(\"^billingAccounts/[^/]+/subscriptions/[^/]+$\"));\n  return this.$apiClient.$request({body:$requestBody, httpMethod:\"POST\", methodId:\"earthengine.billingAccounts.subscriptions.terminate\", path:\"/\" + this.gapiVersion + \"/\" + name + \":terminate\", queryParams:module$contents$eeapiclient$request_params_buildQueryParams(namedParameters, module$contents$eeapiclient$ee_api_client_PARAM_MAP_0, passthroughNamedParameters), responseCtor:module$exports$eeapiclient$ee_api_client.Subscription});\n};\nmodule$exports$eeapiclient$ee_api_client.BillingAccountsSubscriptionsApiClient = function() {\n};\nmodule$exports$eeapiclient$ee_api_client.ICapabilitiesApiClient$XgafvEnum = function module$contents$eeapiclient$ee_api_client_ICapabilitiesApiClient$XgafvEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.CapabilitiesApiClient$XgafvEnum = {1:\"1\", 2:\"2\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.CapabilitiesApiClient$XgafvEnum[1], module$exports$eeapiclient$ee_api_client.CapabilitiesApiClient$XgafvEnum[2]];\n}};\nmodule$exports$eeapiclient$ee_api_client.ICapabilitiesApiClientAltEnum = function module$contents$eeapiclient$ee_api_client_ICapabilitiesApiClientAltEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.CapabilitiesApiClientAltEnum = {JSON:\"json\", MEDIA:\"media\", PROTO:\"proto\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.CapabilitiesApiClientAltEnum.JSON, module$exports$eeapiclient$ee_api_client.CapabilitiesApiClientAltEnum.MEDIA, module$exports$eeapiclient$ee_api_client.CapabilitiesApiClientAltEnum.PROTO];\n}};\nmodule$exports$eeapiclient$ee_api_client.CapabilitiesApiClientImpl = function(gapiVersion, gapiRequestService, apiClientHookFactory) {\n  this.gapiVersion = gapiVersion;\n  this.$apiClient = new module$exports$eeapiclient$promise_api_client.PromiseApiClient(gapiRequestService, void 0 === apiClientHookFactory ? null : apiClientHookFactory);\n};\nmodule$exports$eeapiclient$ee_api_client.CapabilitiesApiClientImpl.prototype.appealRestriction = function($requestBody, namedParameters, passthroughNamedParameters) {\n  namedParameters = void 0 === namedParameters ? {} : namedParameters;\n  passthroughNamedParameters = void 0 === passthroughNamedParameters ? {} : passthroughNamedParameters;\n  return this.$apiClient.$request({body:$requestBody, httpMethod:\"POST\", methodId:\"earthengine.capabilities.appealRestriction\", path:\"/\" + this.gapiVersion + \"/capabilities:appealRestriction\", queryParams:module$contents$eeapiclient$request_params_buildQueryParams(namedParameters, module$contents$eeapiclient$ee_api_client_PARAM_MAP_0, passthroughNamedParameters), responseCtor:module$exports$eeapiclient$ee_api_client.Empty});\n};\nmodule$exports$eeapiclient$ee_api_client.CapabilitiesApiClient = function() {\n};\nmodule$exports$eeapiclient$ee_api_client.IProjectsAlgorithmsApiClient$XgafvEnum = function module$contents$eeapiclient$ee_api_client_IProjectsAlgorithmsApiClient$XgafvEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsAlgorithmsApiClient$XgafvEnum = {1:\"1\", 2:\"2\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ProjectsAlgorithmsApiClient$XgafvEnum[1], module$exports$eeapiclient$ee_api_client.ProjectsAlgorithmsApiClient$XgafvEnum[2]];\n}};\nmodule$exports$eeapiclient$ee_api_client.IProjectsAlgorithmsApiClientAltEnum = function module$contents$eeapiclient$ee_api_client_IProjectsAlgorithmsApiClientAltEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsAlgorithmsApiClientAltEnum = {JSON:\"json\", MEDIA:\"media\", PROTO:\"proto\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ProjectsAlgorithmsApiClientAltEnum.JSON, module$exports$eeapiclient$ee_api_client.ProjectsAlgorithmsApiClientAltEnum.MEDIA, module$exports$eeapiclient$ee_api_client.ProjectsAlgorithmsApiClientAltEnum.PROTO];\n}};\nmodule$exports$eeapiclient$ee_api_client.ProjectsAlgorithmsApiClientImpl = function(gapiVersion, gapiRequestService, apiClientHookFactory) {\n  this.gapiVersion = gapiVersion;\n  this.$apiClient = new module$exports$eeapiclient$promise_api_client.PromiseApiClient(gapiRequestService, void 0 === apiClientHookFactory ? null : apiClientHookFactory);\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsAlgorithmsApiClientImpl.prototype.list = function(parent, namedParameters, passthroughNamedParameters) {\n  namedParameters = void 0 === namedParameters ? {} : namedParameters;\n  passthroughNamedParameters = void 0 === passthroughNamedParameters ? {} : passthroughNamedParameters;\n  this.$apiClient.$validateParameter(parent, RegExp(\"^projects/[^/]+$\"));\n  return this.$apiClient.$request({body:null, httpMethod:\"GET\", methodId:\"earthengine.projects.algorithms.list\", path:\"/\" + this.gapiVersion + \"/\" + parent + \"/algorithms\", queryParams:module$contents$eeapiclient$request_params_buildQueryParams(namedParameters, module$contents$eeapiclient$ee_api_client_PARAM_MAP_0, passthroughNamedParameters), responseCtor:module$exports$eeapiclient$ee_api_client.ListAlgorithmsResponse});\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsAlgorithmsApiClient = function() {\n};\nmodule$exports$eeapiclient$ee_api_client.IProjectsApiClient$XgafvEnum = function module$contents$eeapiclient$ee_api_client_IProjectsApiClient$XgafvEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsApiClient$XgafvEnum = {1:\"1\", 2:\"2\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ProjectsApiClient$XgafvEnum[1], module$exports$eeapiclient$ee_api_client.ProjectsApiClient$XgafvEnum[2]];\n}};\nmodule$exports$eeapiclient$ee_api_client.IProjectsApiClientAltEnum = function module$contents$eeapiclient$ee_api_client_IProjectsApiClientAltEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsApiClientAltEnum = {JSON:\"json\", MEDIA:\"media\", PROTO:\"proto\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ProjectsApiClientAltEnum.JSON, module$exports$eeapiclient$ee_api_client.ProjectsApiClientAltEnum.MEDIA, module$exports$eeapiclient$ee_api_client.ProjectsApiClientAltEnum.PROTO];\n}};\nmodule$exports$eeapiclient$ee_api_client.IProjectsApiClientViewEnum = function module$contents$eeapiclient$ee_api_client_IProjectsApiClientViewEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsApiClientViewEnum = {BASIC:\"BASIC\", EARTH_ENGINE_ASSET_VIEW_UNSPECIFIED:\"EARTH_ENGINE_ASSET_VIEW_UNSPECIFIED\", FULL:\"FULL\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ProjectsApiClientViewEnum.EARTH_ENGINE_ASSET_VIEW_UNSPECIFIED, module$exports$eeapiclient$ee_api_client.ProjectsApiClientViewEnum.FULL, module$exports$eeapiclient$ee_api_client.ProjectsApiClientViewEnum.BASIC];\n}};\nmodule$exports$eeapiclient$ee_api_client.ProjectsApiClientImpl = function(gapiVersion, gapiRequestService, apiClientHookFactory) {\n  this.gapiVersion = gapiVersion;\n  this.$apiClient = new module$exports$eeapiclient$promise_api_client.PromiseApiClient(gapiRequestService, void 0 === apiClientHookFactory ? null : apiClientHookFactory);\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsApiClientImpl.prototype.getCapabilities = function(parent, namedParameters, passthroughNamedParameters) {\n  namedParameters = void 0 === namedParameters ? {} : namedParameters;\n  passthroughNamedParameters = void 0 === passthroughNamedParameters ? {} : passthroughNamedParameters;\n  this.$apiClient.$validateParameter(parent, RegExp(\"^projects/[^/]+$\"));\n  return this.$apiClient.$request({body:null, httpMethod:\"GET\", methodId:\"earthengine.projects.getCapabilities\", path:\"/\" + this.gapiVersion + \"/\" + parent + \"/capabilities\", queryParams:module$contents$eeapiclient$request_params_buildQueryParams(namedParameters, module$contents$eeapiclient$ee_api_client_PARAM_MAP_0, passthroughNamedParameters), responseCtor:module$exports$eeapiclient$ee_api_client.Capabilities});\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsApiClientImpl.prototype.getConfig = function(name, namedParameters, passthroughNamedParameters) {\n  namedParameters = void 0 === namedParameters ? {} : namedParameters;\n  passthroughNamedParameters = void 0 === passthroughNamedParameters ? {} : passthroughNamedParameters;\n  this.$apiClient.$validateParameter(name, RegExp(\"^projects/[^/]+/config$\"));\n  return this.$apiClient.$request({body:null, httpMethod:\"GET\", methodId:\"earthengine.projects.getConfig\", path:\"/\" + this.gapiVersion + \"/\" + name, queryParams:module$contents$eeapiclient$request_params_buildQueryParams(namedParameters, module$contents$eeapiclient$ee_api_client_PARAM_MAP_0, passthroughNamedParameters), responseCtor:module$exports$eeapiclient$ee_api_client.ProjectConfig});\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsApiClientImpl.prototype.listAssets = function(parent, namedParameters, passthroughNamedParameters) {\n  namedParameters = void 0 === namedParameters ? {} : namedParameters;\n  passthroughNamedParameters = void 0 === passthroughNamedParameters ? {} : passthroughNamedParameters;\n  this.$apiClient.$validateParameter(parent, RegExp(\"^projects/[^/]+$\"));\n  return this.$apiClient.$request({body:null, httpMethod:\"GET\", methodId:\"earthengine.projects.listAssets\", path:\"/\" + this.gapiVersion + \"/\" + parent + \":listAssets\", queryParams:module$contents$eeapiclient$request_params_buildQueryParams(namedParameters, module$contents$eeapiclient$ee_api_client_PARAM_MAP_0, passthroughNamedParameters), responseCtor:module$exports$eeapiclient$ee_api_client.ListAssetsResponse});\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsApiClientImpl.prototype.updateConfig = function(name, $requestBody, namedParameters, passthroughNamedParameters) {\n  namedParameters = void 0 === namedParameters ? {} : namedParameters;\n  passthroughNamedParameters = void 0 === passthroughNamedParameters ? {} : passthroughNamedParameters;\n  this.$apiClient.$validateParameter(name, RegExp(\"^projects/[^/]+/config$\"));\n  return this.$apiClient.$request({body:$requestBody, httpMethod:\"PATCH\", methodId:\"earthengine.projects.updateConfig\", path:\"/\" + this.gapiVersion + \"/\" + name, queryParams:module$contents$eeapiclient$request_params_buildQueryParams(namedParameters, module$contents$eeapiclient$ee_api_client_PARAM_MAP_0, passthroughNamedParameters), responseCtor:module$exports$eeapiclient$ee_api_client.ProjectConfig});\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsApiClient = function() {\n};\nmodule$exports$eeapiclient$ee_api_client.IProjectsAssetsApiClient$XgafvEnum = function module$contents$eeapiclient$ee_api_client_IProjectsAssetsApiClient$XgafvEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsAssetsApiClient$XgafvEnum = {1:\"1\", 2:\"2\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ProjectsAssetsApiClient$XgafvEnum[1], module$exports$eeapiclient$ee_api_client.ProjectsAssetsApiClient$XgafvEnum[2]];\n}};\nmodule$exports$eeapiclient$ee_api_client.IProjectsAssetsApiClientAltEnum = function module$contents$eeapiclient$ee_api_client_IProjectsAssetsApiClientAltEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsAssetsApiClientAltEnum = {JSON:\"json\", MEDIA:\"media\", PROTO:\"proto\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ProjectsAssetsApiClientAltEnum.JSON, module$exports$eeapiclient$ee_api_client.ProjectsAssetsApiClientAltEnum.MEDIA, module$exports$eeapiclient$ee_api_client.ProjectsAssetsApiClientAltEnum.PROTO];\n}};\nmodule$exports$eeapiclient$ee_api_client.IProjectsAssetsApiClientViewEnum = function module$contents$eeapiclient$ee_api_client_IProjectsAssetsApiClientViewEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsAssetsApiClientViewEnum = {BASIC:\"BASIC\", EARTH_ENGINE_ASSET_VIEW_UNSPECIFIED:\"EARTH_ENGINE_ASSET_VIEW_UNSPECIFIED\", FULL:\"FULL\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ProjectsAssetsApiClientViewEnum.EARTH_ENGINE_ASSET_VIEW_UNSPECIFIED, module$exports$eeapiclient$ee_api_client.ProjectsAssetsApiClientViewEnum.FULL, module$exports$eeapiclient$ee_api_client.ProjectsAssetsApiClientViewEnum.BASIC];\n}};\nmodule$exports$eeapiclient$ee_api_client.ProjectsAssetsApiClientImpl = function(gapiVersion, gapiRequestService, apiClientHookFactory) {\n  this.gapiVersion = gapiVersion;\n  this.$apiClient = new module$exports$eeapiclient$promise_api_client.PromiseApiClient(gapiRequestService, void 0 === apiClientHookFactory ? null : apiClientHookFactory);\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsAssetsApiClientImpl.prototype.copy = function(sourceName, $requestBody, namedParameters, passthroughNamedParameters) {\n  namedParameters = void 0 === namedParameters ? {} : namedParameters;\n  passthroughNamedParameters = void 0 === passthroughNamedParameters ? {} : passthroughNamedParameters;\n  this.$apiClient.$validateParameter(sourceName, RegExp(\"^projects/[^/]+/assets/.*$\"));\n  return this.$apiClient.$request({body:$requestBody, httpMethod:\"POST\", methodId:\"earthengine.projects.assets.copy\", path:\"/\" + this.gapiVersion + \"/\" + sourceName + \":copy\", queryParams:module$contents$eeapiclient$request_params_buildQueryParams(namedParameters, module$contents$eeapiclient$ee_api_client_PARAM_MAP_0, passthroughNamedParameters), responseCtor:module$exports$eeapiclient$ee_api_client.EarthEngineAsset});\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsAssetsApiClientImpl.prototype.create = function(parent, $requestBody, namedParameters, passthroughNamedParameters) {\n  namedParameters = void 0 === namedParameters ? {} : namedParameters;\n  passthroughNamedParameters = void 0 === passthroughNamedParameters ? {} : passthroughNamedParameters;\n  this.$apiClient.$validateParameter(parent, RegExp(\"^projects/[^/]+$\"));\n  return this.$apiClient.$request({body:$requestBody, httpMethod:\"POST\", methodId:\"earthengine.projects.assets.create\", path:\"/\" + this.gapiVersion + \"/\" + parent + \"/assets\", queryParams:module$contents$eeapiclient$request_params_buildQueryParams(namedParameters, module$contents$eeapiclient$ee_api_client_PARAM_MAP_0, passthroughNamedParameters), responseCtor:module$exports$eeapiclient$ee_api_client.EarthEngineAsset});\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsAssetsApiClientImpl.prototype.createInternal = function(parent, $requestBody, namedParameters, passthroughNamedParameters) {\n  namedParameters = void 0 === namedParameters ? {} : namedParameters;\n  passthroughNamedParameters = void 0 === passthroughNamedParameters ? {} : passthroughNamedParameters;\n  this.$apiClient.$validateParameter(parent, RegExp(\"^projects/[^/]+$\"));\n  return this.$apiClient.$request({body:$requestBody, httpMethod:\"POST\", methodId:\"earthengine.projects.assets.createInternal\", path:\"/\" + this.gapiVersion + \"/\" + parent + \"/assets:createInternal\", queryParams:module$contents$eeapiclient$request_params_buildQueryParams(namedParameters, module$contents$eeapiclient$ee_api_client_PARAM_MAP_0, passthroughNamedParameters), responseCtor:module$exports$eeapiclient$ee_api_client.EarthEngineAsset});\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsAssetsApiClientImpl.prototype.delete = function(name, namedParameters, passthroughNamedParameters) {\n  namedParameters = void 0 === namedParameters ? {} : namedParameters;\n  passthroughNamedParameters = void 0 === passthroughNamedParameters ? {} : passthroughNamedParameters;\n  this.$apiClient.$validateParameter(name, RegExp(\"^projects/[^/]+/assets/.*$\"));\n  return this.$apiClient.$request({body:null, httpMethod:\"DELETE\", methodId:\"earthengine.projects.assets.delete\", path:\"/\" + this.gapiVersion + \"/\" + name, queryParams:module$contents$eeapiclient$request_params_buildQueryParams(namedParameters, module$contents$eeapiclient$ee_api_client_PARAM_MAP_0, passthroughNamedParameters), responseCtor:module$exports$eeapiclient$ee_api_client.Empty});\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsAssetsApiClientImpl.prototype.get = function(name, namedParameters, passthroughNamedParameters) {\n  namedParameters = void 0 === namedParameters ? {} : namedParameters;\n  passthroughNamedParameters = void 0 === passthroughNamedParameters ? {} : passthroughNamedParameters;\n  this.$apiClient.$validateParameter(name, RegExp(\"^projects/[^/]+/assets/.*$\"));\n  return this.$apiClient.$request({body:null, httpMethod:\"GET\", methodId:\"earthengine.projects.assets.get\", path:\"/\" + this.gapiVersion + \"/\" + name, queryParams:module$contents$eeapiclient$request_params_buildQueryParams(namedParameters, module$contents$eeapiclient$ee_api_client_PARAM_MAP_0, passthroughNamedParameters), responseCtor:module$exports$eeapiclient$ee_api_client.EarthEngineAsset});\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsAssetsApiClientImpl.prototype.getIamPolicy = function(resource, $requestBody, namedParameters, passthroughNamedParameters) {\n  namedParameters = void 0 === namedParameters ? {} : namedParameters;\n  passthroughNamedParameters = void 0 === passthroughNamedParameters ? {} : passthroughNamedParameters;\n  this.$apiClient.$validateParameter(resource, RegExp(\"^projects/[^/]+/assets/.*$\"));\n  return this.$apiClient.$request({body:$requestBody, httpMethod:\"POST\", methodId:\"earthengine.projects.assets.getIamPolicy\", path:\"/\" + this.gapiVersion + \"/\" + resource + \":getIamPolicy\", queryParams:module$contents$eeapiclient$request_params_buildQueryParams(namedParameters, module$contents$eeapiclient$ee_api_client_PARAM_MAP_0, passthroughNamedParameters), responseCtor:module$exports$eeapiclient$ee_api_client.Policy});\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsAssetsApiClientImpl.prototype.getLinked = function(name, $requestBody, namedParameters, passthroughNamedParameters) {\n  namedParameters = void 0 === namedParameters ? {} : namedParameters;\n  passthroughNamedParameters = void 0 === passthroughNamedParameters ? {} : passthroughNamedParameters;\n  this.$apiClient.$validateParameter(name, RegExp(\"^projects/[^/]+/assets/.*$\"));\n  return this.$apiClient.$request({body:$requestBody, httpMethod:\"POST\", methodId:\"earthengine.projects.assets.getLinked\", path:\"/\" + this.gapiVersion + \"/\" + name + \":getLinked\", queryParams:module$contents$eeapiclient$request_params_buildQueryParams(namedParameters, module$contents$eeapiclient$ee_api_client_PARAM_MAP_0, passthroughNamedParameters), responseCtor:module$exports$eeapiclient$ee_api_client.EarthEngineAsset});\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsAssetsApiClientImpl.prototype.getPixels = function(name, $requestBody, namedParameters, passthroughNamedParameters) {\n  namedParameters = void 0 === namedParameters ? {} : namedParameters;\n  passthroughNamedParameters = void 0 === passthroughNamedParameters ? {} : passthroughNamedParameters;\n  this.$apiClient.$validateParameter(name, RegExp(\"^projects/[^/]+/assets/.*$\"));\n  return this.$apiClient.$request({body:$requestBody, httpMethod:\"POST\", methodId:\"earthengine.projects.assets.getPixels\", path:\"/\" + this.gapiVersion + \"/\" + name + \":getPixels\", queryParams:module$contents$eeapiclient$request_params_buildQueryParams(namedParameters, module$contents$eeapiclient$ee_api_client_PARAM_MAP_0, passthroughNamedParameters), responseCtor:module$exports$eeapiclient$ee_api_client.HttpBody});\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsAssetsApiClientImpl.prototype.link = function(sourceName, $requestBody, namedParameters, passthroughNamedParameters) {\n  namedParameters = void 0 === namedParameters ? {} : namedParameters;\n  passthroughNamedParameters = void 0 === passthroughNamedParameters ? {} : passthroughNamedParameters;\n  this.$apiClient.$validateParameter(sourceName, RegExp(\"^projects/[^/]+/assets/.*$\"));\n  return this.$apiClient.$request({body:$requestBody, httpMethod:\"POST\", methodId:\"earthengine.projects.assets.link\", path:\"/\" + this.gapiVersion + \"/\" + sourceName + \":link\", queryParams:module$contents$eeapiclient$request_params_buildQueryParams(namedParameters, module$contents$eeapiclient$ee_api_client_PARAM_MAP_0, passthroughNamedParameters), responseCtor:module$exports$eeapiclient$ee_api_client.EarthEngineAsset});\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsAssetsApiClientImpl.prototype.listAssets = function(parent, namedParameters, passthroughNamedParameters) {\n  namedParameters = void 0 === namedParameters ? {} : namedParameters;\n  passthroughNamedParameters = void 0 === passthroughNamedParameters ? {} : passthroughNamedParameters;\n  this.$apiClient.$validateParameter(parent, RegExp(\"^projects/[^/]+/assets/.*$\"));\n  return this.$apiClient.$request({body:null, httpMethod:\"GET\", methodId:\"earthengine.projects.assets.listAssets\", path:\"/\" + this.gapiVersion + \"/\" + parent + \":listAssets\", queryParams:module$contents$eeapiclient$request_params_buildQueryParams(namedParameters, module$contents$eeapiclient$ee_api_client_PARAM_MAP_0, passthroughNamedParameters), responseCtor:module$exports$eeapiclient$ee_api_client.ListAssetsResponse});\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsAssetsApiClientImpl.prototype.listFeatures = function(asset, namedParameters, passthroughNamedParameters) {\n  namedParameters = void 0 === namedParameters ? {} : namedParameters;\n  passthroughNamedParameters = void 0 === passthroughNamedParameters ? {} : passthroughNamedParameters;\n  this.$apiClient.$validateParameter(asset, RegExp(\"^projects/[^/]+/assets/.*$\"));\n  return this.$apiClient.$request({body:null, httpMethod:\"GET\", methodId:\"earthengine.projects.assets.listFeatures\", path:\"/\" + this.gapiVersion + \"/\" + asset + \":listFeatures\", queryParams:module$contents$eeapiclient$request_params_buildQueryParams(namedParameters, module$contents$eeapiclient$ee_api_client_PARAM_MAP_0, passthroughNamedParameters), responseCtor:module$exports$eeapiclient$ee_api_client.ListFeaturesResponse});\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsAssetsApiClientImpl.prototype.listImages = function(parent, namedParameters, passthroughNamedParameters) {\n  namedParameters = void 0 === namedParameters ? {} : namedParameters;\n  passthroughNamedParameters = void 0 === passthroughNamedParameters ? {} : passthroughNamedParameters;\n  this.$apiClient.$validateParameter(parent, RegExp(\"^projects/[^/]+/assets/.*$\"));\n  return this.$apiClient.$request({body:null, httpMethod:\"GET\", methodId:\"earthengine.projects.assets.listImages\", path:\"/\" + this.gapiVersion + \"/\" + parent + \":listImages\", queryParams:module$contents$eeapiclient$request_params_buildQueryParams(namedParameters, module$contents$eeapiclient$ee_api_client_PARAM_MAP_0, passthroughNamedParameters), responseCtor:module$exports$eeapiclient$ee_api_client.ListImagesResponse});\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsAssetsApiClientImpl.prototype.move = function(sourceName, $requestBody, namedParameters, passthroughNamedParameters) {\n  namedParameters = void 0 === namedParameters ? {} : namedParameters;\n  passthroughNamedParameters = void 0 === passthroughNamedParameters ? {} : passthroughNamedParameters;\n  this.$apiClient.$validateParameter(sourceName, RegExp(\"^projects/[^/]+/assets/.*$\"));\n  return this.$apiClient.$request({body:$requestBody, httpMethod:\"POST\", methodId:\"earthengine.projects.assets.move\", path:\"/\" + this.gapiVersion + \"/\" + sourceName + \":move\", queryParams:module$contents$eeapiclient$request_params_buildQueryParams(namedParameters, module$contents$eeapiclient$ee_api_client_PARAM_MAP_0, passthroughNamedParameters), responseCtor:module$exports$eeapiclient$ee_api_client.EarthEngineAsset});\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsAssetsApiClientImpl.prototype.patch = function(name, $requestBody, namedParameters, passthroughNamedParameters) {\n  namedParameters = void 0 === namedParameters ? {} : namedParameters;\n  passthroughNamedParameters = void 0 === passthroughNamedParameters ? {} : passthroughNamedParameters;\n  this.$apiClient.$validateParameter(name, RegExp(\"^projects/[^/]+/assets/.*$\"));\n  return this.$apiClient.$request({body:$requestBody, httpMethod:\"PATCH\", methodId:\"earthengine.projects.assets.patch\", path:\"/\" + this.gapiVersion + \"/\" + name, queryParams:module$contents$eeapiclient$request_params_buildQueryParams(namedParameters, module$contents$eeapiclient$ee_api_client_PARAM_MAP_0, passthroughNamedParameters), responseCtor:module$exports$eeapiclient$ee_api_client.EarthEngineAsset});\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsAssetsApiClientImpl.prototype.setIamPolicy = function(resource, $requestBody, namedParameters, passthroughNamedParameters) {\n  namedParameters = void 0 === namedParameters ? {} : namedParameters;\n  passthroughNamedParameters = void 0 === passthroughNamedParameters ? {} : passthroughNamedParameters;\n  this.$apiClient.$validateParameter(resource, RegExp(\"^projects/[^/]+/assets/.*$\"));\n  return this.$apiClient.$request({body:$requestBody, httpMethod:\"POST\", methodId:\"earthengine.projects.assets.setIamPolicy\", path:\"/\" + this.gapiVersion + \"/\" + resource + \":setIamPolicy\", queryParams:module$contents$eeapiclient$request_params_buildQueryParams(namedParameters, module$contents$eeapiclient$ee_api_client_PARAM_MAP_0, passthroughNamedParameters), responseCtor:module$exports$eeapiclient$ee_api_client.Policy});\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsAssetsApiClientImpl.prototype.testIamPermissions = function(resource, $requestBody, namedParameters, passthroughNamedParameters) {\n  namedParameters = void 0 === namedParameters ? {} : namedParameters;\n  passthroughNamedParameters = void 0 === passthroughNamedParameters ? {} : passthroughNamedParameters;\n  this.$apiClient.$validateParameter(resource, RegExp(\"^projects/[^/]+/assets/.*$\"));\n  return this.$apiClient.$request({body:$requestBody, httpMethod:\"POST\", methodId:\"earthengine.projects.assets.testIamPermissions\", path:\"/\" + this.gapiVersion + \"/\" + resource + \":testIamPermissions\", queryParams:module$contents$eeapiclient$request_params_buildQueryParams(namedParameters, module$contents$eeapiclient$ee_api_client_PARAM_MAP_0, passthroughNamedParameters), responseCtor:module$exports$eeapiclient$ee_api_client.TestIamPermissionsResponse});\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsAssetsApiClient = function() {\n};\nmodule$exports$eeapiclient$ee_api_client.IProjectsClassifierApiClient$XgafvEnum = function module$contents$eeapiclient$ee_api_client_IProjectsClassifierApiClient$XgafvEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsClassifierApiClient$XgafvEnum = {1:\"1\", 2:\"2\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ProjectsClassifierApiClient$XgafvEnum[1], module$exports$eeapiclient$ee_api_client.ProjectsClassifierApiClient$XgafvEnum[2]];\n}};\nmodule$exports$eeapiclient$ee_api_client.IProjectsClassifierApiClientAltEnum = function module$contents$eeapiclient$ee_api_client_IProjectsClassifierApiClientAltEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsClassifierApiClientAltEnum = {JSON:\"json\", MEDIA:\"media\", PROTO:\"proto\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ProjectsClassifierApiClientAltEnum.JSON, module$exports$eeapiclient$ee_api_client.ProjectsClassifierApiClientAltEnum.MEDIA, module$exports$eeapiclient$ee_api_client.ProjectsClassifierApiClientAltEnum.PROTO];\n}};\nmodule$exports$eeapiclient$ee_api_client.ProjectsClassifierApiClientImpl = function(gapiVersion, gapiRequestService, apiClientHookFactory) {\n  this.gapiVersion = gapiVersion;\n  this.$apiClient = new module$exports$eeapiclient$promise_api_client.PromiseApiClient(gapiRequestService, void 0 === apiClientHookFactory ? null : apiClientHookFactory);\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsClassifierApiClientImpl.prototype.export = function(project, $requestBody, namedParameters, passthroughNamedParameters) {\n  namedParameters = void 0 === namedParameters ? {} : namedParameters;\n  passthroughNamedParameters = void 0 === passthroughNamedParameters ? {} : passthroughNamedParameters;\n  this.$apiClient.$validateParameter(project, RegExp(\"^projects/[^/]+$\"));\n  return this.$apiClient.$request({body:$requestBody, httpMethod:\"POST\", methodId:\"earthengine.projects.classifier.export\", path:\"/\" + this.gapiVersion + \"/\" + project + \"/classifier:export\", queryParams:module$contents$eeapiclient$request_params_buildQueryParams(namedParameters, module$contents$eeapiclient$ee_api_client_PARAM_MAP_0, passthroughNamedParameters), responseCtor:module$exports$eeapiclient$ee_api_client.Operation});\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsClassifierApiClient = function() {\n};\nmodule$exports$eeapiclient$ee_api_client.IProjectsFeatureViewApiClient$XgafvEnum = function module$contents$eeapiclient$ee_api_client_IProjectsFeatureViewApiClient$XgafvEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsFeatureViewApiClient$XgafvEnum = {1:\"1\", 2:\"2\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ProjectsFeatureViewApiClient$XgafvEnum[1], module$exports$eeapiclient$ee_api_client.ProjectsFeatureViewApiClient$XgafvEnum[2]];\n}};\nmodule$exports$eeapiclient$ee_api_client.IProjectsFeatureViewApiClientAltEnum = function module$contents$eeapiclient$ee_api_client_IProjectsFeatureViewApiClientAltEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsFeatureViewApiClientAltEnum = {JSON:\"json\", MEDIA:\"media\", PROTO:\"proto\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ProjectsFeatureViewApiClientAltEnum.JSON, module$exports$eeapiclient$ee_api_client.ProjectsFeatureViewApiClientAltEnum.MEDIA, module$exports$eeapiclient$ee_api_client.ProjectsFeatureViewApiClientAltEnum.PROTO];\n}};\nmodule$exports$eeapiclient$ee_api_client.ProjectsFeatureViewApiClientImpl = function(gapiVersion, gapiRequestService, apiClientHookFactory) {\n  this.gapiVersion = gapiVersion;\n  this.$apiClient = new module$exports$eeapiclient$promise_api_client.PromiseApiClient(gapiRequestService, void 0 === apiClientHookFactory ? null : apiClientHookFactory);\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsFeatureViewApiClientImpl.prototype.create = function(parent, $requestBody, namedParameters, passthroughNamedParameters) {\n  namedParameters = void 0 === namedParameters ? {} : namedParameters;\n  passthroughNamedParameters = void 0 === passthroughNamedParameters ? {} : passthroughNamedParameters;\n  this.$apiClient.$validateParameter(parent, RegExp(\"^projects/[^/]+$\"));\n  return this.$apiClient.$request({body:$requestBody, httpMethod:\"POST\", methodId:\"earthengine.projects.featureView.create\", path:\"/\" + this.gapiVersion + \"/\" + parent + \"/featureView\", queryParams:module$contents$eeapiclient$request_params_buildQueryParams(namedParameters, module$contents$eeapiclient$ee_api_client_PARAM_MAP_0, passthroughNamedParameters), responseCtor:module$exports$eeapiclient$ee_api_client.FeatureView});\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsFeatureViewApiClient = function() {\n};\nmodule$exports$eeapiclient$ee_api_client.IProjectsFeatureViewsApiClient$XgafvEnum = function module$contents$eeapiclient$ee_api_client_IProjectsFeatureViewsApiClient$XgafvEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsFeatureViewsApiClient$XgafvEnum = {1:\"1\", 2:\"2\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ProjectsFeatureViewsApiClient$XgafvEnum[1], module$exports$eeapiclient$ee_api_client.ProjectsFeatureViewsApiClient$XgafvEnum[2]];\n}};\nmodule$exports$eeapiclient$ee_api_client.IProjectsFeatureViewsApiClientAltEnum = function module$contents$eeapiclient$ee_api_client_IProjectsFeatureViewsApiClientAltEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsFeatureViewsApiClientAltEnum = {JSON:\"json\", MEDIA:\"media\", PROTO:\"proto\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ProjectsFeatureViewsApiClientAltEnum.JSON, module$exports$eeapiclient$ee_api_client.ProjectsFeatureViewsApiClientAltEnum.MEDIA, module$exports$eeapiclient$ee_api_client.ProjectsFeatureViewsApiClientAltEnum.PROTO];\n}};\nmodule$exports$eeapiclient$ee_api_client.ProjectsFeatureViewsApiClientImpl = function(gapiVersion, gapiRequestService, apiClientHookFactory) {\n  this.gapiVersion = gapiVersion;\n  this.$apiClient = new module$exports$eeapiclient$promise_api_client.PromiseApiClient(gapiRequestService, void 0 === apiClientHookFactory ? null : apiClientHookFactory);\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsFeatureViewsApiClientImpl.prototype.create = function(parent, $requestBody, namedParameters, passthroughNamedParameters) {\n  namedParameters = void 0 === namedParameters ? {} : namedParameters;\n  passthroughNamedParameters = void 0 === passthroughNamedParameters ? {} : passthroughNamedParameters;\n  this.$apiClient.$validateParameter(parent, RegExp(\"^projects/[^/]+$\"));\n  return this.$apiClient.$request({body:$requestBody, httpMethod:\"POST\", methodId:\"earthengine.projects.featureViews.create\", path:\"/\" + this.gapiVersion + \"/\" + parent + \"/featureViews\", queryParams:module$contents$eeapiclient$request_params_buildQueryParams(namedParameters, module$contents$eeapiclient$ee_api_client_PARAM_MAP_0, passthroughNamedParameters), responseCtor:module$exports$eeapiclient$ee_api_client.FeatureView});\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsFeatureViewsApiClient = function() {\n};\nmodule$exports$eeapiclient$ee_api_client.IProjectsFeatureViewsTilesApiClient$XgafvEnum = function module$contents$eeapiclient$ee_api_client_IProjectsFeatureViewsTilesApiClient$XgafvEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsFeatureViewsTilesApiClient$XgafvEnum = {1:\"1\", 2:\"2\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ProjectsFeatureViewsTilesApiClient$XgafvEnum[1], module$exports$eeapiclient$ee_api_client.ProjectsFeatureViewsTilesApiClient$XgafvEnum[2]];\n}};\nmodule$exports$eeapiclient$ee_api_client.IProjectsFeatureViewsTilesApiClientAltEnum = function module$contents$eeapiclient$ee_api_client_IProjectsFeatureViewsTilesApiClientAltEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsFeatureViewsTilesApiClientAltEnum = {JSON:\"json\", MEDIA:\"media\", PROTO:\"proto\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ProjectsFeatureViewsTilesApiClientAltEnum.JSON, module$exports$eeapiclient$ee_api_client.ProjectsFeatureViewsTilesApiClientAltEnum.MEDIA, module$exports$eeapiclient$ee_api_client.ProjectsFeatureViewsTilesApiClientAltEnum.PROTO];\n}};\nmodule$exports$eeapiclient$ee_api_client.ProjectsFeatureViewsTilesApiClientImpl = function(gapiVersion, gapiRequestService, apiClientHookFactory) {\n  this.gapiVersion = gapiVersion;\n  this.$apiClient = new module$exports$eeapiclient$promise_api_client.PromiseApiClient(gapiRequestService, void 0 === apiClientHookFactory ? null : apiClientHookFactory);\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsFeatureViewsTilesApiClientImpl.prototype.get = function(parent, zoom, x, y, namedParameters, passthroughNamedParameters) {\n  namedParameters = void 0 === namedParameters ? {} : namedParameters;\n  passthroughNamedParameters = void 0 === passthroughNamedParameters ? {} : passthroughNamedParameters;\n  this.$apiClient.$validateParameter(parent, RegExp(\"^projects/[^/]+/featureViews/[^/]+$\"));\n  return this.$apiClient.$request({body:null, httpMethod:\"GET\", methodId:\"earthengine.projects.featureViews.tiles.get\", path:\"/\" + this.gapiVersion + \"/\" + parent + \"/tiles/\" + zoom + \"/\" + x + \"/\" + y, queryParams:module$contents$eeapiclient$request_params_buildQueryParams(namedParameters, module$contents$eeapiclient$ee_api_client_PARAM_MAP_0, passthroughNamedParameters), responseCtor:module$exports$eeapiclient$ee_api_client.HttpBody});\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsFeatureViewsTilesApiClient = function() {\n};\nmodule$exports$eeapiclient$ee_api_client.IProjectsFilmstripThumbnailsApiClient$XgafvEnum = function module$contents$eeapiclient$ee_api_client_IProjectsFilmstripThumbnailsApiClient$XgafvEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsFilmstripThumbnailsApiClient$XgafvEnum = {1:\"1\", 2:\"2\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ProjectsFilmstripThumbnailsApiClient$XgafvEnum[1], module$exports$eeapiclient$ee_api_client.ProjectsFilmstripThumbnailsApiClient$XgafvEnum[2]];\n}};\nmodule$exports$eeapiclient$ee_api_client.IProjectsFilmstripThumbnailsApiClientAltEnum = function module$contents$eeapiclient$ee_api_client_IProjectsFilmstripThumbnailsApiClientAltEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsFilmstripThumbnailsApiClientAltEnum = {JSON:\"json\", MEDIA:\"media\", PROTO:\"proto\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ProjectsFilmstripThumbnailsApiClientAltEnum.JSON, module$exports$eeapiclient$ee_api_client.ProjectsFilmstripThumbnailsApiClientAltEnum.MEDIA, module$exports$eeapiclient$ee_api_client.ProjectsFilmstripThumbnailsApiClientAltEnum.PROTO];\n}};\nmodule$exports$eeapiclient$ee_api_client.ProjectsFilmstripThumbnailsApiClientImpl = function(gapiVersion, gapiRequestService, apiClientHookFactory) {\n  this.gapiVersion = gapiVersion;\n  this.$apiClient = new module$exports$eeapiclient$promise_api_client.PromiseApiClient(gapiRequestService, void 0 === apiClientHookFactory ? null : apiClientHookFactory);\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsFilmstripThumbnailsApiClientImpl.prototype.create = function(parent, $requestBody, namedParameters, passthroughNamedParameters) {\n  namedParameters = void 0 === namedParameters ? {} : namedParameters;\n  passthroughNamedParameters = void 0 === passthroughNamedParameters ? {} : passthroughNamedParameters;\n  this.$apiClient.$validateParameter(parent, RegExp(\"^projects/[^/]+$\"));\n  return this.$apiClient.$request({body:$requestBody, httpMethod:\"POST\", methodId:\"earthengine.projects.filmstripThumbnails.create\", path:\"/\" + this.gapiVersion + \"/\" + parent + \"/filmstripThumbnails\", queryParams:module$contents$eeapiclient$request_params_buildQueryParams(namedParameters, module$contents$eeapiclient$ee_api_client_PARAM_MAP_0, passthroughNamedParameters), responseCtor:module$exports$eeapiclient$ee_api_client.FilmstripThumbnail});\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsFilmstripThumbnailsApiClientImpl.prototype.getPixels = function(name, namedParameters, passthroughNamedParameters) {\n  namedParameters = void 0 === namedParameters ? {} : namedParameters;\n  passthroughNamedParameters = void 0 === passthroughNamedParameters ? {} : passthroughNamedParameters;\n  this.$apiClient.$validateParameter(name, RegExp(\"^projects/[^/]+/filmstripThumbnails/[^/]+$\"));\n  return this.$apiClient.$request({body:null, httpMethod:\"GET\", methodId:\"earthengine.projects.filmstripThumbnails.getPixels\", path:\"/\" + this.gapiVersion + \"/\" + name + \":getPixels\", queryParams:module$contents$eeapiclient$request_params_buildQueryParams(namedParameters, module$contents$eeapiclient$ee_api_client_PARAM_MAP_0, passthroughNamedParameters), responseCtor:module$exports$eeapiclient$ee_api_client.HttpBody});\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsFilmstripThumbnailsApiClient = function() {\n};\nmodule$exports$eeapiclient$ee_api_client.IProjectsImageApiClient$XgafvEnum = function module$contents$eeapiclient$ee_api_client_IProjectsImageApiClient$XgafvEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsImageApiClient$XgafvEnum = {1:\"1\", 2:\"2\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ProjectsImageApiClient$XgafvEnum[1], module$exports$eeapiclient$ee_api_client.ProjectsImageApiClient$XgafvEnum[2]];\n}};\nmodule$exports$eeapiclient$ee_api_client.IProjectsImageApiClientAltEnum = function module$contents$eeapiclient$ee_api_client_IProjectsImageApiClientAltEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsImageApiClientAltEnum = {JSON:\"json\", MEDIA:\"media\", PROTO:\"proto\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ProjectsImageApiClientAltEnum.JSON, module$exports$eeapiclient$ee_api_client.ProjectsImageApiClientAltEnum.MEDIA, module$exports$eeapiclient$ee_api_client.ProjectsImageApiClientAltEnum.PROTO];\n}};\nmodule$exports$eeapiclient$ee_api_client.ProjectsImageApiClientImpl = function(gapiVersion, gapiRequestService, apiClientHookFactory) {\n  this.gapiVersion = gapiVersion;\n  this.$apiClient = new module$exports$eeapiclient$promise_api_client.PromiseApiClient(gapiRequestService, void 0 === apiClientHookFactory ? null : apiClientHookFactory);\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsImageApiClientImpl.prototype.computePixels = function(project, $requestBody, namedParameters, passthroughNamedParameters) {\n  namedParameters = void 0 === namedParameters ? {} : namedParameters;\n  passthroughNamedParameters = void 0 === passthroughNamedParameters ? {} : passthroughNamedParameters;\n  this.$apiClient.$validateParameter(project, RegExp(\"^projects/[^/]+$\"));\n  return this.$apiClient.$request({body:$requestBody, httpMethod:\"POST\", methodId:\"earthengine.projects.image.computePixels\", path:\"/\" + this.gapiVersion + \"/\" + project + \"/image:computePixels\", queryParams:module$contents$eeapiclient$request_params_buildQueryParams(namedParameters, module$contents$eeapiclient$ee_api_client_PARAM_MAP_0, passthroughNamedParameters), responseCtor:module$exports$eeapiclient$ee_api_client.HttpBody});\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsImageApiClientImpl.prototype.export = function(project, $requestBody, namedParameters, passthroughNamedParameters) {\n  namedParameters = void 0 === namedParameters ? {} : namedParameters;\n  passthroughNamedParameters = void 0 === passthroughNamedParameters ? {} : passthroughNamedParameters;\n  this.$apiClient.$validateParameter(project, RegExp(\"^projects/[^/]+$\"));\n  return this.$apiClient.$request({body:$requestBody, httpMethod:\"POST\", methodId:\"earthengine.projects.image.export\", path:\"/\" + this.gapiVersion + \"/\" + project + \"/image:export\", queryParams:module$contents$eeapiclient$request_params_buildQueryParams(namedParameters, module$contents$eeapiclient$ee_api_client_PARAM_MAP_0, passthroughNamedParameters), responseCtor:module$exports$eeapiclient$ee_api_client.Operation});\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsImageApiClientImpl.prototype.import = function(project, $requestBody, namedParameters, passthroughNamedParameters) {\n  namedParameters = void 0 === namedParameters ? {} : namedParameters;\n  passthroughNamedParameters = void 0 === passthroughNamedParameters ? {} : passthroughNamedParameters;\n  this.$apiClient.$validateParameter(project, RegExp(\"^projects/[^/]+$\"));\n  return this.$apiClient.$request({body:$requestBody, httpMethod:\"POST\", methodId:\"earthengine.projects.image.import\", path:\"/\" + this.gapiVersion + \"/\" + project + \"/image:import\", queryParams:module$contents$eeapiclient$request_params_buildQueryParams(namedParameters, module$contents$eeapiclient$ee_api_client_PARAM_MAP_0, passthroughNamedParameters), responseCtor:module$exports$eeapiclient$ee_api_client.Operation});\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsImageApiClient = function() {\n};\nmodule$exports$eeapiclient$ee_api_client.IProjectsImageCollectionApiClient$XgafvEnum = function module$contents$eeapiclient$ee_api_client_IProjectsImageCollectionApiClient$XgafvEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsImageCollectionApiClient$XgafvEnum = {1:\"1\", 2:\"2\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ProjectsImageCollectionApiClient$XgafvEnum[1], module$exports$eeapiclient$ee_api_client.ProjectsImageCollectionApiClient$XgafvEnum[2]];\n}};\nmodule$exports$eeapiclient$ee_api_client.IProjectsImageCollectionApiClientAltEnum = function module$contents$eeapiclient$ee_api_client_IProjectsImageCollectionApiClientAltEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsImageCollectionApiClientAltEnum = {JSON:\"json\", MEDIA:\"media\", PROTO:\"proto\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ProjectsImageCollectionApiClientAltEnum.JSON, module$exports$eeapiclient$ee_api_client.ProjectsImageCollectionApiClientAltEnum.MEDIA, module$exports$eeapiclient$ee_api_client.ProjectsImageCollectionApiClientAltEnum.PROTO];\n}};\nmodule$exports$eeapiclient$ee_api_client.ProjectsImageCollectionApiClientImpl = function(gapiVersion, gapiRequestService, apiClientHookFactory) {\n  this.gapiVersion = gapiVersion;\n  this.$apiClient = new module$exports$eeapiclient$promise_api_client.PromiseApiClient(gapiRequestService, void 0 === apiClientHookFactory ? null : apiClientHookFactory);\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsImageCollectionApiClientImpl.prototype.computeImages = function(project, $requestBody, namedParameters, passthroughNamedParameters) {\n  namedParameters = void 0 === namedParameters ? {} : namedParameters;\n  passthroughNamedParameters = void 0 === passthroughNamedParameters ? {} : passthroughNamedParameters;\n  this.$apiClient.$validateParameter(project, RegExp(\"^projects/[^/]+$\"));\n  return this.$apiClient.$request({body:$requestBody, httpMethod:\"POST\", methodId:\"earthengine.projects.imageCollection.computeImages\", path:\"/\" + this.gapiVersion + \"/\" + project + \"/imageCollection:computeImages\", queryParams:module$contents$eeapiclient$request_params_buildQueryParams(namedParameters, module$contents$eeapiclient$ee_api_client_PARAM_MAP_0, passthroughNamedParameters), responseCtor:module$exports$eeapiclient$ee_api_client.ComputeImagesResponse});\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsImageCollectionApiClient = function() {\n};\nmodule$exports$eeapiclient$ee_api_client.IProjectsLocationsAssetsApiClient$XgafvEnum = function module$contents$eeapiclient$ee_api_client_IProjectsLocationsAssetsApiClient$XgafvEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsLocationsAssetsApiClient$XgafvEnum = {1:\"1\", 2:\"2\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ProjectsLocationsAssetsApiClient$XgafvEnum[1], module$exports$eeapiclient$ee_api_client.ProjectsLocationsAssetsApiClient$XgafvEnum[2]];\n}};\nmodule$exports$eeapiclient$ee_api_client.IProjectsLocationsAssetsApiClientAltEnum = function module$contents$eeapiclient$ee_api_client_IProjectsLocationsAssetsApiClientAltEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsLocationsAssetsApiClientAltEnum = {JSON:\"json\", MEDIA:\"media\", PROTO:\"proto\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ProjectsLocationsAssetsApiClientAltEnum.JSON, module$exports$eeapiclient$ee_api_client.ProjectsLocationsAssetsApiClientAltEnum.MEDIA, module$exports$eeapiclient$ee_api_client.ProjectsLocationsAssetsApiClientAltEnum.PROTO];\n}};\nmodule$exports$eeapiclient$ee_api_client.ProjectsLocationsAssetsApiClientImpl = function(gapiVersion, gapiRequestService, apiClientHookFactory) {\n  this.gapiVersion = gapiVersion;\n  this.$apiClient = new module$exports$eeapiclient$promise_api_client.PromiseApiClient(gapiRequestService, void 0 === apiClientHookFactory ? null : apiClientHookFactory);\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsLocationsAssetsApiClientImpl.prototype.create = function(parent, $requestBody, namedParameters, passthroughNamedParameters) {\n  namedParameters = void 0 === namedParameters ? {} : namedParameters;\n  passthroughNamedParameters = void 0 === passthroughNamedParameters ? {} : passthroughNamedParameters;\n  this.$apiClient.$validateParameter(parent, RegExp(\"^projects/[^/]+/locations/[^/]+$\"));\n  return this.$apiClient.$request({body:$requestBody, httpMethod:\"POST\", methodId:\"earthengine.projects.locations.assets.create\", path:\"/\" + this.gapiVersion + \"/\" + parent + \"/assets\", queryParams:module$contents$eeapiclient$request_params_buildQueryParams(namedParameters, module$contents$eeapiclient$ee_api_client_PARAM_MAP_0, passthroughNamedParameters), responseCtor:module$exports$eeapiclient$ee_api_client.EarthEngineAsset});\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsLocationsAssetsApiClientImpl.prototype.createInernal = function(parent, $requestBody, namedParameters, passthroughNamedParameters) {\n  namedParameters = void 0 === namedParameters ? {} : namedParameters;\n  passthroughNamedParameters = void 0 === passthroughNamedParameters ? {} : passthroughNamedParameters;\n  this.$apiClient.$validateParameter(parent, RegExp(\"^projects/[^/]+/locations/[^/]+$\"));\n  return this.$apiClient.$request({body:$requestBody, httpMethod:\"POST\", methodId:\"earthengine.projects.locations.assets.createInernal\", path:\"/\" + this.gapiVersion + \"/\" + parent + \"/assets:createInernal\", queryParams:module$contents$eeapiclient$request_params_buildQueryParams(namedParameters, module$contents$eeapiclient$ee_api_client_PARAM_MAP_0, passthroughNamedParameters), responseCtor:module$exports$eeapiclient$ee_api_client.EarthEngineAsset});\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsLocationsAssetsApiClient = function() {\n};\nmodule$exports$eeapiclient$ee_api_client.IProjectsLocationsFilmstripThumbnailsApiClient$XgafvEnum = function module$contents$eeapiclient$ee_api_client_IProjectsLocationsFilmstripThumbnailsApiClient$XgafvEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsLocationsFilmstripThumbnailsApiClient$XgafvEnum = {1:\"1\", 2:\"2\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ProjectsLocationsFilmstripThumbnailsApiClient$XgafvEnum[1], module$exports$eeapiclient$ee_api_client.ProjectsLocationsFilmstripThumbnailsApiClient$XgafvEnum[2]];\n}};\nmodule$exports$eeapiclient$ee_api_client.IProjectsLocationsFilmstripThumbnailsApiClientAltEnum = function module$contents$eeapiclient$ee_api_client_IProjectsLocationsFilmstripThumbnailsApiClientAltEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsLocationsFilmstripThumbnailsApiClientAltEnum = {JSON:\"json\", MEDIA:\"media\", PROTO:\"proto\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ProjectsLocationsFilmstripThumbnailsApiClientAltEnum.JSON, module$exports$eeapiclient$ee_api_client.ProjectsLocationsFilmstripThumbnailsApiClientAltEnum.MEDIA, module$exports$eeapiclient$ee_api_client.ProjectsLocationsFilmstripThumbnailsApiClientAltEnum.PROTO];\n}};\nmodule$exports$eeapiclient$ee_api_client.ProjectsLocationsFilmstripThumbnailsApiClientImpl = function(gapiVersion, gapiRequestService, apiClientHookFactory) {\n  this.gapiVersion = gapiVersion;\n  this.$apiClient = new module$exports$eeapiclient$promise_api_client.PromiseApiClient(gapiRequestService, void 0 === apiClientHookFactory ? null : apiClientHookFactory);\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsLocationsFilmstripThumbnailsApiClientImpl.prototype.create = function(parent, $requestBody, namedParameters, passthroughNamedParameters) {\n  namedParameters = void 0 === namedParameters ? {} : namedParameters;\n  passthroughNamedParameters = void 0 === passthroughNamedParameters ? {} : passthroughNamedParameters;\n  this.$apiClient.$validateParameter(parent, RegExp(\"^projects/[^/]+/locations/[^/]+$\"));\n  return this.$apiClient.$request({body:$requestBody, httpMethod:\"POST\", methodId:\"earthengine.projects.locations.filmstripThumbnails.create\", path:\"/\" + this.gapiVersion + \"/\" + parent + \"/filmstripThumbnails\", queryParams:module$contents$eeapiclient$request_params_buildQueryParams(namedParameters, module$contents$eeapiclient$ee_api_client_PARAM_MAP_0, passthroughNamedParameters), responseCtor:module$exports$eeapiclient$ee_api_client.FilmstripThumbnail});\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsLocationsFilmstripThumbnailsApiClient = function() {\n};\nmodule$exports$eeapiclient$ee_api_client.IProjectsLocationsMapsApiClient$XgafvEnum = function module$contents$eeapiclient$ee_api_client_IProjectsLocationsMapsApiClient$XgafvEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsLocationsMapsApiClient$XgafvEnum = {1:\"1\", 2:\"2\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ProjectsLocationsMapsApiClient$XgafvEnum[1], module$exports$eeapiclient$ee_api_client.ProjectsLocationsMapsApiClient$XgafvEnum[2]];\n}};\nmodule$exports$eeapiclient$ee_api_client.IProjectsLocationsMapsApiClientAltEnum = function module$contents$eeapiclient$ee_api_client_IProjectsLocationsMapsApiClientAltEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsLocationsMapsApiClientAltEnum = {JSON:\"json\", MEDIA:\"media\", PROTO:\"proto\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ProjectsLocationsMapsApiClientAltEnum.JSON, module$exports$eeapiclient$ee_api_client.ProjectsLocationsMapsApiClientAltEnum.MEDIA, module$exports$eeapiclient$ee_api_client.ProjectsLocationsMapsApiClientAltEnum.PROTO];\n}};\nmodule$exports$eeapiclient$ee_api_client.ProjectsLocationsMapsApiClientImpl = function(gapiVersion, gapiRequestService, apiClientHookFactory) {\n  this.gapiVersion = gapiVersion;\n  this.$apiClient = new module$exports$eeapiclient$promise_api_client.PromiseApiClient(gapiRequestService, void 0 === apiClientHookFactory ? null : apiClientHookFactory);\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsLocationsMapsApiClientImpl.prototype.create = function(parent, $requestBody, namedParameters, passthroughNamedParameters) {\n  namedParameters = void 0 === namedParameters ? {} : namedParameters;\n  passthroughNamedParameters = void 0 === passthroughNamedParameters ? {} : passthroughNamedParameters;\n  this.$apiClient.$validateParameter(parent, RegExp(\"^projects/[^/]+/locations/[^/]+$\"));\n  return this.$apiClient.$request({body:$requestBody, httpMethod:\"POST\", methodId:\"earthengine.projects.locations.maps.create\", path:\"/\" + this.gapiVersion + \"/\" + parent + \"/maps\", queryParams:module$contents$eeapiclient$request_params_buildQueryParams(namedParameters, module$contents$eeapiclient$ee_api_client_PARAM_MAP_0, passthroughNamedParameters), responseCtor:module$exports$eeapiclient$ee_api_client.EarthEngineMap});\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsLocationsMapsApiClient = function() {\n};\nmodule$exports$eeapiclient$ee_api_client.IProjectsLocationsTablesApiClient$XgafvEnum = function module$contents$eeapiclient$ee_api_client_IProjectsLocationsTablesApiClient$XgafvEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsLocationsTablesApiClient$XgafvEnum = {1:\"1\", 2:\"2\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ProjectsLocationsTablesApiClient$XgafvEnum[1], module$exports$eeapiclient$ee_api_client.ProjectsLocationsTablesApiClient$XgafvEnum[2]];\n}};\nmodule$exports$eeapiclient$ee_api_client.IProjectsLocationsTablesApiClientAltEnum = function module$contents$eeapiclient$ee_api_client_IProjectsLocationsTablesApiClientAltEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsLocationsTablesApiClientAltEnum = {JSON:\"json\", MEDIA:\"media\", PROTO:\"proto\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ProjectsLocationsTablesApiClientAltEnum.JSON, module$exports$eeapiclient$ee_api_client.ProjectsLocationsTablesApiClientAltEnum.MEDIA, module$exports$eeapiclient$ee_api_client.ProjectsLocationsTablesApiClientAltEnum.PROTO];\n}};\nmodule$exports$eeapiclient$ee_api_client.ProjectsLocationsTablesApiClientImpl = function(gapiVersion, gapiRequestService, apiClientHookFactory) {\n  this.gapiVersion = gapiVersion;\n  this.$apiClient = new module$exports$eeapiclient$promise_api_client.PromiseApiClient(gapiRequestService, void 0 === apiClientHookFactory ? null : apiClientHookFactory);\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsLocationsTablesApiClientImpl.prototype.create = function(parent, $requestBody, namedParameters, passthroughNamedParameters) {\n  namedParameters = void 0 === namedParameters ? {} : namedParameters;\n  passthroughNamedParameters = void 0 === passthroughNamedParameters ? {} : passthroughNamedParameters;\n  this.$apiClient.$validateParameter(parent, RegExp(\"^projects/[^/]+/locations/[^/]+$\"));\n  return this.$apiClient.$request({body:$requestBody, httpMethod:\"POST\", methodId:\"earthengine.projects.locations.tables.create\", path:\"/\" + this.gapiVersion + \"/\" + parent + \"/tables\", queryParams:module$contents$eeapiclient$request_params_buildQueryParams(namedParameters, module$contents$eeapiclient$ee_api_client_PARAM_MAP_0, passthroughNamedParameters), responseCtor:module$exports$eeapiclient$ee_api_client.Table});\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsLocationsTablesApiClient = function() {\n};\nmodule$exports$eeapiclient$ee_api_client.IProjectsLocationsThumbnailsApiClient$XgafvEnum = function module$contents$eeapiclient$ee_api_client_IProjectsLocationsThumbnailsApiClient$XgafvEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsLocationsThumbnailsApiClient$XgafvEnum = {1:\"1\", 2:\"2\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ProjectsLocationsThumbnailsApiClient$XgafvEnum[1], module$exports$eeapiclient$ee_api_client.ProjectsLocationsThumbnailsApiClient$XgafvEnum[2]];\n}};\nmodule$exports$eeapiclient$ee_api_client.IProjectsLocationsThumbnailsApiClientAltEnum = function module$contents$eeapiclient$ee_api_client_IProjectsLocationsThumbnailsApiClientAltEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsLocationsThumbnailsApiClientAltEnum = {JSON:\"json\", MEDIA:\"media\", PROTO:\"proto\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ProjectsLocationsThumbnailsApiClientAltEnum.JSON, module$exports$eeapiclient$ee_api_client.ProjectsLocationsThumbnailsApiClientAltEnum.MEDIA, module$exports$eeapiclient$ee_api_client.ProjectsLocationsThumbnailsApiClientAltEnum.PROTO];\n}};\nmodule$exports$eeapiclient$ee_api_client.ProjectsLocationsThumbnailsApiClientImpl = function(gapiVersion, gapiRequestService, apiClientHookFactory) {\n  this.gapiVersion = gapiVersion;\n  this.$apiClient = new module$exports$eeapiclient$promise_api_client.PromiseApiClient(gapiRequestService, void 0 === apiClientHookFactory ? null : apiClientHookFactory);\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsLocationsThumbnailsApiClientImpl.prototype.create = function(parent, $requestBody, namedParameters, passthroughNamedParameters) {\n  namedParameters = void 0 === namedParameters ? {} : namedParameters;\n  passthroughNamedParameters = void 0 === passthroughNamedParameters ? {} : passthroughNamedParameters;\n  this.$apiClient.$validateParameter(parent, RegExp(\"^projects/[^/]+/locations/[^/]+$\"));\n  return this.$apiClient.$request({body:$requestBody, httpMethod:\"POST\", methodId:\"earthengine.projects.locations.thumbnails.create\", path:\"/\" + this.gapiVersion + \"/\" + parent + \"/thumbnails\", queryParams:module$contents$eeapiclient$request_params_buildQueryParams(namedParameters, module$contents$eeapiclient$ee_api_client_PARAM_MAP_0, passthroughNamedParameters), responseCtor:module$exports$eeapiclient$ee_api_client.Thumbnail});\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsLocationsThumbnailsApiClient = function() {\n};\nmodule$exports$eeapiclient$ee_api_client.IProjectsLocationsVideoThumbnailsApiClient$XgafvEnum = function module$contents$eeapiclient$ee_api_client_IProjectsLocationsVideoThumbnailsApiClient$XgafvEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsLocationsVideoThumbnailsApiClient$XgafvEnum = {1:\"1\", 2:\"2\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ProjectsLocationsVideoThumbnailsApiClient$XgafvEnum[1], module$exports$eeapiclient$ee_api_client.ProjectsLocationsVideoThumbnailsApiClient$XgafvEnum[2]];\n}};\nmodule$exports$eeapiclient$ee_api_client.IProjectsLocationsVideoThumbnailsApiClientAltEnum = function module$contents$eeapiclient$ee_api_client_IProjectsLocationsVideoThumbnailsApiClientAltEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsLocationsVideoThumbnailsApiClientAltEnum = {JSON:\"json\", MEDIA:\"media\", PROTO:\"proto\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ProjectsLocationsVideoThumbnailsApiClientAltEnum.JSON, module$exports$eeapiclient$ee_api_client.ProjectsLocationsVideoThumbnailsApiClientAltEnum.MEDIA, module$exports$eeapiclient$ee_api_client.ProjectsLocationsVideoThumbnailsApiClientAltEnum.PROTO];\n}};\nmodule$exports$eeapiclient$ee_api_client.ProjectsLocationsVideoThumbnailsApiClientImpl = function(gapiVersion, gapiRequestService, apiClientHookFactory) {\n  this.gapiVersion = gapiVersion;\n  this.$apiClient = new module$exports$eeapiclient$promise_api_client.PromiseApiClient(gapiRequestService, void 0 === apiClientHookFactory ? null : apiClientHookFactory);\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsLocationsVideoThumbnailsApiClientImpl.prototype.create = function(parent, $requestBody, namedParameters, passthroughNamedParameters) {\n  namedParameters = void 0 === namedParameters ? {} : namedParameters;\n  passthroughNamedParameters = void 0 === passthroughNamedParameters ? {} : passthroughNamedParameters;\n  this.$apiClient.$validateParameter(parent, RegExp(\"^projects/[^/]+/locations/[^/]+$\"));\n  return this.$apiClient.$request({body:$requestBody, httpMethod:\"POST\", methodId:\"earthengine.projects.locations.videoThumbnails.create\", path:\"/\" + this.gapiVersion + \"/\" + parent + \"/videoThumbnails\", queryParams:module$contents$eeapiclient$request_params_buildQueryParams(namedParameters, module$contents$eeapiclient$ee_api_client_PARAM_MAP_0, passthroughNamedParameters), responseCtor:module$exports$eeapiclient$ee_api_client.VideoThumbnail});\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsLocationsVideoThumbnailsApiClient = function() {\n};\nmodule$exports$eeapiclient$ee_api_client.IProjectsMapApiClient$XgafvEnum = function module$contents$eeapiclient$ee_api_client_IProjectsMapApiClient$XgafvEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsMapApiClient$XgafvEnum = {1:\"1\", 2:\"2\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ProjectsMapApiClient$XgafvEnum[1], module$exports$eeapiclient$ee_api_client.ProjectsMapApiClient$XgafvEnum[2]];\n}};\nmodule$exports$eeapiclient$ee_api_client.IProjectsMapApiClientAltEnum = function module$contents$eeapiclient$ee_api_client_IProjectsMapApiClientAltEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsMapApiClientAltEnum = {JSON:\"json\", MEDIA:\"media\", PROTO:\"proto\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ProjectsMapApiClientAltEnum.JSON, module$exports$eeapiclient$ee_api_client.ProjectsMapApiClientAltEnum.MEDIA, module$exports$eeapiclient$ee_api_client.ProjectsMapApiClientAltEnum.PROTO];\n}};\nmodule$exports$eeapiclient$ee_api_client.ProjectsMapApiClientImpl = function(gapiVersion, gapiRequestService, apiClientHookFactory) {\n  this.gapiVersion = gapiVersion;\n  this.$apiClient = new module$exports$eeapiclient$promise_api_client.PromiseApiClient(gapiRequestService, void 0 === apiClientHookFactory ? null : apiClientHookFactory);\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsMapApiClientImpl.prototype.export = function(project, $requestBody, namedParameters, passthroughNamedParameters) {\n  namedParameters = void 0 === namedParameters ? {} : namedParameters;\n  passthroughNamedParameters = void 0 === passthroughNamedParameters ? {} : passthroughNamedParameters;\n  this.$apiClient.$validateParameter(project, RegExp(\"^projects/[^/]+$\"));\n  return this.$apiClient.$request({body:$requestBody, httpMethod:\"POST\", methodId:\"earthengine.projects.map.export\", path:\"/\" + this.gapiVersion + \"/\" + project + \"/map:export\", queryParams:module$contents$eeapiclient$request_params_buildQueryParams(namedParameters, module$contents$eeapiclient$ee_api_client_PARAM_MAP_0, passthroughNamedParameters), responseCtor:module$exports$eeapiclient$ee_api_client.Operation});\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsMapApiClient = function() {\n};\nmodule$exports$eeapiclient$ee_api_client.IProjectsMapsApiClient$XgafvEnum = function module$contents$eeapiclient$ee_api_client_IProjectsMapsApiClient$XgafvEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsMapsApiClient$XgafvEnum = {1:\"1\", 2:\"2\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ProjectsMapsApiClient$XgafvEnum[1], module$exports$eeapiclient$ee_api_client.ProjectsMapsApiClient$XgafvEnum[2]];\n}};\nmodule$exports$eeapiclient$ee_api_client.IProjectsMapsApiClientAltEnum = function module$contents$eeapiclient$ee_api_client_IProjectsMapsApiClientAltEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsMapsApiClientAltEnum = {JSON:\"json\", MEDIA:\"media\", PROTO:\"proto\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ProjectsMapsApiClientAltEnum.JSON, module$exports$eeapiclient$ee_api_client.ProjectsMapsApiClientAltEnum.MEDIA, module$exports$eeapiclient$ee_api_client.ProjectsMapsApiClientAltEnum.PROTO];\n}};\nmodule$exports$eeapiclient$ee_api_client.ProjectsMapsApiClientImpl = function(gapiVersion, gapiRequestService, apiClientHookFactory) {\n  this.gapiVersion = gapiVersion;\n  this.$apiClient = new module$exports$eeapiclient$promise_api_client.PromiseApiClient(gapiRequestService, void 0 === apiClientHookFactory ? null : apiClientHookFactory);\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsMapsApiClientImpl.prototype.create = function(parent, $requestBody, namedParameters, passthroughNamedParameters) {\n  namedParameters = void 0 === namedParameters ? {} : namedParameters;\n  passthroughNamedParameters = void 0 === passthroughNamedParameters ? {} : passthroughNamedParameters;\n  this.$apiClient.$validateParameter(parent, RegExp(\"^projects/[^/]+$\"));\n  return this.$apiClient.$request({body:$requestBody, httpMethod:\"POST\", methodId:\"earthengine.projects.maps.create\", path:\"/\" + this.gapiVersion + \"/\" + parent + \"/maps\", queryParams:module$contents$eeapiclient$request_params_buildQueryParams(namedParameters, module$contents$eeapiclient$ee_api_client_PARAM_MAP_0, passthroughNamedParameters), responseCtor:module$exports$eeapiclient$ee_api_client.EarthEngineMap});\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsMapsApiClient = function() {\n};\nmodule$exports$eeapiclient$ee_api_client.IProjectsMapsTilesApiClient$XgafvEnum = function module$contents$eeapiclient$ee_api_client_IProjectsMapsTilesApiClient$XgafvEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsMapsTilesApiClient$XgafvEnum = {1:\"1\", 2:\"2\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ProjectsMapsTilesApiClient$XgafvEnum[1], module$exports$eeapiclient$ee_api_client.ProjectsMapsTilesApiClient$XgafvEnum[2]];\n}};\nmodule$exports$eeapiclient$ee_api_client.IProjectsMapsTilesApiClientAltEnum = function module$contents$eeapiclient$ee_api_client_IProjectsMapsTilesApiClientAltEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsMapsTilesApiClientAltEnum = {JSON:\"json\", MEDIA:\"media\", PROTO:\"proto\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ProjectsMapsTilesApiClientAltEnum.JSON, module$exports$eeapiclient$ee_api_client.ProjectsMapsTilesApiClientAltEnum.MEDIA, module$exports$eeapiclient$ee_api_client.ProjectsMapsTilesApiClientAltEnum.PROTO];\n}};\nmodule$exports$eeapiclient$ee_api_client.ProjectsMapsTilesApiClientImpl = function(gapiVersion, gapiRequestService, apiClientHookFactory) {\n  this.gapiVersion = gapiVersion;\n  this.$apiClient = new module$exports$eeapiclient$promise_api_client.PromiseApiClient(gapiRequestService, void 0 === apiClientHookFactory ? null : apiClientHookFactory);\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsMapsTilesApiClientImpl.prototype.get = function(parent, zoom, x, y, namedParameters, passthroughNamedParameters) {\n  namedParameters = void 0 === namedParameters ? {} : namedParameters;\n  passthroughNamedParameters = void 0 === passthroughNamedParameters ? {} : passthroughNamedParameters;\n  this.$apiClient.$validateParameter(parent, RegExp(\"^projects/[^/]+/maps/[^/]+$\"));\n  return this.$apiClient.$request({body:null, httpMethod:\"GET\", methodId:\"earthengine.projects.maps.tiles.get\", path:\"/\" + this.gapiVersion + \"/\" + parent + \"/tiles/\" + zoom + \"/\" + x + \"/\" + y, queryParams:module$contents$eeapiclient$request_params_buildQueryParams(namedParameters, module$contents$eeapiclient$ee_api_client_PARAM_MAP_0, passthroughNamedParameters), responseCtor:module$exports$eeapiclient$ee_api_client.HttpBody});\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsMapsTilesApiClient = function() {\n};\nmodule$exports$eeapiclient$ee_api_client.IProjectsOperationsApiClient$XgafvEnum = function module$contents$eeapiclient$ee_api_client_IProjectsOperationsApiClient$XgafvEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsOperationsApiClient$XgafvEnum = {1:\"1\", 2:\"2\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ProjectsOperationsApiClient$XgafvEnum[1], module$exports$eeapiclient$ee_api_client.ProjectsOperationsApiClient$XgafvEnum[2]];\n}};\nmodule$exports$eeapiclient$ee_api_client.IProjectsOperationsApiClientAltEnum = function module$contents$eeapiclient$ee_api_client_IProjectsOperationsApiClientAltEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsOperationsApiClientAltEnum = {JSON:\"json\", MEDIA:\"media\", PROTO:\"proto\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ProjectsOperationsApiClientAltEnum.JSON, module$exports$eeapiclient$ee_api_client.ProjectsOperationsApiClientAltEnum.MEDIA, module$exports$eeapiclient$ee_api_client.ProjectsOperationsApiClientAltEnum.PROTO];\n}};\nmodule$exports$eeapiclient$ee_api_client.ProjectsOperationsApiClientImpl = function(gapiVersion, gapiRequestService, apiClientHookFactory) {\n  this.gapiVersion = gapiVersion;\n  this.$apiClient = new module$exports$eeapiclient$promise_api_client.PromiseApiClient(gapiRequestService, void 0 === apiClientHookFactory ? null : apiClientHookFactory);\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsOperationsApiClientImpl.prototype.cancel = function(name, $requestBody, namedParameters, passthroughNamedParameters) {\n  namedParameters = void 0 === namedParameters ? {} : namedParameters;\n  passthroughNamedParameters = void 0 === passthroughNamedParameters ? {} : passthroughNamedParameters;\n  this.$apiClient.$validateParameter(name, RegExp(\"^projects/[^/]+/operations/.*$\"));\n  return this.$apiClient.$request({body:$requestBody, httpMethod:\"POST\", methodId:\"earthengine.projects.operations.cancel\", path:\"/\" + this.gapiVersion + \"/\" + name + \":cancel\", queryParams:module$contents$eeapiclient$request_params_buildQueryParams(namedParameters, module$contents$eeapiclient$ee_api_client_PARAM_MAP_0, passthroughNamedParameters), responseCtor:module$exports$eeapiclient$ee_api_client.Empty});\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsOperationsApiClientImpl.prototype.delete = function(name, namedParameters, passthroughNamedParameters) {\n  namedParameters = void 0 === namedParameters ? {} : namedParameters;\n  passthroughNamedParameters = void 0 === passthroughNamedParameters ? {} : passthroughNamedParameters;\n  this.$apiClient.$validateParameter(name, RegExp(\"^projects/[^/]+/operations/.*$\"));\n  return this.$apiClient.$request({body:null, httpMethod:\"DELETE\", methodId:\"earthengine.projects.operations.delete\", path:\"/\" + this.gapiVersion + \"/\" + name, queryParams:module$contents$eeapiclient$request_params_buildQueryParams(namedParameters, module$contents$eeapiclient$ee_api_client_PARAM_MAP_0, passthroughNamedParameters), responseCtor:module$exports$eeapiclient$ee_api_client.Empty});\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsOperationsApiClientImpl.prototype.get = function(name, namedParameters, passthroughNamedParameters) {\n  namedParameters = void 0 === namedParameters ? {} : namedParameters;\n  passthroughNamedParameters = void 0 === passthroughNamedParameters ? {} : passthroughNamedParameters;\n  this.$apiClient.$validateParameter(name, RegExp(\"^projects/[^/]+/operations/.*$\"));\n  return this.$apiClient.$request({body:null, httpMethod:\"GET\", methodId:\"earthengine.projects.operations.get\", path:\"/\" + this.gapiVersion + \"/\" + name, queryParams:module$contents$eeapiclient$request_params_buildQueryParams(namedParameters, module$contents$eeapiclient$ee_api_client_PARAM_MAP_0, passthroughNamedParameters), responseCtor:module$exports$eeapiclient$ee_api_client.Operation});\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsOperationsApiClientImpl.prototype.list = function(name, namedParameters, passthroughNamedParameters) {\n  namedParameters = void 0 === namedParameters ? {} : namedParameters;\n  passthroughNamedParameters = void 0 === passthroughNamedParameters ? {} : passthroughNamedParameters;\n  this.$apiClient.$validateParameter(name, RegExp(\"^projects/[^/]+$\"));\n  return this.$apiClient.$request({body:null, httpMethod:\"GET\", methodId:\"earthengine.projects.operations.list\", path:\"/\" + this.gapiVersion + \"/\" + name + \"/operations\", queryParams:module$contents$eeapiclient$request_params_buildQueryParams(namedParameters, module$contents$eeapiclient$ee_api_client_PARAM_MAP_0, passthroughNamedParameters), responseCtor:module$exports$eeapiclient$ee_api_client.ListOperationsResponse});\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsOperationsApiClientImpl.prototype.wait = function(name, $requestBody, namedParameters, passthroughNamedParameters) {\n  namedParameters = void 0 === namedParameters ? {} : namedParameters;\n  passthroughNamedParameters = void 0 === passthroughNamedParameters ? {} : passthroughNamedParameters;\n  this.$apiClient.$validateParameter(name, RegExp(\"^projects/[^/]+/operations/.*$\"));\n  return this.$apiClient.$request({body:$requestBody, httpMethod:\"POST\", methodId:\"earthengine.projects.operations.wait\", path:\"/\" + this.gapiVersion + \"/\" + name + \":wait\", queryParams:module$contents$eeapiclient$request_params_buildQueryParams(namedParameters, module$contents$eeapiclient$ee_api_client_PARAM_MAP_0, passthroughNamedParameters), responseCtor:module$exports$eeapiclient$ee_api_client.Operation});\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsOperationsApiClient = function() {\n};\nmodule$exports$eeapiclient$ee_api_client.IProjectsTableApiClient$XgafvEnum = function module$contents$eeapiclient$ee_api_client_IProjectsTableApiClient$XgafvEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsTableApiClient$XgafvEnum = {1:\"1\", 2:\"2\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ProjectsTableApiClient$XgafvEnum[1], module$exports$eeapiclient$ee_api_client.ProjectsTableApiClient$XgafvEnum[2]];\n}};\nmodule$exports$eeapiclient$ee_api_client.IProjectsTableApiClientAltEnum = function module$contents$eeapiclient$ee_api_client_IProjectsTableApiClientAltEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsTableApiClientAltEnum = {JSON:\"json\", MEDIA:\"media\", PROTO:\"proto\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ProjectsTableApiClientAltEnum.JSON, module$exports$eeapiclient$ee_api_client.ProjectsTableApiClientAltEnum.MEDIA, module$exports$eeapiclient$ee_api_client.ProjectsTableApiClientAltEnum.PROTO];\n}};\nmodule$exports$eeapiclient$ee_api_client.ProjectsTableApiClientImpl = function(gapiVersion, gapiRequestService, apiClientHookFactory) {\n  this.gapiVersion = gapiVersion;\n  this.$apiClient = new module$exports$eeapiclient$promise_api_client.PromiseApiClient(gapiRequestService, void 0 === apiClientHookFactory ? null : apiClientHookFactory);\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsTableApiClientImpl.prototype.computeFeatures = function(project, $requestBody, namedParameters, passthroughNamedParameters) {\n  namedParameters = void 0 === namedParameters ? {} : namedParameters;\n  passthroughNamedParameters = void 0 === passthroughNamedParameters ? {} : passthroughNamedParameters;\n  this.$apiClient.$validateParameter(project, RegExp(\"^projects/[^/]+$\"));\n  return this.$apiClient.$request({body:$requestBody, httpMethod:\"POST\", methodId:\"earthengine.projects.table.computeFeatures\", path:\"/\" + this.gapiVersion + \"/\" + project + \"/table:computeFeatures\", queryParams:module$contents$eeapiclient$request_params_buildQueryParams(namedParameters, module$contents$eeapiclient$ee_api_client_PARAM_MAP_0, passthroughNamedParameters), responseCtor:module$exports$eeapiclient$ee_api_client.ComputeFeaturesResponse});\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsTableApiClientImpl.prototype.export = function(project, $requestBody, namedParameters, passthroughNamedParameters) {\n  namedParameters = void 0 === namedParameters ? {} : namedParameters;\n  passthroughNamedParameters = void 0 === passthroughNamedParameters ? {} : passthroughNamedParameters;\n  this.$apiClient.$validateParameter(project, RegExp(\"^projects/[^/]+$\"));\n  return this.$apiClient.$request({body:$requestBody, httpMethod:\"POST\", methodId:\"earthengine.projects.table.export\", path:\"/\" + this.gapiVersion + \"/\" + project + \"/table:export\", queryParams:module$contents$eeapiclient$request_params_buildQueryParams(namedParameters, module$contents$eeapiclient$ee_api_client_PARAM_MAP_0, passthroughNamedParameters), responseCtor:module$exports$eeapiclient$ee_api_client.Operation});\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsTableApiClientImpl.prototype.import = function(project, $requestBody, namedParameters, passthroughNamedParameters) {\n  namedParameters = void 0 === namedParameters ? {} : namedParameters;\n  passthroughNamedParameters = void 0 === passthroughNamedParameters ? {} : passthroughNamedParameters;\n  this.$apiClient.$validateParameter(project, RegExp(\"^projects/[^/]+$\"));\n  return this.$apiClient.$request({body:$requestBody, httpMethod:\"POST\", methodId:\"earthengine.projects.table.import\", path:\"/\" + this.gapiVersion + \"/\" + project + \"/table:import\", queryParams:module$contents$eeapiclient$request_params_buildQueryParams(namedParameters, module$contents$eeapiclient$ee_api_client_PARAM_MAP_0, passthroughNamedParameters), responseCtor:module$exports$eeapiclient$ee_api_client.Operation});\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsTableApiClient = function() {\n};\nmodule$exports$eeapiclient$ee_api_client.IProjectsTablesApiClient$XgafvEnum = function module$contents$eeapiclient$ee_api_client_IProjectsTablesApiClient$XgafvEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsTablesApiClient$XgafvEnum = {1:\"1\", 2:\"2\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ProjectsTablesApiClient$XgafvEnum[1], module$exports$eeapiclient$ee_api_client.ProjectsTablesApiClient$XgafvEnum[2]];\n}};\nmodule$exports$eeapiclient$ee_api_client.IProjectsTablesApiClientAltEnum = function module$contents$eeapiclient$ee_api_client_IProjectsTablesApiClientAltEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsTablesApiClientAltEnum = {JSON:\"json\", MEDIA:\"media\", PROTO:\"proto\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ProjectsTablesApiClientAltEnum.JSON, module$exports$eeapiclient$ee_api_client.ProjectsTablesApiClientAltEnum.MEDIA, module$exports$eeapiclient$ee_api_client.ProjectsTablesApiClientAltEnum.PROTO];\n}};\nmodule$exports$eeapiclient$ee_api_client.ProjectsTablesApiClientImpl = function(gapiVersion, gapiRequestService, apiClientHookFactory) {\n  this.gapiVersion = gapiVersion;\n  this.$apiClient = new module$exports$eeapiclient$promise_api_client.PromiseApiClient(gapiRequestService, void 0 === apiClientHookFactory ? null : apiClientHookFactory);\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsTablesApiClientImpl.prototype.create = function(parent, $requestBody, namedParameters, passthroughNamedParameters) {\n  namedParameters = void 0 === namedParameters ? {} : namedParameters;\n  passthroughNamedParameters = void 0 === passthroughNamedParameters ? {} : passthroughNamedParameters;\n  this.$apiClient.$validateParameter(parent, RegExp(\"^projects/[^/]+$\"));\n  return this.$apiClient.$request({body:$requestBody, httpMethod:\"POST\", methodId:\"earthengine.projects.tables.create\", path:\"/\" + this.gapiVersion + \"/\" + parent + \"/tables\", queryParams:module$contents$eeapiclient$request_params_buildQueryParams(namedParameters, module$contents$eeapiclient$ee_api_client_PARAM_MAP_0, passthroughNamedParameters), responseCtor:module$exports$eeapiclient$ee_api_client.Table});\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsTablesApiClientImpl.prototype.getFeatures = function(name, namedParameters, passthroughNamedParameters) {\n  namedParameters = void 0 === namedParameters ? {} : namedParameters;\n  passthroughNamedParameters = void 0 === passthroughNamedParameters ? {} : passthroughNamedParameters;\n  this.$apiClient.$validateParameter(name, RegExp(\"^projects/[^/]+/tables/[^/]+$\"));\n  return this.$apiClient.$request({body:null, httpMethod:\"GET\", methodId:\"earthengine.projects.tables.getFeatures\", path:\"/\" + this.gapiVersion + \"/\" + name + \":getFeatures\", queryParams:module$contents$eeapiclient$request_params_buildQueryParams(namedParameters, module$contents$eeapiclient$ee_api_client_PARAM_MAP_0, passthroughNamedParameters), responseCtor:module$exports$eeapiclient$ee_api_client.HttpBody});\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsTablesApiClient = function() {\n};\nmodule$exports$eeapiclient$ee_api_client.IProjectsThumbnailsApiClient$XgafvEnum = function module$contents$eeapiclient$ee_api_client_IProjectsThumbnailsApiClient$XgafvEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsThumbnailsApiClient$XgafvEnum = {1:\"1\", 2:\"2\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ProjectsThumbnailsApiClient$XgafvEnum[1], module$exports$eeapiclient$ee_api_client.ProjectsThumbnailsApiClient$XgafvEnum[2]];\n}};\nmodule$exports$eeapiclient$ee_api_client.IProjectsThumbnailsApiClientAltEnum = function module$contents$eeapiclient$ee_api_client_IProjectsThumbnailsApiClientAltEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsThumbnailsApiClientAltEnum = {JSON:\"json\", MEDIA:\"media\", PROTO:\"proto\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ProjectsThumbnailsApiClientAltEnum.JSON, module$exports$eeapiclient$ee_api_client.ProjectsThumbnailsApiClientAltEnum.MEDIA, module$exports$eeapiclient$ee_api_client.ProjectsThumbnailsApiClientAltEnum.PROTO];\n}};\nmodule$exports$eeapiclient$ee_api_client.ProjectsThumbnailsApiClientImpl = function(gapiVersion, gapiRequestService, apiClientHookFactory) {\n  this.gapiVersion = gapiVersion;\n  this.$apiClient = new module$exports$eeapiclient$promise_api_client.PromiseApiClient(gapiRequestService, void 0 === apiClientHookFactory ? null : apiClientHookFactory);\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsThumbnailsApiClientImpl.prototype.create = function(parent, $requestBody, namedParameters, passthroughNamedParameters) {\n  namedParameters = void 0 === namedParameters ? {} : namedParameters;\n  passthroughNamedParameters = void 0 === passthroughNamedParameters ? {} : passthroughNamedParameters;\n  this.$apiClient.$validateParameter(parent, RegExp(\"^projects/[^/]+$\"));\n  return this.$apiClient.$request({body:$requestBody, httpMethod:\"POST\", methodId:\"earthengine.projects.thumbnails.create\", path:\"/\" + this.gapiVersion + \"/\" + parent + \"/thumbnails\", queryParams:module$contents$eeapiclient$request_params_buildQueryParams(namedParameters, module$contents$eeapiclient$ee_api_client_PARAM_MAP_0, passthroughNamedParameters), responseCtor:module$exports$eeapiclient$ee_api_client.Thumbnail});\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsThumbnailsApiClientImpl.prototype.getPixels = function(name, namedParameters, passthroughNamedParameters) {\n  namedParameters = void 0 === namedParameters ? {} : namedParameters;\n  passthroughNamedParameters = void 0 === passthroughNamedParameters ? {} : passthroughNamedParameters;\n  this.$apiClient.$validateParameter(name, RegExp(\"^projects/[^/]+/thumbnails/[^/]+$\"));\n  return this.$apiClient.$request({body:null, httpMethod:\"GET\", methodId:\"earthengine.projects.thumbnails.getPixels\", path:\"/\" + this.gapiVersion + \"/\" + name + \":getPixels\", queryParams:module$contents$eeapiclient$request_params_buildQueryParams(namedParameters, module$contents$eeapiclient$ee_api_client_PARAM_MAP_0, passthroughNamedParameters), responseCtor:module$exports$eeapiclient$ee_api_client.HttpBody});\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsThumbnailsApiClient = function() {\n};\nmodule$exports$eeapiclient$ee_api_client.IProjectsValueApiClient$XgafvEnum = function module$contents$eeapiclient$ee_api_client_IProjectsValueApiClient$XgafvEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsValueApiClient$XgafvEnum = {1:\"1\", 2:\"2\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ProjectsValueApiClient$XgafvEnum[1], module$exports$eeapiclient$ee_api_client.ProjectsValueApiClient$XgafvEnum[2]];\n}};\nmodule$exports$eeapiclient$ee_api_client.IProjectsValueApiClientAltEnum = function module$contents$eeapiclient$ee_api_client_IProjectsValueApiClientAltEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsValueApiClientAltEnum = {JSON:\"json\", MEDIA:\"media\", PROTO:\"proto\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ProjectsValueApiClientAltEnum.JSON, module$exports$eeapiclient$ee_api_client.ProjectsValueApiClientAltEnum.MEDIA, module$exports$eeapiclient$ee_api_client.ProjectsValueApiClientAltEnum.PROTO];\n}};\nmodule$exports$eeapiclient$ee_api_client.ProjectsValueApiClientImpl = function(gapiVersion, gapiRequestService, apiClientHookFactory) {\n  this.gapiVersion = gapiVersion;\n  this.$apiClient = new module$exports$eeapiclient$promise_api_client.PromiseApiClient(gapiRequestService, void 0 === apiClientHookFactory ? null : apiClientHookFactory);\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsValueApiClientImpl.prototype.compute = function(project, $requestBody, namedParameters, passthroughNamedParameters) {\n  namedParameters = void 0 === namedParameters ? {} : namedParameters;\n  passthroughNamedParameters = void 0 === passthroughNamedParameters ? {} : passthroughNamedParameters;\n  this.$apiClient.$validateParameter(project, RegExp(\"^projects/[^/]+$\"));\n  return this.$apiClient.$request({body:$requestBody, httpMethod:\"POST\", methodId:\"earthengine.projects.value.compute\", path:\"/\" + this.gapiVersion + \"/\" + project + \"/value:compute\", queryParams:module$contents$eeapiclient$request_params_buildQueryParams(namedParameters, module$contents$eeapiclient$ee_api_client_PARAM_MAP_0, passthroughNamedParameters), responseCtor:module$exports$eeapiclient$ee_api_client.ComputeValueResponse});\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsValueApiClient = function() {\n};\nmodule$exports$eeapiclient$ee_api_client.IProjectsVideoApiClient$XgafvEnum = function module$contents$eeapiclient$ee_api_client_IProjectsVideoApiClient$XgafvEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsVideoApiClient$XgafvEnum = {1:\"1\", 2:\"2\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ProjectsVideoApiClient$XgafvEnum[1], module$exports$eeapiclient$ee_api_client.ProjectsVideoApiClient$XgafvEnum[2]];\n}};\nmodule$exports$eeapiclient$ee_api_client.IProjectsVideoApiClientAltEnum = function module$contents$eeapiclient$ee_api_client_IProjectsVideoApiClientAltEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsVideoApiClientAltEnum = {JSON:\"json\", MEDIA:\"media\", PROTO:\"proto\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ProjectsVideoApiClientAltEnum.JSON, module$exports$eeapiclient$ee_api_client.ProjectsVideoApiClientAltEnum.MEDIA, module$exports$eeapiclient$ee_api_client.ProjectsVideoApiClientAltEnum.PROTO];\n}};\nmodule$exports$eeapiclient$ee_api_client.ProjectsVideoApiClientImpl = function(gapiVersion, gapiRequestService, apiClientHookFactory) {\n  this.gapiVersion = gapiVersion;\n  this.$apiClient = new module$exports$eeapiclient$promise_api_client.PromiseApiClient(gapiRequestService, void 0 === apiClientHookFactory ? null : apiClientHookFactory);\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsVideoApiClientImpl.prototype.export = function(project, $requestBody, namedParameters, passthroughNamedParameters) {\n  namedParameters = void 0 === namedParameters ? {} : namedParameters;\n  passthroughNamedParameters = void 0 === passthroughNamedParameters ? {} : passthroughNamedParameters;\n  this.$apiClient.$validateParameter(project, RegExp(\"^projects/[^/]+$\"));\n  return this.$apiClient.$request({body:$requestBody, httpMethod:\"POST\", methodId:\"earthengine.projects.video.export\", path:\"/\" + this.gapiVersion + \"/\" + project + \"/video:export\", queryParams:module$contents$eeapiclient$request_params_buildQueryParams(namedParameters, module$contents$eeapiclient$ee_api_client_PARAM_MAP_0, passthroughNamedParameters), responseCtor:module$exports$eeapiclient$ee_api_client.Operation});\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsVideoApiClient = function() {\n};\nmodule$exports$eeapiclient$ee_api_client.IProjectsVideoMapApiClient$XgafvEnum = function module$contents$eeapiclient$ee_api_client_IProjectsVideoMapApiClient$XgafvEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsVideoMapApiClient$XgafvEnum = {1:\"1\", 2:\"2\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ProjectsVideoMapApiClient$XgafvEnum[1], module$exports$eeapiclient$ee_api_client.ProjectsVideoMapApiClient$XgafvEnum[2]];\n}};\nmodule$exports$eeapiclient$ee_api_client.IProjectsVideoMapApiClientAltEnum = function module$contents$eeapiclient$ee_api_client_IProjectsVideoMapApiClientAltEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsVideoMapApiClientAltEnum = {JSON:\"json\", MEDIA:\"media\", PROTO:\"proto\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ProjectsVideoMapApiClientAltEnum.JSON, module$exports$eeapiclient$ee_api_client.ProjectsVideoMapApiClientAltEnum.MEDIA, module$exports$eeapiclient$ee_api_client.ProjectsVideoMapApiClientAltEnum.PROTO];\n}};\nmodule$exports$eeapiclient$ee_api_client.ProjectsVideoMapApiClientImpl = function(gapiVersion, gapiRequestService, apiClientHookFactory) {\n  this.gapiVersion = gapiVersion;\n  this.$apiClient = new module$exports$eeapiclient$promise_api_client.PromiseApiClient(gapiRequestService, void 0 === apiClientHookFactory ? null : apiClientHookFactory);\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsVideoMapApiClientImpl.prototype.export = function(project, $requestBody, namedParameters, passthroughNamedParameters) {\n  namedParameters = void 0 === namedParameters ? {} : namedParameters;\n  passthroughNamedParameters = void 0 === passthroughNamedParameters ? {} : passthroughNamedParameters;\n  this.$apiClient.$validateParameter(project, RegExp(\"^projects/[^/]+$\"));\n  return this.$apiClient.$request({body:$requestBody, httpMethod:\"POST\", methodId:\"earthengine.projects.videoMap.export\", path:\"/\" + this.gapiVersion + \"/\" + project + \"/videoMap:export\", queryParams:module$contents$eeapiclient$request_params_buildQueryParams(namedParameters, module$contents$eeapiclient$ee_api_client_PARAM_MAP_0, passthroughNamedParameters), responseCtor:module$exports$eeapiclient$ee_api_client.Operation});\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsVideoMapApiClient = function() {\n};\nmodule$exports$eeapiclient$ee_api_client.IProjectsVideoThumbnailsApiClient$XgafvEnum = function module$contents$eeapiclient$ee_api_client_IProjectsVideoThumbnailsApiClient$XgafvEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsVideoThumbnailsApiClient$XgafvEnum = {1:\"1\", 2:\"2\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ProjectsVideoThumbnailsApiClient$XgafvEnum[1], module$exports$eeapiclient$ee_api_client.ProjectsVideoThumbnailsApiClient$XgafvEnum[2]];\n}};\nmodule$exports$eeapiclient$ee_api_client.IProjectsVideoThumbnailsApiClientAltEnum = function module$contents$eeapiclient$ee_api_client_IProjectsVideoThumbnailsApiClientAltEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsVideoThumbnailsApiClientAltEnum = {JSON:\"json\", MEDIA:\"media\", PROTO:\"proto\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ProjectsVideoThumbnailsApiClientAltEnum.JSON, module$exports$eeapiclient$ee_api_client.ProjectsVideoThumbnailsApiClientAltEnum.MEDIA, module$exports$eeapiclient$ee_api_client.ProjectsVideoThumbnailsApiClientAltEnum.PROTO];\n}};\nmodule$exports$eeapiclient$ee_api_client.ProjectsVideoThumbnailsApiClientImpl = function(gapiVersion, gapiRequestService, apiClientHookFactory) {\n  this.gapiVersion = gapiVersion;\n  this.$apiClient = new module$exports$eeapiclient$promise_api_client.PromiseApiClient(gapiRequestService, void 0 === apiClientHookFactory ? null : apiClientHookFactory);\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsVideoThumbnailsApiClientImpl.prototype.create = function(parent, $requestBody, namedParameters, passthroughNamedParameters) {\n  namedParameters = void 0 === namedParameters ? {} : namedParameters;\n  passthroughNamedParameters = void 0 === passthroughNamedParameters ? {} : passthroughNamedParameters;\n  this.$apiClient.$validateParameter(parent, RegExp(\"^projects/[^/]+$\"));\n  return this.$apiClient.$request({body:$requestBody, httpMethod:\"POST\", methodId:\"earthengine.projects.videoThumbnails.create\", path:\"/\" + this.gapiVersion + \"/\" + parent + \"/videoThumbnails\", queryParams:module$contents$eeapiclient$request_params_buildQueryParams(namedParameters, module$contents$eeapiclient$ee_api_client_PARAM_MAP_0, passthroughNamedParameters), responseCtor:module$exports$eeapiclient$ee_api_client.VideoThumbnail});\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsVideoThumbnailsApiClientImpl.prototype.getPixels = function(name, namedParameters, passthroughNamedParameters) {\n  namedParameters = void 0 === namedParameters ? {} : namedParameters;\n  passthroughNamedParameters = void 0 === passthroughNamedParameters ? {} : passthroughNamedParameters;\n  this.$apiClient.$validateParameter(name, RegExp(\"^projects/[^/]+/videoThumbnails/[^/]+$\"));\n  return this.$apiClient.$request({body:null, httpMethod:\"GET\", methodId:\"earthengine.projects.videoThumbnails.getPixels\", path:\"/\" + this.gapiVersion + \"/\" + name + \":getPixels\", queryParams:module$contents$eeapiclient$request_params_buildQueryParams(namedParameters, module$contents$eeapiclient$ee_api_client_PARAM_MAP_0, passthroughNamedParameters), responseCtor:module$exports$eeapiclient$ee_api_client.HttpBody});\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsVideoThumbnailsApiClient = function() {\n};\nmodule$exports$eeapiclient$ee_api_client.IV1alphaApiClient$XgafvEnum = function module$contents$eeapiclient$ee_api_client_IV1alphaApiClient$XgafvEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.V1alphaApiClient$XgafvEnum = {1:\"1\", 2:\"2\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.V1alphaApiClient$XgafvEnum[1], module$exports$eeapiclient$ee_api_client.V1alphaApiClient$XgafvEnum[2]];\n}};\nmodule$exports$eeapiclient$ee_api_client.IV1alphaApiClientAltEnum = function module$contents$eeapiclient$ee_api_client_IV1alphaApiClientAltEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.V1alphaApiClientAltEnum = {JSON:\"json\", MEDIA:\"media\", PROTO:\"proto\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.V1alphaApiClientAltEnum.JSON, module$exports$eeapiclient$ee_api_client.V1alphaApiClientAltEnum.MEDIA, module$exports$eeapiclient$ee_api_client.V1alphaApiClientAltEnum.PROTO];\n}};\nmodule$exports$eeapiclient$ee_api_client.V1alphaApiClientImpl = function(gapiVersion, gapiRequestService, apiClientHookFactory) {\n  this.gapiVersion = gapiVersion;\n  this.$apiClient = new module$exports$eeapiclient$promise_api_client.PromiseApiClient(gapiRequestService, void 0 === apiClientHookFactory ? null : apiClientHookFactory);\n};\nmodule$exports$eeapiclient$ee_api_client.V1alphaApiClientImpl.prototype.getCapabilities = function(namedParameters, passthroughNamedParameters) {\n  namedParameters = void 0 === namedParameters ? {} : namedParameters;\n  passthroughNamedParameters = void 0 === passthroughNamedParameters ? {} : passthroughNamedParameters;\n  return this.$apiClient.$request({body:null, httpMethod:\"GET\", methodId:\"earthengine.getCapabilities\", path:\"/\" + this.gapiVersion + \"/capabilities\", queryParams:module$contents$eeapiclient$request_params_buildQueryParams(namedParameters, module$contents$eeapiclient$ee_api_client_PARAM_MAP_0, passthroughNamedParameters), responseCtor:module$exports$eeapiclient$ee_api_client.Capabilities});\n};\nmodule$exports$eeapiclient$ee_api_client.V1alphaApiClient = function() {\n};\nee.api = module$exports$eeapiclient$ee_api_client;\nvar module$exports$ee$apiVersion = {V1ALPHA:\"v1alpha\", V1:\"v1\"};\nmodule$exports$ee$apiVersion.VERSION = module$exports$ee$apiVersion.V1ALPHA;\nvar module$exports$eeapiclient$promise_request_service = {}, module$contents$eeapiclient$promise_request_service_module = module$contents$eeapiclient$promise_request_service_module || {id:\"javascript/typescript/contrib/apiclient/request_service/promise_request_service.closure.js\"};\nmodule$exports$eeapiclient$promise_request_service.PromiseRequestService = function() {\n};\nmodule$exports$eeapiclient$promise_request_service.PromiseRequestService.prototype.send = function(params, responseCtor) {\n  module$contents$eeapiclient$request_params_processParams(params);\n  return this.makeRequest(params).then(function(response) {\n    return responseCtor ? module$contents$eeapiclient$domain_object_deserialize(responseCtor, response) : response;\n  });\n};\ngoog.async = {};\nvar module$contents$goog$async$FreeList_FreeList = function(create, reset, limit) {\n  this.limit_ = limit;\n  this.create_ = create;\n  this.reset_ = reset;\n  this.occupants_ = 0;\n  this.head_ = null;\n};\nmodule$contents$goog$async$FreeList_FreeList.prototype.get = function() {\n  if (0 < this.occupants_) {\n    this.occupants_--;\n    var item = this.head_;\n    this.head_ = item.next;\n    item.next = null;\n  } else {\n    item = this.create_();\n  }\n  return item;\n};\nmodule$contents$goog$async$FreeList_FreeList.prototype.put = function(item) {\n  this.reset_(item);\n  this.occupants_ < this.limit_ && (this.occupants_++, item.next = this.head_, this.head_ = item);\n};\nmodule$contents$goog$async$FreeList_FreeList.prototype.occupants = function() {\n  return this.occupants_;\n};\ngoog.async.FreeList = module$contents$goog$async$FreeList_FreeList;\ngoog.dom.BrowserFeature = {};\ngoog.dom.BrowserFeature.ASSUME_NO_OFFSCREEN_CANVAS = !1;\ngoog.dom.BrowserFeature.ASSUME_OFFSCREEN_CANVAS = !1;\ngoog.dom.BrowserFeature.detectOffscreenCanvas_ = function(contextName) {\n  try {\n    return !!(new self.OffscreenCanvas(0, 0)).getContext(contextName);\n  } catch (ex) {\n  }\n  return !1;\n};\ngoog.dom.BrowserFeature.OFFSCREEN_CANVAS_2D = !goog.dom.BrowserFeature.ASSUME_NO_OFFSCREEN_CANVAS && (goog.dom.BrowserFeature.ASSUME_OFFSCREEN_CANVAS || goog.dom.BrowserFeature.detectOffscreenCanvas_(\"2d\"));\ngoog.dom.BrowserFeature.CAN_ADD_NAME_OR_TYPE_ATTRIBUTES = !0;\ngoog.dom.BrowserFeature.CAN_USE_CHILDREN_ATTRIBUTE = !0;\ngoog.dom.BrowserFeature.CAN_USE_INNER_TEXT = !1;\ngoog.dom.BrowserFeature.CAN_USE_PARENT_ELEMENT_PROPERTY = goog.userAgent.IE || goog.userAgent.WEBKIT;\ngoog.dom.BrowserFeature.INNER_HTML_NEEDS_SCOPED_ELEMENT = goog.userAgent.IE;\ngoog.math.Coordinate = function(opt_x, opt_y) {\n  this.x = void 0 !== opt_x ? opt_x : 0;\n  this.y = void 0 !== opt_y ? opt_y : 0;\n};\ngoog.math.Coordinate.prototype.clone = function() {\n  return new goog.math.Coordinate(this.x, this.y);\n};\ngoog.DEBUG && (goog.math.Coordinate.prototype.toString = function() {\n  return \"(\" + this.x + \", \" + this.y + \")\";\n});\ngoog.math.Coordinate.prototype.equals = function(other) {\n  return other instanceof goog.math.Coordinate && goog.math.Coordinate.equals(this, other);\n};\ngoog.math.Coordinate.equals = function(a, b) {\n  return a == b ? !0 : a && b ? a.x == b.x && a.y == b.y : !1;\n};\ngoog.math.Coordinate.distance = function(a, b) {\n  var dx = a.x - b.x, dy = a.y - b.y;\n  return Math.sqrt(dx * dx + dy * dy);\n};\ngoog.math.Coordinate.magnitude = function(a) {\n  return Math.sqrt(a.x * a.x + a.y * a.y);\n};\ngoog.math.Coordinate.azimuth = function(a) {\n  return goog.math.angle(0, 0, a.x, a.y);\n};\ngoog.math.Coordinate.squaredDistance = function(a, b) {\n  var dx = a.x - b.x, dy = a.y - b.y;\n  return dx * dx + dy * dy;\n};\ngoog.math.Coordinate.difference = function(a, b) {\n  return new goog.math.Coordinate(a.x - b.x, a.y - b.y);\n};\ngoog.math.Coordinate.sum = function(a, b) {\n  return new goog.math.Coordinate(a.x + b.x, a.y + b.y);\n};\ngoog.math.Coordinate.prototype.ceil = function() {\n  this.x = Math.ceil(this.x);\n  this.y = Math.ceil(this.y);\n  return this;\n};\ngoog.math.Coordinate.prototype.floor = function() {\n  this.x = Math.floor(this.x);\n  this.y = Math.floor(this.y);\n  return this;\n};\ngoog.math.Coordinate.prototype.round = function() {\n  this.x = Math.round(this.x);\n  this.y = Math.round(this.y);\n  return this;\n};\ngoog.math.Coordinate.prototype.translate = function(tx, opt_ty) {\n  tx instanceof goog.math.Coordinate ? (this.x += tx.x, this.y += tx.y) : (this.x += Number(tx), \"number\" === typeof opt_ty && (this.y += opt_ty));\n  return this;\n};\ngoog.math.Coordinate.prototype.scale = function(sx, opt_sy) {\n  var sy;\n  this.x *= sx;\n  this.y *= \"number\" === typeof opt_sy ? opt_sy : sx;\n  return this;\n};\ngoog.math.Coordinate.prototype.rotateRadians = function(radians, opt_center) {\n  var center = opt_center || new goog.math.Coordinate(0, 0), x = this.x, y = this.y, cos = Math.cos(radians), sin = Math.sin(radians);\n  this.x = (x - center.x) * cos - (y - center.y) * sin + center.x;\n  this.y = (x - center.x) * sin + (y - center.y) * cos + center.y;\n};\ngoog.math.Coordinate.prototype.rotateDegrees = function(degrees, opt_center) {\n  this.rotateRadians(goog.math.toRadians(degrees), opt_center);\n};\ngoog.math.Size = function(width, height) {\n  this.width = width;\n  this.height = height;\n};\ngoog.math.Size.equals = function(a, b) {\n  return a == b ? !0 : a && b ? a.width == b.width && a.height == b.height : !1;\n};\ngoog.math.Size.prototype.clone = function() {\n  return new goog.math.Size(this.width, this.height);\n};\ngoog.DEBUG && (goog.math.Size.prototype.toString = function() {\n  return \"(\" + this.width + \" x \" + this.height + \")\";\n});\ngoog.math.Size.prototype.getLongest = function() {\n  return Math.max(this.width, this.height);\n};\ngoog.math.Size.prototype.getShortest = function() {\n  return Math.min(this.width, this.height);\n};\ngoog.math.Size.prototype.area = function() {\n  return this.width * this.height;\n};\ngoog.math.Size.prototype.perimeter = function() {\n  return 2 * (this.width + this.height);\n};\ngoog.math.Size.prototype.aspectRatio = function() {\n  return this.width / this.height;\n};\ngoog.math.Size.prototype.isEmpty = function() {\n  return !this.area();\n};\ngoog.math.Size.prototype.ceil = function() {\n  this.width = Math.ceil(this.width);\n  this.height = Math.ceil(this.height);\n  return this;\n};\ngoog.math.Size.prototype.fitsInside = function(target) {\n  return this.width <= target.width && this.height <= target.height;\n};\ngoog.math.Size.prototype.floor = function() {\n  this.width = Math.floor(this.width);\n  this.height = Math.floor(this.height);\n  return this;\n};\ngoog.math.Size.prototype.round = function() {\n  this.width = Math.round(this.width);\n  this.height = Math.round(this.height);\n  return this;\n};\ngoog.math.Size.prototype.scale = function(sx, opt_sy) {\n  var sy;\n  this.width *= sx;\n  this.height *= \"number\" === typeof opt_sy ? opt_sy : sx;\n  return this;\n};\ngoog.math.Size.prototype.scaleToCover = function(target) {\n  var s = this.aspectRatio() <= target.aspectRatio() ? target.width / this.width : target.height / this.height;\n  return this.scale(s);\n};\ngoog.math.Size.prototype.scaleToFit = function(target) {\n  var s = this.aspectRatio() > target.aspectRatio() ? target.width / this.width : target.height / this.height;\n  return this.scale(s);\n};\ngoog.dom.Appendable = {};\ngoog.dom.ASSUME_QUIRKS_MODE = !1;\ngoog.dom.ASSUME_STANDARDS_MODE = !1;\ngoog.dom.COMPAT_MODE_KNOWN_ = goog.dom.ASSUME_QUIRKS_MODE || goog.dom.ASSUME_STANDARDS_MODE;\ngoog.dom.getDomHelper = function(opt_element) {\n  return opt_element ? new goog.dom.DomHelper(goog.dom.getOwnerDocument(opt_element)) : goog.dom.defaultDomHelper_ || (goog.dom.defaultDomHelper_ = new goog.dom.DomHelper());\n};\ngoog.dom.getDocument = function() {\n  return document;\n};\ngoog.dom.getElement = function(element) {\n  return goog.dom.getElementHelper_(document, element);\n};\ngoog.dom.getHTMLElement = function(id) {\n  var element = goog.dom.getElement(id);\n  return element ? module$contents$goog$asserts$dom_assertIsHtmlElement(element) : null;\n};\ngoog.dom.getElementHelper_ = function(doc, element) {\n  return \"string\" === typeof element ? doc.getElementById(element) : element;\n};\ngoog.dom.getRequiredElement = function(id) {\n  return goog.dom.getRequiredElementHelper_(document, id);\n};\ngoog.dom.getRequiredHTMLElement = function(id) {\n  return module$contents$goog$asserts$dom_assertIsHtmlElement(goog.dom.getRequiredElementHelper_(document, id));\n};\ngoog.dom.getRequiredElementHelper_ = function(doc, id) {\n  goog.asserts.assertString(id);\n  var element = goog.dom.getElementHelper_(doc, id);\n  return goog.asserts.assert(element, \"No element found with id: \" + id);\n};\ngoog.dom.$ = goog.dom.getElement;\ngoog.dom.getElementsByTagName = function(tagName, opt_parent) {\n  return (opt_parent || document).getElementsByTagName(String(tagName));\n};\ngoog.dom.getElementsByTagNameAndClass = function(opt_tag, opt_class, opt_el) {\n  return goog.dom.getElementsByTagNameAndClass_(document, opt_tag, opt_class, opt_el);\n};\ngoog.dom.getElementByTagNameAndClass = function(opt_tag, opt_class, opt_el) {\n  return goog.dom.getElementByTagNameAndClass_(document, opt_tag, opt_class, opt_el);\n};\ngoog.dom.getElementsByClass = function(className, opt_el) {\n  var parent = opt_el || document;\n  return goog.dom.canUseQuerySelector_(parent) ? parent.querySelectorAll(\".\" + className) : goog.dom.getElementsByTagNameAndClass_(document, \"*\", className, opt_el);\n};\ngoog.dom.getElementByClass = function(className, opt_el) {\n  var parent = opt_el || document, retVal = null;\n  return (retVal = parent.getElementsByClassName ? parent.getElementsByClassName(className)[0] : goog.dom.getElementByTagNameAndClass_(document, \"*\", className, opt_el)) || null;\n};\ngoog.dom.getHTMLElementByClass = function(className, opt_parent) {\n  var element = goog.dom.getElementByClass(className, opt_parent);\n  return element ? module$contents$goog$asserts$dom_assertIsHtmlElement(element) : null;\n};\ngoog.dom.getRequiredElementByClass = function(className, opt_root) {\n  var retValue = goog.dom.getElementByClass(className, opt_root);\n  return goog.asserts.assert(retValue, \"No element found with className: \" + className);\n};\ngoog.dom.getRequiredHTMLElementByClass = function(className, opt_parent) {\n  var retValue = goog.dom.getElementByClass(className, opt_parent);\n  goog.asserts.assert(retValue, \"No HTMLElement found with className: \" + className);\n  return module$contents$goog$asserts$dom_assertIsHtmlElement(retValue);\n};\ngoog.dom.canUseQuerySelector_ = function(parent) {\n  return !(!parent.querySelectorAll || !parent.querySelector);\n};\ngoog.dom.getElementsByTagNameAndClass_ = function(doc, opt_tag, opt_class, opt_el) {\n  var parent = opt_el || doc, tagName = opt_tag && \"*\" != opt_tag ? String(opt_tag).toUpperCase() : \"\";\n  if (goog.dom.canUseQuerySelector_(parent) && (tagName || opt_class)) {\n    return parent.querySelectorAll(tagName + (opt_class ? \".\" + opt_class : \"\"));\n  }\n  if (opt_class && parent.getElementsByClassName) {\n    var els = parent.getElementsByClassName(opt_class);\n    if (tagName) {\n      for (var arrayLike = {}, len = 0, i = 0, el; el = els[i]; i++) {\n        tagName == el.nodeName && (arrayLike[len++] = el);\n      }\n      arrayLike.length = len;\n      return arrayLike;\n    }\n    return els;\n  }\n  els = parent.getElementsByTagName(tagName || \"*\");\n  if (opt_class) {\n    arrayLike = {};\n    for (i = len = 0; el = els[i]; i++) {\n      var className = el.className;\n      \"function\" == typeof className.split && module$contents$goog$array_contains(className.split(/\\s+/), opt_class) && (arrayLike[len++] = el);\n    }\n    arrayLike.length = len;\n    return arrayLike;\n  }\n  return els;\n};\ngoog.dom.getElementByTagNameAndClass_ = function(doc, opt_tag, opt_class, opt_el) {\n  var parent = opt_el || doc, tag = opt_tag && \"*\" != opt_tag ? String(opt_tag).toUpperCase() : \"\";\n  return goog.dom.canUseQuerySelector_(parent) && (tag || opt_class) ? parent.querySelector(tag + (opt_class ? \".\" + opt_class : \"\")) : goog.dom.getElementsByTagNameAndClass_(doc, opt_tag, opt_class, opt_el)[0] || null;\n};\ngoog.dom.$$ = goog.dom.getElementsByTagNameAndClass;\ngoog.dom.setProperties = function(element, properties) {\n  module$contents$goog$object_forEach(properties, function(val, key) {\n    val && \"object\" == typeof val && val.implementsGoogStringTypedString && (val = val.getTypedStringValue());\n    \"style\" == key ? element.style.cssText = val : \"class\" == key ? element.className = val : \"for\" == key ? element.htmlFor = val : goog.dom.DIRECT_ATTRIBUTE_MAP_.hasOwnProperty(key) ? element.setAttribute(goog.dom.DIRECT_ATTRIBUTE_MAP_[key], val) : goog.string.startsWith(key, \"aria-\") || goog.string.startsWith(key, \"data-\") ? element.setAttribute(key, val) : element[key] = val;\n  });\n};\ngoog.dom.DIRECT_ATTRIBUTE_MAP_ = {cellpadding:\"cellPadding\", cellspacing:\"cellSpacing\", colspan:\"colSpan\", frameborder:\"frameBorder\", height:\"height\", maxlength:\"maxLength\", nonce:\"nonce\", role:\"role\", rowspan:\"rowSpan\", type:\"type\", usemap:\"useMap\", valign:\"vAlign\", width:\"width\"};\ngoog.dom.getViewportSize = function(opt_window) {\n  return goog.dom.getViewportSize_(opt_window || window);\n};\ngoog.dom.getViewportSize_ = function(win) {\n  var doc = win.document, el = goog.dom.isCss1CompatMode_(doc) ? doc.documentElement : doc.body;\n  return new goog.math.Size(el.clientWidth, el.clientHeight);\n};\ngoog.dom.getDocumentHeight = function() {\n  return goog.dom.getDocumentHeight_(window);\n};\ngoog.dom.getDocumentHeightForWindow = function(win) {\n  return goog.dom.getDocumentHeight_(win);\n};\ngoog.dom.getDocumentHeight_ = function(win) {\n  var doc = win.document, height = 0;\n  if (doc) {\n    var body = doc.body, docEl = doc.documentElement;\n    if (!docEl || !body) {\n      return 0;\n    }\n    var vh = goog.dom.getViewportSize_(win).height;\n    if (goog.dom.isCss1CompatMode_(doc) && docEl.scrollHeight) {\n      height = docEl.scrollHeight != vh ? docEl.scrollHeight : docEl.offsetHeight;\n    } else {\n      var sh = docEl.scrollHeight, oh = docEl.offsetHeight;\n      docEl.clientHeight != oh && (sh = body.scrollHeight, oh = body.offsetHeight);\n      height = sh > vh ? sh > oh ? sh : oh : sh < oh ? sh : oh;\n    }\n  }\n  return height;\n};\ngoog.dom.getPageScroll = function(opt_window) {\n  return goog.dom.getDomHelper((opt_window || goog.global || window).document).getDocumentScroll();\n};\ngoog.dom.getDocumentScroll = function() {\n  return goog.dom.getDocumentScroll_(document);\n};\ngoog.dom.getDocumentScroll_ = function(doc) {\n  var el = goog.dom.getDocumentScrollElement_(doc), win = goog.dom.getWindow_(doc);\n  return goog.userAgent.IE && win.pageYOffset != el.scrollTop ? new goog.math.Coordinate(el.scrollLeft, el.scrollTop) : new goog.math.Coordinate(win.pageXOffset || el.scrollLeft, win.pageYOffset || el.scrollTop);\n};\ngoog.dom.getDocumentScrollElement = function() {\n  return goog.dom.getDocumentScrollElement_(document);\n};\ngoog.dom.getDocumentScrollElement_ = function(doc) {\n  return doc.scrollingElement ? doc.scrollingElement : !goog.userAgent.WEBKIT && goog.dom.isCss1CompatMode_(doc) ? doc.documentElement : doc.body || doc.documentElement;\n};\ngoog.dom.getWindow = function(opt_doc) {\n  return opt_doc ? goog.dom.getWindow_(opt_doc) : window;\n};\ngoog.dom.getWindow_ = function(doc) {\n  return doc.parentWindow || doc.defaultView;\n};\ngoog.dom.createDom = function(tagName, opt_attributes, var_args) {\n  return goog.dom.createDom_(document, arguments);\n};\ngoog.dom.createDom_ = function(doc, args) {\n  var attributes = args[1], element = goog.dom.createElement_(doc, String(args[0]));\n  attributes && (\"string\" === typeof attributes ? element.className = attributes : Array.isArray(attributes) ? element.className = attributes.join(\" \") : goog.dom.setProperties(element, attributes));\n  2 < args.length && goog.dom.append_(doc, element, args, 2);\n  return element;\n};\ngoog.dom.append_ = function(doc, parent, args, startIndex) {\n  function childHandler(child) {\n    child && parent.appendChild(\"string\" === typeof child ? doc.createTextNode(child) : child);\n  }\n  for (var i = startIndex; i < args.length; i++) {\n    var arg = args[i];\n    goog.isArrayLike(arg) && !goog.dom.isNodeLike(arg) ? module$contents$goog$array_forEach(goog.dom.isNodeList(arg) ? module$contents$goog$array_toArray(arg) : arg, childHandler) : childHandler(arg);\n  }\n};\ngoog.dom.$dom = goog.dom.createDom;\ngoog.dom.createElement = function(name) {\n  return goog.dom.createElement_(document, name);\n};\ngoog.dom.createElement_ = function(doc, name) {\n  name = String(name);\n  \"application/xhtml+xml\" === doc.contentType && (name = name.toLowerCase());\n  return doc.createElement(name);\n};\ngoog.dom.createTextNode = function(content) {\n  return document.createTextNode(String(content));\n};\ngoog.dom.createTable = function(rows, columns, opt_fillWithNbsp) {\n  return goog.dom.createTable_(document, rows, columns, !!opt_fillWithNbsp);\n};\ngoog.dom.createTable_ = function(doc, rows, columns, fillWithNbsp) {\n  for (var table = goog.dom.createElement_(doc, goog.dom.TagName.TABLE), tbody = table.appendChild(goog.dom.createElement_(doc, goog.dom.TagName.TBODY)), i = 0; i < rows; i++) {\n    for (var tr = goog.dom.createElement_(doc, goog.dom.TagName.TR), j = 0; j < columns; j++) {\n      var td = goog.dom.createElement_(doc, goog.dom.TagName.TD);\n      fillWithNbsp && goog.dom.setTextContent(td, goog.string.Unicode.NBSP);\n      tr.appendChild(td);\n    }\n    tbody.appendChild(tr);\n  }\n  return table;\n};\ngoog.dom.constHtmlToNode = function(var_args) {\n  var stringArray = Array.prototype.map.call(arguments, goog.string.Const.unwrap), safeHtml = goog.html.uncheckedconversions.safeHtmlFromStringKnownToSatisfyTypeContract(goog.string.Const.from(\"Constant HTML string, that gets turned into a Node later, so it will be automatically balanced.\"), stringArray.join(\"\"));\n  return goog.dom.safeHtmlToNode(safeHtml);\n};\ngoog.dom.safeHtmlToNode = function(html) {\n  return goog.dom.safeHtmlToNode_(document, html);\n};\ngoog.dom.safeHtmlToNode_ = function(doc, html) {\n  var tempDiv = goog.dom.createElement_(doc, goog.dom.TagName.DIV);\n  goog.userAgent.IE ? (goog.dom.safe.setInnerHtml(tempDiv, module$contents$goog$html$SafeHtml_SafeHtml.concat(module$contents$goog$html$SafeHtml_SafeHtml.BR, html)), tempDiv.removeChild(goog.asserts.assert(tempDiv.firstChild))) : goog.dom.safe.setInnerHtml(tempDiv, html);\n  return goog.dom.childrenToNode_(doc, tempDiv);\n};\ngoog.dom.childrenToNode_ = function(doc, tempDiv) {\n  if (1 == tempDiv.childNodes.length) {\n    return tempDiv.removeChild(goog.asserts.assert(tempDiv.firstChild));\n  }\n  for (var fragment = doc.createDocumentFragment(); tempDiv.firstChild;) {\n    fragment.appendChild(tempDiv.firstChild);\n  }\n  return fragment;\n};\ngoog.dom.isCss1CompatMode = function() {\n  return goog.dom.isCss1CompatMode_(document);\n};\ngoog.dom.isCss1CompatMode_ = function(doc) {\n  return goog.dom.COMPAT_MODE_KNOWN_ ? goog.dom.ASSUME_STANDARDS_MODE : \"CSS1Compat\" == doc.compatMode;\n};\ngoog.dom.canHaveChildren = function(node) {\n  if (node.nodeType != goog.dom.NodeType.ELEMENT) {\n    return !1;\n  }\n  switch(node.tagName) {\n    case String(goog.dom.TagName.APPLET):\n    case String(goog.dom.TagName.AREA):\n    case String(goog.dom.TagName.BASE):\n    case String(goog.dom.TagName.BR):\n    case String(goog.dom.TagName.COL):\n    case String(goog.dom.TagName.COMMAND):\n    case String(goog.dom.TagName.EMBED):\n    case String(goog.dom.TagName.FRAME):\n    case String(goog.dom.TagName.HR):\n    case String(goog.dom.TagName.IMG):\n    case String(goog.dom.TagName.INPUT):\n    case String(goog.dom.TagName.IFRAME):\n    case String(goog.dom.TagName.ISINDEX):\n    case String(goog.dom.TagName.KEYGEN):\n    case String(goog.dom.TagName.LINK):\n    case String(goog.dom.TagName.NOFRAMES):\n    case String(goog.dom.TagName.NOSCRIPT):\n    case String(goog.dom.TagName.META):\n    case String(goog.dom.TagName.OBJECT):\n    case String(goog.dom.TagName.PARAM):\n    case String(goog.dom.TagName.SCRIPT):\n    case String(goog.dom.TagName.SOURCE):\n    case String(goog.dom.TagName.STYLE):\n    case String(goog.dom.TagName.TRACK):\n    case String(goog.dom.TagName.WBR):\n      return !1;\n  }\n  return !0;\n};\ngoog.dom.appendChild = function(parent, child) {\n  goog.asserts.assert(null != parent && null != child, \"goog.dom.appendChild expects non-null arguments\");\n  parent.appendChild(child);\n};\ngoog.dom.append = function(parent, var_args) {\n  goog.dom.append_(goog.dom.getOwnerDocument(parent), parent, arguments, 1);\n};\ngoog.dom.removeChildren = function(node) {\n  for (var child; child = node.firstChild;) {\n    node.removeChild(child);\n  }\n};\ngoog.dom.insertSiblingBefore = function(newNode, refNode) {\n  goog.asserts.assert(null != newNode && null != refNode, \"goog.dom.insertSiblingBefore expects non-null arguments\");\n  refNode.parentNode && refNode.parentNode.insertBefore(newNode, refNode);\n};\ngoog.dom.insertSiblingAfter = function(newNode, refNode) {\n  goog.asserts.assert(null != newNode && null != refNode, \"goog.dom.insertSiblingAfter expects non-null arguments\");\n  refNode.parentNode && refNode.parentNode.insertBefore(newNode, refNode.nextSibling);\n};\ngoog.dom.insertChildAt = function(parent, child, index) {\n  goog.asserts.assert(null != parent, \"goog.dom.insertChildAt expects a non-null parent\");\n  parent.insertBefore(child, parent.childNodes[index] || null);\n};\ngoog.dom.removeNode = function(node) {\n  return node && node.parentNode ? node.parentNode.removeChild(node) : null;\n};\ngoog.dom.replaceNode = function(newNode, oldNode) {\n  goog.asserts.assert(null != newNode && null != oldNode, \"goog.dom.replaceNode expects non-null arguments\");\n  var parent = oldNode.parentNode;\n  parent && parent.replaceChild(newNode, oldNode);\n};\ngoog.dom.copyContents = function(target, source) {\n  goog.asserts.assert(null != target && null != source, \"goog.dom.copyContents expects non-null arguments\");\n  var childNodes = source.cloneNode(!0).childNodes;\n  for (goog.dom.removeChildren(target); childNodes.length;) {\n    target.appendChild(childNodes[0]);\n  }\n};\ngoog.dom.flattenElement = function(element) {\n  var child, parent = element.parentNode;\n  if (parent && parent.nodeType != goog.dom.NodeType.DOCUMENT_FRAGMENT) {\n    if (element.removeNode) {\n      return element.removeNode(!1);\n    }\n    for (; child = element.firstChild;) {\n      parent.insertBefore(child, element);\n    }\n    return goog.dom.removeNode(element);\n  }\n};\ngoog.dom.getChildren = function(element) {\n  return void 0 != element.children ? element.children : Array.prototype.filter.call(element.childNodes, function(node) {\n    return node.nodeType == goog.dom.NodeType.ELEMENT;\n  });\n};\ngoog.dom.getFirstElementChild = function(node) {\n  return void 0 !== node.firstElementChild ? node.firstElementChild : goog.dom.getNextElementNode_(node.firstChild, !0);\n};\ngoog.dom.getLastElementChild = function(node) {\n  return void 0 !== node.lastElementChild ? node.lastElementChild : goog.dom.getNextElementNode_(node.lastChild, !1);\n};\ngoog.dom.getNextElementSibling = function(node) {\n  return void 0 !== node.nextElementSibling ? node.nextElementSibling : goog.dom.getNextElementNode_(node.nextSibling, !0);\n};\ngoog.dom.getPreviousElementSibling = function(node) {\n  return void 0 !== node.previousElementSibling ? node.previousElementSibling : goog.dom.getNextElementNode_(node.previousSibling, !1);\n};\ngoog.dom.getNextElementNode_ = function(node, forward) {\n  for (; node && node.nodeType != goog.dom.NodeType.ELEMENT;) {\n    node = forward ? node.nextSibling : node.previousSibling;\n  }\n  return node;\n};\ngoog.dom.getNextNode = function(node) {\n  if (!node) {\n    return null;\n  }\n  if (node.firstChild) {\n    return node.firstChild;\n  }\n  for (; node && !node.nextSibling;) {\n    node = node.parentNode;\n  }\n  return node ? node.nextSibling : null;\n};\ngoog.dom.getPreviousNode = function(node) {\n  if (!node) {\n    return null;\n  }\n  if (!node.previousSibling) {\n    return node.parentNode;\n  }\n  for (node = node.previousSibling; node && node.lastChild;) {\n    node = node.lastChild;\n  }\n  return node;\n};\ngoog.dom.isNodeLike = function(obj) {\n  return goog.isObject(obj) && 0 < obj.nodeType;\n};\ngoog.dom.isElement = function(obj) {\n  return goog.isObject(obj) && obj.nodeType == goog.dom.NodeType.ELEMENT;\n};\ngoog.dom.isWindow = function(obj) {\n  return goog.isObject(obj) && obj.window == obj;\n};\ngoog.dom.getParentElement = function(element) {\n  var parent;\n  if (goog.dom.BrowserFeature.CAN_USE_PARENT_ELEMENT_PROPERTY && (parent = element.parentElement)) {\n    return parent;\n  }\n  parent = element.parentNode;\n  return goog.dom.isElement(parent) ? parent : null;\n};\ngoog.dom.contains = function(parent, descendant) {\n  if (!parent || !descendant) {\n    return !1;\n  }\n  if (parent.contains && descendant.nodeType == goog.dom.NodeType.ELEMENT) {\n    return parent == descendant || parent.contains(descendant);\n  }\n  if (\"undefined\" != typeof parent.compareDocumentPosition) {\n    return parent == descendant || !!(parent.compareDocumentPosition(descendant) & 16);\n  }\n  for (; descendant && parent != descendant;) {\n    descendant = descendant.parentNode;\n  }\n  return descendant == parent;\n};\ngoog.dom.compareNodeOrder = function(node1, node2) {\n  if (node1 == node2) {\n    return 0;\n  }\n  if (node1.compareDocumentPosition) {\n    return node1.compareDocumentPosition(node2) & 2 ? 1 : -1;\n  }\n  if (goog.userAgent.IE && !goog.userAgent.isDocumentModeOrHigher(9)) {\n    if (node1.nodeType == goog.dom.NodeType.DOCUMENT) {\n      return -1;\n    }\n    if (node2.nodeType == goog.dom.NodeType.DOCUMENT) {\n      return 1;\n    }\n  }\n  if (\"sourceIndex\" in node1 || node1.parentNode && \"sourceIndex\" in node1.parentNode) {\n    var isElement1 = node1.nodeType == goog.dom.NodeType.ELEMENT, isElement2 = node2.nodeType == goog.dom.NodeType.ELEMENT;\n    if (isElement1 && isElement2) {\n      return node1.sourceIndex - node2.sourceIndex;\n    }\n    var parent1 = node1.parentNode, parent2 = node2.parentNode;\n    return parent1 == parent2 ? goog.dom.compareSiblingOrder_(node1, node2) : !isElement1 && goog.dom.contains(parent1, node2) ? -1 * goog.dom.compareParentsDescendantNodeIe_(node1, node2) : !isElement2 && goog.dom.contains(parent2, node1) ? goog.dom.compareParentsDescendantNodeIe_(node2, node1) : (isElement1 ? node1.sourceIndex : parent1.sourceIndex) - (isElement2 ? node2.sourceIndex : parent2.sourceIndex);\n  }\n  var doc = goog.dom.getOwnerDocument(node1);\n  var range1 = doc.createRange();\n  range1.selectNode(node1);\n  range1.collapse(!0);\n  var range2 = doc.createRange();\n  range2.selectNode(node2);\n  range2.collapse(!0);\n  return range1.compareBoundaryPoints(goog.global.Range.START_TO_END, range2);\n};\ngoog.dom.compareParentsDescendantNodeIe_ = function(textNode, node) {\n  var parent = textNode.parentNode;\n  if (parent == node) {\n    return -1;\n  }\n  for (var sibling = node; sibling.parentNode != parent;) {\n    sibling = sibling.parentNode;\n  }\n  return goog.dom.compareSiblingOrder_(sibling, textNode);\n};\ngoog.dom.compareSiblingOrder_ = function(node1, node2) {\n  for (var s = node2; s = s.previousSibling;) {\n    if (s == node1) {\n      return -1;\n    }\n  }\n  return 1;\n};\ngoog.dom.findCommonAncestor = function(var_args) {\n  var i, count = arguments.length;\n  if (!count) {\n    return null;\n  }\n  if (1 == count) {\n    return arguments[0];\n  }\n  var paths = [], minLength = Infinity;\n  for (i = 0; i < count; i++) {\n    for (var ancestors = [], node = arguments[i]; node;) {\n      ancestors.unshift(node), node = node.parentNode;\n    }\n    paths.push(ancestors);\n    minLength = Math.min(minLength, ancestors.length);\n  }\n  var output = null;\n  for (i = 0; i < minLength; i++) {\n    for (var first = paths[0][i], j = 1; j < count; j++) {\n      if (first != paths[j][i]) {\n        return output;\n      }\n    }\n    output = first;\n  }\n  return output;\n};\ngoog.dom.isInDocument = function(node) {\n  return 16 == (node.ownerDocument.compareDocumentPosition(node) & 16);\n};\ngoog.dom.getOwnerDocument = function(node) {\n  goog.asserts.assert(node, \"Node cannot be null or undefined.\");\n  return node.nodeType == goog.dom.NodeType.DOCUMENT ? node : node.ownerDocument || node.document;\n};\ngoog.dom.getFrameContentDocument = function(frame) {\n  return frame.contentDocument || frame.contentWindow.document;\n};\ngoog.dom.getFrameContentWindow = function(frame) {\n  try {\n    return frame.contentWindow || (frame.contentDocument ? goog.dom.getWindow(frame.contentDocument) : null);\n  } catch (e) {\n  }\n  return null;\n};\ngoog.dom.setTextContent = function(node, text) {\n  goog.asserts.assert(null != node, \"goog.dom.setTextContent expects a non-null value for node\");\n  if (\"textContent\" in node) {\n    node.textContent = text;\n  } else if (node.nodeType == goog.dom.NodeType.TEXT) {\n    node.data = String(text);\n  } else if (node.firstChild && node.firstChild.nodeType == goog.dom.NodeType.TEXT) {\n    for (; node.lastChild != node.firstChild;) {\n      node.removeChild(goog.asserts.assert(node.lastChild));\n    }\n    node.firstChild.data = String(text);\n  } else {\n    goog.dom.removeChildren(node);\n    var doc = goog.dom.getOwnerDocument(node);\n    node.appendChild(doc.createTextNode(String(text)));\n  }\n};\ngoog.dom.getOuterHtml = function(element) {\n  goog.asserts.assert(null !== element, \"goog.dom.getOuterHtml expects a non-null value for element\");\n  if (\"outerHTML\" in element) {\n    return element.outerHTML;\n  }\n  var doc = goog.dom.getOwnerDocument(element), div = goog.dom.createElement_(doc, goog.dom.TagName.DIV);\n  div.appendChild(element.cloneNode(!0));\n  return div.innerHTML;\n};\ngoog.dom.findNode = function(root, p) {\n  var rv = [];\n  return goog.dom.findNodes_(root, p, rv, !0) ? rv[0] : void 0;\n};\ngoog.dom.findNodes = function(root, p) {\n  var rv = [];\n  goog.dom.findNodes_(root, p, rv, !1);\n  return rv;\n};\ngoog.dom.findNodes_ = function(root, p, rv, findOne) {\n  if (null != root) {\n    for (var child = root.firstChild; child;) {\n      if (p(child) && (rv.push(child), findOne) || goog.dom.findNodes_(child, p, rv, findOne)) {\n        return !0;\n      }\n      child = child.nextSibling;\n    }\n  }\n  return !1;\n};\ngoog.dom.findElement = function(root, pred) {\n  for (var stack = goog.dom.getChildrenReverse_(root); 0 < stack.length;) {\n    var next = stack.pop();\n    if (pred(next)) {\n      return next;\n    }\n    for (var c = next.lastElementChild; c; c = c.previousElementSibling) {\n      stack.push(c);\n    }\n  }\n  return null;\n};\ngoog.dom.findElements = function(root, pred) {\n  for (var result = [], stack = goog.dom.getChildrenReverse_(root); 0 < stack.length;) {\n    var next = stack.pop();\n    pred(next) && result.push(next);\n    for (var c = next.lastElementChild; c; c = c.previousElementSibling) {\n      stack.push(c);\n    }\n  }\n  return result;\n};\ngoog.dom.getChildrenReverse_ = function(node) {\n  if (node.nodeType == goog.dom.NodeType.DOCUMENT) {\n    return [node.documentElement];\n  }\n  for (var children = [], c = node.lastElementChild; c; c = c.previousElementSibling) {\n    children.push(c);\n  }\n  return children;\n};\ngoog.dom.TAGS_TO_IGNORE_ = {SCRIPT:1, STYLE:1, HEAD:1, IFRAME:1, OBJECT:1};\ngoog.dom.PREDEFINED_TAG_VALUES_ = {IMG:\" \", BR:\"\\n\"};\ngoog.dom.isFocusableTabIndex = function(element) {\n  return goog.dom.hasSpecifiedTabIndex_(element) && goog.dom.isTabIndexFocusable_(element);\n};\ngoog.dom.setFocusableTabIndex = function(element, enable) {\n  enable ? element.tabIndex = 0 : (element.tabIndex = -1, element.removeAttribute(\"tabIndex\"));\n};\ngoog.dom.isFocusable = function(element) {\n  var focusable;\n  return (focusable = goog.dom.nativelySupportsFocus_(element) ? !element.disabled && (!goog.dom.hasSpecifiedTabIndex_(element) || goog.dom.isTabIndexFocusable_(element)) : goog.dom.isFocusableTabIndex(element)) && goog.userAgent.IE ? goog.dom.hasNonZeroBoundingRect_(element) : focusable;\n};\ngoog.dom.hasSpecifiedTabIndex_ = function(element) {\n  return element.hasAttribute(\"tabindex\");\n};\ngoog.dom.isTabIndexFocusable_ = function(element) {\n  var index = element.tabIndex;\n  return \"number\" === typeof index && 0 <= index && 32768 > index;\n};\ngoog.dom.nativelySupportsFocus_ = function(element) {\n  return element.tagName == goog.dom.TagName.A && element.hasAttribute(\"href\") || element.tagName == goog.dom.TagName.INPUT || element.tagName == goog.dom.TagName.TEXTAREA || element.tagName == goog.dom.TagName.SELECT || element.tagName == goog.dom.TagName.BUTTON;\n};\ngoog.dom.hasNonZeroBoundingRect_ = function(element) {\n  var rect = \"function\" !== typeof element.getBoundingClientRect || goog.userAgent.IE && null == element.parentElement ? {height:element.offsetHeight, width:element.offsetWidth} : element.getBoundingClientRect();\n  return null != rect && 0 < rect.height && 0 < rect.width;\n};\ngoog.dom.getTextContent = function(node) {\n  var buf = [];\n  goog.dom.getTextContent_(node, buf, !0);\n  var textContent = buf.join(\"\");\n  textContent = textContent.replace(/ \\xAD /g, \" \").replace(/\\xAD/g, \"\");\n  textContent = textContent.replace(/\\u200B/g, \"\");\n  textContent = textContent.replace(/ +/g, \" \");\n  \" \" != textContent && (textContent = textContent.replace(/^\\s*/, \"\"));\n  return textContent;\n};\ngoog.dom.getRawTextContent = function(node) {\n  var buf = [];\n  goog.dom.getTextContent_(node, buf, !1);\n  return buf.join(\"\");\n};\ngoog.dom.getTextContent_ = function(node, buf, normalizeWhitespace) {\n  if (!(node.nodeName in goog.dom.TAGS_TO_IGNORE_)) {\n    if (node.nodeType == goog.dom.NodeType.TEXT) {\n      normalizeWhitespace ? buf.push(String(node.nodeValue).replace(/(\\r\\n|\\r|\\n)/g, \"\")) : buf.push(node.nodeValue);\n    } else if (node.nodeName in goog.dom.PREDEFINED_TAG_VALUES_) {\n      buf.push(goog.dom.PREDEFINED_TAG_VALUES_[node.nodeName]);\n    } else {\n      for (var child = node.firstChild; child;) {\n        goog.dom.getTextContent_(child, buf, normalizeWhitespace), child = child.nextSibling;\n      }\n    }\n  }\n};\ngoog.dom.getNodeTextLength = function(node) {\n  return goog.dom.getTextContent(node).length;\n};\ngoog.dom.getNodeTextOffset = function(node, opt_offsetParent) {\n  for (var root = opt_offsetParent || goog.dom.getOwnerDocument(node).body, buf = []; node && node != root;) {\n    for (var cur = node; cur = cur.previousSibling;) {\n      buf.unshift(goog.dom.getTextContent(cur));\n    }\n    node = node.parentNode;\n  }\n  return goog.string.trimLeft(buf.join(\"\")).replace(/ +/g, \" \").length;\n};\ngoog.dom.getNodeAtOffset = function(parent, offset, opt_result) {\n  for (var stack = [parent], pos = 0, cur = null; 0 < stack.length && pos < offset;) {\n    if (cur = stack.pop(), !(cur.nodeName in goog.dom.TAGS_TO_IGNORE_)) {\n      if (cur.nodeType == goog.dom.NodeType.TEXT) {\n        var text = cur.nodeValue.replace(/(\\r\\n|\\r|\\n)/g, \"\").replace(/ +/g, \" \");\n        pos += text.length;\n      } else if (cur.nodeName in goog.dom.PREDEFINED_TAG_VALUES_) {\n        pos += goog.dom.PREDEFINED_TAG_VALUES_[cur.nodeName].length;\n      } else {\n        for (var i = cur.childNodes.length - 1; 0 <= i; i--) {\n          stack.push(cur.childNodes[i]);\n        }\n      }\n    }\n  }\n  goog.isObject(opt_result) && (opt_result.remainder = cur ? cur.nodeValue.length + offset - pos - 1 : 0, opt_result.node = cur);\n  return cur;\n};\ngoog.dom.isNodeList = function(val) {\n  if (val && \"number\" == typeof val.length) {\n    if (goog.isObject(val)) {\n      return \"function\" == typeof val.item || \"string\" == typeof val.item;\n    }\n    if (\"function\" === typeof val) {\n      return \"function\" == typeof val.item;\n    }\n  }\n  return !1;\n};\ngoog.dom.getAncestorByTagNameAndClass = function(element, opt_tag, opt_class, opt_maxSearchSteps) {\n  if (!opt_tag && !opt_class) {\n    return null;\n  }\n  var tagName = opt_tag ? String(opt_tag).toUpperCase() : null;\n  return goog.dom.getAncestor(element, function(node) {\n    return (!tagName || node.nodeName == tagName) && (!opt_class || \"string\" === typeof node.className && module$contents$goog$array_contains(node.className.split(/\\s+/), opt_class));\n  }, !0, opt_maxSearchSteps);\n};\ngoog.dom.getAncestorByClass = function(element, className, opt_maxSearchSteps) {\n  return goog.dom.getAncestorByTagNameAndClass(element, null, className, opt_maxSearchSteps);\n};\ngoog.dom.getAncestor = function(element, matcher, opt_includeNode, opt_maxSearchSteps) {\n  element && !opt_includeNode && (element = element.parentNode);\n  for (var steps = 0; element && (null == opt_maxSearchSteps || steps <= opt_maxSearchSteps);) {\n    goog.asserts.assert(\"parentNode\" != element.name);\n    if (matcher(element)) {\n      return element;\n    }\n    element = element.parentNode;\n    steps++;\n  }\n  return null;\n};\ngoog.dom.getActiveElement = function(doc) {\n  try {\n    var activeElement = doc && doc.activeElement;\n    return activeElement && activeElement.nodeName ? activeElement : null;\n  } catch (e) {\n    return null;\n  }\n};\ngoog.dom.getPixelRatio = function() {\n  var win = goog.dom.getWindow();\n  return void 0 !== win.devicePixelRatio ? win.devicePixelRatio : win.matchMedia ? goog.dom.matchesPixelRatio_(3) || goog.dom.matchesPixelRatio_(2) || goog.dom.matchesPixelRatio_(1.5) || goog.dom.matchesPixelRatio_(1) || .75 : 1;\n};\ngoog.dom.matchesPixelRatio_ = function(pixelRatio) {\n  return goog.dom.getWindow().matchMedia(\"(min-resolution: \" + pixelRatio + \"dppx),(min--moz-device-pixel-ratio: \" + pixelRatio + \"),(min-resolution: \" + 96 * pixelRatio + \"dpi)\").matches ? pixelRatio : 0;\n};\ngoog.dom.getCanvasContext2D = function(canvas) {\n  return canvas.getContext(\"2d\");\n};\ngoog.dom.DomHelper = function(opt_document) {\n  this.document_ = opt_document || goog.global.document || document;\n};\ngoog.dom.DomHelper.prototype.getDomHelper = goog.dom.getDomHelper;\ngoog.dom.DomHelper.prototype.setDocument = function(document) {\n  this.document_ = document;\n};\ngoog.dom.DomHelper.prototype.getDocument = function() {\n  return this.document_;\n};\ngoog.dom.DomHelper.prototype.getElement = function(element) {\n  return goog.dom.getElementHelper_(this.document_, element);\n};\ngoog.dom.DomHelper.prototype.getRequiredElement = function(id) {\n  return goog.dom.getRequiredElementHelper_(this.document_, id);\n};\ngoog.dom.DomHelper.prototype.$ = goog.dom.DomHelper.prototype.getElement;\ngoog.dom.DomHelper.prototype.getElementsByTagName = function(tagName, opt_parent) {\n  return (opt_parent || this.document_).getElementsByTagName(String(tagName));\n};\ngoog.dom.DomHelper.prototype.getElementsByTagNameAndClass = function(opt_tag, opt_class, opt_el) {\n  return goog.dom.getElementsByTagNameAndClass_(this.document_, opt_tag, opt_class, opt_el);\n};\ngoog.dom.DomHelper.prototype.getElementByTagNameAndClass = function(opt_tag, opt_class, opt_el) {\n  return goog.dom.getElementByTagNameAndClass_(this.document_, opt_tag, opt_class, opt_el);\n};\ngoog.dom.DomHelper.prototype.getElementsByClass = function(className, opt_el) {\n  return goog.dom.getElementsByClass(className, opt_el || this.document_);\n};\ngoog.dom.DomHelper.prototype.getElementByClass = function(className, opt_el) {\n  return goog.dom.getElementByClass(className, opt_el || this.document_);\n};\ngoog.dom.DomHelper.prototype.getRequiredElementByClass = function(className, opt_root) {\n  return goog.dom.getRequiredElementByClass(className, opt_root || this.document_);\n};\ngoog.dom.DomHelper.prototype.$$ = goog.dom.DomHelper.prototype.getElementsByTagNameAndClass;\ngoog.dom.DomHelper.prototype.setProperties = goog.dom.setProperties;\ngoog.dom.DomHelper.prototype.getViewportSize = function(opt_window) {\n  return goog.dom.getViewportSize(opt_window || this.getWindow());\n};\ngoog.dom.DomHelper.prototype.getDocumentHeight = function() {\n  return goog.dom.getDocumentHeight_(this.getWindow());\n};\ngoog.dom.DomHelper.prototype.createDom = function(tagName, opt_attributes, var_args) {\n  return goog.dom.createDom_(this.document_, arguments);\n};\ngoog.dom.DomHelper.prototype.$dom = goog.dom.DomHelper.prototype.createDom;\ngoog.dom.DomHelper.prototype.createElement = function(name) {\n  return goog.dom.createElement_(this.document_, name);\n};\ngoog.dom.DomHelper.prototype.createTextNode = function(content) {\n  return this.document_.createTextNode(String(content));\n};\ngoog.dom.DomHelper.prototype.createTable = function(rows, columns, opt_fillWithNbsp) {\n  return goog.dom.createTable_(this.document_, rows, columns, !!opt_fillWithNbsp);\n};\ngoog.dom.DomHelper.prototype.safeHtmlToNode = function(html) {\n  return goog.dom.safeHtmlToNode_(this.document_, html);\n};\ngoog.dom.DomHelper.prototype.isCss1CompatMode = function() {\n  return goog.dom.isCss1CompatMode_(this.document_);\n};\ngoog.dom.DomHelper.prototype.getWindow = function() {\n  return goog.dom.getWindow_(this.document_);\n};\ngoog.dom.DomHelper.prototype.getDocumentScrollElement = function() {\n  return goog.dom.getDocumentScrollElement_(this.document_);\n};\ngoog.dom.DomHelper.prototype.getDocumentScroll = function() {\n  return goog.dom.getDocumentScroll_(this.document_);\n};\ngoog.dom.DomHelper.prototype.getActiveElement = function(opt_doc) {\n  return goog.dom.getActiveElement(opt_doc || this.document_);\n};\ngoog.dom.DomHelper.prototype.appendChild = goog.dom.appendChild;\ngoog.dom.DomHelper.prototype.append = goog.dom.append;\ngoog.dom.DomHelper.prototype.canHaveChildren = goog.dom.canHaveChildren;\ngoog.dom.DomHelper.prototype.removeChildren = goog.dom.removeChildren;\ngoog.dom.DomHelper.prototype.insertSiblingBefore = goog.dom.insertSiblingBefore;\ngoog.dom.DomHelper.prototype.insertSiblingAfter = goog.dom.insertSiblingAfter;\ngoog.dom.DomHelper.prototype.insertChildAt = goog.dom.insertChildAt;\ngoog.dom.DomHelper.prototype.removeNode = goog.dom.removeNode;\ngoog.dom.DomHelper.prototype.replaceNode = goog.dom.replaceNode;\ngoog.dom.DomHelper.prototype.copyContents = goog.dom.copyContents;\ngoog.dom.DomHelper.prototype.flattenElement = goog.dom.flattenElement;\ngoog.dom.DomHelper.prototype.getChildren = goog.dom.getChildren;\ngoog.dom.DomHelper.prototype.getFirstElementChild = goog.dom.getFirstElementChild;\ngoog.dom.DomHelper.prototype.getLastElementChild = goog.dom.getLastElementChild;\ngoog.dom.DomHelper.prototype.getNextElementSibling = goog.dom.getNextElementSibling;\ngoog.dom.DomHelper.prototype.getPreviousElementSibling = goog.dom.getPreviousElementSibling;\ngoog.dom.DomHelper.prototype.getNextNode = goog.dom.getNextNode;\ngoog.dom.DomHelper.prototype.getPreviousNode = goog.dom.getPreviousNode;\ngoog.dom.DomHelper.prototype.isNodeLike = goog.dom.isNodeLike;\ngoog.dom.DomHelper.prototype.isElement = goog.dom.isElement;\ngoog.dom.DomHelper.prototype.isWindow = goog.dom.isWindow;\ngoog.dom.DomHelper.prototype.getParentElement = goog.dom.getParentElement;\ngoog.dom.DomHelper.prototype.contains = goog.dom.contains;\ngoog.dom.DomHelper.prototype.compareNodeOrder = goog.dom.compareNodeOrder;\ngoog.dom.DomHelper.prototype.findCommonAncestor = goog.dom.findCommonAncestor;\ngoog.dom.DomHelper.prototype.getOwnerDocument = goog.dom.getOwnerDocument;\ngoog.dom.DomHelper.prototype.getFrameContentDocument = goog.dom.getFrameContentDocument;\ngoog.dom.DomHelper.prototype.getFrameContentWindow = goog.dom.getFrameContentWindow;\ngoog.dom.DomHelper.prototype.setTextContent = goog.dom.setTextContent;\ngoog.dom.DomHelper.prototype.getOuterHtml = goog.dom.getOuterHtml;\ngoog.dom.DomHelper.prototype.findNode = goog.dom.findNode;\ngoog.dom.DomHelper.prototype.findNodes = goog.dom.findNodes;\ngoog.dom.DomHelper.prototype.isFocusableTabIndex = goog.dom.isFocusableTabIndex;\ngoog.dom.DomHelper.prototype.setFocusableTabIndex = goog.dom.setFocusableTabIndex;\ngoog.dom.DomHelper.prototype.isFocusable = goog.dom.isFocusable;\ngoog.dom.DomHelper.prototype.getTextContent = goog.dom.getTextContent;\ngoog.dom.DomHelper.prototype.getNodeTextLength = goog.dom.getNodeTextLength;\ngoog.dom.DomHelper.prototype.getNodeTextOffset = goog.dom.getNodeTextOffset;\ngoog.dom.DomHelper.prototype.getNodeAtOffset = goog.dom.getNodeAtOffset;\ngoog.dom.DomHelper.prototype.isNodeList = goog.dom.isNodeList;\ngoog.dom.DomHelper.prototype.getAncestorByTagNameAndClass = goog.dom.getAncestorByTagNameAndClass;\ngoog.dom.DomHelper.prototype.getAncestorByClass = goog.dom.getAncestorByClass;\ngoog.dom.DomHelper.prototype.getAncestor = goog.dom.getAncestor;\ngoog.dom.DomHelper.prototype.getCanvasContext2D = goog.dom.getCanvasContext2D;\ngoog.async.nextTick = function(callback, opt_context, opt_useSetImmediate) {\n  var cb = callback;\n  opt_context && (cb = goog.bind(callback, opt_context));\n  cb = goog.async.nextTick.wrapCallback_(cb);\n  \"function\" === typeof goog.global.setImmediate && (opt_useSetImmediate || goog.async.nextTick.useSetImmediate_()) ? goog.global.setImmediate(cb) : (goog.async.nextTick.nextTickImpl || (goog.async.nextTick.nextTickImpl = goog.async.nextTick.getNextTickImpl_()), goog.async.nextTick.nextTickImpl(cb));\n};\ngoog.async.nextTick.useSetImmediate_ = function() {\n  return goog.global.Window && goog.global.Window.prototype && !module$contents$goog$labs$userAgent$browser_matchEdgeHtml() && goog.global.Window.prototype.setImmediate == goog.global.setImmediate ? !1 : !0;\n};\ngoog.async.nextTick.getNextTickImpl_ = function() {\n  var Channel = goog.global.MessageChannel;\n  \"undefined\" === typeof Channel && \"undefined\" !== typeof window && window.postMessage && window.addEventListener && !module$contents$goog$labs$userAgent$engine_isPresto() && (Channel = function() {\n    var iframe = goog.dom.createElement(goog.dom.TagName.IFRAME);\n    iframe.style.display = \"none\";\n    document.documentElement.appendChild(iframe);\n    var win = iframe.contentWindow, doc = win.document;\n    doc.open();\n    doc.close();\n    var message = \"callImmediate\" + Math.random(), origin = \"file:\" == win.location.protocol ? \"*\" : win.location.protocol + \"//\" + win.location.host, onmessage = goog.bind(function(e) {\n      if ((\"*\" == origin || e.origin == origin) && e.data == message) {\n        this.port1.onmessage();\n      }\n    }, this);\n    win.addEventListener(\"message\", onmessage, !1);\n    this.port1 = {};\n    this.port2 = {postMessage:function() {\n      win.postMessage(message, origin);\n    }};\n  });\n  if (\"undefined\" !== typeof Channel && !module$contents$goog$labs$userAgent$browser_matchIE()) {\n    var channel = new Channel(), head = {}, tail = head;\n    channel.port1.onmessage = function() {\n      if (void 0 !== head.next) {\n        head = head.next;\n        var cb = head.cb;\n        head.cb = null;\n        cb();\n      }\n    };\n    return function(cb) {\n      tail.next = {cb:cb};\n      tail = tail.next;\n      channel.port2.postMessage(0);\n    };\n  }\n  return function(cb) {\n    goog.global.setTimeout(cb, 0);\n  };\n};\ngoog.async.nextTick.wrapCallback_ = goog.functions.identity;\ngoog.debug.entryPointRegistry.register(function(transformer) {\n  goog.async.nextTick.wrapCallback_ = transformer;\n});\nfunction module$contents$goog$async$throwException_throwException(exception) {\n  goog.global.setTimeout(function() {\n    throw exception;\n  }, 0);\n}\ngoog.async.throwException = module$contents$goog$async$throwException_throwException;\nvar module$contents$goog$async$WorkQueue_WorkQueue = function() {\n  this.workTail_ = this.workHead_ = null;\n};\nmodule$contents$goog$async$WorkQueue_WorkQueue.prototype.add = function(fn, scope) {\n  var item = this.getUnusedItem_();\n  item.set(fn, scope);\n  this.workTail_ ? this.workTail_.next = item : ((0,goog.asserts.assert)(!this.workHead_), this.workHead_ = item);\n  this.workTail_ = item;\n};\nmodule$contents$goog$async$WorkQueue_WorkQueue.prototype.remove = function() {\n  var item = null;\n  this.workHead_ && (item = this.workHead_, this.workHead_ = this.workHead_.next, this.workHead_ || (this.workTail_ = null), item.next = null);\n  return item;\n};\nmodule$contents$goog$async$WorkQueue_WorkQueue.prototype.returnUnused = function(item) {\n  module$contents$goog$async$WorkQueue_WorkQueue.freelist_.put(item);\n};\nmodule$contents$goog$async$WorkQueue_WorkQueue.prototype.getUnusedItem_ = function() {\n  return module$contents$goog$async$WorkQueue_WorkQueue.freelist_.get();\n};\nmodule$contents$goog$async$WorkQueue_WorkQueue.DEFAULT_MAX_UNUSED = 100;\nmodule$contents$goog$async$WorkQueue_WorkQueue.freelist_ = new module$contents$goog$async$FreeList_FreeList(function() {\n  return new module$contents$goog$async$WorkQueue_WorkItem();\n}, function(item) {\n  return item.reset();\n}, module$contents$goog$async$WorkQueue_WorkQueue.DEFAULT_MAX_UNUSED);\nvar module$contents$goog$async$WorkQueue_WorkItem = function() {\n  this.next = this.scope = this.fn = null;\n};\nmodule$contents$goog$async$WorkQueue_WorkItem.prototype.set = function(fn, scope) {\n  this.fn = fn;\n  this.scope = scope;\n  this.next = null;\n};\nmodule$contents$goog$async$WorkQueue_WorkItem.prototype.reset = function() {\n  this.next = this.scope = this.fn = null;\n};\ngoog.async.WorkQueue = module$contents$goog$async$WorkQueue_WorkQueue;\ngoog.debug.asyncStackTag = {};\nvar module$contents$goog$debug$asyncStackTag_createTask = goog.DEBUG && goog.global.console && goog.global.console.createTask ? goog.global.console.createTask.bind(goog.global.console) : void 0, module$contents$goog$debug$asyncStackTag_CONSOLE_TASK_SYMBOL = module$contents$goog$debug$asyncStackTag_createTask ? Symbol(\"consoleTask\") : void 0;\nfunction module$contents$goog$debug$asyncStackTag_wrap(fn, name) {\n  function wrappedFn() {\n    var args = $jscomp.getRestArguments.apply(0, arguments), $jscomp$this = this;\n    return consoleTask.run(function() {\n      return fn.call.apply(fn, [$jscomp$this].concat($jscomp.arrayFromIterable(args)));\n    });\n  }\n  name = void 0 === name ? \"anonymous\" : name;\n  if (!goog.DEBUG || !module$contents$goog$debug$asyncStackTag_createTask || fn[(0,goog.asserts.assertExists)(module$contents$goog$debug$asyncStackTag_CONSOLE_TASK_SYMBOL)]) {\n    return fn;\n  }\n  var consoleTask = module$contents$goog$debug$asyncStackTag_createTask(fn.name || name);\n  wrappedFn[(0,goog.asserts.assertExists)(module$contents$goog$debug$asyncStackTag_CONSOLE_TASK_SYMBOL)] = consoleTask;\n  return wrappedFn;\n}\ngoog.debug.asyncStackTag.wrap = module$contents$goog$debug$asyncStackTag_wrap;\ngoog.ASSUME_NATIVE_PROMISE = !1;\nvar module$contents$goog$async$run_schedule, module$contents$goog$async$run_workQueueScheduled = !1, module$contents$goog$async$run_workQueue = new module$contents$goog$async$WorkQueue_WorkQueue(), module$contents$goog$async$run_run = function(callback, context) {\n  module$contents$goog$async$run_schedule || module$contents$goog$async$run_initializeRunner();\n  module$contents$goog$async$run_workQueueScheduled || (module$contents$goog$async$run_schedule(), module$contents$goog$async$run_workQueueScheduled = !0);\n  callback = module$contents$goog$debug$asyncStackTag_wrap(callback, \"goog.async.run\");\n  module$contents$goog$async$run_workQueue.add(callback, context);\n}, module$contents$goog$async$run_initializeRunner = function() {\n  if (goog.ASSUME_NATIVE_PROMISE || goog.global.Promise && goog.global.Promise.resolve) {\n    var promise = goog.global.Promise.resolve(void 0);\n    module$contents$goog$async$run_schedule = function() {\n      promise.then(module$contents$goog$async$run_run.processWorkQueue);\n    };\n  } else {\n    module$contents$goog$async$run_schedule = function() {\n      (0,goog.async.nextTick)(module$contents$goog$async$run_run.processWorkQueue);\n    };\n  }\n};\nmodule$contents$goog$async$run_run.forceNextTick = function(realSetTimeout) {\n  module$contents$goog$async$run_schedule = function() {\n    (0,goog.async.nextTick)(module$contents$goog$async$run_run.processWorkQueue);\n    realSetTimeout && realSetTimeout(module$contents$goog$async$run_run.processWorkQueue);\n  };\n};\ngoog.DEBUG && (module$contents$goog$async$run_run.resetQueue = function() {\n  module$contents$goog$async$run_workQueueScheduled = !1;\n  module$contents$goog$async$run_workQueue = new module$contents$goog$async$WorkQueue_WorkQueue();\n}, module$contents$goog$async$run_run.resetSchedulerForTest = function() {\n  module$contents$goog$async$run_initializeRunner();\n});\nmodule$contents$goog$async$run_run.processWorkQueue = function() {\n  for (var item = null; item = module$contents$goog$async$run_workQueue.remove();) {\n    try {\n      item.fn.call(item.scope);\n    } catch (e) {\n      module$contents$goog$async$throwException_throwException(e);\n    }\n    module$contents$goog$async$run_workQueue.returnUnused(item);\n  }\n  module$contents$goog$async$run_workQueueScheduled = !1;\n};\ngoog.async.run = module$contents$goog$async$run_run;\ngoog.promise = {};\ngoog.promise.Resolver = function() {\n};\nfunction module$contents$goog$Thenable_Thenable() {\n}\nmodule$contents$goog$Thenable_Thenable.prototype.then = function(opt_onFulfilled, opt_onRejected, opt_context) {\n};\nmodule$contents$goog$Thenable_Thenable.IMPLEMENTED_BY_PROP = \"$goog_Thenable\";\nmodule$contents$goog$Thenable_Thenable.addImplementation = function(ctor) {\n  ctor.prototype[module$contents$goog$Thenable_Thenable.IMPLEMENTED_BY_PROP] = !0;\n};\nmodule$contents$goog$Thenable_Thenable.isImplementedBy = function(object) {\n  if (!object) {\n    return !1;\n  }\n  try {\n    return !!object[module$contents$goog$Thenable_Thenable.IMPLEMENTED_BY_PROP];\n    return !!object.$goog_Thenable;\n  } catch (e) {\n    return !1;\n  }\n};\ngoog.Thenable = module$contents$goog$Thenable_Thenable;\ngoog.Promise = function(resolver, opt_context) {\n  this.state_ = goog.Promise.State_.PENDING;\n  this.result_ = void 0;\n  this.callbackEntriesTail_ = this.callbackEntries_ = this.parent_ = null;\n  this.executing_ = !1;\n  0 < goog.Promise.UNHANDLED_REJECTION_DELAY ? this.unhandledRejectionId_ = 0 : 0 == goog.Promise.UNHANDLED_REJECTION_DELAY && (this.hadUnhandledRejection_ = !1);\n  goog.Promise.LONG_STACK_TRACES && (this.stack_ = [], this.addStackTrace_(Error(\"created\")), this.currentStep_ = 0);\n  if (resolver != goog.functions.UNDEFINED) {\n    try {\n      var self = this;\n      resolver.call(opt_context, function(value) {\n        self.resolve_(goog.Promise.State_.FULFILLED, value);\n      }, function(reason) {\n        if (goog.DEBUG && !(reason instanceof goog.Promise.CancellationError)) {\n          try {\n            if (reason instanceof Error) {\n              throw reason;\n            }\n            throw Error(\"Promise rejected.\");\n          } catch (e) {\n          }\n        }\n        self.resolve_(goog.Promise.State_.REJECTED, reason);\n      });\n    } catch (e) {\n      this.resolve_(goog.Promise.State_.REJECTED, e);\n    }\n  }\n};\ngoog.Promise.LONG_STACK_TRACES = !1;\ngoog.Promise.UNHANDLED_REJECTION_DELAY = 0;\ngoog.Promise.State_ = {PENDING:0, BLOCKED:1, FULFILLED:2, REJECTED:3};\ngoog.Promise.CallbackEntry_ = function() {\n  this.next = this.context = this.onRejected = this.onFulfilled = this.child = null;\n  this.always = !1;\n};\ngoog.Promise.CallbackEntry_.prototype.reset = function() {\n  this.context = this.onRejected = this.onFulfilled = this.child = null;\n  this.always = !1;\n};\ngoog.Promise.DEFAULT_MAX_UNUSED = 100;\ngoog.Promise.freelist_ = new module$contents$goog$async$FreeList_FreeList(function() {\n  return new goog.Promise.CallbackEntry_();\n}, function(item) {\n  item.reset();\n}, goog.Promise.DEFAULT_MAX_UNUSED);\ngoog.Promise.getCallbackEntry_ = function(onFulfilled, onRejected, context) {\n  var entry = goog.Promise.freelist_.get();\n  entry.onFulfilled = onFulfilled;\n  entry.onRejected = onRejected;\n  entry.context = context;\n  return entry;\n};\ngoog.Promise.returnEntry_ = function(entry) {\n  goog.Promise.freelist_.put(entry);\n};\ngoog.Promise.resolve = function(opt_value) {\n  if (opt_value instanceof goog.Promise) {\n    return opt_value;\n  }\n  var promise = new goog.Promise(goog.functions.UNDEFINED);\n  promise.resolve_(goog.Promise.State_.FULFILLED, opt_value);\n  return promise;\n};\ngoog.Promise.reject = function(opt_reason) {\n  return new goog.Promise(function(resolve, reject) {\n    reject(opt_reason);\n  });\n};\ngoog.Promise.resolveThen_ = function(value, onFulfilled, onRejected) {\n  goog.Promise.maybeThen_(value, onFulfilled, onRejected, null) || module$contents$goog$async$run_run(goog.partial(onFulfilled, value));\n};\ngoog.Promise.race = function(promises) {\n  return new goog.Promise(function(resolve, reject) {\n    promises.length || resolve(void 0);\n    for (var i = 0, promise; i < promises.length; i++) {\n      promise = promises[i], goog.Promise.resolveThen_(promise, resolve, reject);\n    }\n  });\n};\ngoog.Promise.all = function(promises) {\n  return new goog.Promise(function(resolve, reject) {\n    var toFulfill = promises.length, values = [];\n    if (toFulfill) {\n      for (var onFulfill = function(index, value) {\n        toFulfill--;\n        values[index] = value;\n        0 == toFulfill && resolve(values);\n      }, onReject = function(reason) {\n        reject(reason);\n      }, i = 0, promise; i < promises.length; i++) {\n        promise = promises[i], goog.Promise.resolveThen_(promise, goog.partial(onFulfill, i), onReject);\n      }\n    } else {\n      resolve(values);\n    }\n  });\n};\ngoog.Promise.allSettled = function(promises) {\n  return new goog.Promise(function(resolve, reject) {\n    var toSettle = promises.length, results = [];\n    if (toSettle) {\n      for (var onSettled = function(index, fulfilled, result) {\n        toSettle--;\n        results[index] = fulfilled ? {fulfilled:!0, value:result} : {fulfilled:!1, reason:result};\n        0 == toSettle && resolve(results);\n      }, i = 0, promise; i < promises.length; i++) {\n        promise = promises[i], goog.Promise.resolveThen_(promise, goog.partial(onSettled, i, !0), goog.partial(onSettled, i, !1));\n      }\n    } else {\n      resolve(results);\n    }\n  });\n};\ngoog.Promise.firstFulfilled = function(promises) {\n  return new goog.Promise(function(resolve, reject) {\n    var toReject = promises.length, reasons = [];\n    if (toReject) {\n      for (var onFulfill = function(value) {\n        resolve(value);\n      }, onReject = function(index, reason) {\n        toReject--;\n        reasons[index] = reason;\n        0 == toReject && reject(reasons);\n      }, i = 0, promise; i < promises.length; i++) {\n        promise = promises[i], goog.Promise.resolveThen_(promise, onFulfill, goog.partial(onReject, i));\n      }\n    } else {\n      resolve(void 0);\n    }\n  });\n};\ngoog.Promise.withResolver = function() {\n  var resolve, reject, promise = new goog.Promise(function(rs, rj) {\n    resolve = rs;\n    reject = rj;\n  });\n  return new goog.Promise.Resolver_(promise, resolve, reject);\n};\ngoog.Promise.prototype.then = function(opt_onFulfilled, opt_onRejected, opt_context) {\n  null != opt_onFulfilled && goog.asserts.assertFunction(opt_onFulfilled, \"opt_onFulfilled should be a function.\");\n  null != opt_onRejected && goog.asserts.assertFunction(opt_onRejected, \"opt_onRejected should be a function. Did you pass opt_context as the second argument instead of the third?\");\n  goog.Promise.LONG_STACK_TRACES && this.addStackTrace_(Error(\"then\"));\n  return this.addChildPromise_(\"function\" === typeof opt_onFulfilled ? opt_onFulfilled : null, \"function\" === typeof opt_onRejected ? opt_onRejected : null, opt_context);\n};\nmodule$contents$goog$Thenable_Thenable.addImplementation(goog.Promise);\ngoog.Promise.prototype.thenVoid = function(opt_onFulfilled, opt_onRejected, opt_context) {\n  null != opt_onFulfilled && goog.asserts.assertFunction(opt_onFulfilled, \"opt_onFulfilled should be a function.\");\n  null != opt_onRejected && goog.asserts.assertFunction(opt_onRejected, \"opt_onRejected should be a function. Did you pass opt_context as the second argument instead of the third?\");\n  goog.Promise.LONG_STACK_TRACES && this.addStackTrace_(Error(\"then\"));\n  this.addCallbackEntry_(goog.Promise.getCallbackEntry_(opt_onFulfilled || goog.functions.UNDEFINED, opt_onRejected || null, opt_context));\n};\ngoog.Promise.prototype.thenAlways = function(onSettled, opt_context) {\n  goog.Promise.LONG_STACK_TRACES && this.addStackTrace_(Error(\"thenAlways\"));\n  var entry = goog.Promise.getCallbackEntry_(onSettled, onSettled, opt_context);\n  entry.always = !0;\n  this.addCallbackEntry_(entry);\n  return this;\n};\ngoog.Promise.prototype.thenCatch = function(onRejected, opt_context) {\n  goog.Promise.LONG_STACK_TRACES && this.addStackTrace_(Error(\"thenCatch\"));\n  return this.addChildPromise_(null, onRejected, opt_context);\n};\ngoog.Promise.prototype.catch = goog.Promise.prototype.thenCatch;\ngoog.Promise.prototype.cancel = function(opt_message) {\n  if (this.state_ == goog.Promise.State_.PENDING) {\n    var err = new goog.Promise.CancellationError(opt_message);\n    module$contents$goog$async$run_run(function() {\n      this.cancelInternal_(err);\n    }, this);\n  }\n};\ngoog.Promise.prototype.cancelInternal_ = function(err) {\n  this.state_ == goog.Promise.State_.PENDING && (this.parent_ ? (this.parent_.cancelChild_(this, err), this.parent_ = null) : this.resolve_(goog.Promise.State_.REJECTED, err));\n};\ngoog.Promise.prototype.cancelChild_ = function(childPromise, err) {\n  if (this.callbackEntries_) {\n    for (var childCount = 0, childEntry = null, beforeChildEntry = null, entry = this.callbackEntries_; entry && (entry.always || (childCount++, entry.child == childPromise && (childEntry = entry), !(childEntry && 1 < childCount))); entry = entry.next) {\n      childEntry || (beforeChildEntry = entry);\n    }\n    childEntry && (this.state_ == goog.Promise.State_.PENDING && 1 == childCount ? this.cancelInternal_(err) : (beforeChildEntry ? this.removeEntryAfter_(beforeChildEntry) : this.popEntry_(), this.executeCallback_(childEntry, goog.Promise.State_.REJECTED, err)));\n  }\n};\ngoog.Promise.prototype.addCallbackEntry_ = function(callbackEntry) {\n  this.hasEntry_() || this.state_ != goog.Promise.State_.FULFILLED && this.state_ != goog.Promise.State_.REJECTED || this.scheduleCallbacks_();\n  this.queueEntry_(callbackEntry);\n};\ngoog.Promise.prototype.addChildPromise_ = function(onFulfilled, onRejected, opt_context) {\n  onFulfilled && (onFulfilled = module$contents$goog$debug$asyncStackTag_wrap(onFulfilled, \"goog.Promise.then\"));\n  onRejected && (onRejected = module$contents$goog$debug$asyncStackTag_wrap(onRejected, \"goog.Promise.then\"));\n  var callbackEntry = goog.Promise.getCallbackEntry_(null, null, null);\n  callbackEntry.child = new goog.Promise(function(resolve, reject) {\n    callbackEntry.onFulfilled = onFulfilled ? function(value) {\n      try {\n        var result = onFulfilled.call(opt_context, value);\n        resolve(result);\n      } catch (err$53) {\n        reject(err$53);\n      }\n    } : resolve;\n    callbackEntry.onRejected = onRejected ? function(reason) {\n      try {\n        var result = onRejected.call(opt_context, reason);\n        void 0 === result && reason instanceof goog.Promise.CancellationError ? reject(reason) : resolve(result);\n      } catch (err$54) {\n        reject(err$54);\n      }\n    } : reject;\n  });\n  callbackEntry.child.parent_ = this;\n  this.addCallbackEntry_(callbackEntry);\n  return callbackEntry.child;\n};\ngoog.Promise.prototype.unblockAndFulfill_ = function(value) {\n  goog.asserts.assert(this.state_ == goog.Promise.State_.BLOCKED);\n  this.state_ = goog.Promise.State_.PENDING;\n  this.resolve_(goog.Promise.State_.FULFILLED, value);\n};\ngoog.Promise.prototype.unblockAndReject_ = function(reason) {\n  goog.asserts.assert(this.state_ == goog.Promise.State_.BLOCKED);\n  this.state_ = goog.Promise.State_.PENDING;\n  this.resolve_(goog.Promise.State_.REJECTED, reason);\n};\ngoog.Promise.prototype.resolve_ = function(state, x) {\n  this.state_ == goog.Promise.State_.PENDING && (this === x && (state = goog.Promise.State_.REJECTED, x = new TypeError(\"Promise cannot resolve to itself\")), this.state_ = goog.Promise.State_.BLOCKED, goog.Promise.maybeThen_(x, this.unblockAndFulfill_, this.unblockAndReject_, this) || (this.result_ = x, this.state_ = state, this.parent_ = null, this.scheduleCallbacks_(), state != goog.Promise.State_.REJECTED || x instanceof goog.Promise.CancellationError || goog.Promise.addUnhandledRejection_(this, \n  x)));\n};\ngoog.Promise.maybeThen_ = function(value, onFulfilled, onRejected, context) {\n  if (value instanceof goog.Promise) {\n    return value.thenVoid(onFulfilled, onRejected, context), !0;\n  }\n  if (module$contents$goog$Thenable_Thenable.isImplementedBy(value)) {\n    return value.then(onFulfilled, onRejected, context), !0;\n  }\n  if (goog.isObject(value)) {\n    try {\n      var then = value.then;\n      if (\"function\" === typeof then) {\n        return goog.Promise.tryThen_(value, then, onFulfilled, onRejected, context), !0;\n      }\n    } catch (e) {\n      return onRejected.call(context, e), !0;\n    }\n  }\n  return !1;\n};\ngoog.Promise.tryThen_ = function(thenable, then, onFulfilled, onRejected, context) {\n  var called = !1, resolve = function(value) {\n    called || (called = !0, onFulfilled.call(context, value));\n  }, reject = function(reason) {\n    called || (called = !0, onRejected.call(context, reason));\n  };\n  try {\n    then.call(thenable, resolve, reject);\n  } catch (e) {\n    reject(e);\n  }\n};\ngoog.Promise.prototype.scheduleCallbacks_ = function() {\n  this.executing_ || (this.executing_ = !0, module$contents$goog$async$run_run(this.executeCallbacks_, this));\n};\ngoog.Promise.prototype.hasEntry_ = function() {\n  return !!this.callbackEntries_;\n};\ngoog.Promise.prototype.queueEntry_ = function(entry) {\n  goog.asserts.assert(null != entry.onFulfilled);\n  this.callbackEntriesTail_ ? this.callbackEntriesTail_.next = entry : this.callbackEntries_ = entry;\n  this.callbackEntriesTail_ = entry;\n};\ngoog.Promise.prototype.popEntry_ = function() {\n  var entry = null;\n  this.callbackEntries_ && (entry = this.callbackEntries_, this.callbackEntries_ = entry.next, entry.next = null);\n  this.callbackEntries_ || (this.callbackEntriesTail_ = null);\n  null != entry && goog.asserts.assert(null != entry.onFulfilled);\n  return entry;\n};\ngoog.Promise.prototype.removeEntryAfter_ = function(previous) {\n  goog.asserts.assert(this.callbackEntries_);\n  goog.asserts.assert(null != previous);\n  previous.next == this.callbackEntriesTail_ && (this.callbackEntriesTail_ = previous);\n  previous.next = previous.next.next;\n};\ngoog.Promise.prototype.executeCallbacks_ = function() {\n  for (var entry = null; entry = this.popEntry_();) {\n    goog.Promise.LONG_STACK_TRACES && this.currentStep_++, this.executeCallback_(entry, this.state_, this.result_);\n  }\n  this.executing_ = !1;\n};\ngoog.Promise.prototype.executeCallback_ = function(callbackEntry, state, result) {\n  state == goog.Promise.State_.REJECTED && callbackEntry.onRejected && !callbackEntry.always && this.removeUnhandledRejection_();\n  if (callbackEntry.child) {\n    callbackEntry.child.parent_ = null, goog.Promise.invokeCallback_(callbackEntry, state, result);\n  } else {\n    try {\n      callbackEntry.always ? callbackEntry.onFulfilled.call(callbackEntry.context) : goog.Promise.invokeCallback_(callbackEntry, state, result);\n    } catch (err$55) {\n      goog.Promise.handleRejection_.call(null, err$55);\n    }\n  }\n  goog.Promise.returnEntry_(callbackEntry);\n};\ngoog.Promise.invokeCallback_ = function(callbackEntry, state, result) {\n  state == goog.Promise.State_.FULFILLED ? callbackEntry.onFulfilled.call(callbackEntry.context, result) : callbackEntry.onRejected && callbackEntry.onRejected.call(callbackEntry.context, result);\n};\ngoog.Promise.prototype.addStackTrace_ = function(err) {\n  if (goog.Promise.LONG_STACK_TRACES && \"string\" === typeof err.stack) {\n    var trace = err.stack.split(\"\\n\", 4)[3], message = err.message;\n    message += Array(11 - message.length).join(\" \");\n    this.stack_.push(message + trace);\n  }\n};\ngoog.Promise.prototype.appendLongStack_ = function(err) {\n  if (goog.Promise.LONG_STACK_TRACES && err && \"string\" === typeof err.stack && this.stack_.length) {\n    for (var longTrace = [\"Promise trace:\"], promise = this; promise; promise = promise.parent_) {\n      for (var i = this.currentStep_; 0 <= i; i--) {\n        longTrace.push(promise.stack_[i]);\n      }\n      longTrace.push(\"Value: [\" + (promise.state_ == goog.Promise.State_.REJECTED ? \"REJECTED\" : \"FULFILLED\") + \"] <\" + String(promise.result_) + \">\");\n    }\n    err.stack += \"\\n\\n\" + longTrace.join(\"\\n\");\n  }\n};\ngoog.Promise.prototype.removeUnhandledRejection_ = function() {\n  if (0 < goog.Promise.UNHANDLED_REJECTION_DELAY) {\n    for (var p = this; p && p.unhandledRejectionId_; p = p.parent_) {\n      goog.global.clearTimeout(p.unhandledRejectionId_), p.unhandledRejectionId_ = 0;\n    }\n  } else if (0 == goog.Promise.UNHANDLED_REJECTION_DELAY) {\n    for (p = this; p && p.hadUnhandledRejection_; p = p.parent_) {\n      p.hadUnhandledRejection_ = !1;\n    }\n  }\n};\ngoog.Promise.addUnhandledRejection_ = function(promise, reason) {\n  0 < goog.Promise.UNHANDLED_REJECTION_DELAY ? promise.unhandledRejectionId_ = goog.global.setTimeout(function() {\n    promise.appendLongStack_(reason);\n    goog.Promise.handleRejection_.call(null, reason);\n  }, goog.Promise.UNHANDLED_REJECTION_DELAY) : 0 == goog.Promise.UNHANDLED_REJECTION_DELAY && (promise.hadUnhandledRejection_ = !0, module$contents$goog$async$run_run(function() {\n    promise.hadUnhandledRejection_ && (promise.appendLongStack_(reason), goog.Promise.handleRejection_.call(null, reason));\n  }));\n};\ngoog.Promise.handleRejection_ = module$contents$goog$async$throwException_throwException;\ngoog.Promise.setUnhandledRejectionHandler = function(handler) {\n  goog.Promise.handleRejection_ = handler;\n};\ngoog.Promise.CancellationError = function(opt_message) {\n  module$contents$goog$debug$Error_DebugError.call(this, opt_message);\n  this.reportErrorToServer = !1;\n};\ngoog.inherits(goog.Promise.CancellationError, module$contents$goog$debug$Error_DebugError);\ngoog.Promise.CancellationError.prototype.name = \"cancel\";\ngoog.Promise.Resolver_ = function(promise, resolve, reject) {\n  this.promise = promise;\n  this.resolve = resolve;\n  this.reject = reject;\n};\ngoog.Timer = function(opt_interval, opt_timerObject) {\n  goog.events.EventTarget.call(this);\n  this.interval_ = opt_interval || 1;\n  this.timerObject_ = opt_timerObject || goog.Timer.defaultTimerObject;\n  this.boundTick_ = goog.bind(this.tick_, this);\n  this.last_ = goog.now();\n};\ngoog.inherits(goog.Timer, goog.events.EventTarget);\ngoog.Timer.MAX_TIMEOUT_ = 2147483647;\ngoog.Timer.INVALID_TIMEOUT_ID_ = -1;\ngoog.Timer.prototype.enabled = !1;\ngoog.Timer.defaultTimerObject = goog.global;\ngoog.Timer.intervalScale = .8;\ngoog.Timer.prototype.timer_ = null;\ngoog.Timer.prototype.getInterval = function() {\n  return this.interval_;\n};\ngoog.Timer.prototype.setInterval = function(interval) {\n  this.interval_ = interval;\n  this.timer_ && this.enabled ? (this.stop(), this.start()) : this.timer_ && this.stop();\n};\ngoog.Timer.prototype.tick_ = function() {\n  if (this.enabled) {\n    var elapsed = goog.now() - this.last_;\n    0 < elapsed && elapsed < this.interval_ * goog.Timer.intervalScale ? this.timer_ = this.timerObject_.setTimeout(this.boundTick_, this.interval_ - elapsed) : (this.timer_ && (this.timerObject_.clearTimeout(this.timer_), this.timer_ = null), this.dispatchTick(), this.enabled && (this.stop(), this.start()));\n  }\n};\ngoog.Timer.prototype.dispatchTick = function() {\n  this.dispatchEvent(goog.Timer.TICK);\n};\ngoog.Timer.prototype.start = function() {\n  this.enabled = !0;\n  this.timer_ || (this.timer_ = this.timerObject_.setTimeout(this.boundTick_, this.interval_), this.last_ = goog.now());\n};\ngoog.Timer.prototype.stop = function() {\n  this.enabled = !1;\n  this.timer_ && (this.timerObject_.clearTimeout(this.timer_), this.timer_ = null);\n};\ngoog.Timer.prototype.disposeInternal = function() {\n  goog.Timer.superClass_.disposeInternal.call(this);\n  this.stop();\n  delete this.timerObject_;\n};\ngoog.Timer.TICK = \"tick\";\ngoog.Timer.callOnce = function(listener, opt_delay, opt_handler) {\n  if (\"function\" === typeof listener) {\n    opt_handler && (listener = goog.bind(listener, opt_handler));\n  } else if (listener && \"function\" == typeof listener.handleEvent) {\n    listener = goog.bind(listener.handleEvent, listener);\n  } else {\n    throw Error(\"Invalid listener argument\");\n  }\n  return Number(opt_delay) > goog.Timer.MAX_TIMEOUT_ ? goog.Timer.INVALID_TIMEOUT_ID_ : goog.Timer.defaultTimerObject.setTimeout(listener, opt_delay || 0);\n};\ngoog.Timer.clear = function(timerId) {\n  goog.Timer.defaultTimerObject.clearTimeout(timerId);\n};\ngoog.Timer.promise = function(delay, opt_result) {\n  var timerKey = null;\n  return (new goog.Promise(function(resolve, reject) {\n    timerKey = goog.Timer.callOnce(function() {\n      resolve(opt_result);\n    }, delay);\n    timerKey == goog.Timer.INVALID_TIMEOUT_ID_ && reject(Error(\"Failed to schedule timer.\"));\n  })).thenCatch(function(error) {\n    goog.Timer.clear(timerKey);\n    throw error;\n  });\n};\nvar module$contents$goog$async$Throttle_Throttle = function(listener, interval, handler) {\n  goog.Disposable.call(this);\n  this.listener_ = null != handler ? listener.bind(handler) : listener;\n  this.interval_ = interval;\n  this.args_ = null;\n  this.shouldFire_ = !1;\n  this.pauseCount_ = 0;\n  this.timer_ = null;\n};\n$jscomp.inherits(module$contents$goog$async$Throttle_Throttle, goog.Disposable);\nmodule$contents$goog$async$Throttle_Throttle.prototype.fire = function(var_args) {\n  this.args_ = arguments;\n  this.timer_ || this.pauseCount_ ? this.shouldFire_ = !0 : this.doAction_();\n};\nmodule$contents$goog$async$Throttle_Throttle.prototype.stop = function() {\n  this.timer_ && (goog.Timer.clear(this.timer_), this.timer_ = null, this.shouldFire_ = !1, this.args_ = null);\n};\nmodule$contents$goog$async$Throttle_Throttle.prototype.pause = function() {\n  this.pauseCount_++;\n};\nmodule$contents$goog$async$Throttle_Throttle.prototype.resume = function() {\n  this.pauseCount_--;\n  this.pauseCount_ || !this.shouldFire_ || this.timer_ || (this.shouldFire_ = !1, this.doAction_());\n};\nmodule$contents$goog$async$Throttle_Throttle.prototype.disposeInternal = function() {\n  goog.Disposable.prototype.disposeInternal.call(this);\n  this.stop();\n};\nmodule$contents$goog$async$Throttle_Throttle.prototype.onTimer_ = function() {\n  this.timer_ = null;\n  this.shouldFire_ && !this.pauseCount_ && (this.shouldFire_ = !1, this.doAction_());\n};\nmodule$contents$goog$async$Throttle_Throttle.prototype.doAction_ = function() {\n  var $jscomp$this = this;\n  this.timer_ = goog.Timer.callOnce(function() {\n    return $jscomp$this.onTimer_();\n  }, this.interval_);\n  var args = this.args_;\n  this.args_ = null;\n  this.listener_.apply(null, args);\n};\ngoog.async.Throttle = module$contents$goog$async$Throttle_Throttle;\ngoog.promise.deferredBase = {};\nfunction module$contents$goog$promise$deferredBase_DeferredBaseDoNotUse() {\n}\ngoog.promise.deferredBase.DeferredBaseDoNotUse = module$contents$goog$promise$deferredBase_DeferredBaseDoNotUse;\n/*\n\n Copyright 2005, 2007 Bob Ippolito. All Rights Reserved.\n Copyright The Closure Library Authors.\n SPDX-License-Identifier: MIT\n*/\ngoog.async.Deferred = function(opt_onCancelFunction, opt_defaultScope) {\n  this.sequence_ = [];\n  this.onCancelFunction_ = opt_onCancelFunction;\n  this.defaultScope_ = opt_defaultScope || null;\n  this.hadError_ = this.fired_ = !1;\n  this.result_ = void 0;\n  this.silentlyCanceled_ = this.blocking_ = this.blocked_ = !1;\n  this.unhandledErrorId_ = 0;\n  this.parent_ = null;\n  this.branches_ = 0;\n  if (goog.async.Deferred.LONG_STACK_TRACES && (this.constructorStack_ = null, Error.captureStackTrace)) {\n    var target = {stack:\"\"};\n    Error.captureStackTrace(target, goog.async.Deferred);\n    \"string\" == typeof target.stack && (this.constructorStack_ = target.stack.replace(/^[^\\n]*\\n/, \"\"));\n  }\n};\ngoog.inherits(goog.async.Deferred, module$contents$goog$promise$deferredBase_DeferredBaseDoNotUse);\ngoog.async.Deferred.STRICT_ERRORS = !1;\ngoog.async.Deferred.LONG_STACK_TRACES = !1;\ngoog.async.Deferred.prototype.cancel = function(opt_deepCancel) {\n  if (this.hasFired()) {\n    this.result_ instanceof goog.async.Deferred && this.result_.cancel();\n  } else {\n    if (this.parent_) {\n      var parent = this.parent_;\n      delete this.parent_;\n      opt_deepCancel ? parent.cancel(opt_deepCancel) : parent.branchCancel_();\n    }\n    this.onCancelFunction_ ? this.onCancelFunction_.call(this.defaultScope_, this) : this.silentlyCanceled_ = !0;\n    this.hasFired() || this.errback(new goog.async.Deferred.CanceledError(this));\n  }\n};\ngoog.async.Deferred.prototype.branchCancel_ = function() {\n  this.branches_--;\n  0 >= this.branches_ && this.cancel();\n};\ngoog.async.Deferred.prototype.continue_ = function(isSuccess, res) {\n  this.blocked_ = !1;\n  this.updateResult_(isSuccess, res);\n};\ngoog.async.Deferred.prototype.updateResult_ = function(isSuccess, res) {\n  this.fired_ = !0;\n  this.result_ = res;\n  this.hadError_ = !isSuccess;\n  this.fire_();\n};\ngoog.async.Deferred.prototype.check_ = function() {\n  if (this.hasFired()) {\n    if (!this.silentlyCanceled_) {\n      throw new goog.async.Deferred.AlreadyCalledError(this);\n    }\n    this.silentlyCanceled_ = !1;\n  }\n};\ngoog.async.Deferred.prototype.callback = function(opt_result) {\n  this.check_();\n  this.assertNotDeferred_(opt_result);\n  this.updateResult_(!0, opt_result);\n};\ngoog.async.Deferred.prototype.errback = function(opt_result) {\n  this.check_();\n  this.assertNotDeferred_(opt_result);\n  this.makeStackTraceLong_(opt_result);\n  this.updateResult_(!1, opt_result);\n};\ngoog.async.Deferred.unhandledErrorHandler_ = function(e) {\n  throw e;\n};\ngoog.async.Deferred.setUnhandledErrorHandler = function(handler) {\n  goog.async.Deferred.unhandledErrorHandler_ = handler;\n};\ngoog.async.Deferred.prototype.makeStackTraceLong_ = function(error) {\n  goog.async.Deferred.LONG_STACK_TRACES && this.constructorStack_ && goog.isObject(error) && error.stack && /^[^\\n]+(\\n   [^\\n]+)+/.test(error.stack) && (error.stack = error.stack + \"\\nDEFERRED OPERATION:\\n\" + this.constructorStack_);\n};\ngoog.async.Deferred.prototype.assertNotDeferred_ = function(obj) {\n  goog.asserts.assert(!(obj instanceof goog.async.Deferred), \"An execution sequence may not be initiated with a blocking Deferred.\");\n};\ngoog.async.Deferred.prototype.addCallback = function(cb, opt_scope) {\n  return this.addCallbacks(cb, null, opt_scope);\n};\ngoog.async.Deferred.prototype.addErrback = function(eb, opt_scope) {\n  return this.addCallbacks(null, eb, opt_scope);\n};\ngoog.async.Deferred.prototype.addBoth = function(f, opt_scope) {\n  return this.addCallbacks(f, f, opt_scope);\n};\ngoog.async.Deferred.prototype.addFinally = function(f, opt_scope) {\n  return this.addCallbacks(f, function(err) {\n    var result = f.call(this, err);\n    if (void 0 === result) {\n      throw err;\n    }\n    return result;\n  }, opt_scope);\n};\ngoog.async.Deferred.prototype.addCallbacks = function(cb, eb, opt_scope) {\n  goog.asserts.assert(!this.blocking_, \"Blocking Deferreds can not be re-used\");\n  this.sequence_.push([cb, eb, opt_scope]);\n  this.hasFired() && this.fire_();\n  return this;\n};\ngoog.async.Deferred.prototype.then = function(opt_onFulfilled, opt_onRejected, opt_context) {\n  var reject, resolve, promise = new goog.Promise(function(res, rej) {\n    resolve = res;\n    reject = rej;\n  });\n  this.addCallbacks(resolve, function(reason) {\n    reason instanceof goog.async.Deferred.CanceledError ? promise.cancel() : reject(reason);\n    return goog.async.Deferred.CONVERTED_TO_PROMISE_;\n  }, this);\n  return promise.then(opt_onFulfilled, opt_onRejected, opt_context);\n};\nmodule$contents$goog$Thenable_Thenable.addImplementation(goog.async.Deferred);\ngoog.async.Deferred.prototype.chainDeferred = function(otherDeferred) {\n  this.addCallbacks(otherDeferred.callback, otherDeferred.errback, otherDeferred);\n  return this;\n};\ngoog.async.Deferred.prototype.awaitDeferred = function(otherDeferred) {\n  return otherDeferred instanceof goog.async.Deferred ? this.addCallback(goog.bind(otherDeferred.branch, otherDeferred)) : this.addCallback(function() {\n    return otherDeferred;\n  });\n};\ngoog.async.Deferred.prototype.branch = function(opt_propagateCancel) {\n  var d = new goog.async.Deferred();\n  this.chainDeferred(d);\n  opt_propagateCancel && (d.parent_ = this, this.branches_++);\n  return d;\n};\ngoog.async.Deferred.prototype.hasFired = function() {\n  return this.fired_;\n};\ngoog.async.Deferred.prototype.isError = function(res) {\n  return res instanceof Error;\n};\ngoog.async.Deferred.prototype.hasErrback_ = function() {\n  return module$contents$goog$array_some(this.sequence_, function(sequenceRow) {\n    return \"function\" === typeof sequenceRow[1];\n  });\n};\ngoog.async.Deferred.prototype.getLastValueForMigration = function() {\n  return this.hasFired() && !this.hadError_ ? this.result_ : void 0;\n};\ngoog.async.Deferred.CONVERTED_TO_PROMISE_ = {};\ngoog.async.Deferred.prototype.fire_ = function() {\n  this.unhandledErrorId_ && this.hasFired() && this.hasErrback_() && (goog.async.Deferred.unscheduleError_(this.unhandledErrorId_), this.unhandledErrorId_ = 0);\n  this.parent_ && (this.parent_.branches_--, delete this.parent_);\n  for (var res = this.result_, unhandledException = !1, isNewlyBlocked = !1, wasConvertedToPromise = !1; this.sequence_.length && !this.blocked_;) {\n    wasConvertedToPromise = !1;\n    var sequenceEntry = this.sequence_.shift(), callback = sequenceEntry[0], errback = sequenceEntry[1], scope = sequenceEntry[2], f = this.hadError_ ? errback : callback;\n    if (f) {\n      try {\n        var ret = f.call(scope || this.defaultScope_, res);\n        ret === goog.async.Deferred.CONVERTED_TO_PROMISE_ && (wasConvertedToPromise = !0, ret = void 0);\n        void 0 !== ret && (this.hadError_ = this.hadError_ && (ret == res || this.isError(ret)), this.result_ = res = ret);\n        if (module$contents$goog$Thenable_Thenable.isImplementedBy(res) || \"function\" === typeof goog.global.Promise && res instanceof goog.global.Promise) {\n          this.blocked_ = isNewlyBlocked = !0;\n        }\n      } catch (ex) {\n        res = ex, this.hadError_ = !0, this.makeStackTraceLong_(res), this.hasErrback_() || (unhandledException = !0);\n      }\n    }\n  }\n  this.result_ = res;\n  if (isNewlyBlocked) {\n    var onCallback = goog.bind(this.continue_, this, !0), onErrback = goog.bind(this.continue_, this, !1);\n    res instanceof goog.async.Deferred ? (res.addCallbacks(onCallback, onErrback), res.blocking_ = !0) : res.then(onCallback, onErrback);\n  } else {\n    !goog.async.Deferred.STRICT_ERRORS || wasConvertedToPromise || !this.isError(res) || res instanceof goog.async.Deferred.CanceledError || (unhandledException = this.hadError_ = !0);\n  }\n  unhandledException && (this.unhandledErrorId_ = goog.async.Deferred.scheduleError_(res));\n};\ngoog.async.Deferred.succeed = function(opt_result) {\n  var d = new goog.async.Deferred();\n  d.callback(opt_result);\n  return d;\n};\ngoog.async.Deferred.fromPromise = function(promise) {\n  var d = new goog.async.Deferred();\n  promise.then(function(value) {\n    d.callback(value);\n  }, function(error) {\n    d.errback(error);\n  });\n  return d;\n};\ngoog.async.Deferred.fail = function(res) {\n  var d = new goog.async.Deferred();\n  d.errback(res);\n  return d;\n};\ngoog.async.Deferred.canceled = function() {\n  var d = new goog.async.Deferred();\n  d.cancel();\n  return d;\n};\ngoog.async.Deferred.when = function(value, callback, opt_scope) {\n  return value instanceof goog.async.Deferred ? value.branch(!0).addCallback(callback, opt_scope) : goog.async.Deferred.succeed(value).addCallback(callback, opt_scope);\n};\ngoog.async.Deferred.AlreadyCalledError = function(deferred) {\n  module$contents$goog$debug$Error_DebugError.call(this);\n  this.deferred = deferred;\n};\ngoog.inherits(goog.async.Deferred.AlreadyCalledError, module$contents$goog$debug$Error_DebugError);\ngoog.async.Deferred.AlreadyCalledError.prototype.message = \"Deferred has already fired\";\ngoog.async.Deferred.AlreadyCalledError.prototype.name = \"AlreadyCalledError\";\ngoog.async.Deferred.CanceledError = function(deferred) {\n  module$contents$goog$debug$Error_DebugError.call(this);\n  this.deferred = deferred;\n};\ngoog.inherits(goog.async.Deferred.CanceledError, module$contents$goog$debug$Error_DebugError);\ngoog.async.Deferred.CanceledError.prototype.message = \"Deferred was canceled\";\ngoog.async.Deferred.CanceledError.prototype.name = \"CanceledError\";\ngoog.async.Deferred.Error_ = function(error) {\n  this.id_ = goog.global.setTimeout(goog.bind(this.throwError, this), 0);\n  this.error_ = error;\n};\ngoog.async.Deferred.Error_.prototype.throwError = function() {\n  goog.asserts.assert(goog.async.Deferred.errorMap_[this.id_], \"Cannot throw an error that is not scheduled.\");\n  delete goog.async.Deferred.errorMap_[this.id_];\n  goog.async.Deferred.unhandledErrorHandler_(this.error_);\n};\ngoog.async.Deferred.Error_.prototype.resetTimer = function() {\n  goog.global.clearTimeout(this.id_);\n};\ngoog.async.Deferred.errorMap_ = {};\ngoog.async.Deferred.scheduleError_ = function(error) {\n  var deferredError = new goog.async.Deferred.Error_(error);\n  goog.async.Deferred.errorMap_[deferredError.id_] = deferredError;\n  return deferredError.id_;\n};\ngoog.async.Deferred.unscheduleError_ = function(id) {\n  var error = goog.async.Deferred.errorMap_[id];\n  error && (error.resetTimer(), delete goog.async.Deferred.errorMap_[id]);\n};\ngoog.async.Deferred.assertNoErrors = function() {\n  var map = goog.async.Deferred.errorMap_, key;\n  for (key in map) {\n    var error = map[key];\n    error.resetTimer();\n    error.throwError();\n  }\n};\ngoog.net = {};\ngoog.net.jsloader = {};\ngoog.net.jsloader.Options = {};\ngoog.net.jsloader.GLOBAL_VERIFY_OBJS_ = \"closure_verification\";\ngoog.net.jsloader.DEFAULT_TIMEOUT = 5E3;\ngoog.net.jsloader.scriptsToLoad_ = [];\ngoog.net.jsloader.safeLoadMany = function(trustedUris, opt_options) {\n  if (!trustedUris.length) {\n    return goog.async.Deferred.succeed(null);\n  }\n  var isAnotherModuleLoading = goog.net.jsloader.scriptsToLoad_.length;\n  module$contents$goog$array_extend(goog.net.jsloader.scriptsToLoad_, trustedUris);\n  if (isAnotherModuleLoading) {\n    return goog.net.jsloader.scriptLoadingDeferred_;\n  }\n  trustedUris = goog.net.jsloader.scriptsToLoad_;\n  var popAndLoadNextScript = function() {\n    var trustedUri = trustedUris.shift(), deferred = goog.net.jsloader.safeLoad(trustedUri, opt_options);\n    trustedUris.length && deferred.addBoth(popAndLoadNextScript);\n    return deferred;\n  };\n  goog.net.jsloader.scriptLoadingDeferred_ = popAndLoadNextScript();\n  return goog.net.jsloader.scriptLoadingDeferred_;\n};\ngoog.net.jsloader.safeLoad = function(trustedUri, opt_options) {\n  var options = opt_options || {}, doc = options.document || document, uri = goog.html.TrustedResourceUrl.unwrap(trustedUri), script = (new goog.dom.DomHelper(doc)).createElement(goog.dom.TagName.SCRIPT), request = {script_:script, timeout_:void 0}, deferred = new goog.async.Deferred(goog.net.jsloader.cancel_, request), timeout = null, timeoutDuration = null != options.timeout ? options.timeout : goog.net.jsloader.DEFAULT_TIMEOUT;\n  0 < timeoutDuration && (timeout = window.setTimeout(function() {\n    goog.net.jsloader.cleanup_(script, !0);\n    deferred.errback(new goog.net.jsloader.Error(goog.net.jsloader.ErrorCode.TIMEOUT, \"Timeout reached for loading script \" + uri));\n  }, timeoutDuration), request.timeout_ = timeout);\n  script.onload = script.onreadystatechange = function() {\n    script.readyState && \"loaded\" != script.readyState && \"complete\" != script.readyState || (goog.net.jsloader.cleanup_(script, options.cleanupWhenDone || !1, timeout), deferred.callback(null));\n  };\n  script.onerror = function() {\n    goog.net.jsloader.cleanup_(script, !0, timeout);\n    deferred.errback(new goog.net.jsloader.Error(goog.net.jsloader.ErrorCode.LOAD_ERROR, \"Error while loading script \" + uri));\n  };\n  var properties = options.attributes || {};\n  module$contents$goog$object_extend(properties, {type:\"text/javascript\", charset:\"UTF-8\"});\n  goog.dom.setProperties(script, properties);\n  goog.dom.safe.setScriptSrc(script, trustedUri);\n  goog.net.jsloader.getScriptParentElement_(doc).appendChild(script);\n  return deferred;\n};\ngoog.net.jsloader.safeLoadAndVerify = function(trustedUri, verificationObjName, options) {\n  goog.global[goog.net.jsloader.GLOBAL_VERIFY_OBJS_] || (goog.global[goog.net.jsloader.GLOBAL_VERIFY_OBJS_] = {});\n  var verifyObjs = goog.global[goog.net.jsloader.GLOBAL_VERIFY_OBJS_], uri = goog.html.TrustedResourceUrl.unwrap(trustedUri);\n  if (void 0 !== verifyObjs[verificationObjName]) {\n    return goog.async.Deferred.fail(new goog.net.jsloader.Error(goog.net.jsloader.ErrorCode.VERIFY_OBJECT_ALREADY_EXISTS, \"Verification object \" + verificationObjName + \" already defined.\"));\n  }\n  var sendDeferred = goog.net.jsloader.safeLoad(trustedUri, options), deferred = new goog.async.Deferred(goog.bind(sendDeferred.cancel, sendDeferred));\n  sendDeferred.addCallback(function() {\n    var result = verifyObjs[verificationObjName];\n    void 0 !== result ? (deferred.callback(result), delete verifyObjs[verificationObjName]) : deferred.errback(new goog.net.jsloader.Error(goog.net.jsloader.ErrorCode.VERIFY_ERROR, \"Script \" + uri + \" loaded, but verification object \" + verificationObjName + \" was not defined.\"));\n  });\n  sendDeferred.addErrback(function(error) {\n    void 0 !== verifyObjs[verificationObjName] && delete verifyObjs[verificationObjName];\n    deferred.errback(error);\n  });\n  return deferred;\n};\ngoog.net.jsloader.getScriptParentElement_ = function(doc) {\n  var headElements = goog.dom.getElementsByTagName(goog.dom.TagName.HEAD, doc);\n  return headElements && 0 !== headElements.length ? headElements[0] : doc.documentElement;\n};\ngoog.net.jsloader.cancel_ = function() {\n  if (this && this.script_) {\n    var scriptNode = this.script_;\n    scriptNode && scriptNode.tagName == goog.dom.TagName.SCRIPT && goog.net.jsloader.cleanup_(scriptNode, !0, this.timeout_);\n  }\n};\ngoog.net.jsloader.cleanup_ = function(scriptNode, removeScriptNode, opt_timeout) {\n  null != opt_timeout && goog.global.clearTimeout(opt_timeout);\n  scriptNode.onload = function() {\n  };\n  scriptNode.onerror = function() {\n  };\n  scriptNode.onreadystatechange = function() {\n  };\n  removeScriptNode && window.setTimeout(function() {\n    goog.dom.removeNode(scriptNode);\n  }, 0);\n};\ngoog.net.jsloader.ErrorCode = {LOAD_ERROR:0, TIMEOUT:1, VERIFY_ERROR:2, VERIFY_OBJECT_ALREADY_EXISTS:3,};\ngoog.net.jsloader.Error = function(code, opt_message) {\n  var msg = \"Jsloader error (code #\" + code + \")\";\n  opt_message && (msg += \": \" + opt_message);\n  module$contents$goog$debug$Error_DebugError.call(this, msg);\n  this.code = code;\n};\ngoog.inherits(goog.net.jsloader.Error, module$contents$goog$debug$Error_DebugError);\ngoog.json = {};\ngoog.json.Replacer = {};\ngoog.json.Reviver = {};\ngoog.json.USE_NATIVE_JSON = !1;\ngoog.json.isValid = function(s) {\n  return /^\\s*$/.test(s) ? !1 : /^[\\],:{}\\s\\u2028\\u2029]*$/.test(s.replace(/\\\\[\"\\\\\\/bfnrtu]/g, \"@\").replace(/(?:\"[^\"\\\\\\n\\r\\u2028\\u2029\\x00-\\x08\\x0a-\\x1f]*\"|true|false|null|-?\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?)[\\s\\u2028\\u2029]*(?=:|,|]|}|$)/g, \"]\").replace(/(?:^|:|,)(?:[\\s\\u2028\\u2029]*\\[)+/g, \"\"));\n};\ngoog.json.errorLogger_ = function() {\n};\ngoog.json.setErrorLogger = function(errorLogger) {\n  goog.json.errorLogger_ = errorLogger;\n};\ngoog.json.parse = goog.json.USE_NATIVE_JSON ? goog.global.JSON.parse : function(s) {\n  try {\n    return goog.global.JSON.parse(s);\n  } catch (ex) {\n    var error = ex;\n  }\n  var o = String(s);\n  if (goog.json.isValid(o)) {\n    try {\n      var result = eval(\"(\" + o + \")\");\n      error && goog.json.errorLogger_(\"Invalid JSON: \" + o, error);\n      return result;\n    } catch (ex$56) {\n    }\n  }\n  throw Error(\"Invalid JSON string: \" + o);\n};\ngoog.json.serialize = goog.json.USE_NATIVE_JSON ? goog.global.JSON.stringify : function(object, opt_replacer) {\n  return (new goog.json.Serializer(opt_replacer)).serialize(object);\n};\ngoog.json.Serializer = function(opt_replacer) {\n  this.replacer_ = opt_replacer;\n};\ngoog.json.Serializer.prototype.serialize = function(object) {\n  var sb = [];\n  this.serializeInternal(object, sb);\n  return sb.join(\"\");\n};\ngoog.json.Serializer.prototype.serializeInternal = function(object, sb) {\n  if (null == object) {\n    sb.push(\"null\");\n  } else {\n    if (\"object\" == typeof object) {\n      if (Array.isArray(object)) {\n        this.serializeArray(object, sb);\n        return;\n      }\n      if (object instanceof String || object instanceof Number || object instanceof Boolean) {\n        object = object.valueOf();\n      } else {\n        this.serializeObject_(object, sb);\n        return;\n      }\n    }\n    switch(typeof object) {\n      case \"string\":\n        this.serializeString_(object, sb);\n        break;\n      case \"number\":\n        this.serializeNumber_(object, sb);\n        break;\n      case \"boolean\":\n        sb.push(String(object));\n        break;\n      case \"function\":\n        sb.push(\"null\");\n        break;\n      default:\n        throw Error(\"Unknown type: \" + typeof object);\n    }\n  }\n};\ngoog.json.Serializer.charToJsonCharCache_ = {'\"':'\\\\\"', \"\\\\\":\"\\\\\\\\\", \"/\":\"\\\\/\", \"\\b\":\"\\\\b\", \"\\f\":\"\\\\f\", \"\\n\":\"\\\\n\", \"\\r\":\"\\\\r\", \"\\t\":\"\\\\t\", \"\\v\":\"\\\\u000b\"};\ngoog.json.Serializer.charsToReplace_ = /\\uffff/.test(\"\\uffff\") ? /[\\\\\"\\x00-\\x1f\\x7f-\\uffff]/g : /[\\\\\"\\x00-\\x1f\\x7f-\\xff]/g;\ngoog.json.Serializer.prototype.serializeString_ = function(s, sb) {\n  sb.push('\"', s.replace(goog.json.Serializer.charsToReplace_, function(c) {\n    var rv = goog.json.Serializer.charToJsonCharCache_[c];\n    rv || (rv = \"\\\\u\" + (c.charCodeAt(0) | 65536).toString(16).slice(1), goog.json.Serializer.charToJsonCharCache_[c] = rv);\n    return rv;\n  }), '\"');\n};\ngoog.json.Serializer.prototype.serializeNumber_ = function(n, sb) {\n  sb.push(isFinite(n) && !isNaN(n) ? String(n) : \"null\");\n};\ngoog.json.Serializer.prototype.serializeArray = function(arr, sb) {\n  var l = arr.length;\n  sb.push(\"[\");\n  for (var sep = \"\", i = 0; i < l; i++) {\n    sb.push(sep);\n    var value = arr[i];\n    this.serializeInternal(this.replacer_ ? this.replacer_.call(arr, String(i), value) : value, sb);\n    sep = \",\";\n  }\n  sb.push(\"]\");\n};\ngoog.json.Serializer.prototype.serializeObject_ = function(obj, sb) {\n  sb.push(\"{\");\n  var sep = \"\", key;\n  for (key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) {\n      var value = obj[key];\n      \"function\" != typeof value && (sb.push(sep), this.serializeString_(key, sb), sb.push(\":\"), this.serializeInternal(this.replacer_ ? this.replacer_.call(obj, key, value) : value, sb), sep = \",\");\n    }\n  }\n  sb.push(\"}\");\n};\ngoog.json.hybrid = {};\ngoog.json.hybrid.stringify = goog.json.USE_NATIVE_JSON ? goog.global.JSON.stringify : function(obj) {\n  if (goog.global.JSON) {\n    try {\n      return goog.global.JSON.stringify(obj);\n    } catch (e) {\n    }\n  }\n  return goog.json.serialize(obj);\n};\ngoog.json.hybrid.parse_ = function(jsonString, fallbackParser) {\n  if (goog.global.JSON) {\n    try {\n      var obj = goog.global.JSON.parse(jsonString);\n      goog.asserts.assert(\"object\" == typeof obj);\n      return obj;\n    } catch (e) {\n    }\n  }\n  return fallbackParser(jsonString);\n};\ngoog.json.hybrid.parse = goog.json.USE_NATIVE_JSON ? goog.global.JSON.parse : function(jsonString) {\n  return goog.json.hybrid.parse_(jsonString, goog.json.parse);\n};\ngoog.log = {};\ngoog.log.ENABLED = goog.debug.LOGGING_ENABLED;\ngoog.log.ROOT_LOGGER_NAME = \"\";\nvar third_party$javascript$closure$log$log$classdecl$var0 = function(name, value) {\n  this.name = name;\n  this.value = value;\n};\nthird_party$javascript$closure$log$log$classdecl$var0.prototype.toString = function() {\n  return this.name;\n};\ngoog.log.Level = third_party$javascript$closure$log$log$classdecl$var0;\ngoog.log.Level.OFF = new goog.log.Level(\"OFF\", Infinity);\ngoog.log.Level.SHOUT = new goog.log.Level(\"SHOUT\", 1200);\ngoog.log.Level.SEVERE = new goog.log.Level(\"SEVERE\", 1E3);\ngoog.log.Level.WARNING = new goog.log.Level(\"WARNING\", 900);\ngoog.log.Level.INFO = new goog.log.Level(\"INFO\", 800);\ngoog.log.Level.CONFIG = new goog.log.Level(\"CONFIG\", 700);\ngoog.log.Level.FINE = new goog.log.Level(\"FINE\", 500);\ngoog.log.Level.FINER = new goog.log.Level(\"FINER\", 400);\ngoog.log.Level.FINEST = new goog.log.Level(\"FINEST\", 300);\ngoog.log.Level.ALL = new goog.log.Level(\"ALL\", 0);\ngoog.log.Level.PREDEFINED_LEVELS = [goog.log.Level.OFF, goog.log.Level.SHOUT, goog.log.Level.SEVERE, goog.log.Level.WARNING, goog.log.Level.INFO, goog.log.Level.CONFIG, goog.log.Level.FINE, goog.log.Level.FINER, goog.log.Level.FINEST, goog.log.Level.ALL];\ngoog.log.Level.predefinedLevelsCache_ = null;\ngoog.log.Level.createPredefinedLevelsCache_ = function() {\n  goog.log.Level.predefinedLevelsCache_ = {};\n  for (var i = 0, level = void 0; level = goog.log.Level.PREDEFINED_LEVELS[i]; i++) {\n    goog.log.Level.predefinedLevelsCache_[level.value] = level, goog.log.Level.predefinedLevelsCache_[level.name] = level;\n  }\n};\ngoog.log.Level.getPredefinedLevel = function(name) {\n  goog.log.Level.predefinedLevelsCache_ || goog.log.Level.createPredefinedLevelsCache_();\n  return goog.log.Level.predefinedLevelsCache_[name] || null;\n};\ngoog.log.Level.getPredefinedLevelByValue = function(value) {\n  goog.log.Level.predefinedLevelsCache_ || goog.log.Level.createPredefinedLevelsCache_();\n  if (value in goog.log.Level.predefinedLevelsCache_) {\n    return goog.log.Level.predefinedLevelsCache_[value];\n  }\n  for (var i = 0; i < goog.log.Level.PREDEFINED_LEVELS.length; ++i) {\n    var level = goog.log.Level.PREDEFINED_LEVELS[i];\n    if (level.value <= value) {\n      return level;\n    }\n  }\n  return null;\n};\nvar third_party$javascript$closure$log$log$classdecl$var1 = function() {\n};\nthird_party$javascript$closure$log$log$classdecl$var1.prototype.getName = function() {\n};\ngoog.log.Logger = third_party$javascript$closure$log$log$classdecl$var1;\ngoog.log.Logger.Level = goog.log.Level;\nvar third_party$javascript$closure$log$log$classdecl$var2 = function(capacity) {\n  this.capacity_ = \"number\" === typeof capacity ? capacity : goog.log.LogBuffer.CAPACITY;\n  this.clear();\n};\nthird_party$javascript$closure$log$log$classdecl$var2.prototype.addRecord = function(level, msg, loggerName) {\n  if (!this.isBufferingEnabled()) {\n    return new goog.log.LogRecord(level, msg, loggerName);\n  }\n  var curIndex = (this.curIndex_ + 1) % this.capacity_;\n  this.curIndex_ = curIndex;\n  if (this.isFull_) {\n    var ret = this.buffer_[curIndex];\n    ret.reset(level, msg, loggerName);\n    return ret;\n  }\n  this.isFull_ = curIndex == this.capacity_ - 1;\n  return this.buffer_[curIndex] = new goog.log.LogRecord(level, msg, loggerName);\n};\nthird_party$javascript$closure$log$log$classdecl$var2.prototype.forEachRecord = function(func) {\n  var buffer = this.buffer_;\n  if (buffer[0]) {\n    var curIndex = this.curIndex_, i = this.isFull_ ? curIndex : -1;\n    do {\n      i = (i + 1) % this.capacity_, func(buffer[i]);\n    } while (i !== curIndex);\n  }\n};\nthird_party$javascript$closure$log$log$classdecl$var2.prototype.isBufferingEnabled = function() {\n  return 0 < this.capacity_;\n};\nthird_party$javascript$closure$log$log$classdecl$var2.prototype.isFull = function() {\n  return this.isFull_;\n};\nthird_party$javascript$closure$log$log$classdecl$var2.prototype.clear = function() {\n  this.buffer_ = Array(this.capacity_);\n  this.curIndex_ = -1;\n  this.isFull_ = !1;\n};\ngoog.log.LogBuffer = third_party$javascript$closure$log$log$classdecl$var2;\ngoog.log.LogBuffer.CAPACITY = 0;\ngoog.log.LogBuffer.getInstance = function() {\n  goog.log.LogBuffer.instance_ || (goog.log.LogBuffer.instance_ = new goog.log.LogBuffer(goog.log.LogBuffer.CAPACITY));\n  return goog.log.LogBuffer.instance_;\n};\ngoog.log.LogBuffer.isBufferingEnabled = function() {\n  return goog.log.LogBuffer.getInstance().isBufferingEnabled();\n};\nvar third_party$javascript$closure$log$log$classdecl$var3 = function(level, msg, loggerName, time, sequenceNumber) {\n  this.exception_ = void 0;\n  this.reset(level || goog.log.Level.OFF, msg, loggerName, time, sequenceNumber);\n};\nthird_party$javascript$closure$log$log$classdecl$var3.prototype.reset = function(level, msg, loggerName, time, sequenceNumber) {\n  this.time_ = time || goog.now();\n  this.level_ = level;\n  this.msg_ = msg;\n  this.loggerName_ = loggerName;\n  this.exception_ = void 0;\n  this.sequenceNumber_ = \"number\" === typeof sequenceNumber ? sequenceNumber : goog.log.LogRecord.nextSequenceNumber_;\n};\nthird_party$javascript$closure$log$log$classdecl$var3.prototype.getLoggerName = function() {\n  return this.loggerName_;\n};\nthird_party$javascript$closure$log$log$classdecl$var3.prototype.setLoggerName = function(name) {\n  this.loggerName_ = name;\n};\nthird_party$javascript$closure$log$log$classdecl$var3.prototype.getException = function() {\n  return this.exception_;\n};\nthird_party$javascript$closure$log$log$classdecl$var3.prototype.setException = function(exception) {\n  this.exception_ = exception;\n};\nthird_party$javascript$closure$log$log$classdecl$var3.prototype.getLevel = function() {\n  return this.level_;\n};\nthird_party$javascript$closure$log$log$classdecl$var3.prototype.setLevel = function(level) {\n  this.level_ = level;\n};\nthird_party$javascript$closure$log$log$classdecl$var3.prototype.getMessage = function() {\n  return this.msg_;\n};\nthird_party$javascript$closure$log$log$classdecl$var3.prototype.setMessage = function(msg) {\n  this.msg_ = msg;\n};\nthird_party$javascript$closure$log$log$classdecl$var3.prototype.getMillis = function() {\n  return this.time_;\n};\nthird_party$javascript$closure$log$log$classdecl$var3.prototype.setMillis = function(time) {\n  this.time_ = time;\n};\nthird_party$javascript$closure$log$log$classdecl$var3.prototype.getSequenceNumber = function() {\n  return this.sequenceNumber_;\n};\ngoog.log.LogRecord = third_party$javascript$closure$log$log$classdecl$var3;\ngoog.log.LogRecord.nextSequenceNumber_ = 0;\nvar third_party$javascript$closure$log$log$classdecl$var4 = function(name, parent) {\n  this.level = null;\n  this.handlers = [];\n  this.parent = (void 0 === parent ? null : parent) || null;\n  this.children = [];\n  this.logger = {getName:function() {\n    return name;\n  }};\n};\nthird_party$javascript$closure$log$log$classdecl$var4.prototype.getEffectiveLevel = function() {\n  if (this.level) {\n    return this.level;\n  }\n  if (this.parent) {\n    return this.parent.getEffectiveLevel();\n  }\n  goog.asserts.fail(\"Root logger has no level set.\");\n  return goog.log.Level.OFF;\n};\nthird_party$javascript$closure$log$log$classdecl$var4.prototype.publish = function(logRecord) {\n  for (var target = this; target;) {\n    target.handlers.forEach(function(handler) {\n      handler(logRecord);\n    }), target = target.parent;\n  }\n};\ngoog.log.LogRegistryEntry_ = third_party$javascript$closure$log$log$classdecl$var4;\nvar third_party$javascript$closure$log$log$classdecl$var5 = function() {\n  this.entries = {};\n  var rootLogRegistryEntry = new goog.log.LogRegistryEntry_(goog.log.ROOT_LOGGER_NAME);\n  rootLogRegistryEntry.level = goog.log.Level.CONFIG;\n  this.entries[goog.log.ROOT_LOGGER_NAME] = rootLogRegistryEntry;\n};\nthird_party$javascript$closure$log$log$classdecl$var5.prototype.getLogRegistryEntry = function(name, level) {\n  var entry = this.entries[name];\n  if (entry) {\n    return void 0 !== level && (entry.level = level), entry;\n  }\n  var lastDotIndex = name.lastIndexOf(\".\"), parentName = name.slice(0, Math.max(lastDotIndex, 0)), parentLogRegistryEntry = this.getLogRegistryEntry(parentName), logRegistryEntry = new goog.log.LogRegistryEntry_(name, parentLogRegistryEntry);\n  this.entries[name] = logRegistryEntry;\n  parentLogRegistryEntry.children.push(logRegistryEntry);\n  void 0 !== level && (logRegistryEntry.level = level);\n  return logRegistryEntry;\n};\nthird_party$javascript$closure$log$log$classdecl$var5.prototype.getAllLoggers = function() {\n  var $jscomp$this = this;\n  return Object.keys(this.entries).map(function(loggerName) {\n    return $jscomp$this.entries[loggerName].logger;\n  });\n};\ngoog.log.LogRegistry_ = third_party$javascript$closure$log$log$classdecl$var5;\ngoog.log.LogRegistry_.getInstance = function() {\n  goog.log.LogRegistry_.instance_ || (goog.log.LogRegistry_.instance_ = new goog.log.LogRegistry_());\n  return goog.log.LogRegistry_.instance_;\n};\ngoog.log.getLogger = function(name, level) {\n  return goog.log.ENABLED ? goog.log.LogRegistry_.getInstance().getLogRegistryEntry(name, level).logger : null;\n};\ngoog.log.getRootLogger = function() {\n  return goog.log.ENABLED ? goog.log.LogRegistry_.getInstance().getLogRegistryEntry(goog.log.ROOT_LOGGER_NAME).logger : null;\n};\ngoog.log.addHandler = function(logger, handler) {\n  goog.log.ENABLED && logger && goog.log.LogRegistry_.getInstance().getLogRegistryEntry(logger.getName()).handlers.push(handler);\n};\ngoog.log.removeHandler = function(logger, handler) {\n  if (goog.log.ENABLED && logger) {\n    var loggerEntry = goog.log.LogRegistry_.getInstance().getLogRegistryEntry(logger.getName()), indexOfHandler = loggerEntry.handlers.indexOf(handler);\n    if (-1 !== indexOfHandler) {\n      return loggerEntry.handlers.splice(indexOfHandler, 1), !0;\n    }\n  }\n  return !1;\n};\ngoog.log.setLevel = function(logger, level) {\n  goog.log.ENABLED && logger && (goog.log.LogRegistry_.getInstance().getLogRegistryEntry(logger.getName()).level = level);\n};\ngoog.log.getLevel = function(logger) {\n  return goog.log.ENABLED && logger ? goog.log.LogRegistry_.getInstance().getLogRegistryEntry(logger.getName()).level : null;\n};\ngoog.log.getEffectiveLevel = function(logger) {\n  return goog.log.ENABLED && logger ? goog.log.LogRegistry_.getInstance().getLogRegistryEntry(logger.getName()).getEffectiveLevel() : goog.log.Level.OFF;\n};\ngoog.log.isLoggable = function(logger, level) {\n  return goog.log.ENABLED && logger && level ? level.value >= goog.log.getEffectiveLevel(logger).value : !1;\n};\ngoog.log.getAllLoggers = function() {\n  return goog.log.ENABLED ? goog.log.LogRegistry_.getInstance().getAllLoggers() : [];\n};\ngoog.log.getLogRecord = function(logger, level, msg, exception) {\n  var logRecord = goog.log.LogBuffer.getInstance().addRecord(level || goog.log.Level.OFF, msg, logger.getName());\n  logRecord.setException(exception);\n  return logRecord;\n};\ngoog.log.publishLogRecord = function(logger, logRecord) {\n  goog.log.ENABLED && logger && goog.log.isLoggable(logger, logRecord.getLevel()) && goog.log.LogRegistry_.getInstance().getLogRegistryEntry(logger.getName()).publish(logRecord);\n};\ngoog.log.log = function(logger, level, msg, exception) {\n  if (goog.log.ENABLED && logger && goog.log.isLoggable(logger, level)) {\n    level = level || goog.log.Level.OFF;\n    var loggerEntry = goog.log.LogRegistry_.getInstance().getLogRegistryEntry(logger.getName());\n    \"function\" === typeof msg && (msg = msg());\n    var logRecord = goog.log.LogBuffer.getInstance().addRecord(level, msg, logger.getName());\n    logRecord.setException(exception);\n    loggerEntry.publish(logRecord);\n  }\n};\ngoog.log.error = function(logger, msg, exception) {\n  goog.log.ENABLED && logger && goog.log.log(logger, goog.log.Level.SEVERE, msg, exception);\n};\ngoog.log.warning = function(logger, msg, exception) {\n  goog.log.ENABLED && logger && goog.log.log(logger, goog.log.Level.WARNING, msg, exception);\n};\ngoog.log.info = function(logger, msg, exception) {\n  goog.log.ENABLED && logger && goog.log.log(logger, goog.log.Level.INFO, msg, exception);\n};\ngoog.log.fine = function(logger, msg, exception) {\n  goog.log.ENABLED && logger && goog.log.log(logger, goog.log.Level.FINE, msg, exception);\n};\ngoog.net.ErrorCode = {NO_ERROR:0, ACCESS_DENIED:1, FILE_NOT_FOUND:2, FF_SILENT_ERROR:3, CUSTOM_ERROR:4, EXCEPTION:5, HTTP_ERROR:6, ABORT:7, TIMEOUT:8, OFFLINE:9,};\ngoog.net.ErrorCode.getDebugMessage = function(errorCode) {\n  switch(errorCode) {\n    case goog.net.ErrorCode.NO_ERROR:\n      return \"No Error\";\n    case goog.net.ErrorCode.ACCESS_DENIED:\n      return \"Access denied to content document\";\n    case goog.net.ErrorCode.FILE_NOT_FOUND:\n      return \"File not found\";\n    case goog.net.ErrorCode.FF_SILENT_ERROR:\n      return \"Firefox silently errored\";\n    case goog.net.ErrorCode.CUSTOM_ERROR:\n      return \"Application custom error\";\n    case goog.net.ErrorCode.EXCEPTION:\n      return \"An exception occurred\";\n    case goog.net.ErrorCode.HTTP_ERROR:\n      return \"Http response at 400 or 500 level\";\n    case goog.net.ErrorCode.ABORT:\n      return \"Request was aborted\";\n    case goog.net.ErrorCode.TIMEOUT:\n      return \"Request timed out\";\n    case goog.net.ErrorCode.OFFLINE:\n      return \"The resource is not available offline\";\n    default:\n      return \"Unrecognized error code\";\n  }\n};\ngoog.net.EventType = {COMPLETE:\"complete\", SUCCESS:\"success\", ERROR:\"error\", ABORT:\"abort\", READY:\"ready\", READY_STATE_CHANGE:\"readystatechange\", TIMEOUT:\"timeout\", INCREMENTAL_DATA:\"incrementaldata\", PROGRESS:\"progress\", DOWNLOAD_PROGRESS:\"downloadprogress\", UPLOAD_PROGRESS:\"uploadprogress\",};\ngoog.net.HttpStatus = {CONTINUE:100, SWITCHING_PROTOCOLS:101, OK:200, CREATED:201, ACCEPTED:202, NON_AUTHORITATIVE_INFORMATION:203, NO_CONTENT:204, RESET_CONTENT:205, PARTIAL_CONTENT:206, MULTI_STATUS:207, MULTIPLE_CHOICES:300, MOVED_PERMANENTLY:301, FOUND:302, SEE_OTHER:303, NOT_MODIFIED:304, USE_PROXY:305, TEMPORARY_REDIRECT:307, PERMANENT_REDIRECT:308, BAD_REQUEST:400, UNAUTHORIZED:401, PAYMENT_REQUIRED:402, FORBIDDEN:403, NOT_FOUND:404, METHOD_NOT_ALLOWED:405, NOT_ACCEPTABLE:406, PROXY_AUTHENTICATION_REQUIRED:407, \nREQUEST_TIMEOUT:408, CONFLICT:409, GONE:410, LENGTH_REQUIRED:411, PRECONDITION_FAILED:412, REQUEST_ENTITY_TOO_LARGE:413, REQUEST_URI_TOO_LONG:414, UNSUPPORTED_MEDIA_TYPE:415, REQUEST_RANGE_NOT_SATISFIABLE:416, EXPECTATION_FAILED:417, UNPROCESSABLE_ENTITY:422, LOCKED:423, FAILED_DEPENDENCY:424, PRECONDITION_REQUIRED:428, TOO_MANY_REQUESTS:429, REQUEST_HEADER_FIELDS_TOO_LARGE:431, CLIENT_CLOSED_REQUEST:499, INTERNAL_SERVER_ERROR:500, NOT_IMPLEMENTED:501, BAD_GATEWAY:502, SERVICE_UNAVAILABLE:503, GATEWAY_TIMEOUT:504, \nHTTP_VERSION_NOT_SUPPORTED:505, INSUFFICIENT_STORAGE:507, NETWORK_AUTHENTICATION_REQUIRED:511, QUIRK_IE_NO_CONTENT:1223,};\ngoog.net.HttpStatus.isSuccess = function(status) {\n  switch(status) {\n    case goog.net.HttpStatus.OK:\n    case goog.net.HttpStatus.CREATED:\n    case goog.net.HttpStatus.ACCEPTED:\n    case goog.net.HttpStatus.NO_CONTENT:\n    case goog.net.HttpStatus.PARTIAL_CONTENT:\n    case goog.net.HttpStatus.NOT_MODIFIED:\n    case goog.net.HttpStatus.QUIRK_IE_NO_CONTENT:\n      return !0;\n    default:\n      return !1;\n  }\n};\ngoog.net.XhrLike = function() {\n};\ngoog.net.XhrLike.prototype.open = function(method, url, opt_async, opt_user, opt_password) {\n};\ngoog.net.XhrLike.prototype.send = function(opt_data) {\n};\ngoog.net.XhrLike.prototype.abort = function() {\n};\ngoog.net.XhrLike.prototype.setRequestHeader = function(header, value) {\n};\ngoog.net.XhrLike.prototype.getResponseHeader = function(header) {\n};\ngoog.net.XhrLike.prototype.getAllResponseHeaders = function() {\n};\ngoog.net.XhrLike.prototype.setTrustToken = function(trustTokenAttribute) {\n};\ngoog.net.XmlHttpFactory = function() {\n};\ngoog.net.XmlHttpFactory.prototype.cachedOptions_ = null;\ngoog.net.XmlHttpFactory.prototype.getOptions = function() {\n  return this.cachedOptions_ || (this.cachedOptions_ = this.internalGetOptions());\n};\ngoog.net.WrapperXmlHttpFactory = function(xhrFactory, optionsFactory) {\n  this.xhrFactory_ = xhrFactory;\n  this.optionsFactory_ = optionsFactory;\n};\ngoog.inherits(goog.net.WrapperXmlHttpFactory, goog.net.XmlHttpFactory);\ngoog.net.WrapperXmlHttpFactory.prototype.createInstance = function() {\n  return this.xhrFactory_();\n};\ngoog.net.WrapperXmlHttpFactory.prototype.getOptions = function() {\n  return this.optionsFactory_();\n};\ngoog.net.XmlHttp = function() {\n  return goog.net.XmlHttp.factory_.createInstance();\n};\ngoog.net.XmlHttp.ASSUME_NATIVE_XHR = !1;\ngoog.net.XmlHttpDefines = {};\ngoog.net.XmlHttpDefines.ASSUME_NATIVE_XHR = !1;\ngoog.net.XmlHttp.getOptions = function() {\n  return goog.net.XmlHttp.factory_.getOptions();\n};\ngoog.net.XmlHttp.OptionType = {USE_NULL_FUNCTION:0, LOCAL_REQUEST_ERROR:1,};\ngoog.net.XmlHttp.ReadyState = {UNINITIALIZED:0, LOADING:1, LOADED:2, INTERACTIVE:3, COMPLETE:4,};\ngoog.net.XmlHttp.setFactory = function(factory, optionsFactory) {\n  goog.net.XmlHttp.setGlobalFactory(new goog.net.WrapperXmlHttpFactory(goog.asserts.assert(factory), goog.asserts.assert(optionsFactory)));\n};\ngoog.net.XmlHttp.setGlobalFactory = function(factory) {\n  goog.net.XmlHttp.factory_ = factory;\n};\ngoog.net.DefaultXmlHttpFactory = function() {\n};\ngoog.inherits(goog.net.DefaultXmlHttpFactory, goog.net.XmlHttpFactory);\ngoog.net.DefaultXmlHttpFactory.prototype.createInstance = function() {\n  var progId = this.getProgId_();\n  return progId ? new ActiveXObject(progId) : new XMLHttpRequest();\n};\ngoog.net.DefaultXmlHttpFactory.prototype.internalGetOptions = function() {\n  var options = {};\n  this.getProgId_() && (options[goog.net.XmlHttp.OptionType.USE_NULL_FUNCTION] = !0, options[goog.net.XmlHttp.OptionType.LOCAL_REQUEST_ERROR] = !0);\n  return options;\n};\ngoog.net.DefaultXmlHttpFactory.prototype.getProgId_ = function() {\n  if (goog.net.XmlHttp.ASSUME_NATIVE_XHR || goog.net.XmlHttpDefines.ASSUME_NATIVE_XHR) {\n    return \"\";\n  }\n  if (!this.ieProgId_ && \"undefined\" == typeof XMLHttpRequest && \"undefined\" != typeof ActiveXObject) {\n    for (var ACTIVE_X_IDENTS = [\"MSXML2.XMLHTTP.6.0\", \"MSXML2.XMLHTTP.3.0\", \"MSXML2.XMLHTTP\", \"Microsoft.XMLHTTP\",], i = 0; i < ACTIVE_X_IDENTS.length; i++) {\n      var candidate = ACTIVE_X_IDENTS[i];\n      try {\n        return new ActiveXObject(candidate), this.ieProgId_ = candidate;\n      } catch (e) {\n      }\n    }\n    throw Error(\"Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed\");\n  }\n  return this.ieProgId_;\n};\ngoog.net.XmlHttp.setGlobalFactory(new goog.net.DefaultXmlHttpFactory());\ngoog.net.XhrIo = function(opt_xmlHttpFactory) {\n  goog.events.EventTarget.call(this);\n  this.headers = new Map();\n  this.xmlHttpFactory_ = opt_xmlHttpFactory || null;\n  this.active_ = !1;\n  this.xhrOptions_ = this.xhr_ = null;\n  this.lastMethod_ = this.lastUri_ = \"\";\n  this.lastErrorCode_ = goog.net.ErrorCode.NO_ERROR;\n  this.lastError_ = \"\";\n  this.inAbort_ = this.inOpen_ = this.inSend_ = this.errorDispatched_ = !1;\n  this.timeoutInterval_ = 0;\n  this.timeoutId_ = null;\n  this.responseType_ = goog.net.XhrIo.ResponseType.DEFAULT;\n  this.useXhr2Timeout_ = this.progressEventsEnabled_ = this.withCredentials_ = !1;\n  this.trustToken_ = null;\n};\ngoog.inherits(goog.net.XhrIo, goog.events.EventTarget);\ngoog.net.XhrIo.ResponseType = {DEFAULT:\"\", TEXT:\"text\", DOCUMENT:\"document\", BLOB:\"blob\", ARRAY_BUFFER:\"arraybuffer\",};\ngoog.net.XhrIo.prototype.logger_ = goog.log.getLogger(\"goog.net.XhrIo\");\ngoog.net.XhrIo.CONTENT_TYPE_HEADER = \"Content-Type\";\ngoog.net.XhrIo.CONTENT_TRANSFER_ENCODING = \"Content-Transfer-Encoding\";\ngoog.net.XhrIo.HTTP_SCHEME_PATTERN = /^https?$/i;\ngoog.net.XhrIo.METHODS_WITH_FORM_DATA = [\"POST\", \"PUT\"];\ngoog.net.XhrIo.FORM_CONTENT_TYPE = \"application/x-www-form-urlencoded;charset=utf-8\";\ngoog.net.XhrIo.XHR2_TIMEOUT_ = \"timeout\";\ngoog.net.XhrIo.XHR2_ON_TIMEOUT_ = \"ontimeout\";\ngoog.net.XhrIo.sendInstances_ = [];\ngoog.net.XhrIo.send = function(url, opt_callback, opt_method, opt_content, opt_headers, opt_timeoutInterval, opt_withCredentials) {\n  var x = new goog.net.XhrIo();\n  goog.net.XhrIo.sendInstances_.push(x);\n  opt_callback && x.listen(goog.net.EventType.COMPLETE, opt_callback);\n  x.listenOnce(goog.net.EventType.READY, x.cleanupSend_);\n  opt_timeoutInterval && x.setTimeoutInterval(opt_timeoutInterval);\n  opt_withCredentials && x.setWithCredentials(opt_withCredentials);\n  x.send(url, opt_method, opt_content, opt_headers);\n  return x;\n};\ngoog.net.XhrIo.cleanup = function() {\n  for (var instances = goog.net.XhrIo.sendInstances_; instances.length;) {\n    instances.pop().dispose();\n  }\n};\ngoog.net.XhrIo.protectEntryPoints = function(errorHandler) {\n  goog.net.XhrIo.prototype.onReadyStateChangeEntryPoint_ = errorHandler.protectEntryPoint(goog.net.XhrIo.prototype.onReadyStateChangeEntryPoint_);\n};\ngoog.net.XhrIo.prototype.cleanupSend_ = function() {\n  this.dispose();\n  module$contents$goog$array_remove(goog.net.XhrIo.sendInstances_, this);\n};\ngoog.net.XhrIo.prototype.getTimeoutInterval = function() {\n  return this.timeoutInterval_;\n};\ngoog.net.XhrIo.prototype.setTimeoutInterval = function(ms) {\n  this.timeoutInterval_ = Math.max(0, ms);\n};\ngoog.net.XhrIo.prototype.setResponseType = function(type) {\n  this.responseType_ = type;\n};\ngoog.net.XhrIo.prototype.getResponseType = function() {\n  return this.responseType_;\n};\ngoog.net.XhrIo.prototype.setWithCredentials = function(withCredentials) {\n  this.withCredentials_ = withCredentials;\n};\ngoog.net.XhrIo.prototype.getWithCredentials = function() {\n  return this.withCredentials_;\n};\ngoog.net.XhrIo.prototype.setProgressEventsEnabled = function(enabled) {\n  this.progressEventsEnabled_ = enabled;\n};\ngoog.net.XhrIo.prototype.getProgressEventsEnabled = function() {\n  return this.progressEventsEnabled_;\n};\ngoog.net.XhrIo.prototype.setTrustToken = function(trustToken) {\n  this.trustToken_ = trustToken;\n};\ngoog.net.XhrIo.prototype.send = function(url, opt_method, opt_content, opt_headers) {\n  if (this.xhr_) {\n    throw Error(\"[goog.net.XhrIo] Object is active with another request=\" + this.lastUri_ + \"; newUri=\" + url);\n  }\n  var method = opt_method ? opt_method.toUpperCase() : \"GET\";\n  this.lastUri_ = url;\n  this.lastError_ = \"\";\n  this.lastErrorCode_ = goog.net.ErrorCode.NO_ERROR;\n  this.lastMethod_ = method;\n  this.errorDispatched_ = !1;\n  this.active_ = !0;\n  this.xhr_ = this.createXhr();\n  this.xhrOptions_ = this.xmlHttpFactory_ ? this.xmlHttpFactory_.getOptions() : goog.net.XmlHttp.getOptions();\n  this.xhr_.onreadystatechange = goog.bind(this.onReadyStateChange_, this);\n  this.getProgressEventsEnabled() && \"onprogress\" in this.xhr_ && (this.xhr_.onprogress = goog.bind(function(e) {\n    this.onProgressHandler_(e, !0);\n  }, this), this.xhr_.upload && (this.xhr_.upload.onprogress = goog.bind(this.onProgressHandler_, this)));\n  try {\n    goog.log.fine(this.logger_, this.formatMsg_(\"Opening Xhr\")), this.inOpen_ = !0, this.xhr_.open(method, String(url), !0), this.inOpen_ = !1;\n  } catch (err$57) {\n    goog.log.fine(this.logger_, this.formatMsg_(\"Error opening Xhr: \" + err$57.message));\n    this.error_(goog.net.ErrorCode.EXCEPTION, err$57);\n    return;\n  }\n  var content = opt_content || \"\", headers = new Map(this.headers);\n  if (opt_headers) {\n    if (Object.getPrototypeOf(opt_headers) === Object.prototype) {\n      for (var key in opt_headers) {\n        headers.set(key, opt_headers[key]);\n      }\n    } else if (\"function\" === typeof opt_headers.keys && \"function\" === typeof opt_headers.get) {\n      for (var $jscomp$iter$24 = $jscomp.makeIterator(opt_headers.keys()), $jscomp$key$key = $jscomp$iter$24.next(); !$jscomp$key$key.done; $jscomp$key$key = $jscomp$iter$24.next()) {\n        var key$58 = $jscomp$key$key.value;\n        headers.set(key$58, opt_headers.get(key$58));\n      }\n    } else {\n      throw Error(\"Unknown input type for opt_headers: \" + String(opt_headers));\n    }\n  }\n  var contentTypeKey = Array.from(headers.keys()).find(function(header) {\n    return goog.string.caseInsensitiveEquals(goog.net.XhrIo.CONTENT_TYPE_HEADER, header);\n  }), contentIsFormData = goog.global.FormData && content instanceof goog.global.FormData;\n  !module$contents$goog$array_contains(goog.net.XhrIo.METHODS_WITH_FORM_DATA, method) || contentTypeKey || contentIsFormData || headers.set(goog.net.XhrIo.CONTENT_TYPE_HEADER, goog.net.XhrIo.FORM_CONTENT_TYPE);\n  for (var $jscomp$iter$25 = $jscomp.makeIterator(headers), $jscomp$key$ = $jscomp$iter$25.next(); !$jscomp$key$.done; $jscomp$key$ = $jscomp$iter$25.next()) {\n    var $jscomp$destructuring$var31 = $jscomp.makeIterator($jscomp$key$.value), key$59 = $jscomp$destructuring$var31.next().value, value = $jscomp$destructuring$var31.next().value;\n    this.xhr_.setRequestHeader(key$59, value);\n  }\n  this.responseType_ && (this.xhr_.responseType = this.responseType_);\n  \"withCredentials\" in this.xhr_ && this.xhr_.withCredentials !== this.withCredentials_ && (this.xhr_.withCredentials = this.withCredentials_);\n  if (\"setTrustToken\" in this.xhr_ && this.trustToken_) {\n    try {\n      this.xhr_.setTrustToken(this.trustToken_);\n    } catch (err$60) {\n      goog.log.fine(this.logger_, this.formatMsg_(\"Error SetTrustToken: \" + err$60.message));\n    }\n  }\n  try {\n    this.cleanUpTimeoutTimer_(), 0 < this.timeoutInterval_ && (this.useXhr2Timeout_ = goog.net.XhrIo.shouldUseXhr2Timeout_(this.xhr_), goog.log.fine(this.logger_, this.formatMsg_(\"Will abort after \" + this.timeoutInterval_ + \"ms if incomplete, xhr2 \" + this.useXhr2Timeout_)), this.useXhr2Timeout_ ? (this.xhr_[goog.net.XhrIo.XHR2_TIMEOUT_] = this.timeoutInterval_, this.xhr_[goog.net.XhrIo.XHR2_ON_TIMEOUT_] = goog.bind(this.timeout_, this)) : this.timeoutId_ = goog.Timer.callOnce(this.timeout_, this.timeoutInterval_, \n    this)), goog.log.fine(this.logger_, this.formatMsg_(\"Sending request\")), this.inSend_ = !0, this.xhr_.send(content), this.inSend_ = !1;\n  } catch (err$61) {\n    goog.log.fine(this.logger_, this.formatMsg_(\"Send error: \" + err$61.message)), this.error_(goog.net.ErrorCode.EXCEPTION, err$61);\n  }\n};\ngoog.net.XhrIo.shouldUseXhr2Timeout_ = function(xhr) {\n  return goog.userAgent.IE && \"number\" === typeof xhr[goog.net.XhrIo.XHR2_TIMEOUT_] && void 0 !== xhr[goog.net.XhrIo.XHR2_ON_TIMEOUT_];\n};\ngoog.net.XhrIo.prototype.createXhr = function() {\n  return this.xmlHttpFactory_ ? this.xmlHttpFactory_.createInstance() : goog.net.XmlHttp();\n};\ngoog.net.XhrIo.prototype.timeout_ = function() {\n  \"undefined\" != typeof goog && this.xhr_ && (this.lastError_ = \"Timed out after \" + this.timeoutInterval_ + \"ms, aborting\", this.lastErrorCode_ = goog.net.ErrorCode.TIMEOUT, goog.log.fine(this.logger_, this.formatMsg_(this.lastError_)), this.dispatchEvent(goog.net.EventType.TIMEOUT), this.abort(goog.net.ErrorCode.TIMEOUT));\n};\ngoog.net.XhrIo.prototype.error_ = function(errorCode, err) {\n  this.active_ = !1;\n  this.xhr_ && (this.inAbort_ = !0, this.xhr_.abort(), this.inAbort_ = !1);\n  this.lastError_ = err;\n  this.lastErrorCode_ = errorCode;\n  this.dispatchErrors_();\n  this.cleanUpXhr_();\n};\ngoog.net.XhrIo.prototype.dispatchErrors_ = function() {\n  this.errorDispatched_ || (this.errorDispatched_ = !0, this.dispatchEvent(goog.net.EventType.COMPLETE), this.dispatchEvent(goog.net.EventType.ERROR));\n};\ngoog.net.XhrIo.prototype.abort = function(opt_failureCode) {\n  this.xhr_ && this.active_ && (goog.log.fine(this.logger_, this.formatMsg_(\"Aborting\")), this.active_ = !1, this.inAbort_ = !0, this.xhr_.abort(), this.inAbort_ = !1, this.lastErrorCode_ = opt_failureCode || goog.net.ErrorCode.ABORT, this.dispatchEvent(goog.net.EventType.COMPLETE), this.dispatchEvent(goog.net.EventType.ABORT), this.cleanUpXhr_());\n};\ngoog.net.XhrIo.prototype.disposeInternal = function() {\n  this.xhr_ && (this.active_ && (this.active_ = !1, this.inAbort_ = !0, this.xhr_.abort(), this.inAbort_ = !1), this.cleanUpXhr_(!0));\n  goog.net.XhrIo.superClass_.disposeInternal.call(this);\n};\ngoog.net.XhrIo.prototype.onReadyStateChange_ = function() {\n  if (!this.isDisposed()) {\n    if (this.inOpen_ || this.inSend_ || this.inAbort_) {\n      this.onReadyStateChangeHelper_();\n    } else {\n      this.onReadyStateChangeEntryPoint_();\n    }\n  }\n};\ngoog.net.XhrIo.prototype.onReadyStateChangeEntryPoint_ = function() {\n  this.onReadyStateChangeHelper_();\n};\ngoog.net.XhrIo.prototype.onReadyStateChangeHelper_ = function() {\n  if (this.active_ && \"undefined\" != typeof goog) {\n    if (this.xhrOptions_[goog.net.XmlHttp.OptionType.LOCAL_REQUEST_ERROR] && this.getReadyState() == goog.net.XmlHttp.ReadyState.COMPLETE && 2 == this.getStatus()) {\n      goog.log.fine(this.logger_, this.formatMsg_(\"Local request error detected and ignored\"));\n    } else {\n      if (this.inSend_ && this.getReadyState() == goog.net.XmlHttp.ReadyState.COMPLETE) {\n        goog.Timer.callOnce(this.onReadyStateChange_, 0, this);\n      } else {\n        if (this.dispatchEvent(goog.net.EventType.READY_STATE_CHANGE), this.isComplete()) {\n          goog.log.fine(this.logger_, this.formatMsg_(\"Request complete\"));\n          this.active_ = !1;\n          try {\n            this.isSuccess() ? (this.dispatchEvent(goog.net.EventType.COMPLETE), this.dispatchEvent(goog.net.EventType.SUCCESS)) : (this.lastErrorCode_ = goog.net.ErrorCode.HTTP_ERROR, this.lastError_ = this.getStatusText() + \" [\" + this.getStatus() + \"]\", this.dispatchErrors_());\n          } finally {\n            this.cleanUpXhr_();\n          }\n        }\n      }\n    }\n  }\n};\ngoog.net.XhrIo.prototype.onProgressHandler_ = function(e, opt_isDownload) {\n  goog.asserts.assert(e.type === goog.net.EventType.PROGRESS, \"goog.net.EventType.PROGRESS is of the same type as raw XHR progress.\");\n  this.dispatchEvent(goog.net.XhrIo.buildProgressEvent_(e, goog.net.EventType.PROGRESS));\n  this.dispatchEvent(goog.net.XhrIo.buildProgressEvent_(e, opt_isDownload ? goog.net.EventType.DOWNLOAD_PROGRESS : goog.net.EventType.UPLOAD_PROGRESS));\n};\ngoog.net.XhrIo.buildProgressEvent_ = function(e, eventType) {\n  return {type:eventType, lengthComputable:e.lengthComputable, loaded:e.loaded, total:e.total,};\n};\ngoog.net.XhrIo.prototype.cleanUpXhr_ = function(opt_fromDispose) {\n  if (this.xhr_) {\n    this.cleanUpTimeoutTimer_();\n    var xhr = this.xhr_, clearedOnReadyStateChange = this.xhrOptions_[goog.net.XmlHttp.OptionType.USE_NULL_FUNCTION] ? function() {\n    } : null;\n    this.xhrOptions_ = this.xhr_ = null;\n    opt_fromDispose || this.dispatchEvent(goog.net.EventType.READY);\n    try {\n      xhr.onreadystatechange = clearedOnReadyStateChange;\n    } catch (e) {\n      goog.log.error(this.logger_, \"Problem encountered resetting onreadystatechange: \" + e.message);\n    }\n  }\n};\ngoog.net.XhrIo.prototype.cleanUpTimeoutTimer_ = function() {\n  this.xhr_ && this.useXhr2Timeout_ && (this.xhr_[goog.net.XhrIo.XHR2_ON_TIMEOUT_] = null);\n  this.timeoutId_ && (goog.Timer.clear(this.timeoutId_), this.timeoutId_ = null);\n};\ngoog.net.XhrIo.prototype.isActive = function() {\n  return !!this.xhr_;\n};\ngoog.net.XhrIo.prototype.isComplete = function() {\n  return this.getReadyState() == goog.net.XmlHttp.ReadyState.COMPLETE;\n};\ngoog.net.XhrIo.prototype.isSuccess = function() {\n  var status = this.getStatus();\n  return goog.net.HttpStatus.isSuccess(status) || 0 === status && !this.isLastUriEffectiveSchemeHttp_();\n};\ngoog.net.XhrIo.prototype.isLastUriEffectiveSchemeHttp_ = function() {\n  var scheme = goog.uri.utils.getEffectiveScheme(String(this.lastUri_));\n  return goog.net.XhrIo.HTTP_SCHEME_PATTERN.test(scheme);\n};\ngoog.net.XhrIo.prototype.getReadyState = function() {\n  return this.xhr_ ? this.xhr_.readyState : goog.net.XmlHttp.ReadyState.UNINITIALIZED;\n};\ngoog.net.XhrIo.prototype.getStatus = function() {\n  try {\n    return this.getReadyState() > goog.net.XmlHttp.ReadyState.LOADED ? this.xhr_.status : -1;\n  } catch (e) {\n    return -1;\n  }\n};\ngoog.net.XhrIo.prototype.getStatusText = function() {\n  try {\n    return this.getReadyState() > goog.net.XmlHttp.ReadyState.LOADED ? this.xhr_.statusText : \"\";\n  } catch (e) {\n    return goog.log.fine(this.logger_, \"Can not get status: \" + e.message), \"\";\n  }\n};\ngoog.net.XhrIo.prototype.getLastUri = function() {\n  return String(this.lastUri_);\n};\ngoog.net.XhrIo.prototype.getResponseText = function() {\n  try {\n    return this.xhr_ ? this.xhr_.responseText : \"\";\n  } catch (e) {\n    return goog.log.fine(this.logger_, \"Can not get responseText: \" + e.message), \"\";\n  }\n};\ngoog.net.XhrIo.prototype.getResponseBody = function() {\n  try {\n    if (this.xhr_ && \"responseBody\" in this.xhr_) {\n      return this.xhr_.responseBody;\n    }\n  } catch (e) {\n    goog.log.fine(this.logger_, \"Can not get responseBody: \" + e.message);\n  }\n  return null;\n};\ngoog.net.XhrIo.prototype.getResponseXml = function() {\n  try {\n    return this.xhr_ ? this.xhr_.responseXML : null;\n  } catch (e) {\n    return goog.log.fine(this.logger_, \"Can not get responseXML: \" + e.message), null;\n  }\n};\ngoog.net.XhrIo.prototype.getResponseJson = function(opt_xssiPrefix) {\n  if (this.xhr_) {\n    var responseText = this.xhr_.responseText;\n    opt_xssiPrefix && 0 == responseText.indexOf(opt_xssiPrefix) && (responseText = responseText.substring(opt_xssiPrefix.length));\n    return goog.json.hybrid.parse(responseText);\n  }\n};\ngoog.net.XhrIo.prototype.getResponse = function() {\n  try {\n    if (!this.xhr_) {\n      return null;\n    }\n    if (\"response\" in this.xhr_) {\n      return this.xhr_.response;\n    }\n    switch(this.responseType_) {\n      case goog.net.XhrIo.ResponseType.DEFAULT:\n      case goog.net.XhrIo.ResponseType.TEXT:\n        return this.xhr_.responseText;\n      case goog.net.XhrIo.ResponseType.ARRAY_BUFFER:\n        if (\"mozResponseArrayBuffer\" in this.xhr_) {\n          return this.xhr_.mozResponseArrayBuffer;\n        }\n    }\n    goog.log.error(this.logger_, \"Response type \" + this.responseType_ + \" is not supported on this browser\");\n    return null;\n  } catch (e) {\n    return goog.log.fine(this.logger_, \"Can not get response: \" + e.message), null;\n  }\n};\ngoog.net.XhrIo.prototype.getResponseHeader = function(key) {\n  if (this.xhr_ && this.isComplete()) {\n    var value = this.xhr_.getResponseHeader(key);\n    return null === value ? void 0 : value;\n  }\n};\ngoog.net.XhrIo.prototype.getAllResponseHeaders = function() {\n  return this.xhr_ && this.getReadyState() >= goog.net.XmlHttp.ReadyState.LOADED ? this.xhr_.getAllResponseHeaders() || \"\" : \"\";\n};\ngoog.net.XhrIo.prototype.getResponseHeaders = function() {\n  for (var headersObject = {}, headersArray = this.getAllResponseHeaders().split(\"\\r\\n\"), i = 0; i < headersArray.length; i++) {\n    if (!goog.string.isEmptyOrWhitespace(headersArray[i])) {\n      var keyValue = goog.string.splitLimit(headersArray[i], \":\", 1), key = keyValue[0], value = keyValue[1];\n      if (\"string\" === typeof value) {\n        value = value.trim();\n        var values$jscomp$0 = headersObject[key] || [];\n        headersObject[key] = values$jscomp$0;\n        values$jscomp$0.push(value);\n      }\n    }\n  }\n  return module$contents$goog$object_map(headersObject, function(values) {\n    return values.join(\", \");\n  });\n};\ngoog.net.XhrIo.prototype.getStreamingResponseHeader = function(key) {\n  return this.xhr_ ? this.xhr_.getResponseHeader(key) : null;\n};\ngoog.net.XhrIo.prototype.getAllStreamingResponseHeaders = function() {\n  return this.xhr_ ? this.xhr_.getAllResponseHeaders() : \"\";\n};\ngoog.net.XhrIo.prototype.getLastErrorCode = function() {\n  return this.lastErrorCode_;\n};\ngoog.net.XhrIo.prototype.getLastError = function() {\n  return \"string\" === typeof this.lastError_ ? this.lastError_ : String(this.lastError_);\n};\ngoog.net.XhrIo.prototype.formatMsg_ = function(msg) {\n  return msg + \" [\" + this.lastMethod_ + \" \" + this.lastUri_ + \" \" + this.getStatus() + \"]\";\n};\ngoog.debug.entryPointRegistry.register(function(transformer) {\n  goog.net.XhrIo.prototype.onReadyStateChangeEntryPoint_ = transformer(goog.net.XhrIo.prototype.onReadyStateChangeEntryPoint_);\n});\nee.apiclient = {};\nvar module$contents$ee$apiclient_apiclient = {};\nee.apiclient.VERSION = module$exports$ee$apiVersion.V1ALPHA;\nee.apiclient.API_CLIENT_VERSION = \"0.1.336\";\nee.apiclient.NULL_VALUE = module$exports$eeapiclient$domain_object.NULL_VALUE;\nee.apiclient.PromiseRequestService = module$exports$eeapiclient$promise_request_service.PromiseRequestService;\nee.apiclient.MakeRequestParams = module$contents$eeapiclient$request_params_MakeRequestParams;\nee.apiclient.deserialize = module$contents$eeapiclient$domain_object_deserialize;\nee.apiclient.serialize = module$contents$eeapiclient$domain_object_serialize;\nvar module$contents$ee$apiclient_Call = function(callback, retries) {\n  module$contents$ee$apiclient_apiclient.initialize();\n  this.callback = callback;\n  this.requestService = new module$contents$ee$apiclient_EERequestService(!callback, retries);\n};\nmodule$contents$ee$apiclient_Call.prototype.handle = function(response) {\n  var $jscomp$this = this;\n  if (response instanceof Promise) {\n    if (this.callback) {\n      var callback = function(result, error) {\n        try {\n          return $jscomp$this.callback(result, error);\n        } catch (callbackError) {\n          setTimeout(function() {\n            throw callbackError;\n          }, 0);\n        }\n      };\n      response.then(callback, function(error) {\n        return callback(void 0, error);\n      });\n    }\n  } else {\n    response.then(function(result) {\n      response = result;\n    });\n  }\n  return response;\n};\nmodule$contents$ee$apiclient_Call.prototype.projectsPath = function() {\n  return \"projects/\" + module$contents$ee$apiclient_apiclient.getProject();\n};\nmodule$contents$ee$apiclient_Call.prototype.algorithms = function() {\n  return new module$exports$eeapiclient$ee_api_client.ProjectsAlgorithmsApiClientImpl(module$exports$ee$apiVersion.V1ALPHA, this.requestService);\n};\nmodule$contents$ee$apiclient_Call.prototype.projects = function() {\n  return new module$exports$eeapiclient$ee_api_client.ProjectsApiClientImpl(module$exports$ee$apiVersion.V1ALPHA, this.requestService);\n};\nmodule$contents$ee$apiclient_Call.prototype.assets = function() {\n  return new module$exports$eeapiclient$ee_api_client.ProjectsAssetsApiClientImpl(module$exports$ee$apiVersion.V1ALPHA, this.requestService);\n};\nmodule$contents$ee$apiclient_Call.prototype.operations = function() {\n  return new module$exports$eeapiclient$ee_api_client.ProjectsOperationsApiClientImpl(module$exports$ee$apiVersion.V1ALPHA, this.requestService);\n};\nmodule$contents$ee$apiclient_Call.prototype.value = function() {\n  return new module$exports$eeapiclient$ee_api_client.ProjectsValueApiClientImpl(module$exports$ee$apiVersion.V1ALPHA, this.requestService);\n};\nmodule$contents$ee$apiclient_Call.prototype.maps = function() {\n  return new module$exports$eeapiclient$ee_api_client.ProjectsMapsApiClientImpl(module$exports$ee$apiVersion.V1ALPHA, this.requestService);\n};\nmodule$contents$ee$apiclient_Call.prototype.map = function() {\n  return new module$exports$eeapiclient$ee_api_client.ProjectsMapApiClientImpl(module$exports$ee$apiVersion.V1ALPHA, this.requestService);\n};\nmodule$contents$ee$apiclient_Call.prototype.image = function() {\n  return new module$exports$eeapiclient$ee_api_client.ProjectsImageApiClientImpl(module$exports$ee$apiVersion.V1ALPHA, this.requestService);\n};\nmodule$contents$ee$apiclient_Call.prototype.table = function() {\n  return new module$exports$eeapiclient$ee_api_client.ProjectsTableApiClientImpl(module$exports$ee$apiVersion.V1ALPHA, this.requestService);\n};\nmodule$contents$ee$apiclient_Call.prototype.tables = function() {\n  return new module$exports$eeapiclient$ee_api_client.ProjectsTablesApiClientImpl(module$exports$ee$apiVersion.V1ALPHA, this.requestService);\n};\nmodule$contents$ee$apiclient_Call.prototype.video = function() {\n  return new module$exports$eeapiclient$ee_api_client.ProjectsVideoApiClientImpl(module$exports$ee$apiVersion.V1ALPHA, this.requestService);\n};\nmodule$contents$ee$apiclient_Call.prototype.videoMap = function() {\n  return new module$exports$eeapiclient$ee_api_client.ProjectsVideoMapApiClientImpl(module$exports$ee$apiVersion.V1ALPHA, this.requestService);\n};\nmodule$contents$ee$apiclient_Call.prototype.classifier = function() {\n  return new module$exports$eeapiclient$ee_api_client.ProjectsClassifierApiClientImpl(module$exports$ee$apiVersion.V1ALPHA, this.requestService);\n};\nmodule$contents$ee$apiclient_Call.prototype.featureView = function() {\n  return new module$exports$eeapiclient$ee_api_client.ProjectsFeatureViewApiClientImpl(module$exports$ee$apiVersion.V1ALPHA, this.requestService);\n};\nmodule$contents$ee$apiclient_Call.prototype.thumbnails = function() {\n  return new module$exports$eeapiclient$ee_api_client.ProjectsThumbnailsApiClientImpl(module$exports$ee$apiVersion.V1ALPHA, this.requestService);\n};\nmodule$contents$ee$apiclient_Call.prototype.videoThumbnails = function() {\n  return new module$exports$eeapiclient$ee_api_client.ProjectsVideoThumbnailsApiClientImpl(module$exports$ee$apiVersion.V1ALPHA, this.requestService);\n};\nmodule$contents$ee$apiclient_Call.prototype.filmstripThumbnails = function() {\n  return new module$exports$eeapiclient$ee_api_client.ProjectsFilmstripThumbnailsApiClientImpl(module$exports$ee$apiVersion.V1ALPHA, this.requestService);\n};\nvar module$contents$ee$apiclient_EERequestService = function(sync, retries) {\n  this.sync = sync = void 0 === sync ? !1 : sync;\n  this.retries = null != retries ? retries : sync ? module$contents$ee$apiclient_apiclient.MAX_SYNC_RETRIES_ : module$contents$ee$apiclient_apiclient.MAX_ASYNC_RETRIES_;\n};\n$jscomp.inherits(module$contents$ee$apiclient_EERequestService, module$exports$eeapiclient$promise_request_service.PromiseRequestService);\nmodule$contents$ee$apiclient_EERequestService.prototype.send = function(params, responseCtor) {\n  var $jscomp$this = this;\n  module$contents$eeapiclient$request_params_processParams(params);\n  var path = params.path || \"\", url = module$contents$ee$apiclient_apiclient.getSafeApiUrl() + path, args = module$contents$ee$apiclient_apiclient.makeRequest_(params.queryParams || {}), body = params.body ? JSON.stringify(params.body) : void 0;\n  if (this.sync) {\n    var raw = module$contents$ee$apiclient_apiclient.send(url, args, void 0, params.httpMethod, body, this.retries), value$62 = responseCtor ? module$contents$eeapiclient$domain_object_deserialize(responseCtor, raw) : raw, thenable = function(v) {\n      return {then:function(f) {\n        return thenable(f(v));\n      }};\n    };\n    return thenable(value$62);\n  }\n  return (new Promise(function(resolve, reject) {\n    module$contents$ee$apiclient_apiclient.send(url, args, function(value, error) {\n      error ? reject(error) : resolve(value);\n    }, params.httpMethod, body, $jscomp$this.retries);\n  })).then(function(r) {\n    return responseCtor ? module$contents$eeapiclient$domain_object_deserialize(responseCtor, r) : r;\n  });\n};\nmodule$contents$ee$apiclient_EERequestService.prototype.makeRequest = function(params) {\n};\nvar module$contents$ee$apiclient_BatchCall = function(callback) {\n  module$contents$ee$apiclient_Call.call(this, callback);\n  this.requestService = new module$contents$ee$apiclient_BatchRequestService();\n};\n$jscomp.inherits(module$contents$ee$apiclient_BatchCall, module$contents$ee$apiclient_Call);\nmodule$contents$ee$apiclient_BatchCall.prototype.send = function(parts, getResponse) {\n  var $jscomp$this = this, batchUrl = module$contents$ee$apiclient_apiclient.getSafeApiUrl() + \"/batch\", body = parts.map(function($jscomp$destructuring$var32) {\n    var $jscomp$destructuring$var33 = $jscomp.makeIterator($jscomp$destructuring$var32), id = $jscomp$destructuring$var33.next().value, $jscomp$destructuring$var34 = $jscomp.makeIterator($jscomp$destructuring$var33.next().value), partBody = $jscomp$destructuring$var34.next().value, ctor = $jscomp$destructuring$var34.next().value;\n    return \"--batch_EARTHENGINE_batch\\r\\nContent-Type: application/http\\r\\nContent-Transfer-Encoding: binary\\r\\nMIME-Version: 1.0\\r\\nContent-ID: <\" + id + \">\\r\\n\\r\\n\" + partBody + \"\\r\\n\";\n  }).join(\"\") + \"--batch_EARTHENGINE_batch--\\r\\n\", deserializeResponses = function(response) {\n    var result = {};\n    parts.forEach(function($jscomp$destructuring$var35) {\n      var $jscomp$destructuring$var36 = $jscomp.makeIterator($jscomp$destructuring$var35), id = $jscomp$destructuring$var36.next().value, $jscomp$destructuring$var37 = $jscomp.makeIterator($jscomp$destructuring$var36.next().value), partBody = $jscomp$destructuring$var37.next().value, ctor = $jscomp$destructuring$var37.next().value;\n      null != response[id] && (result[id] = module$contents$eeapiclient$domain_object_deserialize(ctor, response[id]));\n    });\n    return getResponse ? getResponse(result) : result;\n  };\n  return this.callback ? (module$contents$ee$apiclient_apiclient.send(batchUrl, null, function(result, err) {\n    return $jscomp$this.callback(err ? result : deserializeResponses(result), err);\n  }, \"multipart/mixed; boundary=batch_EARTHENGINE_batch\", body), null) : deserializeResponses(module$contents$ee$apiclient_apiclient.send(batchUrl, null, void 0, \"multipart/mixed; boundary=batch_EARTHENGINE_batch\", body));\n};\nvar module$contents$ee$apiclient_BatchRequestService = function() {\n};\n$jscomp.inherits(module$contents$ee$apiclient_BatchRequestService, module$exports$eeapiclient$promise_request_service.PromiseRequestService);\nmodule$contents$ee$apiclient_BatchRequestService.prototype.send = function(params, responseCtor) {\n  var request = [params.httpMethod + \" \" + params.path + \" HTTP/1.1\"];\n  request.push(\"Content-Type: application/json; charset=utf-8\");\n  var authToken = module$contents$ee$apiclient_apiclient.getAuthToken();\n  null != authToken && request.push(\"Authorization: \" + authToken);\n  var body = params.body ? JSON.stringify(params.body) : \"\";\n  return [request.join(\"\\r\\n\") + \"\\r\\n\\r\\n\" + body, responseCtor];\n};\nmodule$contents$ee$apiclient_BatchRequestService.prototype.makeRequest = function(params) {\n};\nmodule$contents$ee$apiclient_apiclient.parseBatchReply = function(contentType, responseText, handle) {\n  for (var boundary = contentType.split(\"; boundary=\")[1], $jscomp$iter$26 = $jscomp.makeIterator(responseText.split(\"--\" + boundary)), $jscomp$key$part = $jscomp$iter$26.next(); !$jscomp$key$part.done; $jscomp$key$part = $jscomp$iter$26.next()) {\n    var groups = $jscomp$key$part.value.split(\"\\r\\n\\r\\n\");\n    if (!(3 > groups.length)) {\n      var id = groups[0].match(/\\r\\nContent-ID: <response-([^>]*)>/)[1], status = Number(groups[1].match(/^HTTP\\S*\\s(\\d+)\\s/)[1]), text = groups.slice(2).join(\"\\r\\n\\r\\n\");\n      handle(id, status, text);\n    }\n  }\n};\nmodule$contents$ee$apiclient_apiclient.setApiKey = function(apiKey) {\n  module$contents$ee$apiclient_apiclient.cloudApiKey_ = apiKey;\n};\nmodule$contents$ee$apiclient_apiclient.getApiKey = function() {\n  return module$contents$ee$apiclient_apiclient.cloudApiKey_;\n};\nmodule$contents$ee$apiclient_apiclient.DEFAULT_PROJECT_ = \"earthengine-legacy\";\nmodule$contents$ee$apiclient_apiclient.setProject = function(project) {\n  module$contents$ee$apiclient_apiclient.project_ = project;\n};\nmodule$contents$ee$apiclient_apiclient.getProject = function() {\n  return module$contents$ee$apiclient_apiclient.project_;\n};\nmodule$contents$ee$apiclient_apiclient.getSafeApiUrl = function() {\n  var url = module$contents$ee$apiclient_apiclient.apiBaseUrl_.replace(/\\/api$/, \"\");\n  return \"window\" in goog.global && !url.match(/^https?:\\/\\/content-/) ? url.replace(/^(https?:\\/\\/)(.*\\.googleapis\\.com)$/, \"$1content-$2\") : url;\n};\nmodule$contents$ee$apiclient_apiclient.mergeAuthScopes_ = function(includeDefaultScopes, includeStorageScope, extraScopes) {\n  var scopes = [];\n  includeDefaultScopes && (scopes = scopes.concat(module$contents$ee$apiclient_apiclient.DEFAULT_AUTH_SCOPES_));\n  includeStorageScope && scopes.push(module$contents$ee$apiclient_apiclient.STORAGE_SCOPE_);\n  scopes = scopes.concat(extraScopes);\n  module$contents$goog$array_removeDuplicates(scopes);\n  return scopes;\n};\nmodule$contents$ee$apiclient_apiclient.setAuthToken = function(clientId, tokenType, accessToken, expiresIn, extraScopes, callback, updateAuthLibrary, suppressDefaultScopes) {\n  var scopes = module$contents$ee$apiclient_apiclient.mergeAuthScopes_(!suppressDefaultScopes, !1, extraScopes || []);\n  module$contents$ee$apiclient_apiclient.authClientId_ = clientId;\n  module$contents$ee$apiclient_apiclient.authScopes_ = scopes;\n  var tokenObject = {token_type:tokenType, access_token:accessToken, state:scopes.join(\" \"), expires_in:expiresIn};\n  module$contents$ee$apiclient_apiclient.handleAuthResult_(void 0, void 0, tokenObject);\n  !1 === updateAuthLibrary ? callback && callback() : module$contents$ee$apiclient_apiclient.ensureAuthLibLoaded_(function() {\n    goog.global.gapi.auth.setToken(tokenObject);\n    callback && callback();\n  });\n};\nmodule$contents$ee$apiclient_apiclient.refreshAuthToken = function(success, error, onImmediateFailed) {\n  if (module$contents$ee$apiclient_apiclient.isAuthTokenRefreshingEnabled_()) {\n    var authArgs = {client_id:String(module$contents$ee$apiclient_apiclient.authClientId_), immediate:!0, scope:module$contents$ee$apiclient_apiclient.authScopes_.join(\" \")};\n    module$contents$ee$apiclient_apiclient.authTokenRefresher_(authArgs, function(result) {\n      if (\"immediate_failed\" == result.error && onImmediateFailed) {\n        onImmediateFailed();\n      } else {\n        if (\"window\" in goog.global) {\n          try {\n            module$contents$ee$apiclient_apiclient.ensureAuthLibLoaded_(function() {\n              try {\n                goog.global.gapi.auth.setToken(result), module$contents$ee$apiclient_apiclient.handleAuthResult_(success, error, result);\n              } catch (e) {\n                error(e.toString());\n              }\n            });\n          } catch (e) {\n            error(e.toString());\n          }\n        } else {\n          module$contents$ee$apiclient_apiclient.handleAuthResult_(success, error, result);\n        }\n      }\n    });\n  }\n};\nmodule$contents$ee$apiclient_apiclient.setAuthTokenRefresher = function(refresher) {\n  module$contents$ee$apiclient_apiclient.authTokenRefresher_ = refresher;\n};\nmodule$contents$ee$apiclient_apiclient.getAuthToken = function() {\n  module$contents$ee$apiclient_apiclient.authTokenExpiration_ && 0 <= Date.now() - module$contents$ee$apiclient_apiclient.authTokenExpiration_ && module$contents$ee$apiclient_apiclient.clearAuthToken();\n  return module$contents$ee$apiclient_apiclient.authToken_;\n};\nmodule$contents$ee$apiclient_apiclient.clearAuthToken = function() {\n  module$contents$ee$apiclient_apiclient.authToken_ = null;\n  module$contents$ee$apiclient_apiclient.authTokenExpiration_ = null;\n};\nmodule$contents$ee$apiclient_apiclient.getAuthClientId = function() {\n  return module$contents$ee$apiclient_apiclient.authClientId_;\n};\nmodule$contents$ee$apiclient_apiclient.getAuthScopes = function() {\n  return module$contents$ee$apiclient_apiclient.authScopes_;\n};\nmodule$contents$ee$apiclient_apiclient.setAuthClient = function(clientId, scopes) {\n  module$contents$ee$apiclient_apiclient.authClientId_ = clientId;\n  module$contents$ee$apiclient_apiclient.authScopes_ = scopes;\n};\nmodule$contents$ee$apiclient_apiclient.setAppIdToken = function(token) {\n  module$contents$ee$apiclient_apiclient.appIdToken_ = token;\n};\nmodule$contents$ee$apiclient_apiclient.initialize = function(apiBaseUrl, tileBaseUrl, xsrfToken, project) {\n  null != apiBaseUrl ? module$contents$ee$apiclient_apiclient.apiBaseUrl_ = apiBaseUrl : module$contents$ee$apiclient_apiclient.initialized_ || (module$contents$ee$apiclient_apiclient.apiBaseUrl_ = module$contents$ee$apiclient_apiclient.DEFAULT_API_BASE_URL_);\n  null != tileBaseUrl ? module$contents$ee$apiclient_apiclient.tileBaseUrl_ = tileBaseUrl : module$contents$ee$apiclient_apiclient.initialized_ || (module$contents$ee$apiclient_apiclient.tileBaseUrl_ = module$contents$ee$apiclient_apiclient.DEFAULT_TILE_BASE_URL_);\n  void 0 !== xsrfToken && (module$contents$ee$apiclient_apiclient.xsrfToken_ = xsrfToken);\n  null != project ? module$contents$ee$apiclient_apiclient.setProject(project) : module$contents$ee$apiclient_apiclient.setProject(module$contents$ee$apiclient_apiclient.getProject() || module$contents$ee$apiclient_apiclient.DEFAULT_PROJECT_);\n  module$contents$ee$apiclient_apiclient.initialized_ = !0;\n};\nmodule$contents$ee$apiclient_apiclient.reset = function() {\n  module$contents$ee$apiclient_apiclient.apiBaseUrl_ = null;\n  module$contents$ee$apiclient_apiclient.tileBaseUrl_ = null;\n  module$contents$ee$apiclient_apiclient.xsrfToken_ = null;\n  module$contents$ee$apiclient_apiclient.initialized_ = !1;\n};\nmodule$contents$ee$apiclient_apiclient.setDeadline = function(milliseconds) {\n  module$contents$ee$apiclient_apiclient.deadlineMs_ = milliseconds;\n};\nmodule$contents$ee$apiclient_apiclient.setParamAugmenter = function(augmenter) {\n  module$contents$ee$apiclient_apiclient.paramAugmenter_ = augmenter || goog.functions.identity;\n};\nmodule$contents$ee$apiclient_apiclient.getApiBaseUrl = function() {\n  return module$contents$ee$apiclient_apiclient.apiBaseUrl_;\n};\nmodule$contents$ee$apiclient_apiclient.getTileBaseUrl = function() {\n  return module$contents$ee$apiclient_apiclient.tileBaseUrl_;\n};\nmodule$contents$ee$apiclient_apiclient.getXsrfToken = function() {\n  return module$contents$ee$apiclient_apiclient.xsrfToken_;\n};\nmodule$contents$ee$apiclient_apiclient.isInitialized = function() {\n  return module$contents$ee$apiclient_apiclient.initialized_;\n};\nmodule$contents$ee$apiclient_apiclient.send = function(path, params, callback, method, body, retries) {\n  module$contents$ee$apiclient_apiclient.initialize();\n  var profileHookAtCallTime = module$contents$ee$apiclient_apiclient.profileHook_, contentType = \"application/x-www-form-urlencoded\";\n  body && (contentType = \"application/json\", method && method.startsWith(\"multipart\") && (contentType = method, method = \"POST\"));\n  method = method || \"POST\";\n  var headers = {\"Content-Type\":contentType,}, version = \"0.1.336\";\n  \"0.1.336\" === version && (version = \"latest\");\n  headers[module$contents$ee$apiclient_apiclient.API_CLIENT_VERSION_HEADER] = \"ee-js/\" + version;\n  var authToken = module$contents$ee$apiclient_apiclient.getAuthToken();\n  if (null != authToken) {\n    headers.Authorization = authToken;\n  } else if (callback && module$contents$ee$apiclient_apiclient.isAuthTokenRefreshingEnabled_()) {\n    return module$contents$ee$apiclient_apiclient.refreshAuthToken(function() {\n      module$contents$ee$apiclient_apiclient.withProfiling(profileHookAtCallTime, function() {\n        module$contents$ee$apiclient_apiclient.send(path, params, callback, method);\n      });\n    }), null;\n  }\n  params = params ? params.clone() : new goog.Uri.QueryData();\n  null != module$contents$ee$apiclient_apiclient.cloudApiKey_ && params.add(\"key\", module$contents$ee$apiclient_apiclient.cloudApiKey_);\n  profileHookAtCallTime && (headers[module$contents$ee$apiclient_apiclient.PROFILE_REQUEST_HEADER] = \"1\");\n  module$contents$ee$apiclient_apiclient.getProject() && module$contents$ee$apiclient_apiclient.getProject() !== module$contents$ee$apiclient_apiclient.DEFAULT_PROJECT_ && (headers[module$contents$ee$apiclient_apiclient.USER_PROJECT_OVERRIDE_HEADER_] = module$contents$ee$apiclient_apiclient.getProject());\n  params = module$contents$ee$apiclient_apiclient.paramAugmenter_(params, path);\n  null != module$contents$ee$apiclient_apiclient.xsrfToken_ && (headers[\"X-XSRF-Token\"] = module$contents$ee$apiclient_apiclient.xsrfToken_);\n  null != module$contents$ee$apiclient_apiclient.appIdToken_ && (headers[module$contents$ee$apiclient_apiclient.APP_ID_TOKEN_HEADER_] = module$contents$ee$apiclient_apiclient.appIdToken_);\n  var requestData = body || null, paramString = params ? params.toString() : \"\";\n  \"POST\" === method && void 0 === body ? requestData = paramString : goog.string.isEmptyOrWhitespace(paramString) || (path += goog.string.contains(path, \"?\") ? \"&\" : \"?\", path += paramString);\n  var url = path.startsWith(\"/\") ? module$contents$ee$apiclient_apiclient.apiBaseUrl_ + path : path;\n  if (callback) {\n    return module$contents$ee$apiclient_apiclient.requestQueue_.push(module$contents$ee$apiclient_apiclient.buildAsyncRequest_(url, callback, method, requestData, headers, retries)), module$contents$ee$apiclient_apiclient.RequestThrottle_.fire(), null;\n  }\n  for (var setRequestHeader = function(value, key) {\n    this.setRequestHeader && this.setRequestHeader(key, value);\n  }, xmlHttp, retryCount = 0, maxRetries = null != retries ? retries : module$contents$ee$apiclient_apiclient.MAX_SYNC_RETRIES_;;) {\n    xmlHttp = (0,goog.net.XmlHttp)();\n    xmlHttp.open(method, url, !1);\n    module$contents$goog$object_forEach(headers, setRequestHeader, xmlHttp);\n    xmlHttp.send(requestData);\n    if (429 != xmlHttp.status || retryCount > maxRetries) {\n      break;\n    }\n    retryCount++;\n  }\n  return module$contents$ee$apiclient_apiclient.handleResponse_(xmlHttp.status, function getResponseHeaderSafe(header) {\n    try {\n      return xmlHttp.getResponseHeader(header);\n    } catch (e) {\n      return null;\n    }\n  }, xmlHttp.responseText, profileHookAtCallTime, void 0, url, method);\n};\nmodule$contents$ee$apiclient_apiclient.buildAsyncRequest_ = function(url, callback, method, content, headers, retries) {\n  var retryCount = 0, request = {url:url, method:method, content:content, headers:headers}, profileHookAtCallTime = module$contents$ee$apiclient_apiclient.profileHook_, maxRetries = null != retries ? retries : module$contents$ee$apiclient_apiclient.MAX_ASYNC_RETRIES_;\n  request.callback = function(e) {\n    var xhrIo = e.target;\n    return 429 == xhrIo.getStatus() && retryCount < maxRetries ? (retryCount++, setTimeout(function() {\n      module$contents$ee$apiclient_apiclient.requestQueue_.push(request);\n      module$contents$ee$apiclient_apiclient.RequestThrottle_.fire();\n    }, module$contents$ee$apiclient_apiclient.calculateRetryWait_(retryCount)), null) : module$contents$ee$apiclient_apiclient.handleResponse_(xhrIo.getStatus(), goog.bind(xhrIo.getResponseHeader, xhrIo), xhrIo.getResponseText(), profileHookAtCallTime, callback, url, method);\n  };\n  return request;\n};\nmodule$contents$ee$apiclient_apiclient.withProfiling = function(hook, body, thisObject) {\n  var saved = module$contents$ee$apiclient_apiclient.profileHook_;\n  try {\n    return module$contents$ee$apiclient_apiclient.profileHook_ = hook, body.call(thisObject);\n  } finally {\n    module$contents$ee$apiclient_apiclient.profileHook_ = saved;\n  }\n};\nmodule$contents$ee$apiclient_apiclient.handleResponse_ = function(status$jscomp$0, getResponseHeader, responseText, profileHook, callback, url, method) {\n  var profileId = profileHook ? getResponseHeader(module$contents$ee$apiclient_apiclient.PROFILE_HEADER) : \"\";\n  profileId && profileHook && profileHook(profileId);\n  var parseJson = function(body) {\n    try {\n      var response = JSON.parse(body);\n      return goog.isObject(response) && \"error\" in response && \"message\" in response.error ? response.error.message : {parsed:response};\n    } catch (e) {\n      return \"Invalid JSON: \" + body;\n    }\n  }, statusError = function(status) {\n    if (0 === status) {\n      return \"Failed to contact Earth Engine servers. Please check your connection, firewall, or browser extension settings.\";\n    }\n    if (200 > status || 300 <= status) {\n      return \"Server returned HTTP code: \" + status + \" for \" + method + \" \" + url;\n    }\n  }, errorMessage, typeHeader = getResponseHeader(\"Content-Type\") || \"application/json\", contentType = typeHeader.replace(/;.*/, \"\");\n  if (\"application/json\" === contentType || \"text/json\" === contentType) {\n    var response$jscomp$0 = parseJson(responseText);\n    if (response$jscomp$0.parsed) {\n      var data = response$jscomp$0.parsed;\n      void 0 === data && (errorMessage = \"Malformed response: \" + responseText);\n    } else {\n      errorMessage = response$jscomp$0;\n    }\n  } else if (\"multipart/mixed\" === contentType) {\n    data = {};\n    var errors = [];\n    module$contents$ee$apiclient_apiclient.parseBatchReply(typeHeader, responseText, function(id, status, text) {\n      var response = parseJson(text);\n      response.parsed && (data[id] = response.parsed);\n      var error = (response.parsed ? \"\" : response) || statusError(status);\n      error && errors.push(id + \": \" + error);\n    });\n    errors.length && (errorMessage = errors.join(\"\\n\"));\n  } else {\n    var typeError = \"Response was unexpectedly not JSON, but \" + contentType;\n  }\n  errorMessage = errorMessage || statusError(status$jscomp$0) || typeError;\n  if (callback) {\n    return callback(data, errorMessage), null;\n  }\n  if (!errorMessage) {\n    return data;\n  }\n  throw Error(errorMessage);\n};\nmodule$contents$ee$apiclient_apiclient.ensureAuthLibLoaded_ = function(callback) {\n  var done = function() {\n    goog.global.gapi.config.update(\"client/cors\", !0);\n    module$contents$ee$apiclient_apiclient.authTokenRefresher_ || module$contents$ee$apiclient_apiclient.setAuthTokenRefresher(goog.global.gapi.auth.authorize);\n    callback();\n  };\n  if (goog.isObject(goog.global.gapi) && goog.isObject(goog.global.gapi.auth) && \"function\" === typeof goog.global.gapi.auth.authorize) {\n    done();\n  } else {\n    for (var callbackName = Date.now().toString(36); callbackName in goog.global;) {\n      callbackName += \"_\";\n    }\n    goog.global[callbackName] = function() {\n      delete goog.global[callbackName];\n      done();\n    };\n    goog.net.jsloader.safeLoad(goog.html.TrustedResourceUrl.format(module$contents$ee$apiclient_apiclient.AUTH_LIBRARY_URL_, {onload:callbackName}));\n  }\n};\nmodule$contents$ee$apiclient_apiclient.handleAuthResult_ = function(success, error, result) {\n  if (result.access_token) {\n    var token = result.token_type + \" \" + result.access_token;\n    if (result.expires_in || 0 === result.expires_in) {\n      var expiresInMs = 900 * result.expires_in, timeout = setTimeout(module$contents$ee$apiclient_apiclient.refreshAuthToken, .9 * expiresInMs);\n      void 0 !== timeout.unref && timeout.unref();\n      module$contents$ee$apiclient_apiclient.authTokenExpiration_ = Date.now() + expiresInMs;\n    }\n    module$contents$ee$apiclient_apiclient.authToken_ = token;\n    success && success();\n  } else {\n    error && error(result.error || \"Unknown error.\");\n  }\n};\nmodule$contents$ee$apiclient_apiclient.makeRequest_ = function(params) {\n  for (var request = new goog.Uri.QueryData(), $jscomp$iter$27 = $jscomp.makeIterator(Object.entries(params)), $jscomp$key$ = $jscomp$iter$27.next(); !$jscomp$key$.done; $jscomp$key$ = $jscomp$iter$27.next()) {\n    var $jscomp$destructuring$var39 = $jscomp.makeIterator($jscomp$key$.value), name = $jscomp$destructuring$var39.next().value, item = $jscomp$destructuring$var39.next().value;\n    request.set(name, item);\n  }\n  return request;\n};\nmodule$contents$ee$apiclient_apiclient.setupMockSend = function(calls) {\n  function getResponse(url, method, data) {\n    url = url.replace(apiBaseUrl, \"\").replace(module$exports$ee$apiVersion.V1ALPHA + \"/projects/\" + module$contents$ee$apiclient_apiclient.DEFAULT_PROJECT_ + \"/\", \"\");\n    if (url in calls) {\n      var response = calls[url];\n    } else {\n      throw Error(url + \" mock response not specified\");\n    }\n    \"function\" === typeof response && (response = response(url, method, data));\n    \"string\" === typeof response && (response = {text:response, status:200, contentType:\"application/json; charset=utf-8\"});\n    if (\"string\" !== typeof response.text) {\n      throw Error(url + \" mock response missing/invalid text\");\n    }\n    if (\"number\" !== typeof response.status && \"function\" !== typeof response.status) {\n      throw Error(url + \" mock response missing/invalid status\");\n    }\n    return response;\n  }\n  calls = calls ? module$contents$goog$object_clone(calls) : {};\n  var apiBaseUrl;\n  goog.net.XhrIo.send = function(url, callback, method, data) {\n    apiBaseUrl = apiBaseUrl || module$contents$ee$apiclient_apiclient.apiBaseUrl_;\n    var responseData = getResponse(url, method, data), e = new function() {\n      this.target = {};\n    }();\n    e.target.getResponseText = function() {\n      return responseData.text;\n    };\n    e.target.getStatus = \"function\" === typeof responseData.status ? responseData.status : function() {\n      return responseData.status;\n    };\n    e.target.getResponseHeader = function(header) {\n      return \"Content-Type\" === header ? responseData.contentType : null;\n    };\n    setTimeout(goog.bind(callback, e, e), 0);\n    return new goog.net.XhrIo();\n  };\n  var fakeXmlHttp = function() {\n  };\n  fakeXmlHttp.prototype.open = function(method, urlIn) {\n    apiBaseUrl = apiBaseUrl || module$contents$ee$apiclient_apiclient.apiBaseUrl_;\n    this.url = urlIn;\n    this.method = method;\n  };\n  fakeXmlHttp.prototype.setRequestHeader = function() {\n  };\n  fakeXmlHttp.prototype.getResponseHeader = function(header) {\n    return \"Content-Type\" === header ? this.contentType_ || null : null;\n  };\n  fakeXmlHttp.prototype.send = function(data) {\n    var responseData = getResponse(this.url, this.method, data);\n    this.responseText = responseData.text;\n    this.status = \"function\" === typeof responseData.status ? responseData.status() : responseData.status;\n    this.contentType_ = responseData.contentType;\n  };\n  goog.net.XmlHttp.setGlobalFactory({createInstance:function() {\n    return new fakeXmlHttp();\n  }, getOptions:function() {\n    return {};\n  }});\n};\nmodule$contents$ee$apiclient_apiclient.isAuthTokenRefreshingEnabled_ = function() {\n  return !(!module$contents$ee$apiclient_apiclient.authTokenRefresher_ || !module$contents$ee$apiclient_apiclient.authClientId_);\n};\nmodule$contents$ee$apiclient_apiclient.calculateRetryWait_ = function(retryCount) {\n  return Math.min(module$contents$ee$apiclient_apiclient.MAX_RETRY_WAIT_, Math.pow(2, retryCount) * module$contents$ee$apiclient_apiclient.BASE_RETRY_WAIT_);\n};\nmodule$contents$ee$apiclient_apiclient.sleep_ = function(timeInMs) {\n  for (var end = (new Date()).getTime() + timeInMs; (new Date()).getTime() < end;) {\n  }\n};\nmodule$contents$ee$apiclient_apiclient.NetworkRequest_ = function() {\n};\nmodule$contents$ee$apiclient_apiclient.requestQueue_ = [];\nmodule$contents$ee$apiclient_apiclient.REQUEST_THROTTLE_INTERVAL_MS_ = 350;\nmodule$contents$ee$apiclient_apiclient.RequestThrottle_ = new module$contents$goog$async$Throttle_Throttle(function() {\n  var request = module$contents$ee$apiclient_apiclient.requestQueue_.shift();\n  request && goog.net.XhrIo.send(request.url, request.callback, request.method, request.content, request.headers, module$contents$ee$apiclient_apiclient.deadlineMs_);\n  module$contents$goog$array_isEmpty(module$contents$ee$apiclient_apiclient.requestQueue_) || module$contents$ee$apiclient_apiclient.RequestThrottle_.fire();\n}, module$contents$ee$apiclient_apiclient.REQUEST_THROTTLE_INTERVAL_MS_);\nmodule$contents$ee$apiclient_apiclient.apiBaseUrl_ = null;\nmodule$contents$ee$apiclient_apiclient.tileBaseUrl_ = null;\nmodule$contents$ee$apiclient_apiclient.xsrfToken_ = null;\nmodule$contents$ee$apiclient_apiclient.appIdToken_ = null;\nmodule$contents$ee$apiclient_apiclient.paramAugmenter_ = goog.functions.identity;\nmodule$contents$ee$apiclient_apiclient.authToken_ = null;\nmodule$contents$ee$apiclient_apiclient.authTokenExpiration_ = null;\nmodule$contents$ee$apiclient_apiclient.authClientId_ = null;\nmodule$contents$ee$apiclient_apiclient.authScopes_ = [];\nmodule$contents$ee$apiclient_apiclient.authTokenRefresher_ = null;\nmodule$contents$ee$apiclient_apiclient.AUTH_SCOPE_ = \"https://www.googleapis.com/auth/earthengine\";\nmodule$contents$ee$apiclient_apiclient.READ_ONLY_AUTH_SCOPE_ = \"https://www.googleapis.com/auth/earthengine.readonly\";\nmodule$contents$ee$apiclient_apiclient.CLOUD_PLATFORM_SCOPE_ = \"https://www.googleapis.com/auth/cloud-platform\";\nmodule$contents$ee$apiclient_apiclient.DEFAULT_AUTH_SCOPES_ = [module$contents$ee$apiclient_apiclient.AUTH_SCOPE_, module$contents$ee$apiclient_apiclient.CLOUD_PLATFORM_SCOPE_];\nmodule$contents$ee$apiclient_apiclient.AUTH_LIBRARY_URL_ = goog.string.Const.from(\"https://apis.google.com/js/client.js?onload=%{onload}\");\nmodule$contents$ee$apiclient_apiclient.STORAGE_SCOPE_ = \"https://www.googleapis.com/auth/devstorage.read_write\";\nmodule$contents$ee$apiclient_apiclient.cloudApiKey_ = null;\nmodule$contents$ee$apiclient_apiclient.initialized_ = !1;\nmodule$contents$ee$apiclient_apiclient.deadlineMs_ = 0;\nmodule$contents$ee$apiclient_apiclient.profileHook_ = null;\nmodule$contents$ee$apiclient_apiclient.BASE_RETRY_WAIT_ = 1E3;\nmodule$contents$ee$apiclient_apiclient.MAX_RETRY_WAIT_ = 12E4;\nmodule$contents$ee$apiclient_apiclient.MAX_ASYNC_RETRIES_ = 10;\nmodule$contents$ee$apiclient_apiclient.MAX_SYNC_RETRIES_ = 5;\nmodule$contents$ee$apiclient_apiclient.APP_ID_TOKEN_HEADER_ = \"X-Earth-Engine-App-ID-Token\";\nmodule$contents$ee$apiclient_apiclient.PROFILE_HEADER = \"X-Earth-Engine-Computation-Profile\";\nmodule$contents$ee$apiclient_apiclient.PROFILE_REQUEST_HEADER = \"X-Earth-Engine-Computation-Profiling\";\nmodule$contents$ee$apiclient_apiclient.USER_PROJECT_OVERRIDE_HEADER_ = \"X-Goog-User-Project\";\nmodule$contents$ee$apiclient_apiclient.API_CLIENT_VERSION_HEADER = \"x-goog-api-client\";\nmodule$contents$ee$apiclient_apiclient.DEFAULT_API_BASE_URL_ = \"https://earthengine.googleapis.com/api\";\nmodule$contents$ee$apiclient_apiclient.DEFAULT_TILE_BASE_URL_ = \"https://earthengine.googleapis.com\";\nmodule$contents$ee$apiclient_apiclient.AuthArgs = function() {\n};\nmodule$contents$ee$apiclient_apiclient.AuthResponse = function() {\n};\nee.apiclient.Call = module$contents$ee$apiclient_Call;\nee.apiclient.BatchCall = module$contents$ee$apiclient_BatchCall;\nee.apiclient.setApiKey = module$contents$ee$apiclient_apiclient.setApiKey;\nee.apiclient.getApiKey = module$contents$ee$apiclient_apiclient.getApiKey;\nee.apiclient.setProject = module$contents$ee$apiclient_apiclient.setProject;\nee.apiclient.getProject = module$contents$ee$apiclient_apiclient.getProject;\nee.apiclient.DEFAULT_PROJECT = module$contents$ee$apiclient_apiclient.DEFAULT_PROJECT_;\nee.apiclient.PROFILE_HEADER = module$contents$ee$apiclient_apiclient.PROFILE_HEADER;\nee.apiclient.PROFILE_REQUEST_HEADER = module$contents$ee$apiclient_apiclient.PROFILE_REQUEST_HEADER;\nee.apiclient.API_CLIENT_VERSION_HEADER = module$contents$ee$apiclient_apiclient.API_CLIENT_VERSION_HEADER;\nee.apiclient.send = module$contents$ee$apiclient_apiclient.send;\nee.apiclient.AUTH_SCOPE = module$contents$ee$apiclient_apiclient.AUTH_SCOPE_;\nee.apiclient.READ_ONLY_AUTH_SCOPE = module$contents$ee$apiclient_apiclient.READ_ONLY_AUTH_SCOPE_;\nee.apiclient.CLOUD_PLATFORM_SCOPE = module$contents$ee$apiclient_apiclient.CLOUD_PLATFORM_SCOPE_;\nee.apiclient.STORAGE_SCOPE = module$contents$ee$apiclient_apiclient.STORAGE_SCOPE_;\nee.apiclient.DEFAULT_AUTH_SCOPES = module$contents$ee$apiclient_apiclient.DEFAULT_AUTH_SCOPES_;\nee.apiclient.makeRequest = module$contents$ee$apiclient_apiclient.makeRequest_;\nee.apiclient.reset = module$contents$ee$apiclient_apiclient.reset;\nee.apiclient.initialize = module$contents$ee$apiclient_apiclient.initialize;\nee.apiclient.setDeadline = module$contents$ee$apiclient_apiclient.setDeadline;\nee.apiclient.isInitialized = module$contents$ee$apiclient_apiclient.isInitialized;\nee.apiclient.ensureAuthLibLoaded = module$contents$ee$apiclient_apiclient.ensureAuthLibLoaded_;\nee.apiclient.handleAuthResult = module$contents$ee$apiclient_apiclient.handleAuthResult_;\nee.apiclient.refreshAuthToken = module$contents$ee$apiclient_apiclient.refreshAuthToken;\nee.apiclient.setAuthClient = module$contents$ee$apiclient_apiclient.setAuthClient;\nee.apiclient.getAuthScopes = module$contents$ee$apiclient_apiclient.getAuthScopes;\nee.apiclient.getAuthClientId = module$contents$ee$apiclient_apiclient.getAuthClientId;\nee.apiclient.getAuthToken = module$contents$ee$apiclient_apiclient.getAuthToken;\nee.apiclient.setAuthToken = module$contents$ee$apiclient_apiclient.setAuthToken;\nee.apiclient.clearAuthToken = module$contents$ee$apiclient_apiclient.clearAuthToken;\nee.apiclient.setAuthTokenRefresher = module$contents$ee$apiclient_apiclient.setAuthTokenRefresher;\nee.apiclient.setAppIdToken = module$contents$ee$apiclient_apiclient.setAppIdToken;\nee.apiclient.mergeAuthScopes = module$contents$ee$apiclient_apiclient.mergeAuthScopes_;\nee.apiclient.setupMockSend = module$contents$ee$apiclient_apiclient.setupMockSend;\nee.apiclient.setParamAugmenter = module$contents$ee$apiclient_apiclient.setParamAugmenter;\nee.apiclient.withProfiling = module$contents$ee$apiclient_apiclient.withProfiling;\nee.apiclient.getApiBaseUrl = module$contents$ee$apiclient_apiclient.getApiBaseUrl;\nee.apiclient.getTileBaseUrl = module$contents$ee$apiclient_apiclient.getTileBaseUrl;\nee.apiclient.AuthArgs = module$contents$ee$apiclient_apiclient.AuthArgs;\nee.apiclient.AuthResponse = module$contents$ee$apiclient_apiclient.AuthResponse;\nee.apiclient.RequestThrottle = module$contents$ee$apiclient_apiclient.RequestThrottle_;\nee.apiclient.calculateRetryWait = module$contents$ee$apiclient_apiclient.calculateRetryWait_;\nee.apiclient.MAX_ASYNC_RETRIES = module$contents$ee$apiclient_apiclient.MAX_ASYNC_RETRIES_;\nee.apiclient.REQUEST_THROTTLE_INTERVAL_MS = module$contents$ee$apiclient_apiclient.REQUEST_THROTTLE_INTERVAL_MS_;\nee.apiclient.isAuthTokenRefreshingEnabled = module$contents$ee$apiclient_apiclient.isAuthTokenRefreshingEnabled_;\ngoog.exportSymbol(\"ee.api.ListAssetsResponse\", module$exports$eeapiclient$ee_api_client.ListAssetsResponse);\ngoog.exportSymbol(\"ee.api.EarthEngineAsset\", module$exports$eeapiclient$ee_api_client.EarthEngineAsset);\ngoog.exportSymbol(\"ee.api.Operation\", module$exports$eeapiclient$ee_api_client.Operation);\ngoog.exportSymbol(\"ee.api.ListFeaturesResponse\", module$exports$eeapiclient$ee_api_client.ListFeaturesResponse);\ngoog.exportSymbol(\"ee.api.FeatureViewLocation\", module$exports$eeapiclient$ee_api_client.FeatureViewLocation);\nee.Encodable = function() {\n};\nee.rpc_node = {};\nee.rpc_node.constant = function(obj) {\n  if (void 0 === obj || null === obj) {\n    obj = module$exports$eeapiclient$domain_object.NULL_VALUE;\n  }\n  return new module$exports$eeapiclient$ee_api_client.ValueNode({constantValue:obj});\n};\nee.rpc_node.reference = function(ref) {\n  return new module$exports$eeapiclient$ee_api_client.ValueNode({valueReference:ref});\n};\nee.rpc_node.array = function(values) {\n  return new module$exports$eeapiclient$ee_api_client.ValueNode({arrayValue:new module$exports$eeapiclient$ee_api_client.ArrayValue({values:values})});\n};\nee.rpc_node.dictionary = function(values) {\n  return new module$exports$eeapiclient$ee_api_client.ValueNode({dictionaryValue:new module$exports$eeapiclient$ee_api_client.DictionaryValue({values:values})});\n};\nee.rpc_node.functionByName = function(name, args) {\n  return new module$exports$eeapiclient$ee_api_client.ValueNode({functionInvocationValue:new module$exports$eeapiclient$ee_api_client.FunctionInvocation({functionName:name, arguments:args})});\n};\nee.rpc_node.functionByReference = function(ref, args) {\n  return new module$exports$eeapiclient$ee_api_client.ValueNode({functionInvocationValue:new module$exports$eeapiclient$ee_api_client.FunctionInvocation({functionReference:ref, arguments:args})});\n};\nee.rpc_node.functionDefinition = function(argumentNames, body) {\n  return new module$exports$eeapiclient$ee_api_client.ValueNode({functionDefinitionValue:new module$exports$eeapiclient$ee_api_client.FunctionDefinition({argumentNames:argumentNames, body:body})});\n};\nee.rpc_node.argumentReference = function(ref) {\n  return new module$exports$eeapiclient$ee_api_client.ValueNode({argumentReference:ref});\n};\nee.rpc_convert = {};\nee.rpc_convert.fileFormat = function(format) {\n  if (!format) {\n    return \"AUTO_JPEG_PNG\";\n  }\n  var upper = format.toUpperCase();\n  switch(upper) {\n    case \"JPG\":\n      return \"JPEG\";\n    case \"AUTO\":\n      return \"AUTO_JPEG_PNG\";\n    case \"TIF\":\n    case \"TIFF\":\n    case \"GEOTIF\":\n    case \"GEOTIFF\":\n      return \"GEO_TIFF\";\n    case \"TF_RECORD\":\n    case \"TFRECORD\":\n      return \"TF_RECORD_IMAGE\";\n    case \"NUMPY\":\n      return \"NPY\";\n    case \"ZIPPED_TIF\":\n    case \"ZIPPED_TIFF\":\n    case \"ZIPPED_GEOTIF\":\n    case \"ZIPPED_GEOTIFF\":\n      return \"ZIPPED_GEO_TIFF\";\n    case \"ZIPPED_TIF_PER_BAND\":\n    case \"ZIPPED_TIFF_PER_BAND\":\n    case \"ZIPPED_GEOTIF_PER_BAND\":\n    case \"ZIPPED_GEOTIFF_PER_BAND\":\n      return \"ZIPPED_GEO_TIFF_PER_BAND\";\n    default:\n      return upper;\n  }\n};\nee.rpc_convert.tableFileFormat = function(format) {\n  if (!format) {\n    return \"CSV\";\n  }\n  var upper = format.toUpperCase();\n  switch(upper) {\n    case \"TF_RECORD\":\n    case \"TFRECORD\":\n      return \"TF_RECORD_TABLE\";\n    case \"JSON\":\n    case \"GEOJSON\":\n      return \"GEO_JSON\";\n    default:\n      return upper;\n  }\n};\nee.rpc_convert.orientation = function(orientation) {\n  if (!orientation) {\n    return \"VERTICAL\";\n  }\n  var upper = orientation.toUpperCase();\n  if (\"HORIZONTAL\" !== upper && \"VERTICAL\" !== upper) {\n    throw Error('Orientation must be \"horizontal\" or \"vertical\"');\n  }\n  return upper;\n};\nee.rpc_convert.bandList = function(bands) {\n  if (!bands) {\n    return [];\n  }\n  if (\"string\" === typeof bands) {\n    return bands.split(\",\");\n  }\n  if (Array.isArray(bands)) {\n    return bands;\n  }\n  throw Error(\"Invalid band list \" + bands);\n};\nee.rpc_convert.visualizationOptions = function(params) {\n  var result = new module$exports$eeapiclient$ee_api_client.VisualizationOptions(), hasResult = !1;\n  if (\"palette\" in params) {\n    var pal = params.palette;\n    result.paletteColors = \"string\" === typeof pal ? pal.split(\",\") : pal;\n    hasResult = !0;\n  }\n  var ranges = [];\n  if (\"gain\" in params || \"bias\" in params) {\n    if (\"min\" in params || \"max\" in params) {\n      throw Error(\"Gain and bias can't be specified with min and max\");\n    }\n    var valueRange = result.paletteColors ? result.paletteColors.length - 1 : 255;\n    ranges = ee.rpc_convert.pairedValues(params, \"bias\", \"gain\").map(function(pair) {\n      var min = -pair.bias / pair.gain;\n      return {min:min, max:valueRange / pair.gain + min};\n    });\n  } else if (\"min\" in params || \"max\" in params) {\n    ranges = ee.rpc_convert.pairedValues(params, \"min\", \"max\");\n  }\n  0 !== ranges.length && (result.ranges = ranges.map(function(range) {\n    return new module$exports$eeapiclient$ee_api_client.DoubleRange(range);\n  }), hasResult = !0);\n  var gammas = ee.rpc_convert.csvToNumbers(params.gamma);\n  if (1 < gammas.length) {\n    throw Error(\"Only one gamma value is supported\");\n  }\n  1 === gammas.length && (result.gamma = gammas[0], hasResult = !0);\n  return hasResult ? result : null;\n};\nee.rpc_convert.csvToNumbers = function(csv) {\n  return csv ? csv.split(\",\").map(Number) : [];\n};\nee.rpc_convert.pairedValues = function(obj, a, b) {\n  var aValues = ee.rpc_convert.csvToNumbers(obj[a]), bValues = ee.rpc_convert.csvToNumbers(obj[b]);\n  if (0 === aValues.length) {\n    return bValues.map(function(value) {\n      var $jscomp$compprop8 = {};\n      return $jscomp$compprop8[a] = 0, $jscomp$compprop8[b] = value, $jscomp$compprop8;\n    });\n  }\n  if (0 === bValues.length) {\n    return aValues.map(function(value) {\n      var $jscomp$compprop9 = {};\n      return $jscomp$compprop9[a] = value, $jscomp$compprop9[b] = 1, $jscomp$compprop9;\n    });\n  }\n  if (aValues.length !== bValues.length) {\n    throw Error(\"Length of \" + a + \" and \" + b + \" must match.\");\n  }\n  return aValues.map(function(value, index) {\n    var $jscomp$compprop10 = {};\n    return $jscomp$compprop10[a] = value, $jscomp$compprop10[b] = bValues[index], $jscomp$compprop10;\n  });\n};\nee.rpc_convert.algorithms = function(result) {\n  for (var convertArgument = function(argument) {\n    var internalArgument = {};\n    internalArgument.description = argument.description || \"\";\n    internalArgument.type = argument.type || \"\";\n    null != argument.argumentName && (internalArgument.name = argument.argumentName);\n    void 0 !== argument.defaultValue && (internalArgument[\"default\"] = argument.defaultValue);\n    null != argument.optional && (internalArgument.optional = argument.optional);\n    return internalArgument;\n  }, convertAlgorithm = function(algorithm) {\n    var internalAlgorithm = {};\n    internalAlgorithm.args = (algorithm.arguments || []).map(convertArgument);\n    internalAlgorithm.description = algorithm.description || \"\";\n    internalAlgorithm.returns = algorithm.returnType || \"\";\n    null != algorithm.hidden && (internalAlgorithm.hidden = algorithm.hidden);\n    algorithm.preview && (internalAlgorithm.preview = algorithm.preview);\n    algorithm.deprecated && (internalAlgorithm.deprecated = algorithm.deprecationReason);\n    algorithm.sourceCodeUri && (internalAlgorithm.sourceCodeUri = algorithm.sourceCodeUri);\n    return internalAlgorithm;\n  }, internalAlgorithms = {}, $jscomp$iter$28 = $jscomp.makeIterator(result.algorithms || []), $jscomp$key$algorithm = $jscomp$iter$28.next(); !$jscomp$key$algorithm.done; $jscomp$key$algorithm = $jscomp$iter$28.next()) {\n    var algorithm$jscomp$0 = $jscomp$key$algorithm.value, name = algorithm$jscomp$0.name.replace(/^algorithms\\//, \"\");\n    internalAlgorithms[name] = convertAlgorithm(algorithm$jscomp$0);\n  }\n  return internalAlgorithms;\n};\nee.rpc_convert.DEFAULT_PROJECT = \"earthengine-legacy\";\nee.rpc_convert.PUBLIC_PROJECT = \"earthengine-public\";\nee.rpc_convert.PROJECT_ID_RE = /^projects\\/((?:\\w+(?:[\\w\\-]+\\.[\\w\\-]+)*?\\.\\w+:)?[a-z][a-z0-9\\-]{4,28}[a-z0-9])\\/.+/;\nee.rpc_convert.CLOUD_ASSET_ID_RE = /^projects\\/((?:\\w+(?:[\\w\\-]+\\.[\\w\\-]+)*?\\.\\w+:)?[a-z][a-z0-9\\-]{4,28}[a-z0-9])\\/assets\\/(.*)$/;\nee.rpc_convert.CLOUD_ASSET_ROOT_RE = /^projects\\/((?:\\w+(?:[\\w\\-]+\\.[\\w\\-]+)*?\\.\\w+:)?[a-z][a-z0-9\\-]{4,28}[a-z0-9])\\/assets\\/?$/;\nee.rpc_convert.projectIdFromPath = function(path) {\n  var matches = ee.rpc_convert.PROJECT_ID_RE.exec(path);\n  return matches ? matches[1] : ee.rpc_convert.DEFAULT_PROJECT;\n};\nee.rpc_convert.projectParentFromPath = function(path) {\n  return \"projects/\" + ee.rpc_convert.projectIdFromPath(path);\n};\nee.rpc_convert.assetIdToAssetName = function(param) {\n  return ee.rpc_convert.CLOUD_ASSET_ID_RE.exec(param) ? param : /^(users|projects)\\/.*/.exec(param) ? \"projects/\" + ee.rpc_convert.DEFAULT_PROJECT + \"/assets/\" + param : \"projects/\" + ee.rpc_convert.PUBLIC_PROJECT + \"/assets/\" + param;\n};\nee.rpc_convert.assetNameToAssetId = function(name) {\n  var parts = name.split(\"/\"), isLegacyProject = function(id) {\n    return [ee.rpc_convert.DEFAULT_PROJECT, ee.rpc_convert.PUBLIC_PROJECT].includes(id);\n  };\n  return \"projects\" === parts[0] && \"assets\" === parts[2] && isLegacyProject(parts[1]) ? parts.slice(3).join(\"/\") : name;\n};\nee.rpc_convert.assetTypeForCreate = function(param) {\n  switch(param) {\n    case \"ImageCollection\":\n      return \"IMAGE_COLLECTION\";\n    case \"Folder\":\n      return \"FOLDER\";\n    default:\n      return param;\n  }\n};\nee.rpc_convert.listAssetsToGetList = function(result) {\n  return (result.assets || []).map(ee.rpc_convert.assetToLegacyResult);\n};\nee.rpc_convert.assetTypeToLegacyAssetType = function(type) {\n  switch(type) {\n    case \"ALGORITHM\":\n      return \"Algorithm\";\n    case \"FOLDER\":\n      return \"Folder\";\n    case \"IMAGE\":\n      return \"Image\";\n    case \"IMAGE_COLLECTION\":\n      return \"ImageCollection\";\n    case \"TABLE\":\n      return \"Table\";\n    case \"CLASSIFIER\":\n      return \"Classifier\";\n    case \"FEATURE_VIEW\":\n      return \"FeatureView\";\n    default:\n      return \"Unknown\";\n  }\n};\nee.rpc_convert.legacyAssetTypeToAssetType = function(type) {\n  switch(type) {\n    case \"Algorithm\":\n      return \"ALGORITHM\";\n    case \"Folder\":\n      return \"FOLDER\";\n    case \"Image\":\n      return \"IMAGE\";\n    case \"ImageCollection\":\n      return \"IMAGE_COLLECTION\";\n    case \"Table\":\n      return \"TABLE\";\n    default:\n      return \"UNKNOWN\";\n  }\n};\nee.rpc_convert.assetToLegacyResult = function(result) {\n  var asset = ee.rpc_convert.makeLegacyAsset_(ee.rpc_convert.assetTypeToLegacyAssetType(result.type), result.name), properties = Object.assign({}, result.properties || {});\n  result.sizeBytes && (properties[\"system:asset_size\"] = Number(result.sizeBytes));\n  result.startTime && (properties[\"system:time_start\"] = Date.parse(result.startTime));\n  result.endTime && (properties[\"system:time_end\"] = Date.parse(result.endTime));\n  result.geometry && (properties[\"system:footprint\"] = result.geometry);\n  \"string\" === typeof result.title && (properties[\"system:title\"] = result.title);\n  \"string\" === typeof result.description && (properties[\"system:description\"] = result.description);\n  result.updateTime && (asset.version = 1E3 * Date.parse(result.updateTime));\n  asset.properties = properties;\n  result.bands && (asset.bands = result.bands.map(function(band) {\n    var legacyBand = {id:band.id, crs:band.grid.crsCode, dimensions:void 0, crs_transform:void 0,};\n    if (band.grid) {\n      if (null != band.grid.affineTransform) {\n        var affine = band.grid.affineTransform;\n        legacyBand.crs_transform = [affine.scaleX || 0, affine.shearX || 0, affine.translateX || 0, affine.shearY || 0, affine.scaleY || 0, affine.translateY || 0,];\n      }\n      null != band.grid.dimensions && (legacyBand.dimensions = [band.grid.dimensions.width, band.grid.dimensions.height]);\n    }\n    if (band.dataType) {\n      var dataType = {type:\"PixelType\"};\n      dataType.precision = (band.dataType.precision || \"\").toLowerCase();\n      band.dataType.range && (dataType.min = band.dataType.range.min || 0, dataType.max = band.dataType.range.max);\n      legacyBand.data_type = dataType;\n    }\n    return legacyBand;\n  }));\n  result.featureViewAssetLocation && (asset.mapLocation = result.featureViewAssetLocation);\n  result.featureCount && (asset.featureCount = result.featureCount);\n  return asset;\n};\nee.rpc_convert.legacyPropertiesToAssetUpdate = function(legacyProperties) {\n  var asset = new module$exports$eeapiclient$ee_api_client.EarthEngineAsset(), toTimestamp = function(msec) {\n    return (new Date(Number(msec))).toISOString();\n  }, asNull = function(value) {\n    return null === value ? module$exports$eeapiclient$domain_object.NULL_VALUE : void 0;\n  }, properties = Object.assign({}, legacyProperties), value$jscomp$0, extractValue = function(key) {\n    value$jscomp$0 = properties[key];\n    delete properties[key];\n    return value$jscomp$0;\n  };\n  void 0 !== extractValue(\"system:asset_size\") && (asset.sizeBytes = asNull(value$jscomp$0) || String(value$jscomp$0));\n  void 0 !== extractValue(\"system:time_start\") && (asset.startTime = asNull(value$jscomp$0) || toTimestamp(value$jscomp$0));\n  void 0 !== extractValue(\"system:time_end\") && (asset.endTime = asNull(value$jscomp$0) || toTimestamp(value$jscomp$0));\n  void 0 !== extractValue(\"system:footprint\") && (asset.geometry = asNull(value$jscomp$0) || value$jscomp$0);\n  extractValue(\"system:title\");\n  \"string\" !== typeof value$jscomp$0 && null !== value$jscomp$0 || null != properties.title || (properties.title = asNull(value$jscomp$0) || value$jscomp$0);\n  extractValue(\"system:description\");\n  \"string\" !== typeof value$jscomp$0 && null !== value$jscomp$0 || null != properties.description || (properties.description = asNull(value$jscomp$0) || value$jscomp$0);\n  Object.entries(properties).forEach(function($jscomp$destructuring$var40) {\n    var $jscomp$destructuring$var41 = $jscomp.makeIterator($jscomp$destructuring$var40), key = $jscomp$destructuring$var41.next().value, value = $jscomp$destructuring$var41.next().value;\n    properties[key] = asNull(value) || value;\n  });\n  asset.properties = properties;\n  return asset;\n};\nee.rpc_convert.makeLegacyAsset_ = function(type, name) {\n  var legacyAsset = {};\n  legacyAsset.type = type;\n  null != name && (legacyAsset.id = ee.rpc_convert.assetNameToAssetId(name));\n  return legacyAsset;\n};\nee.rpc_convert.getListToListAssets = function(param) {\n  var assetsRequest = {}, toTimestamp = function(msec) {\n    return (new Date(msec)).toISOString();\n  };\n  param.num && (assetsRequest.pageSize = param.num);\n  param.starttime && (assetsRequest.startTime = toTimestamp(param.starttime));\n  param.endtime && (assetsRequest.endTime = toTimestamp(param.endtime));\n  param.bbox && (assetsRequest.region = ee.rpc_convert.boundingBoxToGeoJson(param.bbox));\n  param.region && (assetsRequest.region = param.region);\n  param.bbox && param.region && console.warn(\"Multiple request parameters converted to region\");\n  for (var allKeys = \"id num starttime endtime bbox region\".split(\" \"), $jscomp$iter$29 = $jscomp.makeIterator(Object.keys(param).filter(function(k) {\n    return !allKeys.includes(k);\n  })), $jscomp$key$key = $jscomp$iter$29.next(); !$jscomp$key$key.done; $jscomp$key$key = $jscomp$iter$29.next()) {\n    console.warn(\"Unrecognized key \" + $jscomp$key$key.value + \" ignored\");\n  }\n  return ee.rpc_convert.processListImagesParams(assetsRequest);\n};\nee.rpc_convert.boundingBoxToGeoJson = function(bbox) {\n  return '{\"type\":\"Polygon\",\"coordinates\":[[[' + [[0, 1], [2, 1], [2, 3], [0, 3], [0, 1]].map(function(i) {\n    return bbox[i[0]] + \",\" + bbox[i[1]];\n  }).join(\"],[\") + \"]]]}\";\n};\nee.rpc_convert.iamPolicyToAcl = function(result) {\n  var bindingMap = {};\n  (result.bindings || []).forEach(function(binding) {\n    bindingMap[binding.role] = binding.members;\n  });\n  var groups = new Set(), toAcl = function(member) {\n    var email = member.replace(/^domain:|^group:|^serviceAccount:|^user:/, \"\");\n    member.startsWith(\"group:\") && groups.add(email);\n    return email;\n  }, readersWithAll = bindingMap[\"roles/viewer\"] || [], readers = readersWithAll.filter(function(reader) {\n    return \"allUsers\" !== reader;\n  }), internalAcl = {owners:(bindingMap[\"roles/owner\"] || []).map(toAcl), writers:(bindingMap[\"roles/editor\"] || []).map(toAcl), readers:readers.map(toAcl),};\n  0 < groups.size && (internalAcl.groups = groups);\n  readersWithAll.length != readers.length && (internalAcl.all_users_can_read = !0);\n  return internalAcl;\n};\nee.rpc_convert.aclToIamPolicy = function(acls) {\n  var hasPrefix = function(email) {\n    return email.includes(\":\");\n  }, isDomain = function(email) {\n    return !email.includes(\"@\");\n  }, isGroup = function(email) {\n    return acls.groups && acls.groups.has(email);\n  }, isServiceAccount = function(email) {\n    return email.match(/[@|\\.]gserviceaccount\\.com$/);\n  }, asMembers = function(aclName) {\n    return (acls[aclName] || []).map(function(email) {\n      if (hasPrefix(email)) {\n        return email;\n      }\n      var prefix = \"user:\";\n      isDomain(email) ? prefix = \"domain:\" : isGroup(email) ? prefix = \"group:\" : isServiceAccount(email) && (prefix = \"serviceAccount:\");\n      return prefix + email;\n    });\n  }, all = acls.all_users_can_read ? [\"allUsers\"] : [], bindings = [{role:\"roles/owner\", members:asMembers(\"owners\")}, {role:\"roles/viewer\", members:asMembers(\"readers\").concat(all)}, {role:\"roles/editor\", members:asMembers(\"writers\")},].map(function(params) {\n    return new module$exports$eeapiclient$ee_api_client.Binding(params);\n  });\n  return new module$exports$eeapiclient$ee_api_client.Policy({bindings:bindings.filter(function(binding) {\n    return binding.members.length;\n  }), etag:null,});\n};\nee.rpc_convert.taskIdToOperationName = function(operationNameOrTaskId) {\n  return \"projects/\" + ee.rpc_convert.operationNameToProject(operationNameOrTaskId) + \"/operations/\" + ee.rpc_convert.operationNameToTaskId(operationNameOrTaskId);\n};\nee.rpc_convert.operationNameToTaskId = function(result) {\n  var found = /^.*operations\\/(.*)$/.exec(result);\n  return found ? found[1] : result;\n};\nee.rpc_convert.operationNameToProject = function(operationNameOrTaskId) {\n  var found = /^projects\\/(.+)\\/operations\\/.+$/.exec(operationNameOrTaskId);\n  return found ? found[1] : ee.rpc_convert.DEFAULT_PROJECT;\n};\nee.rpc_convert.operationToTask = function(result) {\n  var internalTask = {}, assignTimestamp = function(field, timestamp) {\n    null != timestamp && (internalTask[field] = Date.parse(timestamp));\n  }, convertState = function(state) {\n    switch(state) {\n      case \"PENDING\":\n        return \"READY\";\n      case \"RUNNING\":\n        return \"RUNNING\";\n      case \"CANCELLING\":\n        return \"CANCEL_REQUESTED\";\n      case \"SUCCEEDED\":\n        return \"COMPLETED\";\n      case \"CANCELLED\":\n        return \"CANCELLED\";\n      case \"FAILED\":\n        return \"FAILED\";\n      default:\n        return \"UNKNOWN\";\n    }\n  }, metadata = module$contents$eeapiclient$domain_object_deserialize(module$exports$eeapiclient$ee_api_client.OperationMetadata, result.metadata || {});\n  null != metadata.description && (internalTask.description = metadata.description);\n  null != metadata.state && (internalTask.state = convertState(metadata.state));\n  assignTimestamp(\"creation_timestamp_ms\", metadata.createTime);\n  assignTimestamp(\"update_timestamp_ms\", metadata.updateTime);\n  assignTimestamp(\"start_timestamp_ms\", metadata.startTime);\n  internalTask.attempt = metadata.attempt;\n  result.done && null != result.error && (internalTask.error_message = result.error.message);\n  null != result.name && (internalTask.id = ee.rpc_convert.operationNameToTaskId(result.name), internalTask.name = result.name);\n  internalTask.task_type = metadata.type || \"UNKNOWN\";\n  internalTask.output_url = metadata.destinationUris;\n  internalTask.source_url = metadata.scriptUri;\n  return internalTask;\n};\nee.rpc_convert.operationToProcessingResponse = function(operation) {\n  var result = {started:\"OK\"};\n  operation.name && (result.taskId = ee.rpc_convert.operationNameToTaskId(operation.name), result.name = operation.name);\n  operation.error && (result.note = operation.error.message);\n  return result;\n};\nee.rpc_convert.sourcePathsToUris = function(source) {\n  return source.primaryPath ? [source.primaryPath].concat($jscomp.arrayFromIterable(source.additionalPaths || [])) : null;\n};\nee.rpc_convert.toImageManifest = function(params) {\n  var convertImageSource = function(source) {\n    var apiSource = module$contents$eeapiclient$domain_object_deserialize(module$exports$eeapiclient$ee_api_client.ImageSource, source);\n    apiSource.uris = ee.rpc_convert.sourcePathsToUris(source);\n    return apiSource;\n  }, manifest = module$contents$eeapiclient$domain_object_deserialize(module$exports$eeapiclient$ee_api_client.ImageManifest, params);\n  manifest.name = ee.rpc_convert.assetIdToAssetName(params.id);\n  manifest.tilesets = (params.tilesets || []).map(function(tileset) {\n    var apiTileset = module$contents$eeapiclient$domain_object_deserialize(module$exports$eeapiclient$ee_api_client.Tileset, tileset);\n    apiTileset.sources = (tileset.sources || []).map(convertImageSource);\n    return apiTileset;\n  });\n  manifest.bands = (params.bands || []).map(function(band) {\n    var apiBand = module$contents$eeapiclient$domain_object_deserialize(module$exports$eeapiclient$ee_api_client.TilesetBand, band);\n    apiBand.missingData = ee.rpc_convert.toOnePlatformMissingData(band.missingData);\n    return apiBand;\n  });\n  manifest.missingData = ee.rpc_convert.toOnePlatformMissingData(params.missingData);\n  manifest.maskBands = module$contents$goog$array_flatten((params.tilesets || []).map(ee.rpc_convert.toOnePlatformMaskBands));\n  manifest.pyramidingPolicy = params.pyramidingPolicy || null;\n  if (params.properties) {\n    var properties = Object.assign({}, params.properties), toTimestamp = function(msec) {\n      return (new Date(Number(msec))).toISOString();\n    }, value, extractValue = function(key) {\n      value = properties[key];\n      delete properties[key];\n      return value;\n    };\n    extractValue(\"system:time_start\") && (manifest.startTime = toTimestamp(value));\n    extractValue(\"system:time_end\") && (manifest.endTime = toTimestamp(value));\n    manifest.properties = properties;\n  }\n  return manifest;\n};\nee.rpc_convert.toOnePlatformMaskBands = function(tileset) {\n  var maskBands = [];\n  if (!Array.isArray(tileset.fileBands)) {\n    return maskBands;\n  }\n  var convertMaskConfig = function(maskConfig) {\n    var bandIds = [];\n    null != maskConfig && Array.isArray(maskConfig.bandId) && (bandIds = maskConfig.bandId.map(function(bandId) {\n      return bandId || \"\";\n    }));\n    return new module$exports$eeapiclient$ee_api_client.TilesetMaskBand({tilesetId:tileset.id || \"\", bandIds:bandIds});\n  };\n  tileset.fileBands.forEach(function(fileBand) {\n    fileBand.maskForAllBands ? maskBands.push(convertMaskConfig(null)) : null != fileBand.maskForBands && maskBands.push(convertMaskConfig(fileBand.maskForBands));\n  });\n  return maskBands;\n};\nee.rpc_convert.toTableManifest = function(params) {\n  var manifest = module$contents$eeapiclient$domain_object_deserialize(module$exports$eeapiclient$ee_api_client.TableManifest, params);\n  manifest.name = ee.rpc_convert.assetIdToAssetName(params.id);\n  manifest.sources = (params.sources || []).map(function(source) {\n    var apiSource = module$contents$eeapiclient$domain_object_deserialize(module$exports$eeapiclient$ee_api_client.TableSource, source);\n    apiSource.uris = ee.rpc_convert.sourcePathsToUris(source);\n    source.maxError && (apiSource.maxErrorMeters = source.maxError);\n    return apiSource;\n  });\n  if (params.properties) {\n    var properties = Object.assign({}, params.properties), toTimestamp = function(msec) {\n      return (new Date(Number(msec))).toISOString();\n    }, value, extractValue = function(key) {\n      value = properties[key];\n      delete properties[key];\n      return value;\n    };\n    extractValue(\"system:time_start\") && (manifest.startTime = toTimestamp(value));\n    extractValue(\"system:time_end\") && (manifest.endTime = toTimestamp(value));\n    manifest.properties = properties;\n  }\n  return manifest;\n};\nee.rpc_convert.toOnePlatformMissingData = function(params) {\n  if (null == params) {\n    return null;\n  }\n  var missingData = new module$exports$eeapiclient$ee_api_client.MissingData({values:[]});\n  null != params.value && \"number\" === typeof params.value && missingData.values.push(params.value);\n  Array.isArray(params.values) && params.values.map(function(value) {\n    \"number\" === typeof value && missingData.values.push(value);\n  });\n  return module$contents$goog$array_isEmpty(missingData.values) ? null : missingData;\n};\nee.rpc_convert.folderQuotaToAssetQuotaDetails = function(quota) {\n  var toNumber = function(field) {\n    return Number(field || 0);\n  };\n  return {asset_count:{usage:toNumber(quota.assetCount), limit:toNumber(quota.maxAssets),}, asset_size:{usage:toNumber(quota.sizeBytes), limit:toNumber(quota.maxSizeBytes),}};\n};\nee.rpc_convert.parseFilterParamsFromListImages_ = function(params) {\n  var queryStrings = [], toISOString = function(dateStr) {\n    return (new Date(dateStr)).toISOString();\n  };\n  \"startTime\" in params && (queryStrings.push('startTime >= \"' + toISOString(params.startTime) + '\"'), delete params.startTime);\n  \"endTime\" in params && (queryStrings.push('endTime < \"' + toISOString(params.endTime) + '\"'), delete params.endTime);\n  if (\"region\" in params) {\n    var region = params.region;\n    if (\"object\" === typeof region) {\n      try {\n        region = JSON.stringify(region);\n      } catch (x) {\n        throw Error('Filter parameter \"region\" must be a GeoJSON or WKT string.');\n      }\n    } else if (\"string\" !== typeof region) {\n      throw Error('Filter parameter \"region\" must be a GeoJSON or WKT string.');\n    }\n    region = region.replace(/\"/g, \"'\");\n    queryStrings.push('intersects(\"' + region + '\")');\n    delete params.region;\n  }\n  if (\"properties\" in params) {\n    if (!Array.isArray(params.properties) && params.properties.some(function(property) {\n      return \"string\" !== typeof property;\n    })) {\n      throw Error('Filter parameter \"properties\" must be an array of strings');\n    }\n    for (var $jscomp$iter$30 = $jscomp.makeIterator(params.properties), $jscomp$key$propertyQuery = $jscomp$iter$30.next(); !$jscomp$key$propertyQuery.done; $jscomp$key$propertyQuery = $jscomp$iter$30.next()) {\n      queryStrings.push($jscomp$key$propertyQuery.value.trim().replace(/^(properties\\.)?/, \"properties.\"));\n    }\n    delete params.properties;\n  }\n  return queryStrings.join(\" AND \");\n};\nee.rpc_convert.processListImagesParams = function(params) {\n  params = Object.assign({}, params);\n  var extraFilters = ee.rpc_convert.parseFilterParamsFromListImages_(params);\n  extraFilters && (params.filter = params.filter ? params.filter + \" AND \" + extraFilters : extraFilters);\n  return params;\n};\ngoog.crypt = {};\ngoog.crypt.Hash = function() {\n  this.blockSize = -1;\n};\ngoog.crypt.Md5 = function() {\n  goog.crypt.Hash.call(this);\n  this.blockSize = 64;\n  this.chain_ = Array(4);\n  this.block_ = Array(this.blockSize);\n  this.totalLength_ = this.blockLength_ = 0;\n  this.reset();\n};\ngoog.inherits(goog.crypt.Md5, goog.crypt.Hash);\ngoog.crypt.Md5.prototype.reset = function() {\n  this.chain_[0] = 1732584193;\n  this.chain_[1] = 4023233417;\n  this.chain_[2] = 2562383102;\n  this.chain_[3] = 271733878;\n  this.totalLength_ = this.blockLength_ = 0;\n};\ngoog.crypt.Md5.prototype.compress_ = function(buf, opt_offset) {\n  opt_offset || (opt_offset = 0);\n  var X = Array(16);\n  if (\"string\" === typeof buf) {\n    for (var i = 0; 16 > i; ++i) {\n      X[i] = buf.charCodeAt(opt_offset++) | buf.charCodeAt(opt_offset++) << 8 | buf.charCodeAt(opt_offset++) << 16 | buf.charCodeAt(opt_offset++) << 24;\n    }\n  } else {\n    for (i = 0; 16 > i; ++i) {\n      X[i] = buf[opt_offset++] | buf[opt_offset++] << 8 | buf[opt_offset++] << 16 | buf[opt_offset++] << 24;\n    }\n  }\n  var A = this.chain_[0], B = this.chain_[1], C = this.chain_[2], D = this.chain_[3], sum = 0;\n  sum = A + (D ^ B & (C ^ D)) + X[0] + 3614090360 & 4294967295;\n  A = B + (sum << 7 & 4294967295 | sum >>> 25);\n  sum = D + (C ^ A & (B ^ C)) + X[1] + 3905402710 & 4294967295;\n  D = A + (sum << 12 & 4294967295 | sum >>> 20);\n  sum = C + (B ^ D & (A ^ B)) + X[2] + 606105819 & 4294967295;\n  C = D + (sum << 17 & 4294967295 | sum >>> 15);\n  sum = B + (A ^ C & (D ^ A)) + X[3] + 3250441966 & 4294967295;\n  B = C + (sum << 22 & 4294967295 | sum >>> 10);\n  sum = A + (D ^ B & (C ^ D)) + X[4] + 4118548399 & 4294967295;\n  A = B + (sum << 7 & 4294967295 | sum >>> 25);\n  sum = D + (C ^ A & (B ^ C)) + X[5] + 1200080426 & 4294967295;\n  D = A + (sum << 12 & 4294967295 | sum >>> 20);\n  sum = C + (B ^ D & (A ^ B)) + X[6] + 2821735955 & 4294967295;\n  C = D + (sum << 17 & 4294967295 | sum >>> 15);\n  sum = B + (A ^ C & (D ^ A)) + X[7] + 4249261313 & 4294967295;\n  B = C + (sum << 22 & 4294967295 | sum >>> 10);\n  sum = A + (D ^ B & (C ^ D)) + X[8] + 1770035416 & 4294967295;\n  A = B + (sum << 7 & 4294967295 | sum >>> 25);\n  sum = D + (C ^ A & (B ^ C)) + X[9] + 2336552879 & 4294967295;\n  D = A + (sum << 12 & 4294967295 | sum >>> 20);\n  sum = C + (B ^ D & (A ^ B)) + X[10] + 4294925233 & 4294967295;\n  C = D + (sum << 17 & 4294967295 | sum >>> 15);\n  sum = B + (A ^ C & (D ^ A)) + X[11] + 2304563134 & 4294967295;\n  B = C + (sum << 22 & 4294967295 | sum >>> 10);\n  sum = A + (D ^ B & (C ^ D)) + X[12] + 1804603682 & 4294967295;\n  A = B + (sum << 7 & 4294967295 | sum >>> 25);\n  sum = D + (C ^ A & (B ^ C)) + X[13] + 4254626195 & 4294967295;\n  D = A + (sum << 12 & 4294967295 | sum >>> 20);\n  sum = C + (B ^ D & (A ^ B)) + X[14] + 2792965006 & 4294967295;\n  C = D + (sum << 17 & 4294967295 | sum >>> 15);\n  sum = B + (A ^ C & (D ^ A)) + X[15] + 1236535329 & 4294967295;\n  B = C + (sum << 22 & 4294967295 | sum >>> 10);\n  sum = A + (C ^ D & (B ^ C)) + X[1] + 4129170786 & 4294967295;\n  A = B + (sum << 5 & 4294967295 | sum >>> 27);\n  sum = D + (B ^ C & (A ^ B)) + X[6] + 3225465664 & 4294967295;\n  D = A + (sum << 9 & 4294967295 | sum >>> 23);\n  sum = C + (A ^ B & (D ^ A)) + X[11] + 643717713 & 4294967295;\n  C = D + (sum << 14 & 4294967295 | sum >>> 18);\n  sum = B + (D ^ A & (C ^ D)) + X[0] + 3921069994 & 4294967295;\n  B = C + (sum << 20 & 4294967295 | sum >>> 12);\n  sum = A + (C ^ D & (B ^ C)) + X[5] + 3593408605 & 4294967295;\n  A = B + (sum << 5 & 4294967295 | sum >>> 27);\n  sum = D + (B ^ C & (A ^ B)) + X[10] + 38016083 & 4294967295;\n  D = A + (sum << 9 & 4294967295 | sum >>> 23);\n  sum = C + (A ^ B & (D ^ A)) + X[15] + 3634488961 & 4294967295;\n  C = D + (sum << 14 & 4294967295 | sum >>> 18);\n  sum = B + (D ^ A & (C ^ D)) + X[4] + 3889429448 & 4294967295;\n  B = C + (sum << 20 & 4294967295 | sum >>> 12);\n  sum = A + (C ^ D & (B ^ C)) + X[9] + 568446438 & 4294967295;\n  A = B + (sum << 5 & 4294967295 | sum >>> 27);\n  sum = D + (B ^ C & (A ^ B)) + X[14] + 3275163606 & 4294967295;\n  D = A + (sum << 9 & 4294967295 | sum >>> 23);\n  sum = C + (A ^ B & (D ^ A)) + X[3] + 4107603335 & 4294967295;\n  C = D + (sum << 14 & 4294967295 | sum >>> 18);\n  sum = B + (D ^ A & (C ^ D)) + X[8] + 1163531501 & 4294967295;\n  B = C + (sum << 20 & 4294967295 | sum >>> 12);\n  sum = A + (C ^ D & (B ^ C)) + X[13] + 2850285829 & 4294967295;\n  A = B + (sum << 5 & 4294967295 | sum >>> 27);\n  sum = D + (B ^ C & (A ^ B)) + X[2] + 4243563512 & 4294967295;\n  D = A + (sum << 9 & 4294967295 | sum >>> 23);\n  sum = C + (A ^ B & (D ^ A)) + X[7] + 1735328473 & 4294967295;\n  C = D + (sum << 14 & 4294967295 | sum >>> 18);\n  sum = B + (D ^ A & (C ^ D)) + X[12] + 2368359562 & 4294967295;\n  B = C + (sum << 20 & 4294967295 | sum >>> 12);\n  sum = A + (B ^ C ^ D) + X[5] + 4294588738 & 4294967295;\n  A = B + (sum << 4 & 4294967295 | sum >>> 28);\n  sum = D + (A ^ B ^ C) + X[8] + 2272392833 & 4294967295;\n  D = A + (sum << 11 & 4294967295 | sum >>> 21);\n  sum = C + (D ^ A ^ B) + X[11] + 1839030562 & 4294967295;\n  C = D + (sum << 16 & 4294967295 | sum >>> 16);\n  sum = B + (C ^ D ^ A) + X[14] + 4259657740 & 4294967295;\n  B = C + (sum << 23 & 4294967295 | sum >>> 9);\n  sum = A + (B ^ C ^ D) + X[1] + 2763975236 & 4294967295;\n  A = B + (sum << 4 & 4294967295 | sum >>> 28);\n  sum = D + (A ^ B ^ C) + X[4] + 1272893353 & 4294967295;\n  D = A + (sum << 11 & 4294967295 | sum >>> 21);\n  sum = C + (D ^ A ^ B) + X[7] + 4139469664 & 4294967295;\n  C = D + (sum << 16 & 4294967295 | sum >>> 16);\n  sum = B + (C ^ D ^ A) + X[10] + 3200236656 & 4294967295;\n  B = C + (sum << 23 & 4294967295 | sum >>> 9);\n  sum = A + (B ^ C ^ D) + X[13] + 681279174 & 4294967295;\n  A = B + (sum << 4 & 4294967295 | sum >>> 28);\n  sum = D + (A ^ B ^ C) + X[0] + 3936430074 & 4294967295;\n  D = A + (sum << 11 & 4294967295 | sum >>> 21);\n  sum = C + (D ^ A ^ B) + X[3] + 3572445317 & 4294967295;\n  C = D + (sum << 16 & 4294967295 | sum >>> 16);\n  sum = B + (C ^ D ^ A) + X[6] + 76029189 & 4294967295;\n  B = C + (sum << 23 & 4294967295 | sum >>> 9);\n  sum = A + (B ^ C ^ D) + X[9] + 3654602809 & 4294967295;\n  A = B + (sum << 4 & 4294967295 | sum >>> 28);\n  sum = D + (A ^ B ^ C) + X[12] + 3873151461 & 4294967295;\n  D = A + (sum << 11 & 4294967295 | sum >>> 21);\n  sum = C + (D ^ A ^ B) + X[15] + 530742520 & 4294967295;\n  C = D + (sum << 16 & 4294967295 | sum >>> 16);\n  sum = B + (C ^ D ^ A) + X[2] + 3299628645 & 4294967295;\n  B = C + (sum << 23 & 4294967295 | sum >>> 9);\n  sum = A + (C ^ (B | ~D)) + X[0] + 4096336452 & 4294967295;\n  A = B + (sum << 6 & 4294967295 | sum >>> 26);\n  sum = D + (B ^ (A | ~C)) + X[7] + 1126891415 & 4294967295;\n  D = A + (sum << 10 & 4294967295 | sum >>> 22);\n  sum = C + (A ^ (D | ~B)) + X[14] + 2878612391 & 4294967295;\n  C = D + (sum << 15 & 4294967295 | sum >>> 17);\n  sum = B + (D ^ (C | ~A)) + X[5] + 4237533241 & 4294967295;\n  B = C + (sum << 21 & 4294967295 | sum >>> 11);\n  sum = A + (C ^ (B | ~D)) + X[12] + 1700485571 & 4294967295;\n  A = B + (sum << 6 & 4294967295 | sum >>> 26);\n  sum = D + (B ^ (A | ~C)) + X[3] + 2399980690 & 4294967295;\n  D = A + (sum << 10 & 4294967295 | sum >>> 22);\n  sum = C + (A ^ (D | ~B)) + X[10] + 4293915773 & 4294967295;\n  C = D + (sum << 15 & 4294967295 | sum >>> 17);\n  sum = B + (D ^ (C | ~A)) + X[1] + 2240044497 & 4294967295;\n  B = C + (sum << 21 & 4294967295 | sum >>> 11);\n  sum = A + (C ^ (B | ~D)) + X[8] + 1873313359 & 4294967295;\n  A = B + (sum << 6 & 4294967295 | sum >>> 26);\n  sum = D + (B ^ (A | ~C)) + X[15] + 4264355552 & 4294967295;\n  D = A + (sum << 10 & 4294967295 | sum >>> 22);\n  sum = C + (A ^ (D | ~B)) + X[6] + 2734768916 & 4294967295;\n  C = D + (sum << 15 & 4294967295 | sum >>> 17);\n  sum = B + (D ^ (C | ~A)) + X[13] + 1309151649 & 4294967295;\n  B = C + (sum << 21 & 4294967295 | sum >>> 11);\n  sum = A + (C ^ (B | ~D)) + X[4] + 4149444226 & 4294967295;\n  A = B + (sum << 6 & 4294967295 | sum >>> 26);\n  sum = D + (B ^ (A | ~C)) + X[11] + 3174756917 & 4294967295;\n  D = A + (sum << 10 & 4294967295 | sum >>> 22);\n  sum = C + (A ^ (D | ~B)) + X[2] + 718787259 & 4294967295;\n  C = D + (sum << 15 & 4294967295 | sum >>> 17);\n  sum = B + (D ^ (C | ~A)) + X[9] + 3951481745 & 4294967295;\n  this.chain_[0] = this.chain_[0] + A & 4294967295;\n  this.chain_[1] = this.chain_[1] + (C + (sum << 21 & 4294967295 | sum >>> 11)) & 4294967295;\n  this.chain_[2] = this.chain_[2] + C & 4294967295;\n  this.chain_[3] = this.chain_[3] + D & 4294967295;\n};\ngoog.crypt.Md5.prototype.update = function(bytes, opt_length) {\n  void 0 === opt_length && (opt_length = bytes.length);\n  for (var lengthMinusBlock = opt_length - this.blockSize, block = this.block_, blockLength = this.blockLength_, i = 0; i < opt_length;) {\n    if (0 == blockLength) {\n      for (; i <= lengthMinusBlock;) {\n        this.compress_(bytes, i), i += this.blockSize;\n      }\n    }\n    if (\"string\" === typeof bytes) {\n      for (; i < opt_length;) {\n        if (block[blockLength++] = bytes.charCodeAt(i++), blockLength == this.blockSize) {\n          this.compress_(block);\n          blockLength = 0;\n          break;\n        }\n      }\n    } else {\n      for (; i < opt_length;) {\n        if (block[blockLength++] = bytes[i++], blockLength == this.blockSize) {\n          this.compress_(block);\n          blockLength = 0;\n          break;\n        }\n      }\n    }\n  }\n  this.blockLength_ = blockLength;\n  this.totalLength_ += opt_length;\n};\ngoog.crypt.Md5.prototype.digest = function() {\n  var pad = Array((56 > this.blockLength_ ? this.blockSize : 2 * this.blockSize) - this.blockLength_);\n  pad[0] = 128;\n  for (var i = 1; i < pad.length - 8; ++i) {\n    pad[i] = 0;\n  }\n  var totalBits = 8 * this.totalLength_;\n  for (i = pad.length - 8; i < pad.length; ++i) {\n    pad[i] = totalBits & 255, totalBits /= 256;\n  }\n  this.update(pad);\n  var digest = Array(16), n = 0;\n  for (i = 0; 4 > i; ++i) {\n    for (var j = 0; 32 > j; j += 8) {\n      digest[n++] = this.chain_[i] >>> j & 255;\n    }\n  }\n  return digest;\n};\nee.Serializer = function(opt_isCompound) {\n  this.HASH_KEY = \"__ee_hash__\";\n  this.isCompound_ = !1 !== opt_isCompound;\n  this.scope_ = [];\n  this.encoded_ = {};\n  this.withHashes_ = [];\n  this.hashes_ = new WeakMap();\n  this.unboundName = void 0;\n};\ngoog.exportSymbol(\"ee.Serializer\", ee.Serializer);\nee.Serializer.jsonSerializer_ = new goog.json.Serializer();\nee.Serializer.hash_ = new goog.crypt.Md5();\nee.Serializer.encode = function(obj, opt_isCompound) {\n  return (new ee.Serializer(void 0 !== opt_isCompound ? opt_isCompound : !0)).encode_(obj);\n};\ngoog.exportSymbol(\"ee.Serializer.encode\", ee.Serializer.encode);\nee.Serializer.toJSON = function(obj) {\n  return ee.Serializer.jsonSerializer_.serialize(ee.Serializer.encode(obj));\n};\ngoog.exportSymbol(\"ee.Serializer.toJSON\", ee.Serializer.toJSON);\nee.Serializer.toReadableJSON = function(obj) {\n  return ee.Serializer.stringify(ee.Serializer.encode(obj, !1));\n};\ngoog.exportSymbol(\"ee.Serializer.toReadableJSON\", ee.Serializer.toReadableJSON);\nee.Serializer.stringify = function(encoded) {\n  return \"JSON\" in goog.global ? goog.global.JSON.stringify(encoded, null, \"  \") : ee.Serializer.jsonSerializer_.serialize(encoded);\n};\nee.Serializer.prototype.encode_ = function(object) {\n  var value = this.encodeValue_(object);\n  this.isCompound_ && (value = goog.isObject(value) && \"ValueRef\" == value.type && 1 == this.scope_.length ? this.scope_[0][1] : {type:\"CompoundValue\", scope:this.scope_, value:value}, this.scope_ = [], module$contents$goog$array_forEach(this.withHashes_, goog.bind(function(obj) {\n    delete obj[this.HASH_KEY];\n  }, this)), this.withHashes_ = [], this.encoded_ = {});\n  return value;\n};\nee.Serializer.prototype.encodeValue_ = function(object) {\n  if (void 0 === object) {\n    throw Error(\"Can't encode an undefined value.\");\n  }\n  var hash = goog.isObject(object) ? object[this.HASH_KEY] : null;\n  if (this.isCompound_ && null != hash && this.encoded_[hash]) {\n    return {type:\"ValueRef\", value:this.encoded_[hash]};\n  }\n  if (null === object || \"boolean\" === typeof object || \"number\" === typeof object || \"string\" === typeof object) {\n    return object;\n  }\n  if (goog.isDateLike(object)) {\n    return {type:\"Invocation\", functionName:\"Date\", arguments:{value:Math.floor(object.getTime())}};\n  }\n  if (object instanceof ee.Encodable) {\n    var result = object.encode(goog.bind(this.encodeValue_, this));\n    if (!(Array.isArray(result) || goog.isObject(result) && \"ArgumentRef\" != result.type)) {\n      return result;\n    }\n  } else if (Array.isArray(object)) {\n    result = module$contents$goog$array_map(object, function(element) {\n      return this.encodeValue_(element);\n    }, this);\n  } else if (goog.isObject(object) && \"function\" !== typeof object) {\n    var encodedObject = module$contents$goog$object_map(object, function(element) {\n      if (\"function\" !== typeof element) {\n        return this.encodeValue_(element);\n      }\n    }, this);\n    module$contents$goog$object_remove(encodedObject, this.HASH_KEY);\n    result = {type:\"Dictionary\", value:encodedObject};\n  } else {\n    throw Error(\"Can't encode object: \" + object);\n  }\n  if (this.isCompound_) {\n    hash = ee.Serializer.computeHash(result);\n    if (this.encoded_[hash]) {\n      var name = this.encoded_[hash];\n    } else {\n      name = String(this.scope_.length), this.scope_.push([name, result]), this.encoded_[hash] = name;\n    }\n    object[this.HASH_KEY] = hash;\n    this.withHashes_.push(object);\n    return {type:\"ValueRef\", value:name};\n  }\n  return result;\n};\nee.Serializer.computeHash = function(obj) {\n  ee.Serializer.hash_.reset();\n  ee.Serializer.hash_.update(ee.Serializer.jsonSerializer_.serialize(obj));\n  return ee.Serializer.hash_.digest().toString();\n};\nee.Serializer.encodeCloudApi = function(obj) {\n  return module$contents$eeapiclient$domain_object_serialize(ee.Serializer.encodeCloudApiExpression(obj));\n};\ngoog.exportSymbol(\"ee.Serializer.encodeCloudApi\", ee.Serializer.encodeCloudApi);\nee.Serializer.encodeCloudApiExpression = function(obj, unboundName) {\n  var serializer = new ee.Serializer(!0);\n  serializer.unboundName = unboundName;\n  return serializer.encodeForCloudApi_(obj);\n};\nee.Serializer.encodeCloudApiPretty = function(obj) {\n  var encoded = (new ee.Serializer(!1)).encodeForCloudApi_(obj), values = encoded.values, walkObject = function(object) {\n    if (!goog.isObject(object)) {\n      return object;\n    }\n    for (var ret = Array.isArray(object) ? [] : {}, isNode = object instanceof Object.getPrototypeOf(module$exports$eeapiclient$ee_api_client.ValueNode), $jscomp$iter$31 = $jscomp.makeIterator(Object.entries(isNode ? object.Serializable$values : object)), $jscomp$key$ = $jscomp$iter$31.next(); !$jscomp$key$.done; $jscomp$key$ = $jscomp$iter$31.next()) {\n      var $jscomp$destructuring$var43 = $jscomp.makeIterator($jscomp$key$.value), key = $jscomp$destructuring$var43.next().value, val = $jscomp$destructuring$var43.next().value;\n      isNode ? null !== val && (ret[key] = \"functionDefinitionValue\" === key && null != val.body ? {argumentNames:val.argumentNames, body:walkObject(values[val.body])} : \"functionInvocationValue\" === key && null != val.functionReference ? {arguments:module$contents$goog$object_map(val.arguments, walkObject), functionReference:walkObject(values[val.functionReference])} : \"constantValue\" === key ? val === module$exports$eeapiclient$domain_object.NULL_VALUE ? \n      null : val : walkObject(val)) : ret[key] = walkObject(val);\n    }\n    return ret;\n  };\n  return encoded.result && walkObject(values[encoded.result]);\n};\ngoog.exportSymbol(\"ee.Serializer.encodeCloudApiPretty\", ee.Serializer.encodeCloudApiPretty);\nee.Serializer.toCloudApiJSON = function(obj) {\n  return ee.Serializer.jsonSerializer_.serialize(ee.Serializer.encodeCloudApi(obj));\n};\ngoog.exportSymbol(\"ee.Serializer.toCloudApiJSON\", ee.Serializer.toCloudApiJSON);\nee.Serializer.toReadableCloudApiJSON = function(obj) {\n  return ee.Serializer.stringify(ee.Serializer.encodeCloudApiPretty(obj));\n};\ngoog.exportSymbol(\"ee.Serializer.toReadableCloudApiJSON\", ee.Serializer.toReadableCloudApiJSON);\nee.Serializer.prototype.encodeForCloudApi_ = function(obj) {\n  try {\n    var result = this.makeReference(obj);\n    return (new ExpressionOptimizer(result, this.scope_, this.isCompound_)).optimize();\n  } finally {\n    this.hashes_ = new WeakMap(), this.encoded_ = {}, this.scope_ = [];\n  }\n};\nee.Serializer.prototype.makeReference = function(obj) {\n  var $jscomp$this = this, makeRef = function(result) {\n    var hash = ee.Serializer.computeHash(result);\n    goog.isObject(obj) && $jscomp$this.hashes_.set(obj, hash);\n    if ($jscomp$this.encoded_[hash]) {\n      return $jscomp$this.encoded_[hash];\n    }\n    var name = String($jscomp$this.scope_.length);\n    $jscomp$this.scope_.push([name, result]);\n    return $jscomp$this.encoded_[hash] = name;\n  };\n  if (goog.isObject(obj) && this.encoded_[this.hashes_.get(obj)]) {\n    return this.encoded_[this.hashes_.get(obj)];\n  }\n  if (null === obj || \"boolean\" === typeof obj || \"string\" === typeof obj || \"number\" === typeof obj) {\n    return makeRef(ee.rpc_node.constant(obj));\n  }\n  if (goog.isDateLike(obj)) {\n    return makeRef(ee.rpc_node.functionByName(\"Date\", {value:ee.rpc_node.constant(Math.floor(obj.getTime()))}));\n  }\n  if (obj instanceof ee.Encodable) {\n    return makeRef(obj.encodeCloudValue(this));\n  }\n  if (Array.isArray(obj)) {\n    return makeRef(ee.rpc_node.array(obj.map(function(x) {\n      return ee.rpc_node.reference($jscomp$this.makeReference(x));\n    })));\n  }\n  if (goog.isObject(obj) && \"function\" !== typeof obj) {\n    var values = {};\n    Object.keys(obj).sort().forEach(function(k) {\n      values[k] = ee.rpc_node.reference($jscomp$this.makeReference(obj[k]));\n    });\n    return makeRef(ee.rpc_node.dictionary(values));\n  }\n  throw Error(\"Can't encode object: \" + obj);\n};\nvar ExpressionOptimizer = function(rootReference, values, isCompound) {\n  var $jscomp$this = this;\n  this.rootReference = rootReference;\n  this.values = {};\n  values.forEach(function(tuple) {\n    return $jscomp$this.values[tuple[0]] = tuple[1];\n  });\n  this.referenceCounts = isCompound ? this.countReferences() : null;\n  this.optimizedValues = {};\n  this.referenceMap = {};\n  this.nextMappedRef = 0;\n};\nExpressionOptimizer.prototype.optimize = function() {\n  var result = this.optimizeReference(this.rootReference);\n  return new module$exports$eeapiclient$ee_api_client.Expression({result:result, values:this.optimizedValues,});\n};\nExpressionOptimizer.prototype.optimizeReference = function(ref) {\n  if (ref in this.referenceMap) {\n    return this.referenceMap[ref];\n  }\n  var mappedRef = String(this.nextMappedRef++);\n  this.referenceMap[ref] = mappedRef;\n  this.optimizedValues[mappedRef] = this.optimizeValue(this.values[ref], 0);\n  return mappedRef;\n};\nExpressionOptimizer.prototype.optimizeValue = function(value, depth) {\n  var $jscomp$this = this, isConst = function(v) {\n    return null !== v.constantValue;\n  }, serializeConst = function(v) {\n    return v === module$exports$eeapiclient$domain_object.NULL_VALUE ? null : v;\n  };\n  if (isConst(value) || null != value.integerValue || null != value.bytesValue || null != value.argumentReference) {\n    return value;\n  }\n  if (null != value.valueReference) {\n    var val = this.values[value.valueReference];\n    return null === this.referenceCounts || 50 > depth && 1 === this.referenceCounts[value.valueReference] ? this.optimizeValue(val, depth) : ExpressionOptimizer.isAlwaysLiftable(val) ? val : ee.rpc_node.reference(this.optimizeReference(value.valueReference));\n  }\n  if (null != value.arrayValue) {\n    var arr = value.arrayValue.values.map(function(v) {\n      return $jscomp$this.optimizeValue(v, depth + 3);\n    });\n    return arr.every(isConst) ? ee.rpc_node.constant(arr.map(function(v) {\n      return serializeConst(v.constantValue);\n    })) : ee.rpc_node.array(arr);\n  }\n  if (null != value.dictionaryValue) {\n    for (var values = {}, constantValues = {}, $jscomp$iter$32 = $jscomp.makeIterator(Object.entries(value.dictionaryValue.values || {})), $jscomp$key$ = $jscomp$iter$32.next(); !$jscomp$key$.done; $jscomp$key$ = $jscomp$iter$32.next()) {\n      var $jscomp$destructuring$var45 = $jscomp.makeIterator($jscomp$key$.value), k = $jscomp$destructuring$var45.next().value, v$jscomp$0 = $jscomp$destructuring$var45.next().value;\n      values[k] = this.optimizeValue(v$jscomp$0, depth + 3);\n      null !== constantValues && isConst(values[k]) ? constantValues[k] = serializeConst(values[k].constantValue) : constantValues = null;\n    }\n    return null !== constantValues ? ee.rpc_node.constant(constantValues) : ee.rpc_node.dictionary(values);\n  }\n  if (null != value.functionDefinitionValue) {\n    var def = value.functionDefinitionValue;\n    return ee.rpc_node.functionDefinition(def.argumentNames || [], this.optimizeReference(def.body || \"\"));\n  }\n  if (null != value.functionInvocationValue) {\n    for (var inv = value.functionInvocationValue, args = {}, $jscomp$iter$33 = $jscomp.makeIterator(Object.keys(inv.arguments || {})), $jscomp$key$k = $jscomp$iter$33.next(); !$jscomp$key$k.done; $jscomp$key$k = $jscomp$iter$33.next()) {\n      var k$63 = $jscomp$key$k.value;\n      args[k$63] = this.optimizeValue(inv.arguments[k$63], depth + 3);\n    }\n    return inv.functionName ? ee.rpc_node.functionByName(inv.functionName, args) : ee.rpc_node.functionByReference(this.optimizeReference(inv.functionReference || \"\"), args);\n  }\n  throw Error(\"Can't optimize value: \" + value);\n};\nExpressionOptimizer.isAlwaysLiftable = function(value) {\n  var constant = value.constantValue;\n  return null !== constant ? constant === module$exports$eeapiclient$domain_object.NULL_VALUE || \"number\" === typeof constant || \"boolean\" === typeof constant : null != value.argumentReference;\n};\nExpressionOptimizer.prototype.countReferences = function() {\n  var $jscomp$this = this, counts = {}, visitReference = function(reference) {\n    counts[reference] ? counts[reference]++ : (counts[reference] = 1, visitValue($jscomp$this.values[reference]));\n  }, visitValue = function(value) {\n    if (null != value.arrayValue) {\n      value.arrayValue.values.forEach(visitValue);\n    } else if (null != value.dictionaryValue) {\n      Object.values(value.dictionaryValue.values).forEach(visitValue);\n    } else if (null != value.functionDefinitionValue) {\n      visitReference(value.functionDefinitionValue.body);\n    } else if (null != value.functionInvocationValue) {\n      var inv = value.functionInvocationValue;\n      null != inv.functionReference && visitReference(inv.functionReference);\n      Object.values(inv.arguments).forEach(visitValue);\n    } else {\n      null != value.valueReference && visitReference(value.valueReference);\n    }\n  };\n  visitReference(this.rootReference);\n  return counts;\n};\nee.rpc_convert_batch = {};\nee.rpc_convert_batch.ExportDestination = {DRIVE:\"DRIVE\", GCS:\"GOOGLE_CLOUD_STORAGE\", ASSET:\"ASSET\", FEATURE_VIEW:\"FEATURE_VIEW\", BIGQUERY:\"BIGQUERY\",};\nee.rpc_convert_batch.taskToExportImageRequest = function(params) {\n  if (null == params.element) {\n    throw Error('\"element\" not found in params ' + params);\n  }\n  var result = new module$exports$eeapiclient$ee_api_client.ExportImageRequest({expression:ee.Serializer.encodeCloudApiExpression(params.element), description:stringOrNull_(params.description), fileExportOptions:null, assetExportOptions:null, grid:null, maxPixels:stringOrNull_(params.maxPixels), requestId:stringOrNull_(params.id), maxWorkers:numberOrNull_(params.maxWorkers)}), destination = ee.rpc_convert_batch.guessDestination_(params);\n  switch(destination) {\n    case ee.rpc_convert_batch.ExportDestination.GCS:\n    case ee.rpc_convert_batch.ExportDestination.DRIVE:\n      result.fileExportOptions = ee.rpc_convert_batch.buildImageFileExportOptions_(params, destination);\n      break;\n    case ee.rpc_convert_batch.ExportDestination.ASSET:\n      result.assetExportOptions = ee.rpc_convert_batch.buildImageAssetExportOptions_(params);\n      break;\n    default:\n      throw Error('Export destination \"' + destination + '\" unknown');\n  }\n  return result;\n};\nee.rpc_convert_batch.taskToExportTableRequest = function(params) {\n  if (null == params.element) {\n    throw Error('\"element\" not found in params ' + params);\n  }\n  var selectors = params.selectors || null;\n  null != selectors && \"string\" === typeof selectors && (selectors = selectors.split(\",\"));\n  var result = new module$exports$eeapiclient$ee_api_client.ExportTableRequest({expression:ee.Serializer.encodeCloudApiExpression(params.element), description:stringOrNull_(params.description), fileExportOptions:null, assetExportOptions:null, featureViewExportOptions:null, selectors:selectors, maxErrorMeters:numberOrNull_(params.maxErrorMeters), requestId:stringOrNull_(params.id), maxVertices:numberOrNull_(params.maxVertices), maxWorkers:numberOrNull_(params.maxWorkers)}), \n  destination = ee.rpc_convert_batch.guessDestination_(params);\n  switch(destination) {\n    case ee.rpc_convert_batch.ExportDestination.GCS:\n    case ee.rpc_convert_batch.ExportDestination.DRIVE:\n      result.fileExportOptions = ee.rpc_convert_batch.buildTableFileExportOptions_(params, destination);\n      break;\n    case ee.rpc_convert_batch.ExportDestination.ASSET:\n      result.assetExportOptions = ee.rpc_convert_batch.buildTableAssetExportOptions_(params);\n      break;\n    case ee.rpc_convert_batch.ExportDestination.FEATURE_VIEW:\n      result.featureViewExportOptions = ee.rpc_convert_batch.buildFeatureViewExportOptions_(params);\n      break;\n    case ee.rpc_convert_batch.ExportDestination.BIGQUERY:\n      result.bigqueryExportOptions = ee.rpc_convert_batch.buildBigQueryExportOptions_(params);\n      break;\n    default:\n      throw Error('Export destination \"' + destination + '\" unknown');\n  }\n  params.workloadTag && (result.workloadTag = params.workloadTag);\n  return result;\n};\nee.rpc_convert_batch.taskToExportVideoRequest = function(params) {\n  if (null == params.element) {\n    throw Error('\"element\" not found in params ' + params);\n  }\n  var result = new module$exports$eeapiclient$ee_api_client.ExportVideoRequest({expression:ee.Serializer.encodeCloudApiExpression(params.element), description:stringOrNull_(params.description), videoOptions:ee.rpc_convert_batch.buildVideoOptions_(params), fileExportOptions:null, requestId:stringOrNull_(params.id), maxWorkers:numberOrNull_(params.maxWorkers)});\n  result.fileExportOptions = ee.rpc_convert_batch.buildVideoFileExportOptions_(params, ee.rpc_convert_batch.guessDestination_(params));\n  return result;\n};\nee.rpc_convert_batch.taskToExportMapRequest = function(params) {\n  if (null == params.element) {\n    throw Error('\"element\" not found in params ' + params);\n  }\n  return new module$exports$eeapiclient$ee_api_client.ExportMapRequest({expression:ee.Serializer.encodeCloudApiExpression(params.element), description:stringOrNull_(params.description), tileOptions:ee.rpc_convert_batch.buildTileOptions_(params), tileExportOptions:ee.rpc_convert_batch.buildImageFileExportOptions_(params, ee.rpc_convert_batch.ExportDestination.GCS), requestId:stringOrNull_(params.id), maxWorkers:numberOrNull_(params.maxWorkers)});\n};\nee.rpc_convert_batch.taskToExportVideoMapRequest = function(params) {\n  if (null == params.element) {\n    throw Error('\"element\" not found in params ' + params);\n  }\n  return new module$exports$eeapiclient$ee_api_client.ExportVideoMapRequest({expression:ee.Serializer.encodeCloudApiExpression(params.element), description:stringOrNull_(params.description), videoOptions:ee.rpc_convert_batch.buildVideoMapOptions_(params), tileOptions:ee.rpc_convert_batch.buildTileOptions_(params), tileExportOptions:ee.rpc_convert_batch.buildVideoFileExportOptions_(params, ee.rpc_convert_batch.ExportDestination.GCS), requestId:stringOrNull_(params.id), \n  version:stringOrNull_(params.version), maxWorkers:numberOrNull_(params.maxWorkers)});\n};\nee.rpc_convert_batch.taskToExportClassifierRequest = function(params) {\n  if (null == params.element) {\n    throw Error('\"element\" not found in params ' + params);\n  }\n  var destination = ee.rpc_convert_batch.guessDestination_(params);\n  if (destination != ee.rpc_convert_batch.ExportDestination.ASSET) {\n    throw Error('Export destination \"' + destination + '\" unknown');\n  }\n  return new module$exports$eeapiclient$ee_api_client.ExportClassifierRequest({expression:ee.Serializer.encodeCloudApiExpression(params.element), description:stringOrNull_(params.description), requestId:stringOrNull_(params.id), assetExportOptions:new module$exports$eeapiclient$ee_api_client.ClassifierAssetExportOptions({earthEngineDestination:ee.rpc_convert_batch.buildEarthEngineDestination_(params)}), maxWorkers:numberOrNull_(params.maxWorkers),\n  });\n};\nfunction stringOrNull_(value) {\n  return null != value ? String(value) : null;\n}\nfunction numberOrNull_(value) {\n  return null != value ? Number(value) : null;\n}\nee.rpc_convert_batch.guessDestination_ = function(params) {\n  var destination = ee.rpc_convert_batch.ExportDestination.DRIVE;\n  if (null == params) {\n    return destination;\n  }\n  null != params.outputBucket || null != params.outputPrefix ? destination = ee.rpc_convert_batch.ExportDestination.GCS : null != params.assetId ? destination = ee.rpc_convert_batch.ExportDestination.ASSET : null != params.mapName && (destination = ee.rpc_convert_batch.ExportDestination.FEATURE_VIEW);\n  return destination;\n};\nee.rpc_convert_batch.buildGeoTiffFormatOptions_ = function(params) {\n  if (params.fileDimensions && params.tiffFileDimensions) {\n    throw Error('Export cannot set both \"fileDimensions\" and \"tiffFileDimensions\".');\n  }\n  var tileSize = params.tiffShardSize || params.shardSize;\n  return new module$exports$eeapiclient$ee_api_client.GeoTiffImageExportOptions({cloudOptimized:!!params.tiffCloudOptimized, skipEmptyFiles:!(!params.skipEmptyTiles && !params.tiffSkipEmptyFiles), tileDimensions:ee.rpc_convert_batch.buildGridDimensions_(params.fileDimensions || params.tiffFileDimensions), tileSize:numberOrNull_(tileSize),});\n};\nee.rpc_convert_batch.buildTfRecordFormatOptions_ = function(params) {\n  var tfRecordOptions = new module$exports$eeapiclient$ee_api_client.TfRecordImageExportOptions({compress:!!params.tfrecordCompressed, maxSizeBytes:stringOrNull_(params.tfrecordMaxFileSize), sequenceData:!!params.tfrecordSequenceData, collapseBands:!!params.tfrecordCollapseBands, maxMaskedRatio:numberOrNull_(params.tfrecordMaskedThreshold), defaultValue:numberOrNull_(params.tfrecordDefaultValue), tileDimensions:ee.rpc_convert_batch.buildGridDimensions_(params.tfrecordPatchDimensions), \n  marginDimensions:ee.rpc_convert_batch.buildGridDimensions_(params.tfrecordKernelSize), tensorDepths:null,}), tensorDepths = params.tfrecordTensorDepths;\n  if (null != tensorDepths) {\n    if (goog.isObject(tensorDepths)) {\n      var result = {};\n      module$contents$goog$object_forEach(tensorDepths, function(v, k) {\n        if (\"string\" !== typeof k || \"number\" !== typeof v) {\n          throw Error('\"tensorDepths\" option must be an object of type Object<string, number>');\n        }\n        result[k] = v;\n      });\n      tfRecordOptions.tensorDepths = result;\n    } else {\n      throw Error('\"tensorDepths\" option needs to have the form Object<string, number>.');\n    }\n  }\n  return tfRecordOptions;\n};\nee.rpc_convert_batch.buildImageFileExportOptions_ = function(params, destination) {\n  var result = new module$exports$eeapiclient$ee_api_client.ImageFileExportOptions({cloudStorageDestination:null, driveDestination:null, geoTiffOptions:null, tfRecordOptions:null, fileFormat:ee.rpc_convert.fileFormat(params.fileFormat),});\n  \"GEO_TIFF\" === result.fileFormat ? result.geoTiffOptions = ee.rpc_convert_batch.buildGeoTiffFormatOptions_(params) : \"TF_RECORD_IMAGE\" === result.fileFormat && (result.tfRecordOptions = ee.rpc_convert_batch.buildTfRecordFormatOptions_(params));\n  destination === ee.rpc_convert_batch.ExportDestination.GCS ? result.cloudStorageDestination = ee.rpc_convert_batch.buildCloudStorageDestination_(params) : result.driveDestination = ee.rpc_convert_batch.buildDriveDestination_(params);\n  return result;\n};\nee.rpc_convert_batch.buildImageAssetExportOptions_ = function(params) {\n  var allPolicies = params.pyramidingPolicy || {};\n  try {\n    allPolicies = JSON.parse(allPolicies);\n  } catch ($jscomp$unused$catch) {\n  }\n  var defaultPyramidingPolicy = \"PYRAMIDING_POLICY_UNSPECIFIED\";\n  \"string\" === typeof allPolicies ? (defaultPyramidingPolicy = allPolicies, allPolicies = {}) : allPolicies[\".default\"] && (defaultPyramidingPolicy = allPolicies[\".default\"], delete allPolicies[\".default\"]);\n  return new module$exports$eeapiclient$ee_api_client.ImageAssetExportOptions({earthEngineDestination:ee.rpc_convert_batch.buildEarthEngineDestination_(params), pyramidingPolicy:defaultPyramidingPolicy, pyramidingPolicyOverrides:module$contents$goog$object_isEmpty(allPolicies) ? null : allPolicies, tileSize:numberOrNull_(params.shardSize),});\n};\nee.rpc_convert_batch.buildTableFileExportOptions_ = function(params, destination) {\n  var result = new module$exports$eeapiclient$ee_api_client.TableFileExportOptions({cloudStorageDestination:null, driveDestination:null, fileFormat:ee.rpc_convert.tableFileFormat(params.fileFormat),});\n  destination === ee.rpc_convert_batch.ExportDestination.GCS ? result.cloudStorageDestination = ee.rpc_convert_batch.buildCloudStorageDestination_(params) : result.driveDestination = ee.rpc_convert_batch.buildDriveDestination_(params);\n  return result;\n};\nee.rpc_convert_batch.buildTableAssetExportOptions_ = function(params) {\n  return new module$exports$eeapiclient$ee_api_client.TableAssetExportOptions({earthEngineDestination:ee.rpc_convert_batch.buildEarthEngineDestination_(params)});\n};\nee.rpc_convert_batch.buildFeatureViewExportOptions_ = function(params) {\n  return new module$exports$eeapiclient$ee_api_client.FeatureViewAssetExportOptions({featureViewDestination:ee.rpc_convert_batch.buildFeatureViewDestination_(params), ingestionTimeParameters:ee.rpc_convert_batch.buildFeatureViewIngestionTimeParameters_(params),});\n};\nee.rpc_convert_batch.buildBigQueryExportOptions_ = function(params) {\n  return new module$exports$eeapiclient$ee_api_client.BigQueryExportOptions({bigQueryDestination:ee.rpc_convert_batch.buildBigQueryDestination_(params),});\n};\nee.rpc_convert_batch.buildVideoFileExportOptions_ = function(params, destination) {\n  var result = new module$exports$eeapiclient$ee_api_client.VideoFileExportOptions({cloudStorageDestination:null, driveDestination:null, fileFormat:\"MP4\",});\n  destination === ee.rpc_convert_batch.ExportDestination.GCS ? result.cloudStorageDestination = ee.rpc_convert_batch.buildCloudStorageDestination_(params) : result.driveDestination = ee.rpc_convert_batch.buildDriveDestination_(params);\n  return result;\n};\nee.rpc_convert_batch.buildVideoOptions_ = function(params) {\n  return new module$exports$eeapiclient$ee_api_client.VideoOptions({framesPerSecond:numberOrNull_(params.framesPerSecond), maxFrames:numberOrNull_(params.maxFrames), maxPixelsPerFrame:stringOrNull_(params.maxPixels),});\n};\nee.rpc_convert_batch.buildVideoMapOptions_ = function(params) {\n  return new module$exports$eeapiclient$ee_api_client.VideoOptions({framesPerSecond:numberOrNull_(params.framesPerSecond), maxFrames:numberOrNull_(params.maxFrames), maxPixelsPerFrame:null,});\n};\nee.rpc_convert_batch.buildTileOptions_ = function(params) {\n  var $jscomp$nullish$tmp1, $jscomp$nullish$tmp2, $jscomp$nullish$tmp3, $jscomp$nullish$tmp4;\n  return new module$exports$eeapiclient$ee_api_client.TileOptions({endZoom:numberOrNull_(null != ($jscomp$nullish$tmp1 = params.endZoom) ? $jscomp$nullish$tmp1 : params.maxZoom), startZoom:numberOrNull_(null != ($jscomp$nullish$tmp2 = params.startZoom) ? $jscomp$nullish$tmp2 : params.minZoom), scale:numberOrNull_(params.scale), skipEmpty:!(null != ($jscomp$nullish$tmp3 = params.skipEmpty) ? !$jscomp$nullish$tmp3 : !params.skipEmptyTiles), mapsApiKey:stringOrNull_(params.mapsApiKey), \n  dimensions:ee.rpc_convert_batch.buildGridDimensions_(null != ($jscomp$nullish$tmp4 = params.dimensions) ? $jscomp$nullish$tmp4 : params.tileDimensions), stride:numberOrNull_(params.stride), zoomSubset:ee.rpc_convert_batch.buildZoomSubset_(numberOrNull_(params.minTimeMachineZoomSubset), numberOrNull_(params.maxTimeMachineZoomSubset)),});\n};\nee.rpc_convert_batch.buildZoomSubset_ = function(start, end) {\n  return null == start && null == end ? null : new module$exports$eeapiclient$ee_api_client.ZoomSubset({start:null != start ? start : 0, end:end});\n};\nee.rpc_convert_batch.buildGridDimensions_ = function(dimensions) {\n  if (null == dimensions) {\n    return null;\n  }\n  var result = new module$exports$eeapiclient$ee_api_client.GridDimensions({height:0, width:0});\n  \"string\" === typeof dimensions && (-1 !== dimensions.indexOf(\"x\") ? dimensions = dimensions.split(\"x\").map(Number) : -1 !== dimensions.indexOf(\",\") && (dimensions = dimensions.split(\",\").map(Number)));\n  if (Array.isArray(dimensions)) {\n    if (2 === dimensions.length) {\n      result.height = dimensions[0], result.width = dimensions[1];\n    } else if (1 === dimensions.length) {\n      result.height = dimensions[0], result.width = dimensions[0];\n    } else {\n      throw Error(\"Unable to construct grid from dimensions: \" + dimensions);\n    }\n  } else if (\"number\" !== typeof dimensions || isNaN(dimensions)) {\n    if (goog.isObject(dimensions) && null != dimensions.height && null != dimensions.width) {\n      result.height = dimensions.height, result.width = dimensions.width;\n    } else {\n      throw Error(\"Unable to construct grid from dimensions: \" + dimensions);\n    }\n  } else {\n    result.height = dimensions, result.width = dimensions;\n  }\n  return result;\n};\nee.rpc_convert_batch.buildCloudStorageDestination_ = function(params) {\n  var permissions = null;\n  null != params.writePublicTiles && (permissions = params.writePublicTiles ? \"PUBLIC\" : \"DEFAULT_OBJECT_ACL\");\n  return new module$exports$eeapiclient$ee_api_client.CloudStorageDestination({bucket:stringOrNull_(params.outputBucket), filenamePrefix:stringOrNull_(params.outputPrefix), bucketCorsUris:params.bucketCorsUris || null, permissions:permissions,});\n};\nee.rpc_convert_batch.buildDriveDestination_ = function(params) {\n  return new module$exports$eeapiclient$ee_api_client.DriveDestination({folder:stringOrNull_(params.driveFolder), filenamePrefix:stringOrNull_(params.driveFileNamePrefix),});\n};\nee.rpc_convert_batch.buildEarthEngineDestination_ = function(params) {\n  return new module$exports$eeapiclient$ee_api_client.EarthEngineDestination({name:ee.rpc_convert.assetIdToAssetName(params.assetId)});\n};\nee.rpc_convert_batch.buildFeatureViewDestination_ = function(params) {\n  return new module$exports$eeapiclient$ee_api_client.FeatureViewDestination({name:ee.rpc_convert.assetIdToAssetName(params.mapName)});\n};\nee.rpc_convert_batch.buildBigQueryDestination_ = function(params) {\n  return new module$exports$eeapiclient$ee_api_client.BigQueryDestination({table:stringOrNull_(params.table), overwrite:!!params.overwrite,});\n};\nee.rpc_convert_batch.buildFeatureViewIngestionTimeParameters_ = function(params) {\n  return new module$exports$eeapiclient$ee_api_client.FeatureViewIngestionTimeParameters({thinningOptions:ee.rpc_convert_batch.buildThinningOptions_(params), rankingOptions:ee.rpc_convert_batch.buildRankingOptions_(params)});\n};\nee.rpc_convert_batch.buildThinningOptions_ = function(params) {\n  return null == params ? null : new module$exports$eeapiclient$ee_api_client.ThinningOptions({maxFeaturesPerTile:numberOrNull_(params.maxFeaturesPerTile), thinningStrategy:params.thinningStrategy});\n};\nee.rpc_convert_batch.buildRankingOptions_ = function(params) {\n  return null == params ? null : new module$exports$eeapiclient$ee_api_client.RankingOptions({zOrderRankingRule:ee.rpc_convert_batch.buildRankingRule_(params.zOrderRanking), thinningRankingRule:ee.rpc_convert_batch.buildRankingRule_(params.thinningRanking),});\n};\nee.rpc_convert_batch.buildRankingRule_ = function(rules) {\n  if (!rules) {\n    return null;\n  }\n  var originalRules = rules;\n  \"string\" === typeof rules && (rules = rules.split(\",\"));\n  if (Array.isArray(rules)) {\n    return new module$exports$eeapiclient$ee_api_client.RankingRule({rankByOneThingRule:(rules || []).map(ee.rpc_convert_batch.buildRankByOneThingRule_),});\n  }\n  throw Error(\"Unable to build ranking rule from rules: \" + JSON.stringify(originalRules) + \". Rules should either be a comma-separated string or list of strings.\");\n};\nee.rpc_convert_batch.buildRankByOneThingRule_ = function(ruleString) {\n  var rankByOneThingRule = new module$exports$eeapiclient$ee_api_client.RankByOneThingRule({direction:null, rankByAttributeRule:null, rankByMinZoomLevelRule:null, rankByGeometryTypeRule:null,});\n  ruleString = ruleString.trim();\n  var matches = ruleString.match(/^([\\S]+.*)\\s+(ASC|DESC)$/);\n  if (null == matches) {\n    throw Error(\"Ranking rule format is invalid. Each rule should be defined by a rule type and a direction (ASC or DESC), separated by a space. Valid rule types are: .geometryType, .minZoomLevel, or a feature property name.\");\n  }\n  var $jscomp$destructuring$var46 = $jscomp.makeIterator(matches);\n  $jscomp$destructuring$var46.next();\n  var ruleType = $jscomp$destructuring$var46.next().value, direction = $jscomp$destructuring$var46.next().value;\n  switch(direction.toUpperCase()) {\n    case \"ASC\":\n      rankByOneThingRule.direction = \"ASCENDING\";\n      break;\n    case \"DESC\":\n      rankByOneThingRule.direction = \"DESCENDING\";\n      break;\n    default:\n      throw Error(\"Ranking rule direction '\" + direction + \"' is invalid. Directions are: ASC, DESC.\");\n  }\n  switch(ruleType.trim()) {\n    case \".geometryType\":\n      rankByOneThingRule.rankByGeometryTypeRule = new module$exports$eeapiclient$ee_api_client.RankByGeometryTypeRule({});\n      break;\n    case \".minZoomLevel\":\n      rankByOneThingRule.rankByMinZoomLevelRule = new module$exports$eeapiclient$ee_api_client.RankByMinZoomLevelRule({});\n      break;\n    default:\n      rankByOneThingRule.rankByAttributeRule = new module$exports$eeapiclient$ee_api_client.RankByAttributeRule({attributeName:stringOrNull_(ruleType)});\n  }\n  return rankByOneThingRule;\n};\ngoog.singleton = {};\nvar module$contents$goog$singleton_instantiatedSingletons = [], module$contents$goog$singleton_Singleton = function() {\n};\ngoog.singleton.getInstance = function(ctor) {\n  (0,goog.asserts.assert)(!Object.isSealed(ctor), \"Cannot use getInstance() with a sealed constructor.\");\n  if (ctor.instance_ && ctor.hasOwnProperty(\"instance_\")) {\n    return ctor.instance_;\n  }\n  goog.DEBUG && module$contents$goog$singleton_instantiatedSingletons.push(ctor);\n  var instance = new ctor();\n  ctor.instance_ = instance;\n  (0,goog.asserts.assert)(ctor.hasOwnProperty(\"instance_\"), \"Could not instantiate singleton.\");\n  return instance;\n};\ngoog.singleton.instantiatedSingletons = module$contents$goog$singleton_instantiatedSingletons;\nee.data = {};\nee.data.AbstractTaskConfig = {};\nee.data.AlgorithmsRegistry = {};\nee.data.AssetList = {};\nee.data.ClassifierTaskConfig = {};\nee.data.FeatureViewTaskConfig = {};\nee.data.ImageTaskConfig = {};\nee.data.MapTaskConfig = {};\nee.data.TableTaskConfig = {};\nee.data.VideoMapTaskConfig = {};\nee.data.VideoTaskConfig = {};\nee.data.authenticateViaOauth = function(clientId, success, opt_error, opt_extraScopes, opt_onImmediateFailed, opt_suppressDefaultScopes) {\n  var scopes = module$contents$ee$apiclient_apiclient.mergeAuthScopes_(!opt_suppressDefaultScopes, !1, opt_extraScopes || []);\n  module$contents$ee$apiclient_apiclient.setAuthClient(clientId, scopes);\n  null === clientId ? module$contents$ee$apiclient_apiclient.clearAuthToken() : module$contents$ee$apiclient_apiclient.ensureAuthLibLoaded_(function() {\n    var onImmediateFailed = opt_onImmediateFailed || goog.partial(ee.data.authenticateViaPopup, success, opt_error);\n    ee.data.refreshAuthToken(success, opt_error, onImmediateFailed);\n  });\n};\ngoog.exportSymbol(\"ee.data.authenticateViaOauth\", ee.data.authenticateViaOauth);\nee.data.authenticate = function(clientId, success, opt_error, opt_extraScopes, opt_onImmediateFailed) {\n  ee.data.authenticateViaOauth(clientId, success, opt_error, opt_extraScopes, opt_onImmediateFailed);\n};\ngoog.exportSymbol(\"ee.data.authenticate\", ee.data.authenticate);\nee.data.authenticateViaPopup = function(opt_success, opt_error) {\n  goog.global.gapi.auth.authorize({client_id:module$contents$ee$apiclient_apiclient.getAuthClientId(), immediate:!1, scope:module$contents$ee$apiclient_apiclient.getAuthScopes().join(\" \")}, goog.partial(module$contents$ee$apiclient_apiclient.handleAuthResult_, opt_success, opt_error));\n};\ngoog.exportSymbol(\"ee.data.authenticateViaPopup\", ee.data.authenticateViaPopup);\nee.data.authenticateViaPrivateKey = function(privateKey, opt_success, opt_error, opt_extraScopes, opt_suppressDefaultScopes) {\n  if (\"window\" in goog.global) {\n    throw Error(\"Use of private key authentication in the browser is insecure. Consider using OAuth, instead.\");\n  }\n  var scopes = module$contents$ee$apiclient_apiclient.mergeAuthScopes_(!opt_suppressDefaultScopes, !opt_suppressDefaultScopes, opt_extraScopes || []);\n  module$contents$ee$apiclient_apiclient.setAuthClient(privateKey.client_email, scopes);\n  var jwtClient = new google.auth.JWT(privateKey.client_email, null, privateKey.private_key, scopes, null);\n  ee.data.setAuthTokenRefresher(function(authArgs, callback) {\n    jwtClient.authorize(function(error, token) {\n      error ? callback({error:error}) : callback({access_token:token.access_token, token_type:token.token_type, expires_in:(token.expiry_date - Date.now()) / 1E3,});\n    });\n  });\n  ee.data.refreshAuthToken(opt_success, opt_error);\n};\ngoog.exportSymbol(\"ee.data.authenticateViaPrivateKey\", ee.data.authenticateViaPrivateKey);\nee.data.setApiKey = module$contents$ee$apiclient_apiclient.setApiKey;\nee.data.setProject = module$contents$ee$apiclient_apiclient.setProject;\nee.data.getProject = module$contents$ee$apiclient_apiclient.getProject;\nee.data.PROFILE_REQUEST_HEADER = module$contents$ee$apiclient_apiclient.PROFILE_REQUEST_HEADER;\nee.data.setExpressionAugmenter = function(augmenter) {\n  ee.data.expressionAugmenter_ = augmenter || goog.functions.identity;\n};\ngoog.exportSymbol(\"ee.data.setExpressionAugmenter\", ee.data.setExpressionAugmenter);\nee.data.expressionAugmenter_ = goog.functions.identity;\nee.data.setAuthToken = module$contents$ee$apiclient_apiclient.setAuthToken;\ngoog.exportSymbol(\"ee.data.setAuthToken\", ee.data.setAuthToken);\nee.data.refreshAuthToken = module$contents$ee$apiclient_apiclient.refreshAuthToken;\ngoog.exportSymbol(\"ee.data.refreshAuthToken\", ee.data.refreshAuthToken);\nee.data.setAuthTokenRefresher = module$contents$ee$apiclient_apiclient.setAuthTokenRefresher;\ngoog.exportSymbol(\"ee.data.setAuthTokenRefresher\", ee.data.setAuthTokenRefresher);\nee.data.getAuthToken = module$contents$ee$apiclient_apiclient.getAuthToken;\ngoog.exportSymbol(\"ee.data.getAuthToken\", ee.data.getAuthToken);\nee.data.clearAuthToken = module$contents$ee$apiclient_apiclient.clearAuthToken;\ngoog.exportSymbol(\"ee.data.clearAuthToken\", ee.data.clearAuthToken);\nee.data.getAuthClientId = module$contents$ee$apiclient_apiclient.getAuthClientId;\ngoog.exportSymbol(\"ee.data.getAuthClientId\", ee.data.getAuthClientId);\nee.data.getAuthScopes = module$contents$ee$apiclient_apiclient.getAuthScopes;\ngoog.exportSymbol(\"ee.data.getAuthScopes\", ee.data.getAuthScopes);\nee.data.setDeadline = module$contents$ee$apiclient_apiclient.setDeadline;\ngoog.exportSymbol(\"ee.data.setDeadline\", ee.data.setDeadline);\nee.data.setParamAugmenter = module$contents$ee$apiclient_apiclient.setParamAugmenter;\ngoog.exportSymbol(\"ee.data.setParamAugmenter\", ee.data.setParamAugmenter);\nee.data.initialize = module$contents$ee$apiclient_apiclient.initialize;\nee.data.reset = module$contents$ee$apiclient_apiclient.reset;\nee.data.PROFILE_HEADER = module$contents$ee$apiclient_apiclient.PROFILE_HEADER;\nee.data.makeRequest_ = module$contents$ee$apiclient_apiclient.makeRequest_;\nee.data.send_ = module$contents$ee$apiclient_apiclient.send;\nee.data.setupMockSend = module$contents$ee$apiclient_apiclient.setupMockSend;\nee.data.withProfiling = module$contents$ee$apiclient_apiclient.withProfiling;\nee.data.getAlgorithms = function(opt_callback) {\n  var call = new module$contents$ee$apiclient_Call(opt_callback);\n  return call.handle(call.algorithms().list(call.projectsPath(), {prettyPrint:!1}).then(ee.rpc_convert.algorithms));\n};\nee.data.getMapId = function(params, opt_callback) {\n  if (\"string\" === typeof params.image) {\n    throw Error(\"Image as JSON string not supported.\");\n  }\n  if (void 0 !== params.version) {\n    throw Error(\"Image version specification not supported.\");\n  }\n  var map = new module$exports$eeapiclient$ee_api_client.EarthEngineMap({name:null, expression:ee.data.expressionAugmenter_(ee.Serializer.encodeCloudApiExpression(params.image)), fileFormat:ee.rpc_convert.fileFormat(params.format), bandIds:ee.rpc_convert.bandList(params.bands), visualizationOptions:ee.rpc_convert.visualizationOptions(params),}), queryParams = {fields:\"name\"}, workloadTag = ee.data.getWorkloadTag();\n  workloadTag && (queryParams.workloadTag = workloadTag);\n  var call = new module$contents$ee$apiclient_Call(opt_callback);\n  return call.handle(call.maps().create(call.projectsPath(), map, queryParams).then(function(response) {\n    return ee.data.makeMapId_(response.name, \"\");\n  }));\n};\ngoog.exportSymbol(\"ee.data.getMapId\", ee.data.getMapId);\nee.data.getTileUrl = function(id, x, y, z) {\n  if (!id.formatTileUrl) {\n    var newId = ee.data.makeMapId_(id.mapid, id.token, id.urlFormat);\n    id.urlFormat = newId.urlFormat;\n    id.formatTileUrl = newId.formatTileUrl;\n  }\n  return id.formatTileUrl(x, y, z);\n};\ngoog.exportSymbol(\"ee.data.getTileUrl\", ee.data.getTileUrl);\nee.data.makeMapId_ = function(mapid, token, opt_urlFormat) {\n  var urlFormat = void 0 === opt_urlFormat ? \"\" : opt_urlFormat;\n  if (!urlFormat) {\n    module$contents$ee$apiclient_apiclient.initialize();\n    var base = module$contents$ee$apiclient_apiclient.getTileBaseUrl();\n    urlFormat = token ? base + \"/map/\" + mapid + \"/{z}/{x}/{y}?token=\" + token : base + \"/\" + module$exports$ee$apiVersion.V1ALPHA + \"/\" + mapid + \"/tiles/{z}/{x}/{y}\";\n  }\n  return {mapid:mapid, token:token, formatTileUrl:function(x, y, z) {\n    var width = Math.pow(2, z);\n    x %= width;\n    x = String(0 > x ? x + width : x);\n    return urlFormat.replace(\"{x}\", x).replace(\"{y}\", y).replace(\"{z}\", z);\n  }, urlFormat:urlFormat};\n};\nee.data.getFeatureViewTilesKey = function(params, opt_callback) {\n  var visualizationExpression = params.visParams ? ee.data.expressionAugmenter_(ee.Serializer.encodeCloudApiExpression(params.visParams)) : null, map = new module$exports$eeapiclient$ee_api_client.FeatureView({name:null, asset:params.assetId, mapName:params.mapName, visualizationExpression:visualizationExpression,}), call = new module$contents$ee$apiclient_Call(opt_callback);\n  return call.handle(call.featureView().create(call.projectsPath(), map, {fields:[\"name\"]}).then(function(response) {\n    var token = response.name.split(\"/\").pop(), rawTilesKey = token.substring(0, token.lastIndexOf(\"-\"));\n    return {token:token, formatTileUrl:function(x, y, z) {\n      return module$contents$ee$apiclient_apiclient.getTileBaseUrl() + \"/\" + module$exports$ee$apiVersion.V1ALPHA + \"/\" + response.name + \"/tiles/\" + z + \"/\" + x + \"/\" + y;\n    }, rawTilesKey:rawTilesKey};\n  }));\n};\ngoog.exportSymbol(\"ee.data.getFeatureViewTilesKey\", ee.data.getFeatureViewTilesKey);\nee.data.listFeatures = function(asset, params, opt_callback) {\n  var call = new module$contents$ee$apiclient_Call(opt_callback), name = ee.rpc_convert.assetIdToAssetName(asset);\n  return call.handle(call.assets().listFeatures(name, params));\n};\ngoog.exportSymbol(\"ee.data.listFeatures\", ee.data.listFeatures);\nee.data.computeValue = function(obj, opt_callback) {\n  var request = {expression:ee.data.expressionAugmenter_(ee.Serializer.encodeCloudApiExpression(obj))}, workloadTag = ee.data.getWorkloadTag();\n  workloadTag && (request.workloadTag = workloadTag);\n  var call = new module$contents$ee$apiclient_Call(opt_callback);\n  return call.handle(call.value().compute(call.projectsPath(), new module$exports$eeapiclient$ee_api_client.ComputeValueRequest(request)).then(function(x) {\n    return x.result;\n  }));\n};\ngoog.exportSymbol(\"ee.data.computeValue\", ee.data.computeValue);\nee.data.getThumbId = function(params, opt_callback) {\n  if (\"string\" === typeof params.image) {\n    throw Error(\"Image as JSON string not supported.\");\n  }\n  if (void 0 !== params.version) {\n    throw Error(\"Image version specification not supported.\");\n  }\n  if (void 0 !== params.region) {\n    throw Error('\"region\" not supported in call to ee.data.getThumbId. Use ee.Image.getThumbURL.');\n  }\n  if (void 0 !== params.dimensions) {\n    throw Error('\"dimensions\" is not supported in call to ee.data.getThumbId. Use ee.Image.getThumbURL.');\n  }\n  var thumbnail = new module$exports$eeapiclient$ee_api_client.Thumbnail({name:null, expression:ee.data.expressionAugmenter_(ee.Serializer.encodeCloudApiExpression(params.image)), fileFormat:ee.rpc_convert.fileFormat(params.format), filenamePrefix:params.name, bandIds:ee.rpc_convert.bandList(params.bands), visualizationOptions:ee.rpc_convert.visualizationOptions(params), grid:null,}), queryParams = {fields:\"name\"}, workloadTag = ee.data.getWorkloadTag();\n  workloadTag && (queryParams.workloadTag = workloadTag);\n  var call = new module$contents$ee$apiclient_Call(opt_callback);\n  return call.handle(call.thumbnails().create(call.projectsPath(), thumbnail, queryParams).then(function(response) {\n    return {thumbid:response.name, token:\"\"};\n  }));\n};\ngoog.exportSymbol(\"ee.data.getThumbId\", ee.data.getThumbId);\nee.data.getVideoThumbId = function(params, opt_callback) {\n  var videoOptions = new module$exports$eeapiclient$ee_api_client.VideoOptions({framesPerSecond:params.framesPerSecond || null, maxFrames:params.maxFrames || null, maxPixelsPerFrame:params.maxPixelsPerFrame || null,}), request = new module$exports$eeapiclient$ee_api_client.VideoThumbnail({name:null, expression:ee.data.expressionAugmenter_(ee.Serializer.encodeCloudApiExpression(params.imageCollection)), fileFormat:ee.rpc_convert.fileFormat(params.format), \n  videoOptions:videoOptions, grid:null,}), queryParams = {fields:\"name\"}, workloadTag = ee.data.getWorkloadTag();\n  workloadTag && (queryParams.workloadTag = workloadTag);\n  var call = new module$contents$ee$apiclient_Call(opt_callback);\n  return call.handle(call.videoThumbnails().create(call.projectsPath(), request, queryParams).then(function(response) {\n    return {thumbid:response.name, token:\"\"};\n  }));\n};\ngoog.exportSymbol(\"ee.data.getVideoThumbId\", ee.data.getVideoThumbId);\nee.data.getFilmstripThumbId = function(params, opt_callback) {\n  var request = new module$exports$eeapiclient$ee_api_client.FilmstripThumbnail({name:null, expression:ee.data.expressionAugmenter_(ee.Serializer.encodeCloudApiExpression(params.imageCollection)), fileFormat:ee.rpc_convert.fileFormat(params.format), orientation:ee.rpc_convert.orientation(params.orientation), grid:null,}), queryParams = {fields:\"name\"}, workloadTag = ee.data.getWorkloadTag();\n  workloadTag && (queryParams.workloadTag = workloadTag);\n  var call = new module$contents$ee$apiclient_Call(opt_callback);\n  return call.handle(call.filmstripThumbnails().create(call.projectsPath(), request, queryParams).then(function(response) {\n    return {thumbid:response.name, token:\"\"};\n  }));\n};\ngoog.exportSymbol(\"ee.data.getFilmstripThumbId\", ee.data.getFilmstripThumbId);\nee.data.makeThumbUrl = function(id) {\n  return module$contents$ee$apiclient_apiclient.getTileBaseUrl() + \"/\" + module$exports$ee$apiVersion.V1ALPHA + \"/\" + id.thumbid + \":getPixels\";\n};\ngoog.exportSymbol(\"ee.data.makeThumbUrl\", ee.data.makeThumbUrl);\nee.data.getDownloadId = function(params, opt_callback) {\n  params = Object.assign({}, params);\n  params.id && (params.image = new ee.Image(params.id));\n  if (\"string\" === typeof params.image) {\n    throw Error(\"Image as serialized JSON string not supported.\");\n  }\n  if (!params.image) {\n    throw Error(\"Missing ID or image parameter.\");\n  }\n  params.filePerBand = !1 !== params.filePerBand;\n  params.format = params.format || (params.filePerBand ? \"ZIPPED_GEO_TIFF_PER_BAND\" : \"ZIPPED_GEO_TIFF\");\n  if (null != params.region && (null != params.scale || null != params.crs_transform) && null != params.dimensions) {\n    throw Error(\"Cannot specify (bounding region, crs_transform/scale, dimensions) simultaneously.\");\n  }\n  if (\"string\" === typeof params.bands) {\n    try {\n      params.bands = JSON.parse(params.bands);\n    } catch (e) {\n      params.bands = ee.rpc_convert.bandList(params.bands);\n    }\n  }\n  if (params.bands && !Array.isArray(params.bands)) {\n    throw Error(\"Bands parameter must be an array.\");\n  }\n  params.bands && params.bands.every(function(band) {\n    return \"string\" === typeof band;\n  }) && (params.bands = params.bands.map(function(band) {\n    return {id:band};\n  }));\n  if (params.bands && params.bands.some(function($jscomp$destructuring$var47) {\n    return null == $jscomp$destructuring$var47.id;\n  })) {\n    throw Error(\"Each band dictionary must have an id.\");\n  }\n  \"string\" === typeof params.region && (params.region = JSON.parse(params.region));\n  if (\"string\" === typeof params.crs_transform) {\n    try {\n      params.crs_transform = JSON.parse(params.crs_transform);\n    } catch (e$64) {\n    }\n  }\n  var image = ee.data.images.buildDownloadIdImage(params.image, params), thumbnail = new module$exports$eeapiclient$ee_api_client.Thumbnail({name:null, expression:ee.data.expressionAugmenter_(ee.Serializer.encodeCloudApiExpression(image)), fileFormat:ee.rpc_convert.fileFormat(params.format), filenamePrefix:params.name, bandIds:params.bands && ee.rpc_convert.bandList(params.bands.map(function(band) {\n    return band.id;\n  })), grid:null,}), queryParams = {fields:\"name\"}, workloadTag = ee.data.getWorkloadTag();\n  workloadTag && (queryParams.workloadTag = workloadTag);\n  var call = new module$contents$ee$apiclient_Call(opt_callback);\n  return call.handle(call.thumbnails().create(call.projectsPath(), thumbnail, queryParams).then(function(response) {\n    return {docid:response.name, token:\"\"};\n  }));\n};\ngoog.exportSymbol(\"ee.data.getDownloadId\", ee.data.getDownloadId);\nee.data.makeDownloadUrl = function(id) {\n  module$contents$ee$apiclient_apiclient.initialize();\n  return module$contents$ee$apiclient_apiclient.getTileBaseUrl() + \"/\" + module$exports$ee$apiVersion.V1ALPHA + \"/\" + id.docid + \":getPixels\";\n};\ngoog.exportSymbol(\"ee.data.makeDownloadUrl\", ee.data.makeDownloadUrl);\nee.data.getTableDownloadId = function(params, opt_callback) {\n  var call = new module$contents$ee$apiclient_Call(opt_callback), fileFormat = ee.rpc_convert.tableFileFormat(params.format), expression = ee.data.expressionAugmenter_(ee.Serializer.encodeCloudApiExpression(params.table)), selectors = null;\n  if (null != params.selectors) {\n    if (\"string\" === typeof params.selectors) {\n      selectors = params.selectors.split(\",\");\n    } else if (Array.isArray(params.selectors) && params.selectors.every(function(x) {\n      return \"string\" === typeof x;\n    })) {\n      selectors = params.selectors;\n    } else {\n      throw Error(\"'selectors' parameter must be an array of strings.\");\n    }\n  }\n  var table = new module$exports$eeapiclient$ee_api_client.Table({name:null, expression:expression, fileFormat:fileFormat, selectors:selectors, filename:params.filename || null,}), queryParams = {fields:\"name\"}, workloadTag = ee.data.getWorkloadTag();\n  workloadTag && (queryParams.workloadTag = workloadTag);\n  return call.handle(call.tables().create(call.projectsPath(), table, queryParams).then(function(res) {\n    return {docid:res.name || \"\", token:\"\"};\n  }));\n};\ngoog.exportSymbol(\"ee.data.getTableDownloadId\", ee.data.getTableDownloadId);\nee.data.makeTableDownloadUrl = function(id) {\n  return module$contents$ee$apiclient_apiclient.getTileBaseUrl() + \"/\" + module$exports$ee$apiVersion.V1ALPHA + \"/\" + id.docid + \":getFeatures\";\n};\ngoog.exportSymbol(\"ee.data.makeTableDownloadUrl\", ee.data.makeTableDownloadUrl);\nee.data.newTaskId = function(opt_count, opt_callback) {\n  var rand = function(n) {\n    return Math.floor(Math.random() * n);\n  }, hex = function(d) {\n    return rand(Math.pow(2, 4 * d)).toString(16).padStart(d, \"0\");\n  }, variantPart = function() {\n    return (8 + rand(4)).toString(16) + hex(3);\n  }, uuids = module$contents$goog$array_range(opt_count || 1).map(function() {\n    return [hex(8), hex(4), \"4\" + hex(3), variantPart(), hex(12)].join(\"-\");\n  });\n  return opt_callback ? opt_callback(uuids) : uuids;\n};\ngoog.exportSymbol(\"ee.data.newTaskId\", ee.data.newTaskId);\nee.data.getTaskStatus = function(taskId, opt_callback) {\n  var opNames = ee.data.makeStringArray_(taskId).map(ee.rpc_convert.taskIdToOperationName);\n  if (1 === opNames.length) {\n    var call$66 = new module$contents$ee$apiclient_Call(opt_callback);\n    return call$66.handle(call$66.operations().get(opNames[0]).then(function(op) {\n      return [ee.rpc_convert.operationToTask(op)];\n    }));\n  }\n  var call = new module$contents$ee$apiclient_BatchCall(opt_callback), operations = call.operations();\n  return call.send(opNames.map(function(op) {\n    return [op, operations.get(op)];\n  }), function(data) {\n    return opNames.map(function(id) {\n      return ee.rpc_convert.operationToTask(data[id]);\n    });\n  });\n};\ngoog.exportSymbol(\"ee.data.getTaskStatus\", ee.data.getTaskStatus);\nee.data.makeStringArray_ = function(value) {\n  if (\"string\" === typeof value) {\n    return [value];\n  }\n  if (Array.isArray(value)) {\n    return value;\n  }\n  throw Error(\"Invalid value: expected a string or an array of strings.\");\n};\nee.data.TASKLIST_PAGE_SIZE_ = 500;\nee.data.getTaskList = function(opt_callback) {\n  return ee.data.getTaskListWithLimit(void 0, opt_callback);\n};\ngoog.exportSymbol(\"ee.data.getTaskList\", ee.data.getTaskList);\nee.data.getTaskListWithLimit = function(opt_limit, opt_callback) {\n  var convert = function(ops) {\n    return {tasks:ops.map(ee.rpc_convert.operationToTask)};\n  };\n  return opt_callback ? (ee.data.listOperations(opt_limit, function(v, e) {\n    return opt_callback(v ? convert(v) : null, e);\n  }), null) : convert(ee.data.listOperations(opt_limit));\n};\ngoog.exportSymbol(\"ee.data.getTaskListWithLimit\", ee.data.getTaskListWithLimit);\nee.data.listOperations = function(opt_limit, opt_callback) {\n  var ops = [], truncatedOps = function() {\n    return opt_limit ? ops.slice(0, opt_limit) : ops;\n  }, params = {pageSize:ee.data.TASKLIST_PAGE_SIZE_}, getResponse = function(response) {\n    module$contents$goog$array_extend(ops, response.operations || []);\n    !response.nextPageToken || opt_limit && ops.length >= opt_limit ? opt_callback && opt_callback(truncatedOps()) : (params.pageToken = response.nextPageToken, call.handle(operations.list(call.projectsPath(), params).then(getResponse)));\n    return null;\n  }, call = new module$contents$ee$apiclient_Call(opt_callback ? function(value, err) {\n    return err && opt_callback(value, err);\n  } : void 0), operations = call.operations();\n  call.handle(operations.list(call.projectsPath(), params).then(getResponse));\n  return opt_callback ? null : truncatedOps();\n};\ngoog.exportSymbol(\"ee.data.listOperations\", ee.data.listOperations);\nee.data.cancelOperation = function(operationName, opt_callback) {\n  var opNames = ee.data.makeStringArray_(operationName), request = new module$exports$eeapiclient$ee_api_client.CancelOperationRequest();\n  if (1 === opNames.length) {\n    var call$67 = new module$contents$ee$apiclient_Call(opt_callback);\n    call$67.handle(call$67.operations().cancel(opNames[0], request));\n  } else {\n    var call = new module$contents$ee$apiclient_BatchCall(opt_callback), operations = call.operations();\n    call.send(opNames.map(function(op) {\n      return [op, operations.cancel(op, request)];\n    }));\n  }\n};\ngoog.exportSymbol(\"ee.data.cancelOperation\", ee.data.cancelOperation);\nee.data.getOperation = function(operationName, opt_callback) {\n  var opNames = ee.data.makeStringArray_(operationName).map(ee.rpc_convert.taskIdToOperationName);\n  if (!Array.isArray(operationName)) {\n    var call$68 = new module$contents$ee$apiclient_Call(opt_callback);\n    return call$68.handle(call$68.operations().get(opNames[0]));\n  }\n  var call = new module$contents$ee$apiclient_BatchCall(opt_callback), operations = call.operations();\n  return call.send(opNames.map(function(op) {\n    return [op, operations.get(op)];\n  }));\n};\ngoog.exportSymbol(\"ee.data.getOperation\", ee.data.getOperation);\nee.data.cancelTask = function(taskId, opt_callback) {\n  return ee.data.updateTask(taskId, ee.data.TaskUpdateActions.CANCEL, opt_callback);\n};\ngoog.exportSymbol(\"ee.data.cancelTask\", ee.data.cancelTask);\nee.data.updateTask = function(taskId, action, opt_callback) {\n  if (!module$contents$goog$object_containsValue(ee.data.TaskUpdateActions, action)) {\n    throw Error(\"Invalid action: \" + action);\n  }\n  taskId = ee.data.makeStringArray_(taskId);\n  var operations = taskId.map(ee.rpc_convert.taskIdToOperationName);\n  ee.data.cancelOperation(operations, opt_callback);\n  return null;\n};\ngoog.exportSymbol(\"ee.data.updateTask\", ee.data.updateTask);\nee.data.startProcessing = function(taskId, params, opt_callback) {\n  params.id = taskId;\n  var taskType = params.type, metadata = null != params.sourceUrl ? {__source_url__:params.sourceUrl} : {};\n  if (\"workloadTag\" in params) {\n    params.workloadTag || delete params.workloadTag;\n  } else {\n    var workloadTag = ee.data.getWorkloadTag();\n    workloadTag && (params.workloadTag = workloadTag);\n  }\n  var call = new module$contents$ee$apiclient_Call(opt_callback), handle = function(response) {\n    return call.handle(response.then(ee.rpc_convert.operationToProcessingResponse));\n  };\n  switch(taskType) {\n    case ee.data.ExportType.IMAGE:\n      var imageRequest = ee.data.prepareExportImageRequest_(params, metadata);\n      return handle(call.image().export(call.projectsPath(), imageRequest));\n    case ee.data.ExportType.TABLE:\n      var tableRequest = ee.rpc_convert_batch.taskToExportTableRequest(params);\n      tableRequest.expression = ee.data.expressionAugmenter_(tableRequest.expression, metadata);\n      return handle(call.table().export(call.projectsPath(), tableRequest));\n    case ee.data.ExportType.VIDEO:\n      var videoRequest = ee.data.prepareExportVideoRequest_(params, metadata);\n      return handle(call.video().export(call.projectsPath(), videoRequest));\n    case ee.data.ExportType.MAP:\n      var mapRequest = ee.data.prepareExportMapRequest_(params, metadata);\n      return handle(call.map().export(call.projectsPath(), mapRequest));\n    case ee.data.ExportType.VIDEO_MAP:\n      var videoMapRequest = ee.data.prepareExportVideoMapRequest_(params, metadata);\n      return handle(call.videoMap().export(call.projectsPath(), videoMapRequest));\n    case ee.data.ExportType.CLASSIFIER:\n      var classifierRequest = ee.data.prepareExportClassifierRequest_(params, metadata);\n      return handle(call.classifier().export(call.projectsPath(), classifierRequest));\n    default:\n      throw Error(\"Unable to start processing for task of type \" + taskType);\n  }\n};\ngoog.exportSymbol(\"ee.data.startProcessing\", ee.data.startProcessing);\nee.data.prepareExportImageRequest_ = function(taskConfig, metadata) {\n  var imageTask = ee.data.images.applyTransformsToImage(taskConfig), imageRequest = ee.rpc_convert_batch.taskToExportImageRequest(imageTask);\n  imageRequest.expression = ee.data.expressionAugmenter_(imageRequest.expression, metadata);\n  taskConfig.workloadTag && (imageRequest.workloadTag = taskConfig.workloadTag);\n  return imageRequest;\n};\nee.data.prepareExportVideoRequest_ = function(taskConfig, metadata) {\n  var videoTask = ee.data.images.applyTransformsToCollection(taskConfig), videoRequest = ee.rpc_convert_batch.taskToExportVideoRequest(videoTask);\n  videoRequest.expression = ee.data.expressionAugmenter_(videoRequest.expression, metadata);\n  taskConfig.workloadTag && (videoRequest.workloadTag = taskConfig.workloadTag);\n  return videoRequest;\n};\nee.data.prepareExportMapRequest_ = function(taskConfig, metadata) {\n  var scale = taskConfig.scale;\n  delete taskConfig.scale;\n  var mapTask = ee.data.images.applyTransformsToImage(taskConfig);\n  mapTask.scale = scale;\n  var mapRequest = ee.rpc_convert_batch.taskToExportMapRequest(mapTask);\n  mapRequest.expression = ee.data.expressionAugmenter_(mapRequest.expression, metadata);\n  taskConfig.workloadTag && (mapRequest.workloadTag = taskConfig.workloadTag);\n  return mapRequest;\n};\nee.data.prepareExportVideoMapRequest_ = function(taskConfig, metadata) {\n  var scale = taskConfig.scale;\n  delete taskConfig.scale;\n  var videoMapTask = ee.data.images.applyTransformsToCollection(taskConfig);\n  videoMapTask.scale = scale;\n  var videoMapRequest = ee.rpc_convert_batch.taskToExportVideoMapRequest(videoMapTask);\n  videoMapRequest.expression = ee.data.expressionAugmenter_(videoMapRequest.expression);\n  taskConfig.workloadTag && (videoMapRequest.workloadTag = taskConfig.workloadTag);\n  return videoMapRequest;\n};\nee.data.prepareExportClassifierRequest_ = function(taskConfig, metadata) {\n  var classifierRequest = ee.rpc_convert_batch.taskToExportClassifierRequest(taskConfig);\n  classifierRequest.expression = ee.data.expressionAugmenter_(classifierRequest.expression);\n  taskConfig.workloadTag && (classifierRequest.workloadTag = taskConfig.workloadTag);\n  return classifierRequest;\n};\nee.data.startIngestion = function(taskId, request, opt_callback) {\n  var manifest = ee.rpc_convert.toImageManifest(request), convert = function(arg) {\n    return arg ? ee.rpc_convert.operationToProcessingResponse(arg) : null;\n  };\n  return convert(ee.data.ingestImage(taskId, manifest, opt_callback && function(arg, err) {\n    return opt_callback(convert(arg), err);\n  }));\n};\ngoog.exportSymbol(\"ee.data.startIngestion\", ee.data.startIngestion);\nee.data.ingestImage = function(taskId, imageManifest, callback) {\n  var request = new module$exports$eeapiclient$ee_api_client.ImportImageRequest({imageManifest:imageManifest, requestId:taskId, overwrite:null, description:null,}), call = new module$contents$ee$apiclient_Call(callback, taskId ? void 0 : 0);\n  return call.handle(call.image().import(call.projectsPath(), request));\n};\nee.data.ingestTable = function(taskId, tableManifest, callback) {\n  var request = new module$exports$eeapiclient$ee_api_client.ImportTableRequest({tableManifest:tableManifest, requestId:taskId, overwrite:null, description:null,}), call = new module$contents$ee$apiclient_Call(callback, taskId ? void 0 : 0);\n  return call.handle(call.table().import(call.projectsPath(), request));\n};\nee.data.startTableIngestion = function(taskId, request, opt_callback) {\n  var manifest = ee.rpc_convert.toTableManifest(request), convert = function(arg) {\n    return arg ? ee.rpc_convert.operationToProcessingResponse(arg) : null;\n  };\n  return convert(ee.data.ingestTable(taskId, manifest, opt_callback && function(arg, err) {\n    return opt_callback(convert(arg), err);\n  }));\n};\ngoog.exportSymbol(\"ee.data.startTableIngestion\", ee.data.startTableIngestion);\nee.data.getAsset = function(id, opt_callback) {\n  var call = new module$contents$ee$apiclient_Call(opt_callback), name = ee.rpc_convert.assetIdToAssetName(id);\n  return call.handle(call.assets().get(name, {prettyPrint:!1}).then(ee.rpc_convert.assetToLegacyResult));\n};\ngoog.exportSymbol(\"ee.data.getAsset\", ee.data.getAsset);\nee.data.getInfo = ee.data.getAsset;\ngoog.exportSymbol(\"ee.data.getInfo\", ee.data.getInfo);\nee.data.makeListAssetsCall_ = function(parent, opt_params, opt_callback, opt_postProcessing) {\n  opt_params = void 0 === opt_params ? {} : opt_params;\n  opt_postProcessing = void 0 === opt_postProcessing ? goog.functions.identity : opt_postProcessing;\n  var isProjectAssetRoot = ee.rpc_convert.CLOUD_ASSET_ROOT_RE.test(parent), call = new module$contents$ee$apiclient_Call(opt_callback), methodRoot = isProjectAssetRoot ? call.projects() : call.assets();\n  parent = isProjectAssetRoot ? ee.rpc_convert.projectParentFromPath(parent) : ee.rpc_convert.assetIdToAssetName(parent);\n  return call.handle(methodRoot.listAssets(parent, opt_params).then(opt_postProcessing));\n};\nee.data.getList = function(params, opt_callback) {\n  return ee.data.makeListAssetsCall_(params.id, ee.rpc_convert.getListToListAssets(params), opt_callback, function(r) {\n    return null == r ? null : ee.rpc_convert.listAssetsToGetList(r);\n  });\n};\ngoog.exportSymbol(\"ee.data.getList\", ee.data.getList);\nee.data.listAssets = function(parent, opt_params, opt_callback) {\n  opt_params = void 0 === opt_params ? {} : opt_params;\n  return ee.data.makeListAssetsCall_(parent, opt_params, opt_callback);\n};\ngoog.exportSymbol(\"ee.data.listAssets\", ee.data.listAssets);\nee.data.listImages = function(parent, opt_params, opt_callback) {\n  opt_params = void 0 === opt_params ? {} : opt_params;\n  var params = ee.rpc_convert.processListImagesParams(opt_params);\n  return ee.data.makeListAssetsCall_(parent, params, opt_callback, function(r) {\n    if (null == r) {\n      return null;\n    }\n    var listImagesResponse = {};\n    r.assets && (listImagesResponse.images = r.assets);\n    r.nextPageToken && (listImagesResponse.nextPageToken = r.nextPageToken);\n    return listImagesResponse;\n  });\n};\ngoog.exportSymbol(\"ee.data.listImages\", ee.data.listImages);\nee.data.listBuckets = function(project, opt_callback) {\n  var call = new module$contents$ee$apiclient_Call(opt_callback);\n  return call.handle(call.projects().listAssets(project || call.projectsPath()));\n};\ngoog.exportSymbol(\"ee.data.listBuckets\", ee.data.listBuckets);\nee.data.getAssetRoots = function(opt_callback) {\n  var call = new module$contents$ee$apiclient_Call(opt_callback);\n  return call.handle(call.projects().listAssets(call.projectsPath()).then(ee.rpc_convert.listAssetsToGetList));\n};\ngoog.exportSymbol(\"ee.data.getAssetRoots\", ee.data.getAssetRoots);\nee.data.createAssetHome = function(requestedId, opt_callback) {\n  var parent = ee.rpc_convert.projectParentFromPath(requestedId), assetId = parent === \"projects/\" + module$contents$ee$apiclient_apiclient.DEFAULT_PROJECT_ ? requestedId : void 0, asset = new module$exports$eeapiclient$ee_api_client.EarthEngineAsset({type:\"Folder\"}), call = new module$contents$ee$apiclient_Call(opt_callback);\n  call.handle(call.assets().create(parent, asset, {assetId:assetId}).then(ee.rpc_convert.assetToLegacyResult));\n};\ngoog.exportSymbol(\"ee.data.createAssetHome\", ee.data.createAssetHome);\nee.data.createAsset = function(value, opt_path, opt_force, opt_properties, opt_callback) {\n  if (opt_force) {\n    throw Error(\"Asset overwrite not supported.\");\n  }\n  if (\"string\" === typeof value) {\n    throw Error(\"Asset cannot be specified as string.\");\n  }\n  var name = value.name || opt_path && ee.rpc_convert.assetIdToAssetName(opt_path);\n  if (!name) {\n    throw Error(\"Either asset name or opt_path must be specified.\");\n  }\n  var split = name.indexOf(\"/assets/\");\n  if (-1 === split) {\n    throw Error(\"Asset name must contain /assets/.\");\n  }\n  var asset = new module$exports$eeapiclient$ee_api_client.EarthEngineAsset(value), parent = name.slice(0, split), assetId = name.slice(split + 8);\n  asset.id = null;\n  asset.name = null;\n  opt_properties && !asset.properties && (asset.properties = opt_properties);\n  asset.type = ee.rpc_convert.assetTypeForCreate(asset.type);\n  var call = new module$contents$ee$apiclient_Call(opt_callback);\n  return call.handle(call.assets().create(parent, asset, {assetId:assetId}).then(ee.rpc_convert.assetToLegacyResult));\n};\ngoog.exportSymbol(\"ee.data.createAsset\", ee.data.createAsset);\nee.data.createFolder = function(path, opt_force, opt_callback) {\n  return ee.data.createAsset({type:\"Folder\"}, path, opt_force, void 0, opt_callback);\n};\ngoog.exportSymbol(\"ee.data.createFolder\", ee.data.createFolder);\nee.data.renameAsset = function(sourceId, destinationId, opt_callback) {\n  var sourceName = ee.rpc_convert.assetIdToAssetName(sourceId), destinationName = ee.rpc_convert.assetIdToAssetName(destinationId), request = new module$exports$eeapiclient$ee_api_client.MoveAssetRequest({destinationName:destinationName}), call = new module$contents$ee$apiclient_Call(opt_callback);\n  call.handle(call.assets().move(sourceName, request).then(ee.rpc_convert.assetToLegacyResult));\n};\ngoog.exportSymbol(\"ee.data.renameAsset\", ee.data.renameAsset);\nee.data.copyAsset = function(sourceId, destinationId, opt_overwrite, opt_callback) {\n  var sourceName = ee.rpc_convert.assetIdToAssetName(sourceId), destinationName = ee.rpc_convert.assetIdToAssetName(destinationId), request = new module$exports$eeapiclient$ee_api_client.CopyAssetRequest({destinationName:destinationName, overwrite:null != opt_overwrite ? opt_overwrite : null}), call = new module$contents$ee$apiclient_Call(opt_callback);\n  call.handle(call.assets().copy(sourceName, request).then(ee.rpc_convert.assetToLegacyResult));\n};\ngoog.exportSymbol(\"ee.data.copyAsset\", ee.data.copyAsset);\nee.data.deleteAsset = function(assetId, opt_callback) {\n  var call = new module$contents$ee$apiclient_Call(opt_callback);\n  call.handle(call.assets().delete(ee.rpc_convert.assetIdToAssetName(assetId)));\n};\ngoog.exportSymbol(\"ee.data.deleteAsset\", ee.data.deleteAsset);\nee.data.getAssetAcl = function(assetId, opt_callback) {\n  var resource = ee.rpc_convert.assetIdToAssetName(assetId), request = new module$exports$eeapiclient$ee_api_client.GetIamPolicyRequest(), call = new module$contents$ee$apiclient_Call(opt_callback);\n  return call.handle(call.assets().getIamPolicy(resource, request, {prettyPrint:!1}).then(ee.rpc_convert.iamPolicyToAcl));\n};\ngoog.exportSymbol(\"ee.data.getAssetAcl\", ee.data.getAssetAcl);\nee.data.getIamPolicy = function(assetId, opt_callback) {\n  var resource = ee.rpc_convert.assetIdToAssetName(assetId), request = new module$exports$eeapiclient$ee_api_client.GetIamPolicyRequest(), call = new module$contents$ee$apiclient_Call(opt_callback);\n  return call.handle(call.assets().getIamPolicy(resource, request, {prettyPrint:!1}));\n};\nee.data.setIamPolicy = function(assetId, policy, opt_callback) {\n  var resource = ee.rpc_convert.assetIdToAssetName(assetId), request = new module$exports$eeapiclient$ee_api_client.SetIamPolicyRequest({policy:policy}), call = new module$contents$ee$apiclient_Call(opt_callback);\n  return call.handle(call.assets().setIamPolicy(resource, request, {prettyPrint:!1}));\n};\nee.data.updateAsset = function(assetId, asset, updateFields, opt_callback) {\n  var updateMask = (updateFields || []).join(\",\"), request = new module$exports$eeapiclient$ee_api_client.UpdateAssetRequest({asset:asset, updateMask:updateMask}), call = new module$contents$ee$apiclient_Call(opt_callback);\n  return call.handle(call.assets().patch(ee.rpc_convert.assetIdToAssetName(assetId), request).then(ee.rpc_convert.assetToLegacyResult));\n};\ngoog.exportSymbol(\"ee.data.updateAsset\", ee.data.updateAsset);\nee.data.setAssetAcl = function(assetId, aclUpdate, opt_callback) {\n  var resource = ee.rpc_convert.assetIdToAssetName(assetId), policy = ee.rpc_convert.aclToIamPolicy(aclUpdate), request = new module$exports$eeapiclient$ee_api_client.SetIamPolicyRequest({policy:policy}), call = new module$contents$ee$apiclient_Call(opt_callback);\n  call.handle(call.assets().setIamPolicy(resource, request, {prettyPrint:!1}));\n};\ngoog.exportSymbol(\"ee.data.setAssetAcl\", ee.data.setAssetAcl);\nee.data.setAssetProperties = function(assetId, properties, opt_callback) {\n  var asset = ee.rpc_convert.legacyPropertiesToAssetUpdate(properties), updateFields = asset.getClassMetadata().keys.filter(function(k) {\n    return \"properties\" !== k && asset.Serializable$has(k);\n  }).map(function(str) {\n    return str.replace(/([A-Z])/g, function(all, cap) {\n      return \"_\" + cap.toLowerCase();\n    });\n  }).concat(Object.keys(asset.properties || {}).map(function(k) {\n    return 'properties.\"' + k + '\"';\n  }));\n  ee.data.updateAsset(assetId, asset, updateFields, opt_callback);\n};\ngoog.exportSymbol(\"ee.data.setAssetProperties\", ee.data.setAssetProperties);\nee.data.getAssetRootQuota = function(rootId, opt_callback) {\n  var name = ee.rpc_convert.assetIdToAssetName(rootId), call = new module$contents$ee$apiclient_Call(opt_callback), assetsCall = call.assets(), validateParams = assetsCall.$apiClient.$validateParameter;\n  assetsCall.$apiClient.$validateParameter = function(param, pattern) {\n    \"^projects\\\\/[^/]+\\\\/assets\\\\/.+$\" === pattern.source && (pattern = RegExp(\"^projects/[^/]+/assets/.*$\"));\n    return validateParams(param, pattern);\n  };\n  var getAssetRequest = assetsCall.get(name, {prettyPrint:!1});\n  return call.handle(getAssetRequest.then(function(asset) {\n    if (!(asset instanceof module$exports$eeapiclient$ee_api_client.EarthEngineAsset && asset.quota)) {\n      throw Error(rootId + \" is not a root folder.\");\n    }\n    return ee.rpc_convert.folderQuotaToAssetQuotaDetails(asset.quota);\n  }));\n};\ngoog.exportSymbol(\"ee.data.getAssetRootQuota\", ee.data.getAssetRootQuota);\nee.data.WorkloadTag = function() {\n  this.default = this.tag = \"\";\n};\nee.data.WorkloadTag.prototype.get = function() {\n  return this.tag;\n};\nee.data.WorkloadTag.prototype.set = function(tag) {\n  this.tag = this.validate(tag);\n};\nee.data.WorkloadTag.prototype.setDefault = function(newDefault) {\n  this.default = this.validate(newDefault);\n};\nee.data.WorkloadTag.prototype.reset = function() {\n  this.tag = this.default;\n};\nee.data.WorkloadTag.prototype.validate = function(tag) {\n  if (null == tag || \"\" === tag) {\n    return \"\";\n  }\n  tag = String(tag);\n  if (!/^([a-z0-9]|[a-z0-9][-_\\.a-z0-9]{0,61}[a-z0-9])$/g.test(tag)) {\n    throw Error('Invalid tag, \"' + tag + '\". Tags must be 1-63 characters, beginning and ending with a lowercase alphanumeric character([a-z0-9]) with dashes (-), underscores (_), dots (.), andlowercase alphanumerics between.');\n  }\n  return tag;\n};\nee.data.WorkloadTag.getInstance = function() {\n  return goog.singleton.getInstance(ee.data.WorkloadTag);\n};\nee.data.getWorkloadTag = function() {\n  return ee.data.WorkloadTag.getInstance().get();\n};\ngoog.exportSymbol(\"ee.data.getWorkloadTag\", ee.data.getWorkloadTag);\nee.data.setWorkloadTag = function(tag) {\n  ee.data.WorkloadTag.getInstance().set(tag);\n};\ngoog.exportSymbol(\"ee.data.setWorkloadTag\", ee.data.setWorkloadTag);\nee.data.setDefaultWorkloadTag = function(tag) {\n  ee.data.WorkloadTag.getInstance().setDefault(tag);\n  ee.data.WorkloadTag.getInstance().set(tag);\n};\ngoog.exportSymbol(\"ee.data.setDefaultWorkloadTag\", ee.data.setDefaultWorkloadTag);\nee.data.resetWorkloadTag = function(opt_resetDefault) {\n  opt_resetDefault && ee.data.WorkloadTag.getInstance().setDefault(\"\");\n  ee.data.WorkloadTag.getInstance().reset();\n};\ngoog.exportSymbol(\"ee.data.resetWorkloadTag\", ee.data.resetWorkloadTag);\nee.data.AssetType = {ALGORITHM:\"Algorithm\", CLASSIFIER:\"Classifier\", FEATURE_VIEW:\"FeatureView\", FOLDER:\"Folder\", FEATURE_COLLECTION:\"FeatureCollection\", IMAGE:\"Image\", IMAGE_COLLECTION:\"ImageCollection\", TABLE:\"Table\", UNKNOWN:\"Unknown\"};\nee.data.ExportType = {IMAGE:\"EXPORT_IMAGE\", MAP:\"EXPORT_TILES\", TABLE:\"EXPORT_FEATURES\", VIDEO:\"EXPORT_VIDEO\", VIDEO_MAP:\"EXPORT_VIDEO_MAP\", CLASSIFIER:\"EXPORT_CLASSIFIER\"};\nee.data.ExportState = {UNSUBMITTED:\"UNSUBMITTED\", READY:\"READY\", RUNNING:\"RUNNING\", COMPLETED:\"COMPLETED\", FAILED:\"FAILED\", CANCEL_REQUESTED:\"CANCEL_REQUESTED\", CANCELLED:\"CANCELLED\",};\nee.data.ExportDestination = {DRIVE:\"DRIVE\", GCS:\"GOOGLE_CLOUD_STORAGE\", ASSET:\"ASSET\", FEATURE_VIEW:\"FEATURE_VIEW\", BIGQUERY:\"BIGQUERY\",};\nee.data.ThinningStrategy = {GLOBALLY_CONSISTENT:\"GLOBALLY_CONSISTENT\", HIGHER_DENSITY:\"HIGHER_DENSITY\",};\nee.data.SystemPropertyPrefix = \"system:\";\nee.data.SystemTimeProperty = {START:\"system:time_start\", END:\"system:time_end\"};\nee.data.SYSTEM_ASSET_SIZE_PROPERTY = \"system:asset_size\";\nee.data.AssetDetailsProperty = {TITLE:\"system:title\", DESCRIPTION:\"system:description\", TAGS:\"system:tags\"};\nee.data.ALLOWED_DESCRIPTION_HTML_TABLE_ELEMENTS_ = \"col colgroup caption table tbody td tfoot th thead tr\".split(\" \");\nee.data.ALLOWED_DESCRIPTION_HTML_ELEMENTS = ee.data.ALLOWED_DESCRIPTION_HTML_TABLE_ELEMENTS_.concat(\"a code em i li ol p strong sub sup ul\".split(\" \"));\nee.data.ShortAssetDescription = function() {\n};\nee.data.ListImagesResponse = function() {\n};\nee.data.AssetAcl = function() {\n};\nee.data.AssetAclUpdate = function() {\n};\nee.data.AssetQuotaEntry = function() {\n};\nee.data.AssetQuotaDetails = function() {\n};\nee.data.FeatureViewDescription = function() {\n};\nee.data.FolderDescription = function() {\n};\nee.data.FeatureCollectionDescription = function() {\n};\nee.data.FeatureVisualizationParameters = function() {\n};\nee.data.GeoJSONFeature = function() {\n};\nee.data.GeoJSONGeometry = function() {\n};\nee.data.GeoJSONGeometryCrs = function() {\n};\nee.data.GeoJSONGeometryCrsProperties = function() {\n};\nee.data.ImageCollectionDescription = function() {\n};\nee.data.ImageDescription = function() {\n};\nee.data.TableDescription = function() {\n};\nee.data.TableDownloadParameters = function() {\n};\nee.data.ImageVisualizationParameters = function() {\n};\nee.data.FeatureViewVisualizationParameters = function() {\n};\nee.data.ThumbnailOptions = function() {\n};\n$jscomp.inherits(ee.data.ThumbnailOptions, ee.data.ImageVisualizationParameters);\nee.data.VideoThumbnailOptions = function() {\n};\n$jscomp.inherits(ee.data.VideoThumbnailOptions, ee.data.ThumbnailOptions);\nee.data.FilmstripThumbnailOptions = function() {\n};\n$jscomp.inherits(ee.data.FilmstripThumbnailOptions, ee.data.ThumbnailOptions);\nee.data.BandDescription = function() {\n};\nee.data.PixelTypeDescription = function() {\n};\nee.data.AlgorithmSignature = function() {\n};\nee.data.AlgorithmArgument = function() {\n};\nee.data.ThumbnailId = function() {\n};\nee.data.DownloadId = function() {\n};\nee.data.RawMapId = function() {\n};\nee.data.MapId = function() {\n};\n$jscomp.inherits(ee.data.MapId, ee.data.RawMapId);\nee.data.FeatureViewTilesKey = function() {\n};\nee.data.MapZoomRange = {MIN:0, MAX:24};\nee.data.TaskStatus = function() {\n};\nee.data.ProcessingResponse = function() {\n};\nee.data.TaskListResponse = function() {\n};\nee.data.TaskUpdateActions = {CANCEL:\"CANCEL\", UPDATE:\"UPDATE\"};\nee.data.AssetDescription = function() {\n};\nee.data.IngestionRequest = function() {\n};\nee.data.MissingData = function() {\n};\nee.data.PyramidingPolicy = {MEAN:\"MEAN\", MODE:\"MODE\", MIN:\"MIN\", MAX:\"MAX\", SAMPLE:\"SAMPLE\"};\nee.data.Band = function() {\n};\nee.data.Tileset = function() {\n};\nee.data.FileBand = function() {\n};\nee.data.FileSource = function() {\n};\nee.data.TableIngestionRequest = function() {\n};\nee.data.TableSource = function() {\n};\n$jscomp.inherits(ee.data.TableSource, ee.data.FileSource);\nee.data.AuthPrivateKey = function() {\n};\nee.ComputedObject = function(func, args, opt_varName) {\n  if (!(this instanceof ee.ComputedObject)) {\n    return ee.ComputedObject.construct(ee.ComputedObject, arguments);\n  }\n  if (opt_varName && (func || args)) {\n    throw Error('When \"opt_varName\" is specified, \"func\" and \"args\" must be null.');\n  }\n  if (func && !args) {\n    throw Error('When \"func\" is specified, \"args\" must not be null.');\n  }\n  this.func = func;\n  this.args = args;\n  this.varName = opt_varName || null;\n};\ngoog.inherits(ee.ComputedObject, ee.Encodable);\ngoog.exportSymbol(\"ee.ComputedObject\", ee.ComputedObject);\nee.ComputedObject.prototype.evaluate = function(callback) {\n  if (!callback || \"function\" !== typeof callback) {\n    throw Error(\"evaluate() requires a callback function.\");\n  }\n  ee.data.computeValue(this, callback);\n};\ngoog.exportProperty(ee.ComputedObject.prototype, \"evaluate\", ee.ComputedObject.prototype.evaluate);\nee.ComputedObject.prototype.getInfo = function(opt_callback) {\n  return ee.data.computeValue(this, opt_callback);\n};\ngoog.exportProperty(ee.ComputedObject.prototype, \"getInfo\", ee.ComputedObject.prototype.getInfo);\nee.ComputedObject.prototype.encode = function(encoder) {\n  if (this.isVariable()) {\n    return {type:\"ArgumentRef\", value:this.varName};\n  }\n  var encodedArgs = {}, name;\n  for (name in this.args) {\n    void 0 !== this.args[name] && (encodedArgs[name] = encoder(this.args[name]));\n  }\n  var result = {type:\"Invocation\", arguments:encodedArgs}, func = encoder(this.func);\n  result[\"string\" === typeof func ? \"functionName\" : \"function\"] = func;\n  return result;\n};\nee.ComputedObject.prototype.encodeCloudValue = function(serializer) {\n  if (this.isVariable()) {\n    var name = this.varName || serializer.unboundName;\n    if (!name) {\n      throw Error(\"A mapped function's arguments cannot be used in client-side operations\");\n    }\n    return ee.rpc_node.argumentReference(name);\n  }\n  var encodedArgs = {}, name$69;\n  for (name$69 in this.args) {\n    void 0 !== this.args[name$69] && (encodedArgs[name$69] = ee.rpc_node.reference(serializer.makeReference(this.args[name$69])));\n  }\n  return \"string\" === typeof this.func ? ee.rpc_node.functionByName(String(this.func), encodedArgs) : this.func.encodeCloudInvocation(serializer, encodedArgs);\n};\nee.ComputedObject.prototype.serialize = function(legacy) {\n  return (void 0 === legacy ? 0 : legacy) ? ee.Serializer.toJSON(this) : ee.Serializer.toCloudApiJSON(this);\n};\ngoog.exportProperty(ee.ComputedObject.prototype, \"serialize\", ee.ComputedObject.prototype.serialize);\nee.ComputedObject.prototype.toString = function() {\n  return \"ee.\" + this.name() + \"(\" + ee.Serializer.toReadableJSON(this) + \")\";\n};\ngoog.exportSymbol(\"ee.ComputedObject.prototype.toString\", ee.ComputedObject.prototype.toString);\nee.ComputedObject.prototype.isVariable = function() {\n  return null === this.func && null === this.args;\n};\nee.ComputedObject.prototype.name = function() {\n  return \"ComputedObject\";\n};\nee.ComputedObject.prototype.aside = function(func, var_args) {\n  var args = Array.from(arguments);\n  args[0] = this;\n  func.apply(goog.global, args);\n  return this;\n};\ngoog.exportProperty(ee.ComputedObject.prototype, \"aside\", ee.ComputedObject.prototype.aside);\nee.ComputedObject.prototype.castInternal = function(obj) {\n  if (obj instanceof this.constructor) {\n    return obj;\n  }\n  var klass = function() {\n  };\n  klass.prototype = this.constructor.prototype;\n  var result = new klass();\n  result.func = obj.func;\n  result.args = obj.args;\n  result.varName = obj.varName;\n  return result;\n};\nee.ComputedObject.construct = function(constructor, argsArray) {\n  function F() {\n    return constructor.apply(this, argsArray);\n  }\n  F.prototype = constructor.prototype;\n  return new F();\n};\nee.Types = {};\nee.Types.registeredClasses_ = {};\nee.Types.registerClasses = function(classes) {\n  ee.Types.registeredClasses_ = classes;\n};\nee.Types.nameToClass = function(name) {\n  return name in ee.Types.registeredClasses_ ? ee.Types.registeredClasses_[name] : null;\n};\nee.Types.classToName = function(klass) {\n  return klass.prototype instanceof ee.ComputedObject ? klass.prototype.name.call(null) : klass == Number ? \"Number\" : klass == String ? \"String\" : klass == Array ? \"Array\" : klass == Date ? \"Date\" : \"Object\";\n};\nee.Types.isSubtype = function(firstType, secondType) {\n  if (secondType == firstType) {\n    return !0;\n  }\n  switch(firstType) {\n    case \"Element\":\n      return \"Element\" == secondType || \"Image\" == secondType || \"Feature\" == secondType || \"Collection\" == secondType || \"ImageCollection\" == secondType || \"FeatureCollection\" == secondType;\n    case \"FeatureCollection\":\n    case \"Collection\":\n      return \"Collection\" == secondType || \"ImageCollection\" == secondType || \"FeatureCollection\" == secondType;\n    case \"Object\":\n      return !0;\n    default:\n      return !1;\n  }\n};\nee.Types.isNumber = function(obj) {\n  return \"number\" === typeof obj || obj instanceof ee.ComputedObject && \"Number\" == obj.name();\n};\nee.Types.isString = function(obj) {\n  return \"string\" === typeof obj || obj instanceof ee.ComputedObject && \"String\" == obj.name();\n};\nee.Types.isArray = function(obj) {\n  return Array.isArray(obj) || obj instanceof ee.ComputedObject && \"List\" == obj.name();\n};\nee.Types.isRegularObject = function(obj) {\n  if (goog.isObject(obj) && \"function\" !== typeof obj) {\n    var proto = Object.getPrototypeOf(obj);\n    return null !== proto && null === Object.getPrototypeOf(proto);\n  }\n  return !1;\n};\nee.Types.useKeywordArgs = function(args, signature, isInstance) {\n  isInstance = void 0 === isInstance ? !1 : isInstance;\n  if (1 === args.length && ee.Types.isRegularObject(args[0])) {\n    var formalArgs = signature.args;\n    isInstance && (formalArgs = formalArgs.slice(1));\n    if (formalArgs.length) {\n      return !(1 === formalArgs.length || formalArgs[1].optional) || \"Dictionary\" !== formalArgs[0].type;\n    }\n  }\n  return !1;\n};\nee.Function = function() {\n  if (!(this instanceof ee.Function)) {\n    return new ee.Function();\n  }\n};\ngoog.inherits(ee.Function, ee.Encodable);\ngoog.exportSymbol(\"ee.Function\", ee.Function);\nee.Function.promoter_ = goog.functions.identity;\nee.Function.registerPromoter = function(promoter) {\n  ee.Function.promoter_ = promoter;\n};\nee.Function.prototype.call = function(var_args) {\n  return this.apply(this.nameArgs(Array.prototype.slice.call(arguments, 0)));\n};\ngoog.exportProperty(ee.Function.prototype, \"call\", ee.Function.prototype.call);\nee.Function.prototype.apply = function(namedArgs) {\n  var result = new ee.ComputedObject(this, this.promoteArgs(namedArgs));\n  return ee.Function.promoter_(result, this.getReturnType());\n};\ngoog.exportProperty(ee.Function.prototype, \"apply\", ee.Function.prototype.apply);\nee.Function.prototype.callOrApply = function(thisValue, args) {\n  var isInstance = void 0 !== thisValue, signature = this.getSignature();\n  if (ee.Types.useKeywordArgs(args, signature, isInstance)) {\n    var namedArgs = module$contents$goog$object_clone(args[0]);\n    if (isInstance) {\n      var firstArgName = signature.args[0].name;\n      if (firstArgName in namedArgs) {\n        throw Error(\"Named args for \" + signature.name + \" can't contain keyword \" + firstArgName);\n      }\n      namedArgs[firstArgName] = thisValue;\n    }\n  } else {\n    namedArgs = this.nameArgs(isInstance ? [thisValue].concat(args) : args);\n  }\n  return this.apply(namedArgs);\n};\nee.Function.prototype.promoteArgs = function(args) {\n  for (var specs = this.getSignature().args, promotedArgs = {}, known = {}, i = 0; i < specs.length; i++) {\n    var name = specs[i].name;\n    if (name in args && void 0 !== args[name]) {\n      promotedArgs[name] = ee.Function.promoter_(args[name], specs[i].type);\n    } else if (!specs[i].optional) {\n      throw Error(\"Required argument (\" + name + \") missing to function: \" + this);\n    }\n    known[name] = !0;\n  }\n  var unknown = [], argName;\n  for (argName in args) {\n    known[argName] || unknown.push(argName);\n  }\n  if (0 < unknown.length) {\n    throw Error(\"Unrecognized arguments (\" + unknown + \") to function: \" + this);\n  }\n  return promotedArgs;\n};\nee.Function.prototype.nameArgs = function(args) {\n  var specs = this.getSignature().args;\n  if (specs.length < args.length) {\n    throw Error(\"Too many (\" + args.length + \") arguments to function: \" + this);\n  }\n  for (var namedArgs = {}, i = 0; i < args.length; i++) {\n    namedArgs[specs[i].name] = args[i];\n  }\n  return namedArgs;\n};\nee.Function.prototype.getReturnType = function() {\n  return this.getSignature().returns;\n};\nee.Function.prototype.toString = function(opt_name, opt_isInstance) {\n  var signature = this.getSignature(), buffer = [];\n  buffer.push(opt_name || signature.name);\n  buffer.push(\"(\");\n  buffer.push(module$contents$goog$array_map(signature.args.slice(opt_isInstance ? 1 : 0), function(elem) {\n    return elem.name;\n  }).join(\", \"));\n  buffer.push(\")\\n\");\n  buffer.push(\"\\n\");\n  signature.description ? buffer.push(signature.description) : buffer.push(\"Undocumented.\");\n  buffer.push(\"\\n\");\n  if (signature.args.length) {\n    buffer.push(\"\\nArgs:\\n\");\n    for (var i = 0; i < signature.args.length; i++) {\n      opt_isInstance && 0 == i ? buffer.push(\"  this:\") : buffer.push(\"\\n  \");\n      var arg = signature.args[i];\n      buffer.push(arg.name);\n      buffer.push(\" (\");\n      buffer.push(arg.type);\n      arg.optional && buffer.push(\", optional\");\n      buffer.push(\"): \");\n      arg.description ? buffer.push(arg.description) : buffer.push(\"Undocumented.\");\n    }\n  }\n  return buffer.join(\"\");\n};\nee.Function.prototype.serialize = function(legacy) {\n  return (void 0 === legacy ? 0 : legacy) ? ee.Serializer.toJSON(this) : ee.Serializer.toCloudApiJSON(this);\n};\nee.ApiFunction = function(name, opt_signature) {\n  if (void 0 === opt_signature) {\n    return ee.ApiFunction.lookup(name);\n  }\n  if (!(this instanceof ee.ApiFunction)) {\n    return ee.ComputedObject.construct(ee.ApiFunction, arguments);\n  }\n  this.signature_ = module$contents$goog$object_unsafeClone(opt_signature);\n  this.signature_.name = name;\n};\ngoog.inherits(ee.ApiFunction, ee.Function);\ngoog.exportSymbol(\"ee.ApiFunction\", ee.ApiFunction);\nee.ApiFunction._call = function(name, var_args) {\n  return ee.Function.prototype.call.apply(ee.ApiFunction.lookup(name), Array.prototype.slice.call(arguments, 1));\n};\ngoog.exportSymbol(\"ee.ApiFunction._call\", ee.ApiFunction._call);\nee.ApiFunction._apply = function(name, namedArgs) {\n  return ee.ApiFunction.lookup(name).apply(namedArgs);\n};\ngoog.exportSymbol(\"ee.ApiFunction._apply\", ee.ApiFunction._apply);\nee.ApiFunction.prototype.encode = function(encoder) {\n  return this.signature_.name;\n};\nee.ApiFunction.prototype.encodeCloudInvocation = function(serializer, args) {\n  return ee.rpc_node.functionByName(this.signature_.name, args);\n};\nee.ApiFunction.prototype.getSignature = function() {\n  return this.signature_;\n};\nee.ApiFunction.api_ = null;\nee.ApiFunction.boundSignatures_ = {};\nee.ApiFunction.allSignatures = function() {\n  ee.ApiFunction.initialize();\n  return module$contents$goog$object_map(ee.ApiFunction.api_, function(func) {\n    return func.getSignature();\n  });\n};\nee.ApiFunction.unboundFunctions = function() {\n  ee.ApiFunction.initialize();\n  return module$contents$goog$object_filter(ee.ApiFunction.api_, function(func, name) {\n    return !ee.ApiFunction.boundSignatures_[name];\n  });\n};\nee.ApiFunction.lookup = function(name) {\n  var func = ee.ApiFunction.lookupInternal(name);\n  if (!func) {\n    throw Error(\"Unknown built-in function name: \" + name);\n  }\n  return func;\n};\ngoog.exportSymbol(\"ee.ApiFunction.lookup\", ee.ApiFunction.lookup);\nee.ApiFunction.lookupInternal = function(name) {\n  ee.ApiFunction.initialize();\n  return ee.ApiFunction.api_[name] || null;\n};\nee.ApiFunction.initialize = function(opt_successCallback, opt_failureCallback) {\n  if (ee.ApiFunction.api_) {\n    opt_successCallback && opt_successCallback();\n  } else {\n    var callback = function(data, opt_error) {\n      opt_error ? opt_failureCallback && opt_failureCallback(Error(opt_error)) : (ee.ApiFunction.api_ = module$contents$goog$object_map(data, function(sig, name) {\n        sig.returns = sig.returns.replace(/<.*>/, \"\");\n        for (var i = 0; i < sig.args.length; i++) {\n          sig.args[i].type = sig.args[i].type.replace(/<.*>/, \"\");\n        }\n        return new ee.ApiFunction(name, sig);\n      }), opt_successCallback && opt_successCallback());\n    };\n    opt_successCallback ? ee.data.getAlgorithms(callback) : callback(ee.data.getAlgorithms());\n  }\n};\nee.ApiFunction.reset = function() {\n  ee.ApiFunction.api_ = null;\n  ee.ApiFunction.boundSignatures_ = {};\n};\nee.ApiFunction.importApi = function(target, prefix, typeName, opt_prepend) {\n  ee.ApiFunction.initialize();\n  var prepend = opt_prepend || \"\";\n  module$contents$goog$object_forEach(ee.ApiFunction.api_, function(apiFunc, name) {\n    var parts = name.split(\".\");\n    if (2 == parts.length && parts[0] == prefix) {\n      var fname = prepend + parts[1], signature = apiFunc.getSignature();\n      ee.ApiFunction.boundSignatures_[name] = !0;\n      var isInstance = !1;\n      if (signature.args.length) {\n        var firstArgType = signature.args[0].type;\n        isInstance = \"Object\" != firstArgType && ee.Types.isSubtype(firstArgType, typeName);\n      }\n      var destination = isInstance ? target.prototype : target;\n      fname in destination && !destination[fname].signature || (destination[fname] = function(var_args) {\n        return apiFunc.callOrApply(isInstance ? this : void 0, Array.prototype.slice.call(arguments, 0));\n      }, destination[fname].toString = goog.bind(apiFunc.toString, apiFunc, fname, isInstance), destination[fname].signature = signature);\n    }\n  });\n};\nee.ApiFunction.clearApi = function(target$jscomp$0) {\n  var clear = function(target) {\n    for (var name in target) {\n      \"function\" === typeof target[name] && target[name].signature && delete target[name];\n    }\n  };\n  clear(target$jscomp$0);\n  clear(target$jscomp$0.prototype || {});\n};\nee.arguments = {};\nee.arguments.extractFromFunction = function(fn, originalArgs) {\n  return ee.arguments.extractImpl_(fn, originalArgs, ee.arguments.JS_PARAM_DECL_MATCHER_FUNCTION_);\n};\nee.arguments.extractFromClassConstructor = function(fn, originalArgs) {\n  return ee.arguments.extractImpl_(fn, originalArgs, ee.arguments.JS_PARAM_DECL_MATCHER_CLASS_CONSTRUCTOR_);\n};\nee.arguments.extractFromClassMethod = function(fn, originalArgs) {\n  return ee.arguments.extractImpl_(fn, originalArgs, ee.arguments.JS_PARAM_DECL_MATCHER_CLASS_METHOD_);\n};\nee.arguments.extract = ee.arguments.extractFromFunction;\nee.arguments.extractImpl_ = function(fn, originalArgs, parameterMatcher) {\n  var paramNamesWithOptPrefix = ee.arguments.getParamNames_(fn, parameterMatcher), paramNames = module$contents$goog$array_map(paramNamesWithOptPrefix, function(param) {\n    return param.replace(/^opt_/, \"\");\n  }), fnName = ee.arguments.getFnName_(fn), fnNameSnippet = fnName ? \" to function \" + fnName : \"\", args = {}, firstArg = originalArgs[0], firstArgCouldBeDictionary = goog.isObject(firstArg) && \"function\" !== typeof firstArg && !Array.isArray(firstArg) && \"Object\" === Object.getPrototypeOf(firstArg).constructor.name;\n  if (1 < originalArgs.length || !firstArgCouldBeDictionary) {\n    if (originalArgs.length > paramNames.length) {\n      throw Error(\"Received too many arguments\" + fnNameSnippet + \". Expected at most \" + paramNames.length + \" but got \" + originalArgs.length + \".\");\n    }\n    for (var i = 0; i < originalArgs.length; i++) {\n      args[paramNames[i]] = originalArgs[i];\n    }\n  } else {\n    var seen = new goog.structs.Set(module$contents$goog$object_getKeys(firstArg)), expected = new goog.structs.Set(paramNames);\n    if (expected.intersection(seen).isEmpty()) {\n      args[paramNames[0]] = originalArgs[0];\n    } else {\n      var unexpected = seen.difference(expected);\n      if (0 !== unexpected.size) {\n        throw Error(\"Unexpected arguments\" + fnNameSnippet + \": \" + Array.from(unexpected.values()).join(\", \"));\n      }\n      args = module$contents$goog$object_clone(firstArg);\n    }\n  }\n  var provided = new goog.structs.Set(module$contents$goog$object_getKeys(args)), missing = (new goog.structs.Set(module$contents$goog$array_filter(paramNamesWithOptPrefix, function(param) {\n    return !goog.string.startsWith(param, \"opt_\");\n  }))).difference(provided);\n  if (0 !== missing.size) {\n    throw Error(\"Missing required arguments\" + fnNameSnippet + \": \" + Array.from(missing.values()).join(\", \"));\n  }\n  return args;\n};\nee.arguments.getParamNames_ = function(fn, parameterMatcher) {\n  var paramNames = [];\n  if (goog.global.EXPORTED_FN_INFO) {\n    var exportedFnInfo = goog.global.EXPORTED_FN_INFO[fn.toString()];\n    goog.isObject(exportedFnInfo) || ee.arguments.throwMatchFailedError_();\n    paramNames = exportedFnInfo.paramNames;\n    Array.isArray(paramNames) || ee.arguments.throwMatchFailedError_();\n  } else {\n    var fnMatchResult = fn.toString().replace(ee.arguments.JS_COMMENT_MATCHER_, \"\").match(parameterMatcher);\n    null === fnMatchResult && ee.arguments.throwMatchFailedError_();\n    paramNames = (fnMatchResult[1].split(\",\") || []).map(function(p) {\n      return p.replace(ee.arguments.JS_PARAM_DEFAULT_MATCHER_, \"\");\n    });\n  }\n  return paramNames;\n};\nee.arguments.getFnName_ = function(fn) {\n  return goog.global.EXPORTED_FN_INFO ? goog.global.EXPORTED_FN_INFO[fn.toString()].name.split(\".\").pop() + \"()\" : null;\n};\nee.arguments.throwMatchFailedError_ = function() {\n  throw Error(\"Failed to locate function parameters.\");\n};\nee.arguments.JS_COMMENT_MATCHER_ = /((\\/\\/.*$)|(\\/\\*[\\s\\S]*?\\*\\/)|(\\s))/mg;\nee.arguments.JS_PARAM_DECL_MATCHER_FUNCTION_ = /^function[^\\(]*\\(([^\\)]*)\\)/m;\nee.arguments.JS_PARAM_DECL_MATCHER_CLASS_CONSTRUCTOR_ = /^class[^\\{]*{\\S*?\\bconstructor\\(([^\\)]*)\\)/m;\nee.arguments.JS_PARAM_DECL_MATCHER_CLASS_METHOD_ = /[^\\(]*\\(([^\\)]*)\\)/m;\nee.arguments.JS_PARAM_DEFAULT_MATCHER_ = /=.*$/;\nee.Element = function(func, args, opt_varName) {\n  ee.ComputedObject.call(this, func, args, opt_varName);\n  ee.Element.initialize();\n};\ngoog.inherits(ee.Element, ee.ComputedObject);\ngoog.exportSymbol(\"ee.Element\", ee.Element);\nee.Element.initialized_ = !1;\nee.Element.initialize = function() {\n  ee.Element.initialized_ || (ee.ApiFunction.importApi(ee.Element, \"Element\", \"Element\"), ee.Element.initialized_ = !0);\n};\nee.Element.reset = function() {\n  ee.ApiFunction.clearApi(ee.Element);\n  ee.Element.initialized_ = !1;\n};\nee.Element.prototype.name = function() {\n  return \"Element\";\n};\nee.Element.prototype.set = function(var_args) {\n  if (1 >= arguments.length) {\n    var properties = arguments[0];\n    ee.Types.isRegularObject(properties) && module$contents$goog$array_equals(module$contents$goog$object_getKeys(properties), [\"properties\"]) && goog.isObject(properties.properties) && (properties = properties.properties);\n    if (ee.Types.isRegularObject(properties)) {\n      var result = this;\n      for (var key in properties) {\n        var value = properties[key];\n        result = ee.ApiFunction._call(\"Element.set\", result, key, value);\n      }\n    } else if (properties instanceof ee.ComputedObject && ee.ApiFunction.lookupInternal(\"Element.setMulti\")) {\n      result = ee.ApiFunction._call(\"Element.setMulti\", this, properties);\n    } else {\n      throw Error(\"When Element.set() is passed one argument, it must be a dictionary.\");\n    }\n  } else {\n    if (0 != arguments.length % 2) {\n      throw Error(\"When Element.set() is passed multiple arguments, there must be an even number of them.\");\n    }\n    result = this;\n    for (var i = 0; i < arguments.length; i += 2) {\n      key = arguments[i], value = arguments[i + 1], result = ee.ApiFunction._call(\"Element.set\", result, key, value);\n    }\n  }\n  return this.castInternal(result);\n};\ngoog.exportProperty(ee.Element.prototype, \"set\", ee.Element.prototype.set);\nee.Geometry = function(geoJson, opt_proj, opt_geodesic, opt_evenOdd) {\n  if (!(this instanceof ee.Geometry)) {\n    return ee.ComputedObject.construct(ee.Geometry, arguments);\n  }\n  if (!(\"type\" in geoJson)) {\n    var args = ee.arguments.extractFromFunction(ee.Geometry, arguments);\n    geoJson = args.geoJson;\n    opt_proj = args.proj;\n    opt_geodesic = args.geodesic;\n    opt_evenOdd = args.evenOdd;\n  }\n  ee.Geometry.initialize();\n  var options = null != opt_proj || null != opt_geodesic || null != opt_evenOdd;\n  if (geoJson instanceof ee.ComputedObject && !(geoJson instanceof ee.Geometry && geoJson.type_)) {\n    if (options) {\n      throw Error(\"Setting the CRS, geodesic, or evenOdd flag on a computed Geometry is not supported.  Use Geometry.transform().\");\n    }\n    ee.ComputedObject.call(this, geoJson.func, geoJson.args, geoJson.varName);\n  } else {\n    geoJson instanceof ee.Geometry && (geoJson = geoJson.encode());\n    if (!ee.Geometry.isValidGeometry_(geoJson)) {\n      throw Error(\"Invalid GeoJSON geometry: \" + JSON.stringify(geoJson));\n    }\n    ee.ComputedObject.call(this, null, null);\n    this.type_ = geoJson.type;\n    this.coordinates_ = null != geoJson.coordinates ? module$contents$goog$object_unsafeClone(geoJson.coordinates) : null;\n    this.geometries_ = geoJson.geometries || null;\n    if (null != opt_proj) {\n      this.proj_ = opt_proj;\n    } else if (\"crs\" in geoJson) {\n      if (goog.isObject(geoJson.crs) && \"name\" == geoJson.crs.type && goog.isObject(geoJson.crs.properties) && \"string\" === typeof geoJson.crs.properties.name) {\n        this.proj_ = geoJson.crs.properties.name;\n      } else {\n        throw Error(\"Invalid CRS declaration in GeoJSON: \" + (new goog.json.Serializer()).serialize(geoJson.crs));\n      }\n    }\n    this.geodesic_ = opt_geodesic;\n    void 0 === this.geodesic_ && \"geodesic\" in geoJson && (this.geodesic_ = !!geoJson.geodesic);\n    this.evenOdd_ = opt_evenOdd;\n    void 0 === this.evenOdd_ && \"evenOdd\" in geoJson && (this.evenOdd_ = !!geoJson.evenOdd);\n  }\n};\ngoog.inherits(ee.Geometry, ee.ComputedObject);\ngoog.exportSymbol(\"ee.Geometry\", ee.Geometry);\nee.Geometry.initialized_ = !1;\nee.Geometry.initialize = function() {\n  ee.Geometry.initialized_ || (ee.ApiFunction.importApi(ee.Geometry, \"Geometry\", \"Geometry\"), ee.Geometry.initialized_ = !0);\n};\nee.Geometry.reset = function() {\n  ee.ApiFunction.clearApi(ee.Geometry);\n  ee.Geometry.initialized_ = !1;\n};\nee.Geometry.Point = function(coords, opt_proj) {\n  if (!(this instanceof ee.Geometry.Point)) {\n    return ee.Geometry.createInstance_(ee.Geometry.Point, arguments);\n  }\n  var init = ee.Geometry.construct_(ee.Geometry.Point, \"Point\", 1, arguments);\n  if (!(init instanceof ee.ComputedObject)) {\n    var xy = init.coordinates;\n    if (!Array.isArray(xy) || 2 != xy.length) {\n      throw Error(\"The Geometry.Point constructor requires 2 coordinates.\");\n    }\n  }\n  ee.Geometry.call(this, init);\n};\ngoog.inherits(ee.Geometry.Point, ee.Geometry);\ngoog.exportProperty(ee.Geometry, \"Point\", ee.Geometry.Point);\nee.Geometry.MultiPoint = function(coords, opt_proj) {\n  if (!(this instanceof ee.Geometry.MultiPoint)) {\n    return ee.Geometry.createInstance_(ee.Geometry.MultiPoint, arguments);\n  }\n  ee.Geometry.call(this, ee.Geometry.construct_(ee.Geometry.MultiPoint, \"MultiPoint\", 2, arguments));\n};\ngoog.inherits(ee.Geometry.MultiPoint, ee.Geometry);\ngoog.exportProperty(ee.Geometry, \"MultiPoint\", ee.Geometry.MultiPoint);\nee.Geometry.Rectangle = function(coords, opt_proj, opt_geodesic, opt_evenOdd) {\n  if (!(this instanceof ee.Geometry.Rectangle)) {\n    return ee.Geometry.createInstance_(ee.Geometry.Rectangle, arguments);\n  }\n  var init = ee.Geometry.construct_(ee.Geometry.Rectangle, \"Rectangle\", 2, arguments);\n  if (!(init instanceof ee.ComputedObject)) {\n    var xy = init.coordinates;\n    if (2 != xy.length) {\n      throw Error(\"The Geometry.Rectangle constructor requires 2 points or 4 coordinates.\");\n    }\n    var x1 = xy[0][0], y1 = xy[0][1], x2 = xy[1][0], y2 = xy[1][1];\n    init.coordinates = [[[x1, y2], [x1, y1], [x2, y1], [x2, y2]]];\n    init.type = \"Polygon\";\n  }\n  ee.Geometry.call(this, init);\n};\ngoog.inherits(ee.Geometry.Rectangle, ee.Geometry);\ngoog.exportProperty(ee.Geometry, \"Rectangle\", ee.Geometry.Rectangle);\nee.Geometry.BBox = function(west, south, east, north) {\n  if (!(this instanceof ee.Geometry.BBox)) {\n    return ee.Geometry.createInstance_(ee.Geometry.BBox, arguments);\n  }\n  var coordinates = [west, south, east, north];\n  if (ee.Geometry.hasServerValue_(coordinates)) {\n    var $jscomp$spread$args6;\n    return ($jscomp$spread$args6 = new ee.ApiFunction(\"GeometryConstructors.BBox\")).call.apply($jscomp$spread$args6, $jscomp.arrayFromIterable(coordinates));\n  }\n  if (!(Infinity > west)) {\n    throw Error(\"Geometry.BBox: west must not be \" + west);\n  }\n  if (!(-Infinity < east)) {\n    throw Error(\"Geometry.BBox: east must not be \" + east);\n  }\n  if (!(90 >= south)) {\n    throw Error(\"Geometry.BBox: south must be at most +90\\u00b0, but was \" + south + \"\\u00b0\");\n  }\n  if (!(-90 <= north)) {\n    throw Error(\"Geometry.BBox: north must be at least -90\\u00b0, but was \" + north + \"\\u00b0\");\n  }\n  south = Math.max(south, -90);\n  north = Math.min(north, 90);\n  360 <= east - west ? (west = -180, east = 180) : (west = ee.Geometry.canonicalizeLongitude_(west), east = ee.Geometry.canonicalizeLongitude_(east), east < west && (east += 360));\n  ee.Geometry.call(this, {type:\"Polygon\", coordinates:[[[west, north], [west, south], [east, south], [east, north]]],}, void 0, !1, !0);\n};\ngoog.inherits(ee.Geometry.BBox, ee.Geometry.Rectangle);\ngoog.exportProperty(ee.Geometry, \"BBox\", ee.Geometry.BBox);\nee.Geometry.canonicalizeLongitude_ = function(longitude) {\n  longitude %= 360;\n  180 < longitude ? longitude -= 360 : -180 > longitude && (longitude += 360);\n  return longitude;\n};\nee.Geometry.LineString = function(coords, opt_proj, opt_geodesic, opt_maxError) {\n  if (!(this instanceof ee.Geometry.LineString)) {\n    return ee.Geometry.createInstance_(ee.Geometry.LineString, arguments);\n  }\n  ee.Geometry.call(this, ee.Geometry.construct_(ee.Geometry.LineString, \"LineString\", 2, arguments));\n};\ngoog.inherits(ee.Geometry.LineString, ee.Geometry);\ngoog.exportProperty(ee.Geometry, \"LineString\", ee.Geometry.LineString);\nee.Geometry.LinearRing = function(coords, opt_proj, opt_geodesic, opt_maxError) {\n  if (!(this instanceof ee.Geometry.LinearRing)) {\n    return ee.Geometry.createInstance_(ee.Geometry.LinearRing, arguments);\n  }\n  ee.Geometry.call(this, ee.Geometry.construct_(ee.Geometry.LinearRing, \"LinearRing\", 2, arguments));\n};\ngoog.inherits(ee.Geometry.LinearRing, ee.Geometry);\ngoog.exportProperty(ee.Geometry, \"LinearRing\", ee.Geometry.LinearRing);\nee.Geometry.MultiLineString = function(coords, opt_proj, opt_geodesic, opt_maxError) {\n  if (!(this instanceof ee.Geometry.MultiLineString)) {\n    return ee.Geometry.createInstance_(ee.Geometry.MultiLineString, arguments);\n  }\n  ee.Geometry.call(this, ee.Geometry.construct_(ee.Geometry.MultiLineString, \"MultiLineString\", 3, arguments));\n};\ngoog.inherits(ee.Geometry.MultiLineString, ee.Geometry);\ngoog.exportProperty(ee.Geometry, \"MultiLineString\", ee.Geometry.MultiLineString);\nee.Geometry.Polygon = function(coords, opt_proj, opt_geodesic, opt_maxError, opt_evenOdd) {\n  if (!(this instanceof ee.Geometry.Polygon)) {\n    return ee.Geometry.createInstance_(ee.Geometry.Polygon, arguments);\n  }\n  ee.Geometry.call(this, ee.Geometry.construct_(ee.Geometry.Polygon, \"Polygon\", 3, arguments));\n};\ngoog.inherits(ee.Geometry.Polygon, ee.Geometry);\ngoog.exportProperty(ee.Geometry, \"Polygon\", ee.Geometry.Polygon);\nee.Geometry.MultiPolygon = function(coords, opt_proj, opt_geodesic, opt_maxError, opt_evenOdd) {\n  if (!(this instanceof ee.Geometry.MultiPolygon)) {\n    return ee.Geometry.createInstance_(ee.Geometry.MultiPolygon, arguments);\n  }\n  ee.Geometry.call(this, ee.Geometry.construct_(ee.Geometry.MultiPolygon, \"MultiPolygon\", 4, arguments));\n};\ngoog.inherits(ee.Geometry.MultiPolygon, ee.Geometry);\ngoog.exportProperty(ee.Geometry, \"MultiPolygon\", ee.Geometry.MultiPolygon);\nee.Geometry.prototype.encode = function(opt_encoder) {\n  if (!this.type_) {\n    if (!opt_encoder) {\n      throw Error(\"Must specify an encode function when encoding a computed geometry.\");\n    }\n    return ee.ComputedObject.prototype.encode.call(this, opt_encoder);\n  }\n  var result = {type:this.type_};\n  \"GeometryCollection\" == this.type_ ? result.geometries = this.geometries_ : result.coordinates = this.coordinates_;\n  null != this.proj_ && (result.crs = {type:\"name\", properties:{name:this.proj_}});\n  null != this.geodesic_ && (result.geodesic = this.geodesic_);\n  null != this.evenOdd_ && (result.evenOdd = this.evenOdd_);\n  return result;\n};\nee.Geometry.prototype.toGeoJSON = function() {\n  if (this.func) {\n    throw Error(\"Can't convert a computed Geometry to GeoJSON. Use evaluate() instead.\");\n  }\n  return this.encode();\n};\ngoog.exportProperty(ee.Geometry.prototype, \"toGeoJSON\", ee.Geometry.prototype.toGeoJSON);\nee.Geometry.prototype.toGeoJSONString = function() {\n  if (this.func) {\n    throw Error(\"Can't convert a computed Geometry to GeoJSON. Use evaluate() instead.\");\n  }\n  return (new goog.json.Serializer()).serialize(this.toGeoJSON());\n};\ngoog.exportProperty(ee.Geometry.prototype, \"toGeoJSONString\", ee.Geometry.prototype.toGeoJSONString);\nee.Geometry.prototype.serialize = function(legacy) {\n  return (void 0 === legacy ? 0 : legacy) ? ee.Serializer.toJSON(this) : ee.Serializer.toCloudApiJSON(this);\n};\ngoog.exportProperty(ee.Geometry.prototype, \"serialize\", ee.Geometry.prototype.serialize);\nee.Geometry.prototype.toString = function() {\n  return \"ee.Geometry(\" + this.toGeoJSONString() + \")\";\n};\nee.Geometry.prototype.encodeCloudValue = function(serializer) {\n  if (!this.type_) {\n    if (!serializer) {\n      throw Error(\"Must specify a serializer when encoding a computed geometry.\");\n    }\n    return ee.ComputedObject.prototype.encodeCloudValue.call(this, serializer);\n  }\n  var args = {}, func = \"\";\n  \"GeometryCollection\" === this.type_ ? (args.geometries = this.geometries_.map(function(geometry) {\n    return new ee.Geometry(geometry);\n  }), func = \"GeometryConstructors.MultiGeometry\") : (args.coordinates = this.coordinates_, func = \"GeometryConstructors.\" + this.type_);\n  null != this.proj_ && (args.crs = \"string\" === typeof this.proj_ ? (new ee.ApiFunction(\"Projection\")).call(this.proj_) : this.proj_);\n  var acceptsGeodesicArg = \"Point\" !== this.type_ && \"MultiPoint\" !== this.type_;\n  null != this.geodesic_ && acceptsGeodesicArg && (args.geodesic = this.geodesic_);\n  null != this.evenOdd_ && (args.evenOdd = this.evenOdd_);\n  return (new ee.ApiFunction(func)).apply(args).encodeCloudValue(serializer);\n};\nee.Geometry.isValidGeometry_ = function(geometry) {\n  var type = geometry.type;\n  if (\"GeometryCollection\" == type) {\n    var geometries = geometry.geometries;\n    if (!Array.isArray(geometries)) {\n      return !1;\n    }\n    for (var i = 0; i < geometries.length; i++) {\n      if (!ee.Geometry.isValidGeometry_(geometries[i])) {\n        return !1;\n      }\n    }\n    return !0;\n  }\n  var coords = geometry.coordinates, nesting = ee.Geometry.isValidCoordinates_(coords);\n  return \"Point\" == type && 1 == nesting || \"MultiPoint\" == type && (2 == nesting || 0 == coords.length) || \"LineString\" == type && 2 == nesting || \"LinearRing\" == type && 2 == nesting || \"MultiLineString\" == type && (3 == nesting || 0 == coords.length) || \"Polygon\" == type && 3 == nesting || \"MultiPolygon\" == type && (4 == nesting || 0 == coords.length);\n};\nee.Geometry.isValidCoordinates_ = function(shape) {\n  if (!Array.isArray(shape)) {\n    return -1;\n  }\n  if (Array.isArray(shape[0])) {\n    for (var count = ee.Geometry.isValidCoordinates_(shape[0]), i = 1; i < shape.length; i++) {\n      if (ee.Geometry.isValidCoordinates_(shape[i]) != count) {\n        return -1;\n      }\n    }\n    return count + 1;\n  }\n  for (i = 0; i < shape.length; i++) {\n    if (\"number\" !== typeof shape[i]) {\n      return -1;\n    }\n  }\n  return 0 == shape.length % 2 ? 1 : -1;\n};\nee.Geometry.coordinatesToLine_ = function(coordinates) {\n  if (\"number\" !== typeof coordinates[0] || 2 == coordinates.length) {\n    return coordinates;\n  }\n  if (0 != coordinates.length % 2) {\n    throw Error(\"Invalid number of coordinates: \" + coordinates.length);\n  }\n  for (var line = [], i = 0; i < coordinates.length; i += 2) {\n    line.push([coordinates[i], coordinates[i + 1]]);\n  }\n  return line;\n};\nee.Geometry.construct_ = function(jsConstructorFn, apiConstructorName, depth, originalArgs) {\n  var eeArgs = ee.Geometry.getEeApiArgs_(jsConstructorFn, originalArgs);\n  if (ee.Geometry.hasServerValue_(eeArgs.coordinates) || null != eeArgs.crs || null != eeArgs.maxError) {\n    return (new ee.ApiFunction(\"GeometryConstructors.\" + apiConstructorName)).apply(eeArgs);\n  }\n  eeArgs.type = apiConstructorName;\n  eeArgs.coordinates = ee.Geometry.fixDepth_(depth, eeArgs.coordinates);\n  var isPolygon = module$contents$goog$array_contains([\"Polygon\", \"Rectangle\", \"MultiPolygon\"], apiConstructorName);\n  isPolygon && null == eeArgs.evenOdd && (eeArgs.evenOdd = !0);\n  if (isPolygon && !1 === eeArgs.geodesic && !1 === eeArgs.evenOdd) {\n    throw Error(\"Planar interiors must be even/odd.\");\n  }\n  return eeArgs;\n};\nee.Geometry.getEeApiArgs_ = function(jsConstructorFn, originalArgs) {\n  if (module$contents$goog$array_every(originalArgs, ee.Types.isNumber)) {\n    return {coordinates:module$contents$goog$array_toArray(originalArgs)};\n  }\n  var args = ee.arguments.extractFromFunction(jsConstructorFn, originalArgs);\n  args.coordinates = args.coords;\n  delete args.coords;\n  args.crs = args.proj;\n  delete args.proj;\n  return module$contents$goog$object_filter(args, function(x) {\n    return null != x;\n  });\n};\nee.Geometry.hasServerValue_ = function(coordinates) {\n  return Array.isArray(coordinates) ? module$contents$goog$array_some(coordinates, ee.Geometry.hasServerValue_) : coordinates instanceof ee.ComputedObject;\n};\nee.Geometry.fixDepth_ = function(depth, coords) {\n  if (1 > depth || 4 < depth) {\n    throw Error(\"Unexpected nesting level.\");\n  }\n  module$contents$goog$array_every(coords, function(x) {\n    return \"number\" === typeof x;\n  }) && (coords = ee.Geometry.coordinatesToLine_(coords));\n  for (var item = coords, count = 0; Array.isArray(item);) {\n    item = item[0], count++;\n  }\n  for (; count < depth;) {\n    coords = [coords], count++;\n  }\n  if (ee.Geometry.isValidCoordinates_(coords) != depth) {\n    throw Error(\"Invalid geometry\");\n  }\n  for (item = coords; Array.isArray(item) && 1 == item.length;) {\n    item = item[0];\n  }\n  return Array.isArray(item) && 0 == item.length ? [] : coords;\n};\nee.Geometry.createInstance_ = function(klass, args) {\n  var f = function() {\n  };\n  f.prototype = klass.prototype;\n  var instance = new f(), result = klass.apply(instance, args);\n  return void 0 !== result ? result : instance;\n};\nee.Geometry.prototype.name = function() {\n  return \"Geometry\";\n};\nee.Filter = function(opt_filter) {\n  if (!(this instanceof ee.Filter)) {\n    return ee.ComputedObject.construct(ee.Filter, arguments);\n  }\n  if (opt_filter instanceof ee.Filter) {\n    return opt_filter;\n  }\n  ee.Filter.initialize();\n  if (Array.isArray(opt_filter)) {\n    if (0 == opt_filter.length) {\n      throw Error(\"Empty list specified for ee.Filter().\");\n    }\n    if (1 == opt_filter.length) {\n      return new ee.Filter(opt_filter[0]);\n    }\n    ee.ComputedObject.call(this, new ee.ApiFunction(\"Filter.and\"), {filters:opt_filter});\n    this.filter_ = opt_filter;\n  } else if (opt_filter instanceof ee.ComputedObject) {\n    ee.ComputedObject.call(this, opt_filter.func, opt_filter.args, opt_filter.varName), this.filter_ = [opt_filter];\n  } else if (void 0 === opt_filter) {\n    ee.ComputedObject.call(this, null, null), this.filter_ = [];\n  } else {\n    throw Error(\"Invalid argument specified for ee.Filter(): \" + opt_filter);\n  }\n};\ngoog.inherits(ee.Filter, ee.ComputedObject);\ngoog.exportSymbol(\"ee.Filter\", ee.Filter);\nee.Filter.initialized_ = !1;\nee.Filter.initialize = function() {\n  ee.Filter.initialized_ || (ee.ApiFunction.importApi(ee.Filter, \"Filter\", \"Filter\"), ee.Filter.initialized_ = !0);\n};\nee.Filter.reset = function() {\n  ee.ApiFunction.clearApi(ee.Filter);\n  ee.Filter.initialized_ = !1;\n};\nee.Filter.functionNames_ = {equals:\"equals\", less_than:\"lessThan\", greater_than:\"greaterThan\", contains:\"stringContains\", starts_with:\"stringStartsWith\", ends_with:\"stringEndsWith\"};\nee.Filter.prototype.append_ = function(newFilter) {\n  var prev = this.filter_.slice(0);\n  newFilter instanceof ee.Filter ? module$contents$goog$array_extend(prev, newFilter.filter_) : newFilter instanceof Array ? module$contents$goog$array_extend(prev, newFilter) : prev.push(newFilter);\n  return new ee.Filter(prev);\n};\nee.Filter.prototype.not = function() {\n  return ee.ApiFunction._call(\"Filter.not\", this);\n};\ngoog.exportProperty(ee.Filter.prototype, \"not\", ee.Filter.prototype.not);\nee.Filter.eq = function(name, value) {\n  var args = ee.arguments.extractFromFunction(ee.Filter.eq, arguments);\n  return ee.ApiFunction._call(\"Filter.equals\", args.name, args.value);\n};\ngoog.exportProperty(ee.Filter, \"eq\", ee.Filter.eq);\nee.Filter.neq = function(name, value) {\n  var args = ee.arguments.extractFromFunction(ee.Filter.neq, arguments);\n  return ee.Filter.eq(args.name, args.value).not();\n};\ngoog.exportProperty(ee.Filter, \"neq\", ee.Filter.neq);\nee.Filter.lt = function(name, value) {\n  var args = ee.arguments.extractFromFunction(ee.Filter.lt, arguments);\n  return ee.ApiFunction._call(\"Filter.lessThan\", args.name, args.value);\n};\ngoog.exportProperty(ee.Filter, \"lt\", ee.Filter.lt);\nee.Filter.gte = function(name, value) {\n  var args = ee.arguments.extractFromFunction(ee.Filter.gte, arguments);\n  return ee.Filter.lt(args.name, args.value).not();\n};\ngoog.exportProperty(ee.Filter, \"gte\", ee.Filter.gte);\nee.Filter.gt = function(name, value) {\n  var args = ee.arguments.extractFromFunction(ee.Filter.gt, arguments);\n  return ee.ApiFunction._call(\"Filter.greaterThan\", args.name, args.value);\n};\ngoog.exportProperty(ee.Filter, \"gt\", ee.Filter.gt);\nee.Filter.lte = function(name, value) {\n  var args = ee.arguments.extractFromFunction(ee.Filter.lte, arguments);\n  return ee.Filter.gt(args.name, args.value).not();\n};\ngoog.exportProperty(ee.Filter, \"lte\", ee.Filter.lte);\nee.Filter.and = function(var_args) {\n  var args = Array.prototype.slice.call(arguments);\n  return ee.ApiFunction._call(\"Filter.and\", args);\n};\ngoog.exportProperty(ee.Filter, \"and\", ee.Filter.and);\nee.Filter.or = function(var_args) {\n  var args = Array.prototype.slice.call(arguments);\n  return ee.ApiFunction._call(\"Filter.or\", args);\n};\ngoog.exportProperty(ee.Filter, \"or\", ee.Filter.or);\nee.Filter.date = function(start, opt_end) {\n  var args = ee.arguments.extractFromFunction(ee.Filter.date, arguments), range = ee.ApiFunction._call(\"DateRange\", args.start, args.end);\n  return ee.ApiFunction._apply(\"Filter.dateRangeContains\", {leftValue:range, rightField:\"system:time_start\"});\n};\ngoog.exportProperty(ee.Filter, \"date\", ee.Filter.date);\nee.Filter.inList = function(opt_leftField, opt_rightValue, opt_rightField, opt_leftValue) {\n  var args = ee.arguments.extractFromFunction(ee.Filter.inList, arguments);\n  return ee.ApiFunction._apply(\"Filter.listContains\", {leftField:args.rightField, rightValue:args.leftValue, rightField:args.leftField, leftValue:args.rightValue});\n};\ngoog.exportProperty(ee.Filter, \"inList\", ee.Filter.inList);\nee.Filter.bounds = function(geometry, opt_errorMargin) {\n  return ee.ApiFunction._apply(\"Filter.intersects\", {leftField:\".all\", rightValue:ee.ApiFunction._call(\"Feature\", geometry), maxError:opt_errorMargin});\n};\ngoog.exportProperty(ee.Filter, \"bounds\", ee.Filter.bounds);\nee.Filter.prototype.name = function() {\n  return \"Filter\";\n};\nee.Filter.metadata = function(name, operator, value) {\n  operator = operator.toLowerCase();\n  var negated = !1;\n  goog.string.startsWith(operator, \"not_\") && (negated = !0, operator = operator.substring(4));\n  if (!(operator in ee.Filter.functionNames_)) {\n    throw Error(\"Unknown filtering operator: \" + operator);\n  }\n  var filter = ee.ApiFunction._call(\"Filter.\" + ee.Filter.functionNames_[operator], name, value);\n  return negated ? filter.not() : filter;\n};\ngoog.exportProperty(ee.Filter, \"metadata\", ee.Filter.metadata);\nee.Collection = function(func, args, opt_varName) {\n  ee.Element.call(this, func, args, opt_varName);\n  ee.Collection.initialize();\n};\ngoog.inherits(ee.Collection, ee.Element);\ngoog.exportSymbol(\"ee.Collection\", ee.Collection);\nee.Collection.initialized_ = !1;\nee.Collection.initialize = function() {\n  ee.Collection.initialized_ || (ee.ApiFunction.importApi(ee.Collection, \"Collection\", \"Collection\"), ee.ApiFunction.importApi(ee.Collection, \"AggregateFeatureCollection\", \"Collection\", \"aggregate_\"), ee.Collection.initialized_ = !0);\n};\nee.Collection.reset = function() {\n  ee.ApiFunction.clearApi(ee.Collection);\n  ee.Collection.initialized_ = !1;\n};\nee.Collection.prototype.filter = function(filter) {\n  filter = ee.arguments.extractFromFunction(ee.Collection.prototype.filter, arguments).filter;\n  if (!filter) {\n    throw Error(\"Empty filters.\");\n  }\n  return this.castInternal(ee.ApiFunction._call(\"Collection.filter\", this, filter));\n};\ngoog.exportProperty(ee.Collection.prototype, \"filter\", ee.Collection.prototype.filter);\nee.Collection.prototype.filterMetadata = function(name, operator, value) {\n  var args = ee.arguments.extractFromFunction(ee.Collection.prototype.filterMetadata, arguments);\n  return this.filter(ee.Filter.metadata(args.name, args.operator, args.value));\n};\ngoog.exportProperty(ee.Collection.prototype, \"filterMetadata\", ee.Collection.prototype.filterMetadata);\nee.Collection.prototype.filterBounds = function(geometry) {\n  return this.filter(ee.Filter.bounds(geometry));\n};\ngoog.exportProperty(ee.Collection.prototype, \"filterBounds\", ee.Collection.prototype.filterBounds);\nee.Collection.prototype.filterDate = function(start, opt_end) {\n  var args = ee.arguments.extractFromFunction(ee.Collection.prototype.filterDate, arguments);\n  return this.filter(ee.Filter.date(args.start, args.end));\n};\ngoog.exportProperty(ee.Collection.prototype, \"filterDate\", ee.Collection.prototype.filterDate);\nee.Collection.prototype.limit = function(max, opt_property, opt_ascending) {\n  var args = ee.arguments.extractFromFunction(ee.Collection.prototype.limit, arguments);\n  return this.castInternal(ee.ApiFunction._call(\"Collection.limit\", this, args.max, args.property, args.ascending));\n};\ngoog.exportProperty(ee.Collection.prototype, \"limit\", ee.Collection.prototype.limit);\nee.Collection.prototype.sort = function(property, opt_ascending) {\n  var args = ee.arguments.extractFromFunction(ee.Collection.prototype.sort, arguments);\n  return this.castInternal(ee.ApiFunction._call(\"Collection.limit\", this, void 0, args.property, args.ascending));\n};\ngoog.exportProperty(ee.Collection.prototype, \"sort\", ee.Collection.prototype.sort);\nee.Collection.prototype.name = function() {\n  return \"Collection\";\n};\nee.Collection.prototype.elementType = function() {\n  return ee.Element;\n};\nee.Collection.prototype.map = function(algorithm, opt_dropNulls) {\n  var elementType = this.elementType();\n  return this.castInternal(ee.ApiFunction._call(\"Collection.map\", this, function(e) {\n    return algorithm(new elementType(e));\n  }, opt_dropNulls));\n};\ngoog.exportProperty(ee.Collection.prototype, \"map\", ee.Collection.prototype.map);\nee.Collection.prototype.iterate = function(algorithm, opt_first) {\n  var first = void 0 !== opt_first ? opt_first : null, elementType = this.elementType();\n  return ee.ApiFunction._call(\"Collection.iterate\", this, function(e, p) {\n    return algorithm(new elementType(e), p);\n  }, first);\n};\ngoog.exportProperty(ee.Collection.prototype, \"iterate\", ee.Collection.prototype.iterate);\nee.Feature = function(geometry, opt_properties) {\n  if (!(this instanceof ee.Feature)) {\n    return ee.ComputedObject.construct(ee.Feature, arguments);\n  }\n  if (geometry instanceof ee.Feature) {\n    if (opt_properties) {\n      throw Error(\"Can't create Feature out of a Feature and properties.\");\n    }\n    return geometry;\n  }\n  if (2 < arguments.length) {\n    throw Error(\"The Feature constructor takes at most 2 arguments (\" + arguments.length + \" given)\");\n  }\n  ee.Feature.initialize();\n  if (geometry instanceof ee.Geometry || null === geometry) {\n    ee.Element.call(this, new ee.ApiFunction(\"Feature\"), {geometry:geometry, metadata:opt_properties || null});\n  } else if (geometry instanceof ee.ComputedObject) {\n    ee.Element.call(this, geometry.func, geometry.args, geometry.varName);\n  } else if (\"Feature\" == geometry.type) {\n    var properties = geometry.properties || {};\n    if (\"id\" in geometry) {\n      if (\"system:index\" in properties) {\n        throw Error('Can\\'t specify both \"id\" and \"system:index\".');\n      }\n      properties = module$contents$goog$object_clone(properties);\n      properties[\"system:index\"] = geometry.id;\n    }\n    ee.Element.call(this, new ee.ApiFunction(\"Feature\"), {geometry:new ee.Geometry(geometry.geometry), metadata:properties});\n  } else {\n    ee.Element.call(this, new ee.ApiFunction(\"Feature\"), {geometry:new ee.Geometry(geometry), metadata:opt_properties || null});\n  }\n};\ngoog.inherits(ee.Feature, ee.Element);\ngoog.exportSymbol(\"ee.Feature\", ee.Feature);\nee.Feature.initialized_ = !1;\nee.Feature.initialize = function() {\n  ee.Feature.initialized_ || (ee.ApiFunction.importApi(ee.Feature, \"Feature\", \"Feature\"), ee.Feature.initialized_ = !0);\n};\nee.Feature.reset = function() {\n  ee.ApiFunction.clearApi(ee.Feature);\n  ee.Feature.initialized_ = !1;\n};\nee.Feature.prototype.getInfo = function(opt_callback) {\n  return ee.Feature.superClass_.getInfo.call(this, opt_callback);\n};\ngoog.exportProperty(ee.Feature.prototype, \"getInfo\", ee.Feature.prototype.getInfo);\nee.Feature.prototype.getMap = function(opt_visParams, opt_callback) {\n  var args = ee.arguments.extractFromFunction(ee.Feature.prototype.getMap, arguments);\n  return ee.ApiFunction._call(\"Collection\", [this]).getMap(args.visParams, args.callback);\n};\ngoog.exportProperty(ee.Feature.prototype, \"getMap\", ee.Feature.prototype.getMap);\nee.Feature.prototype.name = function() {\n  return \"Feature\";\n};\nee.data.images = {};\nee.data.images.applyTransformsToImage = function(taskConfig) {\n  var resultParams = {}, image = ee.data.images.applyCrsAndTransform(taskConfig.element, taskConfig);\n  image = ee.data.images.applySelectionAndScale(image, taskConfig, resultParams);\n  resultParams.element = image;\n  return resultParams;\n};\nee.data.images.applyTransformsToCollection = function(taskConfig) {\n  var resultParams = {}, collection = taskConfig.element.map(function(image) {\n    var projected = ee.data.images.applyCrsAndTransform(image, taskConfig);\n    return ee.data.images.applySelectionAndScale(projected, taskConfig, resultParams);\n  });\n  resultParams.element = collection;\n  return resultParams;\n};\nee.data.images.applySelectionAndScale = function(image, params, outParams) {\n  var clipParams = {}, dimensions_consumed = !1, SCALING_KEYS = [\"maxDimension\", \"width\", \"height\", \"scale\"];\n  module$contents$goog$object_forEach(params, function(value, key) {\n    if (null != value) {\n      switch(key) {\n        case \"dimensions\":\n          var dims = \"string\" === typeof value ? value.split(\"x\").map(Number) : Array.isArray(value) ? value : \"number\" === typeof value ? [value] : [];\n          if (1 === dims.length) {\n            clipParams.maxDimension = dims[0];\n          } else if (2 === dims.length) {\n            clipParams.width = dims[0], clipParams.height = dims[1];\n          } else {\n            throw Error(\"Invalid dimensions \" + value);\n          }\n          break;\n        case \"dimensions_consumed\":\n          dimensions_consumed = !0;\n          break;\n        case \"bbox\":\n          null != clipParams.geometry && console.warn(\"Multiple request parameters converted to region.\");\n          clipParams.geometry = ee.data.images.bboxToGeometry(value);\n          break;\n        case \"region\":\n          null != clipParams.geometry && console.warn(\"Multiple request parameters converted to region.\");\n          clipParams.geometry = ee.data.images.regionToGeometry(value);\n          break;\n        case \"scale\":\n          clipParams.scale = Number(value);\n          break;\n        default:\n          outParams[key] = value;\n      }\n    }\n  });\n  module$contents$goog$object_isEmpty(clipParams) || (clipParams.input = image, image = SCALING_KEYS.some(function(key) {\n    return key in clipParams;\n  }) || dimensions_consumed ? ee.ApiFunction._apply(\"Image.clipToBoundsAndScale\", clipParams) : ee.ApiFunction._apply(\"Image.clip\", clipParams));\n  return image;\n};\nee.data.images.bboxToGeometry = function(bbox) {\n  if (bbox instanceof ee.Geometry.Rectangle) {\n    return bbox;\n  }\n  var bboxArray = bbox;\n  if (\"string\" === typeof bbox) {\n    try {\n      bboxArray = JSON.parse(bbox);\n    } catch ($jscomp$unused$catch) {\n      bboxArray = bbox.split(/\\s*,\\s*/).map(Number);\n    }\n  }\n  if (Array.isArray(bboxArray)) {\n    if (bboxArray.some(isNaN)) {\n      throw Error(\"Invalid bbox `{bboxArray}`, please specify a list of numbers.\");\n    }\n    return new ee.Geometry.Rectangle(bboxArray, null, !1);\n  }\n  throw Error('Invalid bbox \"{bbox}\" type, must be of type Array<number>');\n};\nee.data.images.regionToGeometry = function(region) {\n  if (region instanceof ee.Geometry) {\n    return region;\n  }\n  var regionObject = region;\n  if (\"string\" === typeof region) {\n    try {\n      regionObject = JSON.parse(region);\n    } catch (e) {\n      throw Error('Region string \"' + region + '\" is not valid GeoJSON.');\n    }\n  }\n  if (Array.isArray(regionObject)) {\n    return new ee.Geometry.Polygon(regionObject, null, !1);\n  }\n  if (goog.isObject(regionObject)) {\n    return new ee.Geometry(regionObject, null, !1);\n  }\n  throw Error(\"Region {region} was not convertible to an ee.Geometry.\");\n};\nee.data.images.applyCrsAndTransform = function(image, params) {\n  var crs = params.crs || \"\", crsTransform = params.crsTransform || params.crs_transform;\n  null != crsTransform && (crsTransform = ee.data.images.maybeConvertCrsTransformToArray_(crsTransform));\n  if (!crs && !crsTransform) {\n    return image;\n  }\n  if (crsTransform && !crs) {\n    throw Error('Must specify \"crs\" if \"crsTransform\" is specified.');\n  }\n  if (crsTransform) {\n    if (image = ee.ApiFunction._apply(\"Image.reproject\", {image:image, crs:crs, crsTransform:crsTransform}), null != params.dimensions && null == params.scale && null == params.region) {\n      var dimensions = params.dimensions;\n      \"string\" === typeof dimensions && (dimensions = dimensions.split(\"x\").map(Number));\n      if (2 === dimensions.length) {\n        delete params.dimensions;\n        params.dimensions_consumed = !0;\n        var projection = (new ee.ApiFunction(\"Projection\")).call(crs, crsTransform);\n        params.region = new ee.Geometry.Rectangle([0, 0, dimensions[0], dimensions[1]], projection, !1);\n      }\n    }\n  } else {\n    image = ee.ApiFunction._apply(\"Image.setDefaultProjection\", {image:image, crs:crs, crsTransform:[1, 0, 0, 0, -1, 0]});\n  }\n  return image;\n};\nee.data.images.maybeConvertCrsTransformToArray_ = function(crsTransform) {\n  var transformArray = crsTransform;\n  if (\"string\" === typeof transformArray) {\n    try {\n      transformArray = JSON.parse(transformArray);\n    } catch (e) {\n    }\n  }\n  if (Array.isArray(transformArray)) {\n    if (6 === transformArray.length && module$contents$goog$array_every(transformArray, function(x) {\n      return \"number\" === typeof x;\n    })) {\n      return transformArray;\n    }\n    throw Error(\"Invalid argument, crs transform must be a list of 6 numbers.\");\n  }\n  throw Error(\"Invalid argument, crs transform was not a string or array.\");\n};\nee.data.images.applyVisualization = function(image, params) {\n  var request = {}, visParams = ee.data.images.extractVisParams(params, request);\n  module$contents$goog$object_isEmpty(visParams) || (visParams.image = image, image = ee.ApiFunction._apply(\"Image.visualize\", visParams));\n  request.image = image;\n  return request;\n};\nee.data.images.extractVisParams = function(params, outParams) {\n  var keysToExtract = \"bands gain bias min max gamma palette opacity forceRgbOutput\".split(\" \"), visParams = {};\n  module$contents$goog$object_forEach(params, function(value, key) {\n    module$contents$goog$array_contains(keysToExtract, key) ? visParams[key] = value : outParams[key] = value;\n  });\n  return visParams;\n};\nee.data.images.buildDownloadIdImage = function(image, params) {\n  params = Object.assign({}, params);\n  var extractAndValidateTransforms = function(obj) {\n    var extracted = {};\n    [\"crs\", \"crs_transform\", \"dimensions\", \"region\"].forEach(function(key) {\n      key in obj && (extracted[key] = obj[key]);\n    });\n    null != obj.scale && null == obj.dimensions && (extracted.scale = obj.scale);\n    return extracted;\n  }, buildImagePerBand = function(band) {\n    var bandId = band.id;\n    if (void 0 === bandId) {\n      throw Error(\"Each band dictionary must have an id.\");\n    }\n    var bandImage = image.select(bandId), copyParams = extractAndValidateTransforms(params), bandParams = extractAndValidateTransforms(band);\n    bandParams = extractAndValidateTransforms(Object.assign(copyParams, bandParams));\n    bandImage = ee.data.images.applyCrsAndTransform(bandImage, bandParams);\n    return bandImage = ee.data.images.applySelectionAndScale(bandImage, bandParams, {});\n  };\n  if (\"ZIPPED_GEO_TIFF_PER_BAND\" === params.format && params.bands && params.bands.length) {\n    var images = params.bands.map(buildImagePerBand);\n    image = images.reduce(function(result, bandImage) {\n      return ee.ApiFunction._call(\"Image.addBands\", result, bandImage, null, !0);\n    }, images.shift());\n  } else {\n    var copyParams = extractAndValidateTransforms(params);\n    image = ee.data.images.applyCrsAndTransform(image, copyParams);\n    image = ee.data.images.applySelectionAndScale(image, copyParams, {});\n  }\n  return image;\n};\nee.Image = function(opt_args) {\n  if (!(this instanceof ee.Image)) {\n    return ee.ComputedObject.construct(ee.Image, arguments);\n  }\n  if (opt_args instanceof ee.Image) {\n    return opt_args;\n  }\n  ee.Image.initialize();\n  var argCount = arguments.length;\n  if (0 == argCount || 1 == argCount && void 0 === opt_args) {\n    ee.Element.call(this, new ee.ApiFunction(\"Image.mask\"), {image:new ee.Image(0), mask:new ee.Image(0)});\n  } else if (1 == argCount) {\n    if (ee.Types.isNumber(opt_args)) {\n      ee.Element.call(this, new ee.ApiFunction(\"Image.constant\"), {value:opt_args});\n    } else if (ee.Types.isString(opt_args)) {\n      ee.Element.call(this, new ee.ApiFunction(\"Image.load\"), {id:opt_args});\n    } else {\n      if (Array.isArray(opt_args)) {\n        return ee.Image.combine_(module$contents$goog$array_map(opt_args, function(elem) {\n          return new ee.Image(elem);\n        }));\n      }\n      if (opt_args instanceof ee.ComputedObject) {\n        \"Array\" == opt_args.name() ? ee.Element.call(this, new ee.ApiFunction(\"Image.constant\"), {value:opt_args}) : ee.Element.call(this, opt_args.func, opt_args.args, opt_args.varName);\n      } else {\n        throw Error(\"Unrecognized argument type to convert to an Image: \" + opt_args);\n      }\n    }\n  } else if (2 == argCount) {\n    var id = arguments[0], version = arguments[1];\n    if (ee.Types.isString(id) && ee.Types.isNumber(version)) {\n      ee.Element.call(this, new ee.ApiFunction(\"Image.load\"), {id:id, version:version});\n    } else {\n      throw Error(\"Unrecognized argument types to convert to an Image: \" + arguments);\n    }\n  } else {\n    throw Error(\"The Image constructor takes at most 2 arguments (\" + argCount + \" given)\");\n  }\n};\ngoog.inherits(ee.Image, ee.Element);\ngoog.exportSymbol(\"ee.Image\", ee.Image);\nee.Image.initialized_ = !1;\nee.Image.initialize = function() {\n  ee.Image.initialized_ || (ee.ApiFunction.importApi(ee.Image, \"Image\", \"Image\"), ee.Image.initialized_ = !0);\n};\nee.Image.reset = function() {\n  ee.ApiFunction.clearApi(ee.Image);\n  ee.Image.initialized_ = !1;\n};\nee.Image.prototype.getInfo = function(opt_callback) {\n  return ee.Image.superClass_.getInfo.call(this, opt_callback);\n};\ngoog.exportProperty(ee.Image.prototype, \"getInfo\", ee.Image.prototype.getInfo);\nee.Image.prototype.getMap = function(opt_visParams, opt_callback) {\n  var $jscomp$this = this, args = ee.arguments.extractFromFunction(ee.Image.prototype.getMap, arguments), request = ee.data.images.applyVisualization(this, args.visParams);\n  if (args.callback) {\n    var callback = args.callback;\n    ee.data.getMapId(request, function(data, error) {\n      var mapId = data ? Object.assign(data, {image:$jscomp$this}) : void 0;\n      callback(mapId, error);\n    });\n  } else {\n    var response = ee.data.getMapId(request);\n    response.image = this;\n    return response;\n  }\n};\ngoog.exportProperty(ee.Image.prototype, \"getMap\", ee.Image.prototype.getMap);\nee.Image.prototype.getDownloadURL = function(params, opt_callback) {\n  var args = ee.arguments.extractFromFunction(ee.Image.prototype.getDownloadURL, arguments), request = args.params ? module$contents$goog$object_clone(args.params) : {};\n  request.image = this;\n  if (args.callback) {\n    var callback = args.callback;\n    ee.data.getDownloadId(request, function(downloadId, error) {\n      downloadId ? callback(ee.data.makeDownloadUrl(downloadId)) : callback(null, error);\n    });\n  } else {\n    return ee.data.makeDownloadUrl(ee.data.getDownloadId(request));\n  }\n};\ngoog.exportProperty(ee.Image.prototype, \"getDownloadURL\", ee.Image.prototype.getDownloadURL);\nee.Image.prototype.getThumbId = function(params, opt_callback) {\n  var args = ee.arguments.extractFromFunction(ee.Image.prototype.getDownloadURL, arguments), request = args.params ? module$contents$goog$object_clone(args.params) : {}, extra = {}, image = ee.data.images.applyCrsAndTransform(this, request);\n  image = ee.data.images.applySelectionAndScale(image, request, extra);\n  request = ee.data.images.applyVisualization(image, extra);\n  return args.callback ? (ee.data.getThumbId(request, args.callback), null) : ee.data.getThumbId(request);\n};\ngoog.exportProperty(ee.Image.prototype, \"getThumbId\", ee.Image.prototype.getThumbId);\nee.Image.prototype.getThumbURL = function(params, opt_callback) {\n  var args = ee.arguments.extractFromFunction(ee.Image.prototype.getThumbURL, arguments);\n  if (args.callback) {\n    this.getThumbId(args.params, function(thumbId, opt_error) {\n      var thumbUrl = \"\";\n      if (void 0 === opt_error) {\n        try {\n          thumbUrl = ee.data.makeThumbUrl(thumbId);\n        } catch (e) {\n          opt_error = String(e.message);\n        }\n      }\n      args.callback(thumbUrl, opt_error);\n    });\n  } else {\n    return ee.data.makeThumbUrl(this.getThumbId(args.params));\n  }\n};\ngoog.exportProperty(ee.Image.prototype, \"getThumbURL\", ee.Image.prototype.getThumbURL);\nee.Image.rgb = function(r, g, b) {\n  var args = ee.arguments.extractFromFunction(ee.Image.rgb, arguments);\n  return ee.Image.combine_([args.r, args.g, args.b], [\"vis-red\", \"vis-green\", \"vis-blue\"]);\n};\ngoog.exportProperty(ee.Image, \"rgb\", ee.Image.rgb);\nee.Image.cat = function(var_args) {\n  var args = Array.prototype.slice.call(arguments);\n  return ee.Image.combine_(args, null);\n};\ngoog.exportProperty(ee.Image, \"cat\", ee.Image.cat);\nee.Image.combine_ = function(images, opt_names) {\n  if (0 == images.length) {\n    return ee.ApiFunction._call(\"Image.constant\", []);\n  }\n  for (var result = new ee.Image(images[0]), i = 1; i < images.length; i++) {\n    result = ee.ApiFunction._call(\"Image.addBands\", result, images[i]);\n  }\n  opt_names && (result = result.select([\".*\"], opt_names));\n  return result;\n};\nee.Image.prototype.select = function(var_args) {\n  var args = Array.prototype.slice.call(arguments), algorithmArgs = {input:this, bandSelectors:args[0] || []};\n  if (2 < args.length || ee.Types.isString(args[0]) || ee.Types.isNumber(args[0])) {\n    for (var i = 0; i < args.length; i++) {\n      if (!(ee.Types.isString(args[i]) || ee.Types.isNumber(args[i]) || args[i] instanceof ee.ComputedObject)) {\n        throw Error(\"Illegal argument to select(): \" + args[i]);\n      }\n    }\n    algorithmArgs.bandSelectors = args;\n  } else {\n    args[1] && (algorithmArgs.newNames = args[1]);\n  }\n  return ee.ApiFunction._apply(\"Image.select\", algorithmArgs);\n};\ngoog.exportProperty(ee.Image.prototype, \"select\", ee.Image.prototype.select);\nee.Image.prototype.expression = function(expression, opt_map) {\n  var originalArgs = ee.arguments.extractFromFunction(ee.Image.prototype.expression, arguments), vars = [\"DEFAULT_EXPRESSION_IMAGE\"], eeArgs = {DEFAULT_EXPRESSION_IMAGE:this};\n  if (originalArgs.map) {\n    var map = originalArgs.map, name$jscomp$0;\n    for (name$jscomp$0 in map) {\n      vars.push(name$jscomp$0), eeArgs[name$jscomp$0] = new ee.Image(map[name$jscomp$0]);\n    }\n  }\n  var body = ee.ApiFunction._call(\"Image.parseExpression\", originalArgs.expression, \"DEFAULT_EXPRESSION_IMAGE\", vars), func = new ee.Function();\n  func.encode = function(encoder) {\n    return body.encode(encoder);\n  };\n  func.encodeCloudInvocation = function(serializer, args) {\n    return ee.rpc_node.functionByReference(serializer.makeReference(body), args);\n  };\n  func.getSignature = function() {\n    return {name:\"\", args:module$contents$goog$array_map(vars, function(name) {\n      return {name:name, type:\"Image\", optional:!1};\n    }, this), returns:\"Image\"};\n  };\n  return func.apply(eeArgs);\n};\ngoog.exportProperty(ee.Image.prototype, \"expression\", ee.Image.prototype.expression);\nee.Image.prototype.clip = function(geometry) {\n  try {\n    geometry = new ee.Geometry(geometry);\n  } catch (e) {\n  }\n  return ee.ApiFunction._call(\"Image.clip\", this, geometry);\n};\ngoog.exportProperty(ee.Image.prototype, \"clip\", ee.Image.prototype.clip);\nee.Image.prototype.rename = function(var_args) {\n  var names = 1 != arguments.length || ee.Types.isString(arguments[0]) ? Array.from(arguments) : arguments[0];\n  return ee.ApiFunction._call(\"Image.rename\", this, names);\n};\ngoog.exportProperty(ee.Image.prototype, \"rename\", ee.Image.prototype.rename);\nee.Image.prototype.name = function() {\n  return \"Image\";\n};\nee.List = function(list) {\n  if (this instanceof ee.List) {\n    if (1 < arguments.length) {\n      throw Error(\"ee.List() only accepts 1 argument.\");\n    }\n    if (list instanceof ee.List) {\n      return list;\n    }\n  } else {\n    return ee.ComputedObject.construct(ee.List, arguments);\n  }\n  ee.List.initialize();\n  if (Array.isArray(list)) {\n    ee.ComputedObject.call(this, null, null), this.list_ = list;\n  } else if (list instanceof ee.ComputedObject) {\n    ee.ComputedObject.call(this, list.func, list.args, list.varName), this.list_ = null;\n  } else {\n    throw Error(\"Invalid argument specified for ee.List(): \" + list);\n  }\n};\ngoog.inherits(ee.List, ee.ComputedObject);\ngoog.exportSymbol(\"ee.List\", ee.List);\nee.List.initialized_ = !1;\nee.List.initialize = function() {\n  ee.List.initialized_ || (ee.ApiFunction.importApi(ee.List, \"List\", \"List\"), ee.List.initialized_ = !0);\n};\nee.List.reset = function() {\n  ee.ApiFunction.clearApi(ee.List);\n  ee.List.initialized_ = !1;\n};\nee.List.prototype.encode = function(encoder) {\n  return Array.isArray(this.list_) ? module$contents$goog$array_map(this.list_, function(elem) {\n    return encoder(elem);\n  }) : ee.List.superClass_.encode.call(this, encoder);\n};\nee.List.prototype.encodeCloudValue = function(serializer) {\n  return Array.isArray(this.list_) ? ee.rpc_node.reference(serializer.makeReference(this.list_)) : ee.List.superClass_.encodeCloudValue.call(this, serializer);\n};\nee.List.prototype.name = function() {\n  return \"List\";\n};\nee.FeatureCollection = function(args, opt_column) {\n  if (!(this instanceof ee.FeatureCollection)) {\n    return ee.ComputedObject.construct(ee.FeatureCollection, arguments);\n  }\n  if (args instanceof ee.FeatureCollection) {\n    return args;\n  }\n  if (2 < arguments.length) {\n    throw Error(\"The FeatureCollection constructor takes at most 2 arguments (\" + arguments.length + \" given)\");\n  }\n  ee.FeatureCollection.initialize();\n  args instanceof ee.Geometry && (args = new ee.Feature(args));\n  args instanceof ee.Feature && (args = [args]);\n  if (ee.Types.isString(args)) {\n    var actualArgs = {tableId:args};\n    opt_column && (actualArgs.geometryColumn = opt_column);\n    ee.Collection.call(this, new ee.ApiFunction(\"Collection.loadTable\"), actualArgs);\n  } else if (Array.isArray(args)) {\n    ee.Collection.call(this, new ee.ApiFunction(\"Collection\"), {features:module$contents$goog$array_map(args, function(elem) {\n      return new ee.Feature(elem);\n    })});\n  } else if (args instanceof ee.List) {\n    ee.Collection.call(this, new ee.ApiFunction(\"Collection\"), {features:args});\n  } else if (args && \"object\" === typeof args && \"FeatureCollection\" === args.type) {\n    ee.Collection.call(this, new ee.ApiFunction(\"Collection\"), {features:args.features.map(function(f) {\n      return new ee.Feature(f);\n    })});\n  } else if (args instanceof ee.ComputedObject) {\n    ee.Collection.call(this, args.func, args.args, args.varName);\n  } else {\n    throw Error(\"Unrecognized argument type to convert to a FeatureCollection: \" + args);\n  }\n};\ngoog.inherits(ee.FeatureCollection, ee.Collection);\ngoog.exportSymbol(\"ee.FeatureCollection\", ee.FeatureCollection);\nee.FeatureCollection.initialized_ = !1;\nee.FeatureCollection.initialize = function() {\n  ee.FeatureCollection.initialized_ || (ee.ApiFunction.importApi(ee.FeatureCollection, \"FeatureCollection\", \"FeatureCollection\"), ee.FeatureCollection.initialized_ = !0);\n};\nee.FeatureCollection.reset = function() {\n  ee.ApiFunction.clearApi(ee.FeatureCollection);\n  ee.FeatureCollection.initialized_ = !1;\n};\nee.FeatureCollection.prototype.getMap = function(opt_visParams, opt_callback) {\n  var args = ee.arguments.extractFromFunction(ee.FeatureCollection.prototype.getMap, arguments), painted = ee.ApiFunction._apply(\"Collection.draw\", {collection:this, color:(args.visParams || {}).color || \"000000\"});\n  if (args.callback) {\n    painted.getMap(void 0, args.callback);\n  } else {\n    return painted.getMap();\n  }\n};\ngoog.exportProperty(ee.FeatureCollection.prototype, \"getMap\", ee.FeatureCollection.prototype.getMap);\nee.FeatureCollection.prototype.getInfo = function(opt_callback) {\n  return ee.FeatureCollection.superClass_.getInfo.call(this, opt_callback);\n};\ngoog.exportProperty(ee.FeatureCollection.prototype, \"getInfo\", ee.FeatureCollection.prototype.getInfo);\nee.FeatureCollection.prototype.getDownloadURL = function(opt_format, opt_selectors, opt_filename, opt_callback) {\n  var args = ee.arguments.extractFromFunction(ee.FeatureCollection.prototype.getDownloadURL, arguments), request = {table:this};\n  args.format && (request.format = args.format.toUpperCase());\n  args.filename && (request.filename = args.filename);\n  args.selectors && (request.selectors = args.selectors);\n  if (args.callback) {\n    ee.data.getTableDownloadId(request, function(downloadId, error) {\n      downloadId ? args.callback(ee.data.makeTableDownloadUrl(downloadId)) : args.callback(null, error);\n    });\n  } else {\n    return ee.data.makeTableDownloadUrl(ee.data.getTableDownloadId(request));\n  }\n};\ngoog.exportProperty(ee.FeatureCollection.prototype, \"getDownloadURL\", ee.FeatureCollection.prototype.getDownloadURL);\nee.FeatureCollection.prototype.select = function(propertySelectors, opt_newProperties, opt_retainGeometry) {\n  if (ee.Types.isString(propertySelectors)) {\n    var varargs = Array.prototype.slice.call(arguments);\n    return this.map(function(feature) {\n      return feature.select(varargs);\n    });\n  }\n  var args = ee.arguments.extractFromFunction(ee.FeatureCollection.prototype.select, arguments);\n  return this.map(function(feature) {\n    return feature.select(args);\n  });\n};\ngoog.exportProperty(ee.FeatureCollection.prototype, \"select\", ee.FeatureCollection.prototype.select);\nee.FeatureCollection.prototype.name = function() {\n  return \"FeatureCollection\";\n};\nee.FeatureCollection.prototype.elementType = function() {\n  return ee.Feature;\n};\nee.ImageCollection = function(args) {\n  if (!(this instanceof ee.ImageCollection)) {\n    return ee.ComputedObject.construct(ee.ImageCollection, arguments);\n  }\n  if (args instanceof ee.ImageCollection) {\n    return args;\n  }\n  if (1 != arguments.length) {\n    throw Error(\"The ImageCollection constructor takes exactly 1 argument (\" + arguments.length + \" given)\");\n  }\n  ee.ImageCollection.initialize();\n  args instanceof ee.Image && (args = [args]);\n  if (ee.Types.isString(args)) {\n    ee.Collection.call(this, new ee.ApiFunction(\"ImageCollection.load\"), {id:args});\n  } else if (Array.isArray(args)) {\n    ee.Collection.call(this, new ee.ApiFunction(\"ImageCollection.fromImages\"), {images:module$contents$goog$array_map(args, function(elem) {\n      return new ee.Image(elem);\n    })});\n  } else if (args instanceof ee.List) {\n    ee.Collection.call(this, new ee.ApiFunction(\"ImageCollection.fromImages\"), {images:args});\n  } else if (args instanceof ee.ComputedObject) {\n    ee.Collection.call(this, args.func, args.args, args.varName);\n  } else {\n    throw Error(\"Unrecognized argument type to convert to an ImageCollection: \" + args);\n  }\n};\ngoog.inherits(ee.ImageCollection, ee.Collection);\ngoog.exportSymbol(\"ee.ImageCollection\", ee.ImageCollection);\nee.ImageCollection.initialized_ = !1;\nee.ImageCollection.initialize = function() {\n  ee.ImageCollection.initialized_ || (ee.ApiFunction.importApi(ee.ImageCollection, \"ImageCollection\", \"ImageCollection\"), ee.ApiFunction.importApi(ee.ImageCollection, \"reduce\", \"ImageCollection\"), ee.ImageCollection.initialized_ = !0);\n};\nee.ImageCollection.reset = function() {\n  ee.ApiFunction.clearApi(ee.ImageCollection);\n  ee.ImageCollection.initialized_ = !1;\n};\nee.ImageCollection.prototype.getFilmstripThumbURL = function(params, opt_callback) {\n  var args = ee.arguments.extractFromFunction(ee.ImageCollection.prototype.getFilmstripThumbURL, arguments);\n  return ee.ImageCollection.prototype.getThumbURL_(this, args, [\"png\", \"jpg\", \"jpeg\"], ee.ImageCollection.ThumbTypes.FILMSTRIP, opt_callback);\n};\ngoog.exportProperty(ee.ImageCollection.prototype, \"getFilmstripThumbURL\", ee.ImageCollection.prototype.getFilmstripThumbURL);\nee.ImageCollection.prototype.getVideoThumbURL = function(params, opt_callback) {\n  var args = ee.arguments.extractFromFunction(ee.ImageCollection.prototype.getVideoThumbURL, arguments);\n  return ee.ImageCollection.prototype.getThumbURL_(this, args, [\"gif\"], ee.ImageCollection.ThumbTypes.VIDEO, opt_callback);\n};\ngoog.exportProperty(ee.ImageCollection.prototype, \"getVideoThumbURL\", ee.ImageCollection.prototype.getVideoThumbURL);\nee.ImageCollection.ThumbTypes = {FILMSTRIP:\"filmstrip\", VIDEO:\"video\", IMAGE:\"image\",};\nee.ImageCollection.prototype.getThumbURL_ = function(collection, args, validFormats, opt_thumbType, opt_callback) {\n  var extraParams = {}, clippedCollection = collection.map(function(image) {\n    var projected = ee.data.images.applyCrsAndTransform(image, args.params);\n    return ee.data.images.applySelectionAndScale(projected, args.params, extraParams);\n  }), request = {}, visParams = ee.data.images.extractVisParams(extraParams, request);\n  request.imageCollection = clippedCollection.map(function(image) {\n    visParams.image = image;\n    return ee.ApiFunction._apply(\"Image.visualize\", visParams);\n  });\n  null != args.params.dimensions && (request.dimensions = args.params.dimensions);\n  if (request.format) {\n    if (!module$contents$goog$array_some(validFormats, function(format) {\n      return goog.string.caseInsensitiveEquals(format, request.format);\n    })) {\n      throw Error(\"Invalid format specified.\");\n    }\n  } else {\n    request.format = validFormats[0];\n  }\n  var getThumbId = ee.data.getThumbId;\n  switch(opt_thumbType) {\n    case ee.ImageCollection.ThumbTypes.VIDEO:\n      getThumbId = ee.data.getVideoThumbId;\n      break;\n    case ee.ImageCollection.ThumbTypes.FILMSTRIP:\n      getThumbId = ee.data.getFilmstripThumbId;\n  }\n  if (args.callback) {\n    getThumbId(request, function(thumbId, opt_error) {\n      var thumbUrl = \"\";\n      if (void 0 === opt_error) {\n        try {\n          thumbUrl = ee.data.makeThumbUrl(thumbId);\n        } catch (e) {\n          opt_error = String(e.message);\n        }\n      }\n      args.callback(thumbUrl, opt_error);\n    });\n  } else {\n    return ee.data.makeThumbUrl(getThumbId(request));\n  }\n};\nee.ImageCollection.prototype.getMap = function(opt_visParams, opt_callback) {\n  var args = ee.arguments.extractFromFunction(ee.ImageCollection.prototype.getMap, arguments), mosaic = ee.ApiFunction._call(\"ImageCollection.mosaic\", this);\n  if (args.callback) {\n    mosaic.getMap(args.visParams, args.callback);\n  } else {\n    return mosaic.getMap(args.visParams);\n  }\n};\ngoog.exportProperty(ee.ImageCollection.prototype, \"getMap\", ee.ImageCollection.prototype.getMap);\nee.ImageCollection.prototype.getInfo = function(opt_callback) {\n  return ee.ImageCollection.superClass_.getInfo.call(this, opt_callback);\n};\ngoog.exportProperty(ee.ImageCollection.prototype, \"getInfo\", ee.ImageCollection.prototype.getInfo);\nee.ImageCollection.prototype.select = function(selectors, opt_names) {\n  var varargs = arguments;\n  return this.map(function(obj) {\n    return obj.select.apply(obj, varargs);\n  });\n};\ngoog.exportProperty(ee.ImageCollection.prototype, \"select\", ee.ImageCollection.prototype.select);\nee.ImageCollection.prototype.first = function() {\n  return new ee.Image(ee.ApiFunction._call(\"Collection.first\", this));\n};\ngoog.exportProperty(ee.ImageCollection.prototype, \"first\", ee.ImageCollection.prototype.first);\nee.ImageCollection.prototype.name = function() {\n  return \"ImageCollection\";\n};\nee.ImageCollection.prototype.elementType = function() {\n  return ee.Image;\n};\nee.batch = {};\nvar module$contents$ee$batch_Export = {image:{}, map:{}, table:{}, video:{}, videoMap:{}, classifier:{}}, module$contents$ee$batch_ExportTask = function(config) {\n  this.config_ = config;\n  this.id = null;\n};\nmodule$contents$ee$batch_ExportTask.create = function(exportArgs) {\n  var config = {element:module$contents$ee$batch_Export.extractElement(exportArgs)};\n  Object.assign(config, exportArgs);\n  config = module$contents$goog$object_filter(config, function(x) {\n    return null != x;\n  });\n  return new module$contents$ee$batch_ExportTask(config);\n};\nmodule$contents$ee$batch_ExportTask.prototype.start = function(opt_success, opt_error) {\n  var $jscomp$this = this;\n  goog.asserts.assert(this.config_, \"Task config must be specified for tasks to be started.\");\n  if (opt_success) {\n    var startProcessing = function() {\n      goog.asserts.assertString($jscomp$this.id);\n      ee.data.startProcessing($jscomp$this.id, $jscomp$this.config_, function(_, error) {\n        error ? opt_error(error) : opt_success();\n      });\n    };\n    this.id ? startProcessing() : ee.data.newTaskId(1, function(ids) {\n      var id = ids && ids[0];\n      id ? ($jscomp$this.id = id, startProcessing()) : opt_error(\"Failed to obtain task ID.\");\n    });\n  } else {\n    this.id = this.id || ee.data.newTaskId(1)[0], goog.asserts.assertString(this.id, \"Failed to obtain task ID.\"), ee.data.startProcessing(this.id, this.config_);\n  }\n};\ngoog.exportProperty(module$contents$ee$batch_ExportTask.prototype, \"start\", module$contents$ee$batch_ExportTask.prototype.start);\nmodule$contents$ee$batch_Export.image.toAsset = function(image, opt_description, opt_assetId, opt_pyramidingPolicy, opt_dimensions, opt_region, opt_scale, opt_crs, opt_crsTransform, opt_maxPixels, opt_shardSize) {\n  var clientConfig = ee.arguments.extractFromFunction(module$contents$ee$batch_Export.image.toAsset, arguments), serverConfig = module$contents$ee$batch_Export.convertToServerParams(clientConfig, ee.data.ExportDestination.ASSET, ee.data.ExportType.IMAGE);\n  return module$contents$ee$batch_ExportTask.create(serverConfig);\n};\ngoog.exportSymbol(\"module$contents$ee$batch_Export.image.toAsset\", module$contents$ee$batch_Export.image.toAsset);\nmodule$contents$ee$batch_Export.image.toCloudStorage = function(image, opt_description, opt_bucket, opt_fileNamePrefix, opt_dimensions, opt_region, opt_scale, opt_crs, opt_crsTransform, opt_maxPixels, opt_shardSize, opt_fileDimensions, opt_skipEmptyTiles, opt_fileFormat, opt_formatOptions) {\n  var clientConfig = ee.arguments.extractFromFunction(module$contents$ee$batch_Export.image.toCloudStorage, arguments), serverConfig = module$contents$ee$batch_Export.convertToServerParams(clientConfig, ee.data.ExportDestination.GCS, ee.data.ExportType.IMAGE);\n  return module$contents$ee$batch_ExportTask.create(serverConfig);\n};\ngoog.exportSymbol(\"module$contents$ee$batch_Export.image.toCloudStorage\", module$contents$ee$batch_Export.image.toCloudStorage);\nmodule$contents$ee$batch_Export.image.toDrive = function(image, opt_description, opt_folder, opt_fileNamePrefix, opt_dimensions, opt_region, opt_scale, opt_crs, opt_crsTransform, opt_maxPixels, opt_shardSize, opt_fileDimensions, opt_skipEmptyTiles, opt_fileFormat, opt_formatOptions) {\n  var clientConfig = ee.arguments.extractFromFunction(module$contents$ee$batch_Export.image.toDrive, arguments), serverConfig = module$contents$ee$batch_Export.convertToServerParams(clientConfig, ee.data.ExportDestination.DRIVE, ee.data.ExportType.IMAGE);\n  return module$contents$ee$batch_ExportTask.create(serverConfig);\n};\ngoog.exportSymbol(\"module$contents$ee$batch_Export.image.toDrive\", module$contents$ee$batch_Export.image.toDrive);\nmodule$contents$ee$batch_Export.map.toCloudStorage = function(image, opt_description, opt_bucket, opt_fileFormat, opt_path, opt_writePublicTiles, opt_scale, opt_maxZoom, opt_minZoom, opt_region, opt_skipEmptyTiles, opt_mapsApiKey, opt_bucketCorsUris) {\n  var clientConfig = ee.arguments.extractFromFunction(module$contents$ee$batch_Export.map.toCloudStorage, arguments), serverConfig = module$contents$ee$batch_Export.convertToServerParams(clientConfig, ee.data.ExportDestination.GCS, ee.data.ExportType.MAP);\n  return module$contents$ee$batch_ExportTask.create(serverConfig);\n};\ngoog.exportSymbol(\"module$contents$ee$batch_Export.map.toCloudStorage\", module$contents$ee$batch_Export.map.toCloudStorage);\nmodule$contents$ee$batch_Export.table.toCloudStorage = function(collection, opt_description, opt_bucket, opt_fileNamePrefix, opt_fileFormat, opt_selectors, opt_maxVertices) {\n  var clientConfig = ee.arguments.extractFromFunction(module$contents$ee$batch_Export.table.toCloudStorage, arguments), serverConfig = module$contents$ee$batch_Export.convertToServerParams(clientConfig, ee.data.ExportDestination.GCS, ee.data.ExportType.TABLE);\n  return module$contents$ee$batch_ExportTask.create(serverConfig);\n};\ngoog.exportSymbol(\"module$contents$ee$batch_Export.table.toCloudStorage\", module$contents$ee$batch_Export.table.toCloudStorage);\nmodule$contents$ee$batch_Export.table.toDrive = function(collection, opt_description, opt_folder, opt_fileNamePrefix, opt_fileFormat, opt_selectors, opt_maxVertices) {\n  var clientConfig = ee.arguments.extractFromFunction(module$contents$ee$batch_Export.table.toDrive, arguments);\n  clientConfig.type = ee.data.ExportType.TABLE;\n  var serverConfig = module$contents$ee$batch_Export.convertToServerParams(clientConfig, ee.data.ExportDestination.DRIVE, ee.data.ExportType.TABLE);\n  return module$contents$ee$batch_ExportTask.create(serverConfig);\n};\ngoog.exportSymbol(\"module$contents$ee$batch_Export.table.toDrive\", module$contents$ee$batch_Export.table.toDrive);\nmodule$contents$ee$batch_Export.table.toAsset = function(collection, opt_description, opt_assetId, opt_maxVertices) {\n  var clientConfig = ee.arguments.extractFromFunction(module$contents$ee$batch_Export.table.toAsset, arguments), serverConfig = module$contents$ee$batch_Export.convertToServerParams(clientConfig, ee.data.ExportDestination.ASSET, ee.data.ExportType.TABLE);\n  return module$contents$ee$batch_ExportTask.create(serverConfig);\n};\ngoog.exportSymbol(\"module$contents$ee$batch_Export.table.toAsset\", module$contents$ee$batch_Export.table.toAsset);\nmodule$contents$ee$batch_Export.table.toFeatureView = function(collection, opt_description, opt_assetId, opt_maxFeaturesPerTile, opt_thinningStrategy, opt_thinningRanking, opt_zOrderRanking) {\n  var clientConfig = ee.arguments.extractFromFunction(module$contents$ee$batch_Export.table.toFeatureView, arguments), serverConfig = module$contents$ee$batch_Export.convertToServerParams(clientConfig, ee.data.ExportDestination.FEATURE_VIEW, ee.data.ExportType.TABLE);\n  return module$contents$ee$batch_ExportTask.create(serverConfig);\n};\ngoog.exportSymbol(\"module$contents$ee$batch_Export.table.toFeatureView\", module$contents$ee$batch_Export.table.toFeatureView);\nmodule$contents$ee$batch_Export.table.toBigQuery = function(collection, opt_description, opt_table, opt_selectors, opt_maxVertices) {\n  var clientConfig = ee.arguments.extractFromFunction(module$contents$ee$batch_Export.table.toBigQuery, arguments), serverConfig = module$contents$ee$batch_Export.convertToServerParams(clientConfig, ee.data.ExportDestination.BIGQUERY, ee.data.ExportType.TABLE);\n  return module$contents$ee$batch_ExportTask.create(serverConfig);\n};\nmodule$contents$ee$batch_Export.video.toCloudStorage = function(collection, opt_description, opt_bucket, opt_fileNamePrefix, opt_framesPerSecond, opt_dimensions, opt_region, opt_scale, opt_crs, opt_crsTransform, opt_maxPixels, opt_maxFrames) {\n  var clientConfig = ee.arguments.extractFromFunction(module$contents$ee$batch_Export.video.toCloudStorage, arguments), serverConfig = module$contents$ee$batch_Export.convertToServerParams(clientConfig, ee.data.ExportDestination.GCS, ee.data.ExportType.VIDEO);\n  return module$contents$ee$batch_ExportTask.create(serverConfig);\n};\ngoog.exportSymbol(\"module$contents$ee$batch_Export.video.toCloudStorage\", module$contents$ee$batch_Export.video.toCloudStorage);\nmodule$contents$ee$batch_Export.video.toDrive = function(collection, opt_description, opt_folder, opt_fileNamePrefix, opt_framesPerSecond, opt_dimensions, opt_region, opt_scale, opt_crs, opt_crsTransform, opt_maxPixels, opt_maxFrames) {\n  var clientConfig = ee.arguments.extractFromFunction(module$contents$ee$batch_Export.video.toDrive, arguments), serverConfig = module$contents$ee$batch_Export.convertToServerParams(clientConfig, ee.data.ExportDestination.DRIVE, ee.data.ExportType.VIDEO);\n  return module$contents$ee$batch_ExportTask.create(serverConfig);\n};\ngoog.exportSymbol(\"module$contents$ee$batch_Export.video.toDrive\", module$contents$ee$batch_Export.video.toDrive);\nmodule$contents$ee$batch_Export.videoMap.toCloudStorage = function(collection, opt_description, opt_bucket, opt_fileNamePrefix, opt_framesPerSecond, opt_writePublicTiles, opt_minZoom, opt_maxZoom, opt_scale, opt_region, opt_skipEmptyTiles, opt_minTimeMachineZoomSubset, opt_maxTimeMachineZoomSubset, opt_tileWidth, opt_tileHeight, opt_tileStride, opt_videoFormat, opt_version, opt_mapsApiKey, opt_bucketCorsUris) {\n  var clientConfig = ee.arguments.extractFromFunction(module$contents$ee$batch_Export.videoMap.toCloudStorage, arguments), serverConfig = module$contents$ee$batch_Export.convertToServerParams(clientConfig, ee.data.ExportDestination.GCS, ee.data.ExportType.VIDEO_MAP);\n  return module$contents$ee$batch_ExportTask.create(serverConfig);\n};\ngoog.exportSymbol(\"module$contents$ee$batch_Export.videoMap.toCloudStorage\", module$contents$ee$batch_Export.videoMap.toCloudStorage);\nmodule$contents$ee$batch_Export.classifier.toAsset = function(classifier, opt_description, opt_assetId) {\n  var clientConfig = ee.arguments.extractFromFunction(module$contents$ee$batch_Export.classifier.toAsset, arguments), serverConfig = module$contents$ee$batch_Export.convertToServerParams(clientConfig, ee.data.ExportDestination.ASSET, ee.data.ExportType.CLASSIFIER);\n  return module$contents$ee$batch_ExportTask.create(serverConfig);\n};\ngoog.exportSymbol(\"module$contents$ee$batch_Export.classifier.toAsset\", module$contents$ee$batch_Export.classifier.toAsset);\nmodule$contents$ee$batch_Export.serializeRegion = function(region) {\n  if (region instanceof ee.Geometry) {\n    region = region.toGeoJSON();\n  } else if (\"string\" === typeof region) {\n    try {\n      region = goog.asserts.assertObject(JSON.parse(region));\n    } catch (x) {\n      throw Error(\"Invalid format for region property. Region must be GeoJSON LinearRing or Polygon specified as actual coordinates or serialized as a string. See Export documentation.\");\n    }\n  }\n  if (!(goog.isObject(region) && \"type\" in region)) {\n    try {\n      new ee.Geometry.LineString(region);\n    } catch (e) {\n      try {\n        new ee.Geometry.Polygon(region);\n      } catch (e2) {\n        throw Error(\"Invalid format for region property. Region must be GeoJSON LinearRing or Polygon specified as actual coordinates or serialized as a string. See Export documentation.\");\n      }\n    }\n  }\n  return JSON.stringify(region);\n};\nmodule$contents$ee$batch_Export.resolveRegionParam = function(params) {\n  params = module$contents$goog$object_clone(params);\n  if (!params.region) {\n    return goog.Promise.resolve(params);\n  }\n  var region = params.region;\n  if (region instanceof ee.ComputedObject) {\n    return region instanceof ee.Element && (region = region.geometry()), new goog.Promise(function(resolve, reject) {\n      region.getInfo(function(regionInfo, error) {\n        error ? reject(error) : (params.region = params.type === ee.data.ExportType.IMAGE ? new ee.Geometry(regionInfo) : module$contents$ee$batch_Export.serializeRegion(regionInfo), resolve(params));\n      });\n    });\n  }\n  params.region = params.type === ee.data.ExportType.IMAGE ? new ee.Geometry(region) : module$contents$ee$batch_Export.serializeRegion(region);\n  return goog.Promise.resolve(params);\n};\nmodule$contents$ee$batch_Export.extractElement = function(exportArgs) {\n  var isInArgs = function(key) {\n    return key in exportArgs;\n  }, eeElementKey = module$contents$ee$batch_Export.EE_ELEMENT_KEYS.find(isInArgs);\n  goog.asserts.assert(1 === module$contents$goog$array_count(module$contents$ee$batch_Export.EE_ELEMENT_KEYS, isInArgs), 'Expected a single \"image\", \"collection\" or \"classifier\" key.');\n  var element = exportArgs[eeElementKey];\n  if (element instanceof ee.Image) {\n    var result = element;\n  } else if (element instanceof ee.FeatureCollection) {\n    result = element;\n  } else if (element instanceof ee.ImageCollection) {\n    result = element;\n  } else if (element instanceof ee.Element) {\n    result = element;\n  } else if (element instanceof ee.ComputedObject) {\n    result = element;\n  } else {\n    throw Error(\"Unknown element type provided: \" + typeof element + \". Expected:  ee.Image, ee.ImageCollection, ee.FeatureCollection,  ee.Element or ee.ComputedObject.\");\n  }\n  delete exportArgs[eeElementKey];\n  return result;\n};\nmodule$contents$ee$batch_Export.convertToServerParams = function(originalArgs, destination, exportType, serializeRegion) {\n  serializeRegion = void 0 === serializeRegion ? !0 : serializeRegion;\n  var taskConfig = {type:exportType};\n  Object.assign(taskConfig, originalArgs);\n  switch(exportType) {\n    case ee.data.ExportType.IMAGE:\n      taskConfig = module$contents$ee$batch_Export.image.prepareTaskConfig_(taskConfig, destination);\n      break;\n    case ee.data.ExportType.MAP:\n      taskConfig = module$contents$ee$batch_Export.map.prepareTaskConfig_(taskConfig, destination);\n      break;\n    case ee.data.ExportType.TABLE:\n      taskConfig = module$contents$ee$batch_Export.table.prepareTaskConfig_(taskConfig, destination);\n      break;\n    case ee.data.ExportType.VIDEO:\n      taskConfig = module$contents$ee$batch_Export.video.prepareTaskConfig_(taskConfig, destination);\n      break;\n    case ee.data.ExportType.VIDEO_MAP:\n      taskConfig = module$contents$ee$batch_Export.videoMap.prepareTaskConfig_(taskConfig, destination);\n      break;\n    case ee.data.ExportType.CLASSIFIER:\n      taskConfig = module$contents$ee$batch_Export.classifier.prepareTaskConfig_(taskConfig, destination);\n      break;\n    default:\n      throw Error(\"Unknown export type: \" + taskConfig.type);\n  }\n  serializeRegion && null != taskConfig.region && (taskConfig.region = module$contents$ee$batch_Export.serializeRegion(taskConfig.region));\n  return taskConfig;\n};\nmodule$contents$ee$batch_Export.prepareDestination_ = function(taskConfig, destination) {\n  switch(destination) {\n    case ee.data.ExportDestination.GCS:\n      taskConfig.outputBucket = taskConfig.bucket || \"\";\n      taskConfig.outputPrefix = taskConfig.fileNamePrefix || taskConfig.path || \"\";\n      delete taskConfig.fileNamePrefix;\n      delete taskConfig.path;\n      delete taskConfig.bucket;\n      break;\n    case ee.data.ExportDestination.ASSET:\n      taskConfig.assetId = taskConfig.assetId || \"\";\n      break;\n    case ee.data.ExportDestination.FEATURE_VIEW:\n      taskConfig.mapName = taskConfig.mapName || \"\";\n      break;\n    default:\n      var folderType = goog.typeOf(taskConfig.folder);\n      if (!module$contents$goog$array_contains([\"string\", \"undefined\"], folderType)) {\n        throw Error('Error: toDrive \"folder\" parameter must be a string, but is of type ' + folderType + \".\");\n      }\n      taskConfig.driveFolder = taskConfig.folder || \"\";\n      taskConfig.driveFileNamePrefix = taskConfig.fileNamePrefix || \"\";\n      delete taskConfig.folder;\n      delete taskConfig.fileNamePrefix;\n  }\n  return taskConfig;\n};\nmodule$contents$ee$batch_Export.image.prepareTaskConfig_ = function(taskConfig, destination) {\n  null == taskConfig.fileFormat && (taskConfig.fileFormat = \"GeoTIFF\");\n  taskConfig = module$contents$ee$batch_Export.reconcileImageFormat(taskConfig);\n  taskConfig = module$contents$ee$batch_Export.prepareDestination_(taskConfig, destination);\n  null != taskConfig.crsTransform && (taskConfig[module$contents$ee$batch_Export.CRS_TRANSFORM_KEY] = taskConfig.crsTransform, delete taskConfig.crsTransform);\n  return taskConfig;\n};\nmodule$contents$ee$batch_Export.table.prepareTaskConfig_ = function(taskConfig, destination) {\n  Array.isArray(taskConfig.selectors) && (taskConfig.selectors = taskConfig.selectors.join());\n  taskConfig = module$contents$ee$batch_Export.reconcileTableFormat(taskConfig);\n  return taskConfig = module$contents$ee$batch_Export.prepareDestination_(taskConfig, destination);\n};\nmodule$contents$ee$batch_Export.map.prepareTaskConfig_ = function(taskConfig, destination) {\n  taskConfig = module$contents$ee$batch_Export.prepareDestination_(taskConfig, destination);\n  return taskConfig = module$contents$ee$batch_Export.reconcileMapFormat(taskConfig);\n};\nmodule$contents$ee$batch_Export.video.prepareTaskConfig_ = function(taskConfig, destination) {\n  taskConfig = module$contents$ee$batch_Export.reconcileVideoFormat_(taskConfig);\n  taskConfig = module$contents$ee$batch_Export.prepareDestination_(taskConfig, destination);\n  null != taskConfig.crsTransform && (taskConfig[module$contents$ee$batch_Export.CRS_TRANSFORM_KEY] = taskConfig.crsTransform, delete taskConfig.crsTransform);\n  return taskConfig;\n};\nmodule$contents$ee$batch_Export.videoMap.prepareTaskConfig_ = function(taskConfig, destination) {\n  taskConfig = module$contents$ee$batch_Export.reconcileVideoFormat_(taskConfig);\n  taskConfig.version = taskConfig.version || module$contents$ee$batch_VideoMapVersion.V1;\n  taskConfig.stride = taskConfig.stride || 1;\n  taskConfig.tileDimensions = {width:taskConfig.tileWidth || 256, height:taskConfig.tileHeight || 256};\n  return taskConfig = module$contents$ee$batch_Export.prepareDestination_(taskConfig, destination);\n};\nmodule$contents$ee$batch_Export.classifier.prepareTaskConfig_ = function(taskConfig, destination) {\n  return taskConfig = module$contents$ee$batch_Export.prepareDestination_(taskConfig, destination);\n};\nvar module$contents$ee$batch_VideoFormat = {MP4:\"MP4\", GIF:\"GIF\", VP9:\"VP9\",}, module$contents$ee$batch_MapFormat = {AUTO_JPEG_PNG:\"AUTO_JPEG_PNG\", JPEG:\"JPEG\", PNG:\"PNG\",}, module$contents$ee$batch_ImageFormat = {GEO_TIFF:\"GEO_TIFF\", TF_RECORD_IMAGE:\"TF_RECORD_IMAGE\",}, module$contents$ee$batch_TableFormat = {CSV:\"CSV\", GEO_JSON:\"GEO_JSON\", KML:\"KML\", KMZ:\"KMZ\", SHP:\"SHP\", TF_RECORD_TABLE:\"TF_RECORD_TABLE\",}, module$contents$ee$batch_VideoMapVersion = {V1:\"V1\", V2:\"V2\",}, module$contents$ee$batch_FORMAT_OPTIONS_MAP = \n{GEO_TIFF:[\"cloudOptimized\", \"fileDimensions\", \"shardSize\",], TF_RECORD_IMAGE:\"patchDimensions kernelSize compressed maxFileSize defaultValue tensorDepths sequenceData collapseBands maskedThreshold\".split(\" \")}, module$contents$ee$batch_FORMAT_PREFIX_MAP = {GEO_TIFF:\"tiff\", TF_RECORD_IMAGE:\"tfrecord\"};\nmodule$contents$ee$batch_Export.reconcileVideoFormat_ = function(taskConfig) {\n  taskConfig.videoOptions = taskConfig.framesPerSecond || 5;\n  taskConfig.maxFrames = taskConfig.maxFrames || 1E3;\n  taskConfig.maxPixels = taskConfig.maxPixels || 1E8;\n  var formatString = taskConfig.fileFormat;\n  null == formatString && (formatString = module$contents$ee$batch_VideoFormat.MP4);\n  formatString = formatString.toUpperCase();\n  switch(formatString) {\n    case \"MP4\":\n      formatString = module$contents$ee$batch_VideoFormat.MP4;\n      break;\n    case \"GIF\":\n    case \"JIF\":\n      formatString = module$contents$ee$batch_VideoFormat.GIF;\n      break;\n    case \"VP9\":\n    case \"WEBM\":\n      formatString = module$contents$ee$batch_VideoFormat.VP9;\n      break;\n    default:\n      throw Error(\"Invalid file format \" + formatString + \". Supported formats are: 'MP4', 'GIF', and 'WEBM'.\");\n  }\n  taskConfig.fileFormat = formatString;\n  return taskConfig;\n};\nmodule$contents$ee$batch_Export.reconcileImageFormat = function(taskConfig) {\n  var formatString = taskConfig.fileFormat;\n  null == formatString && (formatString = module$contents$ee$batch_ImageFormat.GEO_TIFF);\n  formatString = formatString.toUpperCase();\n  switch(formatString) {\n    case \"TIFF\":\n    case \"TIF\":\n    case \"GEO_TIFF\":\n    case \"GEOTIFF\":\n      formatString = module$contents$ee$batch_ImageFormat.GEO_TIFF;\n      break;\n    case \"TF_RECORD\":\n    case \"TF_RECORD_IMAGE\":\n    case \"TFRECORD\":\n      formatString = module$contents$ee$batch_ImageFormat.TF_RECORD_IMAGE;\n      break;\n    default:\n      throw Error(\"Invalid file format \" + formatString + \". Supported formats are: 'GEOTIFF', 'TFRECORD'.\");\n  }\n  taskConfig.fileFormat = formatString;\n  if (null != taskConfig.formatOptions) {\n    var formatOptions = module$contents$ee$batch_Export.prefixImageFormatOptions_(taskConfig, formatString);\n    delete taskConfig.formatOptions;\n    Object.assign(taskConfig, formatOptions);\n  }\n  return taskConfig;\n};\nmodule$contents$ee$batch_Export.reconcileMapFormat = function(taskConfig) {\n  var formatString = taskConfig.fileFormat;\n  null == formatString && (formatString = module$contents$ee$batch_MapFormat.AUTO_JPEG_PNG);\n  formatString = formatString.toUpperCase();\n  switch(formatString) {\n    case \"AUTO\":\n    case \"AUTO_JPEG_PNG\":\n    case \"AUTO_JPG_PNG\":\n      formatString = module$contents$ee$batch_MapFormat.AUTO_JPEG_PNG;\n      break;\n    case \"JPG\":\n    case \"JPEG\":\n      formatString = module$contents$ee$batch_MapFormat.JPEG;\n      break;\n    case \"PNG\":\n      formatString = module$contents$ee$batch_MapFormat.PNG;\n      break;\n    default:\n      throw Error(\"Invalid file format \" + formatString + \". Supported formats are: 'AUTO', 'PNG', and 'JPEG'.\");\n  }\n  taskConfig.fileFormat = formatString;\n  return taskConfig;\n};\nmodule$contents$ee$batch_Export.reconcileTableFormat = function(taskConfig) {\n  var formatString = taskConfig.fileFormat;\n  null == formatString && (formatString = module$contents$ee$batch_TableFormat.CSV);\n  formatString = formatString.toUpperCase();\n  switch(formatString) {\n    case \"CSV\":\n      formatString = module$contents$ee$batch_TableFormat.CSV;\n      break;\n    case \"JSON\":\n    case \"GEOJSON\":\n    case \"GEO_JSON\":\n      formatString = module$contents$ee$batch_TableFormat.GEO_JSON;\n      break;\n    case \"KML\":\n      formatString = module$contents$ee$batch_TableFormat.KML;\n      break;\n    case \"KMZ\":\n      formatString = module$contents$ee$batch_TableFormat.KMZ;\n      break;\n    case \"SHP\":\n      formatString = module$contents$ee$batch_TableFormat.SHP;\n      break;\n    case \"TF_RECORD\":\n    case \"TF_RECORD_TABLE\":\n    case \"TFRECORD\":\n      formatString = module$contents$ee$batch_TableFormat.TF_RECORD_TABLE;\n      break;\n    default:\n      throw Error(\"Invalid file format \" + formatString + \". Supported formats are: 'CSV', 'GeoJSON', 'KML', 'KMZ', 'SHP', and 'TFRecord'.\");\n  }\n  taskConfig.fileFormat = formatString;\n  return taskConfig;\n};\nmodule$contents$ee$batch_Export.prefixImageFormatOptions_ = function(taskConfig, imageFormat) {\n  var formatOptions = taskConfig.formatOptions;\n  if (null == formatOptions) {\n    return {};\n  }\n  if (Object.keys(taskConfig).some(function(key) {\n    return module$contents$goog$object_containsKey(formatOptions, key);\n  })) {\n    throw Error(\"Parameter specified at least twice: once in config, and once in config format options.\");\n  }\n  for (var prefix = module$contents$ee$batch_FORMAT_PREFIX_MAP[imageFormat], validOptionKeys = module$contents$ee$batch_FORMAT_OPTIONS_MAP[imageFormat], prefixedOptions = {}, $jscomp$iter$34 = $jscomp.makeIterator(Object.entries(formatOptions)), $jscomp$key$ = $jscomp$iter$34.next(); !$jscomp$key$.done; $jscomp$key$ = $jscomp$iter$34.next()) {\n    var $jscomp$destructuring$var50 = $jscomp.makeIterator($jscomp$key$.value), key$jscomp$0 = $jscomp$destructuring$var50.next().value, value = $jscomp$destructuring$var50.next().value;\n    if (!module$contents$goog$array_contains(validOptionKeys, key$jscomp$0)) {\n      var validKeysMsg = validOptionKeys.join(\", \");\n      throw Error('\"' + key$jscomp$0 + '\" is not a valid option, the image format \"' + imageFormat + '\"\"may have the following options: ' + (validKeysMsg + '\".'));\n    }\n    var prefixedKey = prefix + key$jscomp$0[0].toUpperCase() + key$jscomp$0.substring(1);\n    Array.isArray(value) ? prefixedOptions[prefixedKey] = value.join() : prefixedOptions[prefixedKey] = value;\n  }\n  return prefixedOptions;\n};\nmodule$contents$ee$batch_Export.CRS_TRANSFORM_KEY = \"crs_transform\";\nmodule$contents$ee$batch_Export.EE_ELEMENT_KEYS = [\"image\", \"collection\", \"classifier\"];\nee.batch.Export = module$contents$ee$batch_Export;\nee.batch.ExportTask = module$contents$ee$batch_ExportTask;\nee.batch.ImageFormat = module$contents$ee$batch_ImageFormat;\nee.batch.MapFormat = module$contents$ee$batch_MapFormat;\nee.batch.ServerTaskConfig = {};\nee.batch.TableFormat = module$contents$ee$batch_TableFormat;\nee.batch.VideoFormat = module$contents$ee$batch_VideoFormat;\nee.Number = function(number) {\n  if (!(this instanceof ee.Number)) {\n    return ee.ComputedObject.construct(ee.Number, arguments);\n  }\n  if (number instanceof ee.Number) {\n    return number;\n  }\n  ee.Number.initialize();\n  if (\"number\" === typeof number) {\n    ee.ComputedObject.call(this, null, null), this.number_ = number;\n  } else if (number instanceof ee.ComputedObject) {\n    ee.ComputedObject.call(this, number.func, number.args, number.varName), this.number_ = null;\n  } else {\n    throw Error(\"Invalid argument specified for ee.Number(): \" + number);\n  }\n};\ngoog.inherits(ee.Number, ee.ComputedObject);\ngoog.exportSymbol(\"ee.Number\", ee.Number);\nee.Number.initialized_ = !1;\nee.Number.initialize = function() {\n  ee.Number.initialized_ || (ee.ApiFunction.importApi(ee.Number, \"Number\", \"Number\"), ee.Number.initialized_ = !0);\n};\nee.Number.reset = function() {\n  ee.ApiFunction.clearApi(ee.Number);\n  ee.Number.initialized_ = !1;\n};\nee.Number.prototype.encode = function(encoder) {\n  return \"number\" === typeof this.number_ ? this.number_ : ee.Number.superClass_.encode.call(this, encoder);\n};\nee.Number.prototype.encodeCloudValue = function(serializer) {\n  return \"number\" === typeof this.number_ ? ee.rpc_node.reference(serializer.makeReference(this.number_)) : ee.Number.superClass_.encodeCloudValue.call(this, serializer);\n};\nee.Number.prototype.name = function() {\n  return \"Number\";\n};\nee.String = function(string) {\n  if (!(this instanceof ee.String)) {\n    return ee.ComputedObject.construct(ee.String, arguments);\n  }\n  if (string instanceof ee.String) {\n    return string;\n  }\n  ee.String.initialize();\n  if (\"string\" === typeof string) {\n    ee.ComputedObject.call(this, null, null), this.string_ = string;\n  } else if (string instanceof ee.ComputedObject) {\n    this.string_ = null, string.func && \"String\" == string.func.getSignature().returns ? ee.ComputedObject.call(this, string.func, string.args, string.varName) : ee.ComputedObject.call(this, new ee.ApiFunction(\"String\"), {input:string}, null);\n  } else {\n    throw Error(\"Invalid argument specified for ee.String(): \" + string);\n  }\n};\ngoog.inherits(ee.String, ee.ComputedObject);\ngoog.exportSymbol(\"ee.String\", ee.String);\nee.String.initialized_ = !1;\nee.String.initialize = function() {\n  ee.String.initialized_ || (ee.ApiFunction.importApi(ee.String, \"String\", \"String\"), ee.String.initialized_ = !0);\n};\nee.String.reset = function() {\n  ee.ApiFunction.clearApi(ee.String);\n  ee.String.initialized_ = !1;\n};\nee.String.prototype.encode = function(encoder) {\n  return \"string\" === typeof this.string_ ? this.string_ : ee.String.superClass_.encode.call(this, encoder);\n};\nee.String.prototype.encodeCloudValue = function(serializer) {\n  return \"string\" === typeof this.string_ ? ee.rpc_node.reference(serializer.makeReference(this.string_)) : ee.String.superClass_.encodeCloudValue.call(this, serializer);\n};\nee.String.prototype.name = function() {\n  return \"String\";\n};\nee.CustomFunction = function(signature, body) {\n  if (!(this instanceof ee.CustomFunction)) {\n    return ee.ComputedObject.construct(ee.CustomFunction, arguments);\n  }\n  for (var vars = [], args = signature.args, i = 0; i < args.length; i++) {\n    var arg = args[i];\n    vars.push(ee.CustomFunction.variable(ee.Types.nameToClass(arg.type), arg.name));\n  }\n  if (void 0 === body.apply(null, vars)) {\n    throw Error(\"User-defined methods must return a value.\");\n  }\n  this.signature_ = ee.CustomFunction.resolveNamelessArgs_(signature, vars, body);\n  this.body_ = body.apply(null, vars);\n};\ngoog.inherits(ee.CustomFunction, ee.Function);\ngoog.exportSymbol(\"ee.CustomFunction\", ee.CustomFunction);\nee.CustomFunction.prototype.encode = function(encoder) {\n  return {type:\"Function\", argumentNames:module$contents$goog$array_map(this.signature_.args, function(arg) {\n    return arg.name;\n  }), body:encoder(this.body_)};\n};\nee.CustomFunction.prototype.encodeCloudValue = function(serializer) {\n  return ee.rpc_node.functionDefinition(this.signature_.args.map(function(arg) {\n    return arg.name;\n  }), serializer.makeReference(this.body_));\n};\nee.CustomFunction.prototype.encodeCloudInvocation = function(serializer, args) {\n  return ee.rpc_node.functionByReference(serializer.makeReference(this), args);\n};\nee.CustomFunction.prototype.getSignature = function() {\n  return this.signature_;\n};\nee.CustomFunction.variable = function(type, name$jscomp$0) {\n  type = type || Object;\n  if (!(type.prototype instanceof ee.ComputedObject)) {\n    if (type && type != Object) {\n      if (type == String) {\n        type = ee.String;\n      } else if (type == Number) {\n        type = ee.Number;\n      } else if (type == Array) {\n        type = goog.global.ee.List;\n      } else {\n        throw Error(\"Variables must be of an EE type, e.g. ee.Image or ee.Number.\");\n      }\n    } else {\n      type = ee.ComputedObject;\n    }\n  }\n  var klass = function(name) {\n    this.args = this.func = null;\n    this.varName = name;\n  };\n  klass.prototype = type.prototype;\n  return new klass(name$jscomp$0);\n};\nee.CustomFunction.create = function(func, returnType, arg_types) {\n  var stringifyType = function(type) {\n    return \"string\" === typeof type ? type : ee.Types.classToName(type);\n  }, args = module$contents$goog$array_map(arg_types, function(argType) {\n    return {name:null, type:stringifyType(argType)};\n  }), signature = {name:\"\", returns:stringifyType(returnType), args:args};\n  return new ee.CustomFunction(signature, func);\n};\nee.CustomFunction.resolveNamelessArgs_ = function(signature, vars, body) {\n  for (var namelessArgIndices = [], i = 0; i < vars.length; i++) {\n    null === vars[i].varName && namelessArgIndices.push(i);\n  }\n  if (0 === namelessArgIndices.length) {\n    return signature;\n  }\n  for (var baseName = \"_MAPPING_VAR_\" + function(expression) {\n    var countNodes = function(nodes) {\n      return nodes.map(countNode).reduce(function(a, b) {\n        return a + b;\n      }, 0);\n    }, countNode = function(node) {\n      return node.functionDefinitionValue ? 1 : node.arrayValue ? countNodes(node.arrayValue.values) : node.dictionaryValue ? countNodes(Object.values(node.dictionaryValue.values)) : node.functionInvocationValue ? countNodes(Object.values(node.functionInvocationValue.arguments)) : 0;\n    };\n    return countNodes(Object.values(expression.values));\n  }(ee.Serializer.encodeCloudApiExpression(body.apply(null, vars), \"<unbound>\")) + \"_\", i$70 = 0; i$70 < namelessArgIndices.length; i$70++) {\n    var index = namelessArgIndices[i$70], name = baseName + i$70;\n    vars[index].varName = name;\n    signature.args[index].name = name;\n  }\n  return signature;\n};\nee.Date = function(date, opt_tz) {\n  if (!(this instanceof ee.Date)) {\n    return ee.ComputedObject.construct(ee.Date, arguments);\n  }\n  if (date instanceof ee.Date) {\n    return date;\n  }\n  ee.Date.initialize();\n  var jsArgs = ee.arguments.extractFromFunction(ee.Date, arguments);\n  date = jsArgs.date;\n  var tz = jsArgs.tz, func = new ee.ApiFunction(\"Date\"), args = {}, varName = null;\n  if (ee.Types.isString(date)) {\n    if (args.value = date, tz) {\n      if (ee.Types.isString(tz)) {\n        args.timeZone = tz;\n      } else {\n        throw Error(\"Invalid argument specified for ee.Date(..., opt_tz): \" + tz);\n      }\n    }\n  } else if (ee.Types.isNumber(date)) {\n    args.value = date;\n  } else if (goog.isDateLike(date)) {\n    args.value = Math.floor(date.getTime());\n  } else if (date instanceof ee.ComputedObject) {\n    date.func && \"Date\" == date.func.getSignature().returns ? (func = date.func, args = date.args, varName = date.varName) : args.value = date;\n  } else {\n    throw Error(\"Invalid argument specified for ee.Date(): \" + date);\n  }\n  ee.ComputedObject.call(this, func, args, varName);\n};\ngoog.inherits(ee.Date, ee.ComputedObject);\ngoog.exportSymbol(\"ee.Date\", ee.Date);\nee.Date.initialized_ = !1;\nee.Date.initialize = function() {\n  ee.Date.initialized_ || (ee.ApiFunction.importApi(ee.Date, \"Date\", \"Date\"), ee.Date.initialized_ = !0);\n};\nee.Date.reset = function() {\n  ee.ApiFunction.clearApi(ee.Date);\n  ee.Date.initialized_ = !1;\n};\nee.Date.prototype.name = function() {\n  return \"Date\";\n};\nee.Deserializer = function() {\n};\ngoog.exportSymbol(\"ee.Deserializer\", ee.Deserializer);\nee.Deserializer.fromJSON = function(json) {\n  return ee.Deserializer.decode(JSON.parse(json));\n};\ngoog.exportSymbol(\"ee.Deserializer.fromJSON\", ee.Deserializer.fromJSON);\nee.Deserializer.decode = function(json) {\n  if (\"result\" in json && \"values\" in json) {\n    return ee.Deserializer.decodeCloudApi(json);\n  }\n  var namedValues = {};\n  if (goog.isObject(json) && \"CompoundValue\" === json.type) {\n    for (var scopes = json.scope, i = 0; i < scopes.length; i++) {\n      var key = scopes[i][0], value = scopes[i][1];\n      if (key in namedValues) {\n        throw Error('Duplicate scope key \"' + key + '\" in scope #' + i + \".\");\n      }\n      namedValues[key] = ee.Deserializer.decodeValue_(value, namedValues);\n    }\n    json = json.value;\n  }\n  return ee.Deserializer.decodeValue_(json, namedValues);\n};\ngoog.exportSymbol(\"ee.Deserializer.decode\", ee.Deserializer.decode);\nee.Deserializer.decodeValue_ = function(json, namedValues) {\n  if (null === json || \"number\" === typeof json || \"boolean\" === typeof json || \"string\" === typeof json) {\n    return json;\n  }\n  if (Array.isArray(json)) {\n    return module$contents$goog$array_map(json, function(element) {\n      return ee.Deserializer.decodeValue_(element, namedValues);\n    });\n  }\n  if (!goog.isObject(json) || \"function\" === typeof json) {\n    throw Error(\"Cannot decode object: \" + json);\n  }\n  var typeName = json.type;\n  switch(typeName) {\n    case \"ValueRef\":\n      if (json.value in namedValues) {\n        return namedValues[json.value];\n      }\n      throw Error(\"Unknown ValueRef: \" + json);\n    case \"ArgumentRef\":\n      var varName = json.value;\n      if (\"string\" !== typeof varName) {\n        throw Error(\"Invalid variable name: \" + varName);\n      }\n      return ee.CustomFunction.variable(Object, varName);\n    case \"Date\":\n      var microseconds = json.value;\n      if (\"number\" !== typeof microseconds) {\n        throw Error(\"Invalid date value: \" + microseconds);\n      }\n      return new ee.Date(microseconds / 1E3);\n    case \"Bytes\":\n      return ee.Deserializer.roundTrip_(new module$exports$eeapiclient$ee_api_client.ValueNode({bytesValue:json}), json);\n    case \"Invocation\":\n      var func = \"functionName\" in json ? ee.ApiFunction.lookup(json.functionName) : ee.Deserializer.decodeValue_(json[\"function\"], namedValues);\n      var args = module$contents$goog$object_map(json.arguments, function(element) {\n        return ee.Deserializer.decodeValue_(element, namedValues);\n      });\n      return ee.Deserializer.invocation_(func, args);\n    case \"Dictionary\":\n      return module$contents$goog$object_map(json.value, function(element) {\n        return ee.Deserializer.decodeValue_(element, namedValues);\n      });\n    case \"Function\":\n      var body = ee.Deserializer.decodeValue_(json.body, namedValues), signature = {name:\"\", args:module$contents$goog$array_map(json.argumentNames, function(argName) {\n        return {name:argName, type:\"Object\", optional:!1};\n      }), returns:\"Object\"};\n      return new ee.CustomFunction(signature, function() {\n        return body;\n      });\n    case \"Point\":\n    case \"MultiPoint\":\n    case \"LineString\":\n    case \"MultiLineString\":\n    case \"Polygon\":\n    case \"MultiPolygon\":\n    case \"LinearRing\":\n    case \"GeometryCollection\":\n      return new ee.Geometry(json);\n    case \"CompoundValue\":\n      throw Error(\"Nested CompoundValues are disallowed.\");\n    default:\n      throw Error(\"Unknown encoded object type: \" + typeName);\n  }\n};\nee.Deserializer.roundTrip_ = function(node, value) {\n  var Reencoder = function() {\n  };\n  $jscomp.inherits(Reencoder, ee.Encodable);\n  Reencoder.prototype.encode = function(encoder) {\n    return value;\n  };\n  Reencoder.prototype.encodeCloudValue = function(encoder) {\n    return node;\n  };\n  return new Reencoder();\n};\nee.Deserializer.invocation_ = function(func, args$jscomp$0) {\n  if (func instanceof ee.Function) {\n    return func.apply(args$jscomp$0);\n  }\n  if (func instanceof ee.ComputedObject) {\n    var ComputedFunction = function() {\n      return ee.Function.apply(this, arguments) || this;\n    };\n    $jscomp.inherits(ComputedFunction, ee.Function);\n    ComputedFunction.prototype.encode = function(encoder) {\n      return func.encode(encoder);\n    };\n    ComputedFunction.prototype.encodeCloudInvocation = function(serializer, args) {\n      return ee.rpc_node.functionByReference(serializer.makeReference(func), args);\n    };\n    return new ee.ComputedObject(new ComputedFunction(), args$jscomp$0);\n  }\n  throw Error(\"Invalid function value\");\n};\nee.Deserializer.fromCloudApiJSON = function(json) {\n  return ee.Deserializer.decodeCloudApi(JSON.parse(json));\n};\ngoog.exportSymbol(\"ee.Deserializer.fromCloudApiJSON\", ee.Deserializer.fromCloudApiJSON);\nee.Deserializer.decodeCloudApi = function(json) {\n  var expression = module$contents$eeapiclient$domain_object_deserialize(module$exports$eeapiclient$ee_api_client.Expression, json), decoded = {}, lookup = function(reference, kind) {\n    if (!(reference in decoded)) {\n      if (!(reference in expression.values)) {\n        throw Error(\"Cannot find \" + kind + \" \" + reference);\n      }\n      decoded[reference] = decode(expression.values[reference]);\n    }\n    return decoded[reference];\n  }, decode = function(node) {\n    return null !== node.constantValue ? node.constantValue : null !== node.arrayValue ? node.arrayValue.values.map(decode) : null !== node.dictionaryValue ? module$contents$goog$object_map(node.dictionaryValue.values, decode) : null !== node.argumentReference ? ee.CustomFunction.variable(Object, node.argumentReference) : null !== node.functionDefinitionValue ? decodeFunctionDefinition(node.functionDefinitionValue) : null !== node.functionInvocationValue ? decodeFunctionInvocation(node.functionInvocationValue) : \n    null !== node.bytesValue ? ee.Deserializer.roundTrip_(new module$exports$eeapiclient$ee_api_client.ValueNode({bytesValue:node.bytesValue}), node.bytesValue) : null !== node.integerValue ? ee.Deserializer.roundTrip_(new module$exports$eeapiclient$ee_api_client.ValueNode({integerValue:node.integerValue}), node.integerValue) : null !== node.valueReference ? lookup(node.valueReference, \"reference\") : null;\n  }, decodeFunctionDefinition = function(defined) {\n    var body = lookup(defined.body, \"function body\"), signature = {args:defined.argumentNames.map(function(name) {\n      return {name:name, type:\"Object\", optional:!1};\n    }), name:\"\", returns:\"Object\"};\n    return new ee.CustomFunction(signature, function() {\n      return body;\n    });\n  }, decodeFunctionInvocation = function(invoked) {\n    var func = invoked.functionReference ? lookup(invoked.functionReference, \"function\") : ee.ApiFunction.lookup(invoked.functionName), args = module$contents$goog$object_map(invoked.arguments, decode);\n    return ee.Deserializer.invocation_(func, args);\n  };\n  return lookup(expression.result, \"result value\");\n};\ngoog.exportSymbol(\"ee.Deserializer.decodeCloudApi\", ee.Deserializer.decodeCloudApi);\nee.Dictionary = function(opt_dict) {\n  if (!(this instanceof ee.Dictionary)) {\n    return ee.ComputedObject.construct(ee.Dictionary, arguments);\n  }\n  if (opt_dict instanceof ee.Dictionary) {\n    return opt_dict;\n  }\n  ee.Dictionary.initialize();\n  ee.Types.isRegularObject(opt_dict) ? (ee.ComputedObject.call(this, null, null), this.dict_ = opt_dict) : (opt_dict instanceof ee.ComputedObject && opt_dict.func && \"Dictionary\" == opt_dict.func.getSignature().returns ? ee.ComputedObject.call(this, opt_dict.func, opt_dict.args, opt_dict.varName) : ee.ComputedObject.call(this, new ee.ApiFunction(\"Dictionary\"), {input:opt_dict}, null), this.dict_ = null);\n};\ngoog.inherits(ee.Dictionary, ee.ComputedObject);\ngoog.exportSymbol(\"ee.Dictionary\", ee.Dictionary);\nee.Dictionary.initialized_ = !1;\nee.Dictionary.initialize = function() {\n  ee.Dictionary.initialized_ || (ee.ApiFunction.importApi(ee.Dictionary, \"Dictionary\", \"Dictionary\"), ee.Dictionary.initialized_ = !0);\n};\nee.Dictionary.reset = function() {\n  ee.ApiFunction.clearApi(ee.Dictionary);\n  ee.Dictionary.initialized_ = !1;\n};\nee.Dictionary.prototype.encode = function(encoder) {\n  return null !== this.dict_ ? encoder(this.dict_) : ee.Dictionary.superClass_.encode.call(this, encoder);\n};\nee.Dictionary.prototype.encodeCloudValue = function(serializer) {\n  return null !== this.dict_ ? ee.rpc_node.reference(serializer.makeReference(this.dict_)) : ee.Dictionary.superClass_.encodeCloudValue.call(this, serializer);\n};\nee.Dictionary.prototype.name = function() {\n  return \"Dictionary\";\n};\nee.Terrain = {};\ngoog.exportSymbol(\"ee.Terrain\", ee.Terrain);\nee.Terrain.initialized_ = !1;\nee.Terrain.initialize = function() {\n  ee.Terrain.initialized_ || (ee.ApiFunction.importApi(ee.Terrain, \"Terrain\", \"Terrain\"), ee.Terrain.initialized_ = !0);\n};\nee.Terrain.reset = function() {\n  ee.ApiFunction.clearApi(ee.Terrain);\n  ee.Terrain.initialized_ = !1;\n};\nee.initialize = function(opt_baseurl, opt_tileurl, opt_successCallback, opt_errorCallback, opt_xsrfToken, opt_project) {\n  if (ee.ready_ != ee.InitState.READY || opt_baseurl || opt_tileurl) {\n    var isAsynchronous = null != opt_successCallback;\n    if (opt_errorCallback) {\n      if (isAsynchronous) {\n        ee.errorCallbacks_.push(opt_errorCallback);\n      } else {\n        throw Error(\"Can't pass an error callback without a success callback.\");\n      }\n    }\n    if (ee.ready_ == ee.InitState.LOADING && isAsynchronous) {\n      ee.successCallbacks_.push(opt_successCallback);\n    } else {\n      if (ee.ready_ = ee.InitState.LOADING, ee.data.initialize(opt_baseurl, opt_tileurl, opt_xsrfToken, opt_project), isAsynchronous) {\n        ee.successCallbacks_.push(opt_successCallback), ee.ApiFunction.initialize(ee.initializationSuccess_, ee.initializationFailure_);\n      } else {\n        try {\n          ee.ApiFunction.initialize(), ee.initializationSuccess_();\n        } catch (e) {\n          throw ee.initializationFailure_(e), e;\n        }\n      }\n    }\n  } else {\n    opt_successCallback && opt_successCallback();\n  }\n};\ngoog.exportSymbol(\"ee.initialize\", ee.initialize);\nee.reset = function() {\n  ee.ready_ = ee.InitState.NOT_READY;\n  ee.data.reset();\n  ee.ApiFunction.reset();\n  ee.Date.reset();\n  ee.Dictionary.reset();\n  ee.Element.reset();\n  ee.Image.reset();\n  ee.Feature.reset();\n  ee.Collection.reset();\n  ee.ImageCollection.reset();\n  ee.FeatureCollection.reset();\n  ee.Filter.reset();\n  ee.Geometry.reset();\n  ee.List.reset();\n  ee.Number.reset();\n  ee.String.reset();\n  ee.Terrain.reset();\n  ee.resetGeneratedClasses_();\n  module$contents$goog$object_clear(ee.Algorithms);\n};\ngoog.exportSymbol(\"ee.reset\", ee.reset);\nee.InitState = {NOT_READY:\"not_ready\", LOADING:\"loading\", READY:\"ready\"};\ngoog.exportSymbol(\"ee.InitState\", ee.InitState);\ngoog.exportSymbol(\"ee.InitState.NOT_READY\", ee.InitState.NOT_READY);\ngoog.exportSymbol(\"ee.InitState.LOADING\", ee.InitState.LOADING);\ngoog.exportSymbol(\"ee.InitState.READY\", ee.InitState.READY);\nee.ready_ = ee.InitState.NOT_READY;\nee.successCallbacks_ = [];\nee.errorCallbacks_ = [];\nee.TILE_SIZE = 256;\ngoog.exportSymbol(\"ee.TILE_SIZE\", ee.TILE_SIZE);\nee.generatedClasses_ = [];\nee.Algorithms = {};\ngoog.exportSymbol(\"ee.Algorithms\", ee.Algorithms);\nee.ready = function() {\n  return ee.ready_;\n};\nee.call = function(func, var_args) {\n  \"string\" === typeof func && (func = new ee.ApiFunction(func));\n  var args = Array.prototype.slice.call(arguments, 1);\n  return ee.Function.prototype.call.apply(func, args);\n};\ngoog.exportSymbol(\"ee.call\", ee.call);\nee.apply = function(func, namedArgs) {\n  \"string\" === typeof func && (func = new ee.ApiFunction(func));\n  return func.apply(namedArgs);\n};\ngoog.exportSymbol(\"ee.apply\", ee.apply);\nee.initializationSuccess_ = function() {\n  if (ee.ready_ == ee.InitState.LOADING) {\n    try {\n      ee.Date.initialize(), ee.Dictionary.initialize(), ee.Element.initialize(), ee.Image.initialize(), ee.Feature.initialize(), ee.Collection.initialize(), ee.ImageCollection.initialize(), ee.FeatureCollection.initialize(), ee.Filter.initialize(), ee.Geometry.initialize(), ee.List.initialize(), ee.Number.initialize(), ee.String.initialize(), ee.Terrain.initialize(), ee.initializeGeneratedClasses_(), ee.initializeUnboundMethods_();\n    } catch (e) {\n      ee.initializationFailure_(e);\n      return;\n    }\n    ee.ready_ = ee.InitState.READY;\n    for (ee.errorCallbacks_ = []; 0 < ee.successCallbacks_.length;) {\n      ee.successCallbacks_.shift()();\n    }\n  }\n};\nee.initializationFailure_ = function(e) {\n  if (ee.ready_ == ee.InitState.LOADING) {\n    for (ee.ready_ = ee.InitState.NOT_READY, ee.successCallbacks_ = []; 0 < ee.errorCallbacks_.length;) {\n      ee.errorCallbacks_.shift()(e);\n    }\n  }\n};\nee.promote_ = function(arg, klass) {\n  if (null === arg) {\n    return null;\n  }\n  if (void 0 !== arg) {\n    var exportedEE = goog.global.ee;\n    switch(klass) {\n      case \"Image\":\n        return new ee.Image(arg);\n      case \"Feature\":\n        return arg instanceof ee.Collection ? ee.ApiFunction._call(\"Feature\", ee.ApiFunction._call(\"Collection.geometry\", arg)) : new ee.Feature(arg);\n      case \"Element\":\n        if (arg instanceof ee.Element) {\n          return arg;\n        }\n        if (arg instanceof ee.Geometry) {\n          return new ee.Feature(arg);\n        }\n        if (arg instanceof ee.ComputedObject) {\n          return new ee.Element(arg.func, arg.args, arg.varName);\n        }\n        throw Error(\"Cannot convert \" + arg + \" to Element.\");\n      case \"Geometry\":\n        return arg instanceof ee.FeatureCollection ? ee.ApiFunction._call(\"Collection.geometry\", arg) : new ee.Geometry(arg);\n      case \"FeatureCollection\":\n      case \"Collection\":\n        return arg instanceof ee.Collection ? arg : new ee.FeatureCollection(arg);\n      case \"ImageCollection\":\n        return new ee.ImageCollection(arg);\n      case \"Filter\":\n        return new ee.Filter(arg);\n      case \"Algorithm\":\n        if (\"string\" === typeof arg) {\n          return new ee.ApiFunction(arg);\n        }\n        if (\"function\" === typeof arg) {\n          return ee.CustomFunction.create(arg, \"Object\", module$contents$goog$array_repeat(\"Object\", arg.length));\n        }\n        if (arg instanceof ee.Encodable) {\n          return arg;\n        }\n        throw Error(\"Argument is not a function: \" + arg);\n      case \"String\":\n        return ee.Types.isString(arg) || arg instanceof ee.String || arg instanceof ee.ComputedObject ? new ee.String(arg) : arg;\n      case \"Dictionary\":\n        return ee.Types.isRegularObject(arg) ? arg : new ee.Dictionary(arg);\n      case \"List\":\n        return new ee.List(arg);\n      case \"Number\":\n      case \"Float\":\n      case \"Long\":\n      case \"Integer\":\n      case \"Short\":\n      case \"Byte\":\n        return new ee.Number(arg);\n      default:\n        if (klass in exportedEE) {\n          var ctor = ee.ApiFunction.lookupInternal(klass);\n          if (arg instanceof exportedEE[klass]) {\n            return arg;\n          }\n          if (ctor) {\n            return new exportedEE[klass](arg);\n          }\n          if (\"string\" === typeof arg) {\n            if (arg in exportedEE[klass]) {\n              return exportedEE[klass][arg].call();\n            }\n            throw Error(\"Unknown algorithm: \" + klass + \".\" + arg);\n          }\n          return new exportedEE[klass](arg);\n        }\n        return arg;\n    }\n  }\n};\nee.initializeUnboundMethods_ = function() {\n  var unbound = ee.ApiFunction.unboundFunctions();\n  module$contents$goog$object_getKeys(unbound).sort().forEach(function(name) {\n    var func = unbound[name], signature = func.getSignature();\n    if (!signature.hidden) {\n      var nameParts = name.split(\".\"), target = ee.Algorithms;\n      for (target.signature = {}; 1 < nameParts.length;) {\n        var first = nameParts[0];\n        first in target || (target[first] = {signature:{}});\n        target = target[first];\n        nameParts = module$contents$goog$array_slice(nameParts, 1);\n      }\n      var bound = function(var_args) {\n        return func.callOrApply(void 0, Array.prototype.slice.call(arguments, 0));\n      };\n      bound.signature = signature;\n      bound.toString = goog.bind(func.toString, func);\n      target[nameParts[0]] = bound;\n    }\n  });\n};\nee.initializeGeneratedClasses_ = function() {\n  var signatures = ee.ApiFunction.allSignatures(), names = {}, returnTypes = {}, sig;\n  for (sig in signatures) {\n    var type = void 0;\n    type = -1 != sig.indexOf(\".\") ? sig.slice(0, sig.indexOf(\".\")) : sig;\n    names[type] = !0;\n    var rtype = signatures[sig].returns.replace(/<.*>/, \"\");\n    returnTypes[rtype] = !0;\n  }\n  var exportedEE = goog.global.ee, name;\n  for (name in names) {\n    name in returnTypes && !(name in exportedEE) && (exportedEE[name] = ee.makeClass_(name), ee.generatedClasses_.push(name), signatures[name] ? (exportedEE[name].signature = signatures[name], exportedEE[name].signature.isConstructor = !0, ee.ApiFunction.boundSignatures_[name] = !0) : exportedEE[name].signature = {});\n  }\n  ee.Types.registerClasses(exportedEE);\n};\nee.resetGeneratedClasses_ = function() {\n  for (var exportedEE = goog.global.ee, i = 0; i < ee.generatedClasses_.length; i++) {\n    var name = ee.generatedClasses_[i];\n    ee.ApiFunction.clearApi(exportedEE[name]);\n    delete exportedEE[name];\n  }\n  ee.generatedClasses_ = [];\n  ee.Types.registerClasses(exportedEE);\n};\nee.makeClass_ = function(name) {\n  var target = function(var_args) {\n    var klass = goog.global.ee[name], args = Array.prototype.slice.call(arguments), onlyOneArg = 1 == args.length;\n    if (onlyOneArg && args[0] instanceof klass) {\n      return args[0];\n    }\n    if (!(this instanceof klass)) {\n      return ee.ComputedObject.construct(klass, args);\n    }\n    var ctor = ee.ApiFunction.lookupInternal(name), firstArgIsPrimitive = !(args[0] instanceof ee.ComputedObject), shouldUseConstructor = !1;\n    ctor && (onlyOneArg ? firstArgIsPrimitive ? shouldUseConstructor = !0 : args[0].func && args[0].func.getSignature().returns == ctor.getSignature().returns || (shouldUseConstructor = !0) : shouldUseConstructor = !0);\n    if (shouldUseConstructor) {\n      var namedArgs = ee.Types.useKeywordArgs(args, ctor.getSignature()) ? args[0] : ctor.nameArgs(args);\n      ee.ComputedObject.call(this, ctor, ctor.promoteArgs(namedArgs));\n    } else {\n      if (!onlyOneArg) {\n        throw Error(\"Too many arguments for ee.\" + name + \"(): \" + args);\n      }\n      if (firstArgIsPrimitive) {\n        throw Error(\"Invalid argument for ee.\" + name + \"(): \" + args + \". Must be a ComputedObject.\");\n      }\n      var theOneArg = args[0];\n      ee.ComputedObject.call(this, theOneArg.func, theOneArg.args, theOneArg.varName);\n    }\n  };\n  goog.inherits(target, ee.ComputedObject);\n  target.prototype.name = function() {\n    return name;\n  };\n  ee.ApiFunction.importApi(target, name, name);\n  return target;\n};\nee.Function.registerPromoter(ee.promote_);\nee.FloatTileOverlay = function(url, mapId, token) {\n  ee.AbstractOverlay.call(this, url, mapId, token);\n  this.tileSize = new google.maps.Size(ee.FloatTileOverlay.TILE_EDGE_LENGTH, ee.FloatTileOverlay.TILE_EDGE_LENGTH);\n  this.floatTiles_ = new goog.structs.Map();\n  this.floatTileDivs_ = new goog.structs.Map();\n};\n$jscomp.inherits(ee.FloatTileOverlay, ee.AbstractOverlay);\nee.FloatTileOverlay.prototype.getTile = function(coord, zoom, ownerDocument) {\n  var tileId = this.getTileId(coord, zoom), src = [this.url, tileId].join(\"/\") + \"?token=\" + this.token, uniqueTileId = [tileId, this.tileCounter, this.token].join(\"/\");\n  this.tilesLoading.push(uniqueTileId);\n  this.tileCounter += 1;\n  var div = goog.dom.createDom(goog.dom.TagName.DIV), floatTile = this.loadFloatTile_(src, coord, uniqueTileId, div);\n  this.dispatchTileEvent_();\n  return div;\n};\nee.FloatTileOverlay.prototype.loadFloatTile_ = function(tileUrl, coord, tileId, div) {\n  var tileRequest = goog.net.XmlHttp();\n  tileRequest.open(\"GET\", tileUrl, !0);\n  tileRequest.responseType = \"arraybuffer\";\n  tileRequest.onreadystatechange = goog.bind(function() {\n    if (tileRequest.readyState === XMLHttpRequest.DONE && 200 === tileRequest.status) {\n      var tileResponse = tileRequest.response;\n      if (tileResponse) {\n        var floatBuffer = new Float32Array(tileResponse);\n        this.handleFloatTileLoaded_(floatBuffer, coord, tileId, div);\n      } else {\n        throw this.tilesFailed.add(tileId), Error(\"Unable to request floating point array buffers.\");\n      }\n    }\n  }, this);\n  tileRequest.send();\n};\nee.FloatTileOverlay.prototype.handleFloatTileLoaded_ = function(floatTile, coord, tileId, div) {\n  this.floatTiles_.set(coord, floatTile);\n  this.floatTileDivs_.set(coord, div);\n  module$contents$goog$array_remove(this.tilesLoading, tileId);\n  this.dispatchTileEvent_();\n};\nee.FloatTileOverlay.prototype.getAllFloatTiles = function() {\n  return this.floatTiles_;\n};\nee.FloatTileOverlay.prototype.getAllFloatTileDivs = function() {\n  return this.floatTileDivs_;\n};\nee.FloatTileOverlay.prototype.getLoadedFloatTilesCount = function() {\n  return this.floatTiles_.getCount();\n};\nee.FloatTileOverlay.prototype.dispatchTileEvent_ = function() {\n  this.dispatchEvent(new ee.TileEvent(this.tilesLoading.length));\n};\nee.FloatTileOverlay.prototype.disposeInternal = function() {\n  this.floatTileDivs_ = this.floatTiles_ = null;\n  ee.AbstractOverlay.prototype.disposeInternal.call(this);\n};\ngoog.exportSymbol(\"ee.FloatTileOverlay\", ee.FloatTileOverlay);\nee.FloatTileOverlay.TILE_EDGE_LENGTH = 256;\nee.layers = {};\nvar module$contents$ee$layers$AbstractOverlayStats_AbstractOverlayStats = function(uniqueId) {\n  this.statsByZoom_ = new Map();\n  this.uniqueId_ = uniqueId;\n};\nmodule$contents$ee$layers$AbstractOverlayStats_AbstractOverlayStats.prototype.addTileStats = function(start, end, zoom) {\n  this.getStatsForZoom_(zoom).tileLatencies.push(end - start);\n};\nmodule$contents$ee$layers$AbstractOverlayStats_AbstractOverlayStats.prototype.incrementThrottleCounter = function(zoom) {\n  this.getStatsForZoom_(zoom).throttleCount++;\n};\nmodule$contents$ee$layers$AbstractOverlayStats_AbstractOverlayStats.prototype.incrementErrorCounter = function(zoom) {\n  this.getStatsForZoom_(zoom).errorCount++;\n};\nmodule$contents$ee$layers$AbstractOverlayStats_AbstractOverlayStats.prototype.clear = function() {\n  this.statsByZoom_.clear();\n};\nmodule$contents$ee$layers$AbstractOverlayStats_AbstractOverlayStats.prototype.hasData = function() {\n  return 0 < this.statsByZoom_.size;\n};\nmodule$contents$ee$layers$AbstractOverlayStats_AbstractOverlayStats.prototype.getSummaryList = function() {\n  var $jscomp$this = this, summaryList = [];\n  this.statsByZoom_.forEach(function(stats, zoom) {\n    return summaryList.push({layerId:$jscomp$this.uniqueId_, zoomLevel:zoom, tileLatencies:stats.tileLatencies, throttleCount:stats.throttleCount, errorCount:stats.errorCount,});\n  });\n  return summaryList;\n};\nmodule$contents$ee$layers$AbstractOverlayStats_AbstractOverlayStats.prototype.getStatsForZoom_ = function(zoom) {\n  this.statsByZoom_.has(zoom) || this.statsByZoom_.set(zoom, {throttleCount:0, errorCount:0, tileLatencies:[],});\n  return this.statsByZoom_.get(zoom);\n};\nmodule$contents$ee$layers$AbstractOverlayStats_AbstractOverlayStats.LayerStatsForZoomLevel = function() {\n};\nmodule$contents$ee$layers$AbstractOverlayStats_AbstractOverlayStats.Summary = function() {\n};\nee.layers.AbstractOverlayStats = module$contents$ee$layers$AbstractOverlayStats_AbstractOverlayStats;\ngoog.events.EventHandler = function(opt_scope) {\n  goog.Disposable.call(this);\n  this.handler_ = opt_scope;\n  this.keys_ = {};\n};\ngoog.inherits(goog.events.EventHandler, goog.Disposable);\ngoog.events.EventHandler.typeArray_ = [];\ngoog.events.EventHandler.prototype.listen = function(src, type, opt_fn, opt_options) {\n  return this.listen_(src, type, opt_fn, opt_options);\n};\ngoog.events.EventHandler.prototype.listenWithScope = function(src, type, fn, options, scope) {\n  return this.listen_(src, type, fn, options, scope);\n};\ngoog.events.EventHandler.prototype.listen_ = function(src, type, opt_fn, opt_options, opt_scope) {\n  Array.isArray(type) || (type && (goog.events.EventHandler.typeArray_[0] = type.toString()), type = goog.events.EventHandler.typeArray_);\n  for (var i = 0; i < type.length; i++) {\n    var listenerObj = goog.events.listen(src, type[i], opt_fn || this.handleEvent, opt_options || !1, opt_scope || this.handler_ || this);\n    if (!listenerObj) {\n      break;\n    }\n    this.keys_[listenerObj.key] = listenerObj;\n  }\n  return this;\n};\ngoog.events.EventHandler.prototype.listenOnce = function(src, type, opt_fn, opt_options) {\n  return this.listenOnce_(src, type, opt_fn, opt_options);\n};\ngoog.events.EventHandler.prototype.listenOnceWithScope = function(src, type, fn, capture, scope) {\n  return this.listenOnce_(src, type, fn, capture, scope);\n};\ngoog.events.EventHandler.prototype.listenOnce_ = function(src, type, opt_fn, opt_options, opt_scope) {\n  if (Array.isArray(type)) {\n    for (var i = 0; i < type.length; i++) {\n      this.listenOnce_(src, type[i], opt_fn, opt_options, opt_scope);\n    }\n  } else {\n    var listenerObj = goog.events.listenOnce(src, type, opt_fn || this.handleEvent, opt_options, opt_scope || this.handler_ || this);\n    if (!listenerObj) {\n      return this;\n    }\n    this.keys_[listenerObj.key] = listenerObj;\n  }\n  return this;\n};\ngoog.events.EventHandler.prototype.listenWithWrapper = function(src, wrapper, listener, opt_capt) {\n  return this.listenWithWrapper_(src, wrapper, listener, opt_capt);\n};\ngoog.events.EventHandler.prototype.listenWithWrapperAndScope = function(src, wrapper, listener, capture, scope) {\n  return this.listenWithWrapper_(src, wrapper, listener, capture, scope);\n};\ngoog.events.EventHandler.prototype.listenWithWrapper_ = function(src, wrapper, listener, opt_capt, opt_scope) {\n  wrapper.listen(src, listener, opt_capt, opt_scope || this.handler_ || this, this);\n  return this;\n};\ngoog.events.EventHandler.prototype.getListenerCount = function() {\n  var count = 0, key;\n  for (key in this.keys_) {\n    Object.prototype.hasOwnProperty.call(this.keys_, key) && count++;\n  }\n  return count;\n};\ngoog.events.EventHandler.prototype.unlisten = function(src, type, opt_fn, opt_options, opt_scope) {\n  if (Array.isArray(type)) {\n    for (var i = 0; i < type.length; i++) {\n      this.unlisten(src, type[i], opt_fn, opt_options, opt_scope);\n    }\n  } else {\n    var listener = goog.events.getListener(src, type, opt_fn || this.handleEvent, goog.isObject(opt_options) ? !!opt_options.capture : !!opt_options, opt_scope || this.handler_ || this);\n    listener && (goog.events.unlistenByKey(listener), delete this.keys_[listener.key]);\n  }\n  return this;\n};\ngoog.events.EventHandler.prototype.unlistenWithWrapper = function(src, wrapper, listener, opt_capt, opt_scope) {\n  wrapper.unlisten(src, listener, opt_capt, opt_scope || this.handler_ || this, this);\n  return this;\n};\ngoog.events.EventHandler.prototype.removeAll = function() {\n  module$contents$goog$object_forEach(this.keys_, function(listenerObj, key) {\n    this.keys_.hasOwnProperty(key) && goog.events.unlistenByKey(listenerObj);\n  }, this);\n  this.keys_ = {};\n};\ngoog.events.EventHandler.prototype.disposeInternal = function() {\n  goog.events.EventHandler.superClass_.disposeInternal.call(this);\n  this.removeAll();\n};\ngoog.events.EventHandler.prototype.handleEvent = function(e) {\n  throw Error(\"EventHandler.handleEvent not implemented\");\n};\ngoog.fs.DOMErrorLike = function() {\n};\ngoog.fs.Error = function(error, action) {\n  if (void 0 !== error.name) {\n    this.name = error.name, this.code = goog.fs.Error.getCodeFromName_(error.name);\n  } else {\n    var code = goog.asserts.assertNumber(error.code);\n    this.code = code;\n    this.name = goog.fs.Error.getNameFromCode_(code);\n  }\n  module$contents$goog$debug$Error_DebugError.call(this, goog.string.subs(\"%s %s\", this.name, action));\n};\ngoog.inherits(goog.fs.Error, module$contents$goog$debug$Error_DebugError);\ngoog.fs.Error.ErrorName = {ABORT:\"AbortError\", ENCODING:\"EncodingError\", INVALID_MODIFICATION:\"InvalidModificationError\", INVALID_STATE:\"InvalidStateError\", NOT_FOUND:\"NotFoundError\", NOT_READABLE:\"NotReadableError\", NO_MODIFICATION_ALLOWED:\"NoModificationAllowedError\", PATH_EXISTS:\"PathExistsError\", QUOTA_EXCEEDED:\"QuotaExceededError\", SECURITY:\"SecurityError\", SYNTAX:\"SyntaxError\", TYPE_MISMATCH:\"TypeMismatchError\"};\ngoog.fs.Error.ErrorCode = {NOT_FOUND:1, SECURITY:2, ABORT:3, NOT_READABLE:4, ENCODING:5, NO_MODIFICATION_ALLOWED:6, INVALID_STATE:7, SYNTAX:8, INVALID_MODIFICATION:9, QUOTA_EXCEEDED:10, TYPE_MISMATCH:11, PATH_EXISTS:12};\ngoog.fs.Error.getNameFromCode_ = function(code) {\n  var name = module$contents$goog$object_findKey(goog.fs.Error.NameToCodeMap_, function(c) {\n    return code == c;\n  });\n  if (void 0 === name) {\n    throw Error(\"Invalid code: \" + code);\n  }\n  return name;\n};\ngoog.fs.Error.getCodeFromName_ = function(name) {\n  return goog.fs.Error.NameToCodeMap_[name];\n};\nvar $jscomp$compprop11 = {};\ngoog.fs.Error.NameToCodeMap_ = ($jscomp$compprop11[goog.fs.Error.ErrorName.ABORT] = goog.fs.Error.ErrorCode.ABORT, $jscomp$compprop11[goog.fs.Error.ErrorName.ENCODING] = goog.fs.Error.ErrorCode.ENCODING, $jscomp$compprop11[goog.fs.Error.ErrorName.INVALID_MODIFICATION] = goog.fs.Error.ErrorCode.INVALID_MODIFICATION, $jscomp$compprop11[goog.fs.Error.ErrorName.INVALID_STATE] = goog.fs.Error.ErrorCode.INVALID_STATE, $jscomp$compprop11[goog.fs.Error.ErrorName.NOT_FOUND] = goog.fs.Error.ErrorCode.NOT_FOUND, \n$jscomp$compprop11[goog.fs.Error.ErrorName.NOT_READABLE] = goog.fs.Error.ErrorCode.NOT_READABLE, $jscomp$compprop11[goog.fs.Error.ErrorName.NO_MODIFICATION_ALLOWED] = goog.fs.Error.ErrorCode.NO_MODIFICATION_ALLOWED, $jscomp$compprop11[goog.fs.Error.ErrorName.PATH_EXISTS] = goog.fs.Error.ErrorCode.PATH_EXISTS, $jscomp$compprop11[goog.fs.Error.ErrorName.QUOTA_EXCEEDED] = goog.fs.Error.ErrorCode.QUOTA_EXCEEDED, $jscomp$compprop11[goog.fs.Error.ErrorName.SECURITY] = goog.fs.Error.ErrorCode.SECURITY, \n$jscomp$compprop11[goog.fs.Error.ErrorName.SYNTAX] = goog.fs.Error.ErrorCode.SYNTAX, $jscomp$compprop11[goog.fs.Error.ErrorName.TYPE_MISMATCH] = goog.fs.Error.ErrorCode.TYPE_MISMATCH, $jscomp$compprop11);\ngoog.fs.ProgressEvent = function(event, target) {\n  goog.events.Event.call(this, event.type, target);\n  this.event_ = event;\n};\ngoog.inherits(goog.fs.ProgressEvent, goog.events.Event);\ngoog.fs.ProgressEvent.prototype.isLengthComputable = function() {\n  return this.event_.lengthComputable;\n};\ngoog.fs.ProgressEvent.prototype.getLoaded = function() {\n  return this.event_.loaded;\n};\ngoog.fs.ProgressEvent.prototype.getTotal = function() {\n  return this.event_.total;\n};\ngoog.fs.FileReader = function() {\n  goog.events.EventTarget.call(this);\n  this.reader_ = new FileReader();\n  this.reader_.onloadstart = goog.bind(this.dispatchProgressEvent_, this);\n  this.reader_.onprogress = goog.bind(this.dispatchProgressEvent_, this);\n  this.reader_.onload = goog.bind(this.dispatchProgressEvent_, this);\n  this.reader_.onabort = goog.bind(this.dispatchProgressEvent_, this);\n  this.reader_.onerror = goog.bind(this.dispatchProgressEvent_, this);\n  this.reader_.onloadend = goog.bind(this.dispatchProgressEvent_, this);\n};\ngoog.inherits(goog.fs.FileReader, goog.events.EventTarget);\ngoog.fs.FileReader.ReadyState = {INIT:0, LOADING:1, DONE:2};\ngoog.fs.FileReader.EventType = {LOAD_START:\"loadstart\", PROGRESS:\"progress\", LOAD:\"load\", ABORT:\"abort\", ERROR:\"error\", LOAD_END:\"loadend\"};\ngoog.fs.FileReader.prototype.abort = function() {\n  try {\n    this.reader_.abort();\n  } catch (e) {\n    throw new goog.fs.Error(e, \"aborting read\");\n  }\n};\ngoog.fs.FileReader.prototype.getReadyState = function() {\n  return this.reader_.readyState;\n};\ngoog.fs.FileReader.prototype.getResult = function() {\n  return this.reader_.result;\n};\ngoog.fs.FileReader.prototype.getError = function() {\n  return this.reader_.error && new goog.fs.Error(this.reader_.error, \"reading file\");\n};\ngoog.fs.FileReader.prototype.dispatchProgressEvent_ = function(event) {\n  this.dispatchEvent(new goog.fs.ProgressEvent(event, this));\n};\ngoog.fs.FileReader.prototype.disposeInternal = function() {\n  goog.fs.FileReader.superClass_.disposeInternal.call(this);\n  delete this.reader_;\n};\ngoog.fs.FileReader.prototype.readAsBinaryString = function(blob) {\n  this.reader_.readAsBinaryString(blob);\n};\ngoog.fs.FileReader.readAsBinaryString = function(blob) {\n  var reader = new goog.fs.FileReader(), d = goog.fs.FileReader.createDeferred_(reader);\n  reader.readAsBinaryString(blob);\n  return d;\n};\ngoog.fs.FileReader.prototype.readAsArrayBuffer = function(blob) {\n  this.reader_.readAsArrayBuffer(blob);\n};\ngoog.fs.FileReader.readAsArrayBuffer = function(blob) {\n  var reader = new goog.fs.FileReader(), d = goog.fs.FileReader.createDeferred_(reader);\n  reader.readAsArrayBuffer(blob);\n  return d;\n};\ngoog.fs.FileReader.prototype.readAsText = function(blob, opt_encoding) {\n  this.reader_.readAsText(blob, opt_encoding);\n};\ngoog.fs.FileReader.readAsText = function(blob, opt_encoding) {\n  var reader = new goog.fs.FileReader(), d = goog.fs.FileReader.createDeferred_(reader);\n  reader.readAsText(blob, opt_encoding);\n  return d;\n};\ngoog.fs.FileReader.prototype.readAsDataUrl = function(blob) {\n  this.reader_.readAsDataURL(blob);\n};\ngoog.fs.FileReader.readAsDataUrl = function(blob) {\n  var reader = new goog.fs.FileReader(), d = goog.fs.FileReader.createDeferred_(reader);\n  reader.readAsDataUrl(blob);\n  return d;\n};\ngoog.fs.FileReader.createDeferred_ = function(reader) {\n  var deferred = new goog.async.Deferred();\n  reader.listen(goog.fs.FileReader.EventType.LOAD_END, goog.partial(function(d, r, e) {\n    var result = r.getResult(), error = r.getError();\n    null == result || error ? d.errback(error) : d.callback(result);\n    r.dispose();\n  }, deferred, reader));\n  return deferred;\n};\ngoog.dom.vendor = {};\ngoog.dom.vendor.getVendorJsPrefix = function() {\n  return goog.userAgent.WEBKIT ? \"Webkit\" : goog.userAgent.GECKO ? \"Moz\" : goog.userAgent.IE ? \"ms\" : null;\n};\ngoog.dom.vendor.getVendorPrefix = function() {\n  return goog.userAgent.WEBKIT ? \"-webkit\" : goog.userAgent.GECKO ? \"-moz\" : goog.userAgent.IE ? \"-ms\" : null;\n};\ngoog.dom.vendor.getPrefixedPropertyName = function(propertyName, opt_object) {\n  if (opt_object && propertyName in opt_object) {\n    return propertyName;\n  }\n  var prefix = goog.dom.vendor.getVendorJsPrefix();\n  if (prefix) {\n    prefix = prefix.toLowerCase();\n    var prefixedPropertyName = prefix + goog.string.toTitleCase(propertyName);\n    return void 0 === opt_object || prefixedPropertyName in opt_object ? prefixedPropertyName : null;\n  }\n  return null;\n};\ngoog.dom.vendor.getPrefixedEventType = function(eventType) {\n  return ((goog.dom.vendor.getVendorJsPrefix() || \"\") + eventType).toLowerCase();\n};\ngoog.math.Box = function(top, right, bottom, left) {\n  this.top = top;\n  this.right = right;\n  this.bottom = bottom;\n  this.left = left;\n};\ngoog.math.Box.boundingBox = function(var_args) {\n  for (var box = new goog.math.Box(arguments[0].y, arguments[0].x, arguments[0].y, arguments[0].x), i = 1; i < arguments.length; i++) {\n    box.expandToIncludeCoordinate(arguments[i]);\n  }\n  return box;\n};\ngoog.math.Box.prototype.getWidth = function() {\n  return this.right - this.left;\n};\ngoog.math.Box.prototype.getHeight = function() {\n  return this.bottom - this.top;\n};\ngoog.math.Box.prototype.clone = function() {\n  return new goog.math.Box(this.top, this.right, this.bottom, this.left);\n};\ngoog.DEBUG && (goog.math.Box.prototype.toString = function() {\n  return \"(\" + this.top + \"t, \" + this.right + \"r, \" + this.bottom + \"b, \" + this.left + \"l)\";\n});\ngoog.math.Box.prototype.contains = function(other) {\n  return goog.math.Box.contains(this, other);\n};\ngoog.math.Box.prototype.expand = function(top, opt_right, opt_bottom, opt_left) {\n  goog.isObject(top) ? (this.top -= top.top, this.right += top.right, this.bottom += top.bottom, this.left -= top.left) : (this.top -= top, this.right += Number(opt_right), this.bottom += Number(opt_bottom), this.left -= Number(opt_left));\n  return this;\n};\ngoog.math.Box.prototype.expandToInclude = function(box) {\n  this.left = Math.min(this.left, box.left);\n  this.top = Math.min(this.top, box.top);\n  this.right = Math.max(this.right, box.right);\n  this.bottom = Math.max(this.bottom, box.bottom);\n};\ngoog.math.Box.prototype.expandToIncludeCoordinate = function(coord) {\n  this.top = Math.min(this.top, coord.y);\n  this.right = Math.max(this.right, coord.x);\n  this.bottom = Math.max(this.bottom, coord.y);\n  this.left = Math.min(this.left, coord.x);\n};\ngoog.math.Box.equals = function(a, b) {\n  return a == b ? !0 : a && b ? a.top == b.top && a.right == b.right && a.bottom == b.bottom && a.left == b.left : !1;\n};\ngoog.math.Box.contains = function(box, other) {\n  return box && other ? other instanceof goog.math.Box ? other.left >= box.left && other.right <= box.right && other.top >= box.top && other.bottom <= box.bottom : other.x >= box.left && other.x <= box.right && other.y >= box.top && other.y <= box.bottom : !1;\n};\ngoog.math.Box.relativePositionX = function(box, coord) {\n  return coord.x < box.left ? coord.x - box.left : coord.x > box.right ? coord.x - box.right : 0;\n};\ngoog.math.Box.relativePositionY = function(box, coord) {\n  return coord.y < box.top ? coord.y - box.top : coord.y > box.bottom ? coord.y - box.bottom : 0;\n};\ngoog.math.Box.distance = function(box, coord) {\n  var x = goog.math.Box.relativePositionX(box, coord), y = goog.math.Box.relativePositionY(box, coord);\n  return Math.sqrt(x * x + y * y);\n};\ngoog.math.Box.intersects = function(a, b) {\n  return a.left <= b.right && b.left <= a.right && a.top <= b.bottom && b.top <= a.bottom;\n};\ngoog.math.Box.intersectsWithPadding = function(a, b, padding) {\n  return a.left <= b.right + padding && b.left <= a.right + padding && a.top <= b.bottom + padding && b.top <= a.bottom + padding;\n};\ngoog.math.Box.prototype.ceil = function() {\n  this.top = Math.ceil(this.top);\n  this.right = Math.ceil(this.right);\n  this.bottom = Math.ceil(this.bottom);\n  this.left = Math.ceil(this.left);\n  return this;\n};\ngoog.math.Box.prototype.floor = function() {\n  this.top = Math.floor(this.top);\n  this.right = Math.floor(this.right);\n  this.bottom = Math.floor(this.bottom);\n  this.left = Math.floor(this.left);\n  return this;\n};\ngoog.math.Box.prototype.round = function() {\n  this.top = Math.round(this.top);\n  this.right = Math.round(this.right);\n  this.bottom = Math.round(this.bottom);\n  this.left = Math.round(this.left);\n  return this;\n};\ngoog.math.Box.prototype.translate = function(tx, opt_ty) {\n  tx instanceof goog.math.Coordinate ? (this.left += tx.x, this.right += tx.x, this.top += tx.y, this.bottom += tx.y) : (goog.asserts.assertNumber(tx), this.left += tx, this.right += tx, \"number\" === typeof opt_ty && (this.top += opt_ty, this.bottom += opt_ty));\n  return this;\n};\ngoog.math.Box.prototype.scale = function(sx, opt_sy) {\n  var sy = \"number\" === typeof opt_sy ? opt_sy : sx;\n  this.left *= sx;\n  this.right *= sx;\n  this.top *= sy;\n  this.bottom *= sy;\n  return this;\n};\ngoog.math.IRect = function() {\n};\ngoog.math.Rect = function(x, y, w, h) {\n  this.left = x;\n  this.top = y;\n  this.width = w;\n  this.height = h;\n};\ngoog.math.Rect.prototype.clone = function() {\n  return new goog.math.Rect(this.left, this.top, this.width, this.height);\n};\ngoog.math.Rect.prototype.toBox = function() {\n  return new goog.math.Box(this.top, this.left + this.width, this.top + this.height, this.left);\n};\ngoog.math.Rect.createFromPositionAndSize = function(position, size) {\n  return new goog.math.Rect(position.x, position.y, size.width, size.height);\n};\ngoog.math.Rect.createFromBox = function(box) {\n  return new goog.math.Rect(box.left, box.top, box.right - box.left, box.bottom - box.top);\n};\ngoog.DEBUG && (goog.math.Rect.prototype.toString = function() {\n  return \"(\" + this.left + \", \" + this.top + \" - \" + this.width + \"w x \" + this.height + \"h)\";\n});\ngoog.math.Rect.equals = function(a, b) {\n  return a == b ? !0 : a && b ? a.left == b.left && a.width == b.width && a.top == b.top && a.height == b.height : !1;\n};\ngoog.math.Rect.prototype.intersection = function(rect) {\n  var x0 = Math.max(this.left, rect.left), x1 = Math.min(this.left + this.width, rect.left + rect.width);\n  if (x0 <= x1) {\n    var y0 = Math.max(this.top, rect.top), y1 = Math.min(this.top + this.height, rect.top + rect.height);\n    if (y0 <= y1) {\n      return this.left = x0, this.top = y0, this.width = x1 - x0, this.height = y1 - y0, !0;\n    }\n  }\n  return !1;\n};\ngoog.math.Rect.intersection = function(a, b) {\n  var x0 = Math.max(a.left, b.left), x1 = Math.min(a.left + a.width, b.left + b.width);\n  if (x0 <= x1) {\n    var y0 = Math.max(a.top, b.top), y1 = Math.min(a.top + a.height, b.top + b.height);\n    if (y0 <= y1) {\n      return new goog.math.Rect(x0, y0, x1 - x0, y1 - y0);\n    }\n  }\n  return null;\n};\ngoog.math.Rect.intersects = function(a, b) {\n  return a.left <= b.left + b.width && b.left <= a.left + a.width && a.top <= b.top + b.height && b.top <= a.top + a.height;\n};\ngoog.math.Rect.prototype.intersects = function(rect) {\n  return goog.math.Rect.intersects(this, rect);\n};\ngoog.math.Rect.difference = function(a, b) {\n  var intersection = goog.math.Rect.intersection(a, b);\n  if (!intersection || !intersection.height || !intersection.width) {\n    return [a.clone()];\n  }\n  var result = [], top = a.top, height = a.height, ar = a.left + a.width, ab = a.top + a.height, br = b.left + b.width, bb = b.top + b.height;\n  b.top > a.top && (result.push(new goog.math.Rect(a.left, a.top, a.width, b.top - a.top)), top = b.top, height -= b.top - a.top);\n  bb < ab && (result.push(new goog.math.Rect(a.left, bb, a.width, ab - bb)), height = bb - top);\n  b.left > a.left && result.push(new goog.math.Rect(a.left, top, b.left - a.left, height));\n  br < ar && result.push(new goog.math.Rect(br, top, ar - br, height));\n  return result;\n};\ngoog.math.Rect.prototype.difference = function(rect) {\n  return goog.math.Rect.difference(this, rect);\n};\ngoog.math.Rect.prototype.boundingRect = function(rect) {\n  var right = Math.max(this.left + this.width, rect.left + rect.width), bottom = Math.max(this.top + this.height, rect.top + rect.height);\n  this.left = Math.min(this.left, rect.left);\n  this.top = Math.min(this.top, rect.top);\n  this.width = right - this.left;\n  this.height = bottom - this.top;\n};\ngoog.math.Rect.boundingRect = function(a, b) {\n  if (!a || !b) {\n    return null;\n  }\n  var newRect = new goog.math.Rect(a.left, a.top, a.width, a.height);\n  newRect.boundingRect(b);\n  return newRect;\n};\ngoog.math.Rect.prototype.contains = function(another) {\n  return another instanceof goog.math.Coordinate ? another.x >= this.left && another.x <= this.left + this.width && another.y >= this.top && another.y <= this.top + this.height : this.left <= another.left && this.left + this.width >= another.left + another.width && this.top <= another.top && this.top + this.height >= another.top + another.height;\n};\ngoog.math.Rect.prototype.squaredDistance = function(point) {\n  var dx = point.x < this.left ? this.left - point.x : Math.max(point.x - (this.left + this.width), 0), dy = point.y < this.top ? this.top - point.y : Math.max(point.y - (this.top + this.height), 0);\n  return dx * dx + dy * dy;\n};\ngoog.math.Rect.prototype.distance = function(point) {\n  return Math.sqrt(this.squaredDistance(point));\n};\ngoog.math.Rect.prototype.getSize = function() {\n  return new goog.math.Size(this.width, this.height);\n};\ngoog.math.Rect.prototype.getTopLeft = function() {\n  return new goog.math.Coordinate(this.left, this.top);\n};\ngoog.math.Rect.prototype.getCenter = function() {\n  return new goog.math.Coordinate(this.left + this.width / 2, this.top + this.height / 2);\n};\ngoog.math.Rect.prototype.getBottomRight = function() {\n  return new goog.math.Coordinate(this.left + this.width, this.top + this.height);\n};\ngoog.math.Rect.prototype.ceil = function() {\n  this.left = Math.ceil(this.left);\n  this.top = Math.ceil(this.top);\n  this.width = Math.ceil(this.width);\n  this.height = Math.ceil(this.height);\n  return this;\n};\ngoog.math.Rect.prototype.floor = function() {\n  this.left = Math.floor(this.left);\n  this.top = Math.floor(this.top);\n  this.width = Math.floor(this.width);\n  this.height = Math.floor(this.height);\n  return this;\n};\ngoog.math.Rect.prototype.round = function() {\n  this.left = Math.round(this.left);\n  this.top = Math.round(this.top);\n  this.width = Math.round(this.width);\n  this.height = Math.round(this.height);\n  return this;\n};\ngoog.math.Rect.prototype.translate = function(tx, opt_ty) {\n  tx instanceof goog.math.Coordinate ? (this.left += tx.x, this.top += tx.y) : (this.left += goog.asserts.assertNumber(tx), \"number\" === typeof opt_ty && (this.top += opt_ty));\n  return this;\n};\ngoog.math.Rect.prototype.scale = function(sx, opt_sy) {\n  var sy = \"number\" === typeof opt_sy ? opt_sy : sx;\n  this.left *= sx;\n  this.width *= sx;\n  this.top *= sy;\n  this.height *= sy;\n  return this;\n};\ngoog.style = {};\ngoog.style.setStyle = function(element, style, opt_value) {\n  if (\"string\" === typeof style) {\n    goog.style.setStyle_(element, opt_value, style);\n  } else {\n    for (var key in style) {\n      goog.style.setStyle_(element, style[key], key);\n    }\n  }\n};\ngoog.style.setStyle_ = function(element, value, style) {\n  var propertyName = goog.style.getVendorJsStyleName_(element, style);\n  propertyName && (element.style[propertyName] = value);\n};\ngoog.style.styleNameCache_ = {};\ngoog.style.getVendorJsStyleName_ = function(element, style) {\n  var propertyName = goog.style.styleNameCache_[style];\n  if (!propertyName) {\n    var camelStyle = goog.string.toCamelCase(style);\n    propertyName = camelStyle;\n    if (void 0 === element.style[camelStyle]) {\n      var prefixedStyle = goog.dom.vendor.getVendorJsPrefix() + goog.string.toTitleCase(camelStyle);\n      void 0 !== element.style[prefixedStyle] && (propertyName = prefixedStyle);\n    }\n    goog.style.styleNameCache_[style] = propertyName;\n  }\n  return propertyName;\n};\ngoog.style.getVendorStyleName_ = function(element, style) {\n  var camelStyle = goog.string.toCamelCase(style);\n  if (void 0 === element.style[camelStyle]) {\n    var prefixedStyle = goog.dom.vendor.getVendorJsPrefix() + goog.string.toTitleCase(camelStyle);\n    if (void 0 !== element.style[prefixedStyle]) {\n      return goog.dom.vendor.getVendorPrefix() + \"-\" + style;\n    }\n  }\n  return style;\n};\ngoog.style.getStyle = function(element, property) {\n  var styleValue = element.style[goog.string.toCamelCase(property)];\n  return \"undefined\" !== typeof styleValue ? styleValue : element.style[goog.style.getVendorJsStyleName_(element, property)] || \"\";\n};\ngoog.style.getComputedStyle = function(element, property) {\n  var doc = goog.dom.getOwnerDocument(element);\n  if (doc.defaultView && doc.defaultView.getComputedStyle) {\n    var styles = doc.defaultView.getComputedStyle(element, null);\n    if (styles) {\n      return styles[property] || styles.getPropertyValue(property) || \"\";\n    }\n  }\n  return \"\";\n};\ngoog.style.getCascadedStyle = function(element, style) {\n  return element.currentStyle ? element.currentStyle[style] : null;\n};\ngoog.style.getStyle_ = function(element, style) {\n  return goog.style.getComputedStyle(element, style) || goog.style.getCascadedStyle(element, style) || element.style && element.style[style];\n};\ngoog.style.getComputedBoxSizing = function(element) {\n  return goog.style.getStyle_(element, \"boxSizing\") || goog.style.getStyle_(element, \"MozBoxSizing\") || goog.style.getStyle_(element, \"WebkitBoxSizing\") || null;\n};\ngoog.style.getComputedPosition = function(element) {\n  return goog.style.getStyle_(element, \"position\");\n};\ngoog.style.getBackgroundColor = function(element) {\n  return goog.style.getStyle_(element, \"backgroundColor\");\n};\ngoog.style.getComputedOverflowX = function(element) {\n  return goog.style.getStyle_(element, \"overflowX\");\n};\ngoog.style.getComputedOverflowY = function(element) {\n  return goog.style.getStyle_(element, \"overflowY\");\n};\ngoog.style.getComputedZIndex = function(element) {\n  return goog.style.getStyle_(element, \"zIndex\");\n};\ngoog.style.getComputedTextAlign = function(element) {\n  return goog.style.getStyle_(element, \"textAlign\");\n};\ngoog.style.getComputedCursor = function(element) {\n  return goog.style.getStyle_(element, \"cursor\");\n};\ngoog.style.getComputedTransform = function(element) {\n  var property = goog.style.getVendorStyleName_(element, \"transform\");\n  return goog.style.getStyle_(element, property) || goog.style.getStyle_(element, \"transform\");\n};\ngoog.style.setPosition = function(el, arg1, opt_arg2) {\n  if (arg1 instanceof goog.math.Coordinate) {\n    var x = arg1.x;\n    var y = arg1.y;\n  } else {\n    x = arg1, y = opt_arg2;\n  }\n  el.style.left = goog.style.getPixelStyleValue_(x, !1);\n  el.style.top = goog.style.getPixelStyleValue_(y, !1);\n};\ngoog.style.getPosition = function(element) {\n  return new goog.math.Coordinate(element.offsetLeft, element.offsetTop);\n};\ngoog.style.getClientViewportElement = function(opt_node) {\n  var doc = opt_node ? goog.dom.getOwnerDocument(opt_node) : goog.dom.getDocument();\n  return !goog.userAgent.IE || goog.userAgent.isDocumentModeOrHigher(9) || goog.dom.getDomHelper(doc).isCss1CompatMode() ? doc.documentElement : doc.body;\n};\ngoog.style.getViewportPageOffset = function(doc) {\n  var body = doc.body, documentElement = doc.documentElement;\n  return new goog.math.Coordinate(body.scrollLeft || documentElement.scrollLeft, body.scrollTop || documentElement.scrollTop);\n};\ngoog.style.getBoundingClientRect_ = function(el) {\n  try {\n    return el.getBoundingClientRect();\n  } catch (e) {\n    return {left:0, top:0, right:0, bottom:0};\n  }\n};\ngoog.style.getOffsetParent = function(element) {\n  if (goog.userAgent.IE && !goog.userAgent.isDocumentModeOrHigher(8)) {\n    return goog.asserts.assert(element && \"offsetParent\" in element), element.offsetParent;\n  }\n  for (var doc = goog.dom.getOwnerDocument(element), positionStyle = goog.style.getStyle_(element, \"position\"), skipStatic = \"fixed\" == positionStyle || \"absolute\" == positionStyle, parent = element.parentNode; parent && parent != doc; parent = parent.parentNode) {\n    if (parent.nodeType == goog.dom.NodeType.DOCUMENT_FRAGMENT && parent.host && (parent = parent.host), positionStyle = goog.style.getStyle_(parent, \"position\"), skipStatic = skipStatic && \"static\" == positionStyle && parent != doc.documentElement && parent != doc.body, !skipStatic && (parent.scrollWidth > parent.clientWidth || parent.scrollHeight > parent.clientHeight || \"fixed\" == positionStyle || \"absolute\" == positionStyle || \"relative\" == positionStyle)) {\n      return parent;\n    }\n  }\n  return null;\n};\ngoog.style.getVisibleRectForElement = function(element) {\n  for (var visibleRect = new goog.math.Box(0, Infinity, Infinity, 0), dom = goog.dom.getDomHelper(element), body = dom.getDocument().body, documentElement = dom.getDocument().documentElement, scrollEl = dom.getDocumentScrollElement(), el = element; el = goog.style.getOffsetParent(el);) {\n    if (!(goog.userAgent.IE && 0 == el.clientWidth || goog.userAgent.WEBKIT && 0 == el.clientHeight && el == body) && el != body && el != documentElement && \"visible\" != goog.style.getStyle_(el, \"overflow\")) {\n      var pos = goog.style.getPageOffset(el), client = goog.style.getClientLeftTop(el);\n      pos.x += client.x;\n      pos.y += client.y;\n      visibleRect.top = Math.max(visibleRect.top, pos.y);\n      visibleRect.right = Math.min(visibleRect.right, pos.x + el.clientWidth);\n      visibleRect.bottom = Math.min(visibleRect.bottom, pos.y + el.clientHeight);\n      visibleRect.left = Math.max(visibleRect.left, pos.x);\n    }\n  }\n  var scrollX = scrollEl.scrollLeft, scrollY = scrollEl.scrollTop;\n  visibleRect.left = Math.max(visibleRect.left, scrollX);\n  visibleRect.top = Math.max(visibleRect.top, scrollY);\n  var winSize = dom.getViewportSize();\n  visibleRect.right = Math.min(visibleRect.right, scrollX + winSize.width);\n  visibleRect.bottom = Math.min(visibleRect.bottom, scrollY + winSize.height);\n  return 0 <= visibleRect.top && 0 <= visibleRect.left && visibleRect.bottom > visibleRect.top && visibleRect.right > visibleRect.left ? visibleRect : null;\n};\ngoog.style.getContainerOffsetToScrollInto = function(element, opt_container, opt_center) {\n  var container = opt_container || goog.dom.getDocumentScrollElement(), elementPos = goog.style.getPageOffset(element), containerPos = goog.style.getPageOffset(container), containerBorder = goog.style.getBorderBox(container);\n  if (container == goog.dom.getDocumentScrollElement()) {\n    var relX = elementPos.x - container.scrollLeft, relY = elementPos.y - container.scrollTop;\n    goog.userAgent.IE && !goog.userAgent.isDocumentModeOrHigher(10) && (relX += containerBorder.left, relY += containerBorder.top);\n  } else {\n    relX = elementPos.x - containerPos.x - containerBorder.left, relY = elementPos.y - containerPos.y - containerBorder.top;\n  }\n  var elementSize = goog.style.getSizeWithDisplay_(element), spaceX = container.clientWidth - elementSize.width, spaceY = container.clientHeight - elementSize.height, scrollLeft = container.scrollLeft, scrollTop = container.scrollTop;\n  opt_center ? (scrollLeft += relX - spaceX / 2, scrollTop += relY - spaceY / 2) : (scrollLeft += Math.min(relX, Math.max(relX - spaceX, 0)), scrollTop += Math.min(relY, Math.max(relY - spaceY, 0)));\n  return new goog.math.Coordinate(scrollLeft, scrollTop);\n};\ngoog.style.scrollIntoContainerView = function(element, opt_container, opt_center) {\n  var container = opt_container || goog.dom.getDocumentScrollElement(), offset = goog.style.getContainerOffsetToScrollInto(element, container, opt_center);\n  container.scrollLeft = offset.x;\n  container.scrollTop = offset.y;\n};\ngoog.style.getClientLeftTop = function(el) {\n  return new goog.math.Coordinate(el.clientLeft, el.clientTop);\n};\ngoog.style.getPageOffset = function(el) {\n  var doc = goog.dom.getOwnerDocument(el);\n  goog.asserts.assertObject(el, \"Parameter is required\");\n  var pos = new goog.math.Coordinate(0, 0), viewportElement = goog.style.getClientViewportElement(doc);\n  if (el == viewportElement) {\n    return pos;\n  }\n  var box = goog.style.getBoundingClientRect_(el), scrollCoord = goog.dom.getDomHelper(doc).getDocumentScroll();\n  pos.x = box.left + scrollCoord.x;\n  pos.y = box.top + scrollCoord.y;\n  return pos;\n};\ngoog.style.getPageOffsetLeft = function(el) {\n  return goog.style.getPageOffset(el).x;\n};\ngoog.style.getPageOffsetTop = function(el) {\n  return goog.style.getPageOffset(el).y;\n};\ngoog.style.getFramedPageOffset = function(el, relativeWin) {\n  var position = new goog.math.Coordinate(0, 0), currentWin = goog.dom.getWindow(goog.dom.getOwnerDocument(el));\n  if (!goog.reflect.canAccessProperty(currentWin, \"parent\")) {\n    return position;\n  }\n  var currentEl = el;\n  do {\n    var offset = currentWin == relativeWin ? goog.style.getPageOffset(currentEl) : goog.style.getClientPositionForElement_(goog.asserts.assert(currentEl));\n    position.x += offset.x;\n    position.y += offset.y;\n  } while (currentWin && currentWin != relativeWin && currentWin != currentWin.parent && (currentEl = currentWin.frameElement) && (currentWin = currentWin.parent));\n  return position;\n};\ngoog.style.translateRectForAnotherFrame = function(rect, origBase, newBase) {\n  if (origBase.getDocument() != newBase.getDocument()) {\n    var body = origBase.getDocument().body, pos = goog.style.getFramedPageOffset(body, newBase.getWindow());\n    pos = goog.math.Coordinate.difference(pos, goog.style.getPageOffset(body));\n    !goog.userAgent.IE || goog.userAgent.isDocumentModeOrHigher(9) || origBase.isCss1CompatMode() || (pos = goog.math.Coordinate.difference(pos, origBase.getDocumentScroll()));\n    rect.left += pos.x;\n    rect.top += pos.y;\n  }\n};\ngoog.style.getRelativePosition = function(a, b) {\n  var ap = goog.style.getClientPosition(a), bp = goog.style.getClientPosition(b);\n  return new goog.math.Coordinate(ap.x - bp.x, ap.y - bp.y);\n};\ngoog.style.getClientPositionForElement_ = function(el) {\n  var box = goog.style.getBoundingClientRect_(el);\n  return new goog.math.Coordinate(box.left, box.top);\n};\ngoog.style.getClientPosition = function(el) {\n  goog.asserts.assert(el);\n  if (el.nodeType == goog.dom.NodeType.ELEMENT) {\n    return goog.style.getClientPositionForElement_(el);\n  }\n  var targetEvent = el.changedTouches ? el.changedTouches[0] : el;\n  return new goog.math.Coordinate(targetEvent.clientX, targetEvent.clientY);\n};\ngoog.style.setPageOffset = function(el, x, opt_y) {\n  var cur = goog.style.getPageOffset(el);\n  x instanceof goog.math.Coordinate && (opt_y = x.y, x = x.x);\n  var dx = goog.asserts.assertNumber(x) - cur.x;\n  goog.style.setPosition(el, el.offsetLeft + dx, el.offsetTop + (Number(opt_y) - cur.y));\n};\ngoog.style.setSize = function(element, w, opt_h) {\n  if (w instanceof goog.math.Size) {\n    var h = w.height;\n    w = w.width;\n  } else {\n    if (void 0 == opt_h) {\n      throw Error(\"missing height argument\");\n    }\n    h = opt_h;\n  }\n  goog.style.setWidth(element, w);\n  goog.style.setHeight(element, h);\n};\ngoog.style.getPixelStyleValue_ = function(value, round) {\n  \"number\" == typeof value && (value = (round ? Math.round(value) : value) + \"px\");\n  return value;\n};\ngoog.style.setHeight = function(element, height) {\n  element.style.height = goog.style.getPixelStyleValue_(height, !0);\n};\ngoog.style.setWidth = function(element, width) {\n  element.style.width = goog.style.getPixelStyleValue_(width, !0);\n};\ngoog.style.getSize = function(element) {\n  return goog.style.evaluateWithTemporaryDisplay_(goog.style.getSizeWithDisplay_, element);\n};\ngoog.style.evaluateWithTemporaryDisplay_ = function(fn, element) {\n  if (\"none\" != goog.style.getStyle_(element, \"display\")) {\n    return fn(element);\n  }\n  var style = element.style, originalDisplay = style.display, originalVisibility = style.visibility, originalPosition = style.position;\n  style.visibility = \"hidden\";\n  style.position = \"absolute\";\n  style.display = \"inline\";\n  var retVal = fn(element);\n  style.display = originalDisplay;\n  style.position = originalPosition;\n  style.visibility = originalVisibility;\n  return retVal;\n};\ngoog.style.getSizeWithDisplay_ = function(element) {\n  var offsetWidth = element.offsetWidth, offsetHeight = element.offsetHeight, webkitOffsetsZero = goog.userAgent.WEBKIT && !offsetWidth && !offsetHeight;\n  if ((void 0 === offsetWidth || webkitOffsetsZero) && element.getBoundingClientRect) {\n    var clientRect = goog.style.getBoundingClientRect_(element);\n    return new goog.math.Size(clientRect.right - clientRect.left, clientRect.bottom - clientRect.top);\n  }\n  return new goog.math.Size(offsetWidth, offsetHeight);\n};\ngoog.style.getTransformedSize = function(element) {\n  if (!element.getBoundingClientRect) {\n    return null;\n  }\n  var clientRect = goog.style.evaluateWithTemporaryDisplay_(goog.style.getBoundingClientRect_, element);\n  return new goog.math.Size(clientRect.right - clientRect.left, clientRect.bottom - clientRect.top);\n};\ngoog.style.getBounds = function(element) {\n  var o = goog.style.getPageOffset(element), s = goog.style.getSize(element);\n  return new goog.math.Rect(o.x, o.y, s.width, s.height);\n};\ngoog.style.toCamelCase = function(selector) {\n  return goog.string.toCamelCase(String(selector));\n};\ngoog.style.toSelectorCase = function(selector) {\n  return goog.string.toSelectorCase(selector);\n};\ngoog.style.getOpacity = function(el) {\n  goog.asserts.assert(el);\n  var style = el.style, result = \"\";\n  if (\"opacity\" in style) {\n    result = style.opacity;\n  } else if (\"MozOpacity\" in style) {\n    result = style.MozOpacity;\n  } else if (\"filter\" in style) {\n    var match = style.filter.match(/alpha\\(opacity=([\\d.]+)\\)/);\n    match && (result = String(match[1] / 100));\n  }\n  return \"\" == result ? result : Number(result);\n};\ngoog.style.setOpacity = function(el, alpha) {\n  goog.asserts.assert(el);\n  var style = el.style;\n  \"opacity\" in style ? style.opacity = alpha : \"MozOpacity\" in style ? style.MozOpacity = alpha : \"filter\" in style && (style.filter = \"\" === alpha ? \"\" : \"alpha(opacity=\" + 100 * Number(alpha) + \")\");\n};\ngoog.style.setTransparentBackgroundImage = function(el, src) {\n  var style = el.style;\n  style.backgroundImage = \"url(\" + src + \")\";\n  style.backgroundPosition = \"top left\";\n  style.backgroundRepeat = \"no-repeat\";\n};\ngoog.style.clearTransparentBackgroundImage = function(el) {\n  var style = el.style;\n  \"filter\" in style ? style.filter = \"\" : style.backgroundImage = \"none\";\n};\ngoog.style.showElement = function(el, display) {\n  goog.style.setElementShown(el, display);\n};\ngoog.style.setElementShown = function(el, isShown) {\n  el.style.display = isShown ? \"\" : \"none\";\n};\ngoog.style.isElementShown = function(el) {\n  return \"none\" != el.style.display;\n};\ngoog.style.installSafeStyleSheet = function(safeStyleSheet, opt_node) {\n  var dh = goog.dom.getDomHelper(opt_node), doc = dh.getDocument();\n  if (goog.userAgent.IE && doc.createStyleSheet) {\n    var styleSheet = doc.createStyleSheet();\n    goog.style.setSafeStyleSheet(styleSheet, safeStyleSheet);\n    return styleSheet;\n  }\n  var head = dh.getElementsByTagNameAndClass(goog.dom.TagName.HEAD)[0];\n  if (!head) {\n    var body = dh.getElementsByTagNameAndClass(goog.dom.TagName.BODY)[0];\n    head = dh.createDom(goog.dom.TagName.HEAD);\n    body.parentNode.insertBefore(head, body);\n  }\n  var el = dh.createDom(goog.dom.TagName.STYLE), nonce = goog.dom.safe.getStyleNonce();\n  nonce && el.setAttribute(\"nonce\", nonce);\n  goog.style.setSafeStyleSheet(el, safeStyleSheet);\n  dh.appendChild(head, el);\n  return el;\n};\ngoog.style.uninstallStyles = function(styleSheet) {\n  goog.dom.removeNode(styleSheet.ownerNode || styleSheet.owningElement || styleSheet);\n};\ngoog.style.setSafeStyleSheet = function(element, safeStyleSheet) {\n  var stylesString = module$contents$goog$html$SafeStyleSheet_SafeStyleSheet.unwrap(safeStyleSheet);\n  goog.userAgent.IE && void 0 !== element.cssText ? element.cssText = stylesString : goog.global.trustedTypes ? goog.dom.setTextContent(element, stylesString) : element.innerHTML = stylesString;\n};\ngoog.style.setPreWrap = function(el) {\n  el.style.whiteSpace = goog.userAgent.GECKO ? \"-moz-pre-wrap\" : \"pre-wrap\";\n};\ngoog.style.setInlineBlock = function(el) {\n  var style = el.style;\n  style.position = \"relative\";\n  style.display = \"inline-block\";\n};\ngoog.style.isRightToLeft = function(el) {\n  return \"rtl\" == goog.style.getStyle_(el, \"direction\");\n};\ngoog.style.unselectableStyle_ = goog.userAgent.GECKO ? \"MozUserSelect\" : goog.userAgent.WEBKIT || goog.userAgent.EDGE ? \"WebkitUserSelect\" : null;\ngoog.style.isUnselectable = function(el) {\n  return goog.style.unselectableStyle_ ? \"none\" == el.style[goog.style.unselectableStyle_].toLowerCase() : goog.userAgent.IE ? \"on\" == el.getAttribute(\"unselectable\") : !1;\n};\ngoog.style.setUnselectable = function(el, unselectable, opt_noRecurse) {\n  var descendants = opt_noRecurse ? null : el.getElementsByTagName(\"*\"), name = goog.style.unselectableStyle_;\n  if (name) {\n    var value = unselectable ? \"none\" : \"\";\n    el.style && (el.style[name] = value);\n    if (descendants) {\n      for (var i = 0, descendant; descendant = descendants[i]; i++) {\n        descendant.style && (descendant.style[name] = value);\n      }\n    }\n  } else if (goog.userAgent.IE && (value = unselectable ? \"on\" : \"\", el.setAttribute(\"unselectable\", value), descendants)) {\n    for (i = 0; descendant = descendants[i]; i++) {\n      descendant.setAttribute(\"unselectable\", value);\n    }\n  }\n};\ngoog.style.getBorderBoxSize = function(element) {\n  return new goog.math.Size(element.offsetWidth, element.offsetHeight);\n};\ngoog.style.setBorderBoxSize = function(element, size) {\n  goog.style.setBoxSizingSize_(element, size, \"border-box\");\n};\ngoog.style.getContentBoxSize = function(element) {\n  var doc = goog.dom.getOwnerDocument(element), ieCurrentStyle = goog.userAgent.IE && element.currentStyle;\n  if (ieCurrentStyle && goog.dom.getDomHelper(doc).isCss1CompatMode() && \"auto\" != ieCurrentStyle.width && \"auto\" != ieCurrentStyle.height && !ieCurrentStyle.boxSizing) {\n    var width = goog.style.getIePixelValue_(element, ieCurrentStyle.width, \"width\", \"pixelWidth\"), height = goog.style.getIePixelValue_(element, ieCurrentStyle.height, \"height\", \"pixelHeight\");\n    return new goog.math.Size(width, height);\n  }\n  var borderBoxSize = goog.style.getBorderBoxSize(element), paddingBox = goog.style.getPaddingBox(element), borderBox = goog.style.getBorderBox(element);\n  return new goog.math.Size(borderBoxSize.width - borderBox.left - paddingBox.left - paddingBox.right - borderBox.right, borderBoxSize.height - borderBox.top - paddingBox.top - paddingBox.bottom - borderBox.bottom);\n};\ngoog.style.setContentBoxSize = function(element, size) {\n  goog.style.setBoxSizingSize_(element, size, \"content-box\");\n};\ngoog.style.setBoxSizingSize_ = function(element, size, boxSizing) {\n  var style = element.style;\n  goog.userAgent.GECKO ? style.MozBoxSizing = boxSizing : goog.userAgent.WEBKIT ? style.WebkitBoxSizing = boxSizing : style.boxSizing = boxSizing;\n  style.width = Math.max(size.width, 0) + \"px\";\n  style.height = Math.max(size.height, 0) + \"px\";\n};\ngoog.style.getIePixelValue_ = function(element, value, name, pixelName) {\n  if (/^\\d+px?$/.test(value)) {\n    return parseInt(value, 10);\n  }\n  var oldStyleValue = element.style[name], oldRuntimeValue = element.runtimeStyle[name];\n  element.runtimeStyle[name] = element.currentStyle[name];\n  element.style[name] = value;\n  var pixelValue = element.style[pixelName];\n  element.style[name] = oldStyleValue;\n  element.runtimeStyle[name] = oldRuntimeValue;\n  return +pixelValue;\n};\ngoog.style.getIePixelDistance_ = function(element, propName) {\n  var value = goog.style.getCascadedStyle(element, propName);\n  return value ? goog.style.getIePixelValue_(element, value, \"left\", \"pixelLeft\") : 0;\n};\ngoog.style.getBox_ = function(element, stylePrefix) {\n  if (goog.userAgent.IE) {\n    var left = goog.style.getIePixelDistance_(element, stylePrefix + \"Left\"), right = goog.style.getIePixelDistance_(element, stylePrefix + \"Right\"), top = goog.style.getIePixelDistance_(element, stylePrefix + \"Top\"), bottom = goog.style.getIePixelDistance_(element, stylePrefix + \"Bottom\");\n    return new goog.math.Box(top, right, bottom, left);\n  }\n  left = goog.style.getComputedStyle(element, stylePrefix + \"Left\");\n  right = goog.style.getComputedStyle(element, stylePrefix + \"Right\");\n  top = goog.style.getComputedStyle(element, stylePrefix + \"Top\");\n  bottom = goog.style.getComputedStyle(element, stylePrefix + \"Bottom\");\n  return new goog.math.Box(parseFloat(top), parseFloat(right), parseFloat(bottom), parseFloat(left));\n};\ngoog.style.getPaddingBox = function(element) {\n  return goog.style.getBox_(element, \"padding\");\n};\ngoog.style.getMarginBox = function(element) {\n  return goog.style.getBox_(element, \"margin\");\n};\ngoog.style.ieBorderWidthKeywords_ = {thin:2, medium:4, thick:6};\ngoog.style.getIePixelBorder_ = function(element, prop) {\n  if (\"none\" == goog.style.getCascadedStyle(element, prop + \"Style\")) {\n    return 0;\n  }\n  var width = goog.style.getCascadedStyle(element, prop + \"Width\");\n  return width in goog.style.ieBorderWidthKeywords_ ? goog.style.ieBorderWidthKeywords_[width] : goog.style.getIePixelValue_(element, width, \"left\", \"pixelLeft\");\n};\ngoog.style.getBorderBox = function(element) {\n  if (goog.userAgent.IE && !goog.userAgent.isDocumentModeOrHigher(9)) {\n    var left = goog.style.getIePixelBorder_(element, \"borderLeft\"), right = goog.style.getIePixelBorder_(element, \"borderRight\"), top = goog.style.getIePixelBorder_(element, \"borderTop\"), bottom = goog.style.getIePixelBorder_(element, \"borderBottom\");\n    return new goog.math.Box(top, right, bottom, left);\n  }\n  left = goog.style.getComputedStyle(element, \"borderLeftWidth\");\n  right = goog.style.getComputedStyle(element, \"borderRightWidth\");\n  top = goog.style.getComputedStyle(element, \"borderTopWidth\");\n  bottom = goog.style.getComputedStyle(element, \"borderBottomWidth\");\n  return new goog.math.Box(parseFloat(top), parseFloat(right), parseFloat(bottom), parseFloat(left));\n};\ngoog.style.getFontFamily = function(el) {\n  var doc = goog.dom.getOwnerDocument(el), font = \"\";\n  if (doc.body.createTextRange && goog.dom.contains(doc, el)) {\n    var range = doc.body.createTextRange();\n    range.moveToElementText(el);\n    try {\n      font = range.queryCommandValue(\"FontName\");\n    } catch (e) {\n      font = \"\";\n    }\n  }\n  font || (font = goog.style.getStyle_(el, \"fontFamily\"));\n  var fontsArray = font.split(\",\");\n  1 < fontsArray.length && (font = fontsArray[0]);\n  return goog.string.stripQuotes(font, \"\\\"'\");\n};\ngoog.style.lengthUnitRegex_ = /[^\\d]+$/;\ngoog.style.getLengthUnits = function(value) {\n  var units = value.match(goog.style.lengthUnitRegex_);\n  return units && units[0] || null;\n};\ngoog.style.ABSOLUTE_CSS_LENGTH_UNITS_ = {cm:1, \"in\":1, mm:1, pc:1, pt:1};\ngoog.style.CONVERTIBLE_RELATIVE_CSS_UNITS_ = {em:1, ex:1};\ngoog.style.getFontSize = function(el) {\n  var fontSize = goog.style.getStyle_(el, \"fontSize\"), sizeUnits = goog.style.getLengthUnits(fontSize);\n  if (fontSize && \"px\" == sizeUnits) {\n    return parseInt(fontSize, 10);\n  }\n  if (goog.userAgent.IE) {\n    if (String(sizeUnits) in goog.style.ABSOLUTE_CSS_LENGTH_UNITS_) {\n      return goog.style.getIePixelValue_(el, fontSize, \"left\", \"pixelLeft\");\n    }\n    if (el.parentNode && el.parentNode.nodeType == goog.dom.NodeType.ELEMENT && String(sizeUnits) in goog.style.CONVERTIBLE_RELATIVE_CSS_UNITS_) {\n      var parentElement = el.parentNode, parentSize = goog.style.getStyle_(parentElement, \"fontSize\");\n      return goog.style.getIePixelValue_(parentElement, fontSize == parentSize ? \"1em\" : fontSize, \"left\", \"pixelLeft\");\n    }\n  }\n  var sizeElement = goog.dom.createDom(goog.dom.TagName.SPAN, {style:\"visibility:hidden;position:absolute;line-height:0;padding:0;margin:0;border:0;height:1em;\"});\n  goog.dom.appendChild(el, sizeElement);\n  fontSize = sizeElement.offsetHeight;\n  goog.dom.removeNode(sizeElement);\n  return fontSize;\n};\ngoog.style.parseStyleAttribute = function(value) {\n  var result = {};\n  value.split(/\\s*;\\s*/).forEach(function(pair) {\n    var keyValue = pair.match(/\\s*([\\w-]+)\\s*:(.+)/);\n    if (keyValue) {\n      var styleValue = goog.string.trim(keyValue[2]);\n      result[goog.string.toCamelCase(keyValue[1].toLowerCase())] = styleValue;\n    }\n  });\n  return result;\n};\ngoog.style.toStyleAttribute = function(obj) {\n  var buffer = [];\n  module$contents$goog$object_forEach(obj, function(value, key) {\n    buffer.push(goog.string.toSelectorCase(key), \":\", value, \";\");\n  });\n  return buffer.join(\"\");\n};\ngoog.style.setFloat = function(el, value) {\n  el.style[goog.userAgent.IE ? \"styleFloat\" : \"cssFloat\"] = value;\n};\ngoog.style.getFloat = function(el) {\n  return el.style[goog.userAgent.IE ? \"styleFloat\" : \"cssFloat\"] || \"\";\n};\ngoog.style.getScrollbarWidth = function(opt_className) {\n  var outerDiv = goog.dom.createElement(goog.dom.TagName.DIV);\n  opt_className && (outerDiv.className = opt_className);\n  outerDiv.style.cssText = \"overflow:auto;position:absolute;top:0;width:100px;height:100px\";\n  var innerDiv = goog.dom.createElement(goog.dom.TagName.DIV);\n  goog.style.setSize(innerDiv, \"200px\", \"200px\");\n  outerDiv.appendChild(innerDiv);\n  goog.dom.appendChild(goog.dom.getDocument().body, outerDiv);\n  var width = outerDiv.offsetWidth - outerDiv.clientWidth;\n  goog.dom.removeNode(outerDiv);\n  return width;\n};\ngoog.style.MATRIX_TRANSLATION_REGEX_ = RegExp(\"matrix\\\\([0-9\\\\.\\\\-]+, [0-9\\\\.\\\\-]+, [0-9\\\\.\\\\-]+, [0-9\\\\.\\\\-]+, ([0-9\\\\.\\\\-]+)p?x?, ([0-9\\\\.\\\\-]+)p?x?\\\\)\");\ngoog.style.getCssTranslation = function(element) {\n  var transform = goog.style.getComputedTransform(element);\n  if (!transform) {\n    return new goog.math.Coordinate(0, 0);\n  }\n  var matches = transform.match(goog.style.MATRIX_TRANSLATION_REGEX_);\n  return matches ? new goog.math.Coordinate(parseFloat(matches[1]), parseFloat(matches[2])) : new goog.math.Coordinate(0, 0);\n};\nee.layers.AbstractOverlay = function(tileSource, opt_options) {\n  goog.events.EventTarget.call(this);\n  var options = opt_options || {};\n  this.minZoom = options.minZoom || 0;\n  this.maxZoom = options.maxZoom || 20;\n  if (!window.google || !window.google.maps) {\n    throw Error(\"Google Maps API hasn't been initialized.\");\n  }\n  this.tileSize = options.tileSize || new google.maps.Size(ee.layers.AbstractOverlay.DEFAULT_TILE_EDGE_LENGTH, ee.layers.AbstractOverlay.DEFAULT_TILE_EDGE_LENGTH);\n  this.isPng = \"isPng\" in options ? options.isPng : !0;\n  this.name = options.name;\n  this.opacity = \"opacity\" in options ? options.opacity : 1;\n  this.stats = new module$contents$ee$layers$AbstractOverlayStats_AbstractOverlayStats(tileSource.getUniqueId());\n  this.tilesById = new goog.structs.Map();\n  this.tileCounter = 0;\n  this.tileSource = tileSource;\n  this.handler = new goog.events.EventHandler(this);\n  this.radius = 0;\n};\n$jscomp.inherits(ee.layers.AbstractOverlay, goog.events.EventTarget);\nee.layers.AbstractOverlay.prototype.addTileCallback = function(callback) {\n  return goog.events.listen(this, ee.layers.AbstractOverlay.EventType.TILE_LOAD, callback);\n};\nee.layers.AbstractOverlay.prototype.removeTileCallback = function(callbackId) {\n  goog.events.unlistenByKey(callbackId);\n};\nee.layers.AbstractOverlay.prototype.getLoadingTilesCount = function() {\n  return this.getTileCountForStatus_(ee.layers.AbstractTile.Status.THROTTLED) + this.getTileCountForStatus_(ee.layers.AbstractTile.Status.LOADING) + this.getTileCountForStatus_(ee.layers.AbstractTile.Status.NEW);\n};\nee.layers.AbstractOverlay.prototype.getFailedTilesCount = function() {\n  return this.getTileCountForStatus_(ee.layers.AbstractTile.Status.FAILED);\n};\nee.layers.AbstractOverlay.prototype.getLoadedTilesCount = function() {\n  return this.getTileCountForStatus_(ee.layers.AbstractTile.Status.LOADED);\n};\nee.layers.AbstractOverlay.prototype.setOpacity = function(opacity) {\n  this.opacity = opacity;\n  this.tilesById.forEach(function(tile) {\n    goog.style.setOpacity(tile.div, this.opacity);\n  }, this);\n};\nee.layers.AbstractOverlay.prototype.getTilesById = function() {\n  return this.tilesById;\n};\nee.layers.AbstractOverlay.prototype.getStats = function() {\n  return this.stats;\n};\nee.layers.AbstractOverlay.prototype.getTile = function(coord, zoom, ownerDocument) {\n  var maxCoord = 1 << zoom;\n  if (zoom < this.minZoom || 0 > coord.y || coord.y >= maxCoord) {\n    return ownerDocument.createElement(\"div\");\n  }\n  var x = coord.x % maxCoord;\n  0 > x && (x += maxCoord);\n  var normalizedCoord = new google.maps.Point(x, coord.y), uniqueId = this.getUniqueTileId_(coord, zoom), tile = this.createTile(normalizedCoord, zoom, ownerDocument, uniqueId);\n  tile.tileSize = this.tileSize;\n  goog.style.setOpacity(tile.div, this.opacity);\n  this.tilesById.set(uniqueId, tile);\n  this.registerStatusChangeListener_(tile);\n  this.dispatchEvent(new ee.layers.TileStartEvent(this.getLoadingTilesCount()));\n  this.tileSource.loadTile(tile, (new Date()).getTime() / 1E3);\n  return tile.div;\n};\nee.layers.AbstractOverlay.prototype.releaseTile = function(tileDiv) {\n  var tile = this.tilesById.get(tileDiv.id);\n  this.tilesById.remove(tileDiv.id);\n  tile && (tile.abort(), module$contents$goog$dispose_dispose(tile));\n};\nee.layers.AbstractOverlay.prototype.registerStatusChangeListener_ = function(tile) {\n  this.handler.listen(tile, ee.layers.AbstractTile.EventType.STATUS_CHANGED, function() {\n    var Status = ee.layers.AbstractTile.Status;\n    switch(tile.getStatus()) {\n      case Status.LOADED:\n        this.stats.addTileStats(tile.loadingStartTs_, (new Date()).getTime(), tile.zoom);\n        this.dispatchEvent(new ee.layers.TileLoadEvent(this.getLoadingTilesCount()));\n        break;\n      case Status.THROTTLED:\n        this.stats.incrementThrottleCounter(tile.zoom);\n        this.dispatchEvent(new ee.layers.TileThrottleEvent(tile.sourceUrl));\n        break;\n      case Status.FAILED:\n        this.stats.incrementErrorCounter(tile.zoom);\n        this.dispatchEvent(new ee.layers.TileFailEvent(tile.sourceUrl, tile.errorMessage_));\n        break;\n      case Status.ABORTED:\n        this.dispatchEvent(new ee.layers.TileAbortEvent(this.getLoadingTilesCount()));\n    }\n  });\n};\nee.layers.AbstractOverlay.prototype.getUniqueTileId_ = function(coord, z) {\n  var tileId = [coord.x, coord.y, z, this.tileCounter++].join(\"-\"), sourceId = this.tileSource.getUniqueId();\n  return [tileId, sourceId].join(\"-\");\n};\nee.layers.AbstractOverlay.prototype.disposeInternal = function() {\n  goog.events.EventTarget.prototype.disposeInternal.call(this);\n  this.tilesById.forEach(module$contents$goog$dispose_dispose);\n  this.tilesById.clear();\n  this.tilesById = null;\n  module$contents$goog$dispose_dispose(this.handler);\n  this.tileSource = this.handler = null;\n};\nee.layers.AbstractOverlay.prototype.getTileCountForStatus_ = function(status) {\n  return module$contents$goog$array_count(this.tilesById.getValues(), function(tile) {\n    return tile.getStatus() == status;\n  });\n};\ngoog.exportSymbol(\"ee.layers.AbstractOverlay\", ee.layers.AbstractOverlay);\ngoog.exportProperty(ee.layers.AbstractOverlay.prototype, \"removeTileCallback\", ee.layers.AbstractOverlay.prototype.removeTileCallback);\ngoog.exportProperty(ee.layers.AbstractOverlay.prototype, \"addTileCallback\", ee.layers.AbstractOverlay.prototype.addTileCallback);\nee.layers.AbstractOverlay.EventType = {TILE_FAIL:\"tile-fail\", TILE_ABORT:\"tile-abort\", TILE_THROTTLE:\"tile-throttle\", TILE_LOAD:\"tile-load\", TILE_START:\"tile-start\",};\nee.layers.AbstractOverlay.DEFAULT_TILE_EDGE_LENGTH = 256;\nee.layers.TileLoadEvent = function(loadingTileCount) {\n  goog.events.Event.call(this, ee.layers.AbstractOverlay.EventType.TILE_LOAD);\n  this.loadingTileCount = loadingTileCount;\n};\n$jscomp.inherits(ee.layers.TileLoadEvent, goog.events.Event);\nee.layers.TileStartEvent = function(loadingTileCount) {\n  goog.events.Event.call(this, ee.layers.AbstractOverlay.EventType.TILE_START);\n  this.loadingTileCount = loadingTileCount;\n};\n$jscomp.inherits(ee.layers.TileStartEvent, goog.events.Event);\nee.layers.TileThrottleEvent = function(tileUrl) {\n  goog.events.Event.call(this, ee.layers.AbstractOverlay.EventType.TILE_THROTTLE);\n  this.tileUrl = tileUrl;\n};\n$jscomp.inherits(ee.layers.TileThrottleEvent, goog.events.Event);\nee.layers.TileFailEvent = function(tileUrl, opt_errorMessage) {\n  goog.events.Event.call(this, ee.layers.AbstractOverlay.EventType.TILE_FAIL);\n  this.tileUrl = tileUrl;\n  this.errorMessage = opt_errorMessage;\n};\n$jscomp.inherits(ee.layers.TileFailEvent, goog.events.Event);\nee.layers.TileAbortEvent = function(loadingTileCount) {\n  goog.events.Event.call(this, ee.layers.AbstractOverlay.EventType.TILE_ABORT);\n  this.loadingTileCount = loadingTileCount;\n};\n$jscomp.inherits(ee.layers.TileAbortEvent, goog.events.Event);\nee.layers.AbstractTile = function(coord, zoom, ownerDocument, uniqueId) {\n  goog.events.EventTarget.call(this);\n  this.coord = coord;\n  this.zoom = zoom;\n  this.div = ownerDocument.createElement(\"div\");\n  this.div.id = uniqueId;\n  this.maxRetries = ee.layers.AbstractTile.DEFAULT_MAX_LOAD_RETRIES_;\n  this.renderer = function() {\n  };\n  this.status_ = ee.layers.AbstractTile.Status.NEW;\n  this.retryAttemptCount_ = 0;\n  this.isRetrying_ = !1;\n};\n$jscomp.inherits(ee.layers.AbstractTile, goog.events.EventTarget);\nee.layers.AbstractTile.prototype.getDiv = function() {\n  return this.div;\n};\nee.layers.AbstractTile.prototype.startLoad = function() {\n  var $jscomp$this = this;\n  if (!this.isRetrying_ && this.getStatus() == ee.layers.AbstractTile.Status.LOADING) {\n    throw Error(\"startLoad() can only be invoked once. Use retryLoad() after the first attempt.\");\n  }\n  this.setStatus(ee.layers.AbstractTile.Status.LOADING);\n  this.loadingStartTs_ = (new Date()).getTime();\n  this.xhrIo_ = new goog.net.XhrIo();\n  this.xhrIo_.setResponseType(goog.net.XhrIo.ResponseType.BLOB);\n  this.xhrIo_.listen(goog.net.EventType.COMPLETE, function(event) {\n    var blob = $jscomp$this.xhrIo_.getResponse(), status = $jscomp$this.xhrIo_.getStatus(), HttpStatus = goog.net.HttpStatus;\n    status == HttpStatus.TOO_MANY_REQUESTS && $jscomp$this.setStatus(ee.layers.AbstractTile.Status.THROTTLED);\n    if (HttpStatus.isSuccess(status)) {\n      var sourceResponseHeaders = {};\n      module$contents$goog$object_forEach($jscomp$this.xhrIo_.getResponseHeaders(), function(value, name) {\n        sourceResponseHeaders[name.toLowerCase()] = value;\n      });\n      $jscomp$this.sourceResponseHeaders = sourceResponseHeaders;\n      $jscomp$this.sourceData = blob;\n      $jscomp$this.finishLoad();\n    } else if (blob) {\n      var reader = new goog.fs.FileReader();\n      reader.listen(goog.fs.FileReader.EventType.LOAD_END, function() {\n        $jscomp$this.retryLoad(reader.getResult());\n      }, void 0);\n      reader.readAsText(blob);\n    } else {\n      $jscomp$this.retryLoad(\"Failed to load tile.\");\n    }\n  }, !1);\n  this.xhrIo_.listenOnce(goog.net.EventType.READY, goog.partial(module$contents$goog$dispose_dispose, this.xhrIo_));\n  this.sourceUrl && this.sourceUrl.endsWith(\"&profiling=1\") && (this.sourceUrl = this.sourceUrl.replace(\"&profiling=1\", \"\"), this.xhrIo_.headers.set(module$contents$ee$apiclient_apiclient.PROFILE_REQUEST_HEADER, \"1\"));\n  this.xhrIo_.send(this.sourceUrl, \"GET\");\n};\nee.layers.AbstractTile.prototype.finishLoad = function() {\n  this.renderer(this);\n  this.setStatus(ee.layers.AbstractTile.Status.LOADED);\n};\nee.layers.AbstractTile.prototype.cancelLoad = function() {\n  module$contents$goog$dispose_dispose(this.xhrIo_);\n};\nee.layers.AbstractTile.prototype.retryLoad = function(opt_errorMessage) {\n  var parseError = function(error) {\n    try {\n      if (error = JSON.parse(error), error.error && error.error.message) {\n        return error.error.message;\n      }\n    } catch (e) {\n    }\n    return error;\n  };\n  this.retryAttemptCount_ >= this.maxRetries ? (this.errorMessage_ = parseError(opt_errorMessage), this.setStatus(ee.layers.AbstractTile.Status.FAILED)) : (this.cancelLoad(), setTimeout(goog.bind(function() {\n    this.isDisposed() || (this.isRetrying_ = !0, this.startLoad(), this.isRetrying_ = !1);\n  }, this), 1E3 * Math.pow(2, this.retryAttemptCount_++)));\n};\nee.layers.AbstractTile.prototype.abort = function() {\n  this.cancelLoad();\n  this.getStatus() != ee.layers.AbstractTile.Status.ABORTED && this.getStatus() != ee.layers.AbstractTile.Status.REMOVED && this.setStatus(this.isDone() ? ee.layers.AbstractTile.Status.REMOVED : ee.layers.AbstractTile.Status.ABORTED);\n};\nee.layers.AbstractTile.prototype.isDone = function() {\n  return this.status_ in ee.layers.AbstractTile.DONE_STATUS_SET_;\n};\nee.layers.AbstractTile.prototype.getStatus = function() {\n  return this.status_;\n};\nee.layers.AbstractTile.prototype.setStatus = function(status) {\n  this.status_ = status;\n  this.dispatchEvent(ee.layers.AbstractTile.EventType.STATUS_CHANGED);\n};\nee.layers.AbstractTile.prototype.disposeInternal = function() {\n  goog.events.EventTarget.prototype.disposeInternal.call(this);\n  this.cancelLoad();\n  this.div.remove();\n  this.renderer = null;\n};\nee.layers.AbstractTile.EventType = {STATUS_CHANGED:\"status-changed\"};\nee.layers.AbstractTile.Status = {NEW:\"new\", LOADING:\"loading\", THROTTLED:\"throttled\", LOADED:\"loaded\", FAILED:\"failed\", ABORTED:\"aborted\", REMOVED:\"removed\",};\nee.layers.AbstractTile.DONE_STATUS_SET_ = module$contents$goog$object_createSet(ee.layers.AbstractTile.Status.ABORTED, ee.layers.AbstractTile.Status.FAILED, ee.layers.AbstractTile.Status.LOADED, ee.layers.AbstractTile.Status.REMOVED);\nee.layers.AbstractTile.DEFAULT_MAX_LOAD_RETRIES_ = 5;\nvar module$exports$ee$layers$AbstractTileSource = function() {\n  goog.Disposable.call(this);\n};\n$jscomp.inherits(module$exports$ee$layers$AbstractTileSource, goog.Disposable);\nee.layers.BinaryOverlay = function(tileSource, opt_options) {\n  ee.layers.AbstractOverlay.call(this, tileSource, opt_options);\n  this.buffersByCoord_ = new goog.structs.Map();\n  this.divsByCoord_ = new goog.structs.Map();\n};\n$jscomp.inherits(ee.layers.BinaryOverlay, ee.layers.AbstractOverlay);\nee.layers.BinaryOverlay.prototype.createTile = function(coord, zoom, ownerDocument, uniqueId) {\n  var tile = new ee.layers.BinaryTile(coord, zoom, ownerDocument, uniqueId);\n  this.handler.listen(tile, ee.layers.AbstractTile.EventType.STATUS_CHANGED, function() {\n    tile.getStatus() == ee.layers.AbstractTile.Status.LOADED && (this.buffersByCoord_.set(coord, new Float32Array(tile.buffer_)), this.divsByCoord_.set(coord, tile.div));\n  });\n  return tile;\n};\nee.layers.BinaryOverlay.prototype.getBuffersByCoord = function() {\n  return this.buffersByCoord_;\n};\nee.layers.BinaryOverlay.prototype.getDivsByCoord = function() {\n  return this.divsByCoord_;\n};\nee.layers.BinaryOverlay.prototype.disposeInternal = function() {\n  ee.layers.AbstractOverlay.prototype.disposeInternal.call(this);\n  this.divsByCoord_ = this.buffersByCoord_ = null;\n};\ngoog.exportSymbol(\"ee.layers.BinaryOverlay\", ee.layers.BinaryOverlay);\nee.layers.BinaryTile = function(coord, zoom, ownerDocument, uniqueId) {\n  ee.layers.AbstractTile.call(this, coord, zoom, ownerDocument, uniqueId);\n};\n$jscomp.inherits(ee.layers.BinaryTile, ee.layers.AbstractTile);\nee.layers.BinaryTile.prototype.finishLoad = function() {\n  var reader = new goog.fs.FileReader();\n  reader.listen(goog.fs.FileReader.EventType.LOAD_END, function() {\n    this.buffer_ = reader.getResult();\n    ee.layers.AbstractTile.prototype.finishLoad.call(this);\n  }, void 0, this);\n  reader.readAsArrayBuffer(this.sourceData);\n};\ngoog.net.ImageLoader = function(opt_parent) {\n  goog.events.EventTarget.call(this);\n  this.imageIdToRequestMap_ = {};\n  this.imageIdToImageMap_ = {};\n  this.handler_ = new goog.events.EventHandler(this);\n  this.parent_ = opt_parent;\n  this.completionFired_ = !1;\n};\ngoog.inherits(goog.net.ImageLoader, goog.events.EventTarget);\ngoog.net.ImageLoader.CorsRequestType = {ANONYMOUS:\"anonymous\", USE_CREDENTIALS:\"use-credentials\",};\ngoog.net.ImageLoader.IMAGE_LOAD_EVENTS_ = [goog.events.EventType.LOAD, goog.net.EventType.ABORT, goog.net.EventType.ERROR,];\ngoog.net.ImageLoader.prototype.addImage = function(id, image, opt_corsRequestType) {\n  var src = \"string\" === typeof image ? image : image.src;\n  src && (this.completionFired_ = !1, this.imageIdToRequestMap_[id] = {src:src, corsRequestType:void 0 !== opt_corsRequestType ? opt_corsRequestType : null,});\n};\ngoog.net.ImageLoader.prototype.removeImage = function(id) {\n  delete this.imageIdToRequestMap_[id];\n  var image = this.imageIdToImageMap_[id];\n  image && (delete this.imageIdToImageMap_[id], this.handler_.unlisten(image, goog.net.ImageLoader.IMAGE_LOAD_EVENTS_, this.onNetworkEvent_));\n};\ngoog.net.ImageLoader.prototype.start = function() {\n  var imageIdToRequestMap = this.imageIdToRequestMap_;\n  module$contents$goog$object_getKeys(imageIdToRequestMap).forEach(function(id) {\n    var imageRequest = imageIdToRequestMap[id];\n    imageRequest && (delete imageIdToRequestMap[id], this.loadImage_(imageRequest, id));\n  }, this);\n};\ngoog.net.ImageLoader.prototype.loadImage_ = function(imageRequest, id) {\n  if (!this.isDisposed()) {\n    var image = this.parent_ ? goog.dom.getDomHelper(this.parent_).createDom(goog.dom.TagName.IMG) : new Image();\n    imageRequest.corsRequestType && (image.crossOrigin = imageRequest.corsRequestType);\n    this.handler_.listen(image, goog.net.ImageLoader.IMAGE_LOAD_EVENTS_, this.onNetworkEvent_);\n    this.imageIdToImageMap_[id] = image;\n    image.id = id;\n    image.src = imageRequest.src;\n  }\n};\ngoog.net.ImageLoader.prototype.onNetworkEvent_ = function(evt) {\n  var image = evt.currentTarget;\n  if (image) {\n    if (evt.type == goog.net.EventType.READY_STATE_CHANGE) {\n      if (image.readyState == goog.net.EventType.COMPLETE) {\n        evt.type = goog.events.EventType.LOAD;\n      } else {\n        return;\n      }\n    }\n    \"undefined\" == typeof image.naturalWidth && (evt.type == goog.events.EventType.LOAD ? (image.naturalWidth = image.width, image.naturalHeight = image.height) : (image.naturalWidth = 0, image.naturalHeight = 0));\n    this.removeImage(image.id);\n    this.dispatchEvent({type:evt.type, target:image});\n    this.isDisposed() || this.maybeFireCompletionEvent_();\n  }\n};\ngoog.net.ImageLoader.prototype.maybeFireCompletionEvent_ = function() {\n  module$contents$goog$object_isEmpty(this.imageIdToImageMap_) && module$contents$goog$object_isEmpty(this.imageIdToRequestMap_) && !this.completionFired_ && (this.completionFired_ = !0, this.dispatchEvent(goog.net.EventType.COMPLETE));\n};\ngoog.net.ImageLoader.prototype.disposeInternal = function() {\n  delete this.imageIdToRequestMap_;\n  delete this.imageIdToImageMap_;\n  module$contents$goog$dispose_dispose(this.handler_);\n  goog.net.ImageLoader.superClass_.disposeInternal.call(this);\n};\nee.layers.ImageOverlay = function(tileSource, opt_options) {\n  ee.layers.AbstractOverlay.call(this, tileSource, opt_options);\n};\n$jscomp.inherits(ee.layers.ImageOverlay, ee.layers.AbstractOverlay);\nee.layers.ImageOverlay.prototype.createTile = function(coord, zoom, ownerDocument, uniqueId) {\n  return new ee.layers.ImageTile(coord, zoom, ownerDocument, uniqueId);\n};\ngoog.exportSymbol(\"ee.layers.ImageOverlay\", ee.layers.ImageOverlay);\nee.layers.ImageTile = function(coord, zoom, ownerDocument, uniqueId) {\n  ee.layers.AbstractTile.call(this, coord, zoom, ownerDocument, uniqueId);\n  this.renderer = ee.layers.ImageTile.defaultRenderer_;\n  this.imageLoaderListenerKey_ = this.imageLoader_ = this.imageEl = null;\n  this.objectUrl_ = \"\";\n};\n$jscomp.inherits(ee.layers.ImageTile, ee.layers.AbstractTile);\nee.layers.ImageTile.prototype.finishLoad = function() {\n  try {\n    var safeUrl = goog.html.SafeUrl.fromBlob(this.sourceData);\n    this.objectUrl_ = goog.html.SafeUrl.unwrap(safeUrl);\n    var imageUrl = this.objectUrl_ !== goog.html.SafeUrl.INNOCUOUS_STRING ? this.objectUrl_ : this.sourceUrl;\n  } catch (e) {\n    imageUrl = this.sourceUrl;\n  }\n  this.imageLoader_ = new goog.net.ImageLoader();\n  this.imageLoader_.addImage(this.div.id + \"-image\", imageUrl);\n  this.imageLoaderListenerKey_ = goog.events.listenOnce(this.imageLoader_, ee.layers.ImageTile.IMAGE_LOADER_EVENTS_, function(event) {\n    event.type == goog.events.EventType.LOAD ? (this.imageEl = event.target, ee.layers.AbstractTile.prototype.finishLoad.call(this)) : this.retryLoad();\n  }, void 0, this);\n  this.imageLoader_.start();\n};\nee.layers.ImageTile.prototype.cancelLoad = function() {\n  ee.layers.AbstractTile.prototype.cancelLoad.call(this);\n  this.imageLoader_ && (goog.events.unlistenByKey(this.imageLoaderListenerKey_), module$contents$goog$dispose_dispose(this.imageLoader_));\n};\nee.layers.ImageTile.prototype.disposeInternal = function() {\n  ee.layers.AbstractTile.prototype.disposeInternal.call(this);\n  this.objectUrl_ && URL.revokeObjectURL(this.objectUrl_);\n};\nee.layers.ImageTile.defaultRenderer_ = function(tile) {\n  tile.div.appendChild(tile.imageEl);\n};\nee.layers.ImageTile.IMAGE_LOADER_EVENTS_ = [goog.events.EventType.LOAD, goog.net.EventType.ABORT, goog.net.EventType.ERROR];\ngoog.string.path = {};\ngoog.string.path.baseName = function(path) {\n  var i = path.lastIndexOf(\"/\") + 1;\n  return path.slice(i);\n};\ngoog.string.path.basename = goog.string.path.baseName;\ngoog.string.path.dirname = function(path) {\n  var i = path.lastIndexOf(\"/\") + 1, head = path.slice(0, i);\n  /^\\/+$/.test(head) || (head = head.replace(/\\/+$/, \"\"));\n  return head;\n};\ngoog.string.path.extension = function(path) {\n  var baseName = goog.string.path.baseName(path).replace(/\\.+/g, \".\"), separatorIndex = baseName.lastIndexOf(\".\");\n  return 0 >= separatorIndex ? \"\" : baseName.slice(separatorIndex + 1);\n};\ngoog.string.path.join = function(var_args) {\n  for (var path = arguments[0], i = 1; i < arguments.length; i++) {\n    var arg = arguments[i];\n    path = goog.string.startsWith(arg, \"/\") ? arg : \"\" == path || goog.string.endsWith(path, \"/\") ? path + arg : path + (\"/\" + arg);\n  }\n  return path;\n};\ngoog.string.path.normalizePath = function(path) {\n  if (\"\" == path) {\n    return \".\";\n  }\n  var initialSlashes = \"\";\n  goog.string.startsWith(path, \"/\") && (initialSlashes = \"/\", goog.string.startsWith(path, \"//\") && !goog.string.startsWith(path, \"///\") && (initialSlashes = \"//\"));\n  for (var parts = path.split(\"/\"), newParts = [], i = 0; i < parts.length; i++) {\n    var part = parts[i];\n    \"\" != part && \".\" != part && (\"..\" != part || !initialSlashes && !newParts.length || \"..\" == module$contents$goog$array_peek(newParts) ? newParts.push(part) : newParts.pop());\n  }\n  return initialSlashes + newParts.join(\"/\") || \".\";\n};\ngoog.string.path.split = function(path) {\n  var head = goog.string.path.dirname(path), tail = goog.string.path.baseName(path);\n  return [head, tail];\n};\nvar module$contents$ee$layers$CloudStorageTileSource_CloudStorageTileSource = function(bucket, path, maxZoom, opt_suffix) {\n  module$exports$ee$layers$AbstractTileSource.call(this);\n  this.bucket_ = bucket;\n  this.path_ = path;\n  this.suffix_ = opt_suffix || \"\";\n  this.maxZoom_ = maxZoom;\n};\n$jscomp.inherits(module$contents$ee$layers$CloudStorageTileSource_CloudStorageTileSource, module$exports$ee$layers$AbstractTileSource);\nmodule$contents$ee$layers$CloudStorageTileSource_CloudStorageTileSource.prototype.loadTile = function(tile, opt_priority) {\n  if (tile.zoom <= this.maxZoom_) {\n    tile.sourceUrl = this.getTileUrl_(tile.coord, tile.zoom);\n  } else {\n    var zoomSteps = tile.zoom - this.maxZoom_, zoomFactor = Math.pow(2, zoomSteps), upperCoord = new google.maps.Point(Math.floor(tile.coord.x / zoomFactor), Math.floor(tile.coord.y / zoomFactor));\n    tile.sourceUrl = this.getTileUrl_(upperCoord, tile.zoom - zoomSteps);\n    tile.renderer = goog.partial(module$contents$ee$layers$CloudStorageTileSource_CloudStorageTileSource.zoomTileRenderer_, this.maxZoom_);\n  }\n  var originalRetryLoad = goog.bind(tile.retryLoad, tile);\n  tile.retryLoad = goog.bind(function(opt_errorMessage) {\n    opt_errorMessage && (opt_errorMessage.includes(module$contents$ee$layers$CloudStorageTileSource_CloudStorageTileSource.MISSING_TILE_ERROR_) || opt_errorMessage.includes(module$contents$ee$layers$CloudStorageTileSource_CloudStorageTileSource.ACCESS_DENIED_ERROR_)) ? tile.setStatus(ee.layers.AbstractTile.Status.LOADED) : originalRetryLoad(opt_errorMessage);\n  }, tile);\n  tile.startLoad();\n};\nmodule$contents$ee$layers$CloudStorageTileSource_CloudStorageTileSource.prototype.getUniqueId = function() {\n  return [this.bucket_, this.path_, this.maxZoom_, this.suffix_].join(\"-\");\n};\nmodule$contents$ee$layers$CloudStorageTileSource_CloudStorageTileSource.prototype.getTileUrl_ = function(coord, zoom) {\n  var url = goog.string.path.join(module$contents$ee$layers$CloudStorageTileSource_CloudStorageTileSource.BASE_URL, this.bucket_, this.path_, String(zoom), String(coord.x), String(coord.y));\n  this.suffix_ && (url += this.suffix_);\n  return url;\n};\nmodule$contents$ee$layers$CloudStorageTileSource_CloudStorageTileSource.zoomTileRenderer_ = function(maxZoom, tile) {\n  if (!tile.imageEl) {\n    throw Error(\"Tile must have an image element to be rendered.\");\n  }\n  var zoomFactor = Math.pow(2, tile.zoom - maxZoom), sideLength = tile.tileSize.width, canv = tile.div.ownerDocument.createElement(\"canvas\");\n  canv.setAttribute(\"width\", sideLength);\n  canv.setAttribute(\"height\", sideLength);\n  tile.div.appendChild(canv);\n  var context = canv.getContext(\"2d\");\n  context.imageSmoothingEnabled = !1;\n  context.mozImageSmoothingEnabled = !1;\n  context.webkitImageSmoothingEnabled = !1;\n  context.drawImage(tile.imageEl, sideLength / zoomFactor * (tile.coord.x % zoomFactor), sideLength / zoomFactor * (tile.coord.y % zoomFactor), sideLength / zoomFactor, sideLength / zoomFactor, 0, 0, sideLength, sideLength);\n};\ngoog.exportSymbol(\"ee.layers.CloudStorageTileSource\", module$contents$ee$layers$CloudStorageTileSource_CloudStorageTileSource);\nmodule$contents$ee$layers$CloudStorageTileSource_CloudStorageTileSource.BASE_URL = \"https://storage.googleapis.com\";\nmodule$contents$ee$layers$CloudStorageTileSource_CloudStorageTileSource.MISSING_TILE_ERROR_ = \"The specified key does not exist.\";\nmodule$contents$ee$layers$CloudStorageTileSource_CloudStorageTileSource.ACCESS_DENIED_ERROR_ = \"AccessDenied\";\nee.layers.CloudStorageTileSource = module$contents$ee$layers$CloudStorageTileSource_CloudStorageTileSource;\ngoog.structs.Queue = function() {\n  this.front_ = [];\n  this.back_ = [];\n};\ngoog.structs.Queue.prototype.maybeFlip_ = function() {\n  0 === this.front_.length && (this.front_ = this.back_, this.front_.reverse(), this.back_ = []);\n};\ngoog.structs.Queue.prototype.enqueue = function(element) {\n  this.back_.push(element);\n};\ngoog.structs.Queue.prototype.dequeue = function() {\n  this.maybeFlip_();\n  return this.front_.pop();\n};\ngoog.structs.Queue.prototype.peek = function() {\n  this.maybeFlip_();\n  return module$contents$goog$array_peek(this.front_);\n};\ngoog.structs.Queue.prototype.getCount = function() {\n  return this.front_.length + this.back_.length;\n};\ngoog.structs.Queue.prototype.isEmpty = function() {\n  return 0 === this.front_.length && 0 === this.back_.length;\n};\ngoog.structs.Queue.prototype.clear = function() {\n  this.front_ = [];\n  this.back_ = [];\n};\ngoog.structs.Queue.prototype.contains = function(obj) {\n  return module$contents$goog$array_contains(this.front_, obj) || module$contents$goog$array_contains(this.back_, obj);\n};\ngoog.structs.Queue.prototype.remove = function(obj) {\n  return module$contents$goog$array_removeLast(this.front_, obj) || module$contents$goog$array_remove(this.back_, obj);\n};\ngoog.structs.Queue.prototype.getValues = function() {\n  for (var res = [], i = this.front_.length - 1; 0 <= i; --i) {\n    res.push(this.front_[i]);\n  }\n  var len = this.back_.length;\n  for (i = 0; i < len; ++i) {\n    res.push(this.back_[i]);\n  }\n  return res;\n};\ngoog.structs.Pool = function(opt_minCount, opt_maxCount) {\n  goog.Disposable.call(this);\n  this.minCount_ = opt_minCount || 0;\n  this.maxCount_ = opt_maxCount || 10;\n  if (this.minCount_ > this.maxCount_) {\n    throw Error(goog.structs.Pool.ERROR_MIN_MAX_);\n  }\n  this.freeQueue_ = new goog.structs.Queue();\n  this.inUseSet_ = new goog.structs.Set();\n  this.delay = 0;\n  this.lastAccess = null;\n  this.adjustForMinMax();\n};\ngoog.inherits(goog.structs.Pool, goog.Disposable);\ngoog.structs.Pool.ERROR_MIN_MAX_ = \"[goog.structs.Pool] Min can not be greater than max\";\ngoog.structs.Pool.ERROR_DISPOSE_UNRELEASED_OBJS_ = \"[goog.structs.Pool] Objects not released\";\ngoog.structs.Pool.prototype.setMinimumCount = function(min) {\n  if (min > this.maxCount_) {\n    throw Error(goog.structs.Pool.ERROR_MIN_MAX_);\n  }\n  this.minCount_ = min;\n  this.adjustForMinMax();\n};\ngoog.structs.Pool.prototype.setMaximumCount = function(max) {\n  if (max < this.minCount_) {\n    throw Error(goog.structs.Pool.ERROR_MIN_MAX_);\n  }\n  this.maxCount_ = max;\n  this.adjustForMinMax();\n};\ngoog.structs.Pool.prototype.setDelay = function(delay) {\n  this.delay = delay;\n};\ngoog.structs.Pool.prototype.getObject = function() {\n  var time = Date.now();\n  if (!(null != this.lastAccess && time - this.lastAccess < this.delay)) {\n    var obj = this.removeFreeObject_();\n    obj && (this.lastAccess = time, this.inUseSet_.add(obj));\n    return obj;\n  }\n};\ngoog.structs.Pool.prototype.releaseObject = function(obj) {\n  return this.inUseSet_.remove(obj) ? (this.addFreeObject(obj), !0) : !1;\n};\ngoog.structs.Pool.prototype.removeFreeObject_ = function() {\n  for (var obj; 0 < this.getFreeCount() && (obj = this.freeQueue_.dequeue(), !this.objectCanBeReused(obj));) {\n    this.adjustForMinMax();\n  }\n  !obj && this.getCount() < this.maxCount_ && (obj = this.createObject());\n  return obj;\n};\ngoog.structs.Pool.prototype.addFreeObject = function(obj) {\n  this.inUseSet_.remove(obj);\n  this.objectCanBeReused(obj) && this.getCount() < this.maxCount_ ? this.freeQueue_.enqueue(obj) : this.disposeObject(obj);\n};\ngoog.structs.Pool.prototype.adjustForMinMax = function() {\n  for (var freeQueue = this.freeQueue_; this.getCount() < this.minCount_;) {\n    freeQueue.enqueue(this.createObject());\n  }\n  for (; this.getCount() > this.maxCount_ && 0 < this.getFreeCount();) {\n    this.disposeObject(freeQueue.dequeue());\n  }\n};\ngoog.structs.Pool.prototype.createObject = function() {\n  return {};\n};\ngoog.structs.Pool.prototype.disposeObject = function(obj) {\n  if (\"function\" == typeof obj.dispose) {\n    obj.dispose();\n  } else {\n    for (var i in obj) {\n      obj[i] = null;\n    }\n  }\n};\ngoog.structs.Pool.prototype.objectCanBeReused = function(obj) {\n  return \"function\" == typeof obj.canBeReused ? obj.canBeReused() : !0;\n};\ngoog.structs.Pool.prototype.contains = function(obj) {\n  return this.freeQueue_.contains(obj) || this.inUseSet_.contains(obj);\n};\ngoog.structs.Pool.prototype.getCount = function() {\n  return this.freeQueue_.getCount() + this.inUseSet_.getCount();\n};\ngoog.structs.Pool.prototype.getInUseCount = function() {\n  return this.inUseSet_.getCount();\n};\ngoog.structs.Pool.prototype.getFreeCount = function() {\n  return this.freeQueue_.getCount();\n};\ngoog.structs.Pool.prototype.isEmpty = function() {\n  return this.freeQueue_.isEmpty() && this.inUseSet_.isEmpty();\n};\ngoog.structs.Pool.prototype.disposeInternal = function() {\n  goog.structs.Pool.superClass_.disposeInternal.call(this);\n  if (0 < this.getInUseCount()) {\n    throw Error(goog.structs.Pool.ERROR_DISPOSE_UNRELEASED_OBJS_);\n  }\n  delete this.inUseSet_;\n  for (var freeQueue = this.freeQueue_; !freeQueue.isEmpty();) {\n    this.disposeObject(freeQueue.dequeue());\n  }\n  delete this.freeQueue_;\n};\ngoog.structs.Node = function(key, value) {\n  this.key_ = key;\n  this.value_ = value;\n};\ngoog.structs.Node.prototype.getKey = function() {\n  return this.key_;\n};\ngoog.structs.Node.prototype.getValue = function() {\n  return this.value_;\n};\ngoog.structs.Node.prototype.clone = function() {\n  return new goog.structs.Node(this.key_, this.value_);\n};\nvar module$contents$goog$structs$Heap_Heap = function(opt_heap) {\n  this.nodes_ = [];\n  opt_heap && this.insertAll(opt_heap);\n};\nmodule$contents$goog$structs$Heap_Heap.prototype.insert = function(key, value) {\n  var node = new goog.structs.Node(key, value), nodes = this.nodes_;\n  nodes.push(node);\n  this.moveUp_(nodes.length - 1);\n};\nmodule$contents$goog$structs$Heap_Heap.prototype.insertAll = function(heap) {\n  if (heap instanceof module$contents$goog$structs$Heap_Heap) {\n    var keys = heap.getKeys();\n    var values = heap.getValues();\n    if (0 >= this.getCount()) {\n      for (var nodes = this.nodes_, i = 0; i < keys.length; i++) {\n        nodes.push(new goog.structs.Node(keys[i], values[i]));\n      }\n      return;\n    }\n  } else {\n    keys = module$contents$goog$object_getKeys(heap), values = module$contents$goog$object_getValues(heap);\n  }\n  for (var i$71 = 0; i$71 < keys.length; i$71++) {\n    this.insert(keys[i$71], values[i$71]);\n  }\n};\nmodule$contents$goog$structs$Heap_Heap.prototype.remove = function() {\n  var nodes = this.nodes_, count = nodes.length, rootNode = nodes[0];\n  if (!(0 >= count)) {\n    return 1 == count ? nodes.length = 0 : (nodes[0] = nodes.pop(), this.moveDown_(0)), rootNode.getValue();\n  }\n};\nmodule$contents$goog$structs$Heap_Heap.prototype.peek = function() {\n  var nodes = this.nodes_;\n  if (0 != nodes.length) {\n    return nodes[0].getValue();\n  }\n};\nmodule$contents$goog$structs$Heap_Heap.prototype.peekKey = function() {\n  return this.nodes_[0] && this.nodes_[0].getKey();\n};\nmodule$contents$goog$structs$Heap_Heap.prototype.moveDown_ = function(index) {\n  for (var nodes = this.nodes_, count = nodes.length, node = nodes[index]; index < count >> 1;) {\n    var leftChildIndex = this.getLeftChildIndex_(index), rightChildIndex = this.getRightChildIndex_(index), smallerChildIndex = rightChildIndex < count && nodes[rightChildIndex].getKey() < nodes[leftChildIndex].getKey() ? rightChildIndex : leftChildIndex;\n    if (nodes[smallerChildIndex].getKey() > node.getKey()) {\n      break;\n    }\n    nodes[index] = nodes[smallerChildIndex];\n    index = smallerChildIndex;\n  }\n  nodes[index] = node;\n};\nmodule$contents$goog$structs$Heap_Heap.prototype.moveUp_ = function(index) {\n  for (var nodes = this.nodes_, node = nodes[index]; 0 < index;) {\n    var parentIndex = this.getParentIndex_(index);\n    if (nodes[parentIndex].getKey() > node.getKey()) {\n      nodes[index] = nodes[parentIndex], index = parentIndex;\n    } else {\n      break;\n    }\n  }\n  nodes[index] = node;\n};\nmodule$contents$goog$structs$Heap_Heap.prototype.getLeftChildIndex_ = function(index) {\n  return 2 * index + 1;\n};\nmodule$contents$goog$structs$Heap_Heap.prototype.getRightChildIndex_ = function(index) {\n  return 2 * index + 2;\n};\nmodule$contents$goog$structs$Heap_Heap.prototype.getParentIndex_ = function(index) {\n  return index - 1 >> 1;\n};\nmodule$contents$goog$structs$Heap_Heap.prototype.getValues = function() {\n  for (var nodes = this.nodes_, rv = [], l = nodes.length, i = 0; i < l; i++) {\n    rv.push(nodes[i].getValue());\n  }\n  return rv;\n};\nmodule$contents$goog$structs$Heap_Heap.prototype.getKeys = function() {\n  for (var nodes = this.nodes_, rv = [], l = nodes.length, i = 0; i < l; i++) {\n    rv.push(nodes[i].getKey());\n  }\n  return rv;\n};\nmodule$contents$goog$structs$Heap_Heap.prototype.containsValue = function(val) {\n  return this.nodes_.some(function(node) {\n    return node.getValue() == val;\n  });\n};\nmodule$contents$goog$structs$Heap_Heap.prototype.containsKey = function(key) {\n  return this.nodes_.some(function(node) {\n    return node.getKey() == key;\n  });\n};\nmodule$contents$goog$structs$Heap_Heap.prototype.clone = function() {\n  return new module$contents$goog$structs$Heap_Heap(this);\n};\nmodule$contents$goog$structs$Heap_Heap.prototype.getCount = function() {\n  return this.nodes_.length;\n};\nmodule$contents$goog$structs$Heap_Heap.prototype.isEmpty = function() {\n  return 0 === this.nodes_.length;\n};\nmodule$contents$goog$structs$Heap_Heap.prototype.clear = function() {\n  this.nodes_.length = 0;\n};\ngoog.structs.Heap = module$contents$goog$structs$Heap_Heap;\nvar module$contents$goog$structs$PriorityQueue_PriorityQueue = function() {\n  module$contents$goog$structs$Heap_Heap.apply(this, arguments);\n};\n$jscomp.inherits(module$contents$goog$structs$PriorityQueue_PriorityQueue, module$contents$goog$structs$Heap_Heap);\nmodule$contents$goog$structs$PriorityQueue_PriorityQueue.prototype.enqueue = function(priority, value) {\n  this.insert(priority, value);\n};\nmodule$contents$goog$structs$PriorityQueue_PriorityQueue.prototype.dequeue = function() {\n  return this.remove();\n};\ngoog.structs.PriorityQueue = module$contents$goog$structs$PriorityQueue_PriorityQueue;\ngoog.structs.PriorityPool = function(opt_minCount, opt_maxCount) {\n  this.delayTimeout_ = void 0;\n  this.requestQueue_ = new module$contents$goog$structs$PriorityQueue_PriorityQueue();\n  goog.structs.Pool.call(this, opt_minCount, opt_maxCount);\n};\ngoog.inherits(goog.structs.PriorityPool, goog.structs.Pool);\ngoog.structs.PriorityPool.DEFAULT_PRIORITY_ = 100;\ngoog.structs.PriorityPool.prototype.setDelay = function(delay) {\n  goog.structs.PriorityPool.superClass_.setDelay.call(this, delay);\n  null != this.lastAccess && (goog.global.clearTimeout(this.delayTimeout_), this.delayTimeout_ = goog.global.setTimeout(goog.bind(this.handleQueueRequests_, this), this.delay + this.lastAccess - Date.now()), this.handleQueueRequests_());\n};\ngoog.structs.PriorityPool.prototype.getObject = function(opt_callback, opt_priority) {\n  if (!opt_callback) {\n    var result = goog.structs.PriorityPool.superClass_.getObject.call(this);\n    result && this.delay && (this.delayTimeout_ = goog.global.setTimeout(goog.bind(this.handleQueueRequests_, this), this.delay));\n    return result;\n  }\n  this.requestQueue_.enqueue(void 0 !== opt_priority ? opt_priority : goog.structs.PriorityPool.DEFAULT_PRIORITY_, opt_callback);\n  this.handleQueueRequests_();\n};\ngoog.structs.PriorityPool.prototype.handleQueueRequests_ = function() {\n  for (var requestQueue = this.requestQueue_; 0 < requestQueue.getCount();) {\n    var obj = this.getObject();\n    if (obj) {\n      requestQueue.dequeue().apply(this, [obj]);\n    } else {\n      break;\n    }\n  }\n};\ngoog.structs.PriorityPool.prototype.addFreeObject = function(obj) {\n  goog.structs.PriorityPool.superClass_.addFreeObject.call(this, obj);\n  this.handleQueueRequests_();\n};\ngoog.structs.PriorityPool.prototype.adjustForMinMax = function() {\n  goog.structs.PriorityPool.superClass_.adjustForMinMax.call(this);\n  this.handleQueueRequests_();\n};\ngoog.structs.PriorityPool.prototype.disposeInternal = function() {\n  goog.structs.PriorityPool.superClass_.disposeInternal.call(this);\n  goog.global.clearTimeout(this.delayTimeout_);\n  this.requestQueue_.clear();\n  this.requestQueue_ = null;\n};\nvar module$contents$ee$layers$EarthEngineTileSource_EarthEngineTileSource = function(mapId, opt_profiler) {\n  module$exports$ee$layers$AbstractTileSource.call(this);\n  this.mapId_ = mapId;\n  this.profiler_ = opt_profiler || null;\n};\n$jscomp.inherits(module$contents$ee$layers$EarthEngineTileSource_EarthEngineTileSource, module$exports$ee$layers$AbstractTileSource);\nmodule$contents$ee$layers$EarthEngineTileSource_EarthEngineTileSource.prototype.loadTile = function(tile, opt_priority) {\n  var ProfilerHeader = module$contents$ee$apiclient_apiclient.PROFILE_HEADER.toLowerCase(), key = goog.events.listen(tile, ee.layers.AbstractTile.EventType.STATUS_CHANGED, function() {\n    switch(tile.getStatus()) {\n      case ee.layers.AbstractTile.Status.LOADED:\n        var profileId = tile.sourceResponseHeaders[ProfilerHeader];\n        this.profiler_ && profileId && this.profiler_.addTile(tile.div.id, profileId);\n        break;\n      case ee.layers.AbstractTile.Status.FAILED:\n      case ee.layers.AbstractTile.Status.ABORTED:\n        this.profiler_ && \"\" !== tile.div.id && this.profiler_.removeTile(tile.div.id), goog.events.unlistenByKey(key);\n    }\n  }, void 0, this);\n  tile.sourceUrl = this.getTileUrl_(tile.coord, tile.zoom);\n  var handleAvailableToken = goog.bind(this.handleAvailableToken_, this, tile);\n  module$contents$ee$layers$EarthEngineTileSource_EarthEngineTileSource.getGlobalTokenPool_().getObject(handleAvailableToken, opt_priority);\n};\nmodule$contents$ee$layers$EarthEngineTileSource_EarthEngineTileSource.prototype.getUniqueId = function() {\n  return this.mapId_.mapid + \"-\" + this.mapId_.token;\n};\nmodule$contents$ee$layers$EarthEngineTileSource_EarthEngineTileSource.prototype.handleAvailableToken_ = function(tile, token) {\n  var tokenPool = module$contents$ee$layers$EarthEngineTileSource_EarthEngineTileSource.getGlobalTokenPool_();\n  if (tile.isDisposed() || tile.getStatus() == ee.layers.AbstractTile.Status.ABORTED) {\n    tokenPool.releaseObject(token);\n  } else {\n    var key = goog.events.listen(tile, ee.layers.AbstractTile.EventType.STATUS_CHANGED, function() {\n      tile.isDone() && (goog.events.unlistenByKey(key), tokenPool.releaseObject(token));\n    });\n    tile.startLoad();\n  }\n};\nmodule$contents$ee$layers$EarthEngineTileSource_EarthEngineTileSource.prototype.getTileUrl_ = function(coord, zoom) {\n  var url = ee.data.getTileUrl(this.mapId_, coord.x, coord.y, zoom);\n  return this.profiler_ && this.profiler_.isEnabled() ? url + \"&profiling=1\" : url;\n};\nmodule$contents$ee$layers$EarthEngineTileSource_EarthEngineTileSource.getGlobalTokenPool_ = function() {\n  module$contents$ee$layers$EarthEngineTileSource_EarthEngineTileSource.TOKEN_POOL_ || (module$contents$ee$layers$EarthEngineTileSource_EarthEngineTileSource.TOKEN_POOL_ = new goog.structs.PriorityPool(0, module$contents$ee$layers$EarthEngineTileSource_EarthEngineTileSource.TOKEN_COUNT_));\n  return module$contents$ee$layers$EarthEngineTileSource_EarthEngineTileSource.TOKEN_POOL_;\n};\ngoog.exportSymbol(\"ee.layers.EarthEngineTileSource\", module$contents$ee$layers$EarthEngineTileSource_EarthEngineTileSource);\nmodule$contents$ee$layers$EarthEngineTileSource_EarthEngineTileSource.TOKEN_POOL_ = null;\nmodule$contents$ee$layers$EarthEngineTileSource_EarthEngineTileSource.TOKEN_COUNT_ = 4;\nee.layers.EarthEngineTileSource = module$contents$ee$layers$EarthEngineTileSource_EarthEngineTileSource;\nee.layers.FeatureViewTileSource = {};\nvar module$contents$ee$layers$FeatureViewTileSource_FeatureViewTileSource = function(tilesKey) {\n  module$exports$ee$layers$AbstractTileSource.call(this);\n  this.tilesKey_ = tilesKey;\n};\n$jscomp.inherits(module$contents$ee$layers$FeatureViewTileSource_FeatureViewTileSource, module$exports$ee$layers$AbstractTileSource);\nmodule$contents$ee$layers$FeatureViewTileSource_FeatureViewTileSource.prototype.loadTile = function(tile, opt_priority) {\n  tile.sourceUrl = this.tilesKey_.formatTileUrl(tile.coord.x, tile.coord.y, tile.zoom);\n  tile.startLoad();\n};\nmodule$contents$ee$layers$FeatureViewTileSource_FeatureViewTileSource.prototype.getUniqueId = function() {\n  return this.tilesKey_.token;\n};\ngoog.exportSymbol(\"ee.layers.FeatureViewTileSource\", module$contents$ee$layers$FeatureViewTileSource_FeatureViewTileSource);\nee.layers.FeatureViewTileSource.FeatureViewTileSource = module$contents$ee$layers$FeatureViewTileSource_FeatureViewTileSource;\nee.MapTileManager = function() {\n  goog.events.EventTarget.call(this);\n  this.tokenPool_ = new ee.MapTileManager.TokenPool_(0, 60);\n  this.requests_ = new goog.structs.Map();\n};\n$jscomp.inherits(ee.MapTileManager, goog.events.EventTarget);\nee.MapTileManager.prototype.getOutstandingCount = function() {\n  return this.requests_.getCount();\n};\nee.MapTileManager.prototype.send = function(id, url, opt_priority, opt_imageCompletedCallback, opt_maxRetries) {\n  if (this.requests_.get(id)) {\n    throw Error(ee.MapTileManager.ERROR_ID_IN_USE_);\n  }\n  var request = new ee.MapTileManager.Request_(id, url, opt_imageCompletedCallback, goog.bind(this.releaseRequest_, this), void 0 !== opt_maxRetries ? opt_maxRetries : ee.MapTileManager.MAX_RETRIES);\n  this.requests_.set(id, request);\n  var callback = goog.bind(this.handleAvailableToken_, this, request);\n  this.tokenPool_.getObject(callback, opt_priority);\n  return request;\n};\nee.MapTileManager.prototype.abort = function(id) {\n  var request = this.requests_.get(id);\n  request && (request.setAborted(!0), this.releaseRequest_(request));\n};\nee.MapTileManager.prototype.handleAvailableToken_ = function(request, token) {\n  if (request.getImageLoader() || request.getAborted()) {\n    this.releaseObject_(token);\n  } else {\n    if (request.setToken(token), token.setActive(!0), request.setImageLoader(new goog.net.ImageLoader()), !request.retry()) {\n      throw Error(\"Cannot dispatch first request!\");\n    }\n  }\n};\nee.MapTileManager.prototype.releaseRequest_ = function(request) {\n  this.requests_.remove(request.getId());\n  request.getImageLoader() && (this.releaseObject_(request.getToken()), request.getImageLoader().dispose());\n  request.fireImageEventCallback();\n};\nee.MapTileManager.prototype.releaseObject_ = function(token) {\n  token.setActive(!1);\n  if (!this.tokenPool_.releaseObject(token)) {\n    throw Error(\"Object not released\");\n  }\n};\nee.MapTileManager.prototype.disposeInternal = function() {\n  goog.events.EventTarget.prototype.disposeInternal.call(this);\n  this.tokenPool_.dispose();\n  this.tokenPool_ = null;\n  var requests = this.requests_;\n  module$contents$goog$array_forEach(requests.getValues(), function(value) {\n    value.dispose();\n  });\n  requests.clear();\n  this.requests_ = null;\n};\nee.MapTileManager.getInstance = function() {\n  return goog.singleton.getInstance(ee.MapTileManager);\n};\ngoog.exportSymbol(\"ee.MapTileManager\", ee.MapTileManager);\nee.MapTileManager.MAX_RETRIES = 1;\nee.MapTileManager.ERROR_ID_IN_USE_ = \"[ee.MapTileManager] ID in use\";\nee.MapTileManager.Request_ = function(id, url, opt_imageEventCallback, opt_requestCompleteCallback, opt_maxRetries) {\n  goog.Disposable.call(this);\n  this.id_ = id;\n  this.url_ = url;\n  this.maxRetries_ = void 0 !== opt_maxRetries ? opt_maxRetries : ee.MapTileManager.MAX_RETRIES;\n  this.imageEventCallback_ = opt_imageEventCallback;\n  this.requestCompleteCallback_ = opt_requestCompleteCallback;\n};\n$jscomp.inherits(ee.MapTileManager.Request_, goog.Disposable);\nee.MapTileManager.Request_.prototype.getImageLoader = function() {\n  return this.imageLoader_;\n};\nee.MapTileManager.Request_.prototype.setImageLoader = function(imageLoader) {\n  this.imageLoader_ = imageLoader;\n};\nee.MapTileManager.Request_.prototype.getToken = function() {\n  return this.token_;\n};\nee.MapTileManager.Request_.prototype.setToken = function(token) {\n  this.token_ = token;\n};\nee.MapTileManager.Request_.prototype.addImageEventListener = function() {\n  goog.events.listenOnce(this.imageLoader_, ee.MapTileManager.Request_.IMAGE_LOADER_EVENT_TYPES_, goog.bind(this.handleImageEvent_, this));\n};\nee.MapTileManager.Request_.prototype.fireImageEventCallback = function() {\n  this.imageEventCallback_ && this.imageEventCallback_(this.event_, this.profileId_);\n};\nee.MapTileManager.Request_.prototype.getId = function() {\n  return this.id_;\n};\nee.MapTileManager.Request_.prototype.getUrl = function() {\n  return this.url_;\n};\nee.MapTileManager.Request_.prototype.getMaxRetries = function() {\n  return this.maxRetries_;\n};\nee.MapTileManager.Request_.prototype.getAttemptCount = function() {\n  return this.attemptCount_;\n};\nee.MapTileManager.Request_.prototype.increaseAttemptCount = function() {\n  this.attemptCount_++;\n};\nee.MapTileManager.Request_.prototype.hasReachedMaxRetries = function() {\n  return this.attemptCount_ > this.maxRetries_;\n};\nee.MapTileManager.Request_.prototype.setAborted = function(aborted) {\n  aborted && !this.aborted_ && (this.aborted_ = aborted, this.event_ = new goog.events.Event(goog.net.EventType.ABORT));\n};\nee.MapTileManager.Request_.prototype.getAborted = function() {\n  return this.aborted_;\n};\nee.MapTileManager.Request_.prototype.handleImageEvent_ = function(e) {\n  if (this.getAborted()) {\n    this.markCompleted_();\n  } else {\n    switch(e.type) {\n      case goog.events.EventType.LOAD:\n        this.handleSuccess_(e);\n        this.markCompleted_();\n        break;\n      case goog.net.EventType.ERROR:\n      case goog.net.EventType.ABORT:\n        this.handleError_(e);\n    }\n  }\n};\nee.MapTileManager.Request_.prototype.markCompleted_ = function() {\n  this.requestCompleteCallback_ && this.requestCompleteCallback_(this);\n};\nee.MapTileManager.Request_.prototype.handleSuccess_ = function(e) {\n  this.event_ = e;\n};\nee.MapTileManager.Request_.prototype.handleError_ = function(e) {\n  this.retry() || (this.event_ = e, this.markCompleted_());\n};\nee.MapTileManager.Request_.prototype.disposeInternal = function() {\n  goog.Disposable.prototype.disposeInternal.call(this);\n  delete this.imageEventCallback_;\n  delete this.requestCompleteCallback_;\n};\nee.MapTileManager.Request_.prototype.retry = function() {\n  if (this.hasReachedMaxRetries()) {\n    return !1;\n  }\n  this.increaseAttemptCount();\n  this.imageLoader_.removeImage(this.id_);\n  setTimeout(goog.bind(this.start_, this), 0);\n  return !0;\n};\nee.MapTileManager.Request_.prototype.start_ = function() {\n  if (!this.getAborted()) {\n    var actuallyLoadImage = goog.bind(function(imageUrl) {\n      this.getAborted() || (this.imageLoader_.addImage(this.id_, imageUrl), this.addImageEventListener(), this.imageLoader_.start());\n    }, this), sourceUrl = this.getUrl();\n    if (goog.Uri.parse(sourceUrl).getQueryData().containsKey(\"profiling\")) {\n      var xhrIo = new goog.net.XhrIo();\n      xhrIo.setResponseType(goog.net.XhrIo.ResponseType.BLOB);\n      xhrIo.listen(goog.net.EventType.COMPLETE, goog.bind(function(event) {\n        this.profileId_ = xhrIo.getResponseHeader(module$contents$ee$apiclient_apiclient.PROFILE_HEADER) || null;\n        if (200 <= xhrIo.getStatus() && 300 > xhrIo.getStatus()) {\n          try {\n            var objectUrl = goog.html.SafeUrl.unwrap(goog.html.SafeUrl.fromBlob(xhrIo.getResponse()));\n            var ok = objectUrl !== goog.html.SafeUrl.INNOCUOUS_STRING;\n          } catch (e) {\n          }\n        }\n        actuallyLoadImage(ok ? objectUrl : sourceUrl);\n      }, this));\n      xhrIo.listenOnce(goog.net.EventType.READY, goog.bind(xhrIo.dispose, xhrIo));\n      xhrIo.send(sourceUrl, \"GET\");\n    } else {\n      actuallyLoadImage(sourceUrl);\n    }\n  }\n};\nee.MapTileManager.Request_.prototype.attemptCount_ = 0;\nee.MapTileManager.Request_.prototype.aborted_ = !1;\nee.MapTileManager.Request_.prototype.imageLoader_ = null;\nee.MapTileManager.Request_.prototype.token_ = null;\nee.MapTileManager.Request_.prototype.event_ = null;\nee.MapTileManager.Request_.prototype.profileId_ = null;\nee.MapTileManager.Request_.IMAGE_LOADER_EVENT_TYPES_ = [goog.events.EventType.LOAD, goog.net.EventType.ABORT, goog.net.EventType.ERROR];\nee.MapTileManager.Token_ = function() {\n  goog.Disposable.call(this);\n  this.active_ = !1;\n};\n$jscomp.inherits(ee.MapTileManager.Token_, goog.Disposable);\nee.MapTileManager.Token_.prototype.setActive = function(val) {\n  this.active_ = val;\n};\nee.MapTileManager.Token_.prototype.isActive = function() {\n  return this.active_;\n};\nee.MapTileManager.TokenPool_ = function(opt_minCount, opt_maxCount) {\n  goog.structs.PriorityPool.call(this, opt_minCount, opt_maxCount);\n};\n$jscomp.inherits(ee.MapTileManager.TokenPool_, goog.structs.PriorityPool);\nee.MapTileManager.TokenPool_.prototype.createObject = function() {\n  return new ee.MapTileManager.Token_();\n};\nee.MapTileManager.TokenPool_.prototype.disposeObject = function(obj) {\n  obj.dispose();\n};\nee.MapTileManager.TokenPool_.prototype.objectCanBeReused = function(obj) {\n  return !obj.isDisposed() && !obj.isActive();\n};\nee.MapLayerOverlay = function(url, mapId, token, init, opt_profiler) {\n  ee.AbstractOverlay.call(this, url, mapId, token, init, opt_profiler);\n  this.minZoom = init.minZoom || 0;\n  this.maxZoom = init.maxZoom || 20;\n  if (!window.google || !window.google.maps) {\n    throw Error(\"Google Maps API hasn't been initialized.\");\n  }\n  this.tileSize = init.tileSize || new google.maps.Size(256, 256);\n  this.isPng = void 0 !== init.isPng ? init.isPng : !0;\n  this.name = init.name;\n  this.tiles_ = new goog.structs.Set();\n  this.opacity_ = 1;\n  this.visible_ = !0;\n  this.profiler_ = opt_profiler || null;\n};\n$jscomp.inherits(ee.MapLayerOverlay, ee.AbstractOverlay);\nee.MapLayerOverlay.prototype.addTileCallback = function(callback) {\n  return goog.events.listen(this, ee.AbstractOverlay.EventType.TILE_LOADED, callback);\n};\nee.MapLayerOverlay.prototype.removeTileCallback = function(callbackId) {\n  goog.events.unlistenByKey(callbackId);\n};\nee.MapLayerOverlay.prototype.dispatchTileEvent_ = function() {\n  this.dispatchEvent(new ee.TileEvent(this.tilesLoading.length));\n};\nee.MapLayerOverlay.prototype.getTile = function(coord, zoom, ownerDocument) {\n  var maxCoord;\n  if (zoom < this.minZoom || 0 > coord.y || coord.y >= 1 << zoom) {\n    var img = ownerDocument.createElement(\"IMG\");\n    img.style.width = \"0px\";\n    img.style.height = \"0px\";\n    return img;\n  }\n  var profiling = this.profiler_ && this.profiler_.isEnabled(), tileId = this.getTileId(coord, zoom), src = [this.url, tileId].join(\"/\") + \"?token=\" + this.token;\n  profiling && (src += \"&profiling=1\");\n  var uniqueTileId = [tileId, this.tileCounter, this.token].join(\"/\");\n  this.tileCounter += 1;\n  var div = goog.dom.createDom(goog.dom.TagName.DIV, {id:uniqueTileId}), priority = (new Date()).getTime() / 1E3;\n  this.tilesLoading.push(uniqueTileId);\n  ee.MapTileManager.getInstance().send(uniqueTileId, src, priority, goog.bind(this.handleImageCompleted_, this, div, uniqueTileId));\n  this.dispatchTileEvent_();\n  return div;\n};\nee.MapLayerOverlay.prototype.getLoadedTilesCount = function() {\n  return this.tiles_.getCount();\n};\nee.MapLayerOverlay.prototype.getLoadingTilesCount = function() {\n  return this.tilesLoading.length;\n};\nee.MapLayerOverlay.prototype.releaseTile = function(tileDiv) {\n  ee.MapTileManager.getInstance().abort(tileDiv.id);\n  this.tiles_.remove(goog.dom.getFirstElementChild(tileDiv));\n  \"\" !== tileDiv.id && (this.tilesFailed.remove(tileDiv.id), this.profiler_ && this.profiler_.removeTile(tileDiv.id));\n};\nee.MapLayerOverlay.prototype.setOpacity = function(opacity) {\n  this.opacity_ = opacity;\n  var iter = this.tiles_.__iterator__();\n  goog.iter.forEach(iter, function(tile) {\n    goog.style.setOpacity(tile, opacity);\n  });\n};\nee.MapLayerOverlay.prototype.handleImageCompleted_ = function(div, tileId, e, profileId) {\n  if (e.type == goog.net.EventType.ERROR) {\n    module$contents$goog$array_remove(this.tilesLoading, tileId), this.tilesFailed.add(tileId), this.dispatchEvent(e);\n  } else {\n    module$contents$goog$array_remove(this.tilesLoading, tileId);\n    if (e.target && e.type == goog.events.EventType.LOAD) {\n      var tile = e.target;\n      this.tiles_.add(tile);\n      1 != this.opacity_ && goog.style.setOpacity(tile, this.opacity_);\n      div.appendChild(tile);\n    }\n    this.dispatchTileEvent_();\n  }\n  this.profiler_ && null !== profileId && this.profiler_.addTile(tileId, profileId);\n};\ngoog.exportSymbol(\"ee.MapLayerOverlay\", ee.MapLayerOverlay);\ngoog.exportProperty(ee.MapLayerOverlay.prototype, \"removeTileCallback\", ee.MapLayerOverlay.prototype.removeTileCallback);\ngoog.exportProperty(ee.MapLayerOverlay.prototype, \"addTileCallback\", ee.MapLayerOverlay.prototype.addTileCallback);\ngoog.exportProperty(ee.MapLayerOverlay.prototype, \"getTile\", ee.MapLayerOverlay.prototype.getTile);\ngoog.exportProperty(ee.MapLayerOverlay.prototype, \"setOpacity\", ee.MapLayerOverlay.prototype.setOpacity);\ngoog.exportProperty(ee.MapLayerOverlay.prototype, \"releaseTile\", ee.MapLayerOverlay.prototype.releaseTile);\ngoog.async.Delay = function(listener, opt_interval, opt_handler) {\n  goog.Disposable.call(this);\n  this.listener_ = listener;\n  this.interval_ = opt_interval || 0;\n  this.handler_ = opt_handler;\n  this.callback_ = goog.bind(this.doAction_, this);\n};\ngoog.inherits(goog.async.Delay, goog.Disposable);\ngoog.async.Delay.prototype.id_ = 0;\ngoog.async.Delay.prototype.disposeInternal = function() {\n  goog.async.Delay.superClass_.disposeInternal.call(this);\n  this.stop();\n  delete this.listener_;\n  delete this.handler_;\n};\ngoog.async.Delay.prototype.start = function(opt_interval) {\n  this.stop();\n  this.id_ = goog.Timer.callOnce(this.callback_, void 0 !== opt_interval ? opt_interval : this.interval_);\n};\ngoog.async.Delay.prototype.startIfNotActive = function(opt_interval) {\n  this.isActive() || this.start(opt_interval);\n};\ngoog.async.Delay.prototype.stop = function() {\n  this.isActive() && goog.Timer.clear(this.id_);\n  this.id_ = 0;\n};\ngoog.async.Delay.prototype.fire = function() {\n  this.stop();\n  this.doAction_();\n};\ngoog.async.Delay.prototype.fireIfActive = function() {\n  this.isActive() && this.fire();\n};\ngoog.async.Delay.prototype.isActive = function() {\n  return 0 != this.id_;\n};\ngoog.async.Delay.prototype.doAction_ = function() {\n  this.id_ = 0;\n  this.listener_ && this.listener_.call(this.handler_);\n};\nee.data.Profiler = function(format) {\n  goog.events.EventTarget.call(this);\n  this.format_ = format;\n  this.isEnabled_ = !1;\n  this.lastRefreshToken_ = null;\n  this.profileIds_ = Object.create(null);\n  this.tileProfileIds_ = Object.create(null);\n  this.showInternal_ = !1;\n  this.profileError_ = null;\n  this.throttledRefresh_ = new goog.async.Delay(goog.bind(this.refresh_, this), ee.data.Profiler.DELAY_BEFORE_REFRESH_);\n  this.profileData_ = ee.data.Profiler.getEmptyProfile_(format);\n  this.MAX_RETRY_COUNT_ = 5;\n};\n$jscomp.inherits(ee.data.Profiler, goog.events.EventTarget);\nee.data.Profiler.prototype.isEnabled = function() {\n  return this.isEnabled_;\n};\nee.data.Profiler.prototype.setEnabled = function(value) {\n  this.isEnabled_ = !!value;\n  this.dispatchEvent(new goog.events.Event(ee.data.Profiler.EventType.STATE_CHANGED));\n};\nee.data.Profiler.prototype.isLoading = function() {\n  return null !== this.lastRefreshToken_;\n};\nee.data.Profiler.prototype.isError = function() {\n  return null != this.profileError_;\n};\nee.data.Profiler.prototype.getStatusText = function() {\n  if (this.profileError_) {\n    return this.profileError_;\n  }\n  if (this.lastRefreshToken_) {\n    return \"Loading...\";\n  }\n  var profiles = 0, nonTileProfiles = 0, tileProfiles = 0;\n  module$contents$goog$object_forEach(this.profileIds_, function(refCount) {\n    profiles++;\n    Infinity === refCount ? nonTileProfiles++ : tileProfiles++;\n  }, this);\n  return \"Viewing \" + profiles + \" profiles, \" + nonTileProfiles + \" from API calls and \" + tileProfiles + \" from map tiles.\";\n};\nee.data.Profiler.prototype.getProfileData = function() {\n  return this.profileData_;\n};\nee.data.Profiler.prototype.clearAndDrop = function() {\n  this.profileIds_ = Object.create(null);\n  this.tileProfileIds_ = Object.create(null);\n  this.refresh_();\n};\nee.data.Profiler.prototype.getProfileHook = function() {\n  var profileIds = this.profileIds_;\n  return this.isEnabled_ ? goog.bind(function(profileId) {\n    profileIds[profileId] = Infinity;\n    this.throttledRefresh_.start();\n  }, this) : null;\n};\nee.data.Profiler.prototype.removeProfile_ = function(profileId) {\n  var count = this.profileIds_[profileId];\n  1 < count ? this.profileIds_[profileId]-- : void 0 !== count && (delete this.profileIds_[profileId], this.throttledRefresh_.start());\n};\nee.data.Profiler.prototype.refresh_ = function(retryAttempt) {\n  var $jscomp$this = this;\n  retryAttempt = void 0 === retryAttempt ? 0 : retryAttempt;\n  var marker = {};\n  this.lastRefreshToken_ = marker;\n  var handleResponse = function(result, error) {\n    marker == $jscomp$this.lastRefreshToken_ && (error && \"number\" === typeof retryAttempt && retryAttempt < $jscomp$this.MAX_RETRY_COUNT_ ? goog.Timer.callOnce(goog.bind($jscomp$this.refresh_, $jscomp$this, retryAttempt + 1), 2 * ee.data.Profiler.DELAY_BEFORE_REFRESH_) : ($jscomp$this.profileError_ = error || null, $jscomp$this.profileData_ = error ? ee.data.Profiler.getEmptyProfile_($jscomp$this.format_) : result, $jscomp$this.lastRefreshToken_ = null, $jscomp$this.dispatchEvent(ee.data.Profiler.EventType.STATE_CHANGED), \n    $jscomp$this.dispatchEvent(ee.data.Profiler.EventType.DATA_CHANGED)));\n  }, ids = module$contents$goog$object_getKeys(this.profileIds_);\n  0 === ids.length ? handleResponse(ee.data.Profiler.getEmptyProfile_(this.format_), void 0) : (ee.ApiFunction._apply(this.showInternal_ ? \"Profile.getProfilesInternal\" : \"Profile.getProfiles\", {ids:ids, format:this.format_.toString(),}).getInfo(handleResponse), this.dispatchEvent(ee.data.Profiler.EventType.STATE_CHANGED));\n};\nee.data.Profiler.prototype.addTile = function(tileId, profileId) {\n  this.tileProfileIds_[tileId] || (this.tileProfileIds_[tileId] = profileId, this.profileIds_[profileId] = (this.profileIds_[profileId] || 0) + 1, this.throttledRefresh_.start());\n};\nee.data.Profiler.prototype.removeTile = function(tileId) {\n  var profileId = this.tileProfileIds_[tileId];\n  profileId && (delete this.tileProfileIds_[tileId], this.removeProfile_(profileId));\n};\nee.data.Profiler.prototype.getShowInternal = function() {\n  return this.showInternal_;\n};\nee.data.Profiler.prototype.setShowInternal = function(value) {\n  this.showInternal_ = !!value;\n  this.throttledRefresh_.fire();\n};\nee.data.Profiler.prototype.setParentEventTarget = function(parent) {\n  throw Error(\"not applicable\");\n};\nee.data.Profiler.getEmptyProfile_ = function(format) {\n  switch(format) {\n    case ee.data.Profiler.Format.TEXT:\n      return \"\";\n    case ee.data.Profiler.Format.JSON:\n      return ee.data.Profiler.EMPTY_JSON_PROFILE_;\n    default:\n      throw Error(\"Invalid Profiler data format: \" + format);\n  }\n};\nee.data.Profiler.DELAY_BEFORE_REFRESH_ = 500;\nee.data.Profiler.EMPTY_JSON_PROFILE_ = {cols:[], rows:[]};\nee.data.Profiler.EventType = {STATE_CHANGED:\"statechanged\", DATA_CHANGED:\"datachanged\"};\nee.data.Profiler.Format = function(format) {\n  this.format_ = format;\n};\nee.data.Profiler.Format.prototype.toString = function() {\n  return this.format_;\n};\nee.data.Profiler.Format.TEXT = new ee.data.Profiler.Format(\"text\");\nee.data.Profiler.Format.JSON = new ee.data.Profiler.Format(\"json\");\n(function() {\n  var exportedFnInfo = {}, orderedFnNames = \"ee.ApiFunction.lookup ee.ApiFunction._apply ee.ApiFunction._call ee.batch.Export.table.toCloudStorage ee.batch.Export.table.toDrive ee.batch.Export.table.toFeatureView ee.batch.Export.table.toAsset ee.batch.Export.videoMap.toCloudStorage ee.batch.Export.image.toAsset ee.batch.Export.video.toDrive ee.batch.Export.map.toCloudStorage ee.batch.Export.image.toCloudStorage ee.batch.Export.video.toCloudStorage ee.batch.Export.image.toDrive ee.batch.Export.classifier.toAsset ee.Collection.prototype.filterMetadata ee.Collection.prototype.iterate ee.Collection.prototype.map ee.Collection.prototype.limit ee.Collection.prototype.filter ee.Collection.prototype.filterDate ee.Collection.prototype.filterBounds ee.Collection.prototype.sort ee.ComputedObject.prototype.evaluate ee.ComputedObject.prototype.aside ee.ComputedObject.prototype.serialize ee.ComputedObject.prototype.getInfo ee.data.authenticateViaOauth ee.data.getVideoThumbId ee.data.cancelTask ee.data.getMapId ee.data.getFilmstripThumbId ee.data.makeThumbUrl ee.data.updateAsset ee.data.startIngestion ee.data.getTileUrl ee.data.updateTask ee.data.authenticate ee.data.getList ee.data.startProcessing ee.data.setAssetAcl ee.data.listAssets ee.data.authenticateViaPopup ee.data.getDownloadId ee.data.setAssetProperties ee.data.getFeatureViewTilesKey ee.data.authenticateViaPrivateKey ee.data.listImages ee.data.makeDownloadUrl ee.data.startTableIngestion ee.data.getAssetRootQuota ee.data.listFeatures ee.data.getTableDownloadId ee.data.listBuckets ee.data.getAsset ee.data.computeValue ee.data.makeTableDownloadUrl ee.data.getAssetRoots ee.data.getWorkloadTag ee.data.getInfo ee.data.newTaskId ee.data.createAssetHome ee.data.setWorkloadTag ee.data.getThumbId ee.data.setDefaultWorkloadTag ee.data.createAsset ee.data.getTaskStatus ee.data.resetWorkloadTag ee.data.createFolder ee.data.getTaskList ee.data.renameAsset ee.data.getTaskListWithLimit ee.data.copyAsset ee.data.listOperations ee.data.deleteAsset ee.data.cancelOperation ee.data.getAssetAcl ee.data.getOperation ee.Date ee.Deserializer.decodeCloudApi ee.Deserializer.decode ee.Deserializer.fromCloudApiJSON ee.Deserializer.fromJSON ee.Dictionary ee.reset ee.InitState ee.Algorithms ee.initialize ee.call ee.apply ee.TILE_SIZE ee.Element.prototype.set ee.Feature ee.Feature.prototype.getMap ee.Feature.prototype.getInfo ee.FeatureCollection.prototype.select ee.FeatureCollection ee.FeatureCollection.prototype.getInfo ee.FeatureCollection.prototype.getMap ee.FeatureCollection.prototype.getDownloadURL ee.Filter.lt ee.Filter.and ee.Filter.gte ee.Filter.or ee.Filter.date ee.Filter ee.Filter.prototype.not ee.Filter.inList ee.Filter.metadata ee.Filter.eq ee.Filter.neq ee.Filter.gt ee.Filter.bounds ee.Filter.lte ee.Function.prototype.apply ee.Function.prototype.call ee.Geometry.Polygon ee.Geometry.prototype.toGeoJSON ee.Geometry.prototype.toGeoJSONString ee.Geometry.Point ee.Geometry.BBox ee.Geometry.LinearRing ee.Geometry ee.Geometry.prototype.serialize ee.Geometry.MultiPoint ee.Geometry.MultiPolygon ee.Geometry.MultiLineString ee.Geometry.Rectangle ee.Geometry.LineString ee.Image ee.Image.prototype.rename ee.Image.prototype.getMap ee.Image.prototype.getDownloadURL ee.Image.rgb ee.Image.prototype.getInfo ee.Image.prototype.getThumbURL ee.Image.prototype.getThumbId ee.Image.prototype.clip ee.Image.prototype.select ee.Image.prototype.expression ee.Image.cat ee.ImageCollection.prototype.getFilmstripThumbURL ee.ImageCollection.prototype.getVideoThumbURL ee.ImageCollection.prototype.getMap ee.ImageCollection.prototype.getInfo ee.ImageCollection.prototype.select ee.ImageCollection.prototype.first ee.ImageCollection ee.List ee.Number ee.Serializer.toReadableCloudApiJSON ee.Serializer.encodeCloudApiPretty ee.Serializer.toCloudApiJSON ee.Serializer.encode ee.Serializer.toJSON ee.Serializer.toReadableJSON ee.Serializer.encodeCloudApi ee.String ee.Terrain\".split(\" \"), \n  orderedParamLists = [[\"name\"], [\"name\", \"namedArgs\"], [\"name\", \"var_args\"], \"collection opt_description opt_bucket opt_fileNamePrefix opt_fileFormat opt_selectors opt_maxVertices\".split(\" \"), \"collection opt_description opt_folder opt_fileNamePrefix opt_fileFormat opt_selectors opt_maxVertices\".split(\" \"), \"collection opt_description opt_assetId opt_maxFeaturesPerTile opt_thinningStrategy opt_thinningRanking opt_zOrderRanking\".split(\" \"), [\"collection\", \"opt_description\", \"opt_assetId\", \"opt_maxVertices\"], \n  \"collection opt_description opt_bucket opt_fileNamePrefix opt_framesPerSecond opt_writePublicTiles opt_minZoom opt_maxZoom opt_scale opt_region opt_skipEmptyTiles opt_minTimeMachineZoomSubset opt_maxTimeMachineZoomSubset opt_tileWidth opt_tileHeight opt_tileStride opt_videoFormat opt_version opt_mapsApiKey opt_bucketCorsUris\".split(\" \"), \"image opt_description opt_assetId opt_pyramidingPolicy opt_dimensions opt_region opt_scale opt_crs opt_crsTransform opt_maxPixels opt_shardSize\".split(\" \"), \"collection opt_description opt_folder opt_fileNamePrefix opt_framesPerSecond opt_dimensions opt_region opt_scale opt_crs opt_crsTransform opt_maxPixels opt_maxFrames\".split(\" \"), \n  \"image opt_description opt_bucket opt_fileFormat opt_path opt_writePublicTiles opt_scale opt_maxZoom opt_minZoom opt_region opt_skipEmptyTiles opt_mapsApiKey opt_bucketCorsUris\".split(\" \"), \"image opt_description opt_bucket opt_fileNamePrefix opt_dimensions opt_region opt_scale opt_crs opt_crsTransform opt_maxPixels opt_shardSize opt_fileDimensions opt_skipEmptyTiles opt_fileFormat opt_formatOptions\".split(\" \"), \"collection opt_description opt_bucket opt_fileNamePrefix opt_framesPerSecond opt_dimensions opt_region opt_scale opt_crs opt_crsTransform opt_maxPixels opt_maxFrames\".split(\" \"), \n  \"image opt_description opt_folder opt_fileNamePrefix opt_dimensions opt_region opt_scale opt_crs opt_crsTransform opt_maxPixels opt_shardSize opt_fileDimensions opt_skipEmptyTiles opt_fileFormat opt_formatOptions\".split(\" \"), [\"classifier\", \"opt_description\", \"opt_assetId\"], [\"name\", \"operator\", \"value\"], [\"algorithm\", \"opt_first\"], [\"algorithm\", \"opt_dropNulls\"], [\"max\", \"opt_property\", \"opt_ascending\"], [\"filter\"], [\"start\", \"opt_end\"], [\"geometry\"], [\"property\", \"opt_ascending\"], [\"callback\"], \n  [\"func\", \"var_args\"], [\"legacy\"], [\"opt_callback\"], \"clientId success opt_error opt_extraScopes opt_onImmediateFailed opt_suppressDefaultScopes\".split(\" \"), [\"params\", \"opt_callback\"], [\"taskId\", \"opt_callback\"], [\"params\", \"opt_callback\"], [\"params\", \"opt_callback\"], [\"id\"], [\"assetId\", \"asset\", \"updateFields\", \"opt_callback\"], [\"taskId\", \"request\", \"opt_callback\"], [\"id\", \"x\", \"y\", \"z\"], [\"taskId\", \"action\", \"opt_callback\"], [\"clientId\", \"success\", \"opt_error\", \"opt_extraScopes\", \"opt_onImmediateFailed\"], \n  [\"params\", \"opt_callback\"], [\"taskId\", \"params\", \"opt_callback\"], [\"assetId\", \"aclUpdate\", \"opt_callback\"], [\"parent\", \"opt_params\", \"opt_callback\"], [\"opt_success\", \"opt_error\"], [\"params\", \"opt_callback\"], [\"assetId\", \"properties\", \"opt_callback\"], [\"params\", \"opt_callback\"], [\"privateKey\", \"opt_success\", \"opt_error\", \"opt_extraScopes\", \"opt_suppressDefaultScopes\"], [\"parent\", \"opt_params\", \"opt_callback\"], [\"id\"], [\"taskId\", \"request\", \"opt_callback\"], [\"rootId\", \"opt_callback\"], [\"asset\", \"params\", \n  \"opt_callback\"], [\"params\", \"opt_callback\"], [\"project\", \"opt_callback\"], [\"id\", \"opt_callback\"], [\"obj\", \"opt_callback\"], [\"id\"], [\"opt_callback\"], [], [\"id\", \"opt_callback\"], [\"opt_count\", \"opt_callback\"], [\"requestedId\", \"opt_callback\"], [\"tag\"], [\"params\", \"opt_callback\"], [\"tag\"], [\"value\", \"opt_path\", \"opt_force\", \"opt_properties\", \"opt_callback\"], [\"taskId\", \"opt_callback\"], [\"opt_resetDefault\"], [\"path\", \"opt_force\", \"opt_callback\"], [\"opt_callback\"], [\"sourceId\", \"destinationId\", \"opt_callback\"], \n  [\"opt_limit\", \"opt_callback\"], [\"sourceId\", \"destinationId\", \"opt_overwrite\", \"opt_callback\"], [\"opt_limit\", \"opt_callback\"], [\"assetId\", \"opt_callback\"], [\"operationName\", \"opt_callback\"], [\"assetId\", \"opt_callback\"], [\"operationName\", \"opt_callback\"], [\"date\", \"opt_tz\"], [\"json\"], [\"json\"], [\"json\"], [\"json\"], [\"opt_dict\"], [], [], [], \"opt_baseurl opt_tileurl opt_successCallback opt_errorCallback opt_xsrfToken opt_project\".split(\" \"), [\"func\", \"var_args\"], [\"func\", \"namedArgs\"], [], [\"var_args\"], \n  [\"geometry\", \"opt_properties\"], [\"opt_visParams\", \"opt_callback\"], [\"opt_callback\"], [\"propertySelectors\", \"opt_newProperties\", \"opt_retainGeometry\"], [\"args\", \"opt_column\"], [\"opt_callback\"], [\"opt_visParams\", \"opt_callback\"], [\"opt_format\", \"opt_selectors\", \"opt_filename\", \"opt_callback\"], [\"name\", \"value\"], [\"var_args\"], [\"name\", \"value\"], [\"var_args\"], [\"start\", \"opt_end\"], [\"opt_filter\"], [], [\"opt_leftField\", \"opt_rightValue\", \"opt_rightField\", \"opt_leftValue\"], [\"name\", \"operator\", \"value\"], \n  [\"name\", \"value\"], [\"name\", \"value\"], [\"name\", \"value\"], [\"geometry\", \"opt_errorMargin\"], [\"name\", \"value\"], [\"namedArgs\"], [\"var_args\"], [\"coords\", \"opt_proj\", \"opt_geodesic\", \"opt_maxError\", \"opt_evenOdd\"], [], [], [\"coords\", \"opt_proj\"], [\"west\", \"south\", \"east\", \"north\"], [\"coords\", \"opt_proj\", \"opt_geodesic\", \"opt_maxError\"], [\"geoJson\", \"opt_proj\", \"opt_geodesic\", \"opt_evenOdd\"], [\"legacy\"], [\"coords\", \"opt_proj\"], [\"coords\", \"opt_proj\", \"opt_geodesic\", \"opt_maxError\", \"opt_evenOdd\"], [\"coords\", \n  \"opt_proj\", \"opt_geodesic\", \"opt_maxError\"], [\"coords\", \"opt_proj\", \"opt_geodesic\", \"opt_evenOdd\"], [\"coords\", \"opt_proj\", \"opt_geodesic\", \"opt_maxError\"], [\"opt_args\"], [\"var_args\"], [\"opt_visParams\", \"opt_callback\"], [\"params\", \"opt_callback\"], [\"r\", \"g\", \"b\"], [\"opt_callback\"], [\"params\", \"opt_callback\"], [\"params\", \"opt_callback\"], [\"geometry\"], [\"var_args\"], [\"expression\", \"opt_map\"], [\"var_args\"], [\"params\", \"opt_callback\"], [\"params\", \"opt_callback\"], [\"opt_visParams\", \"opt_callback\"], [\"opt_callback\"], \n  [\"selectors\", \"opt_names\"], [], [\"args\"], [\"list\"], [\"number\"], [\"obj\"], [\"obj\"], [\"obj\"], [\"obj\", \"opt_isCompound\"], [\"obj\"], [\"obj\"], [\"obj\"], [\"string\"], []];\n  [ee.ApiFunction.lookup, ee.ApiFunction._apply, ee.ApiFunction._call, module$contents$ee$batch_Export.table.toCloudStorage, module$contents$ee$batch_Export.table.toDrive, module$contents$ee$batch_Export.table.toFeatureView, module$contents$ee$batch_Export.table.toAsset, module$contents$ee$batch_Export.videoMap.toCloudStorage, module$contents$ee$batch_Export.image.toAsset, module$contents$ee$batch_Export.video.toDrive, module$contents$ee$batch_Export.map.toCloudStorage, module$contents$ee$batch_Export.image.toCloudStorage, \n  module$contents$ee$batch_Export.video.toCloudStorage, module$contents$ee$batch_Export.image.toDrive, module$contents$ee$batch_Export.classifier.toAsset, ee.Collection.prototype.filterMetadata, ee.Collection.prototype.iterate, ee.Collection.prototype.map, ee.Collection.prototype.limit, ee.Collection.prototype.filter, ee.Collection.prototype.filterDate, ee.Collection.prototype.filterBounds, ee.Collection.prototype.sort, ee.ComputedObject.prototype.evaluate, ee.ComputedObject.prototype.aside, ee.ComputedObject.prototype.serialize, \n  ee.ComputedObject.prototype.getInfo, ee.data.authenticateViaOauth, ee.data.getVideoThumbId, ee.data.cancelTask, ee.data.getMapId, ee.data.getFilmstripThumbId, ee.data.makeThumbUrl, ee.data.updateAsset, ee.data.startIngestion, ee.data.getTileUrl, ee.data.updateTask, ee.data.authenticate, ee.data.getList, ee.data.startProcessing, ee.data.setAssetAcl, ee.data.listAssets, ee.data.authenticateViaPopup, ee.data.getDownloadId, ee.data.setAssetProperties, ee.data.getFeatureViewTilesKey, ee.data.authenticateViaPrivateKey, \n  ee.data.listImages, ee.data.makeDownloadUrl, ee.data.startTableIngestion, ee.data.getAssetRootQuota, ee.data.listFeatures, ee.data.getTableDownloadId, ee.data.listBuckets, ee.data.getAsset, ee.data.computeValue, ee.data.makeTableDownloadUrl, ee.data.getAssetRoots, ee.data.getWorkloadTag, ee.data.getInfo, ee.data.newTaskId, ee.data.createAssetHome, ee.data.setWorkloadTag, ee.data.getThumbId, ee.data.setDefaultWorkloadTag, ee.data.createAsset, ee.data.getTaskStatus, ee.data.resetWorkloadTag, ee.data.createFolder, \n  ee.data.getTaskList, ee.data.renameAsset, ee.data.getTaskListWithLimit, ee.data.copyAsset, ee.data.listOperations, ee.data.deleteAsset, ee.data.cancelOperation, ee.data.getAssetAcl, ee.data.getOperation, ee.Date, ee.Deserializer.decodeCloudApi, ee.Deserializer.decode, ee.Deserializer.fromCloudApiJSON, ee.Deserializer.fromJSON, ee.Dictionary, ee.reset, ee.InitState, ee.Algorithms, ee.initialize, ee.call, ee.apply, ee.TILE_SIZE, ee.Element.prototype.set, ee.Feature, ee.Feature.prototype.getMap, ee.Feature.prototype.getInfo, \n  ee.FeatureCollection.prototype.select, ee.FeatureCollection, ee.FeatureCollection.prototype.getInfo, ee.FeatureCollection.prototype.getMap, ee.FeatureCollection.prototype.getDownloadURL, ee.Filter.lt, ee.Filter.and, ee.Filter.gte, ee.Filter.or, ee.Filter.date, ee.Filter, ee.Filter.prototype.not, ee.Filter.inList, ee.Filter.metadata, ee.Filter.eq, ee.Filter.neq, ee.Filter.gt, ee.Filter.bounds, ee.Filter.lte, ee.Function.prototype.apply, ee.Function.prototype.call, ee.Geometry.Polygon, ee.Geometry.prototype.toGeoJSON, \n  ee.Geometry.prototype.toGeoJSONString, ee.Geometry.Point, ee.Geometry.BBox, ee.Geometry.LinearRing, ee.Geometry, ee.Geometry.prototype.serialize, ee.Geometry.MultiPoint, ee.Geometry.MultiPolygon, ee.Geometry.MultiLineString, ee.Geometry.Rectangle, ee.Geometry.LineString, ee.Image, ee.Image.prototype.rename, ee.Image.prototype.getMap, ee.Image.prototype.getDownloadURL, ee.Image.rgb, ee.Image.prototype.getInfo, ee.Image.prototype.getThumbURL, ee.Image.prototype.getThumbId, ee.Image.prototype.clip, \n  ee.Image.prototype.select, ee.Image.prototype.expression, ee.Image.cat, ee.ImageCollection.prototype.getFilmstripThumbURL, ee.ImageCollection.prototype.getVideoThumbURL, ee.ImageCollection.prototype.getMap, ee.ImageCollection.prototype.getInfo, ee.ImageCollection.prototype.select, ee.ImageCollection.prototype.first, ee.ImageCollection, ee.List, ee.Number, ee.Serializer.toReadableCloudApiJSON, ee.Serializer.encodeCloudApiPretty, ee.Serializer.toCloudApiJSON, ee.Serializer.encode, ee.Serializer.toJSON, \n  ee.Serializer.toReadableJSON, ee.Serializer.encodeCloudApi, ee.String, ee.Terrain].forEach(function(fn, i) {\n    fn && (exportedFnInfo[fn.toString()] = {name:orderedFnNames[i], paramNames:orderedParamLists[i]});\n  });\n  goog.global.EXPORTED_FN_INFO = exportedFnInfo;\n})();\n\ngoog.global = window;\ngoog.Timer.defaultTimerObject = window;\nmodule.exports = ee;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGdvb2dsZS9lYXJ0aGVuZ2luZS9idWlsZC9icm93c2VyLmpzLmpzIiwibWFwcGluZ3MiOiJBQUFBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUMsZ0NBQWdDLEdBQUc7QUFDdEU7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0xBQWtMLHFCQUFNLElBQUkscUJBQU0sV0FBVyw0QkFBNEI7QUFDek87QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtRUFBbUUsc0JBQXNCO0FBQ3pGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUVBQXlFLHlDQUF5QztBQUNsSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixzQkFBc0I7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkRBQTJELHlDQUF5QztBQUNwRyxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQSx1RkFBdUYseUNBQXlDO0FBQ2hJO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpREFBaUQsb0RBQW9EO0FBQ3JHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4TUFBOE0sdUJBQXVCO0FBQ3JPO0FBQ0EsNEtBQTRLO0FBQzVLO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3Qiw0QkFBNEI7QUFDcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixzQkFBc0I7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsMkNBQTJDO0FBQ2hFO0FBQ0EsV0FBVyxLQUFLO0FBQ2hCO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCO0FBQzVCO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QjtBQUM1QjtBQUNBO0FBQ0E7QUFDQSw0QkFBNEI7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLDRCQUE0QjtBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2QsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLDBCQUEwQjtBQUNuQztBQUNBO0FBQ0E7QUFDQSx1Q0FBdUM7QUFDdkM7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFD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Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsZ0NBQWdDO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0dBQXdHLGFBQWE7QUFDckg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdFQUF3RSxxQkFBcUI7QUFDN0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0VBQWtFLG1EQUFtRDtBQUNySDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFD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QUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBHQUEwRyxzQ0FBc0M7QUFDaEo7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUVBQXVFO0FBQ3ZFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5REFBeUQ7QUFDekQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQztBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLG1CQUFtQjtBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0osMEJBQTBCLFFBQVE7QUFDbEM7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQixRQUFRO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUMsUUFBUTtBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdDQUF3QztBQUN4Qyx3Q0FBd0M7QUFDeEM7QUFDQTtBQUNBLGtFQUFrRSx1SUFBdUk7QUFDek07QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0xBQWtMO0FBQ2xMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLHNCQUFzQjtBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQix5REFBeUQ7QUFDN0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLFNBQVMsZUFBZTtBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsU0FBUyxlQUFlO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLGVBQWUsOEhBQThIO0FBQ3ZLLCtEQUErRCxrQkFBa0I7QUFDakY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlIQUF5SCxpQkFBaUI7QUFDMUk7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNERBQTRELDBCQUEwQjtBQUN0RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLDBCQUEwQjtBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLDBCQUEwQjtBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxrQkFBa0IsMEJBQTBCO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQztBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixpQkFBaUI7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBLElBQUk7QUFDSjtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixpQkFBaUI7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLGlCQUFpQjtBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0VBQXdFLHNCQUFzQjtBQUM5RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IsMEJBQTBCO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLFVBQVU7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQiwwQkFBMEI7QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0NBQStDLHNDQUFzQztBQUNyRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsNERBQTREO0FBQzVFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQixpQ0FBaUM7QUFDcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMseUNBQXlDO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLFFBQVE7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QixZQUFZO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsWUFBWTtBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixZQUFZO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHLHFFQUFxRSxpQkFBaUI7QUFDekY7QUFDQTtBQUNBLGtCQUFrQixpQkFBaUI7QUFDbkM7QUFDQTtBQUNBLGNBQWMsY0FBYztBQUM1QixnQkFBZ0IsY0FBYztBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLGVBQWU7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpREFBaUQsc0JBQXNCO0FBQ3ZFO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0osd0RBQXdEO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxzREFBc0Q7QUFDdEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzREFBc0Q7QUFDdEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EscUNBQXFDO0FBQ3JDO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU8sMkJBQTJCLFFBQVE7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbURBQW1ELDBCQUEwQjtBQUM3RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZFQUE2RSwwQkFBMEI7QUFDdkc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMsa0NBQWtDO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsNkJBQTZCO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUNBQXFDLHNCQUFzQjtBQUMzRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNEQUFzRCxZQUFZO0FBQ2xFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFD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Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FB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QUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxUUFBcVEsbUJBQW1CO0FBQ3hSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMENBQTBDO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFFQUFxRSxFQUFFLDhCQUE4QixLQUFLO0FBQzFHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLHNDQUFzQyxFQUFFO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNFQUFzRTtBQUN0RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkVBQTJFLDZDQUE2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O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQThDLElBQUk7QUFDbEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUI7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0hBQXNILDhDQUE4QztBQUNwSztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFD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QUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQztBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhHQUE4RyxzQkFBc0I7QUFDcEk7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNEQUFzRCxFQUFFO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrSEFBa0gsaUJBQWlCO0FBQ25JO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRFQUE0RSxpQkFBaUI7QUFDN0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7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QUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLHNCQUFzQixhQUFhO0FBQ2hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLGFBQWE7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLGtDQUFrQztBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQixpQkFBaUI7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlLQUFpSyxVQUFVO0FBQzNLLDRFQUE0RSxhQUFhO0FBQ3pGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9EQUFvRCxtQkFBbUI7QUFDdkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0Isd0JBQXdCO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNB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Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLDBDQUEwQztBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUI7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFD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O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlHQUF5Ryx3Q0FBd0M7QUFDako7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUMsdUxBQXVMLGdDQUFnQztBQUN4UDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtEQUFrRCx3Q0FBd0M7QUFDMUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0hBQWdIO0FBQ2hIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsK0JBQStCO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlDQUF5QyxnTUFBZ007QUFDek87QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QixPQUFPO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0MsNkNBQTZDO0FBQy9FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQiw2Q0FBNkM7QUFDL0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLE9BQU87QUFDakM7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FB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QUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QixvRUFBb0UseUJBQXlCO0FBQzFIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNB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QSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUcsWUFBWSxxQ0FBcUM7QUFDcEQ7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFFQUFxRSxpQ0FBaUM7QUFDdEc7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7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O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QjtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEI7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBLHNCQUFzQjtBQUN0QjtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IseUNBQXlDO0FBQ3pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0I7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNB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QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLHNCQUFzQjtBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsNEZBQTRGO0FBQ3RIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7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QUFnQjtBQUNoQjtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0EsSUFBSTtBQUNKO0FBQ0EsSUFBSTtBQUNKO0FBQ0EsSUFBSTtBQUNKO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtB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QUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJHQUEyRyxzQkFBc0I7QUFDakk7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSixZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbU5BQW1OLHlCQUF5QjtBQUM1TztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlQQUF5UCxvQ0FBb0M7QUFDN1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQyw2QkFBNkI7QUFDL0Q7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKLGdCQUFnQiw2QkFBNkI7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQ0FBcUM7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5Q0FBeUM7QUFDekMsOENBQThDO0FBQzlDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrREFBK0QseUJBQXlCLGtCQUFrQixjQUFjLFVBQVUsU0FBUyxTQUFTLFdBQVcsRUFBRTtBQUNqSztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQjtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrREFBK0Q7QUFDL0QsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQ0FBMEMsa0JBQWtCLE1BQU0sWUFBWTtBQUM5RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1Q0FBdUM7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DO0FBQ3BDLGlDQUFpQztBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0NBQXdDO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBLHVFQUF1RSxzRkFBc0Y7QUFDN0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsNEJBQTRCO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVDQUF1QyxzQkFBc0I7QUFDN0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBEQUEwRCxrQkFBa0I7QUFDNUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FB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QUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNEQUFzRCxnQkFBZ0I7QUFDdEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILG1NQUFtTSx5Q0FBeUM7QUFDNU87QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdDQUF3QztBQUN4Qyw4QkFBOEI7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRDQUE0Qyx3REFBd0Q7QUFDcEcsR0FBRztBQUNIO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9qc3Byb2pfZ3JhcGVwcm9zcGVyaXR5Ly4vbm9kZV9tb2R1bGVzL0Bnb29nbGUvZWFydGhlbmdpbmUvYnVpbGQvYnJvd3Nlci5qcz85ZGZkIl0sInNvdXJjZXNDb250ZW50IjpbIi8qXG5cbiBDb3B5cmlnaHQgVGhlIENsb3N1cmUgTGlicmFyeSBBdXRob3JzLlxuIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG4qL1xudmFyIGlzQ2hyb21lODcsICRqc2NvbXAgPSAkanNjb21wIHx8IHt9O1xuJGpzY29tcC5zY29wZSA9IHt9O1xuJGpzY29tcC5hcnJheUl0ZXJhdG9ySW1wbCA9IGZ1bmN0aW9uKGFycmF5KSB7XG4gIHZhciBpbmRleCA9IDA7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gaW5kZXggPCBhcnJheS5sZW5ndGggPyB7ZG9uZTohMSwgdmFsdWU6YXJyYXlbaW5kZXgrK10sfSA6IHtkb25lOiEwfTtcbiAgfTtcbn07XG4kanNjb21wLmFycmF5SXRlcmF0b3IgPSBmdW5jdGlvbihhcnJheSkge1xuICByZXR1cm4ge25leHQ6JGpzY29tcC5hcnJheUl0ZXJhdG9ySW1wbChhcnJheSl9O1xufTtcbiRqc2NvbXAuQVNTVU1FX0VTNSA9ICExO1xuJGpzY29tcC5BU1NVTUVfTk9fTkFUSVZFX01BUCA9ICExO1xuJGpzY29tcC5BU1NVTUVfTk9fTkFUSVZFX1NFVCA9ICExO1xuJGpzY29tcC5TSU1QTEVfRlJPVU5EX1BPTFlGSUxMID0gITE7XG4kanNjb21wLklTT0xBVEVfUE9MWUZJTExTID0gITE7XG4kanNjb21wLkZPUkNFX1BPTFlGSUxMX1BST01JU0UgPSAhMTtcbiRqc2NvbXAuRk9SQ0VfUE9MWUZJTExfUFJPTUlTRV9XSEVOX05PX1VOSEFORExFRF9SRUpFQ1RJT04gPSAhMTtcbiRqc2NvbXAuZGVmaW5lUHJvcGVydHkgPSAkanNjb21wLkFTU1VNRV9FUzUgfHwgXCJmdW5jdGlvblwiID09IHR5cGVvZiBPYmplY3QuZGVmaW5lUHJvcGVydGllcyA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSA6IGZ1bmN0aW9uKHRhcmdldCwgcHJvcGVydHksIGRlc2NyaXB0b3IpIHtcbiAgaWYgKHRhcmdldCA9PSBBcnJheS5wcm90b3R5cGUgfHwgdGFyZ2V0ID09IE9iamVjdC5wcm90b3R5cGUpIHtcbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9XG4gIHRhcmdldFtwcm9wZXJ0eV0gPSBkZXNjcmlwdG9yLnZhbHVlO1xuICByZXR1cm4gdGFyZ2V0O1xufTtcbiRqc2NvbXAuZ2V0R2xvYmFsID0gZnVuY3Rpb24ocGFzc2VkSW5UaGlzKSB7XG4gIGZvciAodmFyIHBvc3NpYmxlR2xvYmFscyA9IFtcIm9iamVjdFwiID09IHR5cGVvZiBnbG9iYWxUaGlzICYmIGdsb2JhbFRoaXMsIHBhc3NlZEluVGhpcywgXCJvYmplY3RcIiA9PSB0eXBlb2Ygd2luZG93ICYmIHdpbmRvdywgXCJvYmplY3RcIiA9PSB0eXBlb2Ygc2VsZiAmJiBzZWxmLCBcIm9iamVjdFwiID09IHR5cGVvZiBnbG9iYWwgJiYgZ2xvYmFsLF0sIGkgPSAwOyBpIDwgcG9zc2libGVHbG9iYWxzLmxlbmd0aDsgKytpKSB7XG4gICAgdmFyIG1heWJlR2xvYmFsID0gcG9zc2libGVHbG9iYWxzW2ldO1xuICAgIGlmIChtYXliZUdsb2JhbCAmJiBtYXliZUdsb2JhbC5NYXRoID09IE1hdGgpIHtcbiAgICAgIHJldHVybiBtYXliZUdsb2JhbDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHRocm93IEVycm9yKFwiQ2Fubm90IGZpbmQgZ2xvYmFsIG9iamVjdFwiKTtcbiAgfSgpO1xufTtcbiRqc2NvbXAuZ2xvYmFsID0gJGpzY29tcC5nZXRHbG9iYWwodGhpcyk7XG4kanNjb21wLklTX1NZTUJPTF9OQVRJVkUgPSBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBTeW1ib2wgJiYgXCJzeW1ib2xcIiA9PT0gdHlwZW9mIFN5bWJvbChcInhcIik7XG4kanNjb21wLlRSVVNUX0VTNl9QT0xZRklMTFMgPSAhJGpzY29tcC5JU09MQVRFX1BPTFlGSUxMUyB8fCAkanNjb21wLklTX1NZTUJPTF9OQVRJVkU7XG4kanNjb21wLnBvbHlmaWxscyA9IHt9O1xuJGpzY29tcC5wcm9wZXJ0eVRvUG9seWZpbGxTeW1ib2wgPSB7fTtcbiRqc2NvbXAuUE9MWUZJTExfUFJFRklYID0gXCIkanNjcCRcIjtcbnZhciAkanNjb21wJGxvb2t1cFBvbHlmaWxsZWRWYWx1ZSA9IGZ1bmN0aW9uKHRhcmdldCwgcHJvcGVydHkpIHtcbiAgdmFyIG9iZnVzY2F0ZWROYW1lID0gJGpzY29tcC5wcm9wZXJ0eVRvUG9seWZpbGxTeW1ib2xbcHJvcGVydHldO1xuICBpZiAobnVsbCA9PSBvYmZ1c2NhdGVkTmFtZSkge1xuICAgIHJldHVybiB0YXJnZXRbcHJvcGVydHldO1xuICB9XG4gIHZhciBwb2x5ZmlsbCA9IHRhcmdldFtvYmZ1c2NhdGVkTmFtZV07XG4gIHJldHVybiB2b2lkIDAgIT09IHBvbHlmaWxsID8gcG9seWZpbGwgOiB0YXJnZXRbcHJvcGVydHldO1xufTtcbiRqc2NvbXAucG9seWZpbGwgPSBmdW5jdGlvbih0YXJnZXQsIHBvbHlmaWxsLCBmcm9tTGFuZywgdG9MYW5nKSB7XG4gIHBvbHlmaWxsICYmICgkanNjb21wLklTT0xBVEVfUE9MWUZJTExTID8gJGpzY29tcC5wb2x5ZmlsbElzb2xhdGVkKHRhcmdldCwgcG9seWZpbGwsIGZyb21MYW5nLCB0b0xhbmcpIDogJGpzY29tcC5wb2x5ZmlsbFVuaXNvbGF0ZWQodGFyZ2V0LCBwb2x5ZmlsbCwgZnJvbUxhbmcsIHRvTGFuZykpO1xufTtcbiRqc2NvbXAucG9seWZpbGxVbmlzb2xhdGVkID0gZnVuY3Rpb24odGFyZ2V0LCBwb2x5ZmlsbCwgZnJvbUxhbmcsIHRvTGFuZykge1xuICBmb3IgKHZhciBvYmogPSAkanNjb21wLmdsb2JhbCwgc3BsaXQgPSB0YXJnZXQuc3BsaXQoXCIuXCIpLCBpID0gMDsgaSA8IHNwbGl0Lmxlbmd0aCAtIDE7IGkrKykge1xuICAgIHZhciBrZXkgPSBzcGxpdFtpXTtcbiAgICBpZiAoIShrZXkgaW4gb2JqKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBvYmogPSBvYmpba2V5XTtcbiAgfVxuICB2YXIgcHJvcGVydHkgPSBzcGxpdFtzcGxpdC5sZW5ndGggLSAxXSwgb3JpZyA9IG9ialtwcm9wZXJ0eV0sIGltcGwgPSBwb2x5ZmlsbChvcmlnKTtcbiAgaW1wbCAhPSBvcmlnICYmIG51bGwgIT0gaW1wbCAmJiAkanNjb21wLmRlZmluZVByb3BlcnR5KG9iaiwgcHJvcGVydHksIHtjb25maWd1cmFibGU6ITAsIHdyaXRhYmxlOiEwLCB2YWx1ZTppbXBsfSk7XG59O1xuJGpzY29tcC5wb2x5ZmlsbElzb2xhdGVkID0gZnVuY3Rpb24odGFyZ2V0LCBwb2x5ZmlsbCwgZnJvbUxhbmcsIHRvTGFuZykge1xuICB2YXIgc3BsaXQgPSB0YXJnZXQuc3BsaXQoXCIuXCIpLCBpc1NpbXBsZU5hbWUgPSAxID09PSBzcGxpdC5sZW5ndGgsIHJvb3QgPSBzcGxpdFswXTtcbiAgdmFyIG93bmVyT2JqZWN0ID0gIWlzU2ltcGxlTmFtZSAmJiByb290IGluICRqc2NvbXAucG9seWZpbGxzID8gJGpzY29tcC5wb2x5ZmlsbHMgOiAkanNjb21wLmdsb2JhbDtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzcGxpdC5sZW5ndGggLSAxOyBpKyspIHtcbiAgICB2YXIga2V5ID0gc3BsaXRbaV07XG4gICAgaWYgKCEoa2V5IGluIG93bmVyT2JqZWN0KSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBvd25lck9iamVjdCA9IG93bmVyT2JqZWN0W2tleV07XG4gIH1cbiAgdmFyIHByb3BlcnR5ID0gc3BsaXRbc3BsaXQubGVuZ3RoIC0gMV0sIG5hdGl2ZUltcGwgPSAkanNjb21wLklTX1NZTUJPTF9OQVRJVkUgJiYgXCJlczZcIiA9PT0gZnJvbUxhbmcgPyBvd25lck9iamVjdFtwcm9wZXJ0eV0gOiBudWxsLCBpbXBsID0gcG9seWZpbGwobmF0aXZlSW1wbCk7XG4gIGlmIChudWxsICE9IGltcGwpIHtcbiAgICBpZiAoaXNTaW1wbGVOYW1lKSB7XG4gICAgICAkanNjb21wLmRlZmluZVByb3BlcnR5KCRqc2NvbXAucG9seWZpbGxzLCBwcm9wZXJ0eSwge2NvbmZpZ3VyYWJsZTohMCwgd3JpdGFibGU6ITAsIHZhbHVlOmltcGx9KTtcbiAgICB9IGVsc2UgaWYgKGltcGwgIT09IG5hdGl2ZUltcGwpIHtcbiAgICAgIGlmICh2b2lkIDAgPT09ICRqc2NvbXAucHJvcGVydHlUb1BvbHlmaWxsU3ltYm9sW3Byb3BlcnR5XSkge1xuICAgICAgICB2YXIgQklOX0lEID0gMUU5ICogTWF0aC5yYW5kb20oKSA+Pj4gMDtcbiAgICAgICAgJGpzY29tcC5wcm9wZXJ0eVRvUG9seWZpbGxTeW1ib2xbcHJvcGVydHldID0gJGpzY29tcC5JU19TWU1CT0xfTkFUSVZFID8gJGpzY29tcC5nbG9iYWwuU3ltYm9sKHByb3BlcnR5KSA6ICRqc2NvbXAuUE9MWUZJTExfUFJFRklYICsgQklOX0lEICsgXCIkXCIgKyBwcm9wZXJ0eTtcbiAgICAgIH1cbiAgICAgICRqc2NvbXAuZGVmaW5lUHJvcGVydHkob3duZXJPYmplY3QsICRqc2NvbXAucHJvcGVydHlUb1BvbHlmaWxsU3ltYm9sW3Byb3BlcnR5XSwge2NvbmZpZ3VyYWJsZTohMCwgd3JpdGFibGU6ITAsIHZhbHVlOmltcGx9KTtcbiAgICB9XG4gIH1cbn07XG4kanNjb21wLmluaXRTeW1ib2wgPSBmdW5jdGlvbigpIHtcbn07XG4kanNjb21wLnBvbHlmaWxsKFwiU3ltYm9sXCIsIGZ1bmN0aW9uKG9yaWcpIHtcbiAgaWYgKG9yaWcpIHtcbiAgICByZXR1cm4gb3JpZztcbiAgfVxuICB2YXIgU3ltYm9sQ2xhc3MgPSBmdW5jdGlvbihpZCwgb3B0X2Rlc2NyaXB0aW9uKSB7XG4gICAgdGhpcy4kanNjb21wJHN5bWJvbCRpZF8gPSBpZDtcbiAgICAkanNjb21wLmRlZmluZVByb3BlcnR5KHRoaXMsIFwiZGVzY3JpcHRpb25cIiwge2NvbmZpZ3VyYWJsZTohMCwgd3JpdGFibGU6ITAsIHZhbHVlOm9wdF9kZXNjcmlwdGlvbn0pO1xuICB9O1xuICBTeW1ib2xDbGFzcy5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy4kanNjb21wJHN5bWJvbCRpZF87XG4gIH07XG4gIHZhciBTWU1CT0xfUFJFRklYID0gXCJqc2NvbXBfc3ltYm9sX1wiICsgKDFFOSAqIE1hdGgucmFuZG9tKCkgPj4+IDApICsgXCJfXCIsIGNvdW50ZXIgPSAwLCBzeW1ib2xQb2x5ZmlsbCA9IGZ1bmN0aW9uKG9wdF9kZXNjcmlwdGlvbikge1xuICAgIGlmICh0aGlzIGluc3RhbmNlb2Ygc3ltYm9sUG9seWZpbGwpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wgaXMgbm90IGEgY29uc3RydWN0b3JcIik7XG4gICAgfVxuICAgIHJldHVybiBuZXcgU3ltYm9sQ2xhc3MoU1lNQk9MX1BSRUZJWCArIChvcHRfZGVzY3JpcHRpb24gfHwgXCJcIikgKyBcIl9cIiArIGNvdW50ZXIrKywgb3B0X2Rlc2NyaXB0aW9uKTtcbiAgfTtcbiAgcmV0dXJuIHN5bWJvbFBvbHlmaWxsO1xufSwgXCJlczZcIiwgXCJlczNcIik7XG4kanNjb21wLnBvbHlmaWxsKFwiU3ltYm9sLml0ZXJhdG9yXCIsIGZ1bmN0aW9uKG9yaWcpIHtcbiAgaWYgKG9yaWcpIHtcbiAgICByZXR1cm4gb3JpZztcbiAgfVxuICBmb3IgKHZhciBzeW1ib2xJdGVyYXRvciA9IFN5bWJvbChcIlN5bWJvbC5pdGVyYXRvclwiKSwgYXJyYXlMaWtlcyA9IFwiQXJyYXkgSW50OEFycmF5IFVpbnQ4QXJyYXkgVWludDhDbGFtcGVkQXJyYXkgSW50MTZBcnJheSBVaW50MTZBcnJheSBJbnQzMkFycmF5IFVpbnQzMkFycmF5IEZsb2F0MzJBcnJheSBGbG9hdDY0QXJyYXlcIi5zcGxpdChcIiBcIiksIGkgPSAwOyBpIDwgYXJyYXlMaWtlcy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBBcnJheUxpa2VDdG9yID0gJGpzY29tcC5nbG9iYWxbYXJyYXlMaWtlc1tpXV07XG4gICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgQXJyYXlMaWtlQ3RvciAmJiBcImZ1bmN0aW9uXCIgIT0gdHlwZW9mIEFycmF5TGlrZUN0b3IucHJvdG90eXBlW3N5bWJvbEl0ZXJhdG9yXSAmJiAkanNjb21wLmRlZmluZVByb3BlcnR5KEFycmF5TGlrZUN0b3IucHJvdG90eXBlLCBzeW1ib2xJdGVyYXRvciwge2NvbmZpZ3VyYWJsZTohMCwgd3JpdGFibGU6ITAsIHZhbHVlOmZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuICRqc2NvbXAuaXRlcmF0b3JQcm90b3R5cGUoJGpzY29tcC5hcnJheUl0ZXJhdG9ySW1wbCh0aGlzKSk7XG4gICAgfX0pO1xuICB9XG4gIHJldHVybiBzeW1ib2xJdGVyYXRvcjtcbn0sIFwiZXM2XCIsIFwiZXMzXCIpO1xuJGpzY29tcC5pdGVyYXRvclByb3RvdHlwZSA9IGZ1bmN0aW9uKG5leHQpIHtcbiAgdmFyIGl0ZXJhdG9yID0ge25leHQ6bmV4dH07XG4gIGl0ZXJhdG9yW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcbiAgcmV0dXJuIGl0ZXJhdG9yO1xufTtcbiRqc2NvbXAuY3JlYXRlVGVtcGxhdGVUYWdGaXJzdEFyZyA9IGZ1bmN0aW9uKGFycmF5U3RyaW5ncykge1xuICByZXR1cm4gYXJyYXlTdHJpbmdzLnJhdyA9IGFycmF5U3RyaW5ncztcbn07XG4kanNjb21wLmNyZWF0ZVRlbXBsYXRlVGFnRmlyc3RBcmdXaXRoUmF3ID0gZnVuY3Rpb24oYXJyYXlTdHJpbmdzLCByYXdBcnJheVN0cmluZ3MpIHtcbiAgYXJyYXlTdHJpbmdzLnJhdyA9IHJhd0FycmF5U3RyaW5ncztcbiAgcmV0dXJuIGFycmF5U3RyaW5ncztcbn07XG4kanNjb21wLm1ha2VJdGVyYXRvciA9IGZ1bmN0aW9uKGl0ZXJhYmxlKSB7XG4gIHZhciBpdGVyYXRvckZ1bmN0aW9uID0gXCJ1bmRlZmluZWRcIiAhPSB0eXBlb2YgU3ltYm9sICYmIFN5bWJvbC5pdGVyYXRvciAmJiBpdGVyYWJsZVtTeW1ib2wuaXRlcmF0b3JdO1xuICByZXR1cm4gaXRlcmF0b3JGdW5jdGlvbiA/IGl0ZXJhdG9yRnVuY3Rpb24uY2FsbChpdGVyYWJsZSkgOiAkanNjb21wLmFycmF5SXRlcmF0b3IoaXRlcmFibGUpO1xufTtcbiRqc2NvbXAuYXJyYXlGcm9tSXRlcmF0b3IgPSBmdW5jdGlvbihpdGVyYXRvcikge1xuICBmb3IgKHZhciBpLCBhcnIgPSBbXTsgIShpID0gaXRlcmF0b3IubmV4dCgpKS5kb25lOykge1xuICAgIGFyci5wdXNoKGkudmFsdWUpO1xuICB9XG4gIHJldHVybiBhcnI7XG59O1xuJGpzY29tcC5hcnJheUZyb21JdGVyYWJsZSA9IGZ1bmN0aW9uKGl0ZXJhYmxlKSB7XG4gIHJldHVybiBpdGVyYWJsZSBpbnN0YW5jZW9mIEFycmF5ID8gaXRlcmFibGUgOiAkanNjb21wLmFycmF5RnJvbUl0ZXJhdG9yKCRqc2NvbXAubWFrZUl0ZXJhdG9yKGl0ZXJhYmxlKSk7XG59O1xuJGpzY29tcC5vd25zID0gZnVuY3Rpb24ob2JqLCBwcm9wKSB7XG4gIHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKTtcbn07XG4kanNjb21wLmFzc2lnbiA9ICRqc2NvbXAuVFJVU1RfRVM2X1BPTFlGSUxMUyAmJiBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIE9iamVjdC5hc3NpZ24gPyBPYmplY3QuYXNzaWduIDogZnVuY3Rpb24odGFyZ2V0LCB2YXJfYXJncykge1xuICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07XG4gICAgaWYgKHNvdXJjZSkge1xuICAgICAgZm9yICh2YXIga2V5IGluIHNvdXJjZSkge1xuICAgICAgICAkanNjb21wLm93bnMoc291cmNlLCBrZXkpICYmICh0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRhcmdldDtcbn07XG4kanNjb21wLnBvbHlmaWxsKFwiT2JqZWN0LmFzc2lnblwiLCBmdW5jdGlvbihvcmlnKSB7XG4gIHJldHVybiBvcmlnIHx8ICRqc2NvbXAuYXNzaWduO1xufSwgXCJlczZcIiwgXCJlczNcIik7XG4kanNjb21wLm9iamVjdENyZWF0ZSA9ICRqc2NvbXAuQVNTVU1FX0VTNSB8fCBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIE9iamVjdC5jcmVhdGUgPyBPYmplY3QuY3JlYXRlIDogZnVuY3Rpb24ocHJvdG90eXBlKSB7XG4gIHZhciBjdG9yID0gZnVuY3Rpb24oKSB7XG4gIH07XG4gIGN0b3IucHJvdG90eXBlID0gcHJvdG90eXBlO1xuICByZXR1cm4gbmV3IGN0b3IoKTtcbn07XG4kanNjb21wLmdldENvbnN0cnVjdEltcGxlbWVudGF0aW9uID0gZnVuY3Rpb24oKSB7XG4gIGZ1bmN0aW9uIHJlZmxlY3RDb25zdHJ1Y3RXb3JrcygpIHtcbiAgICBmdW5jdGlvbiBCYXNlKCkge1xuICAgIH1cbiAgICBuZXcgQmFzZSgpO1xuICAgIFJlZmxlY3QuY29uc3RydWN0KEJhc2UsIFtdLCBmdW5jdGlvbiBEZXJpdmVkKCkge1xuICAgIH0pO1xuICAgIHJldHVybiBuZXcgQmFzZSgpIGluc3RhbmNlb2YgQmFzZTtcbiAgfVxuICBpZiAoJGpzY29tcC5UUlVTVF9FUzZfUE9MWUZJTExTICYmIFwidW5kZWZpbmVkXCIgIT0gdHlwZW9mIFJlZmxlY3QgJiYgUmVmbGVjdC5jb25zdHJ1Y3QpIHtcbiAgICBpZiAocmVmbGVjdENvbnN0cnVjdFdvcmtzKCkpIHtcbiAgICAgIHJldHVybiBSZWZsZWN0LmNvbnN0cnVjdDtcbiAgICB9XG4gICAgdmFyIGJyb2tlbkNvbnN0cnVjdCA9IFJlZmxlY3QuY29uc3RydWN0O1xuICAgIHJldHVybiBmdW5jdGlvbih0YXJnZXQsIGFyZ0xpc3QsIG9wdF9uZXdUYXJnZXQpIHtcbiAgICAgIHZhciBvdXQgPSBicm9rZW5Db25zdHJ1Y3QodGFyZ2V0LCBhcmdMaXN0KTtcbiAgICAgIG9wdF9uZXdUYXJnZXQgJiYgUmVmbGVjdC5zZXRQcm90b3R5cGVPZihvdXQsIG9wdF9uZXdUYXJnZXQucHJvdG90eXBlKTtcbiAgICAgIHJldHVybiBvdXQ7XG4gICAgfTtcbiAgfVxuICByZXR1cm4gZnVuY3Rpb24gY29uc3RydWN0KHRhcmdldCwgYXJnTGlzdCwgb3B0X25ld1RhcmdldCkge1xuICAgIHZvaWQgMCA9PT0gb3B0X25ld1RhcmdldCAmJiAob3B0X25ld1RhcmdldCA9IHRhcmdldCk7XG4gICAgdmFyIG9iaiA9ICRqc2NvbXAub2JqZWN0Q3JlYXRlKG9wdF9uZXdUYXJnZXQucHJvdG90eXBlIHx8IE9iamVjdC5wcm90b3R5cGUpO1xuICAgIHJldHVybiBGdW5jdGlvbi5wcm90b3R5cGUuYXBwbHkuY2FsbCh0YXJnZXQsIG9iaiwgYXJnTGlzdCkgfHwgb2JqO1xuICB9O1xufTtcbiRqc2NvbXAuY29uc3RydWN0ID0ge3ZhbHVlT2Y6JGpzY29tcC5nZXRDb25zdHJ1Y3RJbXBsZW1lbnRhdGlvbn0udmFsdWVPZigpO1xuJGpzY29tcC51bmRlcnNjb3JlUHJvdG9DYW5CZVNldCA9IGZ1bmN0aW9uKCkge1xuICB2YXIgeCA9IHthOiEwfSwgeSA9IHt9O1xuICB0cnkge1xuICAgIHJldHVybiB5Ll9fcHJvdG9fXyA9IHgsIHkuYTtcbiAgfSBjYXRjaCAoZSkge1xuICB9XG4gIHJldHVybiAhMTtcbn07XG4kanNjb21wLnNldFByb3RvdHlwZU9mID0gJGpzY29tcC5UUlVTVF9FUzZfUE9MWUZJTExTICYmIFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mIDogJGpzY29tcC51bmRlcnNjb3JlUHJvdG9DYW5CZVNldCgpID8gZnVuY3Rpb24odGFyZ2V0LCBwcm90bykge1xuICB0YXJnZXQuX19wcm90b19fID0gcHJvdG87XG4gIGlmICh0YXJnZXQuX19wcm90b19fICE9PSBwcm90bykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IodGFyZ2V0ICsgXCIgaXMgbm90IGV4dGVuc2libGVcIik7XG4gIH1cbiAgcmV0dXJuIHRhcmdldDtcbn0gOiBudWxsO1xuJGpzY29tcC5pbmhlcml0cyA9IGZ1bmN0aW9uKGNoaWxkQ3RvciwgcGFyZW50Q3Rvcikge1xuICBjaGlsZEN0b3IucHJvdG90eXBlID0gJGpzY29tcC5vYmplY3RDcmVhdGUocGFyZW50Q3Rvci5wcm90b3R5cGUpO1xuICBjaGlsZEN0b3IucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gY2hpbGRDdG9yO1xuICBpZiAoJGpzY29tcC5zZXRQcm90b3R5cGVPZikge1xuICAgIHZhciBzZXRQcm90b3R5cGVPZiA9ICRqc2NvbXAuc2V0UHJvdG90eXBlT2Y7XG4gICAgc2V0UHJvdG90eXBlT2YoY2hpbGRDdG9yLCBwYXJlbnRDdG9yKTtcbiAgfSBlbHNlIHtcbiAgICBmb3IgKHZhciBwIGluIHBhcmVudEN0b3IpIHtcbiAgICAgIGlmIChcInByb3RvdHlwZVwiICE9IHApIHtcbiAgICAgICAgaWYgKE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgdmFyIGRlc2NyaXB0b3IgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHBhcmVudEN0b3IsIHApO1xuICAgICAgICAgIGRlc2NyaXB0b3IgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KGNoaWxkQ3RvciwgcCwgZGVzY3JpcHRvcik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY2hpbGRDdG9yW3BdID0gcGFyZW50Q3RvcltwXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuICBjaGlsZEN0b3Iuc3VwZXJDbGFzc18gPSBwYXJlbnRDdG9yLnByb3RvdHlwZTtcbn07XG4kanNjb21wLmdlbmVyYXRvciA9IHt9O1xuJGpzY29tcC5nZW5lcmF0b3IuZW5zdXJlSXRlcmF0b3JSZXN1bHRJc09iamVjdF8gPSBmdW5jdGlvbihyZXN1bHQpIHtcbiAgaWYgKCEocmVzdWx0IGluc3RhbmNlb2YgT2JqZWN0KSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJJdGVyYXRvciByZXN1bHQgXCIgKyByZXN1bHQgKyBcIiBpcyBub3QgYW4gb2JqZWN0XCIpO1xuICB9XG59O1xuJGpzY29tcC5nZW5lcmF0b3IuQ29udGV4dCA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLmlzUnVubmluZ18gPSAhMTtcbiAgdGhpcy55aWVsZEFsbEl0ZXJhdG9yXyA9IG51bGw7XG4gIHRoaXMueWllbGRSZXN1bHQgPSB2b2lkIDA7XG4gIHRoaXMubmV4dEFkZHJlc3MgPSAxO1xuICB0aGlzLmZpbmFsbHlBZGRyZXNzXyA9IHRoaXMuY2F0Y2hBZGRyZXNzXyA9IDA7XG4gIHRoaXMuZmluYWxseUNvbnRleHRzXyA9IHRoaXMuYWJydXB0Q29tcGxldGlvbl8gPSBudWxsO1xufTtcbiRqc2NvbXAuZ2VuZXJhdG9yLkNvbnRleHQucHJvdG90eXBlLnN0YXJ0XyA9IGZ1bmN0aW9uKCkge1xuICBpZiAodGhpcy5pc1J1bm5pbmdfKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IHJ1bm5pbmdcIik7XG4gIH1cbiAgdGhpcy5pc1J1bm5pbmdfID0gITA7XG59O1xuJGpzY29tcC5nZW5lcmF0b3IuQ29udGV4dC5wcm90b3R5cGUuc3RvcF8gPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5pc1J1bm5pbmdfID0gITE7XG59O1xuJGpzY29tcC5nZW5lcmF0b3IuQ29udGV4dC5wcm90b3R5cGUuanVtcFRvRXJyb3JIYW5kbGVyXyA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLm5leHRBZGRyZXNzID0gdGhpcy5jYXRjaEFkZHJlc3NfIHx8IHRoaXMuZmluYWxseUFkZHJlc3NfO1xufTtcbiRqc2NvbXAuZ2VuZXJhdG9yLkNvbnRleHQucHJvdG90eXBlLm5leHRfID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy55aWVsZFJlc3VsdCA9IHZhbHVlO1xufTtcbiRqc2NvbXAuZ2VuZXJhdG9yLkNvbnRleHQucHJvdG90eXBlLnRocm93XyA9IGZ1bmN0aW9uKGUpIHtcbiAgdGhpcy5hYnJ1cHRDb21wbGV0aW9uXyA9IHtleGNlcHRpb246ZSwgaXNFeGNlcHRpb246ITB9O1xuICB0aGlzLmp1bXBUb0Vycm9ySGFuZGxlcl8oKTtcbn07XG4kanNjb21wLmdlbmVyYXRvci5Db250ZXh0LnByb3RvdHlwZS5yZXR1cm4gPSBmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLmFicnVwdENvbXBsZXRpb25fID0ge3JldHVybjp2YWx1ZX07XG4gIHRoaXMubmV4dEFkZHJlc3MgPSB0aGlzLmZpbmFsbHlBZGRyZXNzXztcbn07XG4kanNjb21wLmdlbmVyYXRvci5Db250ZXh0LnByb3RvdHlwZS5qdW1wVGhyb3VnaEZpbmFsbHlCbG9ja3MgPSBmdW5jdGlvbihuZXh0QWRkcmVzcykge1xuICB0aGlzLmFicnVwdENvbXBsZXRpb25fID0ge2p1bXBUbzpuZXh0QWRkcmVzc307XG4gIHRoaXMubmV4dEFkZHJlc3MgPSB0aGlzLmZpbmFsbHlBZGRyZXNzXztcbn07XG4kanNjb21wLmdlbmVyYXRvci5Db250ZXh0LnByb3RvdHlwZS55aWVsZCA9IGZ1bmN0aW9uKHZhbHVlLCByZXN1bWVBZGRyZXNzKSB7XG4gIHRoaXMubmV4dEFkZHJlc3MgPSByZXN1bWVBZGRyZXNzO1xuICByZXR1cm4ge3ZhbHVlOnZhbHVlfTtcbn07XG4kanNjb21wLmdlbmVyYXRvci5Db250ZXh0LnByb3RvdHlwZS55aWVsZEFsbCA9IGZ1bmN0aW9uKGl0ZXJhYmxlLCByZXN1bWVBZGRyZXNzKSB7XG4gIHZhciBpdGVyYXRvciA9ICRqc2NvbXAubWFrZUl0ZXJhdG9yKGl0ZXJhYmxlKSwgcmVzdWx0ID0gaXRlcmF0b3IubmV4dCgpO1xuICAkanNjb21wLmdlbmVyYXRvci5lbnN1cmVJdGVyYXRvclJlc3VsdElzT2JqZWN0XyhyZXN1bHQpO1xuICBpZiAocmVzdWx0LmRvbmUpIHtcbiAgICB0aGlzLnlpZWxkUmVzdWx0ID0gcmVzdWx0LnZhbHVlLCB0aGlzLm5leHRBZGRyZXNzID0gcmVzdW1lQWRkcmVzcztcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gdGhpcy55aWVsZEFsbEl0ZXJhdG9yXyA9IGl0ZXJhdG9yLCB0aGlzLnlpZWxkKHJlc3VsdC52YWx1ZSwgcmVzdW1lQWRkcmVzcyk7XG4gIH1cbn07XG4kanNjb21wLmdlbmVyYXRvci5Db250ZXh0LnByb3RvdHlwZS5qdW1wVG8gPSBmdW5jdGlvbihuZXh0QWRkcmVzcykge1xuICB0aGlzLm5leHRBZGRyZXNzID0gbmV4dEFkZHJlc3M7XG59O1xuJGpzY29tcC5nZW5lcmF0b3IuQ29udGV4dC5wcm90b3R5cGUuanVtcFRvRW5kID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMubmV4dEFkZHJlc3MgPSAwO1xufTtcbiRqc2NvbXAuZ2VuZXJhdG9yLkNvbnRleHQucHJvdG90eXBlLnNldENhdGNoRmluYWxseUJsb2NrcyA9IGZ1bmN0aW9uKGNhdGNoQWRkcmVzcywgZmluYWxseUFkZHJlc3MpIHtcbiAgdGhpcy5jYXRjaEFkZHJlc3NfID0gY2F0Y2hBZGRyZXNzO1xuICB2b2lkIDAgIT0gZmluYWxseUFkZHJlc3MgJiYgKHRoaXMuZmluYWxseUFkZHJlc3NfID0gZmluYWxseUFkZHJlc3MpO1xufTtcbiRqc2NvbXAuZ2VuZXJhdG9yLkNvbnRleHQucHJvdG90eXBlLnNldEZpbmFsbHlCbG9jayA9IGZ1bmN0aW9uKGZpbmFsbHlBZGRyZXNzKSB7XG4gIHRoaXMuY2F0Y2hBZGRyZXNzXyA9IDA7XG4gIHRoaXMuZmluYWxseUFkZHJlc3NfID0gZmluYWxseUFkZHJlc3MgfHwgMDtcbn07XG4kanNjb21wLmdlbmVyYXRvci5Db250ZXh0LnByb3RvdHlwZS5sZWF2ZVRyeUJsb2NrID0gZnVuY3Rpb24obmV4dEFkZHJlc3MsIGNhdGNoQWRkcmVzcykge1xuICB0aGlzLm5leHRBZGRyZXNzID0gbmV4dEFkZHJlc3M7XG4gIHRoaXMuY2F0Y2hBZGRyZXNzXyA9IGNhdGNoQWRkcmVzcyB8fCAwO1xufTtcbiRqc2NvbXAuZ2VuZXJhdG9yLkNvbnRleHQucHJvdG90eXBlLmVudGVyQ2F0Y2hCbG9jayA9IGZ1bmN0aW9uKG5leHRDYXRjaEJsb2NrQWRkcmVzcykge1xuICB0aGlzLmNhdGNoQWRkcmVzc18gPSBuZXh0Q2F0Y2hCbG9ja0FkZHJlc3MgfHwgMDtcbiAgdmFyIGV4Y2VwdGlvbiA9IHRoaXMuYWJydXB0Q29tcGxldGlvbl8uZXhjZXB0aW9uO1xuICB0aGlzLmFicnVwdENvbXBsZXRpb25fID0gbnVsbDtcbiAgcmV0dXJuIGV4Y2VwdGlvbjtcbn07XG4kanNjb21wLmdlbmVyYXRvci5Db250ZXh0LnByb3RvdHlwZS5lbnRlckZpbmFsbHlCbG9jayA9IGZ1bmN0aW9uKG5leHRDYXRjaEFkZHJlc3MsIG5leHRGaW5hbGx5QWRkcmVzcywgZmluYWxseURlcHRoKSB7XG4gIGZpbmFsbHlEZXB0aCA/IHRoaXMuZmluYWxseUNvbnRleHRzX1tmaW5hbGx5RGVwdGhdID0gdGhpcy5hYnJ1cHRDb21wbGV0aW9uXyA6IHRoaXMuZmluYWxseUNvbnRleHRzXyA9IFt0aGlzLmFicnVwdENvbXBsZXRpb25fXTtcbiAgdGhpcy5jYXRjaEFkZHJlc3NfID0gbmV4dENhdGNoQWRkcmVzcyB8fCAwO1xuICB0aGlzLmZpbmFsbHlBZGRyZXNzXyA9IG5leHRGaW5hbGx5QWRkcmVzcyB8fCAwO1xufTtcbiRqc2NvbXAuZ2VuZXJhdG9yLkNvbnRleHQucHJvdG90eXBlLmxlYXZlRmluYWxseUJsb2NrID0gZnVuY3Rpb24obmV4dEFkZHJlc3MsIGZpbmFsbHlEZXB0aCkge1xuICB2YXIgcHJlc2VydmVkQ29udGV4dCA9IHRoaXMuZmluYWxseUNvbnRleHRzXy5zcGxpY2UoZmluYWxseURlcHRoIHx8IDApWzBdLCBhYnJ1cHRDb21wbGV0aW9uID0gdGhpcy5hYnJ1cHRDb21wbGV0aW9uXyA9IHRoaXMuYWJydXB0Q29tcGxldGlvbl8gfHwgcHJlc2VydmVkQ29udGV4dDtcbiAgaWYgKGFicnVwdENvbXBsZXRpb24pIHtcbiAgICBpZiAoYWJydXB0Q29tcGxldGlvbi5pc0V4Y2VwdGlvbikge1xuICAgICAgcmV0dXJuIHRoaXMuanVtcFRvRXJyb3JIYW5kbGVyXygpO1xuICAgIH1cbiAgICB2b2lkIDAgIT0gYWJydXB0Q29tcGxldGlvbi5qdW1wVG8gJiYgdGhpcy5maW5hbGx5QWRkcmVzc18gPCBhYnJ1cHRDb21wbGV0aW9uLmp1bXBUbyA/ICh0aGlzLm5leHRBZGRyZXNzID0gYWJydXB0Q29tcGxldGlvbi5qdW1wVG8sIHRoaXMuYWJydXB0Q29tcGxldGlvbl8gPSBudWxsKSA6IHRoaXMubmV4dEFkZHJlc3MgPSB0aGlzLmZpbmFsbHlBZGRyZXNzXztcbiAgfSBlbHNlIHtcbiAgICB0aGlzLm5leHRBZGRyZXNzID0gbmV4dEFkZHJlc3M7XG4gIH1cbn07XG4kanNjb21wLmdlbmVyYXRvci5Db250ZXh0LnByb3RvdHlwZS5mb3JJbiA9IGZ1bmN0aW9uKG9iamVjdCkge1xuICByZXR1cm4gbmV3ICRqc2NvbXAuZ2VuZXJhdG9yLkNvbnRleHQuUHJvcGVydHlJdGVyYXRvcihvYmplY3QpO1xufTtcbiRqc2NvbXAuZ2VuZXJhdG9yLkNvbnRleHQuUHJvcGVydHlJdGVyYXRvciA9IGZ1bmN0aW9uKG9iamVjdCkge1xuICB0aGlzLm9iamVjdF8gPSBvYmplY3Q7XG4gIHRoaXMucHJvcGVydGllc18gPSBbXTtcbiAgZm9yICh2YXIgcHJvcGVydHkgaW4gb2JqZWN0KSB7XG4gICAgdGhpcy5wcm9wZXJ0aWVzXy5wdXNoKHByb3BlcnR5KTtcbiAgfVxuICB0aGlzLnByb3BlcnRpZXNfLnJldmVyc2UoKTtcbn07XG4kanNjb21wLmdlbmVyYXRvci5Db250ZXh0LlByb3BlcnR5SXRlcmF0b3IucHJvdG90eXBlLmdldE5leHQgPSBmdW5jdGlvbigpIHtcbiAgZm9yICg7IDAgPCB0aGlzLnByb3BlcnRpZXNfLmxlbmd0aDspIHtcbiAgICB2YXIgcHJvcGVydHkgPSB0aGlzLnByb3BlcnRpZXNfLnBvcCgpO1xuICAgIGlmIChwcm9wZXJ0eSBpbiB0aGlzLm9iamVjdF8pIHtcbiAgICAgIHJldHVybiBwcm9wZXJ0eTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59O1xuJGpzY29tcC5nZW5lcmF0b3IuRW5naW5lXyA9IGZ1bmN0aW9uKHByb2dyYW0pIHtcbiAgdGhpcy5jb250ZXh0XyA9IG5ldyAkanNjb21wLmdlbmVyYXRvci5Db250ZXh0KCk7XG4gIHRoaXMucHJvZ3JhbV8gPSBwcm9ncmFtO1xufTtcbiRqc2NvbXAuZ2VuZXJhdG9yLkVuZ2luZV8ucHJvdG90eXBlLm5leHRfID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5jb250ZXh0Xy5zdGFydF8oKTtcbiAgaWYgKHRoaXMuY29udGV4dF8ueWllbGRBbGxJdGVyYXRvcl8pIHtcbiAgICByZXR1cm4gdGhpcy55aWVsZEFsbFN0ZXBfKHRoaXMuY29udGV4dF8ueWllbGRBbGxJdGVyYXRvcl8ubmV4dCwgdmFsdWUsIHRoaXMuY29udGV4dF8ubmV4dF8pO1xuICB9XG4gIHRoaXMuY29udGV4dF8ubmV4dF8odmFsdWUpO1xuICByZXR1cm4gdGhpcy5uZXh0U3RlcF8oKTtcbn07XG4kanNjb21wLmdlbmVyYXRvci5FbmdpbmVfLnByb3RvdHlwZS5yZXR1cm5fID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5jb250ZXh0Xy5zdGFydF8oKTtcbiAgdmFyIHlpZWxkQWxsSXRlcmF0b3IgPSB0aGlzLmNvbnRleHRfLnlpZWxkQWxsSXRlcmF0b3JfO1xuICBpZiAoeWllbGRBbGxJdGVyYXRvcikge1xuICAgIHJldHVybiB0aGlzLnlpZWxkQWxsU3RlcF8oXCJyZXR1cm5cIiBpbiB5aWVsZEFsbEl0ZXJhdG9yID8geWllbGRBbGxJdGVyYXRvcltcInJldHVyblwiXSA6IGZ1bmN0aW9uKHYpIHtcbiAgICAgIHJldHVybiB7dmFsdWU6diwgZG9uZTohMH07XG4gICAgfSwgdmFsdWUsIHRoaXMuY29udGV4dF8ucmV0dXJuKTtcbiAgfVxuICB0aGlzLmNvbnRleHRfLnJldHVybih2YWx1ZSk7XG4gIHJldHVybiB0aGlzLm5leHRTdGVwXygpO1xufTtcbiRqc2NvbXAuZ2VuZXJhdG9yLkVuZ2luZV8ucHJvdG90eXBlLnRocm93XyA9IGZ1bmN0aW9uKGV4Y2VwdGlvbikge1xuICB0aGlzLmNvbnRleHRfLnN0YXJ0XygpO1xuICBpZiAodGhpcy5jb250ZXh0Xy55aWVsZEFsbEl0ZXJhdG9yXykge1xuICAgIHJldHVybiB0aGlzLnlpZWxkQWxsU3RlcF8odGhpcy5jb250ZXh0Xy55aWVsZEFsbEl0ZXJhdG9yX1tcInRocm93XCJdLCBleGNlcHRpb24sIHRoaXMuY29udGV4dF8ubmV4dF8pO1xuICB9XG4gIHRoaXMuY29udGV4dF8udGhyb3dfKGV4Y2VwdGlvbik7XG4gIHJldHVybiB0aGlzLm5leHRTdGVwXygpO1xufTtcbiRqc2NvbXAuZ2VuZXJhdG9yLkVuZ2luZV8ucHJvdG90eXBlLnlpZWxkQWxsU3RlcF8gPSBmdW5jdGlvbihhY3Rpb24sIHZhbHVlLCBuZXh0QWN0aW9uKSB7XG4gIHRyeSB7XG4gICAgdmFyIHJlc3VsdCA9IGFjdGlvbi5jYWxsKHRoaXMuY29udGV4dF8ueWllbGRBbGxJdGVyYXRvcl8sIHZhbHVlKTtcbiAgICAkanNjb21wLmdlbmVyYXRvci5lbnN1cmVJdGVyYXRvclJlc3VsdElzT2JqZWN0XyhyZXN1bHQpO1xuICAgIGlmICghcmVzdWx0LmRvbmUpIHtcbiAgICAgIHJldHVybiB0aGlzLmNvbnRleHRfLnN0b3BfKCksIHJlc3VsdDtcbiAgICB9XG4gICAgdmFyIHJlc3VsdFZhbHVlID0gcmVzdWx0LnZhbHVlO1xuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIHRoaXMuY29udGV4dF8ueWllbGRBbGxJdGVyYXRvcl8gPSBudWxsLCB0aGlzLmNvbnRleHRfLnRocm93XyhlKSwgdGhpcy5uZXh0U3RlcF8oKTtcbiAgfVxuICB0aGlzLmNvbnRleHRfLnlpZWxkQWxsSXRlcmF0b3JfID0gbnVsbDtcbiAgbmV4dEFjdGlvbi5jYWxsKHRoaXMuY29udGV4dF8sIHJlc3VsdFZhbHVlKTtcbiAgcmV0dXJuIHRoaXMubmV4dFN0ZXBfKCk7XG59O1xuJGpzY29tcC5nZW5lcmF0b3IuRW5naW5lXy5wcm90b3R5cGUubmV4dFN0ZXBfID0gZnVuY3Rpb24oKSB7XG4gIGZvciAoOyB0aGlzLmNvbnRleHRfLm5leHRBZGRyZXNzOykge1xuICAgIHRyeSB7XG4gICAgICB2YXIgeWllbGRWYWx1ZSA9IHRoaXMucHJvZ3JhbV8odGhpcy5jb250ZXh0Xyk7XG4gICAgICBpZiAoeWllbGRWYWx1ZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb250ZXh0Xy5zdG9wXygpLCB7dmFsdWU6eWllbGRWYWx1ZS52YWx1ZSwgZG9uZTohMX07XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgdGhpcy5jb250ZXh0Xy55aWVsZFJlc3VsdCA9IHZvaWQgMCwgdGhpcy5jb250ZXh0Xy50aHJvd18oZSk7XG4gICAgfVxuICB9XG4gIHRoaXMuY29udGV4dF8uc3RvcF8oKTtcbiAgaWYgKHRoaXMuY29udGV4dF8uYWJydXB0Q29tcGxldGlvbl8pIHtcbiAgICB2YXIgYWJydXB0Q29tcGxldGlvbiA9IHRoaXMuY29udGV4dF8uYWJydXB0Q29tcGxldGlvbl87XG4gICAgdGhpcy5jb250ZXh0Xy5hYnJ1cHRDb21wbGV0aW9uXyA9IG51bGw7XG4gICAgaWYgKGFicnVwdENvbXBsZXRpb24uaXNFeGNlcHRpb24pIHtcbiAgICAgIHRocm93IGFicnVwdENvbXBsZXRpb24uZXhjZXB0aW9uO1xuICAgIH1cbiAgICByZXR1cm4ge3ZhbHVlOmFicnVwdENvbXBsZXRpb24ucmV0dXJuLCBkb25lOiEwfTtcbiAgfVxuICByZXR1cm4ge3ZhbHVlOnZvaWQgMCwgZG9uZTohMH07XG59O1xuJGpzY29tcC5nZW5lcmF0b3IuR2VuZXJhdG9yXyA9IGZ1bmN0aW9uKGVuZ2luZSkge1xuICB0aGlzLm5leHQgPSBmdW5jdGlvbihvcHRfdmFsdWUpIHtcbiAgICByZXR1cm4gZW5naW5lLm5leHRfKG9wdF92YWx1ZSk7XG4gIH07XG4gIHRoaXMudGhyb3cgPSBmdW5jdGlvbihleGNlcHRpb24pIHtcbiAgICByZXR1cm4gZW5naW5lLnRocm93XyhleGNlcHRpb24pO1xuICB9O1xuICB0aGlzLnJldHVybiA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgcmV0dXJuIGVuZ2luZS5yZXR1cm5fKHZhbHVlKTtcbiAgfTtcbiAgdGhpc1tTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG59O1xuJGpzY29tcC5nZW5lcmF0b3IuY3JlYXRlR2VuZXJhdG9yID0gZnVuY3Rpb24oZ2VuZXJhdG9yLCBwcm9ncmFtKSB7XG4gIHZhciByZXN1bHQgPSBuZXcgJGpzY29tcC5nZW5lcmF0b3IuR2VuZXJhdG9yXyhuZXcgJGpzY29tcC5nZW5lcmF0b3IuRW5naW5lXyhwcm9ncmFtKSk7XG4gICRqc2NvbXAuc2V0UHJvdG90eXBlT2YgJiYgZ2VuZXJhdG9yLnByb3RvdHlwZSAmJiAkanNjb21wLnNldFByb3RvdHlwZU9mKHJlc3VsdCwgZ2VuZXJhdG9yLnByb3RvdHlwZSk7XG4gIHJldHVybiByZXN1bHQ7XG59O1xuJGpzY29tcC5hc3luY0V4ZWN1dGVQcm9taXNlR2VuZXJhdG9yID0gZnVuY3Rpb24oZ2VuZXJhdG9yKSB7XG4gIGZ1bmN0aW9uIHBhc3NWYWx1ZVRvR2VuZXJhdG9yKHZhbHVlKSB7XG4gICAgcmV0dXJuIGdlbmVyYXRvci5uZXh0KHZhbHVlKTtcbiAgfVxuICBmdW5jdGlvbiBwYXNzRXJyb3JUb0dlbmVyYXRvcihlcnJvcikge1xuICAgIHJldHVybiBnZW5lcmF0b3IudGhyb3coZXJyb3IpO1xuICB9XG4gIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICBmdW5jdGlvbiBoYW5kbGVHZW5lcmF0b3JSZWNvcmQoZ2VuUmVjKSB7XG4gICAgICBnZW5SZWMuZG9uZSA/IHJlc29sdmUoZ2VuUmVjLnZhbHVlKSA6IFByb21pc2UucmVzb2x2ZShnZW5SZWMudmFsdWUpLnRoZW4ocGFzc1ZhbHVlVG9HZW5lcmF0b3IsIHBhc3NFcnJvclRvR2VuZXJhdG9yKS50aGVuKGhhbmRsZUdlbmVyYXRvclJlY29yZCwgcmVqZWN0KTtcbiAgICB9XG4gICAgaGFuZGxlR2VuZXJhdG9yUmVjb3JkKGdlbmVyYXRvci5uZXh0KCkpO1xuICB9KTtcbn07XG4kanNjb21wLmFzeW5jRXhlY3V0ZVByb21pc2VHZW5lcmF0b3JGdW5jdGlvbiA9IGZ1bmN0aW9uKGdlbmVyYXRvckZ1bmN0aW9uKSB7XG4gIHJldHVybiAkanNjb21wLmFzeW5jRXhlY3V0ZVByb21pc2VHZW5lcmF0b3IoZ2VuZXJhdG9yRnVuY3Rpb24oKSk7XG59O1xuJGpzY29tcC5hc3luY0V4ZWN1dGVQcm9taXNlR2VuZXJhdG9yUHJvZ3JhbSA9IGZ1bmN0aW9uKHByb2dyYW0pIHtcbiAgcmV0dXJuICRqc2NvbXAuYXN5bmNFeGVjdXRlUHJvbWlzZUdlbmVyYXRvcihuZXcgJGpzY29tcC5nZW5lcmF0b3IuR2VuZXJhdG9yXyhuZXcgJGpzY29tcC5nZW5lcmF0b3IuRW5naW5lXyhwcm9ncmFtKSkpO1xufTtcbiRqc2NvbXAuZ2V0UmVzdEFyZ3VtZW50cyA9IGZ1bmN0aW9uKCkge1xuICBmb3IgKHZhciBzdGFydEluZGV4ID0gTnVtYmVyKHRoaXMpLCByZXN0QXJncyA9IFtdLCBpID0gc3RhcnRJbmRleDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgIHJlc3RBcmdzW2kgLSBzdGFydEluZGV4XSA9IGFyZ3VtZW50c1tpXTtcbiAgfVxuICByZXR1cm4gcmVzdEFyZ3M7XG59O1xuJGpzY29tcC5wb2x5ZmlsbChcIlJlZmxlY3RcIiwgZnVuY3Rpb24ob3JpZykge1xuICByZXR1cm4gb3JpZyA/IG9yaWcgOiB7fTtcbn0sIFwiZXM2XCIsIFwiZXMzXCIpO1xuJGpzY29tcC5wb2x5ZmlsbChcIlJlZmxlY3QuY29uc3RydWN0XCIsIGZ1bmN0aW9uKG9yaWcpIHtcbiAgcmV0dXJuICRqc2NvbXAuY29uc3RydWN0O1xufSwgXCJlczZcIiwgXCJlczNcIik7XG4kanNjb21wLnBvbHlmaWxsKFwiUmVmbGVjdC5zZXRQcm90b3R5cGVPZlwiLCBmdW5jdGlvbihvcmlnKSB7XG4gIGlmIChvcmlnKSB7XG4gICAgcmV0dXJuIG9yaWc7XG4gIH1cbiAgaWYgKCRqc2NvbXAuc2V0UHJvdG90eXBlT2YpIHtcbiAgICB2YXIgc2V0UHJvdG90eXBlT2YgPSAkanNjb21wLnNldFByb3RvdHlwZU9mO1xuICAgIHJldHVybiBmdW5jdGlvbih0YXJnZXQsIHByb3RvKSB7XG4gICAgICB0cnkge1xuICAgICAgICByZXR1cm4gc2V0UHJvdG90eXBlT2YodGFyZ2V0LCBwcm90byksICEwO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICByZXR1cm4gITE7XG4gICAgICB9XG4gICAgfTtcbiAgfVxuICByZXR1cm4gbnVsbDtcbn0sIFwiZXM2XCIsIFwiZXM1XCIpO1xuJGpzY29tcC5wb2x5ZmlsbChcIlByb21pc2VcIiwgZnVuY3Rpb24oTmF0aXZlUHJvbWlzZSkge1xuICBmdW5jdGlvbiBwbGF0Zm9ybVN1cHBvcnRzUHJvbWlzZVJlamVjdGlvbkV2ZW50cygpIHtcbiAgICByZXR1cm4gXCJ1bmRlZmluZWRcIiAhPT0gdHlwZW9mICRqc2NvbXAuZ2xvYmFsLlByb21pc2VSZWplY3Rpb25FdmVudDtcbiAgfVxuICBmdW5jdGlvbiBnbG9iYWxQcm9taXNlSXNOYXRpdmUoKSB7XG4gICAgcmV0dXJuICRqc2NvbXAuZ2xvYmFsLlByb21pc2UgJiYgLTEgIT09ICRqc2NvbXAuZ2xvYmFsLlByb21pc2UudG9TdHJpbmcoKS5pbmRleE9mKFwiW25hdGl2ZSBjb2RlXVwiKTtcbiAgfVxuICBmdW5jdGlvbiBzaG91bGRGb3JjZVBvbHlmaWxsUHJvbWlzZSgpIHtcbiAgICByZXR1cm4gKCRqc2NvbXAuRk9SQ0VfUE9MWUZJTExfUFJPTUlTRSB8fCAkanNjb21wLkZPUkNFX1BPTFlGSUxMX1BST01JU0VfV0hFTl9OT19VTkhBTkRMRURfUkVKRUNUSU9OICYmICFwbGF0Zm9ybVN1cHBvcnRzUHJvbWlzZVJlamVjdGlvbkV2ZW50cygpKSAmJiBnbG9iYWxQcm9taXNlSXNOYXRpdmUoKTtcbiAgfVxuICBmdW5jdGlvbiBBc3luY0V4ZWN1dG9yKCkge1xuICAgIHRoaXMuYmF0Y2hfID0gbnVsbDtcbiAgfVxuICBmdW5jdGlvbiBpc09iamVjdCh2YWx1ZSkge1xuICAgIHN3aXRjaCh0eXBlb2YgdmFsdWUpIHtcbiAgICAgIGNhc2UgXCJvYmplY3RcIjpcbiAgICAgICAgcmV0dXJuIG51bGwgIT0gdmFsdWU7XG4gICAgICBjYXNlIFwiZnVuY3Rpb25cIjpcbiAgICAgICAgcmV0dXJuICEwO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuICExO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiByZXNvbHZpbmdQcm9taXNlKG9wdF92YWx1ZSkge1xuICAgIHJldHVybiBvcHRfdmFsdWUgaW5zdGFuY2VvZiBQb2x5ZmlsbFByb21pc2UgPyBvcHRfdmFsdWUgOiBuZXcgUG9seWZpbGxQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgcmVzb2x2ZShvcHRfdmFsdWUpO1xuICAgIH0pO1xuICB9XG4gIGlmIChOYXRpdmVQcm9taXNlICYmICFzaG91bGRGb3JjZVBvbHlmaWxsUHJvbWlzZSgpKSB7XG4gICAgcmV0dXJuIE5hdGl2ZVByb21pc2U7XG4gIH1cbiAgQXN5bmNFeGVjdXRvci5wcm90b3R5cGUuYXN5bmNFeGVjdXRlID0gZnVuY3Rpb24oZikge1xuICAgIGlmIChudWxsID09IHRoaXMuYmF0Y2hfKSB7XG4gICAgICB0aGlzLmJhdGNoXyA9IFtdO1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgdGhpcy5hc3luY0V4ZWN1dGVGdW5jdGlvbihmdW5jdGlvbigpIHtcbiAgICAgICAgc2VsZi5leGVjdXRlQmF0Y2hfKCk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgdGhpcy5iYXRjaF8ucHVzaChmKTtcbiAgfTtcbiAgdmFyIG5hdGl2ZVNldFRpbWVvdXQgPSAkanNjb21wLmdsb2JhbC5zZXRUaW1lb3V0O1xuICBBc3luY0V4ZWN1dG9yLnByb3RvdHlwZS5hc3luY0V4ZWN1dGVGdW5jdGlvbiA9IGZ1bmN0aW9uKGYpIHtcbiAgICBuYXRpdmVTZXRUaW1lb3V0KGYsIDApO1xuICB9O1xuICBBc3luY0V4ZWN1dG9yLnByb3RvdHlwZS5leGVjdXRlQmF0Y2hfID0gZnVuY3Rpb24oKSB7XG4gICAgZm9yICg7IHRoaXMuYmF0Y2hfICYmIHRoaXMuYmF0Y2hfLmxlbmd0aDspIHtcbiAgICAgIHZhciBleGVjdXRpbmdCYXRjaCA9IHRoaXMuYmF0Y2hfO1xuICAgICAgdGhpcy5iYXRjaF8gPSBbXTtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZXhlY3V0aW5nQmF0Y2gubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgdmFyIGYgPSBleGVjdXRpbmdCYXRjaFtpXTtcbiAgICAgICAgZXhlY3V0aW5nQmF0Y2hbaV0gPSBudWxsO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGYoKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICB0aGlzLmFzeW5jVGhyb3dfKGVycm9yKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLmJhdGNoXyA9IG51bGw7XG4gIH07XG4gIEFzeW5jRXhlY3V0b3IucHJvdG90eXBlLmFzeW5jVGhyb3dfID0gZnVuY3Rpb24oZXhjZXB0aW9uKSB7XG4gICAgdGhpcy5hc3luY0V4ZWN1dGVGdW5jdGlvbihmdW5jdGlvbigpIHtcbiAgICAgIHRocm93IGV4Y2VwdGlvbjtcbiAgICB9KTtcbiAgfTtcbiAgdmFyIFByb21pc2VTdGF0ZSA9IHtQRU5ESU5HOjAsIEZVTEZJTExFRDoxLCBSRUpFQ1RFRDoyfSwgUG9seWZpbGxQcm9taXNlID0gZnVuY3Rpb24oZXhlY3V0b3IpIHtcbiAgICB0aGlzLnN0YXRlXyA9IFByb21pc2VTdGF0ZS5QRU5ESU5HO1xuICAgIHRoaXMucmVzdWx0XyA9IHZvaWQgMDtcbiAgICB0aGlzLm9uU2V0dGxlZENhbGxiYWNrc18gPSBbXTtcbiAgICB0aGlzLmlzUmVqZWN0aW9uSGFuZGxlZF8gPSAhMTtcbiAgICB2YXIgcmVzb2x2ZUFuZFJlamVjdCA9IHRoaXMuY3JlYXRlUmVzb2x2ZUFuZFJlamVjdF8oKTtcbiAgICB0cnkge1xuICAgICAgZXhlY3V0b3IocmVzb2x2ZUFuZFJlamVjdC5yZXNvbHZlLCByZXNvbHZlQW5kUmVqZWN0LnJlamVjdCk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgcmVzb2x2ZUFuZFJlamVjdC5yZWplY3QoZSk7XG4gICAgfVxuICB9O1xuICBQb2x5ZmlsbFByb21pc2UucHJvdG90eXBlLmNyZWF0ZVJlc29sdmVBbmRSZWplY3RfID0gZnVuY3Rpb24oKSB7XG4gICAgZnVuY3Rpb24gZmlyc3RDYWxsV2lucyhtZXRob2QpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbih4KSB7XG4gICAgICAgIGFscmVhZHlDYWxsZWQgfHwgKGFscmVhZHlDYWxsZWQgPSAhMCwgbWV0aG9kLmNhbGwodGhpc1Byb21pc2UsIHgpKTtcbiAgICAgIH07XG4gICAgfVxuICAgIHZhciB0aGlzUHJvbWlzZSA9IHRoaXMsIGFscmVhZHlDYWxsZWQgPSAhMTtcbiAgICByZXR1cm4ge3Jlc29sdmU6Zmlyc3RDYWxsV2lucyh0aGlzLnJlc29sdmVUb18pLCByZWplY3Q6Zmlyc3RDYWxsV2lucyh0aGlzLnJlamVjdF8pfTtcbiAgfTtcbiAgUG9seWZpbGxQcm9taXNlLnByb3RvdHlwZS5yZXNvbHZlVG9fID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICB2YWx1ZSA9PT0gdGhpcyA/IHRoaXMucmVqZWN0XyhuZXcgVHlwZUVycm9yKFwiQSBQcm9taXNlIGNhbm5vdCByZXNvbHZlIHRvIGl0c2VsZlwiKSkgOiB2YWx1ZSBpbnN0YW5jZW9mIFBvbHlmaWxsUHJvbWlzZSA/IHRoaXMuc2V0dGxlU2FtZUFzUHJvbWlzZV8odmFsdWUpIDogaXNPYmplY3QodmFsdWUpID8gdGhpcy5yZXNvbHZlVG9Ob25Qcm9taXNlT2JqXyh2YWx1ZSkgOiB0aGlzLmZ1bGZpbGxfKHZhbHVlKTtcbiAgfTtcbiAgUG9seWZpbGxQcm9taXNlLnByb3RvdHlwZS5yZXNvbHZlVG9Ob25Qcm9taXNlT2JqXyA9IGZ1bmN0aW9uKG9iaikge1xuICAgIHZhciB0aGVuTWV0aG9kID0gdm9pZCAwO1xuICAgIHRyeSB7XG4gICAgICB0aGVuTWV0aG9kID0gb2JqLnRoZW47XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHRoaXMucmVqZWN0XyhlcnJvcik7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgdGhlbk1ldGhvZCA/IHRoaXMuc2V0dGxlU2FtZUFzVGhlbmFibGVfKHRoZW5NZXRob2QsIG9iaikgOiB0aGlzLmZ1bGZpbGxfKG9iaik7XG4gIH07XG4gIFBvbHlmaWxsUHJvbWlzZS5wcm90b3R5cGUucmVqZWN0XyA9IGZ1bmN0aW9uKHJlYXNvbikge1xuICAgIHRoaXMuc2V0dGxlXyhQcm9taXNlU3RhdGUuUkVKRUNURUQsIHJlYXNvbik7XG4gIH07XG4gIFBvbHlmaWxsUHJvbWlzZS5wcm90b3R5cGUuZnVsZmlsbF8gPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgIHRoaXMuc2V0dGxlXyhQcm9taXNlU3RhdGUuRlVMRklMTEVELCB2YWx1ZSk7XG4gIH07XG4gIFBvbHlmaWxsUHJvbWlzZS5wcm90b3R5cGUuc2V0dGxlXyA9IGZ1bmN0aW9uKHNldHRsZWRTdGF0ZSwgdmFsdWVPclJlYXNvbikge1xuICAgIGlmICh0aGlzLnN0YXRlXyAhPSBQcm9taXNlU3RhdGUuUEVORElORykge1xuICAgICAgdGhyb3cgRXJyb3IoXCJDYW5ub3Qgc2V0dGxlKFwiICsgc2V0dGxlZFN0YXRlICsgXCIsIFwiICsgdmFsdWVPclJlYXNvbiArIFwiKTogUHJvbWlzZSBhbHJlYWR5IHNldHRsZWQgaW4gc3RhdGVcIiArIHRoaXMuc3RhdGVfKTtcbiAgICB9XG4gICAgdGhpcy5zdGF0ZV8gPSBzZXR0bGVkU3RhdGU7XG4gICAgdGhpcy5yZXN1bHRfID0gdmFsdWVPclJlYXNvbjtcbiAgICB0aGlzLnN0YXRlXyA9PT0gUHJvbWlzZVN0YXRlLlJFSkVDVEVEICYmIHRoaXMuc2NoZWR1bGVVbmhhbmRsZWRSZWplY3Rpb25DaGVja18oKTtcbiAgICB0aGlzLmV4ZWN1dGVPblNldHRsZWRDYWxsYmFja3NfKCk7XG4gIH07XG4gIFBvbHlmaWxsUHJvbWlzZS5wcm90b3R5cGUuc2NoZWR1bGVVbmhhbmRsZWRSZWplY3Rpb25DaGVja18gPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgbmF0aXZlU2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgIGlmIChzZWxmLm5vdGlmeVVuaGFuZGxlZFJlamVjdGlvbl8oKSkge1xuICAgICAgICB2YXIgbmF0aXZlQ29uc29sZSA9ICRqc2NvbXAuZ2xvYmFsLmNvbnNvbGU7XG4gICAgICAgIFwidW5kZWZpbmVkXCIgIT09IHR5cGVvZiBuYXRpdmVDb25zb2xlICYmIG5hdGl2ZUNvbnNvbGUuZXJyb3Ioc2VsZi5yZXN1bHRfKTtcbiAgICAgIH1cbiAgICB9LCAxKTtcbiAgfTtcbiAgUG9seWZpbGxQcm9taXNlLnByb3RvdHlwZS5ub3RpZnlVbmhhbmRsZWRSZWplY3Rpb25fID0gZnVuY3Rpb24oKSB7XG4gICAgaWYgKHRoaXMuaXNSZWplY3Rpb25IYW5kbGVkXykge1xuICAgICAgcmV0dXJuICExO1xuICAgIH1cbiAgICB2YXIgTmF0aXZlQ3VzdG9tRXZlbnQgPSAkanNjb21wLmdsb2JhbC5DdXN0b21FdmVudCwgTmF0aXZlRXZlbnQgPSAkanNjb21wLmdsb2JhbC5FdmVudCwgbmF0aXZlRGlzcGF0Y2hFdmVudCA9ICRqc2NvbXAuZ2xvYmFsLmRpc3BhdGNoRXZlbnQ7XG4gICAgaWYgKFwidW5kZWZpbmVkXCIgPT09IHR5cGVvZiBuYXRpdmVEaXNwYXRjaEV2ZW50KSB7XG4gICAgICByZXR1cm4gITA7XG4gICAgfVxuICAgIGlmIChcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBOYXRpdmVDdXN0b21FdmVudCkge1xuICAgICAgdmFyIGV2ZW50ID0gbmV3IE5hdGl2ZUN1c3RvbUV2ZW50KFwidW5oYW5kbGVkcmVqZWN0aW9uXCIsIHtjYW5jZWxhYmxlOiEwfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIE5hdGl2ZUV2ZW50ID8gZXZlbnQgPSBuZXcgTmF0aXZlRXZlbnQoXCJ1bmhhbmRsZWRyZWplY3Rpb25cIiwge2NhbmNlbGFibGU6ITB9KSA6IChldmVudCA9ICRqc2NvbXAuZ2xvYmFsLmRvY3VtZW50LmNyZWF0ZUV2ZW50KFwiQ3VzdG9tRXZlbnRcIiksIGV2ZW50LmluaXRDdXN0b21FdmVudChcInVuaGFuZGxlZHJlamVjdGlvblwiLCAhMSwgITAsIGV2ZW50KSk7XG4gICAgfVxuICAgIGV2ZW50LnByb21pc2UgPSB0aGlzO1xuICAgIGV2ZW50LnJlYXNvbiA9IHRoaXMucmVzdWx0XztcbiAgICByZXR1cm4gbmF0aXZlRGlzcGF0Y2hFdmVudChldmVudCk7XG4gIH07XG4gIFBvbHlmaWxsUHJvbWlzZS5wcm90b3R5cGUuZXhlY3V0ZU9uU2V0dGxlZENhbGxiYWNrc18gPSBmdW5jdGlvbigpIHtcbiAgICBpZiAobnVsbCAhPSB0aGlzLm9uU2V0dGxlZENhbGxiYWNrc18pIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5vblNldHRsZWRDYWxsYmFja3NfLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIGFzeW5jRXhlY3V0b3IuYXN5bmNFeGVjdXRlKHRoaXMub25TZXR0bGVkQ2FsbGJhY2tzX1tpXSk7XG4gICAgICB9XG4gICAgICB0aGlzLm9uU2V0dGxlZENhbGxiYWNrc18gPSBudWxsO1xuICAgIH1cbiAgfTtcbiAgdmFyIGFzeW5jRXhlY3V0b3IgPSBuZXcgQXN5bmNFeGVjdXRvcigpO1xuICBQb2x5ZmlsbFByb21pc2UucHJvdG90eXBlLnNldHRsZVNhbWVBc1Byb21pc2VfID0gZnVuY3Rpb24ocHJvbWlzZSkge1xuICAgIHZhciBtZXRob2RzID0gdGhpcy5jcmVhdGVSZXNvbHZlQW5kUmVqZWN0XygpO1xuICAgIHByb21pc2UuY2FsbFdoZW5TZXR0bGVkXyhtZXRob2RzLnJlc29sdmUsIG1ldGhvZHMucmVqZWN0KTtcbiAgfTtcbiAgUG9seWZpbGxQcm9taXNlLnByb3RvdHlwZS5zZXR0bGVTYW1lQXNUaGVuYWJsZV8gPSBmdW5jdGlvbih0aGVuTWV0aG9kLCB0aGVuYWJsZSkge1xuICAgIHZhciBtZXRob2RzID0gdGhpcy5jcmVhdGVSZXNvbHZlQW5kUmVqZWN0XygpO1xuICAgIHRyeSB7XG4gICAgICB0aGVuTWV0aG9kLmNhbGwodGhlbmFibGUsIG1ldGhvZHMucmVzb2x2ZSwgbWV0aG9kcy5yZWplY3QpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBtZXRob2RzLnJlamVjdChlcnJvcik7XG4gICAgfVxuICB9O1xuICBQb2x5ZmlsbFByb21pc2UucHJvdG90eXBlLnRoZW4gPSBmdW5jdGlvbihvbkZ1bGZpbGxlZCwgb25SZWplY3RlZCkge1xuICAgIGZ1bmN0aW9uIGNyZWF0ZUNhbGxiYWNrKHBhcmFtRiwgZGVmYXVsdEYpIHtcbiAgICAgIHJldHVybiBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIHBhcmFtRiA/IGZ1bmN0aW9uKHgpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICByZXNvbHZlQ2hpbGQocGFyYW1GKHgpKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICByZWplY3RDaGlsZChlcnJvcik7XG4gICAgICAgIH1cbiAgICAgIH0gOiBkZWZhdWx0RjtcbiAgICB9XG4gICAgdmFyIHJlc29sdmVDaGlsZCwgcmVqZWN0Q2hpbGQsIGNoaWxkUHJvbWlzZSA9IG5ldyBQb2x5ZmlsbFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICByZXNvbHZlQ2hpbGQgPSByZXNvbHZlO1xuICAgICAgcmVqZWN0Q2hpbGQgPSByZWplY3Q7XG4gICAgfSk7XG4gICAgdGhpcy5jYWxsV2hlblNldHRsZWRfKGNyZWF0ZUNhbGxiYWNrKG9uRnVsZmlsbGVkLCByZXNvbHZlQ2hpbGQpLCBjcmVhdGVDYWxsYmFjayhvblJlamVjdGVkLCByZWplY3RDaGlsZCkpO1xuICAgIHJldHVybiBjaGlsZFByb21pc2U7XG4gIH07XG4gIFBvbHlmaWxsUHJvbWlzZS5wcm90b3R5cGUuY2F0Y2ggPSBmdW5jdGlvbihvblJlamVjdGVkKSB7XG4gICAgcmV0dXJuIHRoaXMudGhlbih2b2lkIDAsIG9uUmVqZWN0ZWQpO1xuICB9O1xuICBQb2x5ZmlsbFByb21pc2UucHJvdG90eXBlLmNhbGxXaGVuU2V0dGxlZF8gPSBmdW5jdGlvbihvbkZ1bGZpbGxlZCwgb25SZWplY3RlZCkge1xuICAgIGZ1bmN0aW9uIGNhbGxiYWNrKCkge1xuICAgICAgc3dpdGNoKHRoaXNQcm9taXNlLnN0YXRlXykge1xuICAgICAgICBjYXNlIFByb21pc2VTdGF0ZS5GVUxGSUxMRUQ6XG4gICAgICAgICAgb25GdWxmaWxsZWQodGhpc1Byb21pc2UucmVzdWx0Xyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgUHJvbWlzZVN0YXRlLlJFSkVDVEVEOlxuICAgICAgICAgIG9uUmVqZWN0ZWQodGhpc1Byb21pc2UucmVzdWx0Xyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgdGhyb3cgRXJyb3IoXCJVbmV4cGVjdGVkIHN0YXRlOiBcIiArIHRoaXNQcm9taXNlLnN0YXRlXyk7XG4gICAgICB9XG4gICAgfVxuICAgIHZhciB0aGlzUHJvbWlzZSA9IHRoaXM7XG4gICAgbnVsbCA9PSB0aGlzLm9uU2V0dGxlZENhbGxiYWNrc18gPyBhc3luY0V4ZWN1dG9yLmFzeW5jRXhlY3V0ZShjYWxsYmFjaykgOiB0aGlzLm9uU2V0dGxlZENhbGxiYWNrc18ucHVzaChjYWxsYmFjayk7XG4gICAgdGhpcy5pc1JlamVjdGlvbkhhbmRsZWRfID0gITA7XG4gIH07XG4gIFBvbHlmaWxsUHJvbWlzZS5yZXNvbHZlID0gcmVzb2x2aW5nUHJvbWlzZTtcbiAgUG9seWZpbGxQcm9taXNlLnJlamVjdCA9IGZ1bmN0aW9uKG9wdF9yZWFzb24pIHtcbiAgICByZXR1cm4gbmV3IFBvbHlmaWxsUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIHJlamVjdChvcHRfcmVhc29uKTtcbiAgICB9KTtcbiAgfTtcbiAgUG9seWZpbGxQcm9taXNlLnJhY2UgPSBmdW5jdGlvbih0aGVuYWJsZXNPclZhbHVlcykge1xuICAgIHJldHVybiBuZXcgUG9seWZpbGxQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgZm9yICh2YXIgaXRlcmF0b3IgPSAkanNjb21wLm1ha2VJdGVyYXRvcih0aGVuYWJsZXNPclZhbHVlcyksIGl0ZXJSZWMgPSBpdGVyYXRvci5uZXh0KCk7ICFpdGVyUmVjLmRvbmU7IGl0ZXJSZWMgPSBpdGVyYXRvci5uZXh0KCkpIHtcbiAgICAgICAgcmVzb2x2aW5nUHJvbWlzZShpdGVyUmVjLnZhbHVlKS5jYWxsV2hlblNldHRsZWRfKHJlc29sdmUsIHJlamVjdCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG4gIFBvbHlmaWxsUHJvbWlzZS5hbGwgPSBmdW5jdGlvbih0aGVuYWJsZXNPclZhbHVlcykge1xuICAgIHZhciBpdGVyYXRvciA9ICRqc2NvbXAubWFrZUl0ZXJhdG9yKHRoZW5hYmxlc09yVmFsdWVzKSwgaXRlclJlYyA9IGl0ZXJhdG9yLm5leHQoKTtcbiAgICByZXR1cm4gaXRlclJlYy5kb25lID8gcmVzb2x2aW5nUHJvbWlzZShbXSkgOiBuZXcgUG9seWZpbGxQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmVBbGwsIHJlamVjdEFsbCkge1xuICAgICAgZnVuY3Rpb24gb25GdWxmaWxsZWQoaSkge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24oaXRoUmVzdWx0KSB7XG4gICAgICAgICAgcmVzdWx0c0FycmF5W2ldID0gaXRoUmVzdWx0O1xuICAgICAgICAgIHVucmVzb2x2ZWRDb3VudC0tO1xuICAgICAgICAgIDAgPT0gdW5yZXNvbHZlZENvdW50ICYmIHJlc29sdmVBbGwocmVzdWx0c0FycmF5KTtcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIHZhciByZXN1bHRzQXJyYXkgPSBbXSwgdW5yZXNvbHZlZENvdW50ID0gMDtcbiAgICAgIGRvIHtcbiAgICAgICAgcmVzdWx0c0FycmF5LnB1c2godm9pZCAwKSwgdW5yZXNvbHZlZENvdW50KyssIHJlc29sdmluZ1Byb21pc2UoaXRlclJlYy52YWx1ZSkuY2FsbFdoZW5TZXR0bGVkXyhvbkZ1bGZpbGxlZChyZXN1bHRzQXJyYXkubGVuZ3RoIC0gMSksIHJlamVjdEFsbCksIGl0ZXJSZWMgPSBpdGVyYXRvci5uZXh0KCk7XG4gICAgICB9IHdoaWxlICghaXRlclJlYy5kb25lKTtcbiAgICB9KTtcbiAgfTtcbiAgcmV0dXJuIFBvbHlmaWxsUHJvbWlzZTtcbn0sIFwiZXM2XCIsIFwiZXMzXCIpO1xuJGpzY29tcC5jaGVja0VzNkNvbmZvcm1hbmNlVmlhUHJveHkgPSBmdW5jdGlvbigpIHtcbiAgdHJ5IHtcbiAgICB2YXIgcHJveGllZCA9IHt9LCBwcm94eSA9IE9iamVjdC5jcmVhdGUobmV3ICRqc2NvbXAuZ2xvYmFsLlByb3h5KHByb3hpZWQsIHtnZXQ6ZnVuY3Rpb24odGFyZ2V0LCBrZXksIHJlY2VpdmVyKSB7XG4gICAgICByZXR1cm4gdGFyZ2V0ID09IHByb3hpZWQgJiYgXCJxXCIgPT0ga2V5ICYmIHJlY2VpdmVyID09IHByb3h5O1xuICAgIH19KSk7XG4gICAgcmV0dXJuICEwID09PSBwcm94eS5xO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICByZXR1cm4gITE7XG4gIH1cbn07XG4kanNjb21wLlVTRV9QUk9YWV9GT1JfRVM2X0NPTkZPUk1BTkNFX0NIRUNLUyA9ICExO1xuJGpzY29tcC5FUzZfQ09ORk9STUFOQ0UgPSAkanNjb21wLlVTRV9QUk9YWV9GT1JfRVM2X0NPTkZPUk1BTkNFX0NIRUNLUyAmJiAkanNjb21wLmNoZWNrRXM2Q29uZm9ybWFuY2VWaWFQcm94eSgpO1xuJGpzY29tcC5wb2x5ZmlsbChcIldlYWtNYXBcIiwgZnVuY3Rpb24oTmF0aXZlV2Vha01hcCkge1xuICBmdW5jdGlvbiBpc0NvbmZvcm1hbnQoKSB7XG4gICAgaWYgKCFOYXRpdmVXZWFrTWFwIHx8ICFPYmplY3Quc2VhbCkge1xuICAgICAgcmV0dXJuICExO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgdmFyIHggPSBPYmplY3Quc2VhbCh7fSksIHkgPSBPYmplY3Quc2VhbCh7fSksIG1hcCA9IG5ldyBOYXRpdmVXZWFrTWFwKFtbeCwgMl0sIFt5LCAzXV0pO1xuICAgICAgaWYgKDIgIT0gbWFwLmdldCh4KSB8fCAzICE9IG1hcC5nZXQoeSkpIHtcbiAgICAgICAgcmV0dXJuICExO1xuICAgICAgfVxuICAgICAgbWFwLmRlbGV0ZSh4KTtcbiAgICAgIG1hcC5zZXQoeSwgNCk7XG4gICAgICByZXR1cm4gIW1hcC5oYXMoeCkgJiYgNCA9PSBtYXAuZ2V0KHkpO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgcmV0dXJuICExO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBXZWFrTWFwTWVtYmVyc2hpcCgpIHtcbiAgfVxuICBmdW5jdGlvbiBpc1ZhbGlkS2V5KGtleSkge1xuICAgIHZhciB0eXBlID0gdHlwZW9mIGtleTtcbiAgICByZXR1cm4gXCJvYmplY3RcIiA9PT0gdHlwZSAmJiBudWxsICE9PSBrZXkgfHwgXCJmdW5jdGlvblwiID09PSB0eXBlO1xuICB9XG4gIGZ1bmN0aW9uIGluc2VydCh0YXJnZXQpIHtcbiAgICBpZiAoISRqc2NvbXAub3ducyh0YXJnZXQsIHByb3ApKSB7XG4gICAgICB2YXIgb2JqID0gbmV3IFdlYWtNYXBNZW1iZXJzaGlwKCk7XG4gICAgICAkanNjb21wLmRlZmluZVByb3BlcnR5KHRhcmdldCwgcHJvcCwge3ZhbHVlOm9ian0pO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBwYXRjaChuYW1lKSB7XG4gICAgaWYgKCEkanNjb21wLklTT0xBVEVfUE9MWUZJTExTKSB7XG4gICAgICB2YXIgcHJldiA9IE9iamVjdFtuYW1lXTtcbiAgICAgIHByZXYgJiYgKE9iamVjdFtuYW1lXSA9IGZ1bmN0aW9uKHRhcmdldCkge1xuICAgICAgICBpZiAodGFyZ2V0IGluc3RhbmNlb2YgV2Vha01hcE1lbWJlcnNoaXApIHtcbiAgICAgICAgICByZXR1cm4gdGFyZ2V0O1xuICAgICAgICB9XG4gICAgICAgIE9iamVjdC5pc0V4dGVuc2libGUodGFyZ2V0KSAmJiBpbnNlcnQodGFyZ2V0KTtcbiAgICAgICAgcmV0dXJuIHByZXYodGFyZ2V0KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuICBpZiAoJGpzY29tcC5VU0VfUFJPWFlfRk9SX0VTNl9DT05GT1JNQU5DRV9DSEVDS1MpIHtcbiAgICBpZiAoTmF0aXZlV2Vha01hcCAmJiAkanNjb21wLkVTNl9DT05GT1JNQU5DRSkge1xuICAgICAgcmV0dXJuIE5hdGl2ZVdlYWtNYXA7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGlmIChpc0NvbmZvcm1hbnQoKSkge1xuICAgICAgcmV0dXJuIE5hdGl2ZVdlYWtNYXA7XG4gICAgfVxuICB9XG4gIHZhciBwcm9wID0gXCIkanNjb21wX2hpZGRlbl9cIiArIE1hdGgucmFuZG9tKCk7XG4gIHBhdGNoKFwiZnJlZXplXCIpO1xuICBwYXRjaChcInByZXZlbnRFeHRlbnNpb25zXCIpO1xuICBwYXRjaChcInNlYWxcIik7XG4gIHZhciBpbmRleCA9IDAsIFBvbHlmaWxsV2Vha01hcCA9IGZ1bmN0aW9uKG9wdF9pdGVyYWJsZSkge1xuICAgIHRoaXMuaWRfID0gKGluZGV4ICs9IE1hdGgucmFuZG9tKCkgKyAxKS50b1N0cmluZygpO1xuICAgIGlmIChvcHRfaXRlcmFibGUpIHtcbiAgICAgIGZvciAodmFyIGl0ZXIgPSAkanNjb21wLm1ha2VJdGVyYXRvcihvcHRfaXRlcmFibGUpLCBlbnRyeTsgIShlbnRyeSA9IGl0ZXIubmV4dCgpKS5kb25lOykge1xuICAgICAgICB2YXIgaXRlbSA9IGVudHJ5LnZhbHVlO1xuICAgICAgICB0aGlzLnNldChpdGVtWzBdLCBpdGVtWzFdKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIFBvbHlmaWxsV2Vha01hcC5wcm90b3R5cGUuc2V0ID0gZnVuY3Rpb24oa2V5LCB2YWx1ZSkge1xuICAgIGlmICghaXNWYWxpZEtleShrZXkpKSB7XG4gICAgICB0aHJvdyBFcnJvcihcIkludmFsaWQgV2Vha01hcCBrZXlcIik7XG4gICAgfVxuICAgIGluc2VydChrZXkpO1xuICAgIGlmICghJGpzY29tcC5vd25zKGtleSwgcHJvcCkpIHtcbiAgICAgIHRocm93IEVycm9yKFwiV2Vha01hcCBrZXkgZmFpbDogXCIgKyBrZXkpO1xuICAgIH1cbiAgICBrZXlbcHJvcF1bdGhpcy5pZF9dID0gdmFsdWU7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG4gIFBvbHlmaWxsV2Vha01hcC5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24oa2V5KSB7XG4gICAgcmV0dXJuIGlzVmFsaWRLZXkoa2V5KSAmJiAkanNjb21wLm93bnMoa2V5LCBwcm9wKSA/IGtleVtwcm9wXVt0aGlzLmlkX10gOiB2b2lkIDA7XG4gIH07XG4gIFBvbHlmaWxsV2Vha01hcC5wcm90b3R5cGUuaGFzID0gZnVuY3Rpb24oa2V5KSB7XG4gICAgcmV0dXJuIGlzVmFsaWRLZXkoa2V5KSAmJiAkanNjb21wLm93bnMoa2V5LCBwcm9wKSAmJiAkanNjb21wLm93bnMoa2V5W3Byb3BdLCB0aGlzLmlkXyk7XG4gIH07XG4gIFBvbHlmaWxsV2Vha01hcC5wcm90b3R5cGUuZGVsZXRlID0gZnVuY3Rpb24oa2V5KSB7XG4gICAgcmV0dXJuIGlzVmFsaWRLZXkoa2V5KSAmJiAkanNjb21wLm93bnMoa2V5LCBwcm9wKSAmJiAkanNjb21wLm93bnMoa2V5W3Byb3BdLCB0aGlzLmlkXykgPyBkZWxldGUga2V5W3Byb3BdW3RoaXMuaWRfXSA6ICExO1xuICB9O1xuICByZXR1cm4gUG9seWZpbGxXZWFrTWFwO1xufSwgXCJlczZcIiwgXCJlczNcIik7XG4kanNjb21wLk1hcEVudHJ5ID0gZnVuY3Rpb24oKSB7XG59O1xuJGpzY29tcC5wb2x5ZmlsbChcIk1hcFwiLCBmdW5jdGlvbihOYXRpdmVNYXApIHtcbiAgZnVuY3Rpb24gaXNDb25mb3JtYW50KCkge1xuICAgIGlmICgkanNjb21wLkFTU1VNRV9OT19OQVRJVkVfTUFQIHx8ICFOYXRpdmVNYXAgfHwgXCJmdW5jdGlvblwiICE9IHR5cGVvZiBOYXRpdmVNYXAgfHwgIU5hdGl2ZU1hcC5wcm90b3R5cGUuZW50cmllcyB8fCBcImZ1bmN0aW9uXCIgIT0gdHlwZW9mIE9iamVjdC5zZWFsKSB7XG4gICAgICByZXR1cm4gITE7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICB2YXIga2V5ID0gT2JqZWN0LnNlYWwoe3g6NH0pLCBtYXAgPSBuZXcgTmF0aXZlTWFwKCRqc2NvbXAubWFrZUl0ZXJhdG9yKFtba2V5LCBcInNcIl1dKSk7XG4gICAgICBpZiAoXCJzXCIgIT0gbWFwLmdldChrZXkpIHx8IDEgIT0gbWFwLnNpemUgfHwgbWFwLmdldCh7eDo0fSkgfHwgbWFwLnNldCh7eDo0fSwgXCJ0XCIpICE9IG1hcCB8fCAyICE9IG1hcC5zaXplKSB7XG4gICAgICAgIHJldHVybiAhMTtcbiAgICAgIH1cbiAgICAgIHZhciBpdGVyID0gbWFwLmVudHJpZXMoKSwgaXRlbSA9IGl0ZXIubmV4dCgpO1xuICAgICAgaWYgKGl0ZW0uZG9uZSB8fCBpdGVtLnZhbHVlWzBdICE9IGtleSB8fCBcInNcIiAhPSBpdGVtLnZhbHVlWzFdKSB7XG4gICAgICAgIHJldHVybiAhMTtcbiAgICAgIH1cbiAgICAgIGl0ZW0gPSBpdGVyLm5leHQoKTtcbiAgICAgIHJldHVybiBpdGVtLmRvbmUgfHwgNCAhPSBpdGVtLnZhbHVlWzBdLnggfHwgXCJ0XCIgIT0gaXRlbS52YWx1ZVsxXSB8fCAhaXRlci5uZXh0KCkuZG9uZSA/ICExIDogITA7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICByZXR1cm4gITE7XG4gICAgfVxuICB9XG4gIGlmICgkanNjb21wLlVTRV9QUk9YWV9GT1JfRVM2X0NPTkZPUk1BTkNFX0NIRUNLUykge1xuICAgIGlmIChOYXRpdmVNYXAgJiYgJGpzY29tcC5FUzZfQ09ORk9STUFOQ0UpIHtcbiAgICAgIHJldHVybiBOYXRpdmVNYXA7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGlmIChpc0NvbmZvcm1hbnQoKSkge1xuICAgICAgcmV0dXJuIE5hdGl2ZU1hcDtcbiAgICB9XG4gIH1cbiAgdmFyIGlkTWFwID0gbmV3IFdlYWtNYXAoKSwgUG9seWZpbGxNYXAgPSBmdW5jdGlvbihvcHRfaXRlcmFibGUpIHtcbiAgICB0aGlzLmRhdGFfID0ge307XG4gICAgdGhpcy5oZWFkXyA9IGNyZWF0ZUhlYWQoKTtcbiAgICB0aGlzLnNpemUgPSAwO1xuICAgIGlmIChvcHRfaXRlcmFibGUpIHtcbiAgICAgIGZvciAodmFyIGl0ZXIgPSAkanNjb21wLm1ha2VJdGVyYXRvcihvcHRfaXRlcmFibGUpLCBlbnRyeTsgIShlbnRyeSA9IGl0ZXIubmV4dCgpKS5kb25lOykge1xuICAgICAgICB2YXIgaXRlbSA9IGVudHJ5LnZhbHVlO1xuICAgICAgICB0aGlzLnNldChpdGVtWzBdLCBpdGVtWzFdKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIFBvbHlmaWxsTWFwLnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbihrZXksIHZhbHVlKSB7XG4gICAga2V5ID0gMCA9PT0ga2V5ID8gMCA6IGtleTtcbiAgICB2YXIgciA9IG1heWJlR2V0RW50cnkodGhpcywga2V5KTtcbiAgICByLmxpc3QgfHwgKHIubGlzdCA9IHRoaXMuZGF0YV9bci5pZF0gPSBbXSk7XG4gICAgci5lbnRyeSA/IHIuZW50cnkudmFsdWUgPSB2YWx1ZSA6IChyLmVudHJ5ID0ge25leHQ6dGhpcy5oZWFkXywgcHJldmlvdXM6dGhpcy5oZWFkXy5wcmV2aW91cywgaGVhZDp0aGlzLmhlYWRfLCBrZXk6a2V5LCB2YWx1ZTp2YWx1ZSx9LCByLmxpc3QucHVzaChyLmVudHJ5KSwgdGhpcy5oZWFkXy5wcmV2aW91cy5uZXh0ID0gci5lbnRyeSwgdGhpcy5oZWFkXy5wcmV2aW91cyA9IHIuZW50cnksIHRoaXMuc2l6ZSsrKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcbiAgUG9seWZpbGxNYXAucHJvdG90eXBlLmRlbGV0ZSA9IGZ1bmN0aW9uKGtleSkge1xuICAgIHZhciByID0gbWF5YmVHZXRFbnRyeSh0aGlzLCBrZXkpO1xuICAgIHJldHVybiByLmVudHJ5ICYmIHIubGlzdCA/IChyLmxpc3Quc3BsaWNlKHIuaW5kZXgsIDEpLCByLmxpc3QubGVuZ3RoIHx8IGRlbGV0ZSB0aGlzLmRhdGFfW3IuaWRdLCByLmVudHJ5LnByZXZpb3VzLm5leHQgPSByLmVudHJ5Lm5leHQsIHIuZW50cnkubmV4dC5wcmV2aW91cyA9IHIuZW50cnkucHJldmlvdXMsIHIuZW50cnkuaGVhZCA9IG51bGwsIHRoaXMuc2l6ZS0tLCAhMCkgOiAhMTtcbiAgfTtcbiAgUG9seWZpbGxNYXAucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5kYXRhXyA9IHt9O1xuICAgIHRoaXMuaGVhZF8gPSB0aGlzLmhlYWRfLnByZXZpb3VzID0gY3JlYXRlSGVhZCgpO1xuICAgIHRoaXMuc2l6ZSA9IDA7XG4gIH07XG4gIFBvbHlmaWxsTWFwLnByb3RvdHlwZS5oYXMgPSBmdW5jdGlvbihrZXkpIHtcbiAgICByZXR1cm4gISFtYXliZUdldEVudHJ5KHRoaXMsIGtleSkuZW50cnk7XG4gIH07XG4gIFBvbHlmaWxsTWFwLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbihrZXkpIHtcbiAgICB2YXIgZW50cnkgPSBtYXliZUdldEVudHJ5KHRoaXMsIGtleSkuZW50cnk7XG4gICAgcmV0dXJuIGVudHJ5ICYmIGVudHJ5LnZhbHVlO1xuICB9O1xuICBQb2x5ZmlsbE1hcC5wcm90b3R5cGUuZW50cmllcyA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBtYWtlSXRlcmF0b3IodGhpcywgZnVuY3Rpb24oZW50cnkpIHtcbiAgICAgIHJldHVybiBbZW50cnkua2V5LCBlbnRyeS52YWx1ZV07XG4gICAgfSk7XG4gIH07XG4gIFBvbHlmaWxsTWFwLnByb3RvdHlwZS5rZXlzID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIG1ha2VJdGVyYXRvcih0aGlzLCBmdW5jdGlvbihlbnRyeSkge1xuICAgICAgcmV0dXJuIGVudHJ5LmtleTtcbiAgICB9KTtcbiAgfTtcbiAgUG9seWZpbGxNYXAucHJvdG90eXBlLnZhbHVlcyA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBtYWtlSXRlcmF0b3IodGhpcywgZnVuY3Rpb24oZW50cnkpIHtcbiAgICAgIHJldHVybiBlbnRyeS52YWx1ZTtcbiAgICB9KTtcbiAgfTtcbiAgUG9seWZpbGxNYXAucHJvdG90eXBlLmZvckVhY2ggPSBmdW5jdGlvbihjYWxsYmFjaywgb3B0X3RoaXNBcmcpIHtcbiAgICBmb3IgKHZhciBpdGVyID0gdGhpcy5lbnRyaWVzKCksIGl0ZW07ICEoaXRlbSA9IGl0ZXIubmV4dCgpKS5kb25lOykge1xuICAgICAgdmFyIGVudHJ5ID0gaXRlbS52YWx1ZTtcbiAgICAgIGNhbGxiYWNrLmNhbGwob3B0X3RoaXNBcmcsIGVudHJ5WzFdLCBlbnRyeVswXSwgdGhpcyk7XG4gICAgfVxuICB9O1xuICBQb2x5ZmlsbE1hcC5wcm90b3R5cGVbU3ltYm9sLml0ZXJhdG9yXSA9IFBvbHlmaWxsTWFwLnByb3RvdHlwZS5lbnRyaWVzO1xuICB2YXIgbWF5YmVHZXRFbnRyeSA9IGZ1bmN0aW9uKG1hcCwga2V5KSB7XG4gICAgdmFyIGlkID0gZ2V0SWQoa2V5KSwgbGlzdCA9IG1hcC5kYXRhX1tpZF07XG4gICAgaWYgKGxpc3QgJiYgJGpzY29tcC5vd25zKG1hcC5kYXRhXywgaWQpKSB7XG4gICAgICBmb3IgKHZhciBpbmRleCA9IDA7IGluZGV4IDwgbGlzdC5sZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgdmFyIGVudHJ5ID0gbGlzdFtpbmRleF07XG4gICAgICAgIGlmIChrZXkgIT09IGtleSAmJiBlbnRyeS5rZXkgIT09IGVudHJ5LmtleSB8fCBrZXkgPT09IGVudHJ5LmtleSkge1xuICAgICAgICAgIHJldHVybiB7aWQ6aWQsIGxpc3Q6bGlzdCwgaW5kZXg6aW5kZXgsIGVudHJ5OmVudHJ5fTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4ge2lkOmlkLCBsaXN0Omxpc3QsIGluZGV4Oi0xLCBlbnRyeTp2b2lkIDB9O1xuICB9LCBtYWtlSXRlcmF0b3IgPSBmdW5jdGlvbihtYXAsIGZ1bmMpIHtcbiAgICB2YXIgZW50cnkgPSBtYXAuaGVhZF87XG4gICAgcmV0dXJuICRqc2NvbXAuaXRlcmF0b3JQcm90b3R5cGUoZnVuY3Rpb24oKSB7XG4gICAgICBpZiAoZW50cnkpIHtcbiAgICAgICAgZm9yICg7IGVudHJ5LmhlYWQgIT0gbWFwLmhlYWRfOykge1xuICAgICAgICAgIGVudHJ5ID0gZW50cnkucHJldmlvdXM7XG4gICAgICAgIH1cbiAgICAgICAgZm9yICg7IGVudHJ5Lm5leHQgIT0gZW50cnkuaGVhZDspIHtcbiAgICAgICAgICByZXR1cm4gZW50cnkgPSBlbnRyeS5uZXh0LCB7ZG9uZTohMSwgdmFsdWU6ZnVuYyhlbnRyeSl9O1xuICAgICAgICB9XG4gICAgICAgIGVudHJ5ID0gbnVsbDtcbiAgICAgIH1cbiAgICAgIHJldHVybiB7ZG9uZTohMCwgdmFsdWU6dm9pZCAwfTtcbiAgICB9KTtcbiAgfSwgY3JlYXRlSGVhZCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBoZWFkID0ge307XG4gICAgcmV0dXJuIGhlYWQucHJldmlvdXMgPSBoZWFkLm5leHQgPSBoZWFkLmhlYWQgPSBoZWFkO1xuICB9LCBtYXBJbmRleCA9IDAsIGdldElkID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgdmFyIHR5cGUgPSBvYmogJiYgdHlwZW9mIG9iajtcbiAgICBpZiAoXCJvYmplY3RcIiA9PSB0eXBlIHx8IFwiZnVuY3Rpb25cIiA9PSB0eXBlKSB7XG4gICAgICBpZiAoIWlkTWFwLmhhcyhvYmopKSB7XG4gICAgICAgIHZhciBpZCA9IFwiXCIgKyArK21hcEluZGV4O1xuICAgICAgICBpZE1hcC5zZXQob2JqLCBpZCk7XG4gICAgICAgIHJldHVybiBpZDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBpZE1hcC5nZXQob2JqKTtcbiAgICB9XG4gICAgcmV0dXJuIFwicF9cIiArIG9iajtcbiAgfTtcbiAgcmV0dXJuIFBvbHlmaWxsTWFwO1xufSwgXCJlczZcIiwgXCJlczNcIik7XG4kanNjb21wLmZpbmRJbnRlcm5hbCA9IGZ1bmN0aW9uKGFycmF5LCBjYWxsYmFjaywgdGhpc0FyZykge1xuICBhcnJheSBpbnN0YW5jZW9mIFN0cmluZyAmJiAoYXJyYXkgPSBTdHJpbmcoYXJyYXkpKTtcbiAgZm9yICh2YXIgbGVuID0gYXJyYXkubGVuZ3RoLCBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgdmFyIHZhbHVlID0gYXJyYXlbaV07XG4gICAgaWYgKGNhbGxiYWNrLmNhbGwodGhpc0FyZywgdmFsdWUsIGksIGFycmF5KSkge1xuICAgICAgcmV0dXJuIHtpOmksIHY6dmFsdWV9O1xuICAgIH1cbiAgfVxuICByZXR1cm4ge2k6LTEsIHY6dm9pZCAwfTtcbn07XG4kanNjb21wLnBvbHlmaWxsKFwiQXJyYXkucHJvdG90eXBlLmZpbmRcIiwgZnVuY3Rpb24ob3JpZykge1xuICByZXR1cm4gb3JpZyA/IG9yaWcgOiBmdW5jdGlvbihjYWxsYmFjaywgb3B0X3RoaXNBcmcpIHtcbiAgICByZXR1cm4gJGpzY29tcC5maW5kSW50ZXJuYWwodGhpcywgY2FsbGJhY2ssIG9wdF90aGlzQXJnKS52O1xuICB9O1xufSwgXCJlczZcIiwgXCJlczNcIik7XG4kanNjb21wLmNoZWNrU3RyaW5nQXJncyA9IGZ1bmN0aW9uKHRoaXNBcmcsIGFyZywgZnVuYykge1xuICBpZiAobnVsbCA9PSB0aGlzQXJnKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlRoZSAndGhpcycgdmFsdWUgZm9yIFN0cmluZy5wcm90b3R5cGUuXCIgKyBmdW5jICsgXCIgbXVzdCBub3QgYmUgbnVsbCBvciB1bmRlZmluZWRcIik7XG4gIH1cbiAgaWYgKGFyZyBpbnN0YW5jZW9mIFJlZ0V4cCkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJGaXJzdCBhcmd1bWVudCB0byBTdHJpbmcucHJvdG90eXBlLlwiICsgZnVuYyArIFwiIG11c3Qgbm90IGJlIGEgcmVndWxhciBleHByZXNzaW9uXCIpO1xuICB9XG4gIHJldHVybiB0aGlzQXJnICsgXCJcIjtcbn07XG4kanNjb21wLnBvbHlmaWxsKFwiU3RyaW5nLnByb3RvdHlwZS5yZXBlYXRcIiwgZnVuY3Rpb24ob3JpZykge1xuICByZXR1cm4gb3JpZyA/IG9yaWcgOiBmdW5jdGlvbihjb3BpZXMpIHtcbiAgICB2YXIgc3RyaW5nID0gJGpzY29tcC5jaGVja1N0cmluZ0FyZ3ModGhpcywgbnVsbCwgXCJyZXBlYXRcIik7XG4gICAgaWYgKDAgPiBjb3BpZXMgfHwgMTM0MjE3NzI3OSA8IGNvcGllcykge1xuICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJJbnZhbGlkIGNvdW50IHZhbHVlXCIpO1xuICAgIH1cbiAgICBjb3BpZXMgfD0gMDtcbiAgICBmb3IgKHZhciByZXN1bHQgPSBcIlwiOyBjb3BpZXM7KSB7XG4gICAgICBpZiAoY29waWVzICYgMSAmJiAocmVzdWx0ICs9IHN0cmluZyksIGNvcGllcyA+Pj49IDEpIHtcbiAgICAgICAgc3RyaW5nICs9IHN0cmluZztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcbn0sIFwiZXM2XCIsIFwiZXMzXCIpO1xuJGpzY29tcC5pdGVyYXRvckZyb21BcnJheSA9IGZ1bmN0aW9uKGFycmF5LCB0cmFuc2Zvcm0pIHtcbiAgYXJyYXkgaW5zdGFuY2VvZiBTdHJpbmcgJiYgKGFycmF5ICs9IFwiXCIpO1xuICB2YXIgaSA9IDAsIGRvbmUgPSAhMSwgaXRlciA9IHtuZXh0OmZ1bmN0aW9uKCkge1xuICAgIGlmICghZG9uZSAmJiBpIDwgYXJyYXkubGVuZ3RoKSB7XG4gICAgICB2YXIgaW5kZXggPSBpKys7XG4gICAgICByZXR1cm4ge3ZhbHVlOnRyYW5zZm9ybShpbmRleCwgYXJyYXlbaW5kZXhdKSwgZG9uZTohMX07XG4gICAgfVxuICAgIGRvbmUgPSAhMDtcbiAgICByZXR1cm4ge2RvbmU6ITAsIHZhbHVlOnZvaWQgMH07XG4gIH19O1xuICBpdGVyW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gaXRlcjtcbiAgfTtcbiAgcmV0dXJuIGl0ZXI7XG59O1xuJGpzY29tcC5wb2x5ZmlsbChcIkFycmF5LnByb3RvdHlwZS5rZXlzXCIsIGZ1bmN0aW9uKG9yaWcpIHtcbiAgcmV0dXJuIG9yaWcgPyBvcmlnIDogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuICRqc2NvbXAuaXRlcmF0b3JGcm9tQXJyYXkodGhpcywgZnVuY3Rpb24oaSkge1xuICAgICAgcmV0dXJuIGk7XG4gICAgfSk7XG4gIH07XG59LCBcImVzNlwiLCBcImVzM1wiKTtcbiRqc2NvbXAucG9seWZpbGwoXCJBcnJheS5mcm9tXCIsIGZ1bmN0aW9uKG9yaWcpIHtcbiAgcmV0dXJuIG9yaWcgPyBvcmlnIDogZnVuY3Rpb24oYXJyYXlMaWtlLCBvcHRfbWFwRm4sIG9wdF90aGlzQXJnKSB7XG4gICAgb3B0X21hcEZuID0gbnVsbCAhPSBvcHRfbWFwRm4gPyBvcHRfbWFwRm4gOiBmdW5jdGlvbih4KSB7XG4gICAgICByZXR1cm4geDtcbiAgICB9O1xuICAgIHZhciByZXN1bHQgPSBbXSwgaXRlcmF0b3JGdW5jdGlvbiA9IFwidW5kZWZpbmVkXCIgIT0gdHlwZW9mIFN5bWJvbCAmJiBTeW1ib2wuaXRlcmF0b3IgJiYgYXJyYXlMaWtlW1N5bWJvbC5pdGVyYXRvcl07XG4gICAgaWYgKFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgaXRlcmF0b3JGdW5jdGlvbikge1xuICAgICAgYXJyYXlMaWtlID0gaXRlcmF0b3JGdW5jdGlvbi5jYWxsKGFycmF5TGlrZSk7XG4gICAgICBmb3IgKHZhciBuZXh0LCBrID0gMDsgIShuZXh0ID0gYXJyYXlMaWtlLm5leHQoKSkuZG9uZTspIHtcbiAgICAgICAgcmVzdWx0LnB1c2gob3B0X21hcEZuLmNhbGwob3B0X3RoaXNBcmcsIG5leHQudmFsdWUsIGsrKykpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBmb3IgKHZhciBsZW4gPSBhcnJheUxpa2UubGVuZ3RoLCBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIHJlc3VsdC5wdXNoKG9wdF9tYXBGbi5jYWxsKG9wdF90aGlzQXJnLCBhcnJheUxpa2VbaV0sIGkpKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcbn0sIFwiZXM2XCIsIFwiZXMzXCIpO1xuJGpzY29tcC5wb2x5ZmlsbChcIkFycmF5LnByb3RvdHlwZS52YWx1ZXNcIiwgZnVuY3Rpb24ob3JpZykge1xuICByZXR1cm4gb3JpZyA/IG9yaWcgOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gJGpzY29tcC5pdGVyYXRvckZyb21BcnJheSh0aGlzLCBmdW5jdGlvbihrLCB2KSB7XG4gICAgICByZXR1cm4gdjtcbiAgICB9KTtcbiAgfTtcbn0sIFwiZXM4XCIsIFwiZXMzXCIpO1xuJGpzY29tcC5wb2x5ZmlsbChcIk9iamVjdC5zZXRQcm90b3R5cGVPZlwiLCBmdW5jdGlvbihvcmlnKSB7XG4gIHJldHVybiBvcmlnIHx8ICRqc2NvbXAuc2V0UHJvdG90eXBlT2Y7XG59LCBcImVzNlwiLCBcImVzNVwiKTtcbiRqc2NvbXAucG9seWZpbGwoXCJTdHJpbmcucHJvdG90eXBlLmVuZHNXaXRoXCIsIGZ1bmN0aW9uKG9yaWcpIHtcbiAgcmV0dXJuIG9yaWcgPyBvcmlnIDogZnVuY3Rpb24oc2VhcmNoU3RyaW5nLCBvcHRfcG9zaXRpb24pIHtcbiAgICB2YXIgc3RyaW5nID0gJGpzY29tcC5jaGVja1N0cmluZ0FyZ3ModGhpcywgc2VhcmNoU3RyaW5nLCBcImVuZHNXaXRoXCIpO1xuICAgIHNlYXJjaFN0cmluZyArPSBcIlwiO1xuICAgIHZvaWQgMCA9PT0gb3B0X3Bvc2l0aW9uICYmIChvcHRfcG9zaXRpb24gPSBzdHJpbmcubGVuZ3RoKTtcbiAgICBmb3IgKHZhciBpID0gTWF0aC5tYXgoMCwgTWF0aC5taW4ob3B0X3Bvc2l0aW9uIHwgMCwgc3RyaW5nLmxlbmd0aCkpLCBqID0gc2VhcmNoU3RyaW5nLmxlbmd0aDsgMCA8IGogJiYgMCA8IGk7KSB7XG4gICAgICBpZiAoc3RyaW5nWy0taV0gIT0gc2VhcmNoU3RyaW5nWy0tal0pIHtcbiAgICAgICAgcmV0dXJuICExO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gMCA+PSBqO1xuICB9O1xufSwgXCJlczZcIiwgXCJlczNcIik7XG4kanNjb21wLnBvbHlmaWxsKFwiU3RyaW5nLnByb3RvdHlwZS5zdGFydHNXaXRoXCIsIGZ1bmN0aW9uKG9yaWcpIHtcbiAgcmV0dXJuIG9yaWcgPyBvcmlnIDogZnVuY3Rpb24oc2VhcmNoU3RyaW5nLCBvcHRfcG9zaXRpb24pIHtcbiAgICB2YXIgc3RyaW5nID0gJGpzY29tcC5jaGVja1N0cmluZ0FyZ3ModGhpcywgc2VhcmNoU3RyaW5nLCBcInN0YXJ0c1dpdGhcIik7XG4gICAgc2VhcmNoU3RyaW5nICs9IFwiXCI7XG4gICAgZm9yICh2YXIgc3RyTGVuID0gc3RyaW5nLmxlbmd0aCwgc2VhcmNoTGVuID0gc2VhcmNoU3RyaW5nLmxlbmd0aCwgaSA9IE1hdGgubWF4KDAsIE1hdGgubWluKG9wdF9wb3NpdGlvbiB8IDAsIHN0cmluZy5sZW5ndGgpKSwgaiA9IDA7IGogPCBzZWFyY2hMZW4gJiYgaSA8IHN0ckxlbjspIHtcbiAgICAgIGlmIChzdHJpbmdbaSsrXSAhPSBzZWFyY2hTdHJpbmdbaisrXSkge1xuICAgICAgICByZXR1cm4gITE7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBqID49IHNlYXJjaExlbjtcbiAgfTtcbn0sIFwiZXM2XCIsIFwiZXMzXCIpO1xuJGpzY29tcC5wb2x5ZmlsbChcIk51bWJlci5pc0Zpbml0ZVwiLCBmdW5jdGlvbihvcmlnKSB7XG4gIHJldHVybiBvcmlnID8gb3JpZyA6IGZ1bmN0aW9uKHgpIHtcbiAgICByZXR1cm4gXCJudW1iZXJcIiAhPT0gdHlwZW9mIHggPyAhMSA6ICFpc05hTih4KSAmJiBJbmZpbml0eSAhPT0geCAmJiAtSW5maW5pdHkgIT09IHg7XG4gIH07XG59LCBcImVzNlwiLCBcImVzM1wiKTtcbiRqc2NvbXAucG9seWZpbGwoXCJPYmplY3QuZW50cmllc1wiLCBmdW5jdGlvbihvcmlnKSB7XG4gIHJldHVybiBvcmlnID8gb3JpZyA6IGZ1bmN0aW9uKG9iaikge1xuICAgIHZhciByZXN1bHQgPSBbXSwga2V5O1xuICAgIGZvciAoa2V5IGluIG9iaikge1xuICAgICAgJGpzY29tcC5vd25zKG9iaiwga2V5KSAmJiByZXN1bHQucHVzaChba2V5LCBvYmpba2V5XV0pO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xufSwgXCJlczhcIiwgXCJlczNcIik7XG4kanNjb21wLnBvbHlmaWxsKFwiT2JqZWN0LmlzXCIsIGZ1bmN0aW9uKG9yaWcpIHtcbiAgcmV0dXJuIG9yaWcgPyBvcmlnIDogZnVuY3Rpb24obGVmdCwgcmlnaHQpIHtcbiAgICByZXR1cm4gbGVmdCA9PT0gcmlnaHQgPyAwICE9PSBsZWZ0IHx8IDEgLyBsZWZ0ID09PSAxIC8gcmlnaHQgOiBsZWZ0ICE9PSBsZWZ0ICYmIHJpZ2h0ICE9PSByaWdodDtcbiAgfTtcbn0sIFwiZXM2XCIsIFwiZXMzXCIpO1xuJGpzY29tcC5wb2x5ZmlsbChcIkFycmF5LnByb3RvdHlwZS5pbmNsdWRlc1wiLCBmdW5jdGlvbihvcmlnKSB7XG4gIHJldHVybiBvcmlnID8gb3JpZyA6IGZ1bmN0aW9uKHNlYXJjaEVsZW1lbnQsIG9wdF9mcm9tSW5kZXgpIHtcbiAgICB2YXIgYXJyYXkgPSB0aGlzO1xuICAgIGFycmF5IGluc3RhbmNlb2YgU3RyaW5nICYmIChhcnJheSA9IFN0cmluZyhhcnJheSkpO1xuICAgIHZhciBsZW4gPSBhcnJheS5sZW5ndGgsIGkgPSBvcHRfZnJvbUluZGV4IHx8IDA7XG4gICAgZm9yICgwID4gaSAmJiAoaSA9IE1hdGgubWF4KGkgKyBsZW4sIDApKTsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICB2YXIgZWxlbWVudCA9IGFycmF5W2ldO1xuICAgICAgaWYgKGVsZW1lbnQgPT09IHNlYXJjaEVsZW1lbnQgfHwgT2JqZWN0LmlzKGVsZW1lbnQsIHNlYXJjaEVsZW1lbnQpKSB7XG4gICAgICAgIHJldHVybiAhMDtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuICExO1xuICB9O1xufSwgXCJlczdcIiwgXCJlczNcIik7XG4kanNjb21wLnBvbHlmaWxsKFwiU3RyaW5nLnByb3RvdHlwZS5pbmNsdWRlc1wiLCBmdW5jdGlvbihvcmlnKSB7XG4gIHJldHVybiBvcmlnID8gb3JpZyA6IGZ1bmN0aW9uKHNlYXJjaFN0cmluZywgb3B0X3Bvc2l0aW9uKSB7XG4gICAgcmV0dXJuIC0xICE9PSAkanNjb21wLmNoZWNrU3RyaW5nQXJncyh0aGlzLCBzZWFyY2hTdHJpbmcsIFwiaW5jbHVkZXNcIikuaW5kZXhPZihzZWFyY2hTdHJpbmcsIG9wdF9wb3NpdGlvbiB8fCAwKTtcbiAgfTtcbn0sIFwiZXM2XCIsIFwiZXMzXCIpO1xuJGpzY29tcC5wb2x5ZmlsbChcIlN0cmluZy5wcm90b3R5cGUudHJpbUxlZnRcIiwgZnVuY3Rpb24ob3JpZykge1xuICBmdW5jdGlvbiBwb2x5ZmlsbCgpIHtcbiAgICByZXR1cm4gdGhpcy5yZXBsYWNlKC9eW1xcc1xceGEwXSsvLCBcIlwiKTtcbiAgfVxuICByZXR1cm4gb3JpZyB8fCBwb2x5ZmlsbDtcbn0sIFwiZXNfMjAxOVwiLCBcImVzM1wiKTtcbiRqc2NvbXAucG9seWZpbGwoXCJBcnJheS5wcm90b3R5cGUuZW50cmllc1wiLCBmdW5jdGlvbihvcmlnKSB7XG4gIHJldHVybiBvcmlnID8gb3JpZyA6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiAkanNjb21wLml0ZXJhdG9yRnJvbUFycmF5KHRoaXMsIGZ1bmN0aW9uKGksIHYpIHtcbiAgICAgIHJldHVybiBbaSwgdl07XG4gICAgfSk7XG4gIH07XG59LCBcImVzNlwiLCBcImVzM1wiKTtcbiRqc2NvbXAucG9seWZpbGwoXCJTZXRcIiwgZnVuY3Rpb24oTmF0aXZlU2V0KSB7XG4gIGZ1bmN0aW9uIGlzQ29uZm9ybWFudCgpIHtcbiAgICBpZiAoJGpzY29tcC5BU1NVTUVfTk9fTkFUSVZFX1NFVCB8fCAhTmF0aXZlU2V0IHx8IFwiZnVuY3Rpb25cIiAhPSB0eXBlb2YgTmF0aXZlU2V0IHx8ICFOYXRpdmVTZXQucHJvdG90eXBlLmVudHJpZXMgfHwgXCJmdW5jdGlvblwiICE9IHR5cGVvZiBPYmplY3Quc2VhbCkge1xuICAgICAgcmV0dXJuICExO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgdmFyIHZhbHVlID0gT2JqZWN0LnNlYWwoe3g6NH0pLCBzZXQgPSBuZXcgTmF0aXZlU2V0KCRqc2NvbXAubWFrZUl0ZXJhdG9yKFt2YWx1ZV0pKTtcbiAgICAgIGlmICghc2V0Lmhhcyh2YWx1ZSkgfHwgMSAhPSBzZXQuc2l6ZSB8fCBzZXQuYWRkKHZhbHVlKSAhPSBzZXQgfHwgMSAhPSBzZXQuc2l6ZSB8fCBzZXQuYWRkKHt4OjR9KSAhPSBzZXQgfHwgMiAhPSBzZXQuc2l6ZSkge1xuICAgICAgICByZXR1cm4gITE7XG4gICAgICB9XG4gICAgICB2YXIgaXRlciA9IHNldC5lbnRyaWVzKCksIGl0ZW0gPSBpdGVyLm5leHQoKTtcbiAgICAgIGlmIChpdGVtLmRvbmUgfHwgaXRlbS52YWx1ZVswXSAhPSB2YWx1ZSB8fCBpdGVtLnZhbHVlWzFdICE9IHZhbHVlKSB7XG4gICAgICAgIHJldHVybiAhMTtcbiAgICAgIH1cbiAgICAgIGl0ZW0gPSBpdGVyLm5leHQoKTtcbiAgICAgIHJldHVybiBpdGVtLmRvbmUgfHwgaXRlbS52YWx1ZVswXSA9PSB2YWx1ZSB8fCA0ICE9IGl0ZW0udmFsdWVbMF0ueCB8fCBpdGVtLnZhbHVlWzFdICE9IGl0ZW0udmFsdWVbMF0gPyAhMSA6IGl0ZXIubmV4dCgpLmRvbmU7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICByZXR1cm4gITE7XG4gICAgfVxuICB9XG4gIGlmICgkanNjb21wLlVTRV9QUk9YWV9GT1JfRVM2X0NPTkZPUk1BTkNFX0NIRUNLUykge1xuICAgIGlmIChOYXRpdmVTZXQgJiYgJGpzY29tcC5FUzZfQ09ORk9STUFOQ0UpIHtcbiAgICAgIHJldHVybiBOYXRpdmVTZXQ7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGlmIChpc0NvbmZvcm1hbnQoKSkge1xuICAgICAgcmV0dXJuIE5hdGl2ZVNldDtcbiAgICB9XG4gIH1cbiAgdmFyIFBvbHlmaWxsU2V0ID0gZnVuY3Rpb24ob3B0X2l0ZXJhYmxlKSB7XG4gICAgdGhpcy5tYXBfID0gbmV3IE1hcCgpO1xuICAgIGlmIChvcHRfaXRlcmFibGUpIHtcbiAgICAgIGZvciAodmFyIGl0ZXIgPSAkanNjb21wLm1ha2VJdGVyYXRvcihvcHRfaXRlcmFibGUpLCBlbnRyeTsgIShlbnRyeSA9IGl0ZXIubmV4dCgpKS5kb25lOykge1xuICAgICAgICB0aGlzLmFkZChlbnRyeS52YWx1ZSk7XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMuc2l6ZSA9IHRoaXMubWFwXy5zaXplO1xuICB9O1xuICBQb2x5ZmlsbFNldC5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICB2YWx1ZSA9IDAgPT09IHZhbHVlID8gMCA6IHZhbHVlO1xuICAgIHRoaXMubWFwXy5zZXQodmFsdWUsIHZhbHVlKTtcbiAgICB0aGlzLnNpemUgPSB0aGlzLm1hcF8uc2l6ZTtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcbiAgUG9seWZpbGxTZXQucHJvdG90eXBlLmRlbGV0ZSA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgdmFyIHJlc3VsdCA9IHRoaXMubWFwXy5kZWxldGUodmFsdWUpO1xuICAgIHRoaXMuc2l6ZSA9IHRoaXMubWFwXy5zaXplO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG4gIFBvbHlmaWxsU2V0LnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMubWFwXy5jbGVhcigpO1xuICAgIHRoaXMuc2l6ZSA9IDA7XG4gIH07XG4gIFBvbHlmaWxsU2V0LnByb3RvdHlwZS5oYXMgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgIHJldHVybiB0aGlzLm1hcF8uaGFzKHZhbHVlKTtcbiAgfTtcbiAgUG9seWZpbGxTZXQucHJvdG90eXBlLmVudHJpZXMgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5tYXBfLmVudHJpZXMoKTtcbiAgfTtcbiAgUG9seWZpbGxTZXQucHJvdG90eXBlLnZhbHVlcyA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLm1hcF8udmFsdWVzKCk7XG4gIH07XG4gIFBvbHlmaWxsU2V0LnByb3RvdHlwZS5rZXlzID0gUG9seWZpbGxTZXQucHJvdG90eXBlLnZhbHVlcztcbiAgUG9seWZpbGxTZXQucHJvdG90eXBlW1N5bWJvbC5pdGVyYXRvcl0gPSBQb2x5ZmlsbFNldC5wcm90b3R5cGUudmFsdWVzO1xuICBQb2x5ZmlsbFNldC5wcm90b3R5cGUuZm9yRWFjaCA9IGZ1bmN0aW9uKGNhbGxiYWNrLCBvcHRfdGhpc0FyZykge1xuICAgIHZhciBzZXQgPSB0aGlzO1xuICAgIHRoaXMubWFwXy5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICByZXR1cm4gY2FsbGJhY2suY2FsbChvcHRfdGhpc0FyZywgdmFsdWUsIHZhbHVlLCBzZXQpO1xuICAgIH0pO1xuICB9O1xuICByZXR1cm4gUG9seWZpbGxTZXQ7XG59LCBcImVzNlwiLCBcImVzM1wiKTtcbiRqc2NvbXAucG9seWZpbGwoXCJPYmplY3QudmFsdWVzXCIsIGZ1bmN0aW9uKG9yaWcpIHtcbiAgcmV0dXJuIG9yaWcgPyBvcmlnIDogZnVuY3Rpb24ob2JqKSB7XG4gICAgdmFyIHJlc3VsdCA9IFtdLCBrZXk7XG4gICAgZm9yIChrZXkgaW4gb2JqKSB7XG4gICAgICAkanNjb21wLm93bnMob2JqLCBrZXkpICYmIHJlc3VsdC5wdXNoKG9ialtrZXldKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcbn0sIFwiZXM4XCIsIFwiZXMzXCIpO1xuJGpzY29tcC5zdHJpbmdQYWRkaW5nID0gZnVuY3Rpb24ocGFkU3RyaW5nLCBwYWRMZW5ndGgpIHtcbiAgdmFyIHBhZGRpbmcgPSB2b2lkIDAgIT09IHBhZFN0cmluZyA/IFN0cmluZyhwYWRTdHJpbmcpIDogXCIgXCI7XG4gIHJldHVybiAwIDwgcGFkTGVuZ3RoICYmIHBhZGRpbmcgPyBwYWRkaW5nLnJlcGVhdChNYXRoLmNlaWwocGFkTGVuZ3RoIC8gcGFkZGluZy5sZW5ndGgpKS5zdWJzdHJpbmcoMCwgcGFkTGVuZ3RoKSA6IFwiXCI7XG59O1xuJGpzY29tcC5wb2x5ZmlsbChcIlN0cmluZy5wcm90b3R5cGUucGFkU3RhcnRcIiwgZnVuY3Rpb24ob3JpZykge1xuICByZXR1cm4gb3JpZyA/IG9yaWcgOiBmdW5jdGlvbih0YXJnZXRMZW5ndGgsIG9wdF9wYWRTdHJpbmcpIHtcbiAgICB2YXIgc3RyaW5nID0gJGpzY29tcC5jaGVja1N0cmluZ0FyZ3ModGhpcywgbnVsbCwgXCJwYWRTdGFydFwiKTtcbiAgICByZXR1cm4gJGpzY29tcC5zdHJpbmdQYWRkaW5nKG9wdF9wYWRTdHJpbmcsIHRhcmdldExlbmd0aCAtIHN0cmluZy5sZW5ndGgpICsgc3RyaW5nO1xuICB9O1xufSwgXCJlczhcIiwgXCJlczNcIik7XG52YXIgZ29vZyA9IGdvb2cgfHwge307XG5nb29nLmdsb2JhbCA9IHRoaXMgfHwgc2VsZjtcbmdvb2cuZXhwb3J0UGF0aF8gPSBmdW5jdGlvbihuYW1lLCBvYmplY3QsIG92ZXJ3cml0ZUltcGxpY2l0LCBvYmplY3RUb0V4cG9ydFRvKSB7XG4gIHZhciBwYXJ0cyA9IG5hbWUuc3BsaXQoXCIuXCIpLCBjdXIgPSBvYmplY3RUb0V4cG9ydFRvIHx8IGdvb2cuZ2xvYmFsO1xuICBwYXJ0c1swXSBpbiBjdXIgfHwgXCJ1bmRlZmluZWRcIiA9PSB0eXBlb2YgY3VyLmV4ZWNTY3JpcHQgfHwgY3VyLmV4ZWNTY3JpcHQoXCJ2YXIgXCIgKyBwYXJ0c1swXSk7XG4gIGZvciAodmFyIHBhcnQ7IHBhcnRzLmxlbmd0aCAmJiAocGFydCA9IHBhcnRzLnNoaWZ0KCkpOykge1xuICAgIGlmIChwYXJ0cy5sZW5ndGggfHwgdm9pZCAwID09PSBvYmplY3QpIHtcbiAgICAgIGN1ciA9IGN1cltwYXJ0XSAmJiBjdXJbcGFydF0gIT09IE9iamVjdC5wcm90b3R5cGVbcGFydF0gPyBjdXJbcGFydF0gOiBjdXJbcGFydF0gPSB7fTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKCFvdmVyd3JpdGVJbXBsaWNpdCAmJiBnb29nLmlzT2JqZWN0KG9iamVjdCkgJiYgZ29vZy5pc09iamVjdChjdXJbcGFydF0pKSB7XG4gICAgICAgIGZvciAodmFyIHByb3AgaW4gb2JqZWN0KSB7XG4gICAgICAgICAgb2JqZWN0Lmhhc093blByb3BlcnR5KHByb3ApICYmIChjdXJbcGFydF1bcHJvcF0gPSBvYmplY3RbcHJvcF0pO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjdXJbcGFydF0gPSBvYmplY3Q7XG4gICAgICB9XG4gICAgfVxuICB9XG59O1xuZ29vZy5kZWZpbmUgPSBmdW5jdGlvbihuYW1lLCBkZWZhdWx0VmFsdWUpIHtcbiAgdmFyIGRlZmluZXMsIHVuY29tcGlsZWREZWZpbmVzO1xuICByZXR1cm4gZGVmYXVsdFZhbHVlO1xufTtcbmdvb2cuRkVBVFVSRVNFVF9ZRUFSID0gMjAxMjtcbmdvb2cuREVCVUcgPSAhMDtcbmdvb2cuTE9DQUxFID0gXCJlblwiO1xuZ29vZy5nZXRMb2NhbGUgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIFwiZW5cIjtcbn07XG5nb29nLlRSVVNURURfU0lURSA9ICEwO1xuZ29vZy5ESVNBTExPV19URVNUX09OTFlfQ09ERSA9ICFnb29nLkRFQlVHO1xuZ29vZy5FTkFCTEVfQ0hST01FX0FQUF9TQUZFX1NDUklQVF9MT0FESU5HID0gITE7XG5nb29nLnJlYWRGbGFnSW50ZXJuYWxEb05vdFVzZU9yRWxzZSA9IGZ1bmN0aW9uKGdvb2dGbGFnSWQsIGRlZmF1bHRWYWx1ZSkge1xuICB2YXIgb2JqID0gZ29vZy5nZXRPYmplY3RCeU5hbWUoZ29vZy5GTEFHU19PQkpFQ1RfKSwgdmFsID0gb2JqICYmIG9ialtnb29nRmxhZ0lkXTtcbiAgcmV0dXJuIG51bGwgIT0gdmFsID8gdmFsIDogZGVmYXVsdFZhbHVlO1xufTtcbmdvb2cuRkxBR1NfT0JKRUNUXyA9IFwiQ0xPU1VSRV9GTEFHU1wiO1xuZ29vZy5wcm92aWRlID0gZnVuY3Rpb24obmFtZSkge1xuICBpZiAoZ29vZy5pc0luTW9kdWxlTG9hZGVyXygpKSB7XG4gICAgdGhyb3cgRXJyb3IoXCJnb29nLnByb3ZpZGUgY2Fubm90IGJlIHVzZWQgd2l0aGluIGEgbW9kdWxlLlwiKTtcbiAgfVxuICBnb29nLmNvbnN0cnVjdE5hbWVzcGFjZV8obmFtZSk7XG59O1xuZ29vZy5jb25zdHJ1Y3ROYW1lc3BhY2VfID0gZnVuY3Rpb24obmFtZSwgb2JqZWN0LCBvdmVyd3JpdGVJbXBsaWNpdCkge1xuICB2YXIgbmFtZXNwYWNlO1xuICBnb29nLmV4cG9ydFBhdGhfKG5hbWUsIG9iamVjdCwgb3ZlcndyaXRlSW1wbGljaXQpO1xufTtcbmdvb2cuTk9OQ0VfUEFUVEVSTl8gPSAvXltcXHcrL18tXStbPV17MCwyfSQvO1xuZ29vZy5nZXRTY3JpcHROb25jZV8gPSBmdW5jdGlvbihvcHRfd2luZG93KSB7XG4gIHZhciBkb2MgPSAob3B0X3dpbmRvdyB8fCBnb29nLmdsb2JhbCkuZG9jdW1lbnQsIHNjcmlwdCA9IGRvYy5xdWVyeVNlbGVjdG9yICYmIGRvYy5xdWVyeVNlbGVjdG9yKFwic2NyaXB0W25vbmNlXVwiKTtcbiAgaWYgKHNjcmlwdCkge1xuICAgIHZhciBub25jZSA9IHNjcmlwdC5ub25jZSB8fCBzY3JpcHQuZ2V0QXR0cmlidXRlKFwibm9uY2VcIik7XG4gICAgaWYgKG5vbmNlICYmIGdvb2cuTk9OQ0VfUEFUVEVSTl8udGVzdChub25jZSkpIHtcbiAgICAgIHJldHVybiBub25jZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIFwiXCI7XG59O1xuZ29vZy5WQUxJRF9NT0RVTEVfUkVfID0gL15bYS16QS1aXyRdW2EtekEtWjAtOS5fJF0qJC87XG5nb29nLm1vZHVsZSA9IGZ1bmN0aW9uKG5hbWUpIHtcbiAgaWYgKFwic3RyaW5nXCIgIT09IHR5cGVvZiBuYW1lIHx8ICFuYW1lIHx8IC0xID09IG5hbWUuc2VhcmNoKGdvb2cuVkFMSURfTU9EVUxFX1JFXykpIHtcbiAgICB0aHJvdyBFcnJvcihcIkludmFsaWQgbW9kdWxlIGlkZW50aWZpZXJcIik7XG4gIH1cbiAgaWYgKCFnb29nLmlzSW5Hb29nTW9kdWxlTG9hZGVyXygpKSB7XG4gICAgdGhyb3cgRXJyb3IoXCJNb2R1bGUgXCIgKyBuYW1lICsgXCIgaGFzIGJlZW4gbG9hZGVkIGluY29ycmVjdGx5LiBOb3RlLCBtb2R1bGVzIGNhbm5vdCBiZSBsb2FkZWQgYXMgbm9ybWFsIHNjcmlwdHMuIFRoZXkgcmVxdWlyZSBzb21lIGtpbmQgb2YgcHJlLXByb2Nlc3Npbmcgc3RlcC4gWW91J3JlIGxpa2VseSB0cnlpbmcgdG8gbG9hZCBhIG1vZHVsZSB2aWEgYSBzY3JpcHQgdGFnIG9yIGFzIGEgcGFydCBvZiBhIGNvbmNhdGVuYXRlZCBidW5kbGUgd2l0aG91dCByZXdyaXRpbmcgdGhlIG1vZHVsZS4gRm9yIG1vcmUgaW5mbyBzZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9nb29nbGUvY2xvc3VyZS1saWJyYXJ5L3dpa2kvZ29vZy5tb2R1bGU6LWFuLUVTNi1tb2R1bGUtbGlrZS1hbHRlcm5hdGl2ZS10by1nb29nLnByb3ZpZGUuXCIpO1xuICB9XG4gIGlmIChnb29nLm1vZHVsZUxvYWRlclN0YXRlXy5tb2R1bGVOYW1lKSB7XG4gICAgdGhyb3cgRXJyb3IoXCJnb29nLm1vZHVsZSBtYXkgb25seSBiZSBjYWxsZWQgb25jZSBwZXIgbW9kdWxlLlwiKTtcbiAgfVxuICBnb29nLm1vZHVsZUxvYWRlclN0YXRlXy5tb2R1bGVOYW1lID0gbmFtZTtcbn07XG5nb29nLm1vZHVsZS5nZXQgPSBmdW5jdGlvbihuYW1lKSB7XG4gIHJldHVybiBnb29nLm1vZHVsZS5nZXRJbnRlcm5hbF8obmFtZSk7XG59O1xuZ29vZy5tb2R1bGUuZ2V0SW50ZXJuYWxfID0gZnVuY3Rpb24obmFtZSkge1xuICB2YXIgbnM7XG4gIHJldHVybiBudWxsO1xufTtcbmdvb2cucmVxdWlyZUR5bmFtaWMgPSBmdW5jdGlvbihuYW1lKSB7XG4gIHJldHVybiBudWxsO1xufTtcbmdvb2cuaW1wb3J0SGFuZGxlcl8gPSBudWxsO1xuZ29vZy51bmNvbXBpbGVkQ2h1bmtJZEhhbmRsZXJfID0gbnVsbDtcbmdvb2cuc2V0SW1wb3J0SGFuZGxlckludGVybmFsRG9Ob3RDYWxsT3JFbHNlID0gZnVuY3Rpb24oZm4pIHtcbiAgZ29vZy5pbXBvcnRIYW5kbGVyXyA9IGZuO1xufTtcbmdvb2cuc2V0VW5jb21waWxlZENodW5rSWRIYW5kbGVySW50ZXJuYWxEb05vdENhbGxPckVsc2UgPSBmdW5jdGlvbihmbikge1xuICBnb29nLnVuY29tcGlsZWRDaHVua0lkSGFuZGxlcl8gPSBmbjtcbn07XG5nb29nLk1vZHVsZVR5cGUgPSB7RVM2OlwiZXM2XCIsIEdPT0c6XCJnb29nXCJ9O1xuZ29vZy5tb2R1bGVMb2FkZXJTdGF0ZV8gPSBudWxsO1xuZ29vZy5pc0luTW9kdWxlTG9hZGVyXyA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gZ29vZy5pc0luR29vZ01vZHVsZUxvYWRlcl8oKSB8fCBnb29nLmlzSW5FczZNb2R1bGVMb2FkZXJfKCk7XG59O1xuZ29vZy5pc0luR29vZ01vZHVsZUxvYWRlcl8gPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuICEhZ29vZy5tb2R1bGVMb2FkZXJTdGF0ZV8gJiYgZ29vZy5tb2R1bGVMb2FkZXJTdGF0ZV8udHlwZSA9PSBnb29nLk1vZHVsZVR5cGUuR09PRztcbn07XG5nb29nLmlzSW5FczZNb2R1bGVMb2FkZXJfID0gZnVuY3Rpb24oKSB7XG4gIGlmIChnb29nLm1vZHVsZUxvYWRlclN0YXRlXyAmJiBnb29nLm1vZHVsZUxvYWRlclN0YXRlXy50eXBlID09IGdvb2cuTW9kdWxlVHlwZS5FUzYpIHtcbiAgICByZXR1cm4gITA7XG4gIH1cbiAgdmFyIGpzY29tcCA9IGdvb2cuZ2xvYmFsLiRqc2NvbXA7XG4gIHJldHVybiBqc2NvbXAgPyBcImZ1bmN0aW9uXCIgIT0gdHlwZW9mIGpzY29tcC5nZXRDdXJyZW50TW9kdWxlUGF0aCA/ICExIDogISFqc2NvbXAuZ2V0Q3VycmVudE1vZHVsZVBhdGgoKSA6ICExO1xufTtcbmdvb2cubW9kdWxlLmRlY2xhcmVMZWdhY3lOYW1lc3BhY2UgPSBmdW5jdGlvbigpIHtcbiAgZ29vZy5tb2R1bGVMb2FkZXJTdGF0ZV8uZGVjbGFyZUxlZ2FjeU5hbWVzcGFjZSA9ICEwO1xufTtcbmdvb2cuZGVjbGFyZU1vZHVsZUlkID0gZnVuY3Rpb24obmFtZXNwYWNlKSB7XG4gIGlmIChnb29nLm1vZHVsZUxvYWRlclN0YXRlXykge1xuICAgIGdvb2cubW9kdWxlTG9hZGVyU3RhdGVfLm1vZHVsZU5hbWUgPSBuYW1lc3BhY2U7XG4gIH0gZWxzZSB7XG4gICAgdmFyIGpzY29tcCA9IGdvb2cuZ2xvYmFsLiRqc2NvbXA7XG4gICAgaWYgKCFqc2NvbXAgfHwgXCJmdW5jdGlvblwiICE9IHR5cGVvZiBqc2NvbXAuZ2V0Q3VycmVudE1vZHVsZVBhdGgpIHtcbiAgICAgIHRocm93IEVycm9yKCdNb2R1bGUgd2l0aCBuYW1lc3BhY2UgXCInICsgbmFtZXNwYWNlICsgJ1wiIGhhcyBiZWVuIGxvYWRlZCBpbmNvcnJlY3RseS4nKTtcbiAgICB9XG4gICAgdmFyIGV4cG9ydHMgPSBqc2NvbXAucmVxdWlyZShqc2NvbXAuZ2V0Q3VycmVudE1vZHVsZVBhdGgoKSk7XG4gICAgZ29vZy5sb2FkZWRNb2R1bGVzX1tuYW1lc3BhY2VdID0ge2V4cG9ydHM6ZXhwb3J0cywgdHlwZTpnb29nLk1vZHVsZVR5cGUuRVM2LCBtb2R1bGVJZDpuYW1lc3BhY2V9O1xuICB9XG59O1xuZ29vZy5zZXRUZXN0T25seSA9IGZ1bmN0aW9uKG9wdF9tZXNzYWdlKSB7XG4gIGlmIChnb29nLkRJU0FMTE9XX1RFU1RfT05MWV9DT0RFKSB7XG4gICAgdGhyb3cgb3B0X21lc3NhZ2UgPSBvcHRfbWVzc2FnZSB8fCBcIlwiLCBFcnJvcihcIkltcG9ydGluZyB0ZXN0LW9ubHkgY29kZSBpbnRvIG5vbi1kZWJ1ZyBlbnZpcm9ubWVudFwiICsgKG9wdF9tZXNzYWdlID8gXCI6IFwiICsgb3B0X21lc3NhZ2UgOiBcIi5cIikpO1xuICB9XG59O1xuZ29vZy5mb3J3YXJkRGVjbGFyZSA9IGZ1bmN0aW9uKG5hbWUpIHtcbn07XG5nb29nLmdldE9iamVjdEJ5TmFtZSA9IGZ1bmN0aW9uKG5hbWUsIG9wdF9vYmopIHtcbiAgZm9yICh2YXIgcGFydHMgPSBuYW1lLnNwbGl0KFwiLlwiKSwgY3VyID0gb3B0X29iaiB8fCBnb29nLmdsb2JhbCwgaSA9IDA7IGkgPCBwYXJ0cy5sZW5ndGg7IGkrKykge1xuICAgIGlmIChjdXIgPSBjdXJbcGFydHNbaV1dLCBudWxsID09IGN1cikge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG4gIHJldHVybiBjdXI7XG59O1xuZ29vZy5hZGREZXBlbmRlbmN5ID0gZnVuY3Rpb24ocmVsUGF0aCwgcHJvdmlkZXMsIHJlcXVpcmVzLCBvcHRfbG9hZEZsYWdzKSB7XG59O1xuZ29vZy5FTkFCTEVfREVCVUdfTE9BREVSID0gITA7XG5nb29nLmxvZ1RvQ29uc29sZV8gPSBmdW5jdGlvbihtc2cpIHtcbiAgZ29vZy5nbG9iYWwuY29uc29sZSAmJiBnb29nLmdsb2JhbC5jb25zb2xlLmVycm9yKG1zZyk7XG59O1xuZ29vZy5yZXF1aXJlID0gZnVuY3Rpb24obmFtZXNwYWNlKSB7XG4gIHZhciBtb2R1bGVMb2FkZXJTdGF0ZTtcbn07XG5nb29nLnJlcXVpcmVUeXBlID0gZnVuY3Rpb24obmFtZXNwYWNlKSB7XG4gIHJldHVybiB7fTtcbn07XG5nb29nLmJhc2VQYXRoID0gXCJcIjtcbmdvb2cuYWJzdHJhY3RNZXRob2QgPSBmdW5jdGlvbigpIHtcbiAgdGhyb3cgRXJyb3IoXCJ1bmltcGxlbWVudGVkIGFic3RyYWN0IG1ldGhvZFwiKTtcbn07XG5nb29nLmFkZFNpbmdsZXRvbkdldHRlciA9IGZ1bmN0aW9uKGN0b3IpIHtcbiAgY3Rvci5pbnN0YW5jZV8gPSB2b2lkIDA7XG4gIGN0b3IuZ2V0SW5zdGFuY2UgPSBmdW5jdGlvbigpIHtcbiAgICBpZiAoY3Rvci5pbnN0YW5jZV8pIHtcbiAgICAgIHJldHVybiBjdG9yLmluc3RhbmNlXztcbiAgICB9XG4gICAgZ29vZy5ERUJVRyAmJiAoZ29vZy5pbnN0YW50aWF0ZWRTaW5nbGV0b25zX1tnb29nLmluc3RhbnRpYXRlZFNpbmdsZXRvbnNfLmxlbmd0aF0gPSBjdG9yKTtcbiAgICByZXR1cm4gY3Rvci5pbnN0YW5jZV8gPSBuZXcgY3RvcigpO1xuICB9O1xufTtcbmdvb2cuaW5zdGFudGlhdGVkU2luZ2xldG9uc18gPSBbXTtcbmdvb2cuTE9BRF9NT0RVTEVfVVNJTkdfRVZBTCA9ICEwO1xuZ29vZy5TRUFMX01PRFVMRV9FWFBPUlRTID0gZ29vZy5ERUJVRztcbmdvb2cubG9hZGVkTW9kdWxlc18gPSB7fTtcbmdvb2cuREVQRU5ERU5DSUVTX0VOQUJMRUQgPSAhMTtcbmdvb2cuVFJBTlNQSUxFID0gXCJkZXRlY3RcIjtcbmdvb2cuQVNTVU1FX0VTX01PRFVMRVNfVFJBTlNQSUxFRCA9ICExO1xuZ29vZy5UUlVTVEVEX1RZUEVTX1BPTElDWV9OQU1FID0gXCJnb29nXCI7XG5nb29nLmhhc0JhZExldFNjb3BpbmcgPSBudWxsO1xuZ29vZy5sb2FkTW9kdWxlID0gZnVuY3Rpb24obW9kdWxlRGVmKSB7XG4gIHZhciBwcmV2aW91c1N0YXRlID0gZ29vZy5tb2R1bGVMb2FkZXJTdGF0ZV87XG4gIHRyeSB7XG4gICAgZ29vZy5tb2R1bGVMb2FkZXJTdGF0ZV8gPSB7bW9kdWxlTmFtZTpcIlwiLCBkZWNsYXJlTGVnYWN5TmFtZXNwYWNlOiExLCB0eXBlOmdvb2cuTW9kdWxlVHlwZS5HT09HfTtcbiAgICB2YXIgb3JpZ0V4cG9ydHMgPSB7fSwgZXhwb3J0cyA9IG9yaWdFeHBvcnRzO1xuICAgIGlmIChcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBtb2R1bGVEZWYpIHtcbiAgICAgIGV4cG9ydHMgPSBtb2R1bGVEZWYuY2FsbCh2b2lkIDAsIGV4cG9ydHMpO1xuICAgIH0gZWxzZSBpZiAoXCJzdHJpbmdcIiA9PT0gdHlwZW9mIG1vZHVsZURlZikge1xuICAgICAgZXhwb3J0cyA9IGdvb2cubG9hZE1vZHVsZUZyb21Tb3VyY2VfLmNhbGwodm9pZCAwLCBleHBvcnRzLCBtb2R1bGVEZWYpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBFcnJvcihcIkludmFsaWQgbW9kdWxlIGRlZmluaXRpb25cIik7XG4gICAgfVxuICAgIHZhciBtb2R1bGVOYW1lID0gZ29vZy5tb2R1bGVMb2FkZXJTdGF0ZV8ubW9kdWxlTmFtZTtcbiAgICBpZiAoXCJzdHJpbmdcIiA9PT0gdHlwZW9mIG1vZHVsZU5hbWUgJiYgbW9kdWxlTmFtZSkge1xuICAgICAgZ29vZy5tb2R1bGVMb2FkZXJTdGF0ZV8uZGVjbGFyZUxlZ2FjeU5hbWVzcGFjZSA/IGdvb2cuY29uc3RydWN0TmFtZXNwYWNlXyhtb2R1bGVOYW1lLCBleHBvcnRzLCBvcmlnRXhwb3J0cyAhPT0gZXhwb3J0cykgOiBnb29nLlNFQUxfTU9EVUxFX0VYUE9SVFMgJiYgT2JqZWN0LnNlYWwgJiYgXCJvYmplY3RcIiA9PSB0eXBlb2YgZXhwb3J0cyAmJiBudWxsICE9IGV4cG9ydHMgJiYgT2JqZWN0LnNlYWwoZXhwb3J0cyksIGdvb2cubG9hZGVkTW9kdWxlc19bbW9kdWxlTmFtZV0gPSB7ZXhwb3J0czpleHBvcnRzLCB0eXBlOmdvb2cuTW9kdWxlVHlwZS5HT09HLCBtb2R1bGVJZDpnb29nLm1vZHVsZUxvYWRlclN0YXRlXy5tb2R1bGVOYW1lfTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgRXJyb3IoJ0ludmFsaWQgbW9kdWxlIG5hbWUgXCInICsgbW9kdWxlTmFtZSArICdcIicpO1xuICAgIH1cbiAgfSBmaW5hbGx5IHtcbiAgICBnb29nLm1vZHVsZUxvYWRlclN0YXRlXyA9IHByZXZpb3VzU3RhdGU7XG4gIH1cbn07XG5nb29nLmxvYWRNb2R1bGVGcm9tU291cmNlXyA9IGZ1bmN0aW9uKGV4cG9ydHMsIEpTQ29tcGlsZXJfT3B0aW1pemVBcmd1bWVudHNBcnJheV9wMCkge1xuICBldmFsKGdvb2cuQ0xPU1VSRV9FVkFMX1BSRUZJTFRFUl8uY3JlYXRlU2NyaXB0KEpTQ29tcGlsZXJfT3B0aW1pemVBcmd1bWVudHNBcnJheV9wMCkpO1xuICByZXR1cm4gZXhwb3J0cztcbn07XG5nb29nLm5vcm1hbGl6ZVBhdGhfID0gZnVuY3Rpb24ocGF0aCkge1xuICBmb3IgKHZhciBjb21wb25lbnRzID0gcGF0aC5zcGxpdChcIi9cIiksIGkgPSAwOyBpIDwgY29tcG9uZW50cy5sZW5ndGg7KSB7XG4gICAgXCIuXCIgPT0gY29tcG9uZW50c1tpXSA/IGNvbXBvbmVudHMuc3BsaWNlKGksIDEpIDogaSAmJiBcIi4uXCIgPT0gY29tcG9uZW50c1tpXSAmJiBjb21wb25lbnRzW2kgLSAxXSAmJiBcIi4uXCIgIT0gY29tcG9uZW50c1tpIC0gMV0gPyBjb21wb25lbnRzLnNwbGljZSgtLWksIDIpIDogaSsrO1xuICB9XG4gIHJldHVybiBjb21wb25lbnRzLmpvaW4oXCIvXCIpO1xufTtcbmdvb2cubG9hZEZpbGVTeW5jXyA9IGZ1bmN0aW9uKHNyYykge1xuICBpZiAoZ29vZy5nbG9iYWwuQ0xPU1VSRV9MT0FEX0ZJTEVfU1lOQykge1xuICAgIHJldHVybiBnb29nLmdsb2JhbC5DTE9TVVJFX0xPQURfRklMRV9TWU5DKHNyYyk7XG4gIH1cbiAgdHJ5IHtcbiAgICB2YXIgeGhyID0gbmV3IGdvb2cuZ2xvYmFsLlhNTEh0dHBSZXF1ZXN0KCk7XG4gICAgeGhyLm9wZW4oXCJnZXRcIiwgc3JjLCAhMSk7XG4gICAgeGhyLnNlbmQoKTtcbiAgICByZXR1cm4gMCA9PSB4aHIuc3RhdHVzIHx8IDIwMCA9PSB4aHIuc3RhdHVzID8geGhyLnJlc3BvbnNlVGV4dCA6IG51bGw7XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIHJldHVybiBudWxsO1xuICB9XG59O1xuZ29vZy50eXBlT2YgPSBmdW5jdGlvbih2YWx1ZSkge1xuICB2YXIgcyA9IHR5cGVvZiB2YWx1ZTtcbiAgcmV0dXJuIFwib2JqZWN0XCIgIT0gcyA/IHMgOiB2YWx1ZSA/IEFycmF5LmlzQXJyYXkodmFsdWUpID8gXCJhcnJheVwiIDogcyA6IFwibnVsbFwiO1xufTtcbmdvb2cuaXNBcnJheUxpa2UgPSBmdW5jdGlvbih2YWwpIHtcbiAgdmFyIHR5cGUgPSBnb29nLnR5cGVPZih2YWwpO1xuICByZXR1cm4gXCJhcnJheVwiID09IHR5cGUgfHwgXCJvYmplY3RcIiA9PSB0eXBlICYmIFwibnVtYmVyXCIgPT0gdHlwZW9mIHZhbC5sZW5ndGg7XG59O1xuZ29vZy5pc0RhdGVMaWtlID0gZnVuY3Rpb24odmFsKSB7XG4gIHJldHVybiBnb29nLmlzT2JqZWN0KHZhbCkgJiYgXCJmdW5jdGlvblwiID09IHR5cGVvZiB2YWwuZ2V0RnVsbFllYXI7XG59O1xuZ29vZy5pc09iamVjdCA9IGZ1bmN0aW9uKHZhbCkge1xuICB2YXIgdHlwZSA9IHR5cGVvZiB2YWw7XG4gIHJldHVybiBcIm9iamVjdFwiID09IHR5cGUgJiYgbnVsbCAhPSB2YWwgfHwgXCJmdW5jdGlvblwiID09IHR5cGU7XG59O1xuZ29vZy5nZXRVaWQgPSBmdW5jdGlvbihvYmopIHtcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGdvb2cuVUlEX1BST1BFUlRZXykgJiYgb2JqW2dvb2cuVUlEX1BST1BFUlRZX10gfHwgKG9ialtnb29nLlVJRF9QUk9QRVJUWV9dID0gKytnb29nLnVpZENvdW50ZXJfKTtcbn07XG5nb29nLmhhc1VpZCA9IGZ1bmN0aW9uKG9iaikge1xuICByZXR1cm4gISFvYmpbZ29vZy5VSURfUFJPUEVSVFlfXTtcbn07XG5nb29nLnJlbW92ZVVpZCA9IGZ1bmN0aW9uKG9iaikge1xuICBudWxsICE9PSBvYmogJiYgXCJyZW1vdmVBdHRyaWJ1dGVcIiBpbiBvYmogJiYgb2JqLnJlbW92ZUF0dHJpYnV0ZShnb29nLlVJRF9QUk9QRVJUWV8pO1xuICB0cnkge1xuICAgIGRlbGV0ZSBvYmpbZ29vZy5VSURfUFJPUEVSVFlfXTtcbiAgfSBjYXRjaCAoZXgpIHtcbiAgfVxufTtcbmdvb2cuVUlEX1BST1BFUlRZXyA9IFwiY2xvc3VyZV91aWRfXCIgKyAoMUU5ICogTWF0aC5yYW5kb20oKSA+Pj4gMCk7XG5nb29nLnVpZENvdW50ZXJfID0gMDtcbmdvb2cuY2xvbmVPYmplY3QgPSBmdW5jdGlvbihvYmopIHtcbiAgdmFyIHR5cGUgPSBnb29nLnR5cGVPZihvYmopO1xuICBpZiAoXCJvYmplY3RcIiA9PSB0eXBlIHx8IFwiYXJyYXlcIiA9PSB0eXBlKSB7XG4gICAgaWYgKFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIG9iai5jbG9uZSkge1xuICAgICAgcmV0dXJuIG9iai5jbG9uZSgpO1xuICAgIH1cbiAgICBpZiAoXCJ1bmRlZmluZWRcIiAhPT0gdHlwZW9mIE1hcCAmJiBvYmogaW5zdGFuY2VvZiBNYXApIHtcbiAgICAgIHJldHVybiBuZXcgTWFwKG9iaik7XG4gICAgfVxuICAgIGlmIChcInVuZGVmaW5lZFwiICE9PSB0eXBlb2YgU2V0ICYmIG9iaiBpbnN0YW5jZW9mIFNldCkge1xuICAgICAgcmV0dXJuIG5ldyBTZXQob2JqKTtcbiAgICB9XG4gICAgdmFyIGNsb25lID0gXCJhcnJheVwiID09IHR5cGUgPyBbXSA6IHt9LCBrZXk7XG4gICAgZm9yIChrZXkgaW4gb2JqKSB7XG4gICAgICBjbG9uZVtrZXldID0gZ29vZy5jbG9uZU9iamVjdChvYmpba2V5XSk7XG4gICAgfVxuICAgIHJldHVybiBjbG9uZTtcbiAgfVxuICByZXR1cm4gb2JqO1xufTtcbmdvb2cuYmluZE5hdGl2ZV8gPSBmdW5jdGlvbihmbiwgc2VsZk9iaiwgdmFyX2FyZ3MpIHtcbiAgcmV0dXJuIGZuLmNhbGwuYXBwbHkoZm4uYmluZCwgYXJndW1lbnRzKTtcbn07XG5nb29nLmJpbmRKc18gPSBmdW5jdGlvbihmbiwgc2VsZk9iaiwgdmFyX2FyZ3MpIHtcbiAgaWYgKCFmbikge1xuICAgIHRocm93IEVycm9yKCk7XG4gIH1cbiAgaWYgKDIgPCBhcmd1bWVudHMubGVuZ3RoKSB7XG4gICAgdmFyIGJvdW5kQXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMik7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIG5ld0FyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpO1xuICAgICAgQXJyYXkucHJvdG90eXBlLnVuc2hpZnQuYXBwbHkobmV3QXJncywgYm91bmRBcmdzKTtcbiAgICAgIHJldHVybiBmbi5hcHBseShzZWxmT2JqLCBuZXdBcmdzKTtcbiAgICB9O1xuICB9XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gZm4uYXBwbHkoc2VsZk9iaiwgYXJndW1lbnRzKTtcbiAgfTtcbn07XG5nb29nLmJpbmQgPSBmdW5jdGlvbihmbiwgc2VsZk9iaiwgdmFyX2FyZ3MpIHtcbiAgRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQgJiYgLTEgIT0gRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQudG9TdHJpbmcoKS5pbmRleE9mKFwibmF0aXZlIGNvZGVcIikgPyBnb29nLmJpbmQgPSBnb29nLmJpbmROYXRpdmVfIDogZ29vZy5iaW5kID0gZ29vZy5iaW5kSnNfO1xuICByZXR1cm4gZ29vZy5iaW5kLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG59O1xuZ29vZy5wYXJ0aWFsID0gZnVuY3Rpb24oZm4sIHZhcl9hcmdzKSB7XG4gIHZhciBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKTtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHZhciBuZXdBcmdzID0gYXJncy5zbGljZSgpO1xuICAgIG5ld0FyZ3MucHVzaC5hcHBseShuZXdBcmdzLCBhcmd1bWVudHMpO1xuICAgIHJldHVybiBmbi5hcHBseSh0aGlzLCBuZXdBcmdzKTtcbiAgfTtcbn07XG5nb29nLm5vdyA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gRGF0ZS5ub3coKTtcbn07XG5nb29nLmdsb2JhbEV2YWwgPSBmdW5jdGlvbihzY3JpcHQpIHtcbiAgKDAsZXZhbCkoc2NyaXB0KTtcbn07XG5nb29nLmdldENzc05hbWUgPSBmdW5jdGlvbihjbGFzc05hbWUsIG9wdF9tb2RpZmllcikge1xuICBpZiAoXCIuXCIgPT0gU3RyaW5nKGNsYXNzTmFtZSkuY2hhckF0KDApKSB7XG4gICAgdGhyb3cgRXJyb3IoJ2NsYXNzTmFtZSBwYXNzZWQgaW4gZ29vZy5nZXRDc3NOYW1lIG11c3Qgbm90IHN0YXJ0IHdpdGggXCIuXCIuIFlvdSBwYXNzZWQ6ICcgKyBjbGFzc05hbWUpO1xuICB9XG4gIHZhciBnZXRNYXBwaW5nID0gZnVuY3Rpb24oY3NzTmFtZSkge1xuICAgIHJldHVybiBnb29nLmNzc05hbWVNYXBwaW5nX1tjc3NOYW1lXSB8fCBjc3NOYW1lO1xuICB9LCByZW5hbWVCeVBhcnRzID0gZnVuY3Rpb24oY3NzTmFtZSkge1xuICAgIGZvciAodmFyIHBhcnRzID0gY3NzTmFtZS5zcGxpdChcIi1cIiksIG1hcHBlZCA9IFtdLCBpID0gMDsgaSA8IHBhcnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBtYXBwZWQucHVzaChnZXRNYXBwaW5nKHBhcnRzW2ldKSk7XG4gICAgfVxuICAgIHJldHVybiBtYXBwZWQuam9pbihcIi1cIik7XG4gIH07XG4gIHZhciByZW5hbWUgPSBnb29nLmNzc05hbWVNYXBwaW5nXyA/IFwiQllfV0hPTEVcIiA9PSBnb29nLmNzc05hbWVNYXBwaW5nU3R5bGVfID8gZ2V0TWFwcGluZyA6IHJlbmFtZUJ5UGFydHMgOiBmdW5jdGlvbihhKSB7XG4gICAgcmV0dXJuIGE7XG4gIH07XG4gIHZhciByZXN1bHQgPSBvcHRfbW9kaWZpZXIgPyBjbGFzc05hbWUgKyBcIi1cIiArIHJlbmFtZShvcHRfbW9kaWZpZXIpIDogcmVuYW1lKGNsYXNzTmFtZSk7XG4gIHJldHVybiBnb29nLmdsb2JhbC5DTE9TVVJFX0NTU19OQU1FX01BUF9GTiA/IGdvb2cuZ2xvYmFsLkNMT1NVUkVfQ1NTX05BTUVfTUFQX0ZOKHJlc3VsdCkgOiByZXN1bHQ7XG59O1xuZ29vZy5zZXRDc3NOYW1lTWFwcGluZyA9IGZ1bmN0aW9uKG1hcHBpbmcsIG9wdF9zdHlsZSkge1xuICBnb29nLmNzc05hbWVNYXBwaW5nXyA9IG1hcHBpbmc7XG4gIGdvb2cuY3NzTmFtZU1hcHBpbmdTdHlsZV8gPSBvcHRfc3R5bGU7XG59O1xuZ29vZy5HZXRNc2dPcHRpb25zID0gZnVuY3Rpb24oKSB7XG59O1xuZ29vZy5nZXRNc2cgPSBmdW5jdGlvbihzdHIsIG9wdF92YWx1ZXMsIG9wdF9vcHRpb25zKSB7XG4gIG9wdF9vcHRpb25zICYmIG9wdF9vcHRpb25zLmh0bWwgJiYgKHN0ciA9IHN0ci5yZXBsYWNlKC88L2csIFwiJmx0O1wiKSk7XG4gIG9wdF9vcHRpb25zICYmIG9wdF9vcHRpb25zLnVuZXNjYXBlSHRtbEVudGl0aWVzICYmIChzdHIgPSBzdHIucmVwbGFjZSgvJmx0Oy9nLCBcIjxcIikucmVwbGFjZSgvJmd0Oy9nLCBcIj5cIikucmVwbGFjZSgvJmFwb3M7L2csIFwiJ1wiKS5yZXBsYWNlKC8mcXVvdDsvZywgJ1wiJykucmVwbGFjZSgvJmFtcDsvZywgXCImXCIpKTtcbiAgb3B0X3ZhbHVlcyAmJiAoc3RyID0gc3RyLnJlcGxhY2UoL1xce1xcJChbXn1dKyl9L2csIGZ1bmN0aW9uKG1hdGNoLCBrZXkpIHtcbiAgICByZXR1cm4gbnVsbCAhPSBvcHRfdmFsdWVzICYmIGtleSBpbiBvcHRfdmFsdWVzID8gb3B0X3ZhbHVlc1trZXldIDogbWF0Y2g7XG4gIH0pKTtcbiAgcmV0dXJuIHN0cjtcbn07XG5nb29nLmdldE1zZ1dpdGhGYWxsYmFjayA9IGZ1bmN0aW9uKGEsIGIpIHtcbiAgcmV0dXJuIGE7XG59O1xuZ29vZy5leHBvcnRTeW1ib2wgPSBmdW5jdGlvbihwdWJsaWNQYXRoLCBvYmplY3QsIG9iamVjdFRvRXhwb3J0VG8pIHtcbiAgZ29vZy5leHBvcnRQYXRoXyhwdWJsaWNQYXRoLCBvYmplY3QsICEwLCBvYmplY3RUb0V4cG9ydFRvKTtcbn07XG5nb29nLmV4cG9ydFByb3BlcnR5ID0gZnVuY3Rpb24ob2JqZWN0LCBwdWJsaWNOYW1lLCBzeW1ib2wpIHtcbiAgb2JqZWN0W3B1YmxpY05hbWVdID0gc3ltYm9sO1xufTtcbmdvb2cuaW5oZXJpdHMgPSBmdW5jdGlvbihjaGlsZEN0b3IsIHBhcmVudEN0b3IpIHtcbiAgZnVuY3Rpb24gdGVtcEN0b3IoKSB7XG4gIH1cbiAgdGVtcEN0b3IucHJvdG90eXBlID0gcGFyZW50Q3Rvci5wcm90b3R5cGU7XG4gIGNoaWxkQ3Rvci5zdXBlckNsYXNzXyA9IHBhcmVudEN0b3IucHJvdG90eXBlO1xuICBjaGlsZEN0b3IucHJvdG90eXBlID0gbmV3IHRlbXBDdG9yKCk7XG4gIGNoaWxkQ3Rvci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBjaGlsZEN0b3I7XG4gIGNoaWxkQ3Rvci5iYXNlID0gZnVuY3Rpb24obWUsIG1ldGhvZE5hbWUsIHZhcl9hcmdzKSB7XG4gICAgZm9yICh2YXIgYXJncyA9IEFycmF5KGFyZ3VtZW50cy5sZW5ndGggLSAyKSwgaSA9IDI7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGFyZ3NbaSAtIDJdID0gYXJndW1lbnRzW2ldO1xuICAgIH1cbiAgICByZXR1cm4gcGFyZW50Q3Rvci5wcm90b3R5cGVbbWV0aG9kTmFtZV0uYXBwbHkobWUsIGFyZ3MpO1xuICB9O1xufTtcbmdvb2cuc2NvcGUgPSBmdW5jdGlvbihmbikge1xuICBpZiAoZ29vZy5pc0luTW9kdWxlTG9hZGVyXygpKSB7XG4gICAgdGhyb3cgRXJyb3IoXCJnb29nLnNjb3BlIGlzIG5vdCBzdXBwb3J0ZWQgd2l0aGluIGEgbW9kdWxlLlwiKTtcbiAgfVxuICBmbi5jYWxsKGdvb2cuZ2xvYmFsKTtcbn07XG5nb29nLmRlZmluZUNsYXNzID0gZnVuY3Rpb24oc3VwZXJDbGFzcywgZGVmKSB7XG4gIHZhciBjb25zdHJ1Y3RvciA9IGRlZi5jb25zdHJ1Y3Rvciwgc3RhdGljcyA9IGRlZi5zdGF0aWNzO1xuICBjb25zdHJ1Y3RvciAmJiBjb25zdHJ1Y3RvciAhPSBPYmplY3QucHJvdG90eXBlLmNvbnN0cnVjdG9yIHx8IChjb25zdHJ1Y3RvciA9IGZ1bmN0aW9uKCkge1xuICAgIHRocm93IEVycm9yKFwiY2Fubm90IGluc3RhbnRpYXRlIGFuIGludGVyZmFjZSAobm8gY29uc3RydWN0b3IgZGVmaW5lZCkuXCIpO1xuICB9KTtcbiAgdmFyIGNscyA9IGdvb2cuZGVmaW5lQ2xhc3MuY3JlYXRlU2VhbGluZ0NvbnN0cnVjdG9yXyhjb25zdHJ1Y3Rvciwgc3VwZXJDbGFzcyk7XG4gIHN1cGVyQ2xhc3MgJiYgZ29vZy5pbmhlcml0cyhjbHMsIHN1cGVyQ2xhc3MpO1xuICBkZWxldGUgZGVmLmNvbnN0cnVjdG9yO1xuICBkZWxldGUgZGVmLnN0YXRpY3M7XG4gIGdvb2cuZGVmaW5lQ2xhc3MuYXBwbHlQcm9wZXJ0aWVzXyhjbHMucHJvdG90eXBlLCBkZWYpO1xuICBudWxsICE9IHN0YXRpY3MgJiYgKHN0YXRpY3MgaW5zdGFuY2VvZiBGdW5jdGlvbiA/IHN0YXRpY3MoY2xzKSA6IGdvb2cuZGVmaW5lQ2xhc3MuYXBwbHlQcm9wZXJ0aWVzXyhjbHMsIHN0YXRpY3MpKTtcbiAgcmV0dXJuIGNscztcbn07XG5nb29nLmRlZmluZUNsYXNzLlNFQUxfQ0xBU1NfSU5TVEFOQ0VTID0gZ29vZy5ERUJVRztcbmdvb2cuZGVmaW5lQ2xhc3MuY3JlYXRlU2VhbGluZ0NvbnN0cnVjdG9yXyA9IGZ1bmN0aW9uKGN0ciwgc3VwZXJDbGFzcykge1xuICByZXR1cm4gZ29vZy5kZWZpbmVDbGFzcy5TRUFMX0NMQVNTX0lOU1RBTkNFUyA/IGZ1bmN0aW9uKCkge1xuICAgIHZhciBpbnN0YW5jZSA9IGN0ci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG4gICAgaW5zdGFuY2VbZ29vZy5VSURfUFJPUEVSVFlfXSA9IGluc3RhbmNlW2dvb2cuVUlEX1BST1BFUlRZX107XG4gICAgcmV0dXJuIGluc3RhbmNlO1xuICB9IDogY3RyO1xufTtcbmdvb2cuZGVmaW5lQ2xhc3MuT0JKRUNUX1BST1RPVFlQRV9GSUVMRFNfID0gXCJjb25zdHJ1Y3RvciBoYXNPd25Qcm9wZXJ0eSBpc1Byb3RvdHlwZU9mIHByb3BlcnR5SXNFbnVtZXJhYmxlIHRvTG9jYWxlU3RyaW5nIHRvU3RyaW5nIHZhbHVlT2ZcIi5zcGxpdChcIiBcIik7XG5nb29nLmRlZmluZUNsYXNzLmFwcGx5UHJvcGVydGllc18gPSBmdW5jdGlvbih0YXJnZXQsIHNvdXJjZSkge1xuICBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7XG4gICAgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSAmJiAodGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XSk7XG4gIH1cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBnb29nLmRlZmluZUNsYXNzLk9CSkVDVF9QUk9UT1RZUEVfRklFTERTXy5sZW5ndGg7IGkrKykge1xuICAgIGtleSA9IGdvb2cuZGVmaW5lQ2xhc3MuT0JKRUNUX1BST1RPVFlQRV9GSUVMRFNfW2ldLCBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpICYmICh0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldKTtcbiAgfVxufTtcbmdvb2cuaWRlbnRpdHlfID0gZnVuY3Rpb24ocykge1xuICByZXR1cm4gcztcbn07XG5nb29nLmNyZWF0ZVRydXN0ZWRUeXBlc1BvbGljeSA9IGZ1bmN0aW9uKG5hbWUpIHtcbiAgdmFyIHBvbGljeSA9IG51bGwsIHBvbGljeUZhY3RvcnkgPSBnb29nLmdsb2JhbC50cnVzdGVkVHlwZXM7XG4gIGlmICghcG9saWN5RmFjdG9yeSB8fCAhcG9saWN5RmFjdG9yeS5jcmVhdGVQb2xpY3kpIHtcbiAgICByZXR1cm4gcG9saWN5O1xuICB9XG4gIHRyeSB7XG4gICAgcG9saWN5ID0gcG9saWN5RmFjdG9yeS5jcmVhdGVQb2xpY3kobmFtZSwge2NyZWF0ZUhUTUw6Z29vZy5pZGVudGl0eV8sIGNyZWF0ZVNjcmlwdDpnb29nLmlkZW50aXR5XywgY3JlYXRlU2NyaXB0VVJMOmdvb2cuaWRlbnRpdHlffSk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBnb29nLmxvZ1RvQ29uc29sZV8oZS5tZXNzYWdlKTtcbiAgfVxuICByZXR1cm4gcG9saWN5O1xufTtcbmZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJGRpc3Bvc2VfZGlzcG9zZShvYmopIHtcbiAgb2JqICYmIFwiZnVuY3Rpb25cIiA9PSB0eXBlb2Ygb2JqLmRpc3Bvc2UgJiYgb2JqLmRpc3Bvc2UoKTtcbn1cbmdvb2cuZGlzcG9zZSA9IG1vZHVsZSRjb250ZW50cyRnb29nJGRpc3Bvc2VfZGlzcG9zZTtcbmZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJGRpc3Bvc2VBbGxfZGlzcG9zZUFsbCh2YXJfYXJncykge1xuICBmb3IgKHZhciBpID0gMCwgbGVuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IGxlbjsgKytpKSB7XG4gICAgdmFyIGRpc3Bvc2FibGUgPSBhcmd1bWVudHNbaV07XG4gICAgZ29vZy5pc0FycmF5TGlrZShkaXNwb3NhYmxlKSA/IG1vZHVsZSRjb250ZW50cyRnb29nJGRpc3Bvc2VBbGxfZGlzcG9zZUFsbC5hcHBseShudWxsLCBkaXNwb3NhYmxlKSA6IG1vZHVsZSRjb250ZW50cyRnb29nJGRpc3Bvc2VfZGlzcG9zZShkaXNwb3NhYmxlKTtcbiAgfVxufVxuZ29vZy5kaXNwb3NlQWxsID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckZGlzcG9zZUFsbF9kaXNwb3NlQWxsO1xuZ29vZy5kaXNwb3NhYmxlID0ge307XG5nb29nLmRpc3Bvc2FibGUuSURpc3Bvc2FibGUgPSBmdW5jdGlvbigpIHtcbn07XG5nb29nLkRpc3Bvc2FibGUgPSBmdW5jdGlvbigpIHtcbiAgZ29vZy5EaXNwb3NhYmxlLk1PTklUT1JJTkdfTU9ERSAhPSBnb29nLkRpc3Bvc2FibGUuTW9uaXRvcmluZ01vZGUuT0ZGICYmIChnb29nLkRpc3Bvc2FibGUuSU5DTFVERV9TVEFDS19PTl9DUkVBVElPTiAmJiAodGhpcy5jcmVhdGlvblN0YWNrID0gRXJyb3IoKS5zdGFjayksIGdvb2cuRGlzcG9zYWJsZS5pbnN0YW5jZXNfW2dvb2cuZ2V0VWlkKHRoaXMpXSA9IHRoaXMpO1xuICB0aGlzLmRpc3Bvc2VkXyA9IHRoaXMuZGlzcG9zZWRfO1xuICB0aGlzLm9uRGlzcG9zZUNhbGxiYWNrc18gPSB0aGlzLm9uRGlzcG9zZUNhbGxiYWNrc187XG59O1xuZ29vZy5EaXNwb3NhYmxlLk1vbml0b3JpbmdNb2RlID0ge09GRjowLCBQRVJNQU5FTlQ6MSwgSU5URVJBQ1RJVkU6Mn07XG5nb29nLkRpc3Bvc2FibGUuTU9OSVRPUklOR19NT0RFID0gMDtcbmdvb2cuRGlzcG9zYWJsZS5JTkNMVURFX1NUQUNLX09OX0NSRUFUSU9OID0gITA7XG5nb29nLkRpc3Bvc2FibGUuaW5zdGFuY2VzXyA9IHt9O1xuZ29vZy5EaXNwb3NhYmxlLmdldFVuZGlzcG9zZWRPYmplY3RzID0gZnVuY3Rpb24oKSB7XG4gIHZhciByZXQgPSBbXSwgaWQ7XG4gIGZvciAoaWQgaW4gZ29vZy5EaXNwb3NhYmxlLmluc3RhbmNlc18pIHtcbiAgICBnb29nLkRpc3Bvc2FibGUuaW5zdGFuY2VzXy5oYXNPd25Qcm9wZXJ0eShpZCkgJiYgcmV0LnB1c2goZ29vZy5EaXNwb3NhYmxlLmluc3RhbmNlc19bTnVtYmVyKGlkKV0pO1xuICB9XG4gIHJldHVybiByZXQ7XG59O1xuZ29vZy5EaXNwb3NhYmxlLmNsZWFyVW5kaXNwb3NlZE9iamVjdHMgPSBmdW5jdGlvbigpIHtcbiAgZ29vZy5EaXNwb3NhYmxlLmluc3RhbmNlc18gPSB7fTtcbn07XG5nb29nLkRpc3Bvc2FibGUucHJvdG90eXBlLmRpc3Bvc2VkXyA9ICExO1xuZ29vZy5EaXNwb3NhYmxlLnByb3RvdHlwZS5pc0Rpc3Bvc2VkID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLmRpc3Bvc2VkXztcbn07XG5nb29nLkRpc3Bvc2FibGUucHJvdG90eXBlLmdldERpc3Bvc2VkID0gZ29vZy5EaXNwb3NhYmxlLnByb3RvdHlwZS5pc0Rpc3Bvc2VkO1xuZ29vZy5EaXNwb3NhYmxlLnByb3RvdHlwZS5kaXNwb3NlID0gZnVuY3Rpb24oKSB7XG4gIGlmICghdGhpcy5kaXNwb3NlZF8gJiYgKHRoaXMuZGlzcG9zZWRfID0gITAsIHRoaXMuZGlzcG9zZUludGVybmFsKCksIGdvb2cuRGlzcG9zYWJsZS5NT05JVE9SSU5HX01PREUgIT0gZ29vZy5EaXNwb3NhYmxlLk1vbml0b3JpbmdNb2RlLk9GRikpIHtcbiAgICB2YXIgdWlkID0gZ29vZy5nZXRVaWQodGhpcyk7XG4gICAgaWYgKGdvb2cuRGlzcG9zYWJsZS5NT05JVE9SSU5HX01PREUgPT0gZ29vZy5EaXNwb3NhYmxlLk1vbml0b3JpbmdNb2RlLlBFUk1BTkVOVCAmJiAhZ29vZy5EaXNwb3NhYmxlLmluc3RhbmNlc18uaGFzT3duUHJvcGVydHkodWlkKSkge1xuICAgICAgdGhyb3cgRXJyb3IodGhpcyArIFwiIGRpZCBub3QgY2FsbCB0aGUgZ29vZy5EaXNwb3NhYmxlIGJhc2UgY29uc3RydWN0b3Igb3Igd2FzIGRpc3Bvc2VkIG9mIGFmdGVyIGEgY2xlYXJVbmRpc3Bvc2VkT2JqZWN0cyBjYWxsXCIpO1xuICAgIH1cbiAgICBpZiAoZ29vZy5EaXNwb3NhYmxlLk1PTklUT1JJTkdfTU9ERSAhPSBnb29nLkRpc3Bvc2FibGUuTW9uaXRvcmluZ01vZGUuT0ZGICYmIHRoaXMub25EaXNwb3NlQ2FsbGJhY2tzXyAmJiAwIDwgdGhpcy5vbkRpc3Bvc2VDYWxsYmFja3NfLmxlbmd0aCkge1xuICAgICAgdGhyb3cgRXJyb3IodGhpcyArIFwiIGRpZCBub3QgZW1wdHkgaXRzIG9uRGlzcG9zZUNhbGxiYWNrcyBxdWV1ZS4gVGhpcyBwcm9iYWJseSBtZWFucyBpdCBvdmVycm9kZSBkaXNwb3NlKCkgb3IgZGlzcG9zZUludGVybmFsKCkgd2l0aG91dCBjYWxsaW5nIHRoZSBzdXBlcmNsYXNzJyBtZXRob2QuXCIpO1xuICAgIH1cbiAgICBkZWxldGUgZ29vZy5EaXNwb3NhYmxlLmluc3RhbmNlc19bdWlkXTtcbiAgfVxufTtcbmdvb2cuRGlzcG9zYWJsZS5wcm90b3R5cGUucmVnaXN0ZXJEaXNwb3NhYmxlID0gZnVuY3Rpb24oZGlzcG9zYWJsZSkge1xuICB0aGlzLmFkZE9uRGlzcG9zZUNhbGxiYWNrKGdvb2cucGFydGlhbChtb2R1bGUkY29udGVudHMkZ29vZyRkaXNwb3NlX2Rpc3Bvc2UsIGRpc3Bvc2FibGUpKTtcbn07XG5nb29nLkRpc3Bvc2FibGUucHJvdG90eXBlLmFkZE9uRGlzcG9zZUNhbGxiYWNrID0gZnVuY3Rpb24oY2FsbGJhY2ssIG9wdF9zY29wZSkge1xuICB0aGlzLmRpc3Bvc2VkXyA/IHZvaWQgMCAhPT0gb3B0X3Njb3BlID8gY2FsbGJhY2suY2FsbChvcHRfc2NvcGUpIDogY2FsbGJhY2soKSA6ICh0aGlzLm9uRGlzcG9zZUNhbGxiYWNrc18gfHwgKHRoaXMub25EaXNwb3NlQ2FsbGJhY2tzXyA9IFtdKSwgdGhpcy5vbkRpc3Bvc2VDYWxsYmFja3NfLnB1c2godm9pZCAwICE9PSBvcHRfc2NvcGUgPyBnb29nLmJpbmQoY2FsbGJhY2ssIG9wdF9zY29wZSkgOiBjYWxsYmFjaykpO1xufTtcbmdvb2cuRGlzcG9zYWJsZS5wcm90b3R5cGUuZGlzcG9zZUludGVybmFsID0gZnVuY3Rpb24oKSB7XG4gIGlmICh0aGlzLm9uRGlzcG9zZUNhbGxiYWNrc18pIHtcbiAgICBmb3IgKDsgdGhpcy5vbkRpc3Bvc2VDYWxsYmFja3NfLmxlbmd0aDspIHtcbiAgICAgIHRoaXMub25EaXNwb3NlQ2FsbGJhY2tzXy5zaGlmdCgpKCk7XG4gICAgfVxuICB9XG59O1xuZ29vZy5EaXNwb3NhYmxlLmlzRGlzcG9zZWQgPSBmdW5jdGlvbihvYmopIHtcbiAgcmV0dXJuIG9iaiAmJiBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIG9iai5pc0Rpc3Bvc2VkID8gb2JqLmlzRGlzcG9zZWQoKSA6ICExO1xufTtcbmdvb2cuZXZlbnRzID0ge307XG5nb29nLmV2ZW50cy5FdmVudElkID0gZnVuY3Rpb24oZXZlbnRJZCkge1xuICB0aGlzLmlkID0gZXZlbnRJZDtcbn07XG5nb29nLmV2ZW50cy5FdmVudElkLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5pZDtcbn07XG5nb29nLmV2ZW50cy5FdmVudCA9IGZ1bmN0aW9uKHR5cGUsIG9wdF90YXJnZXQpIHtcbiAgdGhpcy50eXBlID0gdHlwZSBpbnN0YW5jZW9mIGdvb2cuZXZlbnRzLkV2ZW50SWQgPyBTdHJpbmcodHlwZSkgOiB0eXBlO1xuICB0aGlzLmN1cnJlbnRUYXJnZXQgPSB0aGlzLnRhcmdldCA9IG9wdF90YXJnZXQ7XG4gIHRoaXMuZGVmYXVsdFByZXZlbnRlZCA9IHRoaXMucHJvcGFnYXRpb25TdG9wcGVkXyA9ICExO1xufTtcbmdvb2cuZXZlbnRzLkV2ZW50LnByb3RvdHlwZS5oYXNQcm9wYWdhdGlvblN0b3BwZWQgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMucHJvcGFnYXRpb25TdG9wcGVkXztcbn07XG5nb29nLmV2ZW50cy5FdmVudC5wcm90b3R5cGUuc3RvcFByb3BhZ2F0aW9uID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMucHJvcGFnYXRpb25TdG9wcGVkXyA9ICEwO1xufTtcbmdvb2cuZXZlbnRzLkV2ZW50LnByb3RvdHlwZS5wcmV2ZW50RGVmYXVsdCA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLmRlZmF1bHRQcmV2ZW50ZWQgPSAhMDtcbn07XG5nb29nLmV2ZW50cy5FdmVudC5zdG9wUHJvcGFnYXRpb24gPSBmdW5jdGlvbihlKSB7XG4gIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG59O1xuZ29vZy5ldmVudHMuRXZlbnQucHJldmVudERlZmF1bHQgPSBmdW5jdGlvbihlKSB7XG4gIGUucHJldmVudERlZmF1bHQoKTtcbn07XG5nb29nLmRlYnVnID0ge307XG5mdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRkZWJ1ZyRFcnJvcl9EZWJ1Z0Vycm9yKG1zZywgY2F1c2UpIHtcbiAgaWYgKEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKSB7XG4gICAgRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UodGhpcywgbW9kdWxlJGNvbnRlbnRzJGdvb2ckZGVidWckRXJyb3JfRGVidWdFcnJvcik7XG4gIH0gZWxzZSB7XG4gICAgdmFyIHN0YWNrID0gRXJyb3IoKS5zdGFjaztcbiAgICBzdGFjayAmJiAodGhpcy5zdGFjayA9IHN0YWNrKTtcbiAgfVxuICBtc2cgJiYgKHRoaXMubWVzc2FnZSA9IFN0cmluZyhtc2cpKTtcbiAgdm9pZCAwICE9PSBjYXVzZSAmJiAodGhpcy5jYXVzZSA9IGNhdXNlKTtcbiAgdGhpcy5yZXBvcnRFcnJvclRvU2VydmVyID0gITA7XG59XG5nb29nLmluaGVyaXRzKG1vZHVsZSRjb250ZW50cyRnb29nJGRlYnVnJEVycm9yX0RlYnVnRXJyb3IsIEVycm9yKTtcbm1vZHVsZSRjb250ZW50cyRnb29nJGRlYnVnJEVycm9yX0RlYnVnRXJyb3IucHJvdG90eXBlLm5hbWUgPSBcIkN1c3RvbUVycm9yXCI7XG5nb29nLmRlYnVnLkVycm9yID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckZGVidWckRXJyb3JfRGVidWdFcnJvcjtcbmdvb2cuZG9tID0ge307XG5nb29nLmRvbS5Ob2RlVHlwZSA9IHtFTEVNRU5UOjEsIEFUVFJJQlVURToyLCBURVhUOjMsIENEQVRBX1NFQ1RJT046NCwgRU5USVRZX1JFRkVSRU5DRTo1LCBFTlRJVFk6NiwgUFJPQ0VTU0lOR19JTlNUUlVDVElPTjo3LCBDT01NRU5UOjgsIERPQ1VNRU5UOjksIERPQ1VNRU5UX1RZUEU6MTAsIERPQ1VNRU5UX0ZSQUdNRU5UOjExLCBOT1RBVElPTjoxMn07XG5nb29nLmFzc2VydHMgPSB7fTtcbmdvb2cuYXNzZXJ0cy5FTkFCTEVfQVNTRVJUUyA9IGdvb2cuREVCVUc7XG5mdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRhc3NlcnRzX0Fzc2VydGlvbkVycm9yKG1lc3NhZ2VQYXR0ZXJuLCBtZXNzYWdlQXJncykge1xuICBtb2R1bGUkY29udGVudHMkZ29vZyRkZWJ1ZyRFcnJvcl9EZWJ1Z0Vycm9yLmNhbGwodGhpcywgbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXNzZXJ0c19zdWJzKG1lc3NhZ2VQYXR0ZXJuLCBtZXNzYWdlQXJncykpO1xuICB0aGlzLm1lc3NhZ2VQYXR0ZXJuID0gbWVzc2FnZVBhdHRlcm47XG59XG5nb29nLmluaGVyaXRzKG1vZHVsZSRjb250ZW50cyRnb29nJGFzc2VydHNfQXNzZXJ0aW9uRXJyb3IsIG1vZHVsZSRjb250ZW50cyRnb29nJGRlYnVnJEVycm9yX0RlYnVnRXJyb3IpO1xuZ29vZy5hc3NlcnRzLkFzc2VydGlvbkVycm9yID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXNzZXJ0c19Bc3NlcnRpb25FcnJvcjtcbm1vZHVsZSRjb250ZW50cyRnb29nJGFzc2VydHNfQXNzZXJ0aW9uRXJyb3IucHJvdG90eXBlLm5hbWUgPSBcIkFzc2VydGlvbkVycm9yXCI7XG5nb29nLmFzc2VydHMuREVGQVVMVF9FUlJPUl9IQU5ETEVSID0gZnVuY3Rpb24oZSkge1xuICB0aHJvdyBlO1xufTtcbnZhciBtb2R1bGUkY29udGVudHMkZ29vZyRhc3NlcnRzX2Vycm9ySGFuZGxlcl8gPSBnb29nLmFzc2VydHMuREVGQVVMVF9FUlJPUl9IQU5ETEVSO1xuZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXNzZXJ0c19zdWJzKHBhdHRlcm4sIHN1YnMpIHtcbiAgZm9yICh2YXIgc3BsaXRQYXJ0cyA9IHBhdHRlcm4uc3BsaXQoXCIlc1wiKSwgcmV0dXJuU3RyaW5nID0gXCJcIiwgc3ViTGFzdCA9IHNwbGl0UGFydHMubGVuZ3RoIC0gMSwgaSA9IDA7IGkgPCBzdWJMYXN0OyBpKyspIHtcbiAgICByZXR1cm5TdHJpbmcgKz0gc3BsaXRQYXJ0c1tpXSArIChpIDwgc3Vicy5sZW5ndGggPyBzdWJzW2ldIDogXCIlc1wiKTtcbiAgfVxuICByZXR1cm4gcmV0dXJuU3RyaW5nICsgc3BsaXRQYXJ0c1tzdWJMYXN0XTtcbn1cbmZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJGFzc2VydHNfZG9Bc3NlcnRGYWlsdXJlKGRlZmF1bHRNZXNzYWdlLCBkZWZhdWx0QXJncywgZ2l2ZW5NZXNzYWdlLCBnaXZlbkFyZ3MpIHtcbiAgdmFyIG1lc3NhZ2UgPSBcIkFzc2VydGlvbiBmYWlsZWRcIjtcbiAgaWYgKGdpdmVuTWVzc2FnZSkge1xuICAgIG1lc3NhZ2UgKz0gXCI6IFwiICsgZ2l2ZW5NZXNzYWdlO1xuICAgIHZhciBhcmdzID0gZ2l2ZW5BcmdzO1xuICB9IGVsc2Uge1xuICAgIGRlZmF1bHRNZXNzYWdlICYmIChtZXNzYWdlICs9IFwiOiBcIiArIGRlZmF1bHRNZXNzYWdlLCBhcmdzID0gZGVmYXVsdEFyZ3MpO1xuICB9XG4gIHZhciBlID0gbmV3IG1vZHVsZSRjb250ZW50cyRnb29nJGFzc2VydHNfQXNzZXJ0aW9uRXJyb3IoXCJcIiArIG1lc3NhZ2UsIGFyZ3MgfHwgW10pO1xuICBtb2R1bGUkY29udGVudHMkZ29vZyRhc3NlcnRzX2Vycm9ySGFuZGxlcl8oZSk7XG59XG5nb29nLmFzc2VydHMuc2V0RXJyb3JIYW5kbGVyID0gZnVuY3Rpb24oZXJyb3JIYW5kbGVyKSB7XG4gIGdvb2cuYXNzZXJ0cy5FTkFCTEVfQVNTRVJUUyAmJiAobW9kdWxlJGNvbnRlbnRzJGdvb2ckYXNzZXJ0c19lcnJvckhhbmRsZXJfID0gZXJyb3JIYW5kbGVyKTtcbn07XG5nb29nLmFzc2VydHMuYXNzZXJ0ID0gZnVuY3Rpb24oY29uZGl0aW9uLCBvcHRfbWVzc2FnZSwgdmFyX2FyZ3MpIHtcbiAgZ29vZy5hc3NlcnRzLkVOQUJMRV9BU1NFUlRTICYmICFjb25kaXRpb24gJiYgbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXNzZXJ0c19kb0Fzc2VydEZhaWx1cmUoXCJcIiwgbnVsbCwgb3B0X21lc3NhZ2UsIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMikpO1xuICByZXR1cm4gY29uZGl0aW9uO1xufTtcbmdvb2cuYXNzZXJ0cy5hc3NlcnRFeGlzdHMgPSBmdW5jdGlvbih2YWx1ZSwgb3B0X21lc3NhZ2UsIHZhcl9hcmdzKSB7XG4gIGdvb2cuYXNzZXJ0cy5FTkFCTEVfQVNTRVJUUyAmJiBudWxsID09IHZhbHVlICYmIG1vZHVsZSRjb250ZW50cyRnb29nJGFzc2VydHNfZG9Bc3NlcnRGYWlsdXJlKFwiRXhwZWN0ZWQgdG8gZXhpc3Q6ICVzLlwiLCBbdmFsdWVdLCBvcHRfbWVzc2FnZSwgQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAyKSk7XG4gIHJldHVybiB2YWx1ZTtcbn07XG5nb29nLmFzc2VydHMuZmFpbCA9IGZ1bmN0aW9uKG9wdF9tZXNzYWdlLCB2YXJfYXJncykge1xuICBnb29nLmFzc2VydHMuRU5BQkxFX0FTU0VSVFMgJiYgbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXNzZXJ0c19lcnJvckhhbmRsZXJfKG5ldyBtb2R1bGUkY29udGVudHMkZ29vZyRhc3NlcnRzX0Fzc2VydGlvbkVycm9yKFwiRmFpbHVyZVwiICsgKG9wdF9tZXNzYWdlID8gXCI6IFwiICsgb3B0X21lc3NhZ2UgOiBcIlwiKSwgQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKSkpO1xufTtcbmdvb2cuYXNzZXJ0cy5hc3NlcnROdW1iZXIgPSBmdW5jdGlvbih2YWx1ZSwgb3B0X21lc3NhZ2UsIHZhcl9hcmdzKSB7XG4gIGdvb2cuYXNzZXJ0cy5FTkFCTEVfQVNTRVJUUyAmJiBcIm51bWJlclwiICE9PSB0eXBlb2YgdmFsdWUgJiYgbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXNzZXJ0c19kb0Fzc2VydEZhaWx1cmUoXCJFeHBlY3RlZCBudW1iZXIgYnV0IGdvdCAlczogJXMuXCIsIFtnb29nLnR5cGVPZih2YWx1ZSksIHZhbHVlXSwgb3B0X21lc3NhZ2UsIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMikpO1xuICByZXR1cm4gdmFsdWU7XG59O1xuZ29vZy5hc3NlcnRzLmFzc2VydFN0cmluZyA9IGZ1bmN0aW9uKHZhbHVlLCBvcHRfbWVzc2FnZSwgdmFyX2FyZ3MpIHtcbiAgZ29vZy5hc3NlcnRzLkVOQUJMRV9BU1NFUlRTICYmIFwic3RyaW5nXCIgIT09IHR5cGVvZiB2YWx1ZSAmJiBtb2R1bGUkY29udGVudHMkZ29vZyRhc3NlcnRzX2RvQXNzZXJ0RmFpbHVyZShcIkV4cGVjdGVkIHN0cmluZyBidXQgZ290ICVzOiAlcy5cIiwgW2dvb2cudHlwZU9mKHZhbHVlKSwgdmFsdWVdLCBvcHRfbWVzc2FnZSwgQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAyKSk7XG4gIHJldHVybiB2YWx1ZTtcbn07XG5nb29nLmFzc2VydHMuYXNzZXJ0RnVuY3Rpb24gPSBmdW5jdGlvbih2YWx1ZSwgb3B0X21lc3NhZ2UsIHZhcl9hcmdzKSB7XG4gIGdvb2cuYXNzZXJ0cy5FTkFCTEVfQVNTRVJUUyAmJiBcImZ1bmN0aW9uXCIgIT09IHR5cGVvZiB2YWx1ZSAmJiBtb2R1bGUkY29udGVudHMkZ29vZyRhc3NlcnRzX2RvQXNzZXJ0RmFpbHVyZShcIkV4cGVjdGVkIGZ1bmN0aW9uIGJ1dCBnb3QgJXM6ICVzLlwiLCBbZ29vZy50eXBlT2YodmFsdWUpLCB2YWx1ZV0sIG9wdF9tZXNzYWdlLCBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDIpKTtcbiAgcmV0dXJuIHZhbHVlO1xufTtcbmdvb2cuYXNzZXJ0cy5hc3NlcnRPYmplY3QgPSBmdW5jdGlvbih2YWx1ZSwgb3B0X21lc3NhZ2UsIHZhcl9hcmdzKSB7XG4gIGdvb2cuYXNzZXJ0cy5FTkFCTEVfQVNTRVJUUyAmJiAhZ29vZy5pc09iamVjdCh2YWx1ZSkgJiYgbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXNzZXJ0c19kb0Fzc2VydEZhaWx1cmUoXCJFeHBlY3RlZCBvYmplY3QgYnV0IGdvdCAlczogJXMuXCIsIFtnb29nLnR5cGVPZih2YWx1ZSksIHZhbHVlXSwgb3B0X21lc3NhZ2UsIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMikpO1xuICByZXR1cm4gdmFsdWU7XG59O1xuZ29vZy5hc3NlcnRzLmFzc2VydEFycmF5ID0gZnVuY3Rpb24odmFsdWUsIG9wdF9tZXNzYWdlLCB2YXJfYXJncykge1xuICBnb29nLmFzc2VydHMuRU5BQkxFX0FTU0VSVFMgJiYgIUFycmF5LmlzQXJyYXkodmFsdWUpICYmIG1vZHVsZSRjb250ZW50cyRnb29nJGFzc2VydHNfZG9Bc3NlcnRGYWlsdXJlKFwiRXhwZWN0ZWQgYXJyYXkgYnV0IGdvdCAlczogJXMuXCIsIFtnb29nLnR5cGVPZih2YWx1ZSksIHZhbHVlXSwgb3B0X21lc3NhZ2UsIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMikpO1xuICByZXR1cm4gdmFsdWU7XG59O1xuZ29vZy5hc3NlcnRzLmFzc2VydEJvb2xlYW4gPSBmdW5jdGlvbih2YWx1ZSwgb3B0X21lc3NhZ2UsIHZhcl9hcmdzKSB7XG4gIGdvb2cuYXNzZXJ0cy5FTkFCTEVfQVNTRVJUUyAmJiBcImJvb2xlYW5cIiAhPT0gdHlwZW9mIHZhbHVlICYmIG1vZHVsZSRjb250ZW50cyRnb29nJGFzc2VydHNfZG9Bc3NlcnRGYWlsdXJlKFwiRXhwZWN0ZWQgYm9vbGVhbiBidXQgZ290ICVzOiAlcy5cIiwgW2dvb2cudHlwZU9mKHZhbHVlKSwgdmFsdWVdLCBvcHRfbWVzc2FnZSwgQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAyKSk7XG4gIHJldHVybiB2YWx1ZTtcbn07XG5nb29nLmFzc2VydHMuYXNzZXJ0RWxlbWVudCA9IGZ1bmN0aW9uKHZhbHVlLCBvcHRfbWVzc2FnZSwgdmFyX2FyZ3MpIHtcbiAgIWdvb2cuYXNzZXJ0cy5FTkFCTEVfQVNTRVJUUyB8fCBnb29nLmlzT2JqZWN0KHZhbHVlKSAmJiB2YWx1ZS5ub2RlVHlwZSA9PSBnb29nLmRvbS5Ob2RlVHlwZS5FTEVNRU5UIHx8IG1vZHVsZSRjb250ZW50cyRnb29nJGFzc2VydHNfZG9Bc3NlcnRGYWlsdXJlKFwiRXhwZWN0ZWQgRWxlbWVudCBidXQgZ290ICVzOiAlcy5cIiwgW2dvb2cudHlwZU9mKHZhbHVlKSwgdmFsdWVdLCBvcHRfbWVzc2FnZSwgQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAyKSk7XG4gIHJldHVybiB2YWx1ZTtcbn07XG5nb29nLmFzc2VydHMuYXNzZXJ0SW5zdGFuY2VvZiA9IGZ1bmN0aW9uKHZhbHVlLCB0eXBlLCBvcHRfbWVzc2FnZSwgdmFyX2FyZ3MpIHtcbiAgIWdvb2cuYXNzZXJ0cy5FTkFCTEVfQVNTRVJUUyB8fCB2YWx1ZSBpbnN0YW5jZW9mIHR5cGUgfHwgbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXNzZXJ0c19kb0Fzc2VydEZhaWx1cmUoXCJFeHBlY3RlZCBpbnN0YW5jZW9mICVzIGJ1dCBnb3QgJXMuXCIsIFttb2R1bGUkY29udGVudHMkZ29vZyRhc3NlcnRzX2dldFR5cGUodHlwZSksIG1vZHVsZSRjb250ZW50cyRnb29nJGFzc2VydHNfZ2V0VHlwZSh2YWx1ZSldLCBvcHRfbWVzc2FnZSwgQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAzKSk7XG4gIHJldHVybiB2YWx1ZTtcbn07XG5nb29nLmFzc2VydHMuYXNzZXJ0RmluaXRlID0gZnVuY3Rpb24odmFsdWUsIG9wdF9tZXNzYWdlLCB2YXJfYXJncykge1xuICAhZ29vZy5hc3NlcnRzLkVOQUJMRV9BU1NFUlRTIHx8IFwibnVtYmVyXCIgPT0gdHlwZW9mIHZhbHVlICYmIGlzRmluaXRlKHZhbHVlKSB8fCBtb2R1bGUkY29udGVudHMkZ29vZyRhc3NlcnRzX2RvQXNzZXJ0RmFpbHVyZShcIkV4cGVjdGVkICVzIHRvIGJlIGEgZmluaXRlIG51bWJlciBidXQgaXQgaXMgbm90LlwiLCBbdmFsdWVdLCBvcHRfbWVzc2FnZSwgQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAyKSk7XG4gIHJldHVybiB2YWx1ZTtcbn07XG5mdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRhc3NlcnRzX2dldFR5cGUodmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgRnVuY3Rpb24gPyB2YWx1ZS5kaXNwbGF5TmFtZSB8fCB2YWx1ZS5uYW1lIHx8IFwidW5rbm93biB0eXBlIG5hbWVcIiA6IHZhbHVlIGluc3RhbmNlb2YgT2JqZWN0ID8gdmFsdWUuY29uc3RydWN0b3IuZGlzcGxheU5hbWUgfHwgdmFsdWUuY29uc3RydWN0b3IubmFtZSB8fCBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFsdWUpIDogbnVsbCA9PT0gdmFsdWUgPyBcIm51bGxcIiA6IHR5cGVvZiB2YWx1ZTtcbn1cbjtnb29nLmRlYnVnLmVudHJ5UG9pbnRSZWdpc3RyeSA9IHt9O1xuZ29vZy5kZWJ1Zy5lbnRyeVBvaW50UmVnaXN0cnkuRW50cnlQb2ludE1vbml0b3IgPSBmdW5jdGlvbigpIHtcbn07XG5nb29nLmRlYnVnLkVudHJ5UG9pbnRNb25pdG9yID0gZ29vZy5kZWJ1Zy5lbnRyeVBvaW50UmVnaXN0cnkuRW50cnlQb2ludE1vbml0b3I7XG5nb29nLmRlYnVnLmVudHJ5UG9pbnRSZWdpc3RyeS5yZWZMaXN0XyA9IFtdO1xuZ29vZy5kZWJ1Zy5lbnRyeVBvaW50UmVnaXN0cnkubW9uaXRvcnNfID0gW107XG5nb29nLmRlYnVnLmVudHJ5UG9pbnRSZWdpc3RyeS5tb25pdG9yc01heUV4aXN0XyA9ICExO1xuZ29vZy5kZWJ1Zy5lbnRyeVBvaW50UmVnaXN0cnkucmVnaXN0ZXIgPSBmdW5jdGlvbihjYWxsYmFjaykge1xuICBnb29nLmRlYnVnLmVudHJ5UG9pbnRSZWdpc3RyeS5yZWZMaXN0X1tnb29nLmRlYnVnLmVudHJ5UG9pbnRSZWdpc3RyeS5yZWZMaXN0Xy5sZW5ndGhdID0gY2FsbGJhY2s7XG4gIGlmIChnb29nLmRlYnVnLmVudHJ5UG9pbnRSZWdpc3RyeS5tb25pdG9yc01heUV4aXN0Xykge1xuICAgIGZvciAodmFyIG1vbml0b3JzID0gZ29vZy5kZWJ1Zy5lbnRyeVBvaW50UmVnaXN0cnkubW9uaXRvcnNfLCBpID0gMDsgaSA8IG1vbml0b3JzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjYWxsYmFjayhnb29nLmJpbmQobW9uaXRvcnNbaV0ud3JhcCwgbW9uaXRvcnNbaV0pKTtcbiAgICB9XG4gIH1cbn07XG5nb29nLmRlYnVnLmVudHJ5UG9pbnRSZWdpc3RyeS5tb25pdG9yQWxsID0gZnVuY3Rpb24obW9uaXRvcikge1xuICBnb29nLmRlYnVnLmVudHJ5UG9pbnRSZWdpc3RyeS5tb25pdG9yc01heUV4aXN0XyA9ICEwO1xuICBmb3IgKHZhciB0cmFuc2Zvcm1lciA9IGdvb2cuYmluZChtb25pdG9yLndyYXAsIG1vbml0b3IpLCBpID0gMDsgaSA8IGdvb2cuZGVidWcuZW50cnlQb2ludFJlZ2lzdHJ5LnJlZkxpc3RfLmxlbmd0aDsgaSsrKSB7XG4gICAgZ29vZy5kZWJ1Zy5lbnRyeVBvaW50UmVnaXN0cnkucmVmTGlzdF9baV0odHJhbnNmb3JtZXIpO1xuICB9XG4gIGdvb2cuZGVidWcuZW50cnlQb2ludFJlZ2lzdHJ5Lm1vbml0b3JzXy5wdXNoKG1vbml0b3IpO1xufTtcbmdvb2cuZGVidWcuZW50cnlQb2ludFJlZ2lzdHJ5LnVubW9uaXRvckFsbElmUG9zc2libGUgPSBmdW5jdGlvbihtb25pdG9yKSB7XG4gIHZhciBtb25pdG9ycyA9IGdvb2cuZGVidWcuZW50cnlQb2ludFJlZ2lzdHJ5Lm1vbml0b3JzXztcbiAgZ29vZy5hc3NlcnRzLmFzc2VydChtb25pdG9yID09IG1vbml0b3JzW21vbml0b3JzLmxlbmd0aCAtIDFdLCBcIk9ubHkgdGhlIG1vc3QgcmVjZW50IG1vbml0b3IgY2FuIGJlIHVud3JhcHBlZC5cIik7XG4gIGZvciAodmFyIHRyYW5zZm9ybWVyID0gZ29vZy5iaW5kKG1vbml0b3IudW53cmFwLCBtb25pdG9yKSwgaSA9IDA7IGkgPCBnb29nLmRlYnVnLmVudHJ5UG9pbnRSZWdpc3RyeS5yZWZMaXN0Xy5sZW5ndGg7IGkrKykge1xuICAgIGdvb2cuZGVidWcuZW50cnlQb2ludFJlZ2lzdHJ5LnJlZkxpc3RfW2ldKHRyYW5zZm9ybWVyKTtcbiAgfVxuICBtb25pdG9ycy5sZW5ndGgtLTtcbn07XG5nb29nLmFycmF5ID0ge307XG5nb29nLk5BVElWRV9BUlJBWV9QUk9UT1RZUEVTID0gZ29vZy5UUlVTVEVEX1NJVEU7XG52YXIgbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfQVNTVU1FX05BVElWRV9GVU5DVElPTlMgPSAyMDEyIDwgZ29vZy5GRUFUVVJFU0VUX1lFQVI7XG5nb29nLmFycmF5LkFTU1VNRV9OQVRJVkVfRlVOQ1RJT05TID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfQVNTVU1FX05BVElWRV9GVU5DVElPTlM7XG5mdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9wZWVrKGFycmF5KSB7XG4gIHJldHVybiBhcnJheVthcnJheS5sZW5ndGggLSAxXTtcbn1cbmdvb2cuYXJyYXkucGVlayA9IG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X3BlZWs7XG5nb29nLmFycmF5Lmxhc3QgPSBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9wZWVrO1xudmFyIG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X2luZGV4T2YgPSBnb29nLk5BVElWRV9BUlJBWV9QUk9UT1RZUEVTICYmIChtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9BU1NVTUVfTkFUSVZFX0ZVTkNUSU9OUyB8fCBBcnJheS5wcm90b3R5cGUuaW5kZXhPZikgPyBmdW5jdGlvbihhcnIsIG9iaiwgb3B0X2Zyb21JbmRleCkge1xuICBnb29nLmFzc2VydHMuYXNzZXJ0KG51bGwgIT0gYXJyLmxlbmd0aCk7XG4gIHJldHVybiBBcnJheS5wcm90b3R5cGUuaW5kZXhPZi5jYWxsKGFyciwgb2JqLCBvcHRfZnJvbUluZGV4KTtcbn0gOiBmdW5jdGlvbihhcnIsIG9iaiwgb3B0X2Zyb21JbmRleCkge1xuICB2YXIgZnJvbUluZGV4ID0gbnVsbCA9PSBvcHRfZnJvbUluZGV4ID8gMCA6IDAgPiBvcHRfZnJvbUluZGV4ID8gTWF0aC5tYXgoMCwgYXJyLmxlbmd0aCArIG9wdF9mcm9tSW5kZXgpIDogb3B0X2Zyb21JbmRleDtcbiAgaWYgKFwic3RyaW5nXCIgPT09IHR5cGVvZiBhcnIpIHtcbiAgICByZXR1cm4gXCJzdHJpbmdcIiAhPT0gdHlwZW9mIG9iaiB8fCAxICE9IG9iai5sZW5ndGggPyAtMSA6IGFyci5pbmRleE9mKG9iaiwgZnJvbUluZGV4KTtcbiAgfVxuICBmb3IgKHZhciBpID0gZnJvbUluZGV4OyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKGkgaW4gYXJyICYmIGFycltpXSA9PT0gb2JqKSB7XG4gICAgICByZXR1cm4gaTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIC0xO1xufTtcbmdvb2cuYXJyYXkuaW5kZXhPZiA9IG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X2luZGV4T2Y7XG52YXIgbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfbGFzdEluZGV4T2YgPSBnb29nLk5BVElWRV9BUlJBWV9QUk9UT1RZUEVTICYmIChtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9BU1NVTUVfTkFUSVZFX0ZVTkNUSU9OUyB8fCBBcnJheS5wcm90b3R5cGUubGFzdEluZGV4T2YpID8gZnVuY3Rpb24oYXJyLCBvYmosIG9wdF9mcm9tSW5kZXgpIHtcbiAgZ29vZy5hc3NlcnRzLmFzc2VydChudWxsICE9IGFyci5sZW5ndGgpO1xuICByZXR1cm4gQXJyYXkucHJvdG90eXBlLmxhc3RJbmRleE9mLmNhbGwoYXJyLCBvYmosIG51bGwgPT0gb3B0X2Zyb21JbmRleCA/IGFyci5sZW5ndGggLSAxIDogb3B0X2Zyb21JbmRleCk7XG59IDogZnVuY3Rpb24oYXJyLCBvYmosIG9wdF9mcm9tSW5kZXgpIHtcbiAgdmFyIGZyb21JbmRleCA9IG51bGwgPT0gb3B0X2Zyb21JbmRleCA/IGFyci5sZW5ndGggLSAxIDogb3B0X2Zyb21JbmRleDtcbiAgMCA+IGZyb21JbmRleCAmJiAoZnJvbUluZGV4ID0gTWF0aC5tYXgoMCwgYXJyLmxlbmd0aCArIGZyb21JbmRleCkpO1xuICBpZiAoXCJzdHJpbmdcIiA9PT0gdHlwZW9mIGFycikge1xuICAgIHJldHVybiBcInN0cmluZ1wiICE9PSB0eXBlb2Ygb2JqIHx8IDEgIT0gb2JqLmxlbmd0aCA/IC0xIDogYXJyLmxhc3RJbmRleE9mKG9iaiwgZnJvbUluZGV4KTtcbiAgfVxuICBmb3IgKHZhciBpID0gZnJvbUluZGV4OyAwIDw9IGk7IGktLSkge1xuICAgIGlmIChpIGluIGFyciAmJiBhcnJbaV0gPT09IG9iaikge1xuICAgICAgcmV0dXJuIGk7XG4gICAgfVxuICB9XG4gIHJldHVybiAtMTtcbn07XG5nb29nLmFycmF5Lmxhc3RJbmRleE9mID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfbGFzdEluZGV4T2Y7XG52YXIgbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfZm9yRWFjaCA9IGdvb2cuTkFUSVZFX0FSUkFZX1BST1RPVFlQRVMgJiYgKG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X0FTU1VNRV9OQVRJVkVfRlVOQ1RJT05TIHx8IEFycmF5LnByb3RvdHlwZS5mb3JFYWNoKSA/IGZ1bmN0aW9uKGFyciwgZiwgb3B0X29iaikge1xuICBnb29nLmFzc2VydHMuYXNzZXJ0KG51bGwgIT0gYXJyLmxlbmd0aCk7XG4gIEFycmF5LnByb3RvdHlwZS5mb3JFYWNoLmNhbGwoYXJyLCBmLCBvcHRfb2JqKTtcbn0gOiBmdW5jdGlvbihhcnIsIGYsIG9wdF9vYmopIHtcbiAgZm9yICh2YXIgbCA9IGFyci5sZW5ndGgsIGFycjIgPSBcInN0cmluZ1wiID09PSB0eXBlb2YgYXJyID8gYXJyLnNwbGl0KFwiXCIpIDogYXJyLCBpID0gMDsgaSA8IGw7IGkrKykge1xuICAgIGkgaW4gYXJyMiAmJiBmLmNhbGwob3B0X29iaiwgYXJyMltpXSwgaSwgYXJyKTtcbiAgfVxufTtcbmdvb2cuYXJyYXkuZm9yRWFjaCA9IG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X2ZvckVhY2g7XG5mdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9mb3JFYWNoUmlnaHQoYXJyLCBmLCBvcHRfb2JqKSB7XG4gIGZvciAodmFyIGwgPSBhcnIubGVuZ3RoLCBhcnIyID0gXCJzdHJpbmdcIiA9PT0gdHlwZW9mIGFyciA/IGFyci5zcGxpdChcIlwiKSA6IGFyciwgaSA9IGwgLSAxOyAwIDw9IGk7IC0taSkge1xuICAgIGkgaW4gYXJyMiAmJiBmLmNhbGwob3B0X29iaiwgYXJyMltpXSwgaSwgYXJyKTtcbiAgfVxufVxuZ29vZy5hcnJheS5mb3JFYWNoUmlnaHQgPSBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9mb3JFYWNoUmlnaHQ7XG52YXIgbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfZmlsdGVyID0gZ29vZy5OQVRJVkVfQVJSQVlfUFJPVE9UWVBFUyAmJiAobW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfQVNTVU1FX05BVElWRV9GVU5DVElPTlMgfHwgQXJyYXkucHJvdG90eXBlLmZpbHRlcikgPyBmdW5jdGlvbihhcnIsIGYsIG9wdF9vYmopIHtcbiAgZ29vZy5hc3NlcnRzLmFzc2VydChudWxsICE9IGFyci5sZW5ndGgpO1xuICByZXR1cm4gQXJyYXkucHJvdG90eXBlLmZpbHRlci5jYWxsKGFyciwgZiwgb3B0X29iaik7XG59IDogZnVuY3Rpb24oYXJyLCBmLCBvcHRfb2JqKSB7XG4gIGZvciAodmFyIGwgPSBhcnIubGVuZ3RoLCByZXMgPSBbXSwgcmVzTGVuZ3RoID0gMCwgYXJyMiA9IFwic3RyaW5nXCIgPT09IHR5cGVvZiBhcnIgPyBhcnIuc3BsaXQoXCJcIikgOiBhcnIsIGkgPSAwOyBpIDwgbDsgaSsrKSB7XG4gICAgaWYgKGkgaW4gYXJyMikge1xuICAgICAgdmFyIHZhbCA9IGFycjJbaV07XG4gICAgICBmLmNhbGwob3B0X29iaiwgdmFsLCBpLCBhcnIpICYmIChyZXNbcmVzTGVuZ3RoKytdID0gdmFsKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlcztcbn07XG5nb29nLmFycmF5LmZpbHRlciA9IG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X2ZpbHRlcjtcbnZhciBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9tYXAgPSBnb29nLk5BVElWRV9BUlJBWV9QUk9UT1RZUEVTICYmIChtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9BU1NVTUVfTkFUSVZFX0ZVTkNUSU9OUyB8fCBBcnJheS5wcm90b3R5cGUubWFwKSA/IGZ1bmN0aW9uKGFyciwgZiwgb3B0X29iaikge1xuICBnb29nLmFzc2VydHMuYXNzZXJ0KG51bGwgIT0gYXJyLmxlbmd0aCk7XG4gIHJldHVybiBBcnJheS5wcm90b3R5cGUubWFwLmNhbGwoYXJyLCBmLCBvcHRfb2JqKTtcbn0gOiBmdW5jdGlvbihhcnIsIGYsIG9wdF9vYmopIHtcbiAgZm9yICh2YXIgbCA9IGFyci5sZW5ndGgsIHJlcyA9IEFycmF5KGwpLCBhcnIyID0gXCJzdHJpbmdcIiA9PT0gdHlwZW9mIGFyciA/IGFyci5zcGxpdChcIlwiKSA6IGFyciwgaSA9IDA7IGkgPCBsOyBpKyspIHtcbiAgICBpIGluIGFycjIgJiYgKHJlc1tpXSA9IGYuY2FsbChvcHRfb2JqLCBhcnIyW2ldLCBpLCBhcnIpKTtcbiAgfVxuICByZXR1cm4gcmVzO1xufTtcbmdvb2cuYXJyYXkubWFwID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfbWFwO1xuZ29vZy5hcnJheS5yZWR1Y2UgPSBnb29nLk5BVElWRV9BUlJBWV9QUk9UT1RZUEVTICYmIChtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9BU1NVTUVfTkFUSVZFX0ZVTkNUSU9OUyB8fCBBcnJheS5wcm90b3R5cGUucmVkdWNlKSA/IGZ1bmN0aW9uKGFyciwgZiwgdmFsLCBvcHRfb2JqKSB7XG4gIGdvb2cuYXNzZXJ0cy5hc3NlcnQobnVsbCAhPSBhcnIubGVuZ3RoKTtcbiAgb3B0X29iaiAmJiAoZiA9IGdvb2cuYmluZChmLCBvcHRfb2JqKSk7XG4gIHJldHVybiBBcnJheS5wcm90b3R5cGUucmVkdWNlLmNhbGwoYXJyLCBmLCB2YWwpO1xufSA6IGZ1bmN0aW9uKGFyciwgZiwgdmFsJGpzY29tcCQwLCBvcHRfb2JqKSB7XG4gIHZhciBydmFsID0gdmFsJGpzY29tcCQwO1xuICBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9mb3JFYWNoKGFyciwgZnVuY3Rpb24odmFsLCBpbmRleCkge1xuICAgIHJ2YWwgPSBmLmNhbGwob3B0X29iaiwgcnZhbCwgdmFsLCBpbmRleCwgYXJyKTtcbiAgfSk7XG4gIHJldHVybiBydmFsO1xufTtcbmdvb2cuYXJyYXkucmVkdWNlUmlnaHQgPSBnb29nLk5BVElWRV9BUlJBWV9QUk9UT1RZUEVTICYmIChtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9BU1NVTUVfTkFUSVZFX0ZVTkNUSU9OUyB8fCBBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQpID8gZnVuY3Rpb24oYXJyLCBmLCB2YWwsIG9wdF9vYmopIHtcbiAgZ29vZy5hc3NlcnRzLmFzc2VydChudWxsICE9IGFyci5sZW5ndGgpO1xuICBnb29nLmFzc2VydHMuYXNzZXJ0KG51bGwgIT0gZik7XG4gIG9wdF9vYmogJiYgKGYgPSBnb29nLmJpbmQoZiwgb3B0X29iaikpO1xuICByZXR1cm4gQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0LmNhbGwoYXJyLCBmLCB2YWwpO1xufSA6IGZ1bmN0aW9uKGFyciwgZiwgdmFsJGpzY29tcCQwLCBvcHRfb2JqKSB7XG4gIHZhciBydmFsID0gdmFsJGpzY29tcCQwO1xuICBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9mb3JFYWNoUmlnaHQoYXJyLCBmdW5jdGlvbih2YWwsIGluZGV4KSB7XG4gICAgcnZhbCA9IGYuY2FsbChvcHRfb2JqLCBydmFsLCB2YWwsIGluZGV4LCBhcnIpO1xuICB9KTtcbiAgcmV0dXJuIHJ2YWw7XG59O1xudmFyIG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X3NvbWUgPSBnb29nLk5BVElWRV9BUlJBWV9QUk9UT1RZUEVTICYmIChtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9BU1NVTUVfTkFUSVZFX0ZVTkNUSU9OUyB8fCBBcnJheS5wcm90b3R5cGUuc29tZSkgPyBmdW5jdGlvbihhcnIsIGYsIG9wdF9vYmopIHtcbiAgZ29vZy5hc3NlcnRzLmFzc2VydChudWxsICE9IGFyci5sZW5ndGgpO1xuICByZXR1cm4gQXJyYXkucHJvdG90eXBlLnNvbWUuY2FsbChhcnIsIGYsIG9wdF9vYmopO1xufSA6IGZ1bmN0aW9uKGFyciwgZiwgb3B0X29iaikge1xuICBmb3IgKHZhciBsID0gYXJyLmxlbmd0aCwgYXJyMiA9IFwic3RyaW5nXCIgPT09IHR5cGVvZiBhcnIgPyBhcnIuc3BsaXQoXCJcIikgOiBhcnIsIGkgPSAwOyBpIDwgbDsgaSsrKSB7XG4gICAgaWYgKGkgaW4gYXJyMiAmJiBmLmNhbGwob3B0X29iaiwgYXJyMltpXSwgaSwgYXJyKSkge1xuICAgICAgcmV0dXJuICEwO1xuICAgIH1cbiAgfVxuICByZXR1cm4gITE7XG59O1xuZ29vZy5hcnJheS5zb21lID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfc29tZTtcbnZhciBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9ldmVyeSA9IGdvb2cuTkFUSVZFX0FSUkFZX1BST1RPVFlQRVMgJiYgKG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X0FTU1VNRV9OQVRJVkVfRlVOQ1RJT05TIHx8IEFycmF5LnByb3RvdHlwZS5ldmVyeSkgPyBmdW5jdGlvbihhcnIsIGYsIG9wdF9vYmopIHtcbiAgZ29vZy5hc3NlcnRzLmFzc2VydChudWxsICE9IGFyci5sZW5ndGgpO1xuICByZXR1cm4gQXJyYXkucHJvdG90eXBlLmV2ZXJ5LmNhbGwoYXJyLCBmLCBvcHRfb2JqKTtcbn0gOiBmdW5jdGlvbihhcnIsIGYsIG9wdF9vYmopIHtcbiAgZm9yICh2YXIgbCA9IGFyci5sZW5ndGgsIGFycjIgPSBcInN0cmluZ1wiID09PSB0eXBlb2YgYXJyID8gYXJyLnNwbGl0KFwiXCIpIDogYXJyLCBpID0gMDsgaSA8IGw7IGkrKykge1xuICAgIGlmIChpIGluIGFycjIgJiYgIWYuY2FsbChvcHRfb2JqLCBhcnIyW2ldLCBpLCBhcnIpKSB7XG4gICAgICByZXR1cm4gITE7XG4gICAgfVxuICB9XG4gIHJldHVybiAhMDtcbn07XG5nb29nLmFycmF5LmV2ZXJ5ID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfZXZlcnk7XG5mdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9jb3VudChhcnIkanNjb21wJDAsIGYsIG9wdF9vYmopIHtcbiAgdmFyIGNvdW50ID0gMDtcbiAgbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfZm9yRWFjaChhcnIkanNjb21wJDAsIGZ1bmN0aW9uKGVsZW1lbnQsIGluZGV4LCBhcnIpIHtcbiAgICBmLmNhbGwob3B0X29iaiwgZWxlbWVudCwgaW5kZXgsIGFycikgJiYgKytjb3VudDtcbiAgfSwgb3B0X29iaik7XG4gIHJldHVybiBjb3VudDtcbn1cbmdvb2cuYXJyYXkuY291bnQgPSBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9jb3VudDtcbmZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X2ZpbmQoYXJyLCBmLCBvcHRfb2JqKSB7XG4gIHZhciBpID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfZmluZEluZGV4KGFyciwgZiwgb3B0X29iaik7XG4gIHJldHVybiAwID4gaSA/IG51bGwgOiBcInN0cmluZ1wiID09PSB0eXBlb2YgYXJyID8gYXJyLmNoYXJBdChpKSA6IGFycltpXTtcbn1cbmdvb2cuYXJyYXkuZmluZCA9IG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X2ZpbmQ7XG5mdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9maW5kSW5kZXgoYXJyLCBmLCBvcHRfb2JqKSB7XG4gIGZvciAodmFyIGwgPSBhcnIubGVuZ3RoLCBhcnIyID0gXCJzdHJpbmdcIiA9PT0gdHlwZW9mIGFyciA/IGFyci5zcGxpdChcIlwiKSA6IGFyciwgaSA9IDA7IGkgPCBsOyBpKyspIHtcbiAgICBpZiAoaSBpbiBhcnIyICYmIGYuY2FsbChvcHRfb2JqLCBhcnIyW2ldLCBpLCBhcnIpKSB7XG4gICAgICByZXR1cm4gaTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIC0xO1xufVxuZ29vZy5hcnJheS5maW5kSW5kZXggPSBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9maW5kSW5kZXg7XG5nb29nLmFycmF5LmZpbmRSaWdodCA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X2ZpbmRSaWdodChhcnIsIGYsIG9wdF9vYmopIHtcbiAgdmFyIGkgPSBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9maW5kSW5kZXhSaWdodChhcnIsIGYsIG9wdF9vYmopO1xuICByZXR1cm4gMCA+IGkgPyBudWxsIDogXCJzdHJpbmdcIiA9PT0gdHlwZW9mIGFyciA/IGFyci5jaGFyQXQoaSkgOiBhcnJbaV07XG59O1xuZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfZmluZEluZGV4UmlnaHQoYXJyLCBmLCBvcHRfb2JqKSB7XG4gIGZvciAodmFyIGwgPSBhcnIubGVuZ3RoLCBhcnIyID0gXCJzdHJpbmdcIiA9PT0gdHlwZW9mIGFyciA/IGFyci5zcGxpdChcIlwiKSA6IGFyciwgaSA9IGwgLSAxOyAwIDw9IGk7IGktLSkge1xuICAgIGlmIChpIGluIGFycjIgJiYgZi5jYWxsKG9wdF9vYmosIGFycjJbaV0sIGksIGFycikpIHtcbiAgICAgIHJldHVybiBpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gLTE7XG59XG5nb29nLmFycmF5LmZpbmRJbmRleFJpZ2h0ID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfZmluZEluZGV4UmlnaHQ7XG5mdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9jb250YWlucyhhcnIsIG9iaikge1xuICByZXR1cm4gMCA8PSBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9pbmRleE9mKGFyciwgb2JqKTtcbn1cbmdvb2cuYXJyYXkuY29udGFpbnMgPSBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9jb250YWlucztcbmZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X2lzRW1wdHkoYXJyKSB7XG4gIHJldHVybiAwID09IGFyci5sZW5ndGg7XG59XG5nb29nLmFycmF5LmlzRW1wdHkgPSBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9pc0VtcHR5O1xuZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfY2xlYXIoYXJyKSB7XG4gIGlmICghQXJyYXkuaXNBcnJheShhcnIpKSB7XG4gICAgZm9yICh2YXIgaSA9IGFyci5sZW5ndGggLSAxOyAwIDw9IGk7IGktLSkge1xuICAgICAgZGVsZXRlIGFycltpXTtcbiAgICB9XG4gIH1cbiAgYXJyLmxlbmd0aCA9IDA7XG59XG5nb29nLmFycmF5LmNsZWFyID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfY2xlYXI7XG5nb29nLmFycmF5Lmluc2VydCA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X2luc2VydChhcnIsIG9iaikge1xuICBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9jb250YWlucyhhcnIsIG9iaikgfHwgYXJyLnB1c2gob2JqKTtcbn07XG5mdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9pbnNlcnRBdChhcnIsIG9iaiwgb3B0X2kpIHtcbiAgbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfc3BsaWNlKGFyciwgb3B0X2ksIDAsIG9iaik7XG59XG5nb29nLmFycmF5Lmluc2VydEF0ID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfaW5zZXJ0QXQ7XG5nb29nLmFycmF5Lmluc2VydEFycmF5QXQgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9pbnNlcnRBcnJheUF0KGFyciwgZWxlbWVudHNUb0FkZCwgb3B0X2kpIHtcbiAgZ29vZy5wYXJ0aWFsKG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X3NwbGljZSwgYXJyLCBvcHRfaSwgMCkuYXBwbHkobnVsbCwgZWxlbWVudHNUb0FkZCk7XG59O1xuZ29vZy5hcnJheS5pbnNlcnRCZWZvcmUgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9pbnNlcnRCZWZvcmUoYXJyLCBvYmosIG9wdF9vYmoyKSB7XG4gIHZhciBpO1xuICAyID09IGFyZ3VtZW50cy5sZW5ndGggfHwgMCA+IChpID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfaW5kZXhPZihhcnIsIG9wdF9vYmoyKSkgPyBhcnIucHVzaChvYmopIDogbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfaW5zZXJ0QXQoYXJyLCBvYmosIGkpO1xufTtcbmZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X3JlbW92ZShhcnIsIG9iaikge1xuICB2YXIgaSA9IG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X2luZGV4T2YoYXJyLCBvYmopLCBydjtcbiAgKHJ2ID0gMCA8PSBpKSAmJiBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9yZW1vdmVBdChhcnIsIGkpO1xuICByZXR1cm4gcnY7XG59XG5nb29nLmFycmF5LnJlbW92ZSA9IG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X3JlbW92ZTtcbmZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X3JlbW92ZUxhc3QoYXJyLCBvYmopIHtcbiAgdmFyIGkgPSBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9sYXN0SW5kZXhPZihhcnIsIG9iaik7XG4gIHJldHVybiAwIDw9IGkgPyAobW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfcmVtb3ZlQXQoYXJyLCBpKSwgITApIDogITE7XG59XG5nb29nLmFycmF5LnJlbW92ZUxhc3QgPSBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9yZW1vdmVMYXN0O1xuZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfcmVtb3ZlQXQoYXJyLCBpKSB7XG4gIGdvb2cuYXNzZXJ0cy5hc3NlcnQobnVsbCAhPSBhcnIubGVuZ3RoKTtcbiAgcmV0dXJuIDEgPT0gQXJyYXkucHJvdG90eXBlLnNwbGljZS5jYWxsKGFyciwgaSwgMSkubGVuZ3RoO1xufVxuZ29vZy5hcnJheS5yZW1vdmVBdCA9IG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X3JlbW92ZUF0O1xuZ29vZy5hcnJheS5yZW1vdmVJZiA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X3JlbW92ZUlmKGFyciwgZiwgb3B0X29iaikge1xuICB2YXIgaSA9IG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X2ZpbmRJbmRleChhcnIsIGYsIG9wdF9vYmopO1xuICByZXR1cm4gMCA8PSBpID8gKG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X3JlbW92ZUF0KGFyciwgaSksICEwKSA6ICExO1xufTtcbmdvb2cuYXJyYXkucmVtb3ZlQWxsSWYgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9yZW1vdmVBbGxJZihhcnIsIGYsIG9wdF9vYmopIHtcbiAgdmFyIHJlbW92ZWRDb3VudCA9IDA7XG4gIG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X2ZvckVhY2hSaWdodChhcnIsIGZ1bmN0aW9uKHZhbCwgaW5kZXgpIHtcbiAgICBmLmNhbGwob3B0X29iaiwgdmFsLCBpbmRleCwgYXJyKSAmJiBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9yZW1vdmVBdChhcnIsIGluZGV4KSAmJiByZW1vdmVkQ291bnQrKztcbiAgfSk7XG4gIHJldHVybiByZW1vdmVkQ291bnQ7XG59O1xuZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfY29uY2F0KHZhcl9hcmdzKSB7XG4gIHJldHVybiBBcnJheS5wcm90b3R5cGUuY29uY2F0LmFwcGx5KFtdLCBhcmd1bWVudHMpO1xufVxuZ29vZy5hcnJheS5jb25jYXQgPSBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9jb25jYXQ7XG5nb29nLmFycmF5LmpvaW4gPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9qb2luKHZhcl9hcmdzKSB7XG4gIHJldHVybiBBcnJheS5wcm90b3R5cGUuY29uY2F0LmFwcGx5KFtdLCBhcmd1bWVudHMpO1xufTtcbmZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X3RvQXJyYXkob2JqZWN0KSB7XG4gIHZhciBsZW5ndGggPSBvYmplY3QubGVuZ3RoO1xuICBpZiAoMCA8IGxlbmd0aCkge1xuICAgIGZvciAodmFyIHJ2ID0gQXJyYXkobGVuZ3RoKSwgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgcnZbaV0gPSBvYmplY3RbaV07XG4gICAgfVxuICAgIHJldHVybiBydjtcbiAgfVxuICByZXR1cm4gW107XG59XG5nb29nLmFycmF5LnRvQXJyYXkgPSBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV90b0FycmF5O1xuZ29vZy5hcnJheS5jbG9uZSA9IG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X3RvQXJyYXk7XG5mdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9leHRlbmQoYXJyMSwgdmFyX2FyZ3MpIHtcbiAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgYXJyMiA9IGFyZ3VtZW50c1tpXTtcbiAgICBpZiAoZ29vZy5pc0FycmF5TGlrZShhcnIyKSkge1xuICAgICAgdmFyIGxlbjEgPSBhcnIxLmxlbmd0aCB8fCAwLCBsZW4yID0gYXJyMi5sZW5ndGggfHwgMDtcbiAgICAgIGFycjEubGVuZ3RoID0gbGVuMSArIGxlbjI7XG4gICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGxlbjI7IGorKykge1xuICAgICAgICBhcnIxW2xlbjEgKyBqXSA9IGFycjJbal07XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGFycjEucHVzaChhcnIyKTtcbiAgICB9XG4gIH1cbn1cbmdvb2cuYXJyYXkuZXh0ZW5kID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfZXh0ZW5kO1xuZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfc3BsaWNlKGFyciwgaW5kZXgsIGhvd01hbnksIHZhcl9hcmdzKSB7XG4gIGdvb2cuYXNzZXJ0cy5hc3NlcnQobnVsbCAhPSBhcnIubGVuZ3RoKTtcbiAgcmV0dXJuIEFycmF5LnByb3RvdHlwZS5zcGxpY2UuYXBwbHkoYXJyLCBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9zbGljZShhcmd1bWVudHMsIDEpKTtcbn1cbmdvb2cuYXJyYXkuc3BsaWNlID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfc3BsaWNlO1xuZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfc2xpY2UoYXJyLCBzdGFydCwgb3B0X2VuZCkge1xuICBnb29nLmFzc2VydHMuYXNzZXJ0KG51bGwgIT0gYXJyLmxlbmd0aCk7XG4gIHJldHVybiAyID49IGFyZ3VtZW50cy5sZW5ndGggPyBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcnIsIHN0YXJ0KSA6IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyciwgc3RhcnQsIG9wdF9lbmQpO1xufVxuZ29vZy5hcnJheS5zbGljZSA9IG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X3NsaWNlO1xuZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfcmVtb3ZlRHVwbGljYXRlcyhhcnIsIG9wdF9ydiwgb3B0X2hhc2hGbikge1xuICBmb3IgKHZhciByZXR1cm5BcnJheSA9IG9wdF9ydiB8fCBhcnIsIGRlZmF1bHRIYXNoRm4gPSBmdW5jdGlvbihpdGVtKSB7XG4gICAgcmV0dXJuIGdvb2cuaXNPYmplY3QoaXRlbSkgPyBcIm9cIiArIGdvb2cuZ2V0VWlkKGl0ZW0pIDogKHR5cGVvZiBpdGVtKS5jaGFyQXQoMCkgKyBpdGVtO1xuICB9LCBoYXNoRm4gPSBvcHRfaGFzaEZuIHx8IGRlZmF1bHRIYXNoRm4sIGN1cnNvckluc2VydCA9IDAsIGN1cnNvclJlYWQgPSAwLCBzZWVuID0ge307IGN1cnNvclJlYWQgPCBhcnIubGVuZ3RoOykge1xuICAgIHZhciBjdXJyZW50ID0gYXJyW2N1cnNvclJlYWQrK10sIGtleSA9IGhhc2hGbihjdXJyZW50KTtcbiAgICBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc2Vlbiwga2V5KSB8fCAoc2VlbltrZXldID0gITAsIHJldHVybkFycmF5W2N1cnNvckluc2VydCsrXSA9IGN1cnJlbnQpO1xuICB9XG4gIHJldHVybkFycmF5Lmxlbmd0aCA9IGN1cnNvckluc2VydDtcbn1cbmdvb2cuYXJyYXkucmVtb3ZlRHVwbGljYXRlcyA9IG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X3JlbW92ZUR1cGxpY2F0ZXM7XG5mdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9iaW5hcnlTZWFyY2goYXJyLCB0YXJnZXQsIG9wdF9jb21wYXJlRm4pIHtcbiAgcmV0dXJuIG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X2JpbmFyeVNlYXJjaF8oYXJyLCBvcHRfY29tcGFyZUZuIHx8IG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X2RlZmF1bHRDb21wYXJlLCAhMSwgdGFyZ2V0KTtcbn1cbmdvb2cuYXJyYXkuYmluYXJ5U2VhcmNoID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfYmluYXJ5U2VhcmNoO1xuZ29vZy5hcnJheS5iaW5hcnlTZWxlY3QgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9iaW5hcnlTZWxlY3QoYXJyLCBldmFsdWF0b3IsIG9wdF9vYmopIHtcbiAgcmV0dXJuIG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X2JpbmFyeVNlYXJjaF8oYXJyLCBldmFsdWF0b3IsICEwLCB2b2lkIDAsIG9wdF9vYmopO1xufTtcbmZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X2JpbmFyeVNlYXJjaF8oYXJyLCBjb21wYXJlRm4sIGlzRXZhbHVhdG9yLCBvcHRfdGFyZ2V0LCBvcHRfc2VsZk9iaikge1xuICBmb3IgKHZhciBsZWZ0ID0gMCwgcmlnaHQgPSBhcnIubGVuZ3RoLCBmb3VuZDsgbGVmdCA8IHJpZ2h0Oykge1xuICAgIHZhciBtaWRkbGUgPSBsZWZ0ICsgKHJpZ2h0IC0gbGVmdCA+Pj4gMSksIGNvbXBhcmVSZXN1bHQgPSB2b2lkIDA7XG4gICAgY29tcGFyZVJlc3VsdCA9IGlzRXZhbHVhdG9yID8gY29tcGFyZUZuLmNhbGwob3B0X3NlbGZPYmosIGFyclttaWRkbGVdLCBtaWRkbGUsIGFycikgOiBjb21wYXJlRm4ob3B0X3RhcmdldCwgYXJyW21pZGRsZV0pO1xuICAgIDAgPCBjb21wYXJlUmVzdWx0ID8gbGVmdCA9IG1pZGRsZSArIDEgOiAocmlnaHQgPSBtaWRkbGUsIGZvdW5kID0gIWNvbXBhcmVSZXN1bHQpO1xuICB9XG4gIHJldHVybiBmb3VuZCA/IGxlZnQgOiAtbGVmdCAtIDE7XG59XG5mdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9zb3J0KGFyciwgb3B0X2NvbXBhcmVGbikge1xuICBhcnIuc29ydChvcHRfY29tcGFyZUZuIHx8IG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X2RlZmF1bHRDb21wYXJlKTtcbn1cbmdvb2cuYXJyYXkuc29ydCA9IG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X3NvcnQ7XG5nb29nLmFycmF5LnN0YWJsZVNvcnQgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9zdGFibGVTb3J0KGFyciwgb3B0X2NvbXBhcmVGbikge1xuICBmb3IgKHZhciBjb21wQXJyID0gQXJyYXkoYXJyLmxlbmd0aCksIGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7XG4gICAgY29tcEFycltpXSA9IHtpbmRleDppLCB2YWx1ZTphcnJbaV19O1xuICB9XG4gIHZhciB2YWx1ZUNvbXBhcmVGbiA9IG9wdF9jb21wYXJlRm4gfHwgbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfZGVmYXVsdENvbXBhcmU7XG4gIG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X3NvcnQoY29tcEFyciwgZnVuY3Rpb24gc3RhYmxlQ29tcGFyZUZuKG9iajEsIG9iajIpIHtcbiAgICByZXR1cm4gdmFsdWVDb21wYXJlRm4ob2JqMS52YWx1ZSwgb2JqMi52YWx1ZSkgfHwgb2JqMS5pbmRleCAtIG9iajIuaW5kZXg7XG4gIH0pO1xuICBmb3IgKHZhciBpJDM1ID0gMDsgaSQzNSA8IGFyci5sZW5ndGg7IGkkMzUrKykge1xuICAgIGFycltpJDM1XSA9IGNvbXBBcnJbaSQzNV0udmFsdWU7XG4gIH1cbn07XG5mdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9zb3J0QnlLZXkoYXJyLCBrZXlGbiwgb3B0X2NvbXBhcmVGbikge1xuICB2YXIga2V5Q29tcGFyZUZuID0gb3B0X2NvbXBhcmVGbiB8fCBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9kZWZhdWx0Q29tcGFyZTtcbiAgbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfc29ydChhcnIsIGZ1bmN0aW9uKGEsIGIpIHtcbiAgICByZXR1cm4ga2V5Q29tcGFyZUZuKGtleUZuKGEpLCBrZXlGbihiKSk7XG4gIH0pO1xufVxuZ29vZy5hcnJheS5zb3J0QnlLZXkgPSBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9zb3J0QnlLZXk7XG5nb29nLmFycmF5LnNvcnRPYmplY3RzQnlLZXkgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9zb3J0T2JqZWN0c0J5S2V5KGFyciwga2V5LCBvcHRfY29tcGFyZUZuKSB7XG4gIG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X3NvcnRCeUtleShhcnIsIGZ1bmN0aW9uKG9iaikge1xuICAgIHJldHVybiBvYmpba2V5XTtcbiAgfSwgb3B0X2NvbXBhcmVGbik7XG59O1xuZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfaXNTb3J0ZWQoYXJyLCBvcHRfY29tcGFyZUZuLCBvcHRfc3RyaWN0KSB7XG4gIGZvciAodmFyIGNvbXBhcmUgPSBvcHRfY29tcGFyZUZuIHx8IG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X2RlZmF1bHRDb21wYXJlLCBpID0gMTsgaSA8IGFyci5sZW5ndGg7IGkrKykge1xuICAgIHZhciBjb21wYXJlUmVzdWx0ID0gY29tcGFyZShhcnJbaSAtIDFdLCBhcnJbaV0pO1xuICAgIGlmICgwIDwgY29tcGFyZVJlc3VsdCB8fCAwID09IGNvbXBhcmVSZXN1bHQgJiYgb3B0X3N0cmljdCkge1xuICAgICAgcmV0dXJuICExO1xuICAgIH1cbiAgfVxuICByZXR1cm4gITA7XG59XG5nb29nLmFycmF5LmlzU29ydGVkID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfaXNTb3J0ZWQ7XG5mdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9lcXVhbHMoYXJyMSwgYXJyMiwgb3B0X2VxdWFsc0ZuKSB7XG4gIGlmICghZ29vZy5pc0FycmF5TGlrZShhcnIxKSB8fCAhZ29vZy5pc0FycmF5TGlrZShhcnIyKSB8fCBhcnIxLmxlbmd0aCAhPSBhcnIyLmxlbmd0aCkge1xuICAgIHJldHVybiAhMTtcbiAgfVxuICBmb3IgKHZhciBsID0gYXJyMS5sZW5ndGgsIGVxdWFsc0ZuID0gb3B0X2VxdWFsc0ZuIHx8IG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X2RlZmF1bHRDb21wYXJlRXF1YWxpdHksIGkgPSAwOyBpIDwgbDsgaSsrKSB7XG4gICAgaWYgKCFlcXVhbHNGbihhcnIxW2ldLCBhcnIyW2ldKSkge1xuICAgICAgcmV0dXJuICExO1xuICAgIH1cbiAgfVxuICByZXR1cm4gITA7XG59XG5nb29nLmFycmF5LmVxdWFscyA9IG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X2VxdWFscztcbmdvb2cuYXJyYXkuY29tcGFyZTMgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9jb21wYXJlMyhhcnIxLCBhcnIyLCBvcHRfY29tcGFyZUZuKSB7XG4gIGZvciAodmFyIGNvbXBhcmUgPSBvcHRfY29tcGFyZUZuIHx8IG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X2RlZmF1bHRDb21wYXJlLCBsID0gTWF0aC5taW4oYXJyMS5sZW5ndGgsIGFycjIubGVuZ3RoKSwgaSA9IDA7IGkgPCBsOyBpKyspIHtcbiAgICB2YXIgcmVzdWx0ID0gY29tcGFyZShhcnIxW2ldLCBhcnIyW2ldKTtcbiAgICBpZiAoMCAhPSByZXN1bHQpIHtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICB9XG4gIHJldHVybiBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9kZWZhdWx0Q29tcGFyZShhcnIxLmxlbmd0aCwgYXJyMi5sZW5ndGgpO1xufTtcbmZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X2RlZmF1bHRDb21wYXJlKGEsIGIpIHtcbiAgcmV0dXJuIGEgPiBiID8gMSA6IGEgPCBiID8gLTEgOiAwO1xufVxuZ29vZy5hcnJheS5kZWZhdWx0Q29tcGFyZSA9IG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X2RlZmF1bHRDb21wYXJlO1xuZ29vZy5hcnJheS5pbnZlcnNlRGVmYXVsdENvbXBhcmUgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9pbnZlcnNlRGVmYXVsdENvbXBhcmUoYSwgYikge1xuICByZXR1cm4gLW1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X2RlZmF1bHRDb21wYXJlKGEsIGIpO1xufTtcbmZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X2RlZmF1bHRDb21wYXJlRXF1YWxpdHkoYSwgYikge1xuICByZXR1cm4gYSA9PT0gYjtcbn1cbmdvb2cuYXJyYXkuZGVmYXVsdENvbXBhcmVFcXVhbGl0eSA9IG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X2RlZmF1bHRDb21wYXJlRXF1YWxpdHk7XG5nb29nLmFycmF5LmJpbmFyeUluc2VydCA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X2JpbmFyeUluc2VydChhcnJheSwgdmFsdWUsIG9wdF9jb21wYXJlRm4pIHtcbiAgdmFyIGluZGV4ID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfYmluYXJ5U2VhcmNoKGFycmF5LCB2YWx1ZSwgb3B0X2NvbXBhcmVGbik7XG4gIHJldHVybiAwID4gaW5kZXggPyAobW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfaW5zZXJ0QXQoYXJyYXksIHZhbHVlLCAtKGluZGV4ICsgMSkpLCAhMCkgOiAhMTtcbn07XG5nb29nLmFycmF5LmJpbmFyeVJlbW92ZSA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X2JpbmFyeVJlbW92ZShhcnJheSwgdmFsdWUsIG9wdF9jb21wYXJlRm4pIHtcbiAgdmFyIGluZGV4ID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfYmluYXJ5U2VhcmNoKGFycmF5LCB2YWx1ZSwgb3B0X2NvbXBhcmVGbik7XG4gIHJldHVybiAwIDw9IGluZGV4ID8gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfcmVtb3ZlQXQoYXJyYXksIGluZGV4KSA6ICExO1xufTtcbmdvb2cuYXJyYXkuYnVja2V0ID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfYnVja2V0KGFycmF5LCBzb3J0ZXIsIG9wdF9vYmopIHtcbiAgZm9yICh2YXIgYnVja2V0cyA9IHt9LCBpID0gMDsgaSA8IGFycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIHZhbHVlID0gYXJyYXlbaV0sIGtleSA9IHNvcnRlci5jYWxsKG9wdF9vYmosIHZhbHVlLCBpLCBhcnJheSk7XG4gICAgdm9pZCAwICE9PSBrZXkgJiYgKGJ1Y2tldHNba2V5XSB8fCAoYnVja2V0c1trZXldID0gW10pKS5wdXNoKHZhbHVlKTtcbiAgfVxuICByZXR1cm4gYnVja2V0cztcbn07XG5nb29nLmFycmF5LmJ1Y2tldFRvTWFwID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfYnVja2V0VG9NYXAoYXJyYXksIHNvcnRlcikge1xuICBmb3IgKHZhciBidWNrZXRzID0gbmV3IE1hcCgpLCBpID0gMDsgaSA8IGFycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIHZhbHVlID0gYXJyYXlbaV0sIGtleSA9IHNvcnRlcih2YWx1ZSwgaSwgYXJyYXkpO1xuICAgIGlmICh2b2lkIDAgIT09IGtleSkge1xuICAgICAgdmFyIGJ1Y2tldCA9IGJ1Y2tldHMuZ2V0KGtleSk7XG4gICAgICBidWNrZXQgfHwgKGJ1Y2tldCA9IFtdLCBidWNrZXRzLnNldChrZXksIGJ1Y2tldCkpO1xuICAgICAgYnVja2V0LnB1c2godmFsdWUpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gYnVja2V0cztcbn07XG5nb29nLmFycmF5LnRvT2JqZWN0ID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfdG9PYmplY3QoYXJyLCBrZXlGdW5jLCBvcHRfb2JqKSB7XG4gIHZhciByZXQgPSB7fTtcbiAgbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfZm9yRWFjaChhcnIsIGZ1bmN0aW9uKGVsZW1lbnQsIGluZGV4KSB7XG4gICAgcmV0W2tleUZ1bmMuY2FsbChvcHRfb2JqLCBlbGVtZW50LCBpbmRleCwgYXJyKV0gPSBlbGVtZW50O1xuICB9KTtcbiAgcmV0dXJuIHJldDtcbn07XG5nb29nLmFycmF5LnRvTWFwID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfdG9NYXAoYXJyLCBrZXlGdW5jKSB7XG4gIGZvciAodmFyIG1hcCA9IG5ldyBNYXAoKSwgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgZWxlbWVudCA9IGFycltpXTtcbiAgICBtYXAuc2V0KGtleUZ1bmMoZWxlbWVudCwgaSwgYXJyKSwgZWxlbWVudCk7XG4gIH1cbiAgcmV0dXJuIG1hcDtcbn07XG5mdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9yYW5nZShzdGFydE9yRW5kLCBvcHRfZW5kLCBvcHRfc3RlcCkge1xuICB2YXIgYXJyYXkgPSBbXSwgc3RhcnQgPSAwLCBlbmQgPSBzdGFydE9yRW5kLCBzdGVwID0gb3B0X3N0ZXAgfHwgMTtcbiAgdm9pZCAwICE9PSBvcHRfZW5kICYmIChzdGFydCA9IHN0YXJ0T3JFbmQsIGVuZCA9IG9wdF9lbmQpO1xuICBpZiAoMCA+IHN0ZXAgKiAoZW5kIC0gc3RhcnQpKSB7XG4gICAgcmV0dXJuIFtdO1xuICB9XG4gIGlmICgwIDwgc3RlcCkge1xuICAgIGZvciAodmFyIGkgPSBzdGFydDsgaSA8IGVuZDsgaSArPSBzdGVwKSB7XG4gICAgICBhcnJheS5wdXNoKGkpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBmb3IgKHZhciBpJDM2ID0gc3RhcnQ7IGkkMzYgPiBlbmQ7IGkkMzYgKz0gc3RlcCkge1xuICAgICAgYXJyYXkucHVzaChpJDM2KTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGFycmF5O1xufVxuZ29vZy5hcnJheS5yYW5nZSA9IG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X3JhbmdlO1xuZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfcmVwZWF0KHZhbHVlLCBuKSB7XG4gIGZvciAodmFyIGFycmF5ID0gW10sIGkgPSAwOyBpIDwgbjsgaSsrKSB7XG4gICAgYXJyYXlbaV0gPSB2YWx1ZTtcbiAgfVxuICByZXR1cm4gYXJyYXk7XG59XG5nb29nLmFycmF5LnJlcGVhdCA9IG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X3JlcGVhdDtcbmZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X2ZsYXR0ZW4odmFyX2FyZ3MpIHtcbiAgZm9yICh2YXIgcmVzdWx0ID0gW10sIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGVsZW1lbnQgPSBhcmd1bWVudHNbaV07XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoZWxlbWVudCkpIHtcbiAgICAgIGZvciAodmFyIGMgPSAwOyBjIDwgZWxlbWVudC5sZW5ndGg7IGMgKz0gODE5Mikge1xuICAgICAgICBmb3IgKHZhciBjaHVuayA9IG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X3NsaWNlKGVsZW1lbnQsIGMsIGMgKyA4MTkyKSwgcmVjdXJzZVJlc3VsdCA9IG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X2ZsYXR0ZW4uYXBwbHkobnVsbCwgY2h1bmspLCByID0gMDsgciA8IHJlY3Vyc2VSZXN1bHQubGVuZ3RoOyByKyspIHtcbiAgICAgICAgICByZXN1bHQucHVzaChyZWN1cnNlUmVzdWx0W3JdKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZXN1bHQucHVzaChlbGVtZW50KTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cbmdvb2cuYXJyYXkuZmxhdHRlbiA9IG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X2ZsYXR0ZW47XG5nb29nLmFycmF5LnJvdGF0ZSA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X3JvdGF0ZShhcnJheSwgbikge1xuICBnb29nLmFzc2VydHMuYXNzZXJ0KG51bGwgIT0gYXJyYXkubGVuZ3RoKTtcbiAgYXJyYXkubGVuZ3RoICYmIChuICU9IGFycmF5Lmxlbmd0aCwgMCA8IG4gPyBBcnJheS5wcm90b3R5cGUudW5zaGlmdC5hcHBseShhcnJheSwgYXJyYXkuc3BsaWNlKC1uLCBuKSkgOiAwID4gbiAmJiBBcnJheS5wcm90b3R5cGUucHVzaC5hcHBseShhcnJheSwgYXJyYXkuc3BsaWNlKDAsIC1uKSkpO1xuICByZXR1cm4gYXJyYXk7XG59O1xuZ29vZy5hcnJheS5tb3ZlSXRlbSA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X21vdmVJdGVtKGFyciwgZnJvbUluZGV4LCB0b0luZGV4KSB7XG4gIGdvb2cuYXNzZXJ0cy5hc3NlcnQoMCA8PSBmcm9tSW5kZXggJiYgZnJvbUluZGV4IDwgYXJyLmxlbmd0aCk7XG4gIGdvb2cuYXNzZXJ0cy5hc3NlcnQoMCA8PSB0b0luZGV4ICYmIHRvSW5kZXggPCBhcnIubGVuZ3RoKTtcbiAgdmFyIHJlbW92ZWRJdGVtcyA9IEFycmF5LnByb3RvdHlwZS5zcGxpY2UuY2FsbChhcnIsIGZyb21JbmRleCwgMSk7XG4gIEFycmF5LnByb3RvdHlwZS5zcGxpY2UuY2FsbChhcnIsIHRvSW5kZXgsIDAsIHJlbW92ZWRJdGVtc1swXSk7XG59O1xuZ29vZy5hcnJheS56aXAgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV96aXAodmFyX2FyZ3MpIHtcbiAgaWYgKCFhcmd1bWVudHMubGVuZ3RoKSB7XG4gICAgcmV0dXJuIFtdO1xuICB9XG4gIGZvciAodmFyIHJlc3VsdCA9IFtdLCBtaW5MZW4gPSBhcmd1bWVudHNbMF0ubGVuZ3RoLCBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgIGFyZ3VtZW50c1tpXS5sZW5ndGggPCBtaW5MZW4gJiYgKG1pbkxlbiA9IGFyZ3VtZW50c1tpXS5sZW5ndGgpO1xuICB9XG4gIGZvciAodmFyIGkkMzcgPSAwOyBpJDM3IDwgbWluTGVuOyBpJDM3KyspIHtcbiAgICBmb3IgKHZhciB2YWx1ZSA9IFtdLCBqID0gMDsgaiA8IGFyZ3VtZW50cy5sZW5ndGg7IGorKykge1xuICAgICAgdmFsdWUucHVzaChhcmd1bWVudHNbal1baSQzN10pO1xuICAgIH1cbiAgICByZXN1bHQucHVzaCh2YWx1ZSk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5nb29nLmFycmF5LnNodWZmbGUgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9zaHVmZmxlKGFyciwgb3B0X3JhbmRGbikge1xuICBmb3IgKHZhciByYW5kRm4gPSBvcHRfcmFuZEZuIHx8IE1hdGgucmFuZG9tLCBpID0gYXJyLmxlbmd0aCAtIDE7IDAgPCBpOyBpLS0pIHtcbiAgICB2YXIgaiA9IE1hdGguZmxvb3IocmFuZEZuKCkgKiAoaSArIDEpKSwgdG1wID0gYXJyW2ldO1xuICAgIGFycltpXSA9IGFycltqXTtcbiAgICBhcnJbal0gPSB0bXA7XG4gIH1cbn07XG5nb29nLmFycmF5LmNvcHlCeUluZGV4ID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfY29weUJ5SW5kZXgoYXJyLCBpbmRleF9hcnIpIHtcbiAgdmFyIHJlc3VsdCA9IFtdO1xuICBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9mb3JFYWNoKGluZGV4X2FyciwgZnVuY3Rpb24oaW5kZXgpIHtcbiAgICByZXN1bHQucHVzaChhcnJbaW5kZXhdKTtcbiAgfSk7XG4gIHJldHVybiByZXN1bHQ7XG59O1xuZ29vZy5hcnJheS5jb25jYXRNYXAgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9jb25jYXRNYXAoYXJyLCBmLCBvcHRfb2JqKSB7XG4gIHJldHVybiBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9jb25jYXQuYXBwbHkoW10sIG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X21hcChhcnIsIGYsIG9wdF9vYmopKTtcbn07XG5nb29nLmRlYnVnLmVycm9yY29udGV4dCA9IHt9O1xuZ29vZy5kZWJ1Zy5lcnJvcmNvbnRleHQuYWRkRXJyb3JDb250ZXh0ID0gZnVuY3Rpb24oZXJyLCBjb250ZXh0S2V5LCBjb250ZXh0VmFsdWUpIHtcbiAgZXJyW2dvb2cuZGVidWcuZXJyb3Jjb250ZXh0LkNPTlRFWFRfS0VZX10gfHwgKGVycltnb29nLmRlYnVnLmVycm9yY29udGV4dC5DT05URVhUX0tFWV9dID0ge30pO1xuICBlcnJbZ29vZy5kZWJ1Zy5lcnJvcmNvbnRleHQuQ09OVEVYVF9LRVlfXVtjb250ZXh0S2V5XSA9IGNvbnRleHRWYWx1ZTtcbn07XG5nb29nLmRlYnVnLmVycm9yY29udGV4dC5nZXRFcnJvckNvbnRleHQgPSBmdW5jdGlvbihlcnIpIHtcbiAgcmV0dXJuIGVycltnb29nLmRlYnVnLmVycm9yY29udGV4dC5DT05URVhUX0tFWV9dIHx8IHt9O1xufTtcbmdvb2cuZGVidWcuZXJyb3Jjb250ZXh0LkNPTlRFWFRfS0VZXyA9IFwiX19jbG9zdXJlX19lcnJvcl9fY29udGV4dF9fOTg0MzgyXCI7XG5nb29nLmRlYnVnLkxPR0dJTkdfRU5BQkxFRCA9IGdvb2cuREVCVUc7XG5nb29nLmRlYnVnLkZPUkNFX1NMT1BQWV9TVEFDS1MgPSAhMTtcbmdvb2cuZGVidWcuQ0hFQ0tfRk9SX1RIUk9XTl9FVkVOVCA9ICExO1xuZ29vZy5kZWJ1Zy5jYXRjaEVycm9ycyA9IGZ1bmN0aW9uKGxvZ0Z1bmMsIG9wdF9jYW5jZWwsIG9wdF90YXJnZXQpIHtcbiAgdmFyIHRhcmdldCA9IG9wdF90YXJnZXQgfHwgZ29vZy5nbG9iYWwsIG9sZEVycm9ySGFuZGxlciA9IHRhcmdldC5vbmVycm9yLCByZXRWYWwgPSAhIW9wdF9jYW5jZWw7XG4gIHRhcmdldC5vbmVycm9yID0gZnVuY3Rpb24obWVzc2FnZSwgdXJsLCBsaW5lLCBvcHRfY29sLCBvcHRfZXJyb3IpIHtcbiAgICBvbGRFcnJvckhhbmRsZXIgJiYgb2xkRXJyb3JIYW5kbGVyKG1lc3NhZ2UsIHVybCwgbGluZSwgb3B0X2NvbCwgb3B0X2Vycm9yKTtcbiAgICBsb2dGdW5jKHttZXNzYWdlOm1lc3NhZ2UsIGZpbGVOYW1lOnVybCwgbGluZTpsaW5lLCBsaW5lTnVtYmVyOmxpbmUsIGNvbDpvcHRfY29sLCBlcnJvcjpvcHRfZXJyb3J9KTtcbiAgICByZXR1cm4gcmV0VmFsO1xuICB9O1xufTtcbmdvb2cuZGVidWcuZXhwb3NlID0gZnVuY3Rpb24ob2JqLCBvcHRfc2hvd0ZuKSB7XG4gIGlmIChcInVuZGVmaW5lZFwiID09IHR5cGVvZiBvYmopIHtcbiAgICByZXR1cm4gXCJ1bmRlZmluZWRcIjtcbiAgfVxuICBpZiAobnVsbCA9PSBvYmopIHtcbiAgICByZXR1cm4gXCJOVUxMXCI7XG4gIH1cbiAgdmFyIHN0ciA9IFtdLCB4O1xuICBmb3IgKHggaW4gb2JqKSB7XG4gICAgaWYgKG9wdF9zaG93Rm4gfHwgXCJmdW5jdGlvblwiICE9PSB0eXBlb2Ygb2JqW3hdKSB7XG4gICAgICB2YXIgcyA9IHggKyBcIiA9IFwiO1xuICAgICAgdHJ5IHtcbiAgICAgICAgcyArPSBvYmpbeF07XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIHMgKz0gXCIqKiogXCIgKyBlICsgXCIgKioqXCI7XG4gICAgICB9XG4gICAgICBzdHIucHVzaChzKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHN0ci5qb2luKFwiXFxuXCIpO1xufTtcbmdvb2cuZGVidWcuZGVlcEV4cG9zZSA9IGZ1bmN0aW9uKG9iaiRqc2NvbXAkMCwgb3B0X3Nob3dGbikge1xuICB2YXIgc3RyJGpzY29tcCQwID0gW10sIHVpZHNUb0NsZWFudXAgPSBbXSwgYW5jZXN0b3JVaWRzID0ge30sIGhlbHBlciA9IGZ1bmN0aW9uKG9iaiwgc3BhY2UpIHtcbiAgICB2YXIgbmVzdHNwYWNlID0gc3BhY2UgKyBcIiAgXCIsIGluZGVudE11bHRpbGluZSA9IGZ1bmN0aW9uKHN0cikge1xuICAgICAgcmV0dXJuIHN0ci5yZXBsYWNlKC9cXG4vZywgXCJcXG5cIiArIHNwYWNlKTtcbiAgICB9O1xuICAgIHRyeSB7XG4gICAgICBpZiAodm9pZCAwID09PSBvYmopIHtcbiAgICAgICAgc3RyJGpzY29tcCQwLnB1c2goXCJ1bmRlZmluZWRcIik7XG4gICAgICB9IGVsc2UgaWYgKG51bGwgPT09IG9iaikge1xuICAgICAgICBzdHIkanNjb21wJDAucHVzaChcIk5VTExcIik7XG4gICAgICB9IGVsc2UgaWYgKFwic3RyaW5nXCIgPT09IHR5cGVvZiBvYmopIHtcbiAgICAgICAgc3RyJGpzY29tcCQwLnB1c2goJ1wiJyArIGluZGVudE11bHRpbGluZShvYmopICsgJ1wiJyk7XG4gICAgICB9IGVsc2UgaWYgKFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIG9iaikge1xuICAgICAgICBzdHIkanNjb21wJDAucHVzaChpbmRlbnRNdWx0aWxpbmUoU3RyaW5nKG9iaikpKTtcbiAgICAgIH0gZWxzZSBpZiAoZ29vZy5pc09iamVjdChvYmopKSB7XG4gICAgICAgIGdvb2cuaGFzVWlkKG9iaikgfHwgdWlkc1RvQ2xlYW51cC5wdXNoKG9iaik7XG4gICAgICAgIHZhciB1aWQgPSBnb29nLmdldFVpZChvYmopO1xuICAgICAgICBpZiAoYW5jZXN0b3JVaWRzW3VpZF0pIHtcbiAgICAgICAgICBzdHIkanNjb21wJDAucHVzaChcIioqKiByZWZlcmVuY2UgbG9vcCBkZXRlY3RlZCAoaWQ9XCIgKyB1aWQgKyBcIikgKioqXCIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGFuY2VzdG9yVWlkc1t1aWRdID0gITA7XG4gICAgICAgICAgc3RyJGpzY29tcCQwLnB1c2goXCJ7XCIpO1xuICAgICAgICAgIGZvciAodmFyIHggaW4gb2JqKSB7XG4gICAgICAgICAgICBpZiAob3B0X3Nob3dGbiB8fCBcImZ1bmN0aW9uXCIgIT09IHR5cGVvZiBvYmpbeF0pIHtcbiAgICAgICAgICAgICAgc3RyJGpzY29tcCQwLnB1c2goXCJcXG5cIiksIHN0ciRqc2NvbXAkMC5wdXNoKG5lc3RzcGFjZSksIHN0ciRqc2NvbXAkMC5wdXNoKHggKyBcIiA9IFwiKSwgaGVscGVyKG9ialt4XSwgbmVzdHNwYWNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgc3RyJGpzY29tcCQwLnB1c2goXCJcXG5cIiArIHNwYWNlICsgXCJ9XCIpO1xuICAgICAgICAgIGRlbGV0ZSBhbmNlc3RvclVpZHNbdWlkXTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc3RyJGpzY29tcCQwLnB1c2gob2JqKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBzdHIkanNjb21wJDAucHVzaChcIioqKiBcIiArIGUgKyBcIiAqKipcIik7XG4gICAgfVxuICB9O1xuICBoZWxwZXIob2JqJGpzY29tcCQwLCBcIlwiKTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCB1aWRzVG9DbGVhbnVwLmxlbmd0aDsgaSsrKSB7XG4gICAgZ29vZy5yZW1vdmVVaWQodWlkc1RvQ2xlYW51cFtpXSk7XG4gIH1cbiAgcmV0dXJuIHN0ciRqc2NvbXAkMC5qb2luKFwiXCIpO1xufTtcbmdvb2cuZGVidWcuZXhwb3NlQXJyYXkgPSBmdW5jdGlvbihhcnIpIHtcbiAgZm9yICh2YXIgc3RyID0gW10sIGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7XG4gICAgQXJyYXkuaXNBcnJheShhcnJbaV0pID8gc3RyLnB1c2goZ29vZy5kZWJ1Zy5leHBvc2VBcnJheShhcnJbaV0pKSA6IHN0ci5wdXNoKGFycltpXSk7XG4gIH1cbiAgcmV0dXJuIFwiWyBcIiArIHN0ci5qb2luKFwiLCBcIikgKyBcIiBdXCI7XG59O1xuZ29vZy5kZWJ1Zy5ub3JtYWxpemVFcnJvck9iamVjdCA9IGZ1bmN0aW9uKGVycikge1xuICB2YXIgaHJlZiA9IGdvb2cuZ2V0T2JqZWN0QnlOYW1lKFwid2luZG93LmxvY2F0aW9uLmhyZWZcIik7XG4gIG51bGwgPT0gZXJyICYmIChlcnIgPSAnVW5rbm93biBFcnJvciBvZiB0eXBlIFwibnVsbC91bmRlZmluZWRcIicpO1xuICBpZiAoXCJzdHJpbmdcIiA9PT0gdHlwZW9mIGVycikge1xuICAgIHJldHVybiB7bWVzc2FnZTplcnIsIG5hbWU6XCJVbmtub3duIGVycm9yXCIsIGxpbmVOdW1iZXI6XCJOb3QgYXZhaWxhYmxlXCIsIGZpbGVOYW1lOmhyZWYsIHN0YWNrOlwiTm90IGF2YWlsYWJsZVwifTtcbiAgfVxuICB2YXIgdGhyZXdFcnJvciA9ICExO1xuICB0cnkge1xuICAgIHZhciBsaW5lTnVtYmVyID0gZXJyLmxpbmVOdW1iZXIgfHwgZXJyLmxpbmUgfHwgXCJOb3QgYXZhaWxhYmxlXCI7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBsaW5lTnVtYmVyID0gXCJOb3QgYXZhaWxhYmxlXCIsIHRocmV3RXJyb3IgPSAhMDtcbiAgfVxuICB0cnkge1xuICAgIHZhciBmaWxlTmFtZSA9IGVyci5maWxlTmFtZSB8fCBlcnIuZmlsZW5hbWUgfHwgZXJyLnNvdXJjZVVSTCB8fCBnb29nLmdsb2JhbC4kZ29vZ0RlYnVnRm5hbWUgfHwgaHJlZjtcbiAgfSBjYXRjaCAoZSQzOCkge1xuICAgIGZpbGVOYW1lID0gXCJOb3QgYXZhaWxhYmxlXCIsIHRocmV3RXJyb3IgPSAhMDtcbiAgfVxuICB2YXIgc3RhY2sgPSBnb29nLmRlYnVnLnNlcmlhbGl6ZUVycm9yU3RhY2tfKGVycik7XG4gIGlmICghKCF0aHJld0Vycm9yICYmIGVyci5saW5lTnVtYmVyICYmIGVyci5maWxlTmFtZSAmJiBlcnIuc3RhY2sgJiYgZXJyLm1lc3NhZ2UgJiYgZXJyLm5hbWUpKSB7XG4gICAgdmFyIG1lc3NhZ2UgPSBlcnIubWVzc2FnZTtcbiAgICBpZiAobnVsbCA9PSBtZXNzYWdlKSB7XG4gICAgICBpZiAoZXJyLmNvbnN0cnVjdG9yICYmIGVyci5jb25zdHJ1Y3RvciBpbnN0YW5jZW9mIEZ1bmN0aW9uKSB7XG4gICAgICAgIHZhciBjdG9yTmFtZSA9IGVyci5jb25zdHJ1Y3Rvci5uYW1lID8gZXJyLmNvbnN0cnVjdG9yLm5hbWUgOiBnb29nLmRlYnVnLmdldEZ1bmN0aW9uTmFtZShlcnIuY29uc3RydWN0b3IpO1xuICAgICAgICBtZXNzYWdlID0gJ1Vua25vd24gRXJyb3Igb2YgdHlwZSBcIicgKyBjdG9yTmFtZSArICdcIic7XG4gICAgICAgIGlmIChnb29nLmRlYnVnLkNIRUNLX0ZPUl9USFJPV05fRVZFTlQgJiYgXCJFdmVudFwiID09IGN0b3JOYW1lKSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIG1lc3NhZ2UgPSBtZXNzYWdlICsgJyB3aXRoIEV2ZW50LnR5cGUgXCInICsgKGVyci50eXBlIHx8IFwiXCIpICsgJ1wiJztcbiAgICAgICAgICB9IGNhdGNoIChlJDM5KSB7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBtZXNzYWdlID0gXCJVbmtub3duIEVycm9yIG9mIHVua25vd24gdHlwZVwiO1xuICAgICAgfVxuICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgZXJyLnRvU3RyaW5nICYmIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcgIT09IGVyci50b1N0cmluZyAmJiAobWVzc2FnZSArPSBcIjogXCIgKyBlcnIudG9TdHJpbmcoKSk7XG4gICAgfVxuICAgIHJldHVybiB7bWVzc2FnZTptZXNzYWdlLCBuYW1lOmVyci5uYW1lIHx8IFwiVW5rbm93bkVycm9yXCIsIGxpbmVOdW1iZXI6bGluZU51bWJlciwgZmlsZU5hbWU6ZmlsZU5hbWUsIHN0YWNrOnN0YWNrIHx8IFwiTm90IGF2YWlsYWJsZVwifTtcbiAgfVxuICBlcnIuc3RhY2sgPSBzdGFjaztcbiAgcmV0dXJuIHttZXNzYWdlOmVyci5tZXNzYWdlLCBuYW1lOmVyci5uYW1lLCBsaW5lTnVtYmVyOmVyci5saW5lTnVtYmVyLCBmaWxlTmFtZTplcnIuZmlsZU5hbWUsIHN0YWNrOmVyci5zdGFja307XG59O1xuZ29vZy5kZWJ1Zy5zZXJpYWxpemVFcnJvclN0YWNrXyA9IGZ1bmN0aW9uKGUsIHNlZW4pIHtcbiAgc2VlbiB8fCAoc2VlbiA9IHt9KTtcbiAgc2Vlbltnb29nLmRlYnVnLnNlcmlhbGl6ZUVycm9yQXNLZXlfKGUpXSA9ICEwO1xuICB2YXIgc3RhY2sgPSBlLnN0YWNrIHx8IFwiXCIsIGNhdXNlID0gZS5jYXVzZTtcbiAgY2F1c2UgJiYgIXNlZW5bZ29vZy5kZWJ1Zy5zZXJpYWxpemVFcnJvckFzS2V5XyhjYXVzZSldICYmIChzdGFjayArPSBcIlxcbkNhdXNlZCBieTogXCIsIGNhdXNlLnN0YWNrICYmIDAgPT0gY2F1c2Uuc3RhY2suaW5kZXhPZihjYXVzZS50b1N0cmluZygpKSB8fCAoc3RhY2sgKz0gXCJzdHJpbmdcIiA9PT0gdHlwZW9mIGNhdXNlID8gY2F1c2UgOiBjYXVzZS5tZXNzYWdlICsgXCJcXG5cIiksIHN0YWNrICs9IGdvb2cuZGVidWcuc2VyaWFsaXplRXJyb3JTdGFja18oY2F1c2UsIHNlZW4pKTtcbiAgcmV0dXJuIHN0YWNrO1xufTtcbmdvb2cuZGVidWcuc2VyaWFsaXplRXJyb3JBc0tleV8gPSBmdW5jdGlvbihlKSB7XG4gIHZhciBrZXlQcmVmaXggPSBcIlwiO1xuICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBlLnRvU3RyaW5nICYmIChrZXlQcmVmaXggPSBcIlwiICsgZSk7XG4gIHJldHVybiBrZXlQcmVmaXggKyBlLnN0YWNrO1xufTtcbmdvb2cuZGVidWcuZW5oYW5jZUVycm9yID0gZnVuY3Rpb24oZXJyLCBvcHRfbWVzc2FnZSkge1xuICBpZiAoZXJyIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICB2YXIgZXJyb3IgPSBlcnI7XG4gIH0gZWxzZSB7XG4gICAgZXJyb3IgPSBFcnJvcihlcnIpLCBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSAmJiBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZShlcnJvciwgZ29vZy5kZWJ1Zy5lbmhhbmNlRXJyb3IpO1xuICB9XG4gIGVycm9yLnN0YWNrIHx8IChlcnJvci5zdGFjayA9IGdvb2cuZGVidWcuZ2V0U3RhY2t0cmFjZShnb29nLmRlYnVnLmVuaGFuY2VFcnJvcikpO1xuICBpZiAob3B0X21lc3NhZ2UpIHtcbiAgICBmb3IgKHZhciB4ID0gMDsgZXJyb3JbXCJtZXNzYWdlXCIgKyB4XTspIHtcbiAgICAgICsreDtcbiAgICB9XG4gICAgZXJyb3JbXCJtZXNzYWdlXCIgKyB4XSA9IFN0cmluZyhvcHRfbWVzc2FnZSk7XG4gIH1cbiAgcmV0dXJuIGVycm9yO1xufTtcbmdvb2cuZGVidWcuZW5oYW5jZUVycm9yV2l0aENvbnRleHQgPSBmdW5jdGlvbihlcnIsIG9wdF9jb250ZXh0KSB7XG4gIHZhciBlcnJvciA9IGdvb2cuZGVidWcuZW5oYW5jZUVycm9yKGVycik7XG4gIGlmIChvcHRfY29udGV4dCkge1xuICAgIGZvciAodmFyIGtleSBpbiBvcHRfY29udGV4dCkge1xuICAgICAgZ29vZy5kZWJ1Zy5lcnJvcmNvbnRleHQuYWRkRXJyb3JDb250ZXh0KGVycm9yLCBrZXksIG9wdF9jb250ZXh0W2tleV0pO1xuICAgIH1cbiAgfVxuICByZXR1cm4gZXJyb3I7XG59O1xuZ29vZy5kZWJ1Zy5nZXRTdGFja3RyYWNlU2ltcGxlID0gZnVuY3Rpb24ob3B0X2RlcHRoKSB7XG4gIGlmICghZ29vZy5kZWJ1Zy5GT1JDRV9TTE9QUFlfU1RBQ0tTKSB7XG4gICAgdmFyIHN0YWNrID0gZ29vZy5kZWJ1Zy5nZXROYXRpdmVTdGFja1RyYWNlXyhnb29nLmRlYnVnLmdldFN0YWNrdHJhY2VTaW1wbGUpO1xuICAgIGlmIChzdGFjaykge1xuICAgICAgcmV0dXJuIHN0YWNrO1xuICAgIH1cbiAgfVxuICBmb3IgKHZhciBzYiA9IFtdLCBmbiA9IGFyZ3VtZW50cy5jYWxsZWUuY2FsbGVyLCBkZXB0aCA9IDA7IGZuICYmICghb3B0X2RlcHRoIHx8IGRlcHRoIDwgb3B0X2RlcHRoKTspIHtcbiAgICBzYi5wdXNoKGdvb2cuZGVidWcuZ2V0RnVuY3Rpb25OYW1lKGZuKSk7XG4gICAgc2IucHVzaChcIigpXFxuXCIpO1xuICAgIHRyeSB7XG4gICAgICBmbiA9IGZuLmNhbGxlcjtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBzYi5wdXNoKFwiW2V4Y2VwdGlvbiB0cnlpbmcgdG8gZ2V0IGNhbGxlcl1cXG5cIik7XG4gICAgICBicmVhaztcbiAgICB9XG4gICAgZGVwdGgrKztcbiAgICBpZiAoZGVwdGggPj0gZ29vZy5kZWJ1Zy5NQVhfU1RBQ0tfREVQVEgpIHtcbiAgICAgIHNiLnB1c2goXCJbLi4ubG9uZyBzdGFjay4uLl1cIik7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cbiAgb3B0X2RlcHRoICYmIGRlcHRoID49IG9wdF9kZXB0aCA/IHNiLnB1c2goXCJbLi4ucmVhY2hlZCBtYXggZGVwdGggbGltaXQuLi5dXCIpIDogc2IucHVzaChcIltlbmRdXCIpO1xuICByZXR1cm4gc2Iuam9pbihcIlwiKTtcbn07XG5nb29nLmRlYnVnLk1BWF9TVEFDS19ERVBUSCA9IDUwO1xuZ29vZy5kZWJ1Zy5nZXROYXRpdmVTdGFja1RyYWNlXyA9IGZ1bmN0aW9uKGZuKSB7XG4gIHZhciB0ZW1wRXJyID0gRXJyb3IoKTtcbiAgaWYgKEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKSB7XG4gICAgcmV0dXJuIEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKHRlbXBFcnIsIGZuKSwgU3RyaW5nKHRlbXBFcnIuc3RhY2spO1xuICB9XG4gIHRyeSB7XG4gICAgdGhyb3cgdGVtcEVycjtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHRlbXBFcnIgPSBlO1xuICB9XG4gIHZhciBzdGFjayA9IHRlbXBFcnIuc3RhY2s7XG4gIHJldHVybiBzdGFjayA/IFN0cmluZyhzdGFjaykgOiBudWxsO1xufTtcbmdvb2cuZGVidWcuZ2V0U3RhY2t0cmFjZSA9IGZ1bmN0aW9uKGZuKSB7XG4gIHZhciBzdGFjaztcbiAgZ29vZy5kZWJ1Zy5GT1JDRV9TTE9QUFlfU1RBQ0tTIHx8IChzdGFjayA9IGdvb2cuZGVidWcuZ2V0TmF0aXZlU3RhY2tUcmFjZV8oZm4gfHwgZ29vZy5kZWJ1Zy5nZXRTdGFja3RyYWNlKSk7XG4gIHN0YWNrIHx8IChzdGFjayA9IGdvb2cuZGVidWcuZ2V0U3RhY2t0cmFjZUhlbHBlcl8oZm4gfHwgYXJndW1lbnRzLmNhbGxlZS5jYWxsZXIsIFtdKSk7XG4gIHJldHVybiBzdGFjaztcbn07XG5nb29nLmRlYnVnLmdldFN0YWNrdHJhY2VIZWxwZXJfID0gZnVuY3Rpb24oZm4sIHZpc2l0ZWQpIHtcbiAgdmFyIHNiID0gW107XG4gIGlmIChtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9jb250YWlucyh2aXNpdGVkLCBmbikpIHtcbiAgICBzYi5wdXNoKFwiWy4uLmNpcmN1bGFyIHJlZmVyZW5jZS4uLl1cIik7XG4gIH0gZWxzZSBpZiAoZm4gJiYgdmlzaXRlZC5sZW5ndGggPCBnb29nLmRlYnVnLk1BWF9TVEFDS19ERVBUSCkge1xuICAgIHNiLnB1c2goZ29vZy5kZWJ1Zy5nZXRGdW5jdGlvbk5hbWUoZm4pICsgXCIoXCIpO1xuICAgIGZvciAodmFyIGFyZ3MgPSBmbi5hcmd1bWVudHMsIGkgPSAwOyBhcmdzICYmIGkgPCBhcmdzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAwIDwgaSAmJiBzYi5wdXNoKFwiLCBcIik7XG4gICAgICB2YXIgYXJnID0gYXJnc1tpXTtcbiAgICAgIHN3aXRjaCh0eXBlb2YgYXJnKSB7XG4gICAgICAgIGNhc2UgXCJvYmplY3RcIjpcbiAgICAgICAgICB2YXIgYXJnRGVzYyA9IGFyZyA/IFwib2JqZWN0XCIgOiBcIm51bGxcIjtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcInN0cmluZ1wiOlxuICAgICAgICAgIGFyZ0Rlc2MgPSBhcmc7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJudW1iZXJcIjpcbiAgICAgICAgICBhcmdEZXNjID0gU3RyaW5nKGFyZyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJib29sZWFuXCI6XG4gICAgICAgICAgYXJnRGVzYyA9IGFyZyA/IFwidHJ1ZVwiIDogXCJmYWxzZVwiO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiZnVuY3Rpb25cIjpcbiAgICAgICAgICBhcmdEZXNjID0gKGFyZ0Rlc2MgPSBnb29nLmRlYnVnLmdldEZ1bmN0aW9uTmFtZShhcmcpKSA/IGFyZ0Rlc2MgOiBcIltmbl1cIjtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBhcmdEZXNjID0gdHlwZW9mIGFyZztcbiAgICAgIH1cbiAgICAgIDQwIDwgYXJnRGVzYy5sZW5ndGggJiYgKGFyZ0Rlc2MgPSBhcmdEZXNjLnNsaWNlKDAsIDQwKSArIFwiLi4uXCIpO1xuICAgICAgc2IucHVzaChhcmdEZXNjKTtcbiAgICB9XG4gICAgdmlzaXRlZC5wdXNoKGZuKTtcbiAgICBzYi5wdXNoKFwiKVxcblwiKTtcbiAgICB0cnkge1xuICAgICAgc2IucHVzaChnb29nLmRlYnVnLmdldFN0YWNrdHJhY2VIZWxwZXJfKGZuLmNhbGxlciwgdmlzaXRlZCkpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHNiLnB1c2goXCJbZXhjZXB0aW9uIHRyeWluZyB0byBnZXQgY2FsbGVyXVxcblwiKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgZm4gPyBzYi5wdXNoKFwiWy4uLmxvbmcgc3RhY2suLi5dXCIpIDogc2IucHVzaChcIltlbmRdXCIpO1xuICB9XG4gIHJldHVybiBzYi5qb2luKFwiXCIpO1xufTtcbmdvb2cuZGVidWcuZ2V0RnVuY3Rpb25OYW1lID0gZnVuY3Rpb24oZm4pIHtcbiAgaWYgKGdvb2cuZGVidWcuZm5OYW1lQ2FjaGVfW2ZuXSkge1xuICAgIHJldHVybiBnb29nLmRlYnVnLmZuTmFtZUNhY2hlX1tmbl07XG4gIH1cbiAgdmFyIGZ1bmN0aW9uU291cmNlID0gU3RyaW5nKGZuKTtcbiAgaWYgKCFnb29nLmRlYnVnLmZuTmFtZUNhY2hlX1tmdW5jdGlvblNvdXJjZV0pIHtcbiAgICB2YXIgbWF0Y2hlcyA9IC9mdW5jdGlvblxccysoW15cXChdKykvbS5leGVjKGZ1bmN0aW9uU291cmNlKTtcbiAgICBnb29nLmRlYnVnLmZuTmFtZUNhY2hlX1tmdW5jdGlvblNvdXJjZV0gPSBtYXRjaGVzID8gbWF0Y2hlc1sxXSA6IFwiW0Fub255bW91c11cIjtcbiAgfVxuICByZXR1cm4gZ29vZy5kZWJ1Zy5mbk5hbWVDYWNoZV9bZnVuY3Rpb25Tb3VyY2VdO1xufTtcbmdvb2cuZGVidWcubWFrZVdoaXRlc3BhY2VWaXNpYmxlID0gZnVuY3Rpb24oc3RyaW5nKSB7XG4gIHJldHVybiBzdHJpbmcucmVwbGFjZSgvIC9nLCBcIltfXVwiKS5yZXBsYWNlKC9cXGYvZywgXCJbZl1cIikucmVwbGFjZSgvXFxuL2csIFwiW25dXFxuXCIpLnJlcGxhY2UoL1xcci9nLCBcIltyXVwiKS5yZXBsYWNlKC9cXHQvZywgXCJbdF1cIik7XG59O1xuZ29vZy5kZWJ1Zy5ydW50aW1lVHlwZSA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIEZ1bmN0aW9uID8gdmFsdWUuZGlzcGxheU5hbWUgfHwgdmFsdWUubmFtZSB8fCBcInVua25vd24gdHlwZSBuYW1lXCIgOiB2YWx1ZSBpbnN0YW5jZW9mIE9iamVjdCA/IHZhbHVlLmNvbnN0cnVjdG9yLmRpc3BsYXlOYW1lIHx8IHZhbHVlLmNvbnN0cnVjdG9yLm5hbWUgfHwgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbHVlKSA6IG51bGwgPT09IHZhbHVlID8gXCJudWxsXCIgOiB0eXBlb2YgdmFsdWU7XG59O1xuZ29vZy5kZWJ1Zy5mbk5hbWVDYWNoZV8gPSB7fTtcbmdvb2cuZGVidWcuZnJlZXplSW50ZXJuYWxfID0gZ29vZy5ERUJVRyAmJiBPYmplY3QuZnJlZXplIHx8IGZ1bmN0aW9uKGFyZykge1xuICByZXR1cm4gYXJnO1xufTtcbmdvb2cuZGVidWcuZnJlZXplID0gZnVuY3Rpb24oYXJnKSB7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gZ29vZy5kZWJ1Zy5mcmVlemVJbnRlcm5hbF8oYXJnKTtcbiAgfSgpO1xufTtcbmdvb2cuZXZlbnRzLkJyb3dzZXJGZWF0dXJlID0ge1RPVUNIX0VOQUJMRUQ6XCJvbnRvdWNoc3RhcnRcIiBpbiBnb29nLmdsb2JhbCB8fCAhIShnb29nLmdsb2JhbC5kb2N1bWVudCAmJiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQgJiYgXCJvbnRvdWNoc3RhcnRcIiBpbiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpIHx8ICEoIWdvb2cuZ2xvYmFsLm5hdmlnYXRvciB8fCAhZ29vZy5nbG9iYWwubmF2aWdhdG9yLm1heFRvdWNoUG9pbnRzICYmICFnb29nLmdsb2JhbC5uYXZpZ2F0b3IubXNNYXhUb3VjaFBvaW50cyksIFBPSU5URVJfRVZFTlRTOlwiUG9pbnRlckV2ZW50XCIgaW4gZ29vZy5nbG9iYWwsIE1TUE9JTlRFUl9FVkVOVFM6ITEsIFBBU1NJVkVfRVZFTlRTOmZ1bmN0aW9uKGZuKSB7XG4gIHJldHVybiB7dmFsdWVPZjpmbn0udmFsdWVPZigpO1xufShmdW5jdGlvbigpIHtcbiAgaWYgKCFnb29nLmdsb2JhbC5hZGRFdmVudExpc3RlbmVyIHx8ICFPYmplY3QuZGVmaW5lUHJvcGVydHkpIHtcbiAgICByZXR1cm4gITE7XG4gIH1cbiAgdmFyIHBhc3NpdmUgPSAhMSwgb3B0aW9ucyA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7fSwgXCJwYXNzaXZlXCIsIHtnZXQ6ZnVuY3Rpb24oKSB7XG4gICAgcGFzc2l2ZSA9ICEwO1xuICB9fSk7XG4gIHRyeSB7XG4gICAgZ29vZy5nbG9iYWwuYWRkRXZlbnRMaXN0ZW5lcihcInRlc3RcIiwgZnVuY3Rpb24oKSB7XG4gICAgfSwgb3B0aW9ucyksIGdvb2cuZ2xvYmFsLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ0ZXN0XCIsIGZ1bmN0aW9uKCkge1xuICAgIH0sIG9wdGlvbnMpO1xuICB9IGNhdGNoIChlKSB7XG4gIH1cbiAgcmV0dXJuIHBhc3NpdmU7XG59KX07XG5nb29nLmxhYnMgPSB7fTtcbmdvb2cubGFicy51c2VyQWdlbnQgPSB7fTtcbnZhciBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudF9mb3JjZUNsaWVudEhpbnRzSW5UZXN0cyA9ICExO1xuZ29vZy5sYWJzLnVzZXJBZ2VudC5zZXRVc2VDbGllbnRIaW50c0ZvclRlc3RpbmcgPSBmdW5jdGlvbih1c2UpIHtcbiAgbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnRfZm9yY2VDbGllbnRIaW50c0luVGVzdHMgPSB1c2U7XG59O1xuZ29vZy5sYWJzLnVzZXJBZ2VudC51c2VDbGllbnRIaW50cyA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnRfZm9yY2VDbGllbnRIaW50c0luVGVzdHM7XG59O1xuZ29vZy5zdHJpbmcgPSB7fTtcbmdvb2cuc3RyaW5nLmludGVybmFsID0ge307XG5nb29nLnN0cmluZy5pbnRlcm5hbC5zdGFydHNXaXRoID0gZnVuY3Rpb24oc3RyLCBwcmVmaXgpIHtcbiAgcmV0dXJuIDAgPT0gc3RyLmxhc3RJbmRleE9mKHByZWZpeCwgMCk7XG59O1xuZ29vZy5zdHJpbmcuaW50ZXJuYWwuZW5kc1dpdGggPSBmdW5jdGlvbihzdHIsIHN1ZmZpeCkge1xuICB2YXIgbCA9IHN0ci5sZW5ndGggLSBzdWZmaXgubGVuZ3RoO1xuICByZXR1cm4gMCA8PSBsICYmIHN0ci5pbmRleE9mKHN1ZmZpeCwgbCkgPT0gbDtcbn07XG5nb29nLnN0cmluZy5pbnRlcm5hbC5jYXNlSW5zZW5zaXRpdmVTdGFydHNXaXRoID0gZnVuY3Rpb24oc3RyLCBwcmVmaXgpIHtcbiAgcmV0dXJuIDAgPT0gZ29vZy5zdHJpbmcuaW50ZXJuYWwuY2FzZUluc2Vuc2l0aXZlQ29tcGFyZShwcmVmaXgsIHN0ci5zbGljZSgwLCBwcmVmaXgubGVuZ3RoKSk7XG59O1xuZ29vZy5zdHJpbmcuaW50ZXJuYWwuY2FzZUluc2Vuc2l0aXZlRW5kc1dpdGggPSBmdW5jdGlvbihzdHIsIHN1ZmZpeCkge1xuICByZXR1cm4gMCA9PSBnb29nLnN0cmluZy5pbnRlcm5hbC5jYXNlSW5zZW5zaXRpdmVDb21wYXJlKHN1ZmZpeCwgc3RyLnNsaWNlKHN0ci5sZW5ndGggLSBzdWZmaXgubGVuZ3RoKSk7XG59O1xuZ29vZy5zdHJpbmcuaW50ZXJuYWwuY2FzZUluc2Vuc2l0aXZlRXF1YWxzID0gZnVuY3Rpb24oc3RyMSwgc3RyMikge1xuICByZXR1cm4gc3RyMS50b0xvd2VyQ2FzZSgpID09IHN0cjIudG9Mb3dlckNhc2UoKTtcbn07XG5nb29nLnN0cmluZy5pbnRlcm5hbC5pc0VtcHR5T3JXaGl0ZXNwYWNlID0gZnVuY3Rpb24oc3RyKSB7XG4gIHJldHVybiAvXltcXHNcXHhhMF0qJC8udGVzdChzdHIpO1xufTtcbmdvb2cuc3RyaW5nLmludGVybmFsLnRyaW0gPSBnb29nLlRSVVNURURfU0lURSAmJiBTdHJpbmcucHJvdG90eXBlLnRyaW0gPyBmdW5jdGlvbihzdHIpIHtcbiAgcmV0dXJuIHN0ci50cmltKCk7XG59IDogZnVuY3Rpb24oc3RyKSB7XG4gIHJldHVybiAvXltcXHNcXHhhMF0qKFtcXHNcXFNdKj8pW1xcc1xceGEwXSokLy5leGVjKHN0cilbMV07XG59O1xuZ29vZy5zdHJpbmcuaW50ZXJuYWwuY2FzZUluc2Vuc2l0aXZlQ29tcGFyZSA9IGZ1bmN0aW9uKHN0cjEsIHN0cjIpIHtcbiAgdmFyIHRlc3QxID0gU3RyaW5nKHN0cjEpLnRvTG93ZXJDYXNlKCksIHRlc3QyID0gU3RyaW5nKHN0cjIpLnRvTG93ZXJDYXNlKCk7XG4gIHJldHVybiB0ZXN0MSA8IHRlc3QyID8gLTEgOiB0ZXN0MSA9PSB0ZXN0MiA/IDAgOiAxO1xufTtcbmdvb2cuc3RyaW5nLmludGVybmFsLm5ld0xpbmVUb0JyID0gZnVuY3Rpb24oc3RyLCBvcHRfeG1sKSB7XG4gIHJldHVybiBzdHIucmVwbGFjZSgvKFxcclxcbnxcXHJ8XFxuKS9nLCBvcHRfeG1sID8gXCI8YnIgLz5cIiA6IFwiPGJyPlwiKTtcbn07XG5nb29nLnN0cmluZy5pbnRlcm5hbC5odG1sRXNjYXBlID0gZnVuY3Rpb24oc3RyLCBvcHRfaXNMaWtlbHlUb0NvbnRhaW5IdG1sQ2hhcnMpIHtcbiAgaWYgKG9wdF9pc0xpa2VseVRvQ29udGFpbkh0bWxDaGFycykge1xuICAgIHN0ciA9IHN0ci5yZXBsYWNlKGdvb2cuc3RyaW5nLmludGVybmFsLkFNUF9SRV8sIFwiJmFtcDtcIikucmVwbGFjZShnb29nLnN0cmluZy5pbnRlcm5hbC5MVF9SRV8sIFwiJmx0O1wiKS5yZXBsYWNlKGdvb2cuc3RyaW5nLmludGVybmFsLkdUX1JFXywgXCImZ3Q7XCIpLnJlcGxhY2UoZ29vZy5zdHJpbmcuaW50ZXJuYWwuUVVPVF9SRV8sIFwiJnF1b3Q7XCIpLnJlcGxhY2UoZ29vZy5zdHJpbmcuaW50ZXJuYWwuU0lOR0xFX1FVT1RFX1JFXywgXCImIzM5O1wiKS5yZXBsYWNlKGdvb2cuc3RyaW5nLmludGVybmFsLk5VTExfUkVfLCBcIiYjMDtcIik7XG4gIH0gZWxzZSB7XG4gICAgaWYgKCFnb29nLnN0cmluZy5pbnRlcm5hbC5BTExfUkVfLnRlc3Qoc3RyKSkge1xuICAgICAgcmV0dXJuIHN0cjtcbiAgICB9XG4gICAgLTEgIT0gc3RyLmluZGV4T2YoXCImXCIpICYmIChzdHIgPSBzdHIucmVwbGFjZShnb29nLnN0cmluZy5pbnRlcm5hbC5BTVBfUkVfLCBcIiZhbXA7XCIpKTtcbiAgICAtMSAhPSBzdHIuaW5kZXhPZihcIjxcIikgJiYgKHN0ciA9IHN0ci5yZXBsYWNlKGdvb2cuc3RyaW5nLmludGVybmFsLkxUX1JFXywgXCImbHQ7XCIpKTtcbiAgICAtMSAhPSBzdHIuaW5kZXhPZihcIj5cIikgJiYgKHN0ciA9IHN0ci5yZXBsYWNlKGdvb2cuc3RyaW5nLmludGVybmFsLkdUX1JFXywgXCImZ3Q7XCIpKTtcbiAgICAtMSAhPSBzdHIuaW5kZXhPZignXCInKSAmJiAoc3RyID0gc3RyLnJlcGxhY2UoZ29vZy5zdHJpbmcuaW50ZXJuYWwuUVVPVF9SRV8sIFwiJnF1b3Q7XCIpKTtcbiAgICAtMSAhPSBzdHIuaW5kZXhPZihcIidcIikgJiYgKHN0ciA9IHN0ci5yZXBsYWNlKGdvb2cuc3RyaW5nLmludGVybmFsLlNJTkdMRV9RVU9URV9SRV8sIFwiJiMzOTtcIikpO1xuICAgIC0xICE9IHN0ci5pbmRleE9mKFwiXFx4MDBcIikgJiYgKHN0ciA9IHN0ci5yZXBsYWNlKGdvb2cuc3RyaW5nLmludGVybmFsLk5VTExfUkVfLCBcIiYjMDtcIikpO1xuICB9XG4gIHJldHVybiBzdHI7XG59O1xuZ29vZy5zdHJpbmcuaW50ZXJuYWwuQU1QX1JFXyA9IC8mL2c7XG5nb29nLnN0cmluZy5pbnRlcm5hbC5MVF9SRV8gPSAvPC9nO1xuZ29vZy5zdHJpbmcuaW50ZXJuYWwuR1RfUkVfID0gLz4vZztcbmdvb2cuc3RyaW5nLmludGVybmFsLlFVT1RfUkVfID0gL1wiL2c7XG5nb29nLnN0cmluZy5pbnRlcm5hbC5TSU5HTEVfUVVPVEVfUkVfID0gLycvZztcbmdvb2cuc3RyaW5nLmludGVybmFsLk5VTExfUkVfID0gL1xceDAwL2c7XG5nb29nLnN0cmluZy5pbnRlcm5hbC5BTExfUkVfID0gL1tcXHgwMCY8PlwiJ10vO1xuZ29vZy5zdHJpbmcuaW50ZXJuYWwud2hpdGVzcGFjZUVzY2FwZSA9IGZ1bmN0aW9uKHN0ciwgb3B0X3htbCkge1xuICByZXR1cm4gZ29vZy5zdHJpbmcuaW50ZXJuYWwubmV3TGluZVRvQnIoc3RyLnJlcGxhY2UoLyAgL2csIFwiICYjMTYwO1wiKSwgb3B0X3htbCk7XG59O1xuZ29vZy5zdHJpbmcuaW50ZXJuYWwuY29udGFpbnMgPSBmdW5jdGlvbihzdHIsIHN1YlN0cmluZykge1xuICByZXR1cm4gLTEgIT0gc3RyLmluZGV4T2Yoc3ViU3RyaW5nKTtcbn07XG5nb29nLnN0cmluZy5pbnRlcm5hbC5jYXNlSW5zZW5zaXRpdmVDb250YWlucyA9IGZ1bmN0aW9uKHN0ciwgc3ViU3RyaW5nKSB7XG4gIHJldHVybiBnb29nLnN0cmluZy5pbnRlcm5hbC5jb250YWlucyhzdHIudG9Mb3dlckNhc2UoKSwgc3ViU3RyaW5nLnRvTG93ZXJDYXNlKCkpO1xufTtcbmdvb2cuc3RyaW5nLmludGVybmFsLmNvbXBhcmVWZXJzaW9ucyA9IGZ1bmN0aW9uKHZlcnNpb24xLCB2ZXJzaW9uMikge1xuICBmb3IgKHZhciBvcmRlciA9IDAsIHYxU3VicyA9IGdvb2cuc3RyaW5nLmludGVybmFsLnRyaW0oU3RyaW5nKHZlcnNpb24xKSkuc3BsaXQoXCIuXCIpLCB2MlN1YnMgPSBnb29nLnN0cmluZy5pbnRlcm5hbC50cmltKFN0cmluZyh2ZXJzaW9uMikpLnNwbGl0KFwiLlwiKSwgc3ViQ291bnQgPSBNYXRoLm1heCh2MVN1YnMubGVuZ3RoLCB2MlN1YnMubGVuZ3RoKSwgc3ViSWR4ID0gMDsgMCA9PSBvcmRlciAmJiBzdWJJZHggPCBzdWJDb3VudDsgc3ViSWR4KyspIHtcbiAgICB2YXIgdjFTdWIgPSB2MVN1YnNbc3ViSWR4XSB8fCBcIlwiLCB2MlN1YiA9IHYyU3Vic1tzdWJJZHhdIHx8IFwiXCI7XG4gICAgZG8ge1xuICAgICAgdmFyIHYxQ29tcCA9IC8oXFxkKikoXFxEKikoLiopLy5leGVjKHYxU3ViKSB8fCBbXCJcIiwgXCJcIiwgXCJcIiwgXCJcIl0sIHYyQ29tcCA9IC8oXFxkKikoXFxEKikoLiopLy5leGVjKHYyU3ViKSB8fCBbXCJcIiwgXCJcIiwgXCJcIiwgXCJcIl07XG4gICAgICBpZiAoMCA9PSB2MUNvbXBbMF0ubGVuZ3RoICYmIDAgPT0gdjJDb21wWzBdLmxlbmd0aCkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIG9yZGVyID0gZ29vZy5zdHJpbmcuaW50ZXJuYWwuY29tcGFyZUVsZW1lbnRzXygwID09IHYxQ29tcFsxXS5sZW5ndGggPyAwIDogcGFyc2VJbnQodjFDb21wWzFdLCAxMCksIDAgPT0gdjJDb21wWzFdLmxlbmd0aCA/IDAgOiBwYXJzZUludCh2MkNvbXBbMV0sIDEwKSkgfHwgZ29vZy5zdHJpbmcuaW50ZXJuYWwuY29tcGFyZUVsZW1lbnRzXygwID09IHYxQ29tcFsyXS5sZW5ndGgsIDAgPT0gdjJDb21wWzJdLmxlbmd0aCkgfHwgZ29vZy5zdHJpbmcuaW50ZXJuYWwuY29tcGFyZUVsZW1lbnRzXyh2MUNvbXBbMl0sIHYyQ29tcFsyXSk7XG4gICAgICB2MVN1YiA9IHYxQ29tcFszXTtcbiAgICAgIHYyU3ViID0gdjJDb21wWzNdO1xuICAgIH0gd2hpbGUgKDAgPT0gb3JkZXIpO1xuICB9XG4gIHJldHVybiBvcmRlcjtcbn07XG5nb29nLnN0cmluZy5pbnRlcm5hbC5jb21wYXJlRWxlbWVudHNfID0gZnVuY3Rpb24obGVmdCwgcmlnaHQpIHtcbiAgcmV0dXJuIGxlZnQgPCByaWdodCA/IC0xIDogbGVmdCA+IHJpZ2h0ID8gMSA6IDA7XG59O1xuZ29vZy5sYWJzLnVzZXJBZ2VudC51dGlsID0ge307XG5mdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCR1dGlsX2dldE5hdGl2ZVVzZXJBZ2VudFN0cmluZygpIHtcbiAgdmFyIG5hdmlnYXRvciA9IG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JHV0aWxfZ2V0TmF2aWdhdG9yKCk7XG4gIGlmIChuYXZpZ2F0b3IpIHtcbiAgICB2YXIgdXNlckFnZW50ID0gbmF2aWdhdG9yLnVzZXJBZ2VudDtcbiAgICBpZiAodXNlckFnZW50KSB7XG4gICAgICByZXR1cm4gdXNlckFnZW50O1xuICAgIH1cbiAgfVxuICByZXR1cm4gXCJcIjtcbn1cbmZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JHV0aWxfZ2V0TmF0aXZlVXNlckFnZW50RGF0YSgpIHtcbiAgdmFyIG5hdmlnYXRvciA9IG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JHV0aWxfZ2V0TmF2aWdhdG9yKCk7XG4gIHJldHVybiBuYXZpZ2F0b3IgPyBuYXZpZ2F0b3IudXNlckFnZW50RGF0YSB8fCBudWxsIDogbnVsbDtcbn1cbmZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JHV0aWxfZ2V0TmF2aWdhdG9yKCkge1xuICByZXR1cm4gZ29vZy5nbG9iYWwubmF2aWdhdG9yO1xufVxudmFyIG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JHV0aWxfdXNlckFnZW50SW50ZXJuYWwgPSBudWxsLCBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCR1dGlsX3VzZXJBZ2VudERhdGFJbnRlcm5hbCA9IG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JHV0aWxfZ2V0TmF0aXZlVXNlckFnZW50RGF0YSgpO1xuZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkdXRpbF9nZXRVc2VyQWdlbnQoKSB7XG4gIHJldHVybiBudWxsID09IG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JHV0aWxfdXNlckFnZW50SW50ZXJuYWwgPyBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCR1dGlsX2dldE5hdGl2ZVVzZXJBZ2VudFN0cmluZygpIDogbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkdXRpbF91c2VyQWdlbnRJbnRlcm5hbDtcbn1cbmZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JHV0aWxfZ2V0VXNlckFnZW50RGF0YSgpIHtcbiAgcmV0dXJuIG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JHV0aWxfdXNlckFnZW50RGF0YUludGVybmFsO1xufVxuZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkdXRpbF9tYXRjaFVzZXJBZ2VudERhdGFCcmFuZChzdHIpIHtcbiAgaWYgKCEoMCxnb29nLmxhYnMudXNlckFnZW50LnVzZUNsaWVudEhpbnRzKSgpKSB7XG4gICAgcmV0dXJuICExO1xuICB9XG4gIHZhciBkYXRhID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkdXRpbF9nZXRVc2VyQWdlbnREYXRhKCk7XG4gIHJldHVybiBkYXRhID8gZGF0YS5icmFuZHMuc29tZShmdW5jdGlvbigkanNjb21wJGRlc3RydWN0dXJpbmckdmFyMCkge1xuICAgIHZhciBicmFuZCA9ICRqc2NvbXAkZGVzdHJ1Y3R1cmluZyR2YXIwLmJyYW5kO1xuICAgIHJldHVybiBicmFuZCAmJiAoMCxnb29nLnN0cmluZy5pbnRlcm5hbC5jb250YWlucykoYnJhbmQsIHN0cik7XG4gIH0pIDogITE7XG59XG5mdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCR1dGlsX21hdGNoVXNlckFnZW50KHN0cikge1xuICByZXR1cm4gKDAsZ29vZy5zdHJpbmcuaW50ZXJuYWwuY29udGFpbnMpKG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JHV0aWxfZ2V0VXNlckFnZW50KCksIHN0cik7XG59XG5mdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCR1dGlsX21hdGNoVXNlckFnZW50SWdub3JlQ2FzZShzdHIpIHtcbiAgcmV0dXJuICgwLGdvb2cuc3RyaW5nLmludGVybmFsLmNhc2VJbnNlbnNpdGl2ZUNvbnRhaW5zKShtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCR1dGlsX2dldFVzZXJBZ2VudCgpLCBzdHIpO1xufVxuZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkdXRpbF9leHRyYWN0VmVyc2lvblR1cGxlcyh1c2VyQWdlbnQpIHtcbiAgZm9yICh2YXIgdmVyc2lvblJlZ0V4cCA9IFJlZ0V4cChcIihbQS1aXVtcXFxcdyBdKykvKFteXFxcXHNdKylcXFxccyooPzpcXFxcKCguKj8pXFxcXCkpP1wiLCBcImdcIiksIGRhdGEgPSBbXSwgbWF0Y2g7IG1hdGNoID0gdmVyc2lvblJlZ0V4cC5leGVjKHVzZXJBZ2VudCk7KSB7XG4gICAgZGF0YS5wdXNoKFttYXRjaFsxXSwgbWF0Y2hbMl0sIG1hdGNoWzNdIHx8IHZvaWQgMF0pO1xuICB9XG4gIHJldHVybiBkYXRhO1xufVxuZ29vZy5sYWJzLnVzZXJBZ2VudC51dGlsLkFTU1VNRV9DTElFTlRfSElOVFNfU1VQUE9SVCA9ICExO1xuZ29vZy5sYWJzLnVzZXJBZ2VudC51dGlsLmV4dHJhY3RWZXJzaW9uVHVwbGVzID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkdXRpbF9leHRyYWN0VmVyc2lvblR1cGxlcztcbmdvb2cubGFicy51c2VyQWdlbnQudXRpbC5nZXROYXRpdmVVc2VyQWdlbnRTdHJpbmcgPSBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCR1dGlsX2dldE5hdGl2ZVVzZXJBZ2VudFN0cmluZztcbmdvb2cubGFicy51c2VyQWdlbnQudXRpbC5nZXRVc2VyQWdlbnQgPSBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCR1dGlsX2dldFVzZXJBZ2VudDtcbmdvb2cubGFicy51c2VyQWdlbnQudXRpbC5nZXRVc2VyQWdlbnREYXRhID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkdXRpbF9nZXRVc2VyQWdlbnREYXRhO1xuZ29vZy5sYWJzLnVzZXJBZ2VudC51dGlsLm1hdGNoVXNlckFnZW50ID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkdXRpbF9tYXRjaFVzZXJBZ2VudDtcbmdvb2cubGFicy51c2VyQWdlbnQudXRpbC5tYXRjaFVzZXJBZ2VudERhdGFCcmFuZCA9IG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JHV0aWxfbWF0Y2hVc2VyQWdlbnREYXRhQnJhbmQ7XG5nb29nLmxhYnMudXNlckFnZW50LnV0aWwubWF0Y2hVc2VyQWdlbnRJZ25vcmVDYXNlID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkdXRpbF9tYXRjaFVzZXJBZ2VudElnbm9yZUNhc2U7XG5nb29nLmxhYnMudXNlckFnZW50LnV0aWwucmVzZXRVc2VyQWdlbnREYXRhID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkdXRpbF9yZXNldFVzZXJBZ2VudERhdGEoKSB7XG4gIG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JHV0aWxfdXNlckFnZW50RGF0YUludGVybmFsID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkdXRpbF9nZXROYXRpdmVVc2VyQWdlbnREYXRhKCk7XG59O1xuZ29vZy5sYWJzLnVzZXJBZ2VudC51dGlsLnNldFVzZXJBZ2VudCA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JHV0aWxfc2V0VXNlckFnZW50KHVzZXJBZ2VudCkge1xuICBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCR1dGlsX3VzZXJBZ2VudEludGVybmFsID0gXCJzdHJpbmdcIiA9PT0gdHlwZW9mIHVzZXJBZ2VudCA/IHVzZXJBZ2VudCA6IG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JHV0aWxfZ2V0TmF0aXZlVXNlckFnZW50U3RyaW5nKCk7XG59O1xuZ29vZy5sYWJzLnVzZXJBZ2VudC51dGlsLnNldFVzZXJBZ2VudERhdGEgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCR1dGlsX3NldFVzZXJBZ2VudERhdGEodXNlckFnZW50RGF0YSkge1xuICBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCR1dGlsX3VzZXJBZ2VudERhdGFJbnRlcm5hbCA9IHVzZXJBZ2VudERhdGE7XG59O1xudmFyIG1vZHVsZSRleHBvcnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkaGlnaEVudHJvcHkkaGlnaEVudHJvcHlWYWx1ZSA9IHtBc3luY1ZhbHVlOmZ1bmN0aW9uKCkge1xufX07XG5tb2R1bGUkZXhwb3J0cyRnb29nJGxhYnMkdXNlckFnZW50JGhpZ2hFbnRyb3B5JGhpZ2hFbnRyb3B5VmFsdWUuQXN5bmNWYWx1ZS5wcm90b3R5cGUuZ2V0SWZMb2FkZWQgPSBmdW5jdGlvbigpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRnb29nJGxhYnMkdXNlckFnZW50JGhpZ2hFbnRyb3B5JGhpZ2hFbnRyb3B5VmFsdWUuQXN5bmNWYWx1ZS5wcm90b3R5cGUubG9hZCA9IGZ1bmN0aW9uKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkaGlnaEVudHJvcHkkaGlnaEVudHJvcHlWYWx1ZS5IaWdoRW50cm9weVZhbHVlID0gZnVuY3Rpb24oa2V5KSB7XG4gIHRoaXMua2V5XyA9IGtleTtcbiAgdGhpcy5wcm9taXNlXyA9IHRoaXMudmFsdWVfID0gdm9pZCAwO1xuICB0aGlzLnBlbmRpbmdfID0gITE7XG59O1xubW9kdWxlJGV4cG9ydHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRoaWdoRW50cm9weSRoaWdoRW50cm9weVZhbHVlLkhpZ2hFbnRyb3B5VmFsdWUucHJvdG90eXBlLmdldElmTG9hZGVkID0gZnVuY3Rpb24oKSB7XG4gIGlmIChtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCR1dGlsX2dldFVzZXJBZ2VudERhdGEoKSkge1xuICAgIHJldHVybiB0aGlzLnZhbHVlXztcbiAgfVxufTtcbm1vZHVsZSRleHBvcnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkaGlnaEVudHJvcHkkaGlnaEVudHJvcHlWYWx1ZS5IaWdoRW50cm9weVZhbHVlLnByb3RvdHlwZS5sb2FkID0gZnVuY3Rpb24oKSB7XG4gIHZhciAkanNjb21wJGFzeW5jJHRoaXMgPSB0aGlzLCB1c2VyQWdlbnREYXRhO1xuICByZXR1cm4gJGpzY29tcC5hc3luY0V4ZWN1dGVQcm9taXNlR2VuZXJhdG9yUHJvZ3JhbShmdW5jdGlvbigkanNjb21wJGdlbmVyYXRvciRjb250ZXh0KSB7XG4gICAgaWYgKDEgPT0gJGpzY29tcCRnZW5lcmF0b3IkY29udGV4dC5uZXh0QWRkcmVzcykge1xuICAgICAgdXNlckFnZW50RGF0YSA9IG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JHV0aWxfZ2V0VXNlckFnZW50RGF0YSgpO1xuICAgICAgaWYgKCF1c2VyQWdlbnREYXRhKSB7XG4gICAgICAgIHJldHVybiAkanNjb21wJGdlbmVyYXRvciRjb250ZXh0LnJldHVybih2b2lkIDApO1xuICAgICAgfVxuICAgICAgJGpzY29tcCRhc3luYyR0aGlzLnByb21pc2VfIHx8ICgkanNjb21wJGFzeW5jJHRoaXMucGVuZGluZ18gPSAhMCwgJGpzY29tcCRhc3luYyR0aGlzLnByb21pc2VfID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBkYXRhVmFsdWVzO1xuICAgICAgICByZXR1cm4gJGpzY29tcC5hc3luY0V4ZWN1dGVQcm9taXNlR2VuZXJhdG9yUHJvZ3JhbShmdW5jdGlvbigkanNjb21wJGdlbmVyYXRvciRjb250ZXh0JDEpIHtcbiAgICAgICAgICBpZiAoMSA9PSAkanNjb21wJGdlbmVyYXRvciRjb250ZXh0JDEubmV4dEFkZHJlc3MpIHtcbiAgICAgICAgICAgIHJldHVybiAkanNjb21wJGdlbmVyYXRvciRjb250ZXh0JDEuc2V0RmluYWxseUJsb2NrKDIpLCAkanNjb21wJGdlbmVyYXRvciRjb250ZXh0JDEueWllbGQodXNlckFnZW50RGF0YS5nZXRIaWdoRW50cm9weVZhbHVlcyhbJGpzY29tcCRhc3luYyR0aGlzLmtleV9dKSwgNCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICgyICE9ICRqc2NvbXAkZ2VuZXJhdG9yJGNvbnRleHQkMS5uZXh0QWRkcmVzcykge1xuICAgICAgICAgICAgcmV0dXJuIGRhdGFWYWx1ZXMgPSAkanNjb21wJGdlbmVyYXRvciRjb250ZXh0JDEueWllbGRSZXN1bHQsICRqc2NvbXAkYXN5bmMkdGhpcy52YWx1ZV8gPSBkYXRhVmFsdWVzWyRqc2NvbXAkYXN5bmMkdGhpcy5rZXlfXSwgJGpzY29tcCRnZW5lcmF0b3IkY29udGV4dCQxLnJldHVybigkanNjb21wJGFzeW5jJHRoaXMudmFsdWVfKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgJGpzY29tcCRnZW5lcmF0b3IkY29udGV4dCQxLmVudGVyRmluYWxseUJsb2NrKCk7XG4gICAgICAgICAgJGpzY29tcCRhc3luYyR0aGlzLnBlbmRpbmdfID0gITE7XG4gICAgICAgICAgcmV0dXJuICRqc2NvbXAkZ2VuZXJhdG9yJGNvbnRleHQkMS5sZWF2ZUZpbmFsbHlCbG9jaygwKTtcbiAgICAgICAgfSk7XG4gICAgICB9KCkpO1xuICAgICAgcmV0dXJuICRqc2NvbXAkZ2VuZXJhdG9yJGNvbnRleHQueWllbGQoJGpzY29tcCRhc3luYyR0aGlzLnByb21pc2VfLCAyKTtcbiAgICB9XG4gICAgcmV0dXJuICRqc2NvbXAkZ2VuZXJhdG9yJGNvbnRleHQucmV0dXJuKCRqc2NvbXAkZ2VuZXJhdG9yJGNvbnRleHQueWllbGRSZXN1bHQpO1xuICB9KTtcbn07XG5tb2R1bGUkZXhwb3J0cyRnb29nJGxhYnMkdXNlckFnZW50JGhpZ2hFbnRyb3B5JGhpZ2hFbnRyb3B5VmFsdWUuSGlnaEVudHJvcHlWYWx1ZS5wcm90b3R5cGUucmVzZXRGb3JUZXN0aW5nID0gZnVuY3Rpb24oKSB7XG4gIGlmICh0aGlzLnBlbmRpbmdfKSB7XG4gICAgdGhyb3cgRXJyb3IoXCJVbnNhZmUgY2FsbCB0byByZXNldEZvclRlc3RpbmdcIik7XG4gIH1cbiAgdGhpcy52YWx1ZV8gPSB0aGlzLnByb21pc2VfID0gdm9pZCAwO1xuICB0aGlzLnBlbmRpbmdfID0gITE7XG59O1xubW9kdWxlJGV4cG9ydHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRoaWdoRW50cm9weSRoaWdoRW50cm9weVZhbHVlLlZlcnNpb24gPSBmdW5jdGlvbih2ZXJzaW9uU3RyaW5nKSB7XG4gIHRoaXMudmVyc2lvblN0cmluZ18gPSB2ZXJzaW9uU3RyaW5nO1xufTtcbm1vZHVsZSRleHBvcnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkaGlnaEVudHJvcHkkaGlnaEVudHJvcHlWYWx1ZS5WZXJzaW9uLnByb3RvdHlwZS50b1ZlcnNpb25TdHJpbmdGb3JMb2dnaW5nID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLnZlcnNpb25TdHJpbmdfO1xufTtcbm1vZHVsZSRleHBvcnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkaGlnaEVudHJvcHkkaGlnaEVudHJvcHlWYWx1ZS5WZXJzaW9uLnByb3RvdHlwZS5pc0F0TGVhc3QgPSBmdW5jdGlvbih2ZXJzaW9uKSB7XG4gIHJldHVybiAwIDw9ICgwLGdvb2cuc3RyaW5nLmludGVybmFsLmNvbXBhcmVWZXJzaW9ucykodGhpcy52ZXJzaW9uU3RyaW5nXywgdmVyc2lvbik7XG59O1xudmFyIG1vZHVsZSRleHBvcnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkaGlnaEVudHJvcHkkaGlnaEVudHJvcHlEYXRhID0ge307XG5tb2R1bGUkZXhwb3J0cyRnb29nJGxhYnMkdXNlckFnZW50JGhpZ2hFbnRyb3B5JGhpZ2hFbnRyb3B5RGF0YS5mdWxsVmVyc2lvbkxpc3QgPSBuZXcgbW9kdWxlJGV4cG9ydHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRoaWdoRW50cm9weSRoaWdoRW50cm9weVZhbHVlLkhpZ2hFbnRyb3B5VmFsdWUoXCJmdWxsVmVyc2lvbkxpc3RcIik7XG5tb2R1bGUkZXhwb3J0cyRnb29nJGxhYnMkdXNlckFnZW50JGhpZ2hFbnRyb3B5JGhpZ2hFbnRyb3B5RGF0YS5wbGF0Zm9ybVZlcnNpb24gPSBuZXcgbW9kdWxlJGV4cG9ydHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRoaWdoRW50cm9weSRoaWdoRW50cm9weVZhbHVlLkhpZ2hFbnRyb3B5VmFsdWUoXCJwbGF0Zm9ybVZlcnNpb25cIik7XG5nb29nLmxhYnMudXNlckFnZW50LmJyb3dzZXIgPSB7fTtcbnZhciBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRicm93c2VyX0JyYW5kID0ge0FORFJPSURfQlJPV1NFUjpcIkFuZHJvaWQgQnJvd3NlclwiLCBDSFJPTUlVTTpcIkNocm9taXVtXCIsIEVER0U6XCJNaWNyb3NvZnQgRWRnZVwiLCBGSVJFRk9YOlwiRmlyZWZveFwiLCBJRTpcIkludGVybmV0IEV4cGxvcmVyXCIsIE9QRVJBOlwiT3BlcmFcIiwgU0FGQVJJOlwiU2FmYXJpXCIsIFNJTEs6XCJTaWxrXCIsfTtcbmdvb2cubGFicy51c2VyQWdlbnQuYnJvd3Nlci5CcmFuZCA9IG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JGJyb3dzZXJfQnJhbmQ7XG5mdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRicm93c2VyX3VzZVVzZXJBZ2VudERhdGFCcmFuZChpZ25vcmVDbGllbnRIaW50c0ZsYWcpIHtcbiAgaWYgKCEodm9pZCAwICE9PSBpZ25vcmVDbGllbnRIaW50c0ZsYWcgJiYgaWdub3JlQ2xpZW50SGludHNGbGFnIHx8ICgwLGdvb2cubGFicy51c2VyQWdlbnQudXNlQ2xpZW50SGludHMpKCkpKSB7XG4gICAgcmV0dXJuICExO1xuICB9XG4gIHZhciB1c2VyQWdlbnREYXRhID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkdXRpbF9nZXRVc2VyQWdlbnREYXRhKCk7XG4gIHJldHVybiAhIXVzZXJBZ2VudERhdGEgJiYgMCA8IHVzZXJBZ2VudERhdGEuYnJhbmRzLmxlbmd0aDtcbn1cbmZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JGJyb3dzZXJfaGFzRnVsbFZlcnNpb25MaXN0KCkge1xuICByZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkYnJvd3Nlcl9pc0F0TGVhc3QobW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkYnJvd3Nlcl9CcmFuZC5DSFJPTUlVTSwgOTgpO1xufVxuZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkYnJvd3Nlcl9tYXRjaE9wZXJhKCkge1xuICByZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkYnJvd3Nlcl91c2VVc2VyQWdlbnREYXRhQnJhbmQoKSA/ICExIDogbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkdXRpbF9tYXRjaFVzZXJBZ2VudChcIk9wZXJhXCIpO1xufVxuZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkYnJvd3Nlcl9tYXRjaElFKCkge1xuICByZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkYnJvd3Nlcl91c2VVc2VyQWdlbnREYXRhQnJhbmQoKSA/ICExIDogbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkdXRpbF9tYXRjaFVzZXJBZ2VudChcIlRyaWRlbnRcIikgfHwgbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkdXRpbF9tYXRjaFVzZXJBZ2VudChcIk1TSUVcIik7XG59XG5mdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRicm93c2VyX21hdGNoRWRnZUh0bWwoKSB7XG4gIHJldHVybiBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRicm93c2VyX3VzZVVzZXJBZ2VudERhdGFCcmFuZCgpID8gITEgOiBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCR1dGlsX21hdGNoVXNlckFnZW50KFwiRWRnZVwiKTtcbn1cbmZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JGJyb3dzZXJfbWF0Y2hFZGdlQ2hyb21pdW0oKSB7XG4gIHJldHVybiBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRicm93c2VyX3VzZVVzZXJBZ2VudERhdGFCcmFuZCgpID8gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkdXRpbF9tYXRjaFVzZXJBZ2VudERhdGFCcmFuZChtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRicm93c2VyX0JyYW5kLkVER0UpIDogbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkdXRpbF9tYXRjaFVzZXJBZ2VudChcIkVkZy9cIik7XG59XG5mdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRicm93c2VyX21hdGNoT3BlcmFDaHJvbWl1bSgpIHtcbiAgcmV0dXJuIG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JGJyb3dzZXJfdXNlVXNlckFnZW50RGF0YUJyYW5kKCkgPyBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCR1dGlsX21hdGNoVXNlckFnZW50RGF0YUJyYW5kKG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JGJyb3dzZXJfQnJhbmQuT1BFUkEpIDogbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkdXRpbF9tYXRjaFVzZXJBZ2VudChcIk9QUlwiKTtcbn1cbmZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JGJyb3dzZXJfbWF0Y2hGaXJlZm94KCkge1xuICByZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkdXRpbF9tYXRjaFVzZXJBZ2VudChcIkZpcmVmb3hcIikgfHwgbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkdXRpbF9tYXRjaFVzZXJBZ2VudChcIkZ4aU9TXCIpO1xufVxuZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkYnJvd3Nlcl9tYXRjaFNhZmFyaSgpIHtcbiAgcmV0dXJuIG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JHV0aWxfbWF0Y2hVc2VyQWdlbnQoXCJTYWZhcmlcIikgJiYgIShtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRicm93c2VyX21hdGNoQ2hyb21lKCkgfHwgbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkYnJvd3Nlcl9tYXRjaENvYXN0KCkgfHwgbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkYnJvd3Nlcl9tYXRjaE9wZXJhKCkgfHwgbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkYnJvd3Nlcl9tYXRjaEVkZ2VIdG1sKCkgfHwgbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkYnJvd3Nlcl9tYXRjaEVkZ2VDaHJvbWl1bSgpIHx8IG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JGJyb3dzZXJfbWF0Y2hPcGVyYUNocm9taXVtKCkgfHwgbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkYnJvd3Nlcl9tYXRjaEZpcmVmb3goKSB8fCBcbiAgbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkYnJvd3Nlcl9pc1NpbGsoKSB8fCBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCR1dGlsX21hdGNoVXNlckFnZW50KFwiQW5kcm9pZFwiKSk7XG59XG5mdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRicm93c2VyX21hdGNoQ29hc3QoKSB7XG4gIHJldHVybiBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRicm93c2VyX3VzZVVzZXJBZ2VudERhdGFCcmFuZCgpID8gITEgOiBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCR1dGlsX21hdGNoVXNlckFnZW50KFwiQ29hc3RcIik7XG59XG5mdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRicm93c2VyX21hdGNoQ2hyb21lKCkge1xuICByZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkYnJvd3Nlcl91c2VVc2VyQWdlbnREYXRhQnJhbmQoKSA/IG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JHV0aWxfbWF0Y2hVc2VyQWdlbnREYXRhQnJhbmQobW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkYnJvd3Nlcl9CcmFuZC5DSFJPTUlVTSkgOiAobW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkdXRpbF9tYXRjaFVzZXJBZ2VudChcIkNocm9tZVwiKSB8fCBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCR1dGlsX21hdGNoVXNlckFnZW50KFwiQ3JpT1NcIikpICYmICFtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRicm93c2VyX21hdGNoRWRnZUh0bWwoKSB8fCBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRicm93c2VyX2lzU2lsaygpO1xufVxuZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkYnJvd3Nlcl9tYXRjaEFuZHJvaWRCcm93c2VyKCkge1xuICByZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkdXRpbF9tYXRjaFVzZXJBZ2VudChcIkFuZHJvaWRcIikgJiYgIShtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRicm93c2VyX21hdGNoQ2hyb21lKCkgfHwgbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkYnJvd3Nlcl9tYXRjaEZpcmVmb3goKSB8fCBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRicm93c2VyX21hdGNoT3BlcmEoKSB8fCBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRicm93c2VyX2lzU2lsaygpKTtcbn1cbnZhciBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRicm93c2VyX2lzT3BlcmEgPSBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRicm93c2VyX21hdGNoT3BlcmE7XG5nb29nLmxhYnMudXNlckFnZW50LmJyb3dzZXIuaXNPcGVyYSA9IG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JGJyb3dzZXJfbWF0Y2hPcGVyYTtcbnZhciBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRicm93c2VyX2lzSUUgPSBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRicm93c2VyX21hdGNoSUU7XG5nb29nLmxhYnMudXNlckFnZW50LmJyb3dzZXIuaXNJRSA9IG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JGJyb3dzZXJfbWF0Y2hJRTtcbnZhciBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRicm93c2VyX2lzRWRnZSA9IG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JGJyb3dzZXJfbWF0Y2hFZGdlSHRtbDtcbmdvb2cubGFicy51c2VyQWdlbnQuYnJvd3Nlci5pc0VkZ2UgPSBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRicm93c2VyX21hdGNoRWRnZUh0bWw7XG52YXIgbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkYnJvd3Nlcl9pc0VkZ2VDaHJvbWl1bSA9IG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JGJyb3dzZXJfbWF0Y2hFZGdlQ2hyb21pdW07XG5nb29nLmxhYnMudXNlckFnZW50LmJyb3dzZXIuaXNFZGdlQ2hyb21pdW0gPSBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRicm93c2VyX21hdGNoRWRnZUNocm9taXVtO1xudmFyIG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JGJyb3dzZXJfaXNPcGVyYUNocm9taXVtID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkYnJvd3Nlcl9tYXRjaE9wZXJhQ2hyb21pdW07XG5nb29nLmxhYnMudXNlckFnZW50LmJyb3dzZXIuaXNPcGVyYUNocm9taXVtID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkYnJvd3Nlcl9tYXRjaE9wZXJhQ2hyb21pdW07XG52YXIgbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkYnJvd3Nlcl9pc0ZpcmVmb3ggPSBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRicm93c2VyX21hdGNoRmlyZWZveDtcbmdvb2cubGFicy51c2VyQWdlbnQuYnJvd3Nlci5pc0ZpcmVmb3ggPSBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRicm93c2VyX21hdGNoRmlyZWZveDtcbnZhciBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRicm93c2VyX2lzU2FmYXJpID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkYnJvd3Nlcl9tYXRjaFNhZmFyaTtcbmdvb2cubGFicy51c2VyQWdlbnQuYnJvd3Nlci5pc1NhZmFyaSA9IG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JGJyb3dzZXJfbWF0Y2hTYWZhcmk7XG52YXIgbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkYnJvd3Nlcl9pc0NvYXN0ID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkYnJvd3Nlcl9tYXRjaENvYXN0O1xuZ29vZy5sYWJzLnVzZXJBZ2VudC5icm93c2VyLmlzQ29hc3QgPSBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRicm93c2VyX21hdGNoQ29hc3Q7XG5nb29nLmxhYnMudXNlckFnZW50LmJyb3dzZXIuaXNJb3NXZWJ2aWV3ID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkYnJvd3Nlcl9tYXRjaElvc1dlYnZpZXcoKSB7XG4gIHJldHVybiAobW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkdXRpbF9tYXRjaFVzZXJBZ2VudChcImlQYWRcIikgfHwgbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkdXRpbF9tYXRjaFVzZXJBZ2VudChcImlQaG9uZVwiKSkgJiYgIW1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JGJyb3dzZXJfbWF0Y2hTYWZhcmkoKSAmJiAhbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkYnJvd3Nlcl9tYXRjaENocm9tZSgpICYmICFtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRicm93c2VyX21hdGNoQ29hc3QoKSAmJiAhbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkYnJvd3Nlcl9tYXRjaEZpcmVmb3goKSAmJiBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCR1dGlsX21hdGNoVXNlckFnZW50KFwiQXBwbGVXZWJLaXRcIik7XG59O1xudmFyIG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JGJyb3dzZXJfaXNDaHJvbWUgPSBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRicm93c2VyX21hdGNoQ2hyb21lO1xuZ29vZy5sYWJzLnVzZXJBZ2VudC5icm93c2VyLmlzQ2hyb21lID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkYnJvd3Nlcl9tYXRjaENocm9tZTtcbnZhciBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRicm93c2VyX2lzQW5kcm9pZEJyb3dzZXIgPSBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRicm93c2VyX21hdGNoQW5kcm9pZEJyb3dzZXI7XG5nb29nLmxhYnMudXNlckFnZW50LmJyb3dzZXIuaXNBbmRyb2lkQnJvd3NlciA9IG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JGJyb3dzZXJfbWF0Y2hBbmRyb2lkQnJvd3NlcjtcbmZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JGJyb3dzZXJfaXNTaWxrKCkge1xuICByZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkdXRpbF9tYXRjaFVzZXJBZ2VudChcIlNpbGtcIik7XG59XG5nb29nLmxhYnMudXNlckFnZW50LmJyb3dzZXIuaXNTaWxrID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkYnJvd3Nlcl9pc1NpbGs7XG5mdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRicm93c2VyX2NyZWF0ZVZlcnNpb25NYXAodmVyc2lvblR1cGxlcykge1xuICB2YXIgdmVyc2lvbk1hcCA9IHt9O1xuICB2ZXJzaW9uVHVwbGVzLmZvckVhY2goZnVuY3Rpb24odHVwbGUpIHtcbiAgICB2ZXJzaW9uTWFwW3R1cGxlWzBdXSA9IHR1cGxlWzFdO1xuICB9KTtcbiAgcmV0dXJuIGZ1bmN0aW9uKGtleXMpIHtcbiAgICByZXR1cm4gdmVyc2lvbk1hcFtrZXlzLmZpbmQoZnVuY3Rpb24oa2V5KSB7XG4gICAgICByZXR1cm4ga2V5IGluIHZlcnNpb25NYXA7XG4gICAgfSldIHx8IFwiXCI7XG4gIH07XG59XG5mdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRicm93c2VyX2dldFZlcnNpb24oKSB7XG4gIHZhciB1c2VyQWdlbnRTdHJpbmcgPSBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCR1dGlsX2dldFVzZXJBZ2VudCgpO1xuICBpZiAobW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkYnJvd3Nlcl9tYXRjaElFKCkpIHtcbiAgICByZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkYnJvd3Nlcl9nZXRJRVZlcnNpb24odXNlckFnZW50U3RyaW5nKTtcbiAgfVxuICB2YXIgdmVyc2lvblR1cGxlcyA9IG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JHV0aWxfZXh0cmFjdFZlcnNpb25UdXBsZXModXNlckFnZW50U3RyaW5nKSwgbG9va1VwVmFsdWVXaXRoS2V5cyA9IG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JGJyb3dzZXJfY3JlYXRlVmVyc2lvbk1hcCh2ZXJzaW9uVHVwbGVzKTtcbiAgaWYgKG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JGJyb3dzZXJfbWF0Y2hPcGVyYSgpKSB7XG4gICAgcmV0dXJuIGxvb2tVcFZhbHVlV2l0aEtleXMoW1wiVmVyc2lvblwiLCBcIk9wZXJhXCJdKTtcbiAgfVxuICBpZiAobW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkYnJvd3Nlcl9tYXRjaEVkZ2VIdG1sKCkpIHtcbiAgICByZXR1cm4gbG9va1VwVmFsdWVXaXRoS2V5cyhbXCJFZGdlXCJdKTtcbiAgfVxuICBpZiAobW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkYnJvd3Nlcl9tYXRjaEVkZ2VDaHJvbWl1bSgpKSB7XG4gICAgcmV0dXJuIGxvb2tVcFZhbHVlV2l0aEtleXMoW1wiRWRnXCJdKTtcbiAgfVxuICBpZiAobW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkYnJvd3Nlcl9pc1NpbGsoKSkge1xuICAgIHJldHVybiBsb29rVXBWYWx1ZVdpdGhLZXlzKFtcIlNpbGtcIl0pO1xuICB9XG4gIGlmIChtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRicm93c2VyX21hdGNoQ2hyb21lKCkpIHtcbiAgICByZXR1cm4gbG9va1VwVmFsdWVXaXRoS2V5cyhbXCJDaHJvbWVcIiwgXCJDcmlPU1wiLCBcIkhlYWRsZXNzQ2hyb21lXCJdKTtcbiAgfVxuICB2YXIgdHVwbGUgPSB2ZXJzaW9uVHVwbGVzWzJdO1xuICByZXR1cm4gdHVwbGUgJiYgdHVwbGVbMV0gfHwgXCJcIjtcbn1cbmdvb2cubGFicy51c2VyQWdlbnQuYnJvd3Nlci5nZXRWZXJzaW9uID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkYnJvd3Nlcl9nZXRWZXJzaW9uO1xuZ29vZy5sYWJzLnVzZXJBZ2VudC5icm93c2VyLmlzVmVyc2lvbk9ySGlnaGVyID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkYnJvd3Nlcl9pc1ZlcnNpb25PckhpZ2hlcih2ZXJzaW9uKSB7XG4gIHJldHVybiAwIDw9ICgwLGdvb2cuc3RyaW5nLmludGVybmFsLmNvbXBhcmVWZXJzaW9ucykobW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkYnJvd3Nlcl9nZXRWZXJzaW9uKCksIHZlcnNpb24pO1xufTtcbmZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JGJyb3dzZXJfZ2V0SUVWZXJzaW9uKHVzZXJBZ2VudCkge1xuICB2YXIgcnYgPSAvcnY6ICooW1xcZFxcLl0qKS8uZXhlYyh1c2VyQWdlbnQpO1xuICBpZiAocnYgJiYgcnZbMV0pIHtcbiAgICByZXR1cm4gcnZbMV07XG4gIH1cbiAgdmFyIHZlcnNpb24gPSBcIlwiLCBtc2llID0gL01TSUUgKyhbXFxkXFwuXSspLy5leGVjKHVzZXJBZ2VudCk7XG4gIGlmIChtc2llICYmIG1zaWVbMV0pIHtcbiAgICB2YXIgdHJpZGVudFZlcnNpb24gPSAvVHJpZGVudFxcLyhcXGQuXFxkKS8uZXhlYyh1c2VyQWdlbnQpO1xuICAgIGlmIChcIjcuMFwiID09IG1zaWVbMV0pIHtcbiAgICAgIGlmICh0cmlkZW50VmVyc2lvbiAmJiB0cmlkZW50VmVyc2lvblsxXSkge1xuICAgICAgICBzd2l0Y2godHJpZGVudFZlcnNpb25bMV0pIHtcbiAgICAgICAgICBjYXNlIFwiNC4wXCI6XG4gICAgICAgICAgICB2ZXJzaW9uID0gXCI4LjBcIjtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgXCI1LjBcIjpcbiAgICAgICAgICAgIHZlcnNpb24gPSBcIjkuMFwiO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBcIjYuMFwiOlxuICAgICAgICAgICAgdmVyc2lvbiA9IFwiMTAuMFwiO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBcIjcuMFwiOlxuICAgICAgICAgICAgdmVyc2lvbiA9IFwiMTEuMFwiO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2ZXJzaW9uID0gXCI3LjBcIjtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdmVyc2lvbiA9IG1zaWVbMV07XG4gICAgfVxuICB9XG4gIHJldHVybiB2ZXJzaW9uO1xufVxuZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkYnJvd3Nlcl9nZXRGdWxsVmVyc2lvbkZyb21Vc2VyQWdlbnRTdHJpbmcoYnJvd3Nlcikge1xuICB2YXIgdXNlckFnZW50U3RyaW5nID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkdXRpbF9nZXRVc2VyQWdlbnQoKTtcbiAgaWYgKGJyb3dzZXIgPT09IG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JGJyb3dzZXJfQnJhbmQuSUUpIHtcbiAgICByZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkYnJvd3Nlcl9tYXRjaElFKCkgPyBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRicm93c2VyX2dldElFVmVyc2lvbih1c2VyQWdlbnRTdHJpbmcpIDogXCJcIjtcbiAgfVxuICB2YXIgdmVyc2lvblR1cGxlcyA9IG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JHV0aWxfZXh0cmFjdFZlcnNpb25UdXBsZXModXNlckFnZW50U3RyaW5nKSwgbG9va1VwVmFsdWVXaXRoS2V5cyA9IG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JGJyb3dzZXJfY3JlYXRlVmVyc2lvbk1hcCh2ZXJzaW9uVHVwbGVzKTtcbiAgc3dpdGNoKGJyb3dzZXIpIHtcbiAgICBjYXNlIG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JGJyb3dzZXJfQnJhbmQuT1BFUkE6XG4gICAgICBpZiAobW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkYnJvd3Nlcl9tYXRjaE9wZXJhKCkpIHtcbiAgICAgICAgcmV0dXJuIGxvb2tVcFZhbHVlV2l0aEtleXMoW1wiVmVyc2lvblwiLCBcIk9wZXJhXCJdKTtcbiAgICAgIH1cbiAgICAgIGlmIChtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRicm93c2VyX21hdGNoT3BlcmFDaHJvbWl1bSgpKSB7XG4gICAgICAgIHJldHVybiBsb29rVXBWYWx1ZVdpdGhLZXlzKFtcIk9QUlwiXSk7XG4gICAgICB9XG4gICAgICBicmVhaztcbiAgICBjYXNlIG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JGJyb3dzZXJfQnJhbmQuRURHRTpcbiAgICAgIGlmIChtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRicm93c2VyX21hdGNoRWRnZUh0bWwoKSkge1xuICAgICAgICByZXR1cm4gbG9va1VwVmFsdWVXaXRoS2V5cyhbXCJFZGdlXCJdKTtcbiAgICAgIH1cbiAgICAgIGlmIChtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRicm93c2VyX21hdGNoRWRnZUNocm9taXVtKCkpIHtcbiAgICAgICAgcmV0dXJuIGxvb2tVcFZhbHVlV2l0aEtleXMoW1wiRWRnXCJdKTtcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkYnJvd3Nlcl9CcmFuZC5DSFJPTUlVTTpcbiAgICAgIGlmIChtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRicm93c2VyX21hdGNoQ2hyb21lKCkpIHtcbiAgICAgICAgcmV0dXJuIGxvb2tVcFZhbHVlV2l0aEtleXMoW1wiQ2hyb21lXCIsIFwiQ3JpT1NcIiwgXCJIZWFkbGVzc0Nocm9tZVwiXSk7XG4gICAgICB9XG4gIH1cbiAgaWYgKGJyb3dzZXIgPT09IG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JGJyb3dzZXJfQnJhbmQuRklSRUZPWCAmJiBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRicm93c2VyX21hdGNoRmlyZWZveCgpIHx8IGJyb3dzZXIgPT09IG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JGJyb3dzZXJfQnJhbmQuU0FGQVJJICYmIG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JGJyb3dzZXJfbWF0Y2hTYWZhcmkoKSB8fCBicm93c2VyID09PSBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRicm93c2VyX0JyYW5kLkFORFJPSURfQlJPV1NFUiAmJiBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRicm93c2VyX21hdGNoQW5kcm9pZEJyb3dzZXIoKSB8fCBicm93c2VyID09PSBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRicm93c2VyX0JyYW5kLlNJTEsgJiYgbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkYnJvd3Nlcl9pc1NpbGsoKSkge1xuICAgIHZhciB0dXBsZSA9IHZlcnNpb25UdXBsZXNbMl07XG4gICAgcmV0dXJuIHR1cGxlICYmIHR1cGxlWzFdIHx8IFwiXCI7XG4gIH1cbiAgcmV0dXJuIFwiXCI7XG59XG5mdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRicm93c2VyX3ZlcnNpb25PZl8oYnJvd3Nlcikge1xuICBpZiAobW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkYnJvd3Nlcl91c2VVc2VyQWdlbnREYXRhQnJhbmQoKSAmJiBicm93c2VyICE9PSBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRicm93c2VyX0JyYW5kLlNJTEspIHtcbiAgICB2YXIgbWF0Y2hpbmdCcmFuZCA9IG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JHV0aWxfZ2V0VXNlckFnZW50RGF0YSgpLmJyYW5kcy5maW5kKGZ1bmN0aW9uKCRqc2NvbXAkZGVzdHJ1Y3R1cmluZyR2YXIyKSB7XG4gICAgICByZXR1cm4gJGpzY29tcCRkZXN0cnVjdHVyaW5nJHZhcjIuYnJhbmQgPT09IGJyb3dzZXI7XG4gICAgfSk7XG4gICAgaWYgKCFtYXRjaGluZ0JyYW5kIHx8ICFtYXRjaGluZ0JyYW5kLnZlcnNpb24pIHtcbiAgICAgIHJldHVybiBOYU47XG4gICAgfVxuICAgIHZhciB2ZXJzaW9uUGFydHMgPSBtYXRjaGluZ0JyYW5kLnZlcnNpb24uc3BsaXQoXCIuXCIpO1xuICB9IGVsc2Uge1xuICAgIHZhciBmdWxsVmVyc2lvbiA9IG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JGJyb3dzZXJfZ2V0RnVsbFZlcnNpb25Gcm9tVXNlckFnZW50U3RyaW5nKGJyb3dzZXIpO1xuICAgIGlmIChcIlwiID09PSBmdWxsVmVyc2lvbikge1xuICAgICAgcmV0dXJuIE5hTjtcbiAgICB9XG4gICAgdmVyc2lvblBhcnRzID0gZnVsbFZlcnNpb24uc3BsaXQoXCIuXCIpO1xuICB9XG4gIHJldHVybiAwID09PSB2ZXJzaW9uUGFydHMubGVuZ3RoID8gTmFOIDogTnVtYmVyKHZlcnNpb25QYXJ0c1swXSk7XG59XG5mdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRicm93c2VyX2lzQXRMZWFzdChicmFuZCwgbWFqb3JWZXJzaW9uKSB7XG4gICgwLGdvb2cuYXNzZXJ0cy5hc3NlcnQpKE1hdGguZmxvb3IobWFqb3JWZXJzaW9uKSA9PT0gbWFqb3JWZXJzaW9uLCBcIk1ham9yIHZlcnNpb24gbXVzdCBiZSBhbiBpbnRlZ2VyXCIpO1xuICByZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkYnJvd3Nlcl92ZXJzaW9uT2ZfKGJyYW5kKSA+PSBtYWpvclZlcnNpb247XG59XG5nb29nLmxhYnMudXNlckFnZW50LmJyb3dzZXIuaXNBdExlYXN0ID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkYnJvd3Nlcl9pc0F0TGVhc3Q7XG5nb29nLmxhYnMudXNlckFnZW50LmJyb3dzZXIuaXNBdE1vc3QgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRicm93c2VyX2lzQXRNb3N0KGJyYW5kLCBtYWpvclZlcnNpb24pIHtcbiAgKDAsZ29vZy5hc3NlcnRzLmFzc2VydCkoTWF0aC5mbG9vcihtYWpvclZlcnNpb24pID09PSBtYWpvclZlcnNpb24sIFwiTWFqb3IgdmVyc2lvbiBtdXN0IGJlIGFuIGludGVnZXJcIik7XG4gIHJldHVybiBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRicm93c2VyX3ZlcnNpb25PZl8oYnJhbmQpIDw9IG1ham9yVmVyc2lvbjtcbn07XG52YXIgbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkYnJvd3Nlcl9IaWdoRW50cm9weUJyYW5kVmVyc2lvbiA9IGZ1bmN0aW9uKGJyYW5kLCB1c2VVYWNoLCBmYWxsYmFja1ZlcnNpb24pIHtcbiAgdGhpcy5icmFuZF8gPSBicmFuZDtcbiAgdGhpcy52ZXJzaW9uXyA9IG5ldyBtb2R1bGUkZXhwb3J0cyRnb29nJGxhYnMkdXNlckFnZW50JGhpZ2hFbnRyb3B5JGhpZ2hFbnRyb3B5VmFsdWUuVmVyc2lvbihmYWxsYmFja1ZlcnNpb24pO1xuICB0aGlzLnVzZVVhY2hfID0gdXNlVWFjaDtcbn07XG5tb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRicm93c2VyX0hpZ2hFbnRyb3B5QnJhbmRWZXJzaW9uLnByb3RvdHlwZS5nZXRJZkxvYWRlZCA9IGZ1bmN0aW9uKCkge1xuICB2YXIgJGpzY29tcCR0aGlzID0gdGhpcztcbiAgaWYgKHRoaXMudXNlVWFjaF8pIHtcbiAgICB2YXIgbG9hZGVkVmVyc2lvbkxpc3QgPSBtb2R1bGUkZXhwb3J0cyRnb29nJGxhYnMkdXNlckFnZW50JGhpZ2hFbnRyb3B5JGhpZ2hFbnRyb3B5RGF0YS5mdWxsVmVyc2lvbkxpc3QuZ2V0SWZMb2FkZWQoKTtcbiAgICBpZiAodm9pZCAwICE9PSBsb2FkZWRWZXJzaW9uTGlzdCkge1xuICAgICAgdmFyIG1hdGNoaW5nQnJhbmQgPSBsb2FkZWRWZXJzaW9uTGlzdC5maW5kKGZ1bmN0aW9uKCRqc2NvbXAkZGVzdHJ1Y3R1cmluZyR2YXI0KSB7XG4gICAgICAgIHJldHVybiAkanNjb21wJHRoaXMuYnJhbmRfID09PSAkanNjb21wJGRlc3RydWN0dXJpbmckdmFyNC5icmFuZDtcbiAgICAgIH0pO1xuICAgICAgKDAsZ29vZy5hc3NlcnRzLmFzc2VydEV4aXN0cykobWF0Y2hpbmdCcmFuZCk7XG4gICAgICByZXR1cm4gbmV3IG1vZHVsZSRleHBvcnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkaGlnaEVudHJvcHkkaGlnaEVudHJvcHlWYWx1ZS5WZXJzaW9uKG1hdGNoaW5nQnJhbmQudmVyc2lvbik7XG4gICAgfVxuICB9XG4gIGlmIChtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRicm93c2VyX3ByZVVhY2hIYXNMb2FkZWQpIHtcbiAgICByZXR1cm4gdGhpcy52ZXJzaW9uXztcbiAgfVxufTtcbm1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JGJyb3dzZXJfSGlnaEVudHJvcHlCcmFuZFZlcnNpb24ucHJvdG90eXBlLmxvYWQgPSBmdW5jdGlvbigpIHtcbiAgdmFyICRqc2NvbXAkYXN5bmMkdGhpcyA9IHRoaXMsIGxvYWRlZFZlcnNpb25MaXN0LCBtYXRjaGluZ0JyYW5kO1xuICByZXR1cm4gJGpzY29tcC5hc3luY0V4ZWN1dGVQcm9taXNlR2VuZXJhdG9yUHJvZ3JhbShmdW5jdGlvbigkanNjb21wJGdlbmVyYXRvciRjb250ZXh0KSB7XG4gICAgaWYgKDEgPT0gJGpzY29tcCRnZW5lcmF0b3IkY29udGV4dC5uZXh0QWRkcmVzcykge1xuICAgICAgcmV0dXJuICRqc2NvbXAkYXN5bmMkdGhpcy51c2VVYWNoXyA/ICRqc2NvbXAkZ2VuZXJhdG9yJGNvbnRleHQueWllbGQobW9kdWxlJGV4cG9ydHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRoaWdoRW50cm9weSRoaWdoRW50cm9weURhdGEuZnVsbFZlcnNpb25MaXN0LmxvYWQoKSwgNSkgOiAkanNjb21wJGdlbmVyYXRvciRjb250ZXh0LnlpZWxkKDAsIDMpO1xuICAgIH1cbiAgICBpZiAoMyAhPSAkanNjb21wJGdlbmVyYXRvciRjb250ZXh0Lm5leHRBZGRyZXNzICYmIChsb2FkZWRWZXJzaW9uTGlzdCA9ICRqc2NvbXAkZ2VuZXJhdG9yJGNvbnRleHQueWllbGRSZXN1bHQsIHZvaWQgMCAhPT0gbG9hZGVkVmVyc2lvbkxpc3QpKSB7XG4gICAgICByZXR1cm4gbWF0Y2hpbmdCcmFuZCA9IGxvYWRlZFZlcnNpb25MaXN0LmZpbmQoZnVuY3Rpb24oJGpzY29tcCRkZXN0cnVjdHVyaW5nJHZhcjYpIHtcbiAgICAgICAgcmV0dXJuICRqc2NvbXAkYXN5bmMkdGhpcy5icmFuZF8gPT09ICRqc2NvbXAkZGVzdHJ1Y3R1cmluZyR2YXI2LmJyYW5kO1xuICAgICAgfSksICgwLGdvb2cuYXNzZXJ0cy5hc3NlcnRFeGlzdHMpKG1hdGNoaW5nQnJhbmQpLCAkanNjb21wJGdlbmVyYXRvciRjb250ZXh0LnJldHVybihuZXcgbW9kdWxlJGV4cG9ydHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRoaWdoRW50cm9weSRoaWdoRW50cm9weVZhbHVlLlZlcnNpb24obWF0Y2hpbmdCcmFuZC52ZXJzaW9uKSk7XG4gICAgfVxuICAgIG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JGJyb3dzZXJfcHJlVWFjaEhhc0xvYWRlZCA9ICEwO1xuICAgIHJldHVybiAkanNjb21wJGdlbmVyYXRvciRjb250ZXh0LnJldHVybigkanNjb21wJGFzeW5jJHRoaXMudmVyc2lvbl8pO1xuICB9KTtcbn07XG52YXIgbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkYnJvd3Nlcl9wcmVVYWNoSGFzTG9hZGVkID0gITE7XG5nb29nLmxhYnMudXNlckFnZW50LmJyb3dzZXIubG9hZEZ1bGxWZXJzaW9ucyA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JGJyb3dzZXJfbG9hZEZ1bGxWZXJzaW9ucygpIHtcbiAgcmV0dXJuICRqc2NvbXAuYXN5bmNFeGVjdXRlUHJvbWlzZUdlbmVyYXRvclByb2dyYW0oZnVuY3Rpb24oJGpzY29tcCRnZW5lcmF0b3IkY29udGV4dCkge1xuICAgIGlmICgxID09ICRqc2NvbXAkZ2VuZXJhdG9yJGNvbnRleHQubmV4dEFkZHJlc3MpIHtcbiAgICAgIHJldHVybiBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRicm93c2VyX3VzZVVzZXJBZ2VudERhdGFCcmFuZCghMCkgPyAkanNjb21wJGdlbmVyYXRvciRjb250ZXh0LnlpZWxkKG1vZHVsZSRleHBvcnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkaGlnaEVudHJvcHkkaGlnaEVudHJvcHlEYXRhLmZ1bGxWZXJzaW9uTGlzdC5sb2FkKCksIDIpIDogJGpzY29tcCRnZW5lcmF0b3IkY29udGV4dC5qdW1wVG8oMik7XG4gICAgfVxuICAgIG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JGJyb3dzZXJfcHJlVWFjaEhhc0xvYWRlZCA9ICEwO1xuICAgICRqc2NvbXAkZ2VuZXJhdG9yJGNvbnRleHQuanVtcFRvRW5kKCk7XG4gIH0pO1xufTtcbmdvb2cubGFicy51c2VyQWdlbnQuYnJvd3Nlci5yZXNldEZvclRlc3RpbmcgPSBmdW5jdGlvbigpIHtcbiAgbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkYnJvd3Nlcl9wcmVVYWNoSGFzTG9hZGVkID0gITE7XG4gIG1vZHVsZSRleHBvcnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkaGlnaEVudHJvcHkkaGlnaEVudHJvcHlEYXRhLmZ1bGxWZXJzaW9uTGlzdC5yZXNldEZvclRlc3RpbmcoKTtcbn07XG5mdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRicm93c2VyX2Z1bGxWZXJzaW9uT2YoYnJvd3Nlcikge1xuICB2YXIgZmFsbGJhY2tWZXJzaW9uU3RyaW5nID0gXCJcIjtcbiAgbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkYnJvd3Nlcl9oYXNGdWxsVmVyc2lvbkxpc3QoKSB8fCAoZmFsbGJhY2tWZXJzaW9uU3RyaW5nID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkYnJvd3Nlcl9nZXRGdWxsVmVyc2lvbkZyb21Vc2VyQWdlbnRTdHJpbmcoYnJvd3NlcikpO1xuICB2YXIgdXNlVWFjaCA9IGJyb3dzZXIgIT09IG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JGJyb3dzZXJfQnJhbmQuU0lMSyAmJiBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRicm93c2VyX3VzZVVzZXJBZ2VudERhdGFCcmFuZCghMCk7XG4gIGlmICh1c2VVYWNoKSB7XG4gICAgaWYgKCFtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCR1dGlsX2dldFVzZXJBZ2VudERhdGEoKS5icmFuZHMuZmluZChmdW5jdGlvbigkanNjb21wJGRlc3RydWN0dXJpbmckdmFyOCkge1xuICAgICAgcmV0dXJuICRqc2NvbXAkZGVzdHJ1Y3R1cmluZyR2YXI4LmJyYW5kID09PSBicm93c2VyO1xuICAgIH0pKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICB9IGVsc2UgaWYgKFwiXCIgPT09IGZhbGxiYWNrVmVyc2lvblN0cmluZykge1xuICAgIHJldHVybjtcbiAgfVxuICByZXR1cm4gbmV3IG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JGJyb3dzZXJfSGlnaEVudHJvcHlCcmFuZFZlcnNpb24oYnJvd3NlciwgdXNlVWFjaCwgZmFsbGJhY2tWZXJzaW9uU3RyaW5nKTtcbn1cbmdvb2cubGFicy51c2VyQWdlbnQuYnJvd3Nlci5mdWxsVmVyc2lvbk9mID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkYnJvd3Nlcl9mdWxsVmVyc2lvbk9mO1xuZ29vZy5sYWJzLnVzZXJBZ2VudC5icm93c2VyLmdldFZlcnNpb25TdHJpbmdGb3JMb2dnaW5nID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkYnJvd3Nlcl9nZXRWZXJzaW9uU3RyaW5nRm9yTG9nZ2luZyhicm93c2VyKSB7XG4gIGlmIChtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRicm93c2VyX3VzZVVzZXJBZ2VudERhdGFCcmFuZCghMCkpIHtcbiAgICB2YXIgZnVsbFZlcnNpb25PYmogPSBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRicm93c2VyX2Z1bGxWZXJzaW9uT2YoYnJvd3Nlcik7XG4gICAgaWYgKGZ1bGxWZXJzaW9uT2JqKSB7XG4gICAgICB2YXIgZnVsbFZlcnNpb24gPSBmdWxsVmVyc2lvbk9iai5nZXRJZkxvYWRlZCgpO1xuICAgICAgaWYgKGZ1bGxWZXJzaW9uKSB7XG4gICAgICAgIHJldHVybiBmdWxsVmVyc2lvbi50b1ZlcnNpb25TdHJpbmdGb3JMb2dnaW5nKCk7XG4gICAgICB9XG4gICAgICB2YXIgbWF0Y2hpbmdCcmFuZCA9IG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JHV0aWxfZ2V0VXNlckFnZW50RGF0YSgpLmJyYW5kcy5maW5kKGZ1bmN0aW9uKCRqc2NvbXAkZGVzdHJ1Y3R1cmluZyR2YXIxMCkge1xuICAgICAgICByZXR1cm4gJGpzY29tcCRkZXN0cnVjdHVyaW5nJHZhcjEwLmJyYW5kID09PSBicm93c2VyO1xuICAgICAgfSk7XG4gICAgICAoMCxnb29nLmFzc2VydHMuYXNzZXJ0RXhpc3RzKShtYXRjaGluZ0JyYW5kKTtcbiAgICAgIHJldHVybiBtYXRjaGluZ0JyYW5kLnZlcnNpb247XG4gICAgfVxuICAgIHJldHVybiBcIlwiO1xuICB9XG4gIHJldHVybiBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRicm93c2VyX2dldEZ1bGxWZXJzaW9uRnJvbVVzZXJBZ2VudFN0cmluZyhicm93c2VyKTtcbn07XG5nb29nLmxhYnMudXNlckFnZW50LmVuZ2luZSA9IHt9O1xuZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkZW5naW5lX2lzUHJlc3RvKCkge1xuICByZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkdXRpbF9tYXRjaFVzZXJBZ2VudChcIlByZXN0b1wiKTtcbn1cbmZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JGVuZ2luZV9pc1RyaWRlbnQoKSB7XG4gIHJldHVybiBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCR1dGlsX21hdGNoVXNlckFnZW50KFwiVHJpZGVudFwiKSB8fCBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCR1dGlsX21hdGNoVXNlckFnZW50KFwiTVNJRVwiKTtcbn1cbmZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JGVuZ2luZV9pc0VkZ2UoKSB7XG4gIHJldHVybiBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCR1dGlsX21hdGNoVXNlckFnZW50KFwiRWRnZVwiKTtcbn1cbmZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JGVuZ2luZV9pc1dlYktpdCgpIHtcbiAgcmV0dXJuIG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JHV0aWxfbWF0Y2hVc2VyQWdlbnRJZ25vcmVDYXNlKFwiV2ViS2l0XCIpICYmICFtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRlbmdpbmVfaXNFZGdlKCk7XG59XG5mdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRlbmdpbmVfaXNHZWNrbygpIHtcbiAgcmV0dXJuIG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JHV0aWxfbWF0Y2hVc2VyQWdlbnQoXCJHZWNrb1wiKSAmJiAhbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkZW5naW5lX2lzV2ViS2l0KCkgJiYgIW1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JGVuZ2luZV9pc1RyaWRlbnQoKSAmJiAhbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkZW5naW5lX2lzRWRnZSgpO1xufVxuZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkZW5naW5lX2dldFZlcnNpb24oKSB7XG4gIHZhciB1c2VyQWdlbnRTdHJpbmcgPSBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCR1dGlsX2dldFVzZXJBZ2VudCgpO1xuICBpZiAodXNlckFnZW50U3RyaW5nKSB7XG4gICAgdmFyIHR1cGxlcyA9IG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JHV0aWxfZXh0cmFjdFZlcnNpb25UdXBsZXModXNlckFnZW50U3RyaW5nKSwgZW5naW5lVHVwbGUgPSBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRlbmdpbmVfZ2V0RW5naW5lVHVwbGUodHVwbGVzKTtcbiAgICBpZiAoZW5naW5lVHVwbGUpIHtcbiAgICAgIHJldHVybiBcIkdlY2tvXCIgPT0gZW5naW5lVHVwbGVbMF0gPyBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRlbmdpbmVfZ2V0VmVyc2lvbkZvcktleSh0dXBsZXMsIFwiRmlyZWZveFwiKSA6IGVuZ2luZVR1cGxlWzFdO1xuICAgIH1cbiAgICB2YXIgYnJvd3NlclR1cGxlID0gdHVwbGVzWzBdLCBpbmZvO1xuICAgIGlmIChicm93c2VyVHVwbGUgJiYgKGluZm8gPSBicm93c2VyVHVwbGVbMl0pKSB7XG4gICAgICB2YXIgbWF0Y2ggPSAvVHJpZGVudFxcLyhbXlxccztdKykvLmV4ZWMoaW5mbyk7XG4gICAgICBpZiAobWF0Y2gpIHtcbiAgICAgICAgcmV0dXJuIG1hdGNoWzFdO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gXCJcIjtcbn1cbmZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JGVuZ2luZV9nZXRFbmdpbmVUdXBsZSh0dXBsZXMpIHtcbiAgaWYgKCFtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRlbmdpbmVfaXNFZGdlKCkpIHtcbiAgICByZXR1cm4gdHVwbGVzWzFdO1xuICB9XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgdHVwbGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIHR1cGxlID0gdHVwbGVzW2ldO1xuICAgIGlmIChcIkVkZ2VcIiA9PSB0dXBsZVswXSkge1xuICAgICAgcmV0dXJuIHR1cGxlO1xuICAgIH1cbiAgfVxufVxuZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkZW5naW5lX2dldFZlcnNpb25Gb3JLZXkodHVwbGVzLCBrZXkpIHtcbiAgdmFyIHBhaXIgPSBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9maW5kKHR1cGxlcywgZnVuY3Rpb24ocGFpcikge1xuICAgIHJldHVybiBrZXkgPT0gcGFpclswXTtcbiAgfSk7XG4gIHJldHVybiBwYWlyICYmIHBhaXJbMV0gfHwgXCJcIjtcbn1cbmdvb2cubGFicy51c2VyQWdlbnQuZW5naW5lLmdldFZlcnNpb24gPSBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRlbmdpbmVfZ2V0VmVyc2lvbjtcbmdvb2cubGFicy51c2VyQWdlbnQuZW5naW5lLmlzRWRnZSA9IG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JGVuZ2luZV9pc0VkZ2U7XG5nb29nLmxhYnMudXNlckFnZW50LmVuZ2luZS5pc0dlY2tvID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkZW5naW5lX2lzR2Vja287XG5nb29nLmxhYnMudXNlckFnZW50LmVuZ2luZS5pc1ByZXN0byA9IG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JGVuZ2luZV9pc1ByZXN0bztcbmdvb2cubGFicy51c2VyQWdlbnQuZW5naW5lLmlzVHJpZGVudCA9IG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JGVuZ2luZV9pc1RyaWRlbnQ7XG5nb29nLmxhYnMudXNlckFnZW50LmVuZ2luZS5pc1ZlcnNpb25PckhpZ2hlciA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JGVuZ2luZV9pc1ZlcnNpb25PckhpZ2hlcih2ZXJzaW9uKSB7XG4gIHJldHVybiAwIDw9IGdvb2cuc3RyaW5nLmludGVybmFsLmNvbXBhcmVWZXJzaW9ucyhtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRlbmdpbmVfZ2V0VmVyc2lvbigpLCB2ZXJzaW9uKTtcbn07XG5nb29nLmxhYnMudXNlckFnZW50LmVuZ2luZS5pc1dlYktpdCA9IG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JGVuZ2luZV9pc1dlYktpdDtcbmdvb2cubGFicy51c2VyQWdlbnQucGxhdGZvcm0gPSB7fTtcbmZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JHBsYXRmb3JtX3VzZVVzZXJBZ2VudERhdGFQbGF0Zm9ybShpZ25vcmVDbGllbnRIaW50c0ZsYWcpIHtcbiAgaWYgKCEodm9pZCAwICE9PSBpZ25vcmVDbGllbnRIaW50c0ZsYWcgJiYgaWdub3JlQ2xpZW50SGludHNGbGFnIHx8ICgwLGdvb2cubGFicy51c2VyQWdlbnQudXNlQ2xpZW50SGludHMpKCkpKSB7XG4gICAgcmV0dXJuICExO1xuICB9XG4gIHZhciB1c2VyQWdlbnREYXRhID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkdXRpbF9nZXRVc2VyQWdlbnREYXRhKCk7XG4gIHJldHVybiAhIXVzZXJBZ2VudERhdGEgJiYgISF1c2VyQWdlbnREYXRhLnBsYXRmb3JtO1xufVxuZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkcGxhdGZvcm1faXNBbmRyb2lkKCkge1xuICByZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkcGxhdGZvcm1fdXNlVXNlckFnZW50RGF0YVBsYXRmb3JtKCkgPyBcIkFuZHJvaWRcIiA9PT0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkdXRpbF9nZXRVc2VyQWdlbnREYXRhKCkucGxhdGZvcm0gOiBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCR1dGlsX21hdGNoVXNlckFnZW50KFwiQW5kcm9pZFwiKTtcbn1cbmZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JHBsYXRmb3JtX2lzSXBvZCgpIHtcbiAgcmV0dXJuIG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JHV0aWxfbWF0Y2hVc2VyQWdlbnQoXCJpUG9kXCIpO1xufVxuZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkcGxhdGZvcm1faXNJcGhvbmUoKSB7XG4gIHJldHVybiBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCR1dGlsX21hdGNoVXNlckFnZW50KFwiaVBob25lXCIpICYmICFtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCR1dGlsX21hdGNoVXNlckFnZW50KFwiaVBvZFwiKSAmJiAhbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkdXRpbF9tYXRjaFVzZXJBZ2VudChcImlQYWRcIik7XG59XG5mdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRwbGF0Zm9ybV9pc0lwYWQoKSB7XG4gIHJldHVybiBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCR1dGlsX21hdGNoVXNlckFnZW50KFwiaVBhZFwiKTtcbn1cbmZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JHBsYXRmb3JtX2lzSW9zKCkge1xuICByZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkcGxhdGZvcm1faXNJcGhvbmUoKSB8fCBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRwbGF0Zm9ybV9pc0lwYWQoKSB8fCBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRwbGF0Zm9ybV9pc0lwb2QoKTtcbn1cbmZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JHBsYXRmb3JtX2lzTWFjaW50b3NoKCkge1xuICByZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkcGxhdGZvcm1fdXNlVXNlckFnZW50RGF0YVBsYXRmb3JtKCkgPyBcIm1hY09TXCIgPT09IG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JHV0aWxfZ2V0VXNlckFnZW50RGF0YSgpLnBsYXRmb3JtIDogbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkdXRpbF9tYXRjaFVzZXJBZ2VudChcIk1hY2ludG9zaFwiKTtcbn1cbmZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JHBsYXRmb3JtX2lzTGludXgoKSB7XG4gIHJldHVybiBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRwbGF0Zm9ybV91c2VVc2VyQWdlbnREYXRhUGxhdGZvcm0oKSA/IFwiTGludXhcIiA9PT0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkdXRpbF9nZXRVc2VyQWdlbnREYXRhKCkucGxhdGZvcm0gOiBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCR1dGlsX21hdGNoVXNlckFnZW50KFwiTGludXhcIik7XG59XG5mdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRwbGF0Zm9ybV9pc1dpbmRvd3MoKSB7XG4gIHJldHVybiBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRwbGF0Zm9ybV91c2VVc2VyQWdlbnREYXRhUGxhdGZvcm0oKSA/IFwiV2luZG93c1wiID09PSBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCR1dGlsX2dldFVzZXJBZ2VudERhdGEoKS5wbGF0Zm9ybSA6IG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JHV0aWxfbWF0Y2hVc2VyQWdlbnQoXCJXaW5kb3dzXCIpO1xufVxuZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkcGxhdGZvcm1faXNDaHJvbWVPUygpIHtcbiAgcmV0dXJuIG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JHBsYXRmb3JtX3VzZVVzZXJBZ2VudERhdGFQbGF0Zm9ybSgpID8gXCJDaHJvbWUgT1NcIiA9PT0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkdXRpbF9nZXRVc2VyQWdlbnREYXRhKCkucGxhdGZvcm0gOiBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCR1dGlsX21hdGNoVXNlckFnZW50KFwiQ3JPU1wiKTtcbn1cbmZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JHBsYXRmb3JtX2lzS2FpT1MoKSB7XG4gIHJldHVybiBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCR1dGlsX21hdGNoVXNlckFnZW50SWdub3JlQ2FzZShcIkthaU9TXCIpO1xufVxuZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkcGxhdGZvcm1fZ2V0VmVyc2lvbigpIHtcbiAgdmFyIHVzZXJBZ2VudFN0cmluZyA9IG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JHV0aWxfZ2V0VXNlckFnZW50KCksIHZlcnNpb24gPSBcIlwiO1xuICBpZiAobW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkcGxhdGZvcm1faXNXaW5kb3dzKCkpIHtcbiAgICB2YXIgcmUgPSAvV2luZG93cyAoPzpOVHxQaG9uZSkgKFswLTkuXSspLztcbiAgICB2YXIgbWF0Y2ggPSByZS5leGVjKHVzZXJBZ2VudFN0cmluZyk7XG4gICAgdmVyc2lvbiA9IG1hdGNoID8gbWF0Y2hbMV0gOiBcIjAuMFwiO1xuICB9IGVsc2UgaWYgKG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JHBsYXRmb3JtX2lzSW9zKCkpIHtcbiAgICByZSA9IC8oPzppUGhvbmV8aVBvZHxpUGFkfENQVSlcXHMrT1NcXHMrKFxcUyspLztcbiAgICB2YXIgbWF0Y2gkNDAgPSByZS5leGVjKHVzZXJBZ2VudFN0cmluZyk7XG4gICAgdmVyc2lvbiA9IG1hdGNoJDQwICYmIG1hdGNoJDQwWzFdLnJlcGxhY2UoL18vZywgXCIuXCIpO1xuICB9IGVsc2UgaWYgKG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JHBsYXRmb3JtX2lzTWFjaW50b3NoKCkpIHtcbiAgICByZSA9IC9NYWMgT1MgWCAoWzAtOV8uXSspLztcbiAgICB2YXIgbWF0Y2gkNDEgPSByZS5leGVjKHVzZXJBZ2VudFN0cmluZyk7XG4gICAgdmVyc2lvbiA9IG1hdGNoJDQxID8gbWF0Y2gkNDFbMV0ucmVwbGFjZSgvXy9nLCBcIi5cIikgOiBcIjEwXCI7XG4gIH0gZWxzZSBpZiAobW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkcGxhdGZvcm1faXNLYWlPUygpKSB7XG4gICAgcmUgPSAvKD86S2FpT1MpXFwvKFxcUyspL2k7XG4gICAgdmFyIG1hdGNoJDQyID0gcmUuZXhlYyh1c2VyQWdlbnRTdHJpbmcpO1xuICAgIHZlcnNpb24gPSBtYXRjaCQ0MiAmJiBtYXRjaCQ0MlsxXTtcbiAgfSBlbHNlIGlmIChtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRwbGF0Zm9ybV9pc0FuZHJvaWQoKSkge1xuICAgIHJlID0gL0FuZHJvaWRcXHMrKFteXFwpO10rKShcXCl8OykvO1xuICAgIHZhciBtYXRjaCQ0MyA9IHJlLmV4ZWModXNlckFnZW50U3RyaW5nKTtcbiAgICB2ZXJzaW9uID0gbWF0Y2gkNDMgJiYgbWF0Y2gkNDNbMV07XG4gIH0gZWxzZSBpZiAobW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkcGxhdGZvcm1faXNDaHJvbWVPUygpKSB7XG4gICAgcmUgPSAvKD86Q3JPU1xccysoPzppNjg2fHg4Nl82NClcXHMrKFswLTkuXSspKS87XG4gICAgdmFyIG1hdGNoJDQ0ID0gcmUuZXhlYyh1c2VyQWdlbnRTdHJpbmcpO1xuICAgIHZlcnNpb24gPSBtYXRjaCQ0NCAmJiBtYXRjaCQ0NFsxXTtcbiAgfVxuICByZXR1cm4gdmVyc2lvbiB8fCBcIlwiO1xufVxudmFyIG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JHBsYXRmb3JtX1BsYXRmb3JtVmVyc2lvbiA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLnByZVVhY2hIYXNMb2FkZWRfID0gITE7XG59O1xubW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkcGxhdGZvcm1fUGxhdGZvcm1WZXJzaW9uLnByb3RvdHlwZS5nZXRJZkxvYWRlZCA9IGZ1bmN0aW9uKCkge1xuICBpZiAobW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkcGxhdGZvcm1fdXNlVXNlckFnZW50RGF0YVBsYXRmb3JtKCEwKSkge1xuICAgIHZhciBsb2FkZWRQbGF0Zm9ybVZlcnNpb24gPSBtb2R1bGUkZXhwb3J0cyRnb29nJGxhYnMkdXNlckFnZW50JGhpZ2hFbnRyb3B5JGhpZ2hFbnRyb3B5RGF0YS5wbGF0Zm9ybVZlcnNpb24uZ2V0SWZMb2FkZWQoKTtcbiAgICByZXR1cm4gdm9pZCAwID09PSBsb2FkZWRQbGF0Zm9ybVZlcnNpb24gPyB2b2lkIDAgOiBuZXcgbW9kdWxlJGV4cG9ydHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRoaWdoRW50cm9weSRoaWdoRW50cm9weVZhbHVlLlZlcnNpb24obG9hZGVkUGxhdGZvcm1WZXJzaW9uKTtcbiAgfVxuICBpZiAodGhpcy5wcmVVYWNoSGFzTG9hZGVkXykge1xuICAgIHJldHVybiBuZXcgbW9kdWxlJGV4cG9ydHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRoaWdoRW50cm9weSRoaWdoRW50cm9weVZhbHVlLlZlcnNpb24obW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkcGxhdGZvcm1fZ2V0VmVyc2lvbigpKTtcbiAgfVxufTtcbm1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JHBsYXRmb3JtX1BsYXRmb3JtVmVyc2lvbi5wcm90b3R5cGUubG9hZCA9IGZ1bmN0aW9uKCkge1xuICB2YXIgJGpzY29tcCRhc3luYyR0aGlzID0gdGhpcywgSlNDb21waWxlcl90ZW1wX2NvbnN0O1xuICByZXR1cm4gJGpzY29tcC5hc3luY0V4ZWN1dGVQcm9taXNlR2VuZXJhdG9yUHJvZ3JhbShmdW5jdGlvbigkanNjb21wJGdlbmVyYXRvciRjb250ZXh0KSB7XG4gICAgaWYgKDEgPT0gJGpzY29tcCRnZW5lcmF0b3IkY29udGV4dC5uZXh0QWRkcmVzcykge1xuICAgICAgaWYgKCFtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRwbGF0Zm9ybV91c2VVc2VyQWdlbnREYXRhUGxhdGZvcm0oITApKSB7XG4gICAgICAgICRqc2NvbXAkYXN5bmMkdGhpcy5wcmVVYWNoSGFzTG9hZGVkXyA9ICEwO1xuICAgICAgICByZXR1cm4gJGpzY29tcCRnZW5lcmF0b3IkY29udGV4dC5yZXR1cm4obmV3IG1vZHVsZSRleHBvcnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkaGlnaEVudHJvcHkkaGlnaEVudHJvcHlWYWx1ZS5WZXJzaW9uKG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JHBsYXRmb3JtX2dldFZlcnNpb24oKSkpO1xuICAgICAgICByZXR1cm4gJGpzY29tcCRnZW5lcmF0b3IkY29udGV4dC5qdW1wVG8oMCk7XG4gICAgICB9XG4gICAgICBKU0NvbXBpbGVyX3RlbXBfY29uc3QgPSBtb2R1bGUkZXhwb3J0cyRnb29nJGxhYnMkdXNlckFnZW50JGhpZ2hFbnRyb3B5JGhpZ2hFbnRyb3B5VmFsdWUuVmVyc2lvbjtcbiAgICAgIHJldHVybiAkanNjb21wJGdlbmVyYXRvciRjb250ZXh0LnlpZWxkKG1vZHVsZSRleHBvcnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkaGlnaEVudHJvcHkkaGlnaEVudHJvcHlEYXRhLnBsYXRmb3JtVmVyc2lvbi5sb2FkKCksIDMpO1xuICAgIH1cbiAgICByZXR1cm4gJGpzY29tcCRnZW5lcmF0b3IkY29udGV4dC5yZXR1cm4obmV3IEpTQ29tcGlsZXJfdGVtcF9jb25zdCgkanNjb21wJGdlbmVyYXRvciRjb250ZXh0LnlpZWxkUmVzdWx0KSk7XG4gIH0pO1xufTtcbm1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JHBsYXRmb3JtX1BsYXRmb3JtVmVyc2lvbi5wcm90b3R5cGUucmVzZXRGb3JUZXN0aW5nID0gZnVuY3Rpb24oKSB7XG4gIG1vZHVsZSRleHBvcnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkaGlnaEVudHJvcHkkaGlnaEVudHJvcHlEYXRhLnBsYXRmb3JtVmVyc2lvbi5yZXNldEZvclRlc3RpbmcoKTtcbiAgdGhpcy5wcmVVYWNoSGFzTG9hZGVkXyA9ICExO1xufTtcbnZhciBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRwbGF0Zm9ybV92ZXJzaW9uID0gbmV3IG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JHBsYXRmb3JtX1BsYXRmb3JtVmVyc2lvbigpO1xuZ29vZy5sYWJzLnVzZXJBZ2VudC5wbGF0Zm9ybS5nZXRWZXJzaW9uID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkcGxhdGZvcm1fZ2V0VmVyc2lvbjtcbmdvb2cubGFicy51c2VyQWdlbnQucGxhdGZvcm0uaXNBbmRyb2lkID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkcGxhdGZvcm1faXNBbmRyb2lkO1xuZ29vZy5sYWJzLnVzZXJBZ2VudC5wbGF0Zm9ybS5pc0Nocm9tZU9TID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkcGxhdGZvcm1faXNDaHJvbWVPUztcbmdvb2cubGFicy51c2VyQWdlbnQucGxhdGZvcm0uaXNDaHJvbWVjYXN0ID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkcGxhdGZvcm1faXNDaHJvbWVjYXN0KCkge1xuICByZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkdXRpbF9tYXRjaFVzZXJBZ2VudChcIkNyS2V5XCIpO1xufTtcbmdvb2cubGFicy51c2VyQWdlbnQucGxhdGZvcm0uaXNJb3MgPSBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRwbGF0Zm9ybV9pc0lvcztcbmdvb2cubGFicy51c2VyQWdlbnQucGxhdGZvcm0uaXNJcGFkID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkcGxhdGZvcm1faXNJcGFkO1xuZ29vZy5sYWJzLnVzZXJBZ2VudC5wbGF0Zm9ybS5pc0lwaG9uZSA9IG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JHBsYXRmb3JtX2lzSXBob25lO1xuZ29vZy5sYWJzLnVzZXJBZ2VudC5wbGF0Zm9ybS5pc0lwb2QgPSBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRwbGF0Zm9ybV9pc0lwb2Q7XG5nb29nLmxhYnMudXNlckFnZW50LnBsYXRmb3JtLmlzS2FpT1MgPSBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRwbGF0Zm9ybV9pc0thaU9TO1xuZ29vZy5sYWJzLnVzZXJBZ2VudC5wbGF0Zm9ybS5pc0xpbnV4ID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkcGxhdGZvcm1faXNMaW51eDtcbmdvb2cubGFicy51c2VyQWdlbnQucGxhdGZvcm0uaXNNYWNpbnRvc2ggPSBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRwbGF0Zm9ybV9pc01hY2ludG9zaDtcbmdvb2cubGFicy51c2VyQWdlbnQucGxhdGZvcm0uaXNWZXJzaW9uT3JIaWdoZXIgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRwbGF0Zm9ybV9pc1ZlcnNpb25PckhpZ2hlcih2ZXJzaW9uKSB7XG4gIHJldHVybiAwIDw9IGdvb2cuc3RyaW5nLmludGVybmFsLmNvbXBhcmVWZXJzaW9ucyhtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRwbGF0Zm9ybV9nZXRWZXJzaW9uKCksIHZlcnNpb24pO1xufTtcbmdvb2cubGFicy51c2VyQWdlbnQucGxhdGZvcm0uaXNXaW5kb3dzID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkcGxhdGZvcm1faXNXaW5kb3dzO1xuZ29vZy5sYWJzLnVzZXJBZ2VudC5wbGF0Zm9ybS52ZXJzaW9uID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkcGxhdGZvcm1fdmVyc2lvbjtcbmdvb2cucmVmbGVjdCA9IHt9O1xuZ29vZy5yZWZsZWN0Lm9iamVjdCA9IGZ1bmN0aW9uKHR5cGUsIG9iamVjdCkge1xuICByZXR1cm4gb2JqZWN0O1xufTtcbmdvb2cucmVmbGVjdC5vYmplY3RQcm9wZXJ0eSA9IGZ1bmN0aW9uKHByb3AsIG9iamVjdCkge1xuICByZXR1cm4gcHJvcDtcbn07XG5nb29nLnJlZmxlY3Quc2lua1ZhbHVlID0gZnVuY3Rpb24oeCkge1xuICBnb29nLnJlZmxlY3Quc2lua1ZhbHVlW1wiIFwiXSh4KTtcbiAgcmV0dXJuIHg7XG59O1xuZ29vZy5yZWZsZWN0LnNpbmtWYWx1ZVtcIiBcIl0gPSBmdW5jdGlvbigpIHtcbn07XG5nb29nLnJlZmxlY3QuY2FuQWNjZXNzUHJvcGVydHkgPSBmdW5jdGlvbihvYmosIHByb3ApIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gZ29vZy5yZWZsZWN0LnNpbmtWYWx1ZShvYmpbcHJvcF0pLCAhMDtcbiAgfSBjYXRjaCAoZSkge1xuICB9XG4gIHJldHVybiAhMTtcbn07XG5nb29nLnJlZmxlY3QuY2FjaGUgPSBmdW5jdGlvbihjYWNoZU9iaiwga2V5LCB2YWx1ZUZuLCBvcHRfa2V5Rm4pIHtcbiAgdmFyIHN0b3JlZEtleSA9IG9wdF9rZXlGbiA/IG9wdF9rZXlGbihrZXkpIDoga2V5O1xuICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGNhY2hlT2JqLCBzdG9yZWRLZXkpID8gY2FjaGVPYmpbc3RvcmVkS2V5XSA6IGNhY2hlT2JqW3N0b3JlZEtleV0gPSB2YWx1ZUZuKGtleSk7XG59O1xuZ29vZy51c2VyQWdlbnQgPSB7fTtcbmdvb2cudXNlckFnZW50LkFTU1VNRV9JRSA9ICExO1xuZ29vZy51c2VyQWdlbnQuQVNTVU1FX0VER0UgPSAhMTtcbmdvb2cudXNlckFnZW50LkFTU1VNRV9HRUNLTyA9ICExO1xuZ29vZy51c2VyQWdlbnQuQVNTVU1FX1dFQktJVCA9ICExO1xuZ29vZy51c2VyQWdlbnQuQVNTVU1FX01PQklMRV9XRUJLSVQgPSAhMTtcbmdvb2cudXNlckFnZW50LkFTU1VNRV9PUEVSQSA9ICExO1xuZ29vZy51c2VyQWdlbnQuQVNTVU1FX0FOWV9WRVJTSU9OID0gITE7XG5nb29nLnVzZXJBZ2VudC5CUk9XU0VSX0tOT1dOXyA9IGdvb2cudXNlckFnZW50LkFTU1VNRV9JRSB8fCBnb29nLnVzZXJBZ2VudC5BU1NVTUVfRURHRSB8fCBnb29nLnVzZXJBZ2VudC5BU1NVTUVfR0VDS08gfHwgZ29vZy51c2VyQWdlbnQuQVNTVU1FX01PQklMRV9XRUJLSVQgfHwgZ29vZy51c2VyQWdlbnQuQVNTVU1FX1dFQktJVCB8fCBnb29nLnVzZXJBZ2VudC5BU1NVTUVfT1BFUkE7XG5nb29nLnVzZXJBZ2VudC5nZXRVc2VyQWdlbnRTdHJpbmcgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JHV0aWxfZ2V0VXNlckFnZW50KCk7XG59O1xuZ29vZy51c2VyQWdlbnQuZ2V0TmF2aWdhdG9yVHlwZWQgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIGdvb2cuZ2xvYmFsLm5hdmlnYXRvciB8fCBudWxsO1xufTtcbmdvb2cudXNlckFnZW50LmdldE5hdmlnYXRvciA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gZ29vZy51c2VyQWdlbnQuZ2V0TmF2aWdhdG9yVHlwZWQoKTtcbn07XG5nb29nLnVzZXJBZ2VudC5PUEVSQSA9IGdvb2cudXNlckFnZW50LkJST1dTRVJfS05PV05fID8gZ29vZy51c2VyQWdlbnQuQVNTVU1FX09QRVJBIDogbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkYnJvd3Nlcl9tYXRjaE9wZXJhKCk7XG5nb29nLnVzZXJBZ2VudC5JRSA9IGdvb2cudXNlckFnZW50LkJST1dTRVJfS05PV05fID8gZ29vZy51c2VyQWdlbnQuQVNTVU1FX0lFIDogbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkYnJvd3Nlcl9tYXRjaElFKCk7XG5nb29nLnVzZXJBZ2VudC5FREdFID0gZ29vZy51c2VyQWdlbnQuQlJPV1NFUl9LTk9XTl8gPyBnb29nLnVzZXJBZ2VudC5BU1NVTUVfRURHRSA6IG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JGVuZ2luZV9pc0VkZ2UoKTtcbmdvb2cudXNlckFnZW50LkVER0VfT1JfSUUgPSBnb29nLnVzZXJBZ2VudC5FREdFIHx8IGdvb2cudXNlckFnZW50LklFO1xuZ29vZy51c2VyQWdlbnQuR0VDS08gPSBnb29nLnVzZXJBZ2VudC5CUk9XU0VSX0tOT1dOXyA/IGdvb2cudXNlckFnZW50LkFTU1VNRV9HRUNLTyA6IG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JGVuZ2luZV9pc0dlY2tvKCk7XG5nb29nLnVzZXJBZ2VudC5XRUJLSVQgPSBnb29nLnVzZXJBZ2VudC5CUk9XU0VSX0tOT1dOXyA/IGdvb2cudXNlckFnZW50LkFTU1VNRV9XRUJLSVQgfHwgZ29vZy51c2VyQWdlbnQuQVNTVU1FX01PQklMRV9XRUJLSVQgOiBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRlbmdpbmVfaXNXZWJLaXQoKTtcbmdvb2cudXNlckFnZW50LmlzTW9iaWxlXyA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gZ29vZy51c2VyQWdlbnQuV0VCS0lUICYmIG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JHV0aWxfbWF0Y2hVc2VyQWdlbnQoXCJNb2JpbGVcIik7XG59O1xuZ29vZy51c2VyQWdlbnQuTU9CSUxFID0gZ29vZy51c2VyQWdlbnQuQVNTVU1FX01PQklMRV9XRUJLSVQgfHwgZ29vZy51c2VyQWdlbnQuaXNNb2JpbGVfKCk7XG5nb29nLnVzZXJBZ2VudC5TQUZBUkkgPSBnb29nLnVzZXJBZ2VudC5XRUJLSVQ7XG5nb29nLnVzZXJBZ2VudC5kZXRlcm1pbmVQbGF0Zm9ybV8gPSBmdW5jdGlvbigpIHtcbiAgdmFyIG5hdmlnYXRvciA9IGdvb2cudXNlckFnZW50LmdldE5hdmlnYXRvclR5cGVkKCk7XG4gIHJldHVybiBuYXZpZ2F0b3IgJiYgbmF2aWdhdG9yLnBsYXRmb3JtIHx8IFwiXCI7XG59O1xuZ29vZy51c2VyQWdlbnQuUExBVEZPUk0gPSBnb29nLnVzZXJBZ2VudC5kZXRlcm1pbmVQbGF0Zm9ybV8oKTtcbmdvb2cudXNlckFnZW50LkFTU1VNRV9NQUMgPSAhMTtcbmdvb2cudXNlckFnZW50LkFTU1VNRV9XSU5ET1dTID0gITE7XG5nb29nLnVzZXJBZ2VudC5BU1NVTUVfTElOVVggPSAhMTtcbmdvb2cudXNlckFnZW50LkFTU1VNRV9YMTEgPSAhMTtcbmdvb2cudXNlckFnZW50LkFTU1VNRV9BTkRST0lEID0gITE7XG5nb29nLnVzZXJBZ2VudC5BU1NVTUVfSVBIT05FID0gITE7XG5nb29nLnVzZXJBZ2VudC5BU1NVTUVfSVBBRCA9ICExO1xuZ29vZy51c2VyQWdlbnQuQVNTVU1FX0lQT0QgPSAhMTtcbmdvb2cudXNlckFnZW50LkFTU1VNRV9LQUlPUyA9ICExO1xuZ29vZy51c2VyQWdlbnQuUExBVEZPUk1fS05PV05fID0gZ29vZy51c2VyQWdlbnQuQVNTVU1FX01BQyB8fCBnb29nLnVzZXJBZ2VudC5BU1NVTUVfV0lORE9XUyB8fCBnb29nLnVzZXJBZ2VudC5BU1NVTUVfTElOVVggfHwgZ29vZy51c2VyQWdlbnQuQVNTVU1FX1gxMSB8fCBnb29nLnVzZXJBZ2VudC5BU1NVTUVfQU5EUk9JRCB8fCBnb29nLnVzZXJBZ2VudC5BU1NVTUVfSVBIT05FIHx8IGdvb2cudXNlckFnZW50LkFTU1VNRV9JUEFEIHx8IGdvb2cudXNlckFnZW50LkFTU1VNRV9JUE9EO1xuZ29vZy51c2VyQWdlbnQuTUFDID0gZ29vZy51c2VyQWdlbnQuUExBVEZPUk1fS05PV05fID8gZ29vZy51c2VyQWdlbnQuQVNTVU1FX01BQyA6IG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JHBsYXRmb3JtX2lzTWFjaW50b3NoKCk7XG5nb29nLnVzZXJBZ2VudC5XSU5ET1dTID0gZ29vZy51c2VyQWdlbnQuUExBVEZPUk1fS05PV05fID8gZ29vZy51c2VyQWdlbnQuQVNTVU1FX1dJTkRPV1MgOiBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRwbGF0Zm9ybV9pc1dpbmRvd3MoKTtcbmdvb2cudXNlckFnZW50LmlzTGVnYWN5TGludXhfID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRwbGF0Zm9ybV9pc0xpbnV4KCkgfHwgbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkcGxhdGZvcm1faXNDaHJvbWVPUygpO1xufTtcbmdvb2cudXNlckFnZW50LkxJTlVYID0gZ29vZy51c2VyQWdlbnQuUExBVEZPUk1fS05PV05fID8gZ29vZy51c2VyQWdlbnQuQVNTVU1FX0xJTlVYIDogZ29vZy51c2VyQWdlbnQuaXNMZWdhY3lMaW51eF8oKTtcbmdvb2cudXNlckFnZW50LmlzWDExXyA9IGZ1bmN0aW9uKCkge1xuICB2YXIgbmF2aWdhdG9yID0gZ29vZy51c2VyQWdlbnQuZ2V0TmF2aWdhdG9yVHlwZWQoKTtcbiAgcmV0dXJuICEhbmF2aWdhdG9yICYmIGdvb2cuc3RyaW5nLmludGVybmFsLmNvbnRhaW5zKG5hdmlnYXRvci5hcHBWZXJzaW9uIHx8IFwiXCIsIFwiWDExXCIpO1xufTtcbmdvb2cudXNlckFnZW50LlgxMSA9IGdvb2cudXNlckFnZW50LlBMQVRGT1JNX0tOT1dOXyA/IGdvb2cudXNlckFnZW50LkFTU1VNRV9YMTEgOiBnb29nLnVzZXJBZ2VudC5pc1gxMV8oKTtcbmdvb2cudXNlckFnZW50LkFORFJPSUQgPSBnb29nLnVzZXJBZ2VudC5QTEFURk9STV9LTk9XTl8gPyBnb29nLnVzZXJBZ2VudC5BU1NVTUVfQU5EUk9JRCA6IG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JHBsYXRmb3JtX2lzQW5kcm9pZCgpO1xuZ29vZy51c2VyQWdlbnQuSVBIT05FID0gZ29vZy51c2VyQWdlbnQuUExBVEZPUk1fS05PV05fID8gZ29vZy51c2VyQWdlbnQuQVNTVU1FX0lQSE9ORSA6IG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JHBsYXRmb3JtX2lzSXBob25lKCk7XG5nb29nLnVzZXJBZ2VudC5JUEFEID0gZ29vZy51c2VyQWdlbnQuUExBVEZPUk1fS05PV05fID8gZ29vZy51c2VyQWdlbnQuQVNTVU1FX0lQQUQgOiBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRwbGF0Zm9ybV9pc0lwYWQoKTtcbmdvb2cudXNlckFnZW50LklQT0QgPSBnb29nLnVzZXJBZ2VudC5QTEFURk9STV9LTk9XTl8gPyBnb29nLnVzZXJBZ2VudC5BU1NVTUVfSVBPRCA6IG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JHBsYXRmb3JtX2lzSXBvZCgpO1xuZ29vZy51c2VyQWdlbnQuSU9TID0gZ29vZy51c2VyQWdlbnQuUExBVEZPUk1fS05PV05fID8gZ29vZy51c2VyQWdlbnQuQVNTVU1FX0lQSE9ORSB8fCBnb29nLnVzZXJBZ2VudC5BU1NVTUVfSVBBRCB8fCBnb29nLnVzZXJBZ2VudC5BU1NVTUVfSVBPRCA6IG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JHBsYXRmb3JtX2lzSW9zKCk7XG5nb29nLnVzZXJBZ2VudC5LQUlPUyA9IGdvb2cudXNlckFnZW50LlBMQVRGT1JNX0tOT1dOXyA/IGdvb2cudXNlckFnZW50LkFTU1VNRV9LQUlPUyA6IG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JHBsYXRmb3JtX2lzS2FpT1MoKTtcbmdvb2cudXNlckFnZW50LmRldGVybWluZVZlcnNpb25fID0gZnVuY3Rpb24oKSB7XG4gIHZhciB2ZXJzaW9uID0gXCJcIiwgYXJyID0gZ29vZy51c2VyQWdlbnQuZ2V0VmVyc2lvblJlZ2V4UmVzdWx0XygpO1xuICBhcnIgJiYgKHZlcnNpb24gPSBhcnIgPyBhcnJbMV0gOiBcIlwiKTtcbiAgaWYgKGdvb2cudXNlckFnZW50LklFKSB7XG4gICAgdmFyIGRvY01vZGUgPSBnb29nLnVzZXJBZ2VudC5nZXREb2N1bWVudE1vZGVfKCk7XG4gICAgaWYgKG51bGwgIT0gZG9jTW9kZSAmJiBkb2NNb2RlID4gcGFyc2VGbG9hdCh2ZXJzaW9uKSkge1xuICAgICAgcmV0dXJuIFN0cmluZyhkb2NNb2RlKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHZlcnNpb247XG59O1xuZ29vZy51c2VyQWdlbnQuZ2V0VmVyc2lvblJlZ2V4UmVzdWx0XyA9IGZ1bmN0aW9uKCkge1xuICB2YXIgdXNlckFnZW50ID0gZ29vZy51c2VyQWdlbnQuZ2V0VXNlckFnZW50U3RyaW5nKCk7XG4gIGlmIChnb29nLnVzZXJBZ2VudC5HRUNLTykge1xuICAgIHJldHVybiAvcnY6KFteXFwpO10rKShcXCl8OykvLmV4ZWModXNlckFnZW50KTtcbiAgfVxuICBpZiAoZ29vZy51c2VyQWdlbnQuRURHRSkge1xuICAgIHJldHVybiAvRWRnZVxcLyhbXFxkXFwuXSspLy5leGVjKHVzZXJBZ2VudCk7XG4gIH1cbiAgaWYgKGdvb2cudXNlckFnZW50LklFKSB7XG4gICAgcmV0dXJuIC9cXGIoPzpNU0lFfHJ2KVs6IF0oW15cXCk7XSspKFxcKXw7KS8uZXhlYyh1c2VyQWdlbnQpO1xuICB9XG4gIGlmIChnb29nLnVzZXJBZ2VudC5XRUJLSVQpIHtcbiAgICByZXR1cm4gL1dlYktpdFxcLyhcXFMrKS8uZXhlYyh1c2VyQWdlbnQpO1xuICB9XG4gIGlmIChnb29nLnVzZXJBZ2VudC5PUEVSQSkge1xuICAgIHJldHVybiAvKD86VmVyc2lvbilbIFxcL10/KFxcUyspLy5leGVjKHVzZXJBZ2VudCk7XG4gIH1cbn07XG5nb29nLnVzZXJBZ2VudC5nZXREb2N1bWVudE1vZGVfID0gZnVuY3Rpb24oKSB7XG4gIHZhciBkb2MgPSBnb29nLmdsb2JhbC5kb2N1bWVudDtcbiAgcmV0dXJuIGRvYyA/IGRvYy5kb2N1bWVudE1vZGUgOiB2b2lkIDA7XG59O1xuZ29vZy51c2VyQWdlbnQuVkVSU0lPTiA9IGdvb2cudXNlckFnZW50LmRldGVybWluZVZlcnNpb25fKCk7XG5nb29nLnVzZXJBZ2VudC5jb21wYXJlID0gZnVuY3Rpb24odjEsIHYyKSB7XG4gIHJldHVybiBnb29nLnN0cmluZy5pbnRlcm5hbC5jb21wYXJlVmVyc2lvbnModjEsIHYyKTtcbn07XG5nb29nLnVzZXJBZ2VudC5pc1ZlcnNpb25PckhpZ2hlckNhY2hlXyA9IHt9O1xuZ29vZy51c2VyQWdlbnQuaXNWZXJzaW9uT3JIaWdoZXIgPSBmdW5jdGlvbih2ZXJzaW9uKSB7XG4gIHJldHVybiBnb29nLnVzZXJBZ2VudC5BU1NVTUVfQU5ZX1ZFUlNJT04gfHwgZ29vZy5yZWZsZWN0LmNhY2hlKGdvb2cudXNlckFnZW50LmlzVmVyc2lvbk9ySGlnaGVyQ2FjaGVfLCB2ZXJzaW9uLCBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gMCA8PSBnb29nLnN0cmluZy5pbnRlcm5hbC5jb21wYXJlVmVyc2lvbnMoZ29vZy51c2VyQWdlbnQuVkVSU0lPTiwgdmVyc2lvbik7XG4gIH0pO1xufTtcbmdvb2cudXNlckFnZW50LmlzRG9jdW1lbnRNb2RlT3JIaWdoZXIgPSBmdW5jdGlvbihkb2N1bWVudE1vZGUpIHtcbiAgcmV0dXJuIE51bWJlcihnb29nLnVzZXJBZ2VudC5ET0NVTUVOVF9NT0RFKSA+PSBkb2N1bWVudE1vZGU7XG59O1xuZ29vZy51c2VyQWdlbnQuaXNEb2N1bWVudE1vZGUgPSBnb29nLnVzZXJBZ2VudC5pc0RvY3VtZW50TW9kZU9ySGlnaGVyO1xuZ29vZy51c2VyQWdlbnQuRE9DVU1FTlRfTU9ERSA9IGZ1bmN0aW9uKCkge1xuICBpZiAoZ29vZy5nbG9iYWwuZG9jdW1lbnQgJiYgZ29vZy51c2VyQWdlbnQuSUUpIHtcbiAgICB2YXIgZG9jdW1lbnRNb2RlID0gZ29vZy51c2VyQWdlbnQuZ2V0RG9jdW1lbnRNb2RlXygpO1xuICAgIHJldHVybiBkb2N1bWVudE1vZGUgPyBkb2N1bWVudE1vZGUgOiBwYXJzZUludChnb29nLnVzZXJBZ2VudC5WRVJTSU9OLCAxMCkgfHwgdm9pZCAwO1xuICB9XG59KCk7XG5nb29nLmV2ZW50cy5ldmVudFR5cGVIZWxwZXJzID0ge307XG5nb29nLmV2ZW50cy5ldmVudFR5cGVIZWxwZXJzLmdldFZlbmRvclByZWZpeGVkTmFtZSA9IGZ1bmN0aW9uKGV2ZW50TmFtZSkge1xuICByZXR1cm4gZ29vZy51c2VyQWdlbnQuV0VCS0lUID8gXCJ3ZWJraXRcIiArIGV2ZW50TmFtZSA6IGV2ZW50TmFtZS50b0xvd2VyQ2FzZSgpO1xufTtcbmdvb2cuZXZlbnRzLmV2ZW50VHlwZUhlbHBlcnMuZ2V0UG9pbnRlckZhbGxiYWNrRXZlbnROYW1lID0gZnVuY3Rpb24ocG9pbnRlckV2ZW50TmFtZSwgbXNQb2ludGVyRXZlbnROYW1lLCBmYWxsYmFja0V2ZW50TmFtZSkge1xuICByZXR1cm4gZ29vZy5ldmVudHMuQnJvd3NlckZlYXR1cmUuUE9JTlRFUl9FVkVOVFMgPyBwb2ludGVyRXZlbnROYW1lIDogZ29vZy5ldmVudHMuQnJvd3NlckZlYXR1cmUuTVNQT0lOVEVSX0VWRU5UUyA/IG1zUG9pbnRlckV2ZW50TmFtZSA6IGZhbGxiYWNrRXZlbnROYW1lO1xufTtcbmdvb2cuZXZlbnRzLkV2ZW50VHlwZSA9IHtDTElDSzpcImNsaWNrXCIsIFJJR0hUQ0xJQ0s6XCJyaWdodGNsaWNrXCIsIERCTENMSUNLOlwiZGJsY2xpY2tcIiwgQVVYQ0xJQ0s6XCJhdXhjbGlja1wiLCBNT1VTRURPV046XCJtb3VzZWRvd25cIiwgTU9VU0VVUDpcIm1vdXNldXBcIiwgTU9VU0VPVkVSOlwibW91c2VvdmVyXCIsIE1PVVNFT1VUOlwibW91c2VvdXRcIiwgTU9VU0VNT1ZFOlwibW91c2Vtb3ZlXCIsIE1PVVNFRU5URVI6XCJtb3VzZWVudGVyXCIsIE1PVVNFTEVBVkU6XCJtb3VzZWxlYXZlXCIsIE1PVVNFQ0FOQ0VMOlwibW91c2VjYW5jZWxcIiwgU0VMRUNUSU9OQ0hBTkdFOlwic2VsZWN0aW9uY2hhbmdlXCIsIFNFTEVDVFNUQVJUOlwic2VsZWN0c3RhcnRcIiwgV0hFRUw6XCJ3aGVlbFwiLCBLRVlQUkVTUzpcImtleXByZXNzXCIsIEtFWURPV046XCJrZXlkb3duXCIsIEtFWVVQOlwia2V5dXBcIiwgQkxVUjpcImJsdXJcIiwgRk9DVVM6XCJmb2N1c1wiLCBERUFDVElWQVRFOlwiZGVhY3RpdmF0ZVwiLCBGT0NVU0lOOlwiZm9jdXNpblwiLCBGT0NVU09VVDpcImZvY3Vzb3V0XCIsIFxuQ0hBTkdFOlwiY2hhbmdlXCIsIFJFU0VUOlwicmVzZXRcIiwgU0VMRUNUOlwic2VsZWN0XCIsIFNVQk1JVDpcInN1Ym1pdFwiLCBJTlBVVDpcImlucHV0XCIsIFBST1BFUlRZQ0hBTkdFOlwicHJvcGVydHljaGFuZ2VcIiwgRFJBR1NUQVJUOlwiZHJhZ3N0YXJ0XCIsIERSQUc6XCJkcmFnXCIsIERSQUdFTlRFUjpcImRyYWdlbnRlclwiLCBEUkFHT1ZFUjpcImRyYWdvdmVyXCIsIERSQUdMRUFWRTpcImRyYWdsZWF2ZVwiLCBEUk9QOlwiZHJvcFwiLCBEUkFHRU5EOlwiZHJhZ2VuZFwiLCBUT1VDSFNUQVJUOlwidG91Y2hzdGFydFwiLCBUT1VDSE1PVkU6XCJ0b3VjaG1vdmVcIiwgVE9VQ0hFTkQ6XCJ0b3VjaGVuZFwiLCBUT1VDSENBTkNFTDpcInRvdWNoY2FuY2VsXCIsIEJFRk9SRVVOTE9BRDpcImJlZm9yZXVubG9hZFwiLCBDT05TT0xFTUVTU0FHRTpcImNvbnNvbGVtZXNzYWdlXCIsIENPTlRFWFRNRU5VOlwiY29udGV4dG1lbnVcIiwgREVWSUNFQ0hBTkdFOlwiZGV2aWNlY2hhbmdlXCIsIERFVklDRU1PVElPTjpcImRldmljZW1vdGlvblwiLCBERVZJQ0VPUklFTlRBVElPTjpcImRldmljZW9yaWVudGF0aW9uXCIsIFxuRE9NQ09OVEVOVExPQURFRDpcIkRPTUNvbnRlbnRMb2FkZWRcIiwgRVJST1I6XCJlcnJvclwiLCBIRUxQOlwiaGVscFwiLCBMT0FEOlwibG9hZFwiLCBMT1NFQ0FQVFVSRTpcImxvc2VjYXB0dXJlXCIsIE9SSUVOVEFUSU9OQ0hBTkdFOlwib3JpZW50YXRpb25jaGFuZ2VcIiwgUkVBRFlTVEFURUNIQU5HRTpcInJlYWR5c3RhdGVjaGFuZ2VcIiwgUkVTSVpFOlwicmVzaXplXCIsIFNDUk9MTDpcInNjcm9sbFwiLCBVTkxPQUQ6XCJ1bmxvYWRcIiwgQ0FOUExBWTpcImNhbnBsYXlcIiwgQ0FOUExBWVRIUk9VR0g6XCJjYW5wbGF5dGhyb3VnaFwiLCBEVVJBVElPTkNIQU5HRTpcImR1cmF0aW9uY2hhbmdlXCIsIEVNUFRJRUQ6XCJlbXB0aWVkXCIsIEVOREVEOlwiZW5kZWRcIiwgTE9BREVEREFUQTpcImxvYWRlZGRhdGFcIiwgTE9BREVETUVUQURBVEE6XCJsb2FkZWRtZXRhZGF0YVwiLCBQQVVTRTpcInBhdXNlXCIsIFBMQVk6XCJwbGF5XCIsIFBMQVlJTkc6XCJwbGF5aW5nXCIsIFBST0dSRVNTOlwicHJvZ3Jlc3NcIiwgUkFURUNIQU5HRTpcInJhdGVjaGFuZ2VcIiwgXG5TRUVLRUQ6XCJzZWVrZWRcIiwgU0VFS0lORzpcInNlZWtpbmdcIiwgU1RBTExFRDpcInN0YWxsZWRcIiwgU1VTUEVORDpcInN1c3BlbmRcIiwgVElNRVVQREFURTpcInRpbWV1cGRhdGVcIiwgVk9MVU1FQ0hBTkdFOlwidm9sdW1lY2hhbmdlXCIsIFdBSVRJTkc6XCJ3YWl0aW5nXCIsIFNPVVJDRU9QRU46XCJzb3VyY2VvcGVuXCIsIFNPVVJDRUVOREVEOlwic291cmNlZW5kZWRcIiwgU09VUkNFQ0xPU0VEOlwic291cmNlY2xvc2VkXCIsIEFCT1JUOlwiYWJvcnRcIiwgVVBEQVRFOlwidXBkYXRlXCIsIFVQREFURVNUQVJUOlwidXBkYXRlc3RhcnRcIiwgVVBEQVRFRU5EOlwidXBkYXRlZW5kXCIsIEhBU0hDSEFOR0U6XCJoYXNoY2hhbmdlXCIsIFBBR0VISURFOlwicGFnZWhpZGVcIiwgUEFHRVNIT1c6XCJwYWdlc2hvd1wiLCBQT1BTVEFURTpcInBvcHN0YXRlXCIsIENPUFk6XCJjb3B5XCIsIFBBU1RFOlwicGFzdGVcIiwgQ1VUOlwiY3V0XCIsIEJFRk9SRUNPUFk6XCJiZWZvcmVjb3B5XCIsIEJFRk9SRUNVVDpcImJlZm9yZWN1dFwiLCBCRUZPUkVQQVNURTpcImJlZm9yZXBhc3RlXCIsIFxuT05MSU5FOlwib25saW5lXCIsIE9GRkxJTkU6XCJvZmZsaW5lXCIsIE1FU1NBR0U6XCJtZXNzYWdlXCIsIENPTk5FQ1Q6XCJjb25uZWN0XCIsIElOU1RBTEw6XCJpbnN0YWxsXCIsIEFDVElWQVRFOlwiYWN0aXZhdGVcIiwgRkVUQ0g6XCJmZXRjaFwiLCBGT1JFSUdORkVUQ0g6XCJmb3JlaWduZmV0Y2hcIiwgTUVTU0FHRUVSUk9SOlwibWVzc2FnZWVycm9yXCIsIFNUQVRFQ0hBTkdFOlwic3RhdGVjaGFuZ2VcIiwgVVBEQVRFRk9VTkQ6XCJ1cGRhdGVmb3VuZFwiLCBDT05UUk9MTEVSQ0hBTkdFOlwiY29udHJvbGxlcmNoYW5nZVwiLCBBTklNQVRJT05TVEFSVDpnb29nLmV2ZW50cy5ldmVudFR5cGVIZWxwZXJzLmdldFZlbmRvclByZWZpeGVkTmFtZShcIkFuaW1hdGlvblN0YXJ0XCIpLCBBTklNQVRJT05FTkQ6Z29vZy5ldmVudHMuZXZlbnRUeXBlSGVscGVycy5nZXRWZW5kb3JQcmVmaXhlZE5hbWUoXCJBbmltYXRpb25FbmRcIiksIEFOSU1BVElPTklURVJBVElPTjpnb29nLmV2ZW50cy5ldmVudFR5cGVIZWxwZXJzLmdldFZlbmRvclByZWZpeGVkTmFtZShcIkFuaW1hdGlvbkl0ZXJhdGlvblwiKSwgXG5UUkFOU0lUSU9ORU5EOmdvb2cuZXZlbnRzLmV2ZW50VHlwZUhlbHBlcnMuZ2V0VmVuZG9yUHJlZml4ZWROYW1lKFwiVHJhbnNpdGlvbkVuZFwiKSwgUE9JTlRFUkRPV046XCJwb2ludGVyZG93blwiLCBQT0lOVEVSVVA6XCJwb2ludGVydXBcIiwgUE9JTlRFUkNBTkNFTDpcInBvaW50ZXJjYW5jZWxcIiwgUE9JTlRFUk1PVkU6XCJwb2ludGVybW92ZVwiLCBQT0lOVEVST1ZFUjpcInBvaW50ZXJvdmVyXCIsIFBPSU5URVJPVVQ6XCJwb2ludGVyb3V0XCIsIFBPSU5URVJFTlRFUjpcInBvaW50ZXJlbnRlclwiLCBQT0lOVEVSTEVBVkU6XCJwb2ludGVybGVhdmVcIiwgR09UUE9JTlRFUkNBUFRVUkU6XCJnb3Rwb2ludGVyY2FwdHVyZVwiLCBMT1NUUE9JTlRFUkNBUFRVUkU6XCJsb3N0cG9pbnRlcmNhcHR1cmVcIiwgTVNHRVNUVVJFQ0hBTkdFOlwiTVNHZXN0dXJlQ2hhbmdlXCIsIE1TR0VTVFVSRUVORDpcIk1TR2VzdHVyZUVuZFwiLCBNU0dFU1RVUkVIT0xEOlwiTVNHZXN0dXJlSG9sZFwiLCBNU0dFU1RVUkVTVEFSVDpcIk1TR2VzdHVyZVN0YXJ0XCIsIFxuTVNHRVNUVVJFVEFQOlwiTVNHZXN0dXJlVGFwXCIsIE1TR09UUE9JTlRFUkNBUFRVUkU6XCJNU0dvdFBvaW50ZXJDYXB0dXJlXCIsIE1TSU5FUlRJQVNUQVJUOlwiTVNJbmVydGlhU3RhcnRcIiwgTVNMT1NUUE9JTlRFUkNBUFRVUkU6XCJNU0xvc3RQb2ludGVyQ2FwdHVyZVwiLCBNU1BPSU5URVJDQU5DRUw6XCJNU1BvaW50ZXJDYW5jZWxcIiwgTVNQT0lOVEVSRE9XTjpcIk1TUG9pbnRlckRvd25cIiwgTVNQT0lOVEVSRU5URVI6XCJNU1BvaW50ZXJFbnRlclwiLCBNU1BPSU5URVJIT1ZFUjpcIk1TUG9pbnRlckhvdmVyXCIsIE1TUE9JTlRFUkxFQVZFOlwiTVNQb2ludGVyTGVhdmVcIiwgTVNQT0lOVEVSTU9WRTpcIk1TUG9pbnRlck1vdmVcIiwgTVNQT0lOVEVST1VUOlwiTVNQb2ludGVyT3V0XCIsIE1TUE9JTlRFUk9WRVI6XCJNU1BvaW50ZXJPdmVyXCIsIE1TUE9JTlRFUlVQOlwiTVNQb2ludGVyVXBcIiwgVEVYVDpcInRleHRcIiwgVEVYVElOUFVUOmdvb2cudXNlckFnZW50LklFID8gXCJ0ZXh0aW5wdXRcIiA6IFwidGV4dElucHV0XCIsIFxuQ09NUE9TSVRJT05TVEFSVDpcImNvbXBvc2l0aW9uc3RhcnRcIiwgQ09NUE9TSVRJT05VUERBVEU6XCJjb21wb3NpdGlvbnVwZGF0ZVwiLCBDT01QT1NJVElPTkVORDpcImNvbXBvc2l0aW9uZW5kXCIsIEJFRk9SRUlOUFVUOlwiYmVmb3JlaW5wdXRcIiwgRlVMTFNDUkVFTkNIQU5HRTpcImZ1bGxzY3JlZW5jaGFuZ2VcIiwgV0VCS0lUQkVHSU5GVUxMU0NSRUVOOlwid2Via2l0YmVnaW5mdWxsc2NyZWVuXCIsIFdFQktJVEVOREZVTExTQ1JFRU46XCJ3ZWJraXRlbmRmdWxsc2NyZWVuXCIsIEVYSVQ6XCJleGl0XCIsIExPQURBQk9SVDpcImxvYWRhYm9ydFwiLCBMT0FEQ09NTUlUOlwibG9hZGNvbW1pdFwiLCBMT0FEUkVESVJFQ1Q6XCJsb2FkcmVkaXJlY3RcIiwgTE9BRFNUQVJUOlwibG9hZHN0YXJ0XCIsIExPQURTVE9QOlwibG9hZHN0b3BcIiwgUkVTUE9OU0lWRTpcInJlc3BvbnNpdmVcIiwgU0laRUNIQU5HRUQ6XCJzaXplY2hhbmdlZFwiLCBVTlJFU1BPTlNJVkU6XCJ1bnJlc3BvbnNpdmVcIiwgVklTSUJJTElUWUNIQU5HRTpcInZpc2liaWxpdHljaGFuZ2VcIiwgXG5TVE9SQUdFOlwic3RvcmFnZVwiLCBET01TVUJUUkVFTU9ESUZJRUQ6XCJET01TdWJ0cmVlTW9kaWZpZWRcIiwgRE9NTk9ERUlOU0VSVEVEOlwiRE9NTm9kZUluc2VydGVkXCIsIERPTU5PREVSRU1PVkVEOlwiRE9NTm9kZVJlbW92ZWRcIiwgRE9NTk9ERVJFTU9WRURGUk9NRE9DVU1FTlQ6XCJET01Ob2RlUmVtb3ZlZEZyb21Eb2N1bWVudFwiLCBET01OT0RFSU5TRVJURURJTlRPRE9DVU1FTlQ6XCJET01Ob2RlSW5zZXJ0ZWRJbnRvRG9jdW1lbnRcIiwgRE9NQVRUUk1PRElGSUVEOlwiRE9NQXR0ck1vZGlmaWVkXCIsIERPTUNIQVJBQ1RFUkRBVEFNT0RJRklFRDpcIkRPTUNoYXJhY3RlckRhdGFNb2RpZmllZFwiLCBCRUZPUkVQUklOVDpcImJlZm9yZXByaW50XCIsIEFGVEVSUFJJTlQ6XCJhZnRlcnByaW50XCIsIEJFRk9SRUlOU1RBTExQUk9NUFQ6XCJiZWZvcmVpbnN0YWxscHJvbXB0XCIsIEFQUElOU1RBTExFRDpcImFwcGluc3RhbGxlZFwiLCBDQU5DRUw6XCJjYW5jZWxcIiwgRklOSVNIOlwiZmluaXNoXCIsIFJFTU9WRTpcInJlbW92ZVwifTtcbmdvb2cuZXZlbnRzLkJyb3dzZXJFdmVudCA9IGZ1bmN0aW9uKG9wdF9lLCBvcHRfY3VycmVudFRhcmdldCkge1xuICBnb29nLmV2ZW50cy5FdmVudC5jYWxsKHRoaXMsIG9wdF9lID8gb3B0X2UudHlwZSA6IFwiXCIpO1xuICB0aGlzLnJlbGF0ZWRUYXJnZXQgPSB0aGlzLmN1cnJlbnRUYXJnZXQgPSB0aGlzLnRhcmdldCA9IG51bGw7XG4gIHRoaXMuYnV0dG9uID0gdGhpcy5zY3JlZW5ZID0gdGhpcy5zY3JlZW5YID0gdGhpcy5jbGllbnRZID0gdGhpcy5jbGllbnRYID0gdGhpcy5vZmZzZXRZID0gdGhpcy5vZmZzZXRYID0gMDtcbiAgdGhpcy5rZXkgPSBcIlwiO1xuICB0aGlzLmNoYXJDb2RlID0gdGhpcy5rZXlDb2RlID0gMDtcbiAgdGhpcy5tZXRhS2V5ID0gdGhpcy5zaGlmdEtleSA9IHRoaXMuYWx0S2V5ID0gdGhpcy5jdHJsS2V5ID0gITE7XG4gIHRoaXMuc3RhdGUgPSBudWxsO1xuICB0aGlzLnBsYXRmb3JtTW9kaWZpZXJLZXkgPSAhMTtcbiAgdGhpcy5wb2ludGVySWQgPSAwO1xuICB0aGlzLnBvaW50ZXJUeXBlID0gXCJcIjtcbiAgdGhpcy5ldmVudF8gPSBudWxsO1xuICBvcHRfZSAmJiB0aGlzLmluaXQob3B0X2UsIG9wdF9jdXJyZW50VGFyZ2V0KTtcbn07XG5nb29nLmluaGVyaXRzKGdvb2cuZXZlbnRzLkJyb3dzZXJFdmVudCwgZ29vZy5ldmVudHMuRXZlbnQpO1xuZ29vZy5ldmVudHMuQnJvd3NlckV2ZW50LlVTRV9MQVlFUl9YWV9BU19PRkZTRVRfWFkgPSAhMTtcbmdvb2cuZXZlbnRzLkJyb3dzZXJFdmVudC5Nb3VzZUJ1dHRvbiA9IHtMRUZUOjAsIE1JRERMRToxLCBSSUdIVDoyLCBCQUNLOjMsIEZPUldBUkQ6NCx9O1xuZ29vZy5ldmVudHMuQnJvd3NlckV2ZW50LlBvaW50ZXJUeXBlID0ge01PVVNFOlwibW91c2VcIiwgUEVOOlwicGVuXCIsIFRPVUNIOlwidG91Y2hcIn07XG5nb29nLmV2ZW50cy5Ccm93c2VyRXZlbnQuSUVCdXR0b25NYXAgPSBnb29nLmRlYnVnLmZyZWV6ZShbMSwgNCwgMl0pO1xuZ29vZy5ldmVudHMuQnJvd3NlckV2ZW50LklFX0JVVFRPTl9NQVAgPSBnb29nLmV2ZW50cy5Ccm93c2VyRXZlbnQuSUVCdXR0b25NYXA7XG5nb29nLmV2ZW50cy5Ccm93c2VyRXZlbnQuSUVfUE9JTlRFUl9UWVBFX01BUCA9IGdvb2cuZGVidWcuZnJlZXplKHsyOmdvb2cuZXZlbnRzLkJyb3dzZXJFdmVudC5Qb2ludGVyVHlwZS5UT1VDSCwgMzpnb29nLmV2ZW50cy5Ccm93c2VyRXZlbnQuUG9pbnRlclR5cGUuUEVOLCA0Omdvb2cuZXZlbnRzLkJyb3dzZXJFdmVudC5Qb2ludGVyVHlwZS5NT1VTRX0pO1xuZ29vZy5ldmVudHMuQnJvd3NlckV2ZW50LnByb3RvdHlwZS5pbml0ID0gZnVuY3Rpb24oZSwgb3B0X2N1cnJlbnRUYXJnZXQpIHtcbiAgdmFyIHR5cGUgPSB0aGlzLnR5cGUgPSBlLnR5cGUsIHJlbGV2YW50VG91Y2ggPSBlLmNoYW5nZWRUb3VjaGVzICYmIGUuY2hhbmdlZFRvdWNoZXMubGVuZ3RoID8gZS5jaGFuZ2VkVG91Y2hlc1swXSA6IG51bGw7XG4gIHRoaXMudGFyZ2V0ID0gZS50YXJnZXQgfHwgZS5zcmNFbGVtZW50O1xuICB0aGlzLmN1cnJlbnRUYXJnZXQgPSBvcHRfY3VycmVudFRhcmdldDtcbiAgdmFyIHJlbGF0ZWRUYXJnZXQgPSBlLnJlbGF0ZWRUYXJnZXQ7XG4gIHJlbGF0ZWRUYXJnZXQgPyBnb29nLnVzZXJBZ2VudC5HRUNLTyAmJiAoZ29vZy5yZWZsZWN0LmNhbkFjY2Vzc1Byb3BlcnR5KHJlbGF0ZWRUYXJnZXQsIFwibm9kZU5hbWVcIikgfHwgKHJlbGF0ZWRUYXJnZXQgPSBudWxsKSkgOiB0eXBlID09IGdvb2cuZXZlbnRzLkV2ZW50VHlwZS5NT1VTRU9WRVIgPyByZWxhdGVkVGFyZ2V0ID0gZS5mcm9tRWxlbWVudCA6IHR5cGUgPT0gZ29vZy5ldmVudHMuRXZlbnRUeXBlLk1PVVNFT1VUICYmIChyZWxhdGVkVGFyZ2V0ID0gZS50b0VsZW1lbnQpO1xuICB0aGlzLnJlbGF0ZWRUYXJnZXQgPSByZWxhdGVkVGFyZ2V0O1xuICByZWxldmFudFRvdWNoID8gKHRoaXMuY2xpZW50WCA9IHZvaWQgMCAhPT0gcmVsZXZhbnRUb3VjaC5jbGllbnRYID8gcmVsZXZhbnRUb3VjaC5jbGllbnRYIDogcmVsZXZhbnRUb3VjaC5wYWdlWCwgdGhpcy5jbGllbnRZID0gdm9pZCAwICE9PSByZWxldmFudFRvdWNoLmNsaWVudFkgPyByZWxldmFudFRvdWNoLmNsaWVudFkgOiByZWxldmFudFRvdWNoLnBhZ2VZLCB0aGlzLnNjcmVlblggPSByZWxldmFudFRvdWNoLnNjcmVlblggfHwgMCwgdGhpcy5zY3JlZW5ZID0gcmVsZXZhbnRUb3VjaC5zY3JlZW5ZIHx8IDApIDogKGdvb2cuZXZlbnRzLkJyb3dzZXJFdmVudC5VU0VfTEFZRVJfWFlfQVNfT0ZGU0VUX1hZID8gKHRoaXMub2Zmc2V0WCA9IHZvaWQgMCAhPT0gZS5sYXllclggPyBlLmxheWVyWCA6IGUub2Zmc2V0WCwgdGhpcy5vZmZzZXRZID0gdm9pZCAwICE9PSBlLmxheWVyWSA/IGUubGF5ZXJZIDogZS5vZmZzZXRZKSA6ICh0aGlzLm9mZnNldFggPSBnb29nLnVzZXJBZ2VudC5XRUJLSVQgfHwgXG4gIHZvaWQgMCAhPT0gZS5vZmZzZXRYID8gZS5vZmZzZXRYIDogZS5sYXllclgsIHRoaXMub2Zmc2V0WSA9IGdvb2cudXNlckFnZW50LldFQktJVCB8fCB2b2lkIDAgIT09IGUub2Zmc2V0WSA/IGUub2Zmc2V0WSA6IGUubGF5ZXJZKSwgdGhpcy5jbGllbnRYID0gdm9pZCAwICE9PSBlLmNsaWVudFggPyBlLmNsaWVudFggOiBlLnBhZ2VYLCB0aGlzLmNsaWVudFkgPSB2b2lkIDAgIT09IGUuY2xpZW50WSA/IGUuY2xpZW50WSA6IGUucGFnZVksIHRoaXMuc2NyZWVuWCA9IGUuc2NyZWVuWCB8fCAwLCB0aGlzLnNjcmVlblkgPSBlLnNjcmVlblkgfHwgMCk7XG4gIHRoaXMuYnV0dG9uID0gZS5idXR0b247XG4gIHRoaXMua2V5Q29kZSA9IGUua2V5Q29kZSB8fCAwO1xuICB0aGlzLmtleSA9IGUua2V5IHx8IFwiXCI7XG4gIHRoaXMuY2hhckNvZGUgPSBlLmNoYXJDb2RlIHx8IChcImtleXByZXNzXCIgPT0gdHlwZSA/IGUua2V5Q29kZSA6IDApO1xuICB0aGlzLmN0cmxLZXkgPSBlLmN0cmxLZXk7XG4gIHRoaXMuYWx0S2V5ID0gZS5hbHRLZXk7XG4gIHRoaXMuc2hpZnRLZXkgPSBlLnNoaWZ0S2V5O1xuICB0aGlzLm1ldGFLZXkgPSBlLm1ldGFLZXk7XG4gIHRoaXMucGxhdGZvcm1Nb2RpZmllcktleSA9IGdvb2cudXNlckFnZW50Lk1BQyA/IGUubWV0YUtleSA6IGUuY3RybEtleTtcbiAgdGhpcy5wb2ludGVySWQgPSBlLnBvaW50ZXJJZCB8fCAwO1xuICB0aGlzLnBvaW50ZXJUeXBlID0gZ29vZy5ldmVudHMuQnJvd3NlckV2ZW50LmdldFBvaW50ZXJUeXBlXyhlKTtcbiAgdGhpcy5zdGF0ZSA9IGUuc3RhdGU7XG4gIHRoaXMuZXZlbnRfID0gZTtcbiAgZS5kZWZhdWx0UHJldmVudGVkICYmIGdvb2cuZXZlbnRzLkJyb3dzZXJFdmVudC5zdXBlckNsYXNzXy5wcmV2ZW50RGVmYXVsdC5jYWxsKHRoaXMpO1xufTtcbmdvb2cuZXZlbnRzLkJyb3dzZXJFdmVudC5wcm90b3R5cGUuaXNCdXR0b24gPSBmdW5jdGlvbihidXR0b24pIHtcbiAgcmV0dXJuIHRoaXMuZXZlbnRfLmJ1dHRvbiA9PSBidXR0b247XG59O1xuZ29vZy5ldmVudHMuQnJvd3NlckV2ZW50LnByb3RvdHlwZS5pc01vdXNlQWN0aW9uQnV0dG9uID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLmlzQnV0dG9uKGdvb2cuZXZlbnRzLkJyb3dzZXJFdmVudC5Nb3VzZUJ1dHRvbi5MRUZUKSAmJiAhKGdvb2cudXNlckFnZW50Lk1BQyAmJiB0aGlzLmN0cmxLZXkpO1xufTtcbmdvb2cuZXZlbnRzLkJyb3dzZXJFdmVudC5wcm90b3R5cGUuc3RvcFByb3BhZ2F0aW9uID0gZnVuY3Rpb24oKSB7XG4gIGdvb2cuZXZlbnRzLkJyb3dzZXJFdmVudC5zdXBlckNsYXNzXy5zdG9wUHJvcGFnYXRpb24uY2FsbCh0aGlzKTtcbiAgdGhpcy5ldmVudF8uc3RvcFByb3BhZ2F0aW9uID8gdGhpcy5ldmVudF8uc3RvcFByb3BhZ2F0aW9uKCkgOiB0aGlzLmV2ZW50Xy5jYW5jZWxCdWJibGUgPSAhMDtcbn07XG5nb29nLmV2ZW50cy5Ccm93c2VyRXZlbnQucHJvdG90eXBlLnByZXZlbnREZWZhdWx0ID0gZnVuY3Rpb24oKSB7XG4gIGdvb2cuZXZlbnRzLkJyb3dzZXJFdmVudC5zdXBlckNsYXNzXy5wcmV2ZW50RGVmYXVsdC5jYWxsKHRoaXMpO1xuICB2YXIgYmUgPSB0aGlzLmV2ZW50XztcbiAgYmUucHJldmVudERlZmF1bHQgPyBiZS5wcmV2ZW50RGVmYXVsdCgpIDogYmUucmV0dXJuVmFsdWUgPSAhMTtcbn07XG5nb29nLmV2ZW50cy5Ccm93c2VyRXZlbnQucHJvdG90eXBlLmdldEJyb3dzZXJFdmVudCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5ldmVudF87XG59O1xuZ29vZy5ldmVudHMuQnJvd3NlckV2ZW50LmdldFBvaW50ZXJUeXBlXyA9IGZ1bmN0aW9uKGUpIHtcbiAgcmV0dXJuIFwic3RyaW5nXCIgPT09IHR5cGVvZiBlLnBvaW50ZXJUeXBlID8gZS5wb2ludGVyVHlwZSA6IGdvb2cuZXZlbnRzLkJyb3dzZXJFdmVudC5JRV9QT0lOVEVSX1RZUEVfTUFQW2UucG9pbnRlclR5cGVdIHx8IFwiXCI7XG59O1xuZ29vZy5ldmVudHMuTGlzdGVuYWJsZSA9IGZ1bmN0aW9uKCkge1xufTtcbmdvb2cuZXZlbnRzLkxpc3RlbmFibGUuSU1QTEVNRU5URURfQllfUFJPUCA9IFwiY2xvc3VyZV9saXN0ZW5hYmxlX1wiICsgKDFFNiAqIE1hdGgucmFuZG9tKCkgfCAwKTtcbmdvb2cuZXZlbnRzLkxpc3RlbmFibGUuYWRkSW1wbGVtZW50YXRpb24gPSBmdW5jdGlvbihjbHMpIHtcbiAgY2xzLnByb3RvdHlwZVtnb29nLmV2ZW50cy5MaXN0ZW5hYmxlLklNUExFTUVOVEVEX0JZX1BST1BdID0gITA7XG59O1xuZ29vZy5ldmVudHMuTGlzdGVuYWJsZS5pc0ltcGxlbWVudGVkQnkgPSBmdW5jdGlvbihvYmopIHtcbiAgcmV0dXJuICEoIW9iaiB8fCAhb2JqW2dvb2cuZXZlbnRzLkxpc3RlbmFibGUuSU1QTEVNRU5URURfQllfUFJPUF0pO1xufTtcbmdvb2cuZXZlbnRzLkxpc3RlbmFibGUucHJvdG90eXBlLmxpc3RlbiA9IGZ1bmN0aW9uKHR5cGUsIGxpc3RlbmVyLCBvcHRfdXNlQ2FwdHVyZSwgb3B0X2xpc3RlbmVyU2NvcGUpIHtcbn07XG5nb29nLmV2ZW50cy5MaXN0ZW5hYmxlLnByb3RvdHlwZS5saXN0ZW5PbmNlID0gZnVuY3Rpb24odHlwZSwgbGlzdGVuZXIsIG9wdF91c2VDYXB0dXJlLCBvcHRfbGlzdGVuZXJTY29wZSkge1xufTtcbmdvb2cuZXZlbnRzLkxpc3RlbmFibGUucHJvdG90eXBlLnVubGlzdGVuID0gZnVuY3Rpb24odHlwZSwgbGlzdGVuZXIsIG9wdF91c2VDYXB0dXJlLCBvcHRfbGlzdGVuZXJTY29wZSkge1xufTtcbmdvb2cuZXZlbnRzLkxpc3RlbmFibGUucHJvdG90eXBlLnVubGlzdGVuQnlLZXkgPSBmdW5jdGlvbihrZXkpIHtcbn07XG5nb29nLmV2ZW50cy5MaXN0ZW5hYmxlLnByb3RvdHlwZS5kaXNwYXRjaEV2ZW50ID0gZnVuY3Rpb24oZSkge1xufTtcbmdvb2cuZXZlbnRzLkxpc3RlbmFibGUucHJvdG90eXBlLnJlbW92ZUFsbExpc3RlbmVycyA9IGZ1bmN0aW9uKG9wdF90eXBlKSB7XG59O1xuZ29vZy5ldmVudHMuTGlzdGVuYWJsZS5wcm90b3R5cGUuZ2V0UGFyZW50RXZlbnRUYXJnZXQgPSBmdW5jdGlvbigpIHtcbn07XG5nb29nLmV2ZW50cy5MaXN0ZW5hYmxlLnByb3RvdHlwZS5maXJlTGlzdGVuZXJzID0gZnVuY3Rpb24odHlwZSwgY2FwdHVyZSwgZXZlbnRPYmplY3QpIHtcbn07XG5nb29nLmV2ZW50cy5MaXN0ZW5hYmxlLnByb3RvdHlwZS5nZXRMaXN0ZW5lcnMgPSBmdW5jdGlvbih0eXBlLCBjYXB0dXJlKSB7XG59O1xuZ29vZy5ldmVudHMuTGlzdGVuYWJsZS5wcm90b3R5cGUuZ2V0TGlzdGVuZXIgPSBmdW5jdGlvbih0eXBlLCBsaXN0ZW5lciwgY2FwdHVyZSwgb3B0X2xpc3RlbmVyU2NvcGUpIHtcbn07XG5nb29nLmV2ZW50cy5MaXN0ZW5hYmxlLnByb3RvdHlwZS5oYXNMaXN0ZW5lciA9IGZ1bmN0aW9uKG9wdF90eXBlLCBvcHRfY2FwdHVyZSkge1xufTtcbmdvb2cuZXZlbnRzLkxpc3RlbmFibGVLZXkgPSBmdW5jdGlvbigpIHtcbn07XG5nb29nLmV2ZW50cy5MaXN0ZW5hYmxlS2V5LmNvdW50ZXJfID0gMDtcbmdvb2cuZXZlbnRzLkxpc3RlbmFibGVLZXkucmVzZXJ2ZUtleSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gKytnb29nLmV2ZW50cy5MaXN0ZW5hYmxlS2V5LmNvdW50ZXJfO1xufTtcbmdvb2cuZXZlbnRzLkxpc3RlbmVyID0gZnVuY3Rpb24obGlzdGVuZXIsIHByb3h5LCBzcmMsIHR5cGUsIGNhcHR1cmUsIG9wdF9oYW5kbGVyKSB7XG4gIGdvb2cuZXZlbnRzLkxpc3RlbmVyLkVOQUJMRV9NT05JVE9SSU5HICYmICh0aGlzLmNyZWF0aW9uU3RhY2sgPSBFcnJvcigpLnN0YWNrKTtcbiAgdGhpcy5saXN0ZW5lciA9IGxpc3RlbmVyO1xuICB0aGlzLnByb3h5ID0gcHJveHk7XG4gIHRoaXMuc3JjID0gc3JjO1xuICB0aGlzLnR5cGUgPSB0eXBlO1xuICB0aGlzLmNhcHR1cmUgPSAhIWNhcHR1cmU7XG4gIHRoaXMuaGFuZGxlciA9IG9wdF9oYW5kbGVyO1xuICB0aGlzLmtleSA9IGdvb2cuZXZlbnRzLkxpc3RlbmFibGVLZXkucmVzZXJ2ZUtleSgpO1xuICB0aGlzLnJlbW92ZWQgPSB0aGlzLmNhbGxPbmNlID0gITE7XG59O1xuZ29vZy5ldmVudHMuTGlzdGVuZXIuRU5BQkxFX01PTklUT1JJTkcgPSAhMTtcbmdvb2cuZXZlbnRzLkxpc3RlbmVyLnByb3RvdHlwZS5tYXJrQXNSZW1vdmVkID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMucmVtb3ZlZCA9ICEwO1xuICB0aGlzLmhhbmRsZXIgPSB0aGlzLnNyYyA9IHRoaXMucHJveHkgPSB0aGlzLmxpc3RlbmVyID0gbnVsbDtcbn07XG5nb29nLm9iamVjdCA9IHt9O1xuZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2ckb2JqZWN0X2ZvckVhY2gob2JqLCBmLCBvcHRfb2JqKSB7XG4gIGZvciAodmFyIGtleSBpbiBvYmopIHtcbiAgICBmLmNhbGwob3B0X29iaiwgb2JqW2tleV0sIGtleSwgb2JqKTtcbiAgfVxufVxuZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2ckb2JqZWN0X2ZpbHRlcihvYmosIGYsIG9wdF9vYmopIHtcbiAgdmFyIHJlcyA9IHt9LCBrZXk7XG4gIGZvciAoa2V5IGluIG9iaikge1xuICAgIGYuY2FsbChvcHRfb2JqLCBvYmpba2V5XSwga2V5LCBvYmopICYmIChyZXNba2V5XSA9IG9ialtrZXldKTtcbiAgfVxuICByZXR1cm4gcmVzO1xufVxuZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2ckb2JqZWN0X21hcChvYmosIGYsIG9wdF9vYmopIHtcbiAgdmFyIHJlcyA9IHt9LCBrZXk7XG4gIGZvciAoa2V5IGluIG9iaikge1xuICAgIHJlc1trZXldID0gZi5jYWxsKG9wdF9vYmosIG9ialtrZXldLCBrZXksIG9iaik7XG4gIH1cbiAgcmV0dXJuIHJlcztcbn1cbmZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJG9iamVjdF9zb21lKG9iaiwgZiwgb3B0X29iaikge1xuICBmb3IgKHZhciBrZXkgaW4gb2JqKSB7XG4gICAgaWYgKGYuY2FsbChvcHRfb2JqLCBvYmpba2V5XSwga2V5LCBvYmopKSB7XG4gICAgICByZXR1cm4gITA7XG4gICAgfVxuICB9XG4gIHJldHVybiAhMTtcbn1cbmZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJG9iamVjdF9nZXRDb3VudChvYmopIHtcbiAgdmFyIHJ2ID0gMCwga2V5O1xuICBmb3IgKGtleSBpbiBvYmopIHtcbiAgICBydisrO1xuICB9XG4gIHJldHVybiBydjtcbn1cbmZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJG9iamVjdF9jb250YWlucyhvYmosIHZhbCkge1xuICByZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGdvb2ckb2JqZWN0X2NvbnRhaW5zVmFsdWUob2JqLCB2YWwpO1xufVxuZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2ckb2JqZWN0X2dldFZhbHVlcyhvYmopIHtcbiAgdmFyIHJlcyA9IFtdLCBpID0gMCwga2V5O1xuICBmb3IgKGtleSBpbiBvYmopIHtcbiAgICByZXNbaSsrXSA9IG9ialtrZXldO1xuICB9XG4gIHJldHVybiByZXM7XG59XG5mdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRvYmplY3RfZ2V0S2V5cyhvYmopIHtcbiAgdmFyIHJlcyA9IFtdLCBpID0gMCwga2V5O1xuICBmb3IgKGtleSBpbiBvYmopIHtcbiAgICByZXNbaSsrXSA9IGtleTtcbiAgfVxuICByZXR1cm4gcmVzO1xufVxuZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2ckb2JqZWN0X2NvbnRhaW5zS2V5KG9iaiwga2V5KSB7XG4gIHJldHVybiBudWxsICE9PSBvYmogJiYga2V5IGluIG9iajtcbn1cbmZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJG9iamVjdF9jb250YWluc1ZhbHVlKG9iaiwgdmFsKSB7XG4gIGZvciAodmFyIGtleSBpbiBvYmopIHtcbiAgICBpZiAob2JqW2tleV0gPT0gdmFsKSB7XG4gICAgICByZXR1cm4gITA7XG4gICAgfVxuICB9XG4gIHJldHVybiAhMTtcbn1cbmZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJG9iamVjdF9maW5kS2V5KG9iaiwgZiwgdGhpc09iaikge1xuICBmb3IgKHZhciBrZXkgaW4gb2JqKSB7XG4gICAgaWYgKGYuY2FsbCh0aGlzT2JqLCBvYmpba2V5XSwga2V5LCBvYmopKSB7XG4gICAgICByZXR1cm4ga2V5O1xuICAgIH1cbiAgfVxufVxuZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2ckb2JqZWN0X2lzRW1wdHkob2JqKSB7XG4gIGZvciAodmFyIGtleSBpbiBvYmopIHtcbiAgICByZXR1cm4gITE7XG4gIH1cbiAgcmV0dXJuICEwO1xufVxuZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2ckb2JqZWN0X2NsZWFyKG9iaikge1xuICBmb3IgKHZhciBpIGluIG9iaikge1xuICAgIGRlbGV0ZSBvYmpbaV07XG4gIH1cbn1cbmZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJG9iamVjdF9yZW1vdmUob2JqLCBrZXkpIHtcbiAgdmFyIHJ2O1xuICAocnYgPSBrZXkgaW4gb2JqKSAmJiBkZWxldGUgb2JqW2tleV07XG4gIHJldHVybiBydjtcbn1cbmZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJG9iamVjdF9zZXQob2JqLCBrZXksIHZhbHVlKSB7XG4gIG9ialtrZXldID0gdmFsdWU7XG59XG5mdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRvYmplY3RfY2xvbmUob2JqKSB7XG4gIHZhciByZXMgPSB7fSwga2V5O1xuICBmb3IgKGtleSBpbiBvYmopIHtcbiAgICByZXNba2V5XSA9IG9ialtrZXldO1xuICB9XG4gIHJldHVybiByZXM7XG59XG5mdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRvYmplY3RfdW5zYWZlQ2xvbmUob2JqKSB7XG4gIGlmICghb2JqIHx8IFwib2JqZWN0XCIgIT09IHR5cGVvZiBvYmopIHtcbiAgICByZXR1cm4gb2JqO1xuICB9XG4gIGlmIChcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBvYmouY2xvbmUpIHtcbiAgICByZXR1cm4gb2JqLmNsb25lKCk7XG4gIH1cbiAgaWYgKFwidW5kZWZpbmVkXCIgIT09IHR5cGVvZiBNYXAgJiYgb2JqIGluc3RhbmNlb2YgTWFwKSB7XG4gICAgcmV0dXJuIG5ldyBNYXAob2JqKTtcbiAgfVxuICBpZiAoXCJ1bmRlZmluZWRcIiAhPT0gdHlwZW9mIFNldCAmJiBvYmogaW5zdGFuY2VvZiBTZXQpIHtcbiAgICByZXR1cm4gbmV3IFNldChvYmopO1xuICB9XG4gIGlmIChvYmogaW5zdGFuY2VvZiBEYXRlKSB7XG4gICAgcmV0dXJuIG5ldyBEYXRlKG9iai5nZXRUaW1lKCkpO1xuICB9XG4gIHZhciBjbG9uZSA9IEFycmF5LmlzQXJyYXkob2JqKSA/IFtdIDogXCJmdW5jdGlvblwiICE9PSB0eXBlb2YgQXJyYXlCdWZmZXIgfHwgXCJmdW5jdGlvblwiICE9PSB0eXBlb2YgQXJyYXlCdWZmZXIuaXNWaWV3IHx8ICFBcnJheUJ1ZmZlci5pc1ZpZXcob2JqKSB8fCBvYmogaW5zdGFuY2VvZiBEYXRhVmlldyA/IHt9IDogbmV3IG9iai5jb25zdHJ1Y3RvcihvYmoubGVuZ3RoKSwga2V5O1xuICBmb3IgKGtleSBpbiBvYmopIHtcbiAgICBjbG9uZVtrZXldID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckb2JqZWN0X3Vuc2FmZUNsb25lKG9ialtrZXldKTtcbiAgfVxuICByZXR1cm4gY2xvbmU7XG59XG52YXIgbW9kdWxlJGNvbnRlbnRzJGdvb2ckb2JqZWN0X1BST1RPVFlQRV9GSUVMRFMgPSBcImNvbnN0cnVjdG9yIGhhc093blByb3BlcnR5IGlzUHJvdG90eXBlT2YgcHJvcGVydHlJc0VudW1lcmFibGUgdG9Mb2NhbGVTdHJpbmcgdG9TdHJpbmcgdmFsdWVPZlwiLnNwbGl0KFwiIFwiKTtcbmZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJG9iamVjdF9leHRlbmQodGFyZ2V0LCB2YXJfYXJncykge1xuICBmb3IgKHZhciBrZXksIHNvdXJjZSwgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICBzb3VyY2UgPSBhcmd1bWVudHNbaV07XG4gICAgZm9yIChrZXkgaW4gc291cmNlKSB7XG4gICAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldO1xuICAgIH1cbiAgICBmb3IgKHZhciBqID0gMDsgaiA8IG1vZHVsZSRjb250ZW50cyRnb29nJG9iamVjdF9QUk9UT1RZUEVfRklFTERTLmxlbmd0aDsgaisrKSB7XG4gICAgICBrZXkgPSBtb2R1bGUkY29udGVudHMkZ29vZyRvYmplY3RfUFJPVE9UWVBFX0ZJRUxEU1tqXSwgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSAmJiAodGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XSk7XG4gICAgfVxuICB9XG59XG5mdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRvYmplY3RfY3JlYXRlKHZhcl9hcmdzKSB7XG4gIHZhciBhcmdMZW5ndGggPSBhcmd1bWVudHMubGVuZ3RoO1xuICBpZiAoMSA9PSBhcmdMZW5ndGggJiYgQXJyYXkuaXNBcnJheShhcmd1bWVudHNbMF0pKSB7XG4gICAgcmV0dXJuIG1vZHVsZSRjb250ZW50cyRnb29nJG9iamVjdF9jcmVhdGUuYXBwbHkobnVsbCwgYXJndW1lbnRzWzBdKTtcbiAgfVxuICBpZiAoYXJnTGVuZ3RoICUgMikge1xuICAgIHRocm93IEVycm9yKFwiVW5ldmVuIG51bWJlciBvZiBhcmd1bWVudHNcIik7XG4gIH1cbiAgZm9yICh2YXIgcnYgPSB7fSwgaSA9IDA7IGkgPCBhcmdMZW5ndGg7IGkgKz0gMikge1xuICAgIHJ2W2FyZ3VtZW50c1tpXV0gPSBhcmd1bWVudHNbaSArIDFdO1xuICB9XG4gIHJldHVybiBydjtcbn1cbmZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJG9iamVjdF9jcmVhdGVTZXQodmFyX2FyZ3MpIHtcbiAgdmFyIGFyZ0xlbmd0aCA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gIGlmICgxID09IGFyZ0xlbmd0aCAmJiBBcnJheS5pc0FycmF5KGFyZ3VtZW50c1swXSkpIHtcbiAgICByZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGdvb2ckb2JqZWN0X2NyZWF0ZVNldC5hcHBseShudWxsLCBhcmd1bWVudHNbMF0pO1xuICB9XG4gIGZvciAodmFyIHJ2ID0ge30sIGkgPSAwOyBpIDwgYXJnTGVuZ3RoOyBpKyspIHtcbiAgICBydlthcmd1bWVudHNbaV1dID0gITA7XG4gIH1cbiAgcmV0dXJuIHJ2O1xufVxuZ29vZy5vYmplY3QuYWRkID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2ckb2JqZWN0X2FkZChvYmosIGtleSwgdmFsKSB7XG4gIGlmIChudWxsICE9PSBvYmogJiYga2V5IGluIG9iaikge1xuICAgIHRocm93IEVycm9yKCdUaGUgb2JqZWN0IGFscmVhZHkgY29udGFpbnMgdGhlIGtleSBcIicgKyBrZXkgKyAnXCInKTtcbiAgfVxuICBtb2R1bGUkY29udGVudHMkZ29vZyRvYmplY3Rfc2V0KG9iaiwga2V5LCB2YWwpO1xufTtcbmdvb2cub2JqZWN0LmNsZWFyID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckb2JqZWN0X2NsZWFyO1xuZ29vZy5vYmplY3QuY2xvbmUgPSBtb2R1bGUkY29udGVudHMkZ29vZyRvYmplY3RfY2xvbmU7XG5nb29nLm9iamVjdC5jb250YWlucyA9IG1vZHVsZSRjb250ZW50cyRnb29nJG9iamVjdF9jb250YWlucztcbmdvb2cub2JqZWN0LmNvbnRhaW5zS2V5ID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckb2JqZWN0X2NvbnRhaW5zS2V5O1xuZ29vZy5vYmplY3QuY29udGFpbnNWYWx1ZSA9IG1vZHVsZSRjb250ZW50cyRnb29nJG9iamVjdF9jb250YWluc1ZhbHVlO1xuZ29vZy5vYmplY3QuY3JlYXRlID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckb2JqZWN0X2NyZWF0ZTtcbmdvb2cub2JqZWN0LmNyZWF0ZUltbXV0YWJsZVZpZXcgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRvYmplY3RfY3JlYXRlSW1tdXRhYmxlVmlldyhvYmopIHtcbiAgdmFyIHJlc3VsdCA9IG9iajtcbiAgT2JqZWN0LmlzRnJvemVuICYmICFPYmplY3QuaXNGcm96ZW4ob2JqKSAmJiAocmVzdWx0ID0gT2JqZWN0LmNyZWF0ZShvYmopLCBPYmplY3QuZnJlZXplKHJlc3VsdCkpO1xuICByZXR1cm4gcmVzdWx0O1xufTtcbmdvb2cub2JqZWN0LmNyZWF0ZVNldCA9IG1vZHVsZSRjb250ZW50cyRnb29nJG9iamVjdF9jcmVhdGVTZXQ7XG5nb29nLm9iamVjdC5lcXVhbHMgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRvYmplY3RfZXF1YWxzKGEsIGIpIHtcbiAgZm9yICh2YXIgayBpbiBhKSB7XG4gICAgaWYgKCEoayBpbiBiKSB8fCBhW2tdICE9PSBiW2tdKSB7XG4gICAgICByZXR1cm4gITE7XG4gICAgfVxuICB9XG4gIGZvciAodmFyIGskNDUgaW4gYikge1xuICAgIGlmICghKGskNDUgaW4gYSkpIHtcbiAgICAgIHJldHVybiAhMTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuICEwO1xufTtcbmdvb2cub2JqZWN0LmV2ZXJ5ID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2ckb2JqZWN0X2V2ZXJ5KG9iaiwgZiwgb3B0X29iaikge1xuICBmb3IgKHZhciBrZXkgaW4gb2JqKSB7XG4gICAgaWYgKCFmLmNhbGwob3B0X29iaiwgb2JqW2tleV0sIGtleSwgb2JqKSkge1xuICAgICAgcmV0dXJuICExO1xuICAgIH1cbiAgfVxuICByZXR1cm4gITA7XG59O1xuZ29vZy5vYmplY3QuZXh0ZW5kID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckb2JqZWN0X2V4dGVuZDtcbmdvb2cub2JqZWN0LmZpbHRlciA9IG1vZHVsZSRjb250ZW50cyRnb29nJG9iamVjdF9maWx0ZXI7XG5nb29nLm9iamVjdC5maW5kS2V5ID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckb2JqZWN0X2ZpbmRLZXk7XG5nb29nLm9iamVjdC5maW5kVmFsdWUgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRvYmplY3RfZmluZFZhbHVlKG9iaiwgZiwgdGhpc09iaikge1xuICB2YXIga2V5ID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckb2JqZWN0X2ZpbmRLZXkob2JqLCBmLCB0aGlzT2JqKTtcbiAgcmV0dXJuIGtleSAmJiBvYmpba2V5XTtcbn07XG5nb29nLm9iamVjdC5mb3JFYWNoID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckb2JqZWN0X2ZvckVhY2g7XG5nb29nLm9iamVjdC5nZXQgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRvYmplY3RfZ2V0KG9iaiwga2V5LCB2YWwpIHtcbiAgcmV0dXJuIG51bGwgIT09IG9iaiAmJiBrZXkgaW4gb2JqID8gb2JqW2tleV0gOiB2YWw7XG59O1xuZ29vZy5vYmplY3QuZ2V0QWxsUHJvcGVydHlOYW1lcyA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJG9iamVjdF9nZXRBbGxQcm9wZXJ0eU5hbWVzKG9iaiwgaW5jbHVkZU9iamVjdFByb3RvdHlwZSwgaW5jbHVkZUZ1bmN0aW9uUHJvdG90eXBlKSB7XG4gIGlmICghb2JqKSB7XG4gICAgcmV0dXJuIFtdO1xuICB9XG4gIGlmICghT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMgfHwgIU9iamVjdC5nZXRQcm90b3R5cGVPZikge1xuICAgIHJldHVybiBtb2R1bGUkY29udGVudHMkZ29vZyRvYmplY3RfZ2V0S2V5cyhvYmopO1xuICB9XG4gIGZvciAodmFyIHZpc2l0ZWRTZXQgPSB7fSwgcHJvdG8gPSBvYmo7IHByb3RvICYmIChwcm90byAhPT0gT2JqZWN0LnByb3RvdHlwZSB8fCBpbmNsdWRlT2JqZWN0UHJvdG90eXBlKSAmJiAocHJvdG8gIT09IEZ1bmN0aW9uLnByb3RvdHlwZSB8fCBpbmNsdWRlRnVuY3Rpb25Qcm90b3R5cGUpOykge1xuICAgIGZvciAodmFyIG5hbWVzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMocHJvdG8pLCBpID0gMDsgaSA8IG5hbWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2aXNpdGVkU2V0W25hbWVzW2ldXSA9ICEwO1xuICAgIH1cbiAgICBwcm90byA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihwcm90byk7XG4gIH1cbiAgcmV0dXJuIG1vZHVsZSRjb250ZW50cyRnb29nJG9iamVjdF9nZXRLZXlzKHZpc2l0ZWRTZXQpO1xufTtcbmdvb2cub2JqZWN0LmdldEFueUtleSA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJG9iamVjdF9nZXRBbnlLZXkob2JqKSB7XG4gIGZvciAodmFyIGtleSBpbiBvYmopIHtcbiAgICByZXR1cm4ga2V5O1xuICB9XG59O1xuZ29vZy5vYmplY3QuZ2V0QW55VmFsdWUgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRvYmplY3RfZ2V0QW55VmFsdWUob2JqKSB7XG4gIGZvciAodmFyIGtleSBpbiBvYmopIHtcbiAgICByZXR1cm4gb2JqW2tleV07XG4gIH1cbn07XG5nb29nLm9iamVjdC5nZXRDb3VudCA9IG1vZHVsZSRjb250ZW50cyRnb29nJG9iamVjdF9nZXRDb3VudDtcbmdvb2cub2JqZWN0LmdldEtleXMgPSBtb2R1bGUkY29udGVudHMkZ29vZyRvYmplY3RfZ2V0S2V5cztcbmdvb2cub2JqZWN0LmdldFN1cGVyQ2xhc3MgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRvYmplY3RfZ2V0U3VwZXJDbGFzcyhjb25zdHJ1Y3Rvcikge1xuICB2YXIgcHJvdG8gPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YoY29uc3RydWN0b3IucHJvdG90eXBlKTtcbiAgcmV0dXJuIHByb3RvICYmIHByb3RvLmNvbnN0cnVjdG9yO1xufTtcbmdvb2cub2JqZWN0LmdldFZhbHVlQnlLZXlzID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2ckb2JqZWN0X2dldFZhbHVlQnlLZXlzKG9iaiwgdmFyX2FyZ3MpIHtcbiAgZm9yICh2YXIgaXNBcnJheUxpa2UgPSBnb29nLmlzQXJyYXlMaWtlKHZhcl9hcmdzKSwga2V5cyA9IGlzQXJyYXlMaWtlID8gdmFyX2FyZ3MgOiBhcmd1bWVudHMsIGkgPSBpc0FycmF5TGlrZSA/IDAgOiAxOyBpIDwga2V5cy5sZW5ndGg7IGkrKykge1xuICAgIGlmIChudWxsID09IG9iaikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBvYmogPSBvYmpba2V5c1tpXV07XG4gIH1cbiAgcmV0dXJuIG9iajtcbn07XG5nb29nLm9iamVjdC5nZXRWYWx1ZXMgPSBtb2R1bGUkY29udGVudHMkZ29vZyRvYmplY3RfZ2V0VmFsdWVzO1xuZ29vZy5vYmplY3QuaXNFbXB0eSA9IG1vZHVsZSRjb250ZW50cyRnb29nJG9iamVjdF9pc0VtcHR5O1xuZ29vZy5vYmplY3QuaXNJbW11dGFibGVWaWV3ID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2ckb2JqZWN0X2lzSW1tdXRhYmxlVmlldyhvYmopIHtcbiAgcmV0dXJuICEhT2JqZWN0LmlzRnJvemVuICYmIE9iamVjdC5pc0Zyb3plbihvYmopO1xufTtcbmdvb2cub2JqZWN0Lm1hcCA9IG1vZHVsZSRjb250ZW50cyRnb29nJG9iamVjdF9tYXA7XG5nb29nLm9iamVjdC5yZW1vdmUgPSBtb2R1bGUkY29udGVudHMkZ29vZyRvYmplY3RfcmVtb3ZlO1xuZ29vZy5vYmplY3Quc2V0ID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckb2JqZWN0X3NldDtcbmdvb2cub2JqZWN0LnNldElmVW5kZWZpbmVkID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2ckb2JqZWN0X3NldElmVW5kZWZpbmVkKG9iaiwga2V5LCB2YWx1ZSkge1xuICByZXR1cm4ga2V5IGluIG9iaiA/IG9ialtrZXldIDogb2JqW2tleV0gPSB2YWx1ZTtcbn07XG5nb29nLm9iamVjdC5zZXRXaXRoUmV0dXJuVmFsdWVJZk5vdFNldCA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJG9iamVjdF9zZXRXaXRoUmV0dXJuVmFsdWVJZk5vdFNldChvYmosIGtleSwgZikge1xuICBpZiAoa2V5IGluIG9iaikge1xuICAgIHJldHVybiBvYmpba2V5XTtcbiAgfVxuICB2YXIgdmFsID0gZigpO1xuICByZXR1cm4gb2JqW2tleV0gPSB2YWw7XG59O1xuZ29vZy5vYmplY3Quc29tZSA9IG1vZHVsZSRjb250ZW50cyRnb29nJG9iamVjdF9zb21lO1xuZ29vZy5vYmplY3QudHJhbnNwb3NlID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2ckb2JqZWN0X3RyYW5zcG9zZShvYmopIHtcbiAgdmFyIHRyYW5zcG9zZWQgPSB7fSwga2V5O1xuICBmb3IgKGtleSBpbiBvYmopIHtcbiAgICB0cmFuc3Bvc2VkW29ialtrZXldXSA9IGtleTtcbiAgfVxuICByZXR1cm4gdHJhbnNwb3NlZDtcbn07XG5nb29nLm9iamVjdC51bnNhZmVDbG9uZSA9IG1vZHVsZSRjb250ZW50cyRnb29nJG9iamVjdF91bnNhZmVDbG9uZTtcbmdvb2cuZXZlbnRzLkxpc3RlbmVyTWFwID0gZnVuY3Rpb24oc3JjKSB7XG4gIHRoaXMuc3JjID0gc3JjO1xuICB0aGlzLmxpc3RlbmVycyA9IHt9O1xuICB0aGlzLnR5cGVDb3VudF8gPSAwO1xufTtcbmdvb2cuZXZlbnRzLkxpc3RlbmVyTWFwLnByb3RvdHlwZS5nZXRUeXBlQ291bnQgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMudHlwZUNvdW50Xztcbn07XG5nb29nLmV2ZW50cy5MaXN0ZW5lck1hcC5wcm90b3R5cGUuZ2V0TGlzdGVuZXJDb3VudCA9IGZ1bmN0aW9uKCkge1xuICB2YXIgY291bnQgPSAwLCB0eXBlO1xuICBmb3IgKHR5cGUgaW4gdGhpcy5saXN0ZW5lcnMpIHtcbiAgICBjb3VudCArPSB0aGlzLmxpc3RlbmVyc1t0eXBlXS5sZW5ndGg7XG4gIH1cbiAgcmV0dXJuIGNvdW50O1xufTtcbmdvb2cuZXZlbnRzLkxpc3RlbmVyTWFwLnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbih0eXBlLCBsaXN0ZW5lciwgY2FsbE9uY2UsIG9wdF91c2VDYXB0dXJlLCBvcHRfbGlzdGVuZXJTY29wZSkge1xuICB2YXIgdHlwZVN0ciA9IHR5cGUudG9TdHJpbmcoKSwgbGlzdGVuZXJBcnJheSA9IHRoaXMubGlzdGVuZXJzW3R5cGVTdHJdO1xuICBsaXN0ZW5lckFycmF5IHx8IChsaXN0ZW5lckFycmF5ID0gdGhpcy5saXN0ZW5lcnNbdHlwZVN0cl0gPSBbXSwgdGhpcy50eXBlQ291bnRfKyspO1xuICB2YXIgaW5kZXggPSBnb29nLmV2ZW50cy5MaXN0ZW5lck1hcC5maW5kTGlzdGVuZXJJbmRleF8obGlzdGVuZXJBcnJheSwgbGlzdGVuZXIsIG9wdF91c2VDYXB0dXJlLCBvcHRfbGlzdGVuZXJTY29wZSk7XG4gIGlmICgtMSA8IGluZGV4KSB7XG4gICAgdmFyIGxpc3RlbmVyT2JqID0gbGlzdGVuZXJBcnJheVtpbmRleF07XG4gICAgY2FsbE9uY2UgfHwgKGxpc3RlbmVyT2JqLmNhbGxPbmNlID0gITEpO1xuICB9IGVsc2Uge1xuICAgIGxpc3RlbmVyT2JqID0gbmV3IGdvb2cuZXZlbnRzLkxpc3RlbmVyKGxpc3RlbmVyLCBudWxsLCB0aGlzLnNyYywgdHlwZVN0ciwgISFvcHRfdXNlQ2FwdHVyZSwgb3B0X2xpc3RlbmVyU2NvcGUpLCBsaXN0ZW5lck9iai5jYWxsT25jZSA9IGNhbGxPbmNlLCBsaXN0ZW5lckFycmF5LnB1c2gobGlzdGVuZXJPYmopO1xuICB9XG4gIHJldHVybiBsaXN0ZW5lck9iajtcbn07XG5nb29nLmV2ZW50cy5MaXN0ZW5lck1hcC5wcm90b3R5cGUucmVtb3ZlID0gZnVuY3Rpb24odHlwZSwgbGlzdGVuZXIsIG9wdF91c2VDYXB0dXJlLCBvcHRfbGlzdGVuZXJTY29wZSkge1xuICB2YXIgdHlwZVN0ciA9IHR5cGUudG9TdHJpbmcoKTtcbiAgaWYgKCEodHlwZVN0ciBpbiB0aGlzLmxpc3RlbmVycykpIHtcbiAgICByZXR1cm4gITE7XG4gIH1cbiAgdmFyIGxpc3RlbmVyQXJyYXkgPSB0aGlzLmxpc3RlbmVyc1t0eXBlU3RyXSwgaW5kZXggPSBnb29nLmV2ZW50cy5MaXN0ZW5lck1hcC5maW5kTGlzdGVuZXJJbmRleF8obGlzdGVuZXJBcnJheSwgbGlzdGVuZXIsIG9wdF91c2VDYXB0dXJlLCBvcHRfbGlzdGVuZXJTY29wZSk7XG4gIHJldHVybiAtMSA8IGluZGV4ID8gKGxpc3RlbmVyQXJyYXlbaW5kZXhdLm1hcmtBc1JlbW92ZWQoKSwgbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfcmVtb3ZlQXQobGlzdGVuZXJBcnJheSwgaW5kZXgpLCAwID09IGxpc3RlbmVyQXJyYXkubGVuZ3RoICYmIChkZWxldGUgdGhpcy5saXN0ZW5lcnNbdHlwZVN0cl0sIHRoaXMudHlwZUNvdW50Xy0tKSwgITApIDogITE7XG59O1xuZ29vZy5ldmVudHMuTGlzdGVuZXJNYXAucHJvdG90eXBlLnJlbW92ZUJ5S2V5ID0gZnVuY3Rpb24obGlzdGVuZXIpIHtcbiAgdmFyIHR5cGUgPSBsaXN0ZW5lci50eXBlO1xuICBpZiAoISh0eXBlIGluIHRoaXMubGlzdGVuZXJzKSkge1xuICAgIHJldHVybiAhMTtcbiAgfVxuICB2YXIgcmVtb3ZlZCA9IG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X3JlbW92ZSh0aGlzLmxpc3RlbmVyc1t0eXBlXSwgbGlzdGVuZXIpO1xuICByZW1vdmVkICYmIChsaXN0ZW5lci5tYXJrQXNSZW1vdmVkKCksIDAgPT0gdGhpcy5saXN0ZW5lcnNbdHlwZV0ubGVuZ3RoICYmIChkZWxldGUgdGhpcy5saXN0ZW5lcnNbdHlwZV0sIHRoaXMudHlwZUNvdW50Xy0tKSk7XG4gIHJldHVybiByZW1vdmVkO1xufTtcbmdvb2cuZXZlbnRzLkxpc3RlbmVyTWFwLnByb3RvdHlwZS5yZW1vdmVBbGwgPSBmdW5jdGlvbihvcHRfdHlwZSkge1xuICB2YXIgdHlwZVN0ciA9IG9wdF90eXBlICYmIG9wdF90eXBlLnRvU3RyaW5nKCksIGNvdW50ID0gMCwgdHlwZTtcbiAgZm9yICh0eXBlIGluIHRoaXMubGlzdGVuZXJzKSB7XG4gICAgaWYgKCF0eXBlU3RyIHx8IHR5cGUgPT0gdHlwZVN0cikge1xuICAgICAgZm9yICh2YXIgbGlzdGVuZXJBcnJheSA9IHRoaXMubGlzdGVuZXJzW3R5cGVdLCBpID0gMDsgaSA8IGxpc3RlbmVyQXJyYXkubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgKytjb3VudCwgbGlzdGVuZXJBcnJheVtpXS5tYXJrQXNSZW1vdmVkKCk7XG4gICAgICB9XG4gICAgICBkZWxldGUgdGhpcy5saXN0ZW5lcnNbdHlwZV07XG4gICAgICB0aGlzLnR5cGVDb3VudF8tLTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGNvdW50O1xufTtcbmdvb2cuZXZlbnRzLkxpc3RlbmVyTWFwLnByb3RvdHlwZS5nZXRMaXN0ZW5lcnMgPSBmdW5jdGlvbih0eXBlLCBjYXB0dXJlKSB7XG4gIHZhciBsaXN0ZW5lckFycmF5ID0gdGhpcy5saXN0ZW5lcnNbdHlwZS50b1N0cmluZygpXSwgcnYgPSBbXTtcbiAgaWYgKGxpc3RlbmVyQXJyYXkpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxpc3RlbmVyQXJyYXkubGVuZ3RoOyArK2kpIHtcbiAgICAgIHZhciBsaXN0ZW5lck9iaiA9IGxpc3RlbmVyQXJyYXlbaV07XG4gICAgICBsaXN0ZW5lck9iai5jYXB0dXJlID09IGNhcHR1cmUgJiYgcnYucHVzaChsaXN0ZW5lck9iaik7XG4gICAgfVxuICB9XG4gIHJldHVybiBydjtcbn07XG5nb29nLmV2ZW50cy5MaXN0ZW5lck1hcC5wcm90b3R5cGUuZ2V0TGlzdGVuZXIgPSBmdW5jdGlvbih0eXBlLCBsaXN0ZW5lciwgY2FwdHVyZSwgb3B0X2xpc3RlbmVyU2NvcGUpIHtcbiAgdmFyIGxpc3RlbmVyQXJyYXkgPSB0aGlzLmxpc3RlbmVyc1t0eXBlLnRvU3RyaW5nKCldLCBpID0gLTE7XG4gIGxpc3RlbmVyQXJyYXkgJiYgKGkgPSBnb29nLmV2ZW50cy5MaXN0ZW5lck1hcC5maW5kTGlzdGVuZXJJbmRleF8obGlzdGVuZXJBcnJheSwgbGlzdGVuZXIsIGNhcHR1cmUsIG9wdF9saXN0ZW5lclNjb3BlKSk7XG4gIHJldHVybiAtMSA8IGkgPyBsaXN0ZW5lckFycmF5W2ldIDogbnVsbDtcbn07XG5nb29nLmV2ZW50cy5MaXN0ZW5lck1hcC5wcm90b3R5cGUuaGFzTGlzdGVuZXIgPSBmdW5jdGlvbihvcHRfdHlwZSwgb3B0X2NhcHR1cmUpIHtcbiAgdmFyIGhhc1R5cGUgPSB2b2lkIDAgIT09IG9wdF90eXBlLCB0eXBlU3RyID0gaGFzVHlwZSA/IG9wdF90eXBlLnRvU3RyaW5nKCkgOiBcIlwiLCBoYXNDYXB0dXJlID0gdm9pZCAwICE9PSBvcHRfY2FwdHVyZTtcbiAgcmV0dXJuIG1vZHVsZSRjb250ZW50cyRnb29nJG9iamVjdF9zb21lKHRoaXMubGlzdGVuZXJzLCBmdW5jdGlvbihsaXN0ZW5lckFycmF5LCB0eXBlKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0ZW5lckFycmF5Lmxlbmd0aDsgKytpKSB7XG4gICAgICBpZiAoIShoYXNUeXBlICYmIGxpc3RlbmVyQXJyYXlbaV0udHlwZSAhPSB0eXBlU3RyIHx8IGhhc0NhcHR1cmUgJiYgbGlzdGVuZXJBcnJheVtpXS5jYXB0dXJlICE9IG9wdF9jYXB0dXJlKSkge1xuICAgICAgICByZXR1cm4gITA7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiAhMTtcbiAgfSk7XG59O1xuZ29vZy5ldmVudHMuTGlzdGVuZXJNYXAuZmluZExpc3RlbmVySW5kZXhfID0gZnVuY3Rpb24obGlzdGVuZXJBcnJheSwgbGlzdGVuZXIsIG9wdF91c2VDYXB0dXJlLCBvcHRfbGlzdGVuZXJTY29wZSkge1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGxpc3RlbmVyQXJyYXkubGVuZ3RoOyArK2kpIHtcbiAgICB2YXIgbGlzdGVuZXJPYmogPSBsaXN0ZW5lckFycmF5W2ldO1xuICAgIGlmICghbGlzdGVuZXJPYmoucmVtb3ZlZCAmJiBsaXN0ZW5lck9iai5saXN0ZW5lciA9PSBsaXN0ZW5lciAmJiBsaXN0ZW5lck9iai5jYXB0dXJlID09ICEhb3B0X3VzZUNhcHR1cmUgJiYgbGlzdGVuZXJPYmouaGFuZGxlciA9PSBvcHRfbGlzdGVuZXJTY29wZSkge1xuICAgICAgcmV0dXJuIGk7XG4gICAgfVxuICB9XG4gIHJldHVybiAtMTtcbn07XG5nb29nLmV2ZW50cy5LZXkgPSB7fTtcbmdvb2cuZXZlbnRzLkxpc3RlbmFibGVUeXBlID0ge307XG5nb29nLmV2ZW50cy5MSVNURU5FUl9NQVBfUFJPUF8gPSBcImNsb3N1cmVfbG1fXCIgKyAoMUU2ICogTWF0aC5yYW5kb20oKSB8IDApO1xuZ29vZy5ldmVudHMub25TdHJpbmdfID0gXCJvblwiO1xuZ29vZy5ldmVudHMub25TdHJpbmdNYXBfID0ge307XG5nb29nLmV2ZW50cy5DYXB0dXJlU2ltdWxhdGlvbk1vZGUgPSB7T0ZGX0FORF9GQUlMOjAsIE9GRl9BTkRfU0lMRU5UOjEsIE9OOjJ9O1xuZ29vZy5ldmVudHMuQ0FQVFVSRV9TSU1VTEFUSU9OX01PREUgPSAyO1xuZ29vZy5ldmVudHMubGlzdGVuZXJDb3VudEVzdGltYXRlXyA9IDA7XG5nb29nLmV2ZW50cy5saXN0ZW4gPSBmdW5jdGlvbihzcmMsIHR5cGUsIGxpc3RlbmVyLCBvcHRfb3B0aW9ucywgb3B0X2hhbmRsZXIpIHtcbiAgaWYgKG9wdF9vcHRpb25zICYmIG9wdF9vcHRpb25zLm9uY2UpIHtcbiAgICByZXR1cm4gZ29vZy5ldmVudHMubGlzdGVuT25jZShzcmMsIHR5cGUsIGxpc3RlbmVyLCBvcHRfb3B0aW9ucywgb3B0X2hhbmRsZXIpO1xuICB9XG4gIGlmIChBcnJheS5pc0FycmF5KHR5cGUpKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0eXBlLmxlbmd0aDsgaSsrKSB7XG4gICAgICBnb29nLmV2ZW50cy5saXN0ZW4oc3JjLCB0eXBlW2ldLCBsaXN0ZW5lciwgb3B0X29wdGlvbnMsIG9wdF9oYW5kbGVyKTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgbGlzdGVuZXIgPSBnb29nLmV2ZW50cy53cmFwTGlzdGVuZXIobGlzdGVuZXIpO1xuICByZXR1cm4gZ29vZy5ldmVudHMuTGlzdGVuYWJsZS5pc0ltcGxlbWVudGVkQnkoc3JjKSA/IHNyYy5saXN0ZW4odHlwZSwgbGlzdGVuZXIsIGdvb2cuaXNPYmplY3Qob3B0X29wdGlvbnMpID8gISFvcHRfb3B0aW9ucy5jYXB0dXJlIDogISFvcHRfb3B0aW9ucywgb3B0X2hhbmRsZXIpIDogZ29vZy5ldmVudHMubGlzdGVuXyhzcmMsIHR5cGUsIGxpc3RlbmVyLCAhMSwgb3B0X29wdGlvbnMsIG9wdF9oYW5kbGVyKTtcbn07XG5nb29nLmV2ZW50cy5saXN0ZW5fID0gZnVuY3Rpb24oc3JjLCB0eXBlLCBsaXN0ZW5lciwgY2FsbE9uY2UsIG9wdF9vcHRpb25zLCBvcHRfaGFuZGxlcikge1xuICBpZiAoIXR5cGUpIHtcbiAgICB0aHJvdyBFcnJvcihcIkludmFsaWQgZXZlbnQgdHlwZVwiKTtcbiAgfVxuICB2YXIgY2FwdHVyZSA9IGdvb2cuaXNPYmplY3Qob3B0X29wdGlvbnMpID8gISFvcHRfb3B0aW9ucy5jYXB0dXJlIDogISFvcHRfb3B0aW9ucywgbGlzdGVuZXJNYXAgPSBnb29nLmV2ZW50cy5nZXRMaXN0ZW5lck1hcF8oc3JjKTtcbiAgbGlzdGVuZXJNYXAgfHwgKHNyY1tnb29nLmV2ZW50cy5MSVNURU5FUl9NQVBfUFJPUF9dID0gbGlzdGVuZXJNYXAgPSBuZXcgZ29vZy5ldmVudHMuTGlzdGVuZXJNYXAoc3JjKSk7XG4gIHZhciBsaXN0ZW5lck9iaiA9IGxpc3RlbmVyTWFwLmFkZCh0eXBlLCBsaXN0ZW5lciwgY2FsbE9uY2UsIGNhcHR1cmUsIG9wdF9oYW5kbGVyKTtcbiAgaWYgKGxpc3RlbmVyT2JqLnByb3h5KSB7XG4gICAgcmV0dXJuIGxpc3RlbmVyT2JqO1xuICB9XG4gIHZhciBwcm94eSA9IGdvb2cuZXZlbnRzLmdldFByb3h5KCk7XG4gIGxpc3RlbmVyT2JqLnByb3h5ID0gcHJveHk7XG4gIHByb3h5LnNyYyA9IHNyYztcbiAgcHJveHkubGlzdGVuZXIgPSBsaXN0ZW5lck9iajtcbiAgaWYgKHNyYy5hZGRFdmVudExpc3RlbmVyKSB7XG4gICAgZ29vZy5ldmVudHMuQnJvd3NlckZlYXR1cmUuUEFTU0lWRV9FVkVOVFMgfHwgKG9wdF9vcHRpb25zID0gY2FwdHVyZSksIHZvaWQgMCA9PT0gb3B0X29wdGlvbnMgJiYgKG9wdF9vcHRpb25zID0gITEpLCBzcmMuYWRkRXZlbnRMaXN0ZW5lcih0eXBlLnRvU3RyaW5nKCksIHByb3h5LCBvcHRfb3B0aW9ucyk7XG4gIH0gZWxzZSBpZiAoc3JjLmF0dGFjaEV2ZW50KSB7XG4gICAgc3JjLmF0dGFjaEV2ZW50KGdvb2cuZXZlbnRzLmdldE9uU3RyaW5nXyh0eXBlLnRvU3RyaW5nKCkpLCBwcm94eSk7XG4gIH0gZWxzZSBpZiAoc3JjLmFkZExpc3RlbmVyICYmIHNyYy5yZW1vdmVMaXN0ZW5lcikge1xuICAgIGdvb2cuYXNzZXJ0cy5hc3NlcnQoXCJjaGFuZ2VcIiA9PT0gdHlwZSwgXCJNZWRpYVF1ZXJ5TGlzdCBvbmx5IGhhcyBhIGNoYW5nZSBldmVudFwiKSwgc3JjLmFkZExpc3RlbmVyKHByb3h5KTtcbiAgfSBlbHNlIHtcbiAgICB0aHJvdyBFcnJvcihcImFkZEV2ZW50TGlzdGVuZXIgYW5kIGF0dGFjaEV2ZW50IGFyZSB1bmF2YWlsYWJsZS5cIik7XG4gIH1cbiAgZ29vZy5ldmVudHMubGlzdGVuZXJDb3VudEVzdGltYXRlXysrO1xuICByZXR1cm4gbGlzdGVuZXJPYmo7XG59O1xuZ29vZy5ldmVudHMuZ2V0UHJveHkgPSBmdW5jdGlvbigpIHtcbiAgdmFyIHByb3h5Q2FsbGJhY2tGdW5jdGlvbiA9IGdvb2cuZXZlbnRzLmhhbmRsZUJyb3dzZXJFdmVudF8sIGYgPSBmdW5jdGlvbihldmVudE9iamVjdCkge1xuICAgIHJldHVybiBwcm94eUNhbGxiYWNrRnVuY3Rpb24uY2FsbChmLnNyYywgZi5saXN0ZW5lciwgZXZlbnRPYmplY3QpO1xuICB9O1xuICByZXR1cm4gZjtcbn07XG5nb29nLmV2ZW50cy5saXN0ZW5PbmNlID0gZnVuY3Rpb24oc3JjLCB0eXBlLCBsaXN0ZW5lciwgb3B0X29wdGlvbnMsIG9wdF9oYW5kbGVyKSB7XG4gIGlmIChBcnJheS5pc0FycmF5KHR5cGUpKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0eXBlLmxlbmd0aDsgaSsrKSB7XG4gICAgICBnb29nLmV2ZW50cy5saXN0ZW5PbmNlKHNyYywgdHlwZVtpXSwgbGlzdGVuZXIsIG9wdF9vcHRpb25zLCBvcHRfaGFuZGxlcik7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG4gIGxpc3RlbmVyID0gZ29vZy5ldmVudHMud3JhcExpc3RlbmVyKGxpc3RlbmVyKTtcbiAgcmV0dXJuIGdvb2cuZXZlbnRzLkxpc3RlbmFibGUuaXNJbXBsZW1lbnRlZEJ5KHNyYykgPyBzcmMubGlzdGVuT25jZSh0eXBlLCBsaXN0ZW5lciwgZ29vZy5pc09iamVjdChvcHRfb3B0aW9ucykgPyAhIW9wdF9vcHRpb25zLmNhcHR1cmUgOiAhIW9wdF9vcHRpb25zLCBvcHRfaGFuZGxlcikgOiBnb29nLmV2ZW50cy5saXN0ZW5fKHNyYywgdHlwZSwgbGlzdGVuZXIsICEwLCBvcHRfb3B0aW9ucywgb3B0X2hhbmRsZXIpO1xufTtcbmdvb2cuZXZlbnRzLmxpc3RlbldpdGhXcmFwcGVyID0gZnVuY3Rpb24oc3JjLCB3cmFwcGVyLCBsaXN0ZW5lciwgb3B0X2NhcHQsIG9wdF9oYW5kbGVyKSB7XG4gIHdyYXBwZXIubGlzdGVuKHNyYywgbGlzdGVuZXIsIG9wdF9jYXB0LCBvcHRfaGFuZGxlcik7XG59O1xuZ29vZy5ldmVudHMudW5saXN0ZW4gPSBmdW5jdGlvbihzcmMsIHR5cGUsIGxpc3RlbmVyLCBvcHRfb3B0aW9ucywgb3B0X2hhbmRsZXIpIHtcbiAgaWYgKEFycmF5LmlzQXJyYXkodHlwZSkpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHR5cGUubGVuZ3RoOyBpKyspIHtcbiAgICAgIGdvb2cuZXZlbnRzLnVubGlzdGVuKHNyYywgdHlwZVtpXSwgbGlzdGVuZXIsIG9wdF9vcHRpb25zLCBvcHRfaGFuZGxlcik7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG4gIHZhciBjYXB0dXJlID0gZ29vZy5pc09iamVjdChvcHRfb3B0aW9ucykgPyAhIW9wdF9vcHRpb25zLmNhcHR1cmUgOiAhIW9wdF9vcHRpb25zO1xuICBsaXN0ZW5lciA9IGdvb2cuZXZlbnRzLndyYXBMaXN0ZW5lcihsaXN0ZW5lcik7XG4gIGlmIChnb29nLmV2ZW50cy5MaXN0ZW5hYmxlLmlzSW1wbGVtZW50ZWRCeShzcmMpKSB7XG4gICAgcmV0dXJuIHNyYy51bmxpc3Rlbih0eXBlLCBsaXN0ZW5lciwgY2FwdHVyZSwgb3B0X2hhbmRsZXIpO1xuICB9XG4gIGlmICghc3JjKSB7XG4gICAgcmV0dXJuICExO1xuICB9XG4gIHZhciBsaXN0ZW5lck1hcCA9IGdvb2cuZXZlbnRzLmdldExpc3RlbmVyTWFwXyhzcmMpO1xuICBpZiAobGlzdGVuZXJNYXApIHtcbiAgICB2YXIgbGlzdGVuZXJPYmogPSBsaXN0ZW5lck1hcC5nZXRMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lciwgY2FwdHVyZSwgb3B0X2hhbmRsZXIpO1xuICAgIGlmIChsaXN0ZW5lck9iaikge1xuICAgICAgcmV0dXJuIGdvb2cuZXZlbnRzLnVubGlzdGVuQnlLZXkobGlzdGVuZXJPYmopO1xuICAgIH1cbiAgfVxuICByZXR1cm4gITE7XG59O1xuZ29vZy5ldmVudHMudW5saXN0ZW5CeUtleSA9IGZ1bmN0aW9uKGtleSkge1xuICBpZiAoXCJudW1iZXJcIiA9PT0gdHlwZW9mIGtleSB8fCAha2V5IHx8IGtleS5yZW1vdmVkKSB7XG4gICAgcmV0dXJuICExO1xuICB9XG4gIHZhciBzcmMgPSBrZXkuc3JjO1xuICBpZiAoZ29vZy5ldmVudHMuTGlzdGVuYWJsZS5pc0ltcGxlbWVudGVkQnkoc3JjKSkge1xuICAgIHJldHVybiBzcmMudW5saXN0ZW5CeUtleShrZXkpO1xuICB9XG4gIHZhciB0eXBlID0ga2V5LnR5cGUsIHByb3h5ID0ga2V5LnByb3h5O1xuICBzcmMucmVtb3ZlRXZlbnRMaXN0ZW5lciA/IHNyYy5yZW1vdmVFdmVudExpc3RlbmVyKHR5cGUsIHByb3h5LCBrZXkuY2FwdHVyZSkgOiBzcmMuZGV0YWNoRXZlbnQgPyBzcmMuZGV0YWNoRXZlbnQoZ29vZy5ldmVudHMuZ2V0T25TdHJpbmdfKHR5cGUpLCBwcm94eSkgOiBzcmMuYWRkTGlzdGVuZXIgJiYgc3JjLnJlbW92ZUxpc3RlbmVyICYmIHNyYy5yZW1vdmVMaXN0ZW5lcihwcm94eSk7XG4gIGdvb2cuZXZlbnRzLmxpc3RlbmVyQ291bnRFc3RpbWF0ZV8tLTtcbiAgdmFyIGxpc3RlbmVyTWFwID0gZ29vZy5ldmVudHMuZ2V0TGlzdGVuZXJNYXBfKHNyYyk7XG4gIGxpc3RlbmVyTWFwID8gKGxpc3RlbmVyTWFwLnJlbW92ZUJ5S2V5KGtleSksIDAgPT0gbGlzdGVuZXJNYXAuZ2V0VHlwZUNvdW50KCkgJiYgKGxpc3RlbmVyTWFwLnNyYyA9IG51bGwsIHNyY1tnb29nLmV2ZW50cy5MSVNURU5FUl9NQVBfUFJPUF9dID0gbnVsbCkpIDoga2V5Lm1hcmtBc1JlbW92ZWQoKTtcbiAgcmV0dXJuICEwO1xufTtcbmdvb2cuZXZlbnRzLnVubGlzdGVuV2l0aFdyYXBwZXIgPSBmdW5jdGlvbihzcmMsIHdyYXBwZXIsIGxpc3RlbmVyLCBvcHRfY2FwdCwgb3B0X2hhbmRsZXIpIHtcbiAgd3JhcHBlci51bmxpc3RlbihzcmMsIGxpc3RlbmVyLCBvcHRfY2FwdCwgb3B0X2hhbmRsZXIpO1xufTtcbmdvb2cuZXZlbnRzLnJlbW92ZUFsbCA9IGZ1bmN0aW9uKG9iaiwgb3B0X3R5cGUpIHtcbiAgaWYgKCFvYmopIHtcbiAgICByZXR1cm4gMDtcbiAgfVxuICBpZiAoZ29vZy5ldmVudHMuTGlzdGVuYWJsZS5pc0ltcGxlbWVudGVkQnkob2JqKSkge1xuICAgIHJldHVybiBvYmoucmVtb3ZlQWxsTGlzdGVuZXJzKG9wdF90eXBlKTtcbiAgfVxuICB2YXIgbGlzdGVuZXJNYXAgPSBnb29nLmV2ZW50cy5nZXRMaXN0ZW5lck1hcF8ob2JqKTtcbiAgaWYgKCFsaXN0ZW5lck1hcCkge1xuICAgIHJldHVybiAwO1xuICB9XG4gIHZhciBjb3VudCA9IDAsIHR5cGVTdHIgPSBvcHRfdHlwZSAmJiBvcHRfdHlwZS50b1N0cmluZygpLCB0eXBlO1xuICBmb3IgKHR5cGUgaW4gbGlzdGVuZXJNYXAubGlzdGVuZXJzKSB7XG4gICAgaWYgKCF0eXBlU3RyIHx8IHR5cGUgPT0gdHlwZVN0cikge1xuICAgICAgZm9yICh2YXIgbGlzdGVuZXJzID0gbGlzdGVuZXJNYXAubGlzdGVuZXJzW3R5cGVdLmNvbmNhdCgpLCBpID0gMDsgaSA8IGxpc3RlbmVycy5sZW5ndGg7ICsraSkge1xuICAgICAgICBnb29nLmV2ZW50cy51bmxpc3RlbkJ5S2V5KGxpc3RlbmVyc1tpXSkgJiYgKytjb3VudDtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIGNvdW50O1xufTtcbmdvb2cuZXZlbnRzLmdldExpc3RlbmVycyA9IGZ1bmN0aW9uKG9iaiwgdHlwZSwgY2FwdHVyZSkge1xuICBpZiAoZ29vZy5ldmVudHMuTGlzdGVuYWJsZS5pc0ltcGxlbWVudGVkQnkob2JqKSkge1xuICAgIHJldHVybiBvYmouZ2V0TGlzdGVuZXJzKHR5cGUsIGNhcHR1cmUpO1xuICB9XG4gIGlmICghb2JqKSB7XG4gICAgcmV0dXJuIFtdO1xuICB9XG4gIHZhciBsaXN0ZW5lck1hcCA9IGdvb2cuZXZlbnRzLmdldExpc3RlbmVyTWFwXyhvYmopO1xuICByZXR1cm4gbGlzdGVuZXJNYXAgPyBsaXN0ZW5lck1hcC5nZXRMaXN0ZW5lcnModHlwZSwgY2FwdHVyZSkgOiBbXTtcbn07XG5nb29nLmV2ZW50cy5nZXRMaXN0ZW5lciA9IGZ1bmN0aW9uKHNyYywgdHlwZSwgbGlzdGVuZXIsIG9wdF9jYXB0LCBvcHRfaGFuZGxlcikge1xuICBsaXN0ZW5lciA9IGdvb2cuZXZlbnRzLndyYXBMaXN0ZW5lcihsaXN0ZW5lcik7XG4gIHZhciBjYXB0dXJlID0gISFvcHRfY2FwdDtcbiAgaWYgKGdvb2cuZXZlbnRzLkxpc3RlbmFibGUuaXNJbXBsZW1lbnRlZEJ5KHNyYykpIHtcbiAgICByZXR1cm4gc3JjLmdldExpc3RlbmVyKHR5cGUsIGxpc3RlbmVyLCBjYXB0dXJlLCBvcHRfaGFuZGxlcik7XG4gIH1cbiAgaWYgKCFzcmMpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICB2YXIgbGlzdGVuZXJNYXAgPSBnb29nLmV2ZW50cy5nZXRMaXN0ZW5lck1hcF8oc3JjKTtcbiAgcmV0dXJuIGxpc3RlbmVyTWFwID8gbGlzdGVuZXJNYXAuZ2V0TGlzdGVuZXIodHlwZSwgbGlzdGVuZXIsIGNhcHR1cmUsIG9wdF9oYW5kbGVyKSA6IG51bGw7XG59O1xuZ29vZy5ldmVudHMuaGFzTGlzdGVuZXIgPSBmdW5jdGlvbihvYmosIG9wdF90eXBlLCBvcHRfY2FwdHVyZSkge1xuICBpZiAoZ29vZy5ldmVudHMuTGlzdGVuYWJsZS5pc0ltcGxlbWVudGVkQnkob2JqKSkge1xuICAgIHJldHVybiBvYmouaGFzTGlzdGVuZXIob3B0X3R5cGUsIG9wdF9jYXB0dXJlKTtcbiAgfVxuICB2YXIgbGlzdGVuZXJNYXAgPSBnb29nLmV2ZW50cy5nZXRMaXN0ZW5lck1hcF8ob2JqKTtcbiAgcmV0dXJuICEhbGlzdGVuZXJNYXAgJiYgbGlzdGVuZXJNYXAuaGFzTGlzdGVuZXIob3B0X3R5cGUsIG9wdF9jYXB0dXJlKTtcbn07XG5nb29nLmV2ZW50cy5leHBvc2UgPSBmdW5jdGlvbihlKSB7XG4gIHZhciBzdHIgPSBbXSwga2V5O1xuICBmb3IgKGtleSBpbiBlKSB7XG4gICAgZVtrZXldICYmIGVba2V5XS5pZCA/IHN0ci5wdXNoKGtleSArIFwiID0gXCIgKyBlW2tleV0gKyBcIiAoXCIgKyBlW2tleV0uaWQgKyBcIilcIikgOiBzdHIucHVzaChrZXkgKyBcIiA9IFwiICsgZVtrZXldKTtcbiAgfVxuICByZXR1cm4gc3RyLmpvaW4oXCJcXG5cIik7XG59O1xuZ29vZy5ldmVudHMuZ2V0T25TdHJpbmdfID0gZnVuY3Rpb24odHlwZSkge1xuICByZXR1cm4gdHlwZSBpbiBnb29nLmV2ZW50cy5vblN0cmluZ01hcF8gPyBnb29nLmV2ZW50cy5vblN0cmluZ01hcF9bdHlwZV0gOiBnb29nLmV2ZW50cy5vblN0cmluZ01hcF9bdHlwZV0gPSBnb29nLmV2ZW50cy5vblN0cmluZ18gKyB0eXBlO1xufTtcbmdvb2cuZXZlbnRzLmZpcmVMaXN0ZW5lcnMgPSBmdW5jdGlvbihvYmosIHR5cGUsIGNhcHR1cmUsIGV2ZW50T2JqZWN0KSB7XG4gIHJldHVybiBnb29nLmV2ZW50cy5MaXN0ZW5hYmxlLmlzSW1wbGVtZW50ZWRCeShvYmopID8gb2JqLmZpcmVMaXN0ZW5lcnModHlwZSwgY2FwdHVyZSwgZXZlbnRPYmplY3QpIDogZ29vZy5ldmVudHMuZmlyZUxpc3RlbmVyc18ob2JqLCB0eXBlLCBjYXB0dXJlLCBldmVudE9iamVjdCk7XG59O1xuZ29vZy5ldmVudHMuZmlyZUxpc3RlbmVyc18gPSBmdW5jdGlvbihvYmosIHR5cGUsIGNhcHR1cmUsIGV2ZW50T2JqZWN0KSB7XG4gIHZhciByZXR2YWwgPSAhMCwgbGlzdGVuZXJNYXAgPSBnb29nLmV2ZW50cy5nZXRMaXN0ZW5lck1hcF8ob2JqKTtcbiAgaWYgKGxpc3RlbmVyTWFwKSB7XG4gICAgdmFyIGxpc3RlbmVyQXJyYXkgPSBsaXN0ZW5lck1hcC5saXN0ZW5lcnNbdHlwZS50b1N0cmluZygpXTtcbiAgICBpZiAobGlzdGVuZXJBcnJheSkge1xuICAgICAgbGlzdGVuZXJBcnJheSA9IGxpc3RlbmVyQXJyYXkuY29uY2F0KCk7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxpc3RlbmVyQXJyYXkubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIGxpc3RlbmVyID0gbGlzdGVuZXJBcnJheVtpXTtcbiAgICAgICAgaWYgKGxpc3RlbmVyICYmIGxpc3RlbmVyLmNhcHR1cmUgPT0gY2FwdHVyZSAmJiAhbGlzdGVuZXIucmVtb3ZlZCkge1xuICAgICAgICAgIHZhciByZXN1bHQgPSBnb29nLmV2ZW50cy5maXJlTGlzdGVuZXIobGlzdGVuZXIsIGV2ZW50T2JqZWN0KTtcbiAgICAgICAgICByZXR2YWwgPSByZXR2YWwgJiYgITEgIT09IHJlc3VsdDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gcmV0dmFsO1xufTtcbmdvb2cuZXZlbnRzLmZpcmVMaXN0ZW5lciA9IGZ1bmN0aW9uKGxpc3RlbmVyLCBldmVudE9iamVjdCkge1xuICB2YXIgbGlzdGVuZXJGbiA9IGxpc3RlbmVyLmxpc3RlbmVyLCBsaXN0ZW5lckhhbmRsZXIgPSBsaXN0ZW5lci5oYW5kbGVyIHx8IGxpc3RlbmVyLnNyYztcbiAgbGlzdGVuZXIuY2FsbE9uY2UgJiYgZ29vZy5ldmVudHMudW5saXN0ZW5CeUtleShsaXN0ZW5lcik7XG4gIHJldHVybiBsaXN0ZW5lckZuLmNhbGwobGlzdGVuZXJIYW5kbGVyLCBldmVudE9iamVjdCk7XG59O1xuZ29vZy5ldmVudHMuZ2V0VG90YWxMaXN0ZW5lckNvdW50ID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBnb29nLmV2ZW50cy5saXN0ZW5lckNvdW50RXN0aW1hdGVfO1xufTtcbmdvb2cuZXZlbnRzLmRpc3BhdGNoRXZlbnQgPSBmdW5jdGlvbihzcmMsIGUpIHtcbiAgZ29vZy5hc3NlcnRzLmFzc2VydChnb29nLmV2ZW50cy5MaXN0ZW5hYmxlLmlzSW1wbGVtZW50ZWRCeShzcmMpLCBcIkNhbiBub3QgdXNlIGdvb2cuZXZlbnRzLmRpc3BhdGNoRXZlbnQgd2l0aCBub24tZ29vZy5ldmVudHMuTGlzdGVuYWJsZSBpbnN0YW5jZS5cIik7XG4gIHJldHVybiBzcmMuZGlzcGF0Y2hFdmVudChlKTtcbn07XG5nb29nLmV2ZW50cy5wcm90ZWN0QnJvd3NlckV2ZW50RW50cnlQb2ludCA9IGZ1bmN0aW9uKGVycm9ySGFuZGxlcikge1xuICBnb29nLmV2ZW50cy5oYW5kbGVCcm93c2VyRXZlbnRfID0gZXJyb3JIYW5kbGVyLnByb3RlY3RFbnRyeVBvaW50KGdvb2cuZXZlbnRzLmhhbmRsZUJyb3dzZXJFdmVudF8pO1xufTtcbmdvb2cuZXZlbnRzLmhhbmRsZUJyb3dzZXJFdmVudF8gPSBmdW5jdGlvbihsaXN0ZW5lciwgb3B0X2V2dCkge1xuICByZXR1cm4gbGlzdGVuZXIucmVtb3ZlZCA/ICEwIDogZ29vZy5ldmVudHMuZmlyZUxpc3RlbmVyKGxpc3RlbmVyLCBuZXcgZ29vZy5ldmVudHMuQnJvd3NlckV2ZW50KG9wdF9ldnQsIHRoaXMpKTtcbn07XG5nb29nLmV2ZW50cy5tYXJrSWVFdmVudF8gPSBmdW5jdGlvbihlKSB7XG4gIHZhciB1c2VSZXR1cm5WYWx1ZSA9ICExO1xuICBpZiAoMCA9PSBlLmtleUNvZGUpIHtcbiAgICB0cnkge1xuICAgICAgZS5rZXlDb2RlID0gLTE7XG4gICAgICByZXR1cm47XG4gICAgfSBjYXRjaCAoZXgpIHtcbiAgICAgIHVzZVJldHVyblZhbHVlID0gITA7XG4gICAgfVxuICB9XG4gIGlmICh1c2VSZXR1cm5WYWx1ZSB8fCB2b2lkIDAgPT0gZS5yZXR1cm5WYWx1ZSkge1xuICAgIGUucmV0dXJuVmFsdWUgPSAhMDtcbiAgfVxufTtcbmdvb2cuZXZlbnRzLmlzTWFya2VkSWVFdmVudF8gPSBmdW5jdGlvbihlKSB7XG4gIHJldHVybiAwID4gZS5rZXlDb2RlIHx8IHZvaWQgMCAhPSBlLnJldHVyblZhbHVlO1xufTtcbmdvb2cuZXZlbnRzLnVuaXF1ZUlkQ291bnRlcl8gPSAwO1xuZ29vZy5ldmVudHMuZ2V0VW5pcXVlSWQgPSBmdW5jdGlvbihpZGVudGlmaWVyKSB7XG4gIHJldHVybiBpZGVudGlmaWVyICsgXCJfXCIgKyBnb29nLmV2ZW50cy51bmlxdWVJZENvdW50ZXJfKys7XG59O1xuZ29vZy5ldmVudHMuZ2V0TGlzdGVuZXJNYXBfID0gZnVuY3Rpb24oc3JjKSB7XG4gIHZhciBsaXN0ZW5lck1hcCA9IHNyY1tnb29nLmV2ZW50cy5MSVNURU5FUl9NQVBfUFJPUF9dO1xuICByZXR1cm4gbGlzdGVuZXJNYXAgaW5zdGFuY2VvZiBnb29nLmV2ZW50cy5MaXN0ZW5lck1hcCA/IGxpc3RlbmVyTWFwIDogbnVsbDtcbn07XG5nb29nLmV2ZW50cy5MSVNURU5FUl9XUkFQUEVSX1BST1BfID0gXCJfX2Nsb3N1cmVfZXZlbnRzX2ZuX1wiICsgKDFFOSAqIE1hdGgucmFuZG9tKCkgPj4+IDApO1xuZ29vZy5ldmVudHMud3JhcExpc3RlbmVyID0gZnVuY3Rpb24obGlzdGVuZXIpIHtcbiAgZ29vZy5hc3NlcnRzLmFzc2VydChsaXN0ZW5lciwgXCJMaXN0ZW5lciBjYW4gbm90IGJlIG51bGwuXCIpO1xuICBpZiAoXCJmdW5jdGlvblwiID09PSB0eXBlb2YgbGlzdGVuZXIpIHtcbiAgICByZXR1cm4gbGlzdGVuZXI7XG4gIH1cbiAgZ29vZy5hc3NlcnRzLmFzc2VydChsaXN0ZW5lci5oYW5kbGVFdmVudCwgXCJBbiBvYmplY3QgbGlzdGVuZXIgbXVzdCBoYXZlIGhhbmRsZUV2ZW50IG1ldGhvZC5cIik7XG4gIGxpc3RlbmVyW2dvb2cuZXZlbnRzLkxJU1RFTkVSX1dSQVBQRVJfUFJPUF9dIHx8IChsaXN0ZW5lcltnb29nLmV2ZW50cy5MSVNURU5FUl9XUkFQUEVSX1BST1BfXSA9IGZ1bmN0aW9uKGUpIHtcbiAgICByZXR1cm4gbGlzdGVuZXIuaGFuZGxlRXZlbnQoZSk7XG4gIH0pO1xuICByZXR1cm4gbGlzdGVuZXJbZ29vZy5ldmVudHMuTElTVEVORVJfV1JBUFBFUl9QUk9QX107XG59O1xuZ29vZy5kZWJ1Zy5lbnRyeVBvaW50UmVnaXN0cnkucmVnaXN0ZXIoZnVuY3Rpb24odHJhbnNmb3JtZXIpIHtcbiAgZ29vZy5ldmVudHMuaGFuZGxlQnJvd3NlckV2ZW50XyA9IHRyYW5zZm9ybWVyKGdvb2cuZXZlbnRzLmhhbmRsZUJyb3dzZXJFdmVudF8pO1xufSk7XG5nb29nLmV2ZW50cy5FdmVudFRhcmdldCA9IGZ1bmN0aW9uKCkge1xuICBnb29nLkRpc3Bvc2FibGUuY2FsbCh0aGlzKTtcbiAgdGhpcy5ldmVudFRhcmdldExpc3RlbmVyc18gPSBuZXcgZ29vZy5ldmVudHMuTGlzdGVuZXJNYXAodGhpcyk7XG4gIHRoaXMuYWN0dWFsRXZlbnRUYXJnZXRfID0gdGhpcztcbiAgdGhpcy5wYXJlbnRFdmVudFRhcmdldF8gPSBudWxsO1xufTtcbmdvb2cuaW5oZXJpdHMoZ29vZy5ldmVudHMuRXZlbnRUYXJnZXQsIGdvb2cuRGlzcG9zYWJsZSk7XG5nb29nLmV2ZW50cy5MaXN0ZW5hYmxlLmFkZEltcGxlbWVudGF0aW9uKGdvb2cuZXZlbnRzLkV2ZW50VGFyZ2V0KTtcbmdvb2cuZXZlbnRzLkV2ZW50VGFyZ2V0Lk1BWF9BTkNFU1RPUlNfID0gMUUzO1xuZ29vZy5ldmVudHMuRXZlbnRUYXJnZXQucHJvdG90eXBlLmdldFBhcmVudEV2ZW50VGFyZ2V0ID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLnBhcmVudEV2ZW50VGFyZ2V0Xztcbn07XG5nb29nLmV2ZW50cy5FdmVudFRhcmdldC5wcm90b3R5cGUuc2V0UGFyZW50RXZlbnRUYXJnZXQgPSBmdW5jdGlvbihwYXJlbnQpIHtcbiAgdGhpcy5wYXJlbnRFdmVudFRhcmdldF8gPSBwYXJlbnQ7XG59O1xuZ29vZy5ldmVudHMuRXZlbnRUYXJnZXQucHJvdG90eXBlLmFkZEV2ZW50TGlzdGVuZXIgPSBmdW5jdGlvbih0eXBlLCBoYW5kbGVyLCBvcHRfY2FwdHVyZSwgb3B0X2hhbmRsZXJTY29wZSkge1xuICBnb29nLmV2ZW50cy5saXN0ZW4odGhpcywgdHlwZSwgaGFuZGxlciwgb3B0X2NhcHR1cmUsIG9wdF9oYW5kbGVyU2NvcGUpO1xufTtcbmdvb2cuZXZlbnRzLkV2ZW50VGFyZ2V0LnByb3RvdHlwZS5yZW1vdmVFdmVudExpc3RlbmVyID0gZnVuY3Rpb24odHlwZSwgaGFuZGxlciwgb3B0X2NhcHR1cmUsIG9wdF9oYW5kbGVyU2NvcGUpIHtcbiAgZ29vZy5ldmVudHMudW5saXN0ZW4odGhpcywgdHlwZSwgaGFuZGxlciwgb3B0X2NhcHR1cmUsIG9wdF9oYW5kbGVyU2NvcGUpO1xufTtcbmdvb2cuZXZlbnRzLkV2ZW50VGFyZ2V0LnByb3RvdHlwZS5kaXNwYXRjaEV2ZW50ID0gZnVuY3Rpb24oZSkge1xuICB0aGlzLmFzc2VydEluaXRpYWxpemVkXygpO1xuICB2YXIgYW5jZXN0b3IgPSB0aGlzLmdldFBhcmVudEV2ZW50VGFyZ2V0KCk7XG4gIGlmIChhbmNlc3Rvcikge1xuICAgIHZhciBhbmNlc3RvcnNUcmVlID0gW107XG4gICAgZm9yICh2YXIgYW5jZXN0b3JDb3VudCA9IDE7IGFuY2VzdG9yOyBhbmNlc3RvciA9IGFuY2VzdG9yLmdldFBhcmVudEV2ZW50VGFyZ2V0KCkpIHtcbiAgICAgIGFuY2VzdG9yc1RyZWUucHVzaChhbmNlc3RvciksIGdvb2cuYXNzZXJ0cy5hc3NlcnQoKythbmNlc3RvckNvdW50IDwgZ29vZy5ldmVudHMuRXZlbnRUYXJnZXQuTUFYX0FOQ0VTVE9SU18sIFwiaW5maW5pdGUgbG9vcFwiKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGdvb2cuZXZlbnRzLkV2ZW50VGFyZ2V0LmRpc3BhdGNoRXZlbnRJbnRlcm5hbF8odGhpcy5hY3R1YWxFdmVudFRhcmdldF8sIGUsIGFuY2VzdG9yc1RyZWUpO1xufTtcbmdvb2cuZXZlbnRzLkV2ZW50VGFyZ2V0LnByb3RvdHlwZS5kaXNwb3NlSW50ZXJuYWwgPSBmdW5jdGlvbigpIHtcbiAgZ29vZy5ldmVudHMuRXZlbnRUYXJnZXQuc3VwZXJDbGFzc18uZGlzcG9zZUludGVybmFsLmNhbGwodGhpcyk7XG4gIHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKCk7XG4gIHRoaXMucGFyZW50RXZlbnRUYXJnZXRfID0gbnVsbDtcbn07XG5nb29nLmV2ZW50cy5FdmVudFRhcmdldC5wcm90b3R5cGUubGlzdGVuID0gZnVuY3Rpb24odHlwZSwgbGlzdGVuZXIsIG9wdF91c2VDYXB0dXJlLCBvcHRfbGlzdGVuZXJTY29wZSkge1xuICB0aGlzLmFzc2VydEluaXRpYWxpemVkXygpO1xuICByZXR1cm4gdGhpcy5ldmVudFRhcmdldExpc3RlbmVyc18uYWRkKFN0cmluZyh0eXBlKSwgbGlzdGVuZXIsICExLCBvcHRfdXNlQ2FwdHVyZSwgb3B0X2xpc3RlbmVyU2NvcGUpO1xufTtcbmdvb2cuZXZlbnRzLkV2ZW50VGFyZ2V0LnByb3RvdHlwZS5saXN0ZW5PbmNlID0gZnVuY3Rpb24odHlwZSwgbGlzdGVuZXIsIG9wdF91c2VDYXB0dXJlLCBvcHRfbGlzdGVuZXJTY29wZSkge1xuICByZXR1cm4gdGhpcy5ldmVudFRhcmdldExpc3RlbmVyc18uYWRkKFN0cmluZyh0eXBlKSwgbGlzdGVuZXIsICEwLCBvcHRfdXNlQ2FwdHVyZSwgb3B0X2xpc3RlbmVyU2NvcGUpO1xufTtcbmdvb2cuZXZlbnRzLkV2ZW50VGFyZ2V0LnByb3RvdHlwZS51bmxpc3RlbiA9IGZ1bmN0aW9uKHR5cGUsIGxpc3RlbmVyLCBvcHRfdXNlQ2FwdHVyZSwgb3B0X2xpc3RlbmVyU2NvcGUpIHtcbiAgcmV0dXJuIHRoaXMuZXZlbnRUYXJnZXRMaXN0ZW5lcnNfLnJlbW92ZShTdHJpbmcodHlwZSksIGxpc3RlbmVyLCBvcHRfdXNlQ2FwdHVyZSwgb3B0X2xpc3RlbmVyU2NvcGUpO1xufTtcbmdvb2cuZXZlbnRzLkV2ZW50VGFyZ2V0LnByb3RvdHlwZS51bmxpc3RlbkJ5S2V5ID0gZnVuY3Rpb24oa2V5KSB7XG4gIHJldHVybiB0aGlzLmV2ZW50VGFyZ2V0TGlzdGVuZXJzXy5yZW1vdmVCeUtleShrZXkpO1xufTtcbmdvb2cuZXZlbnRzLkV2ZW50VGFyZ2V0LnByb3RvdHlwZS5yZW1vdmVBbGxMaXN0ZW5lcnMgPSBmdW5jdGlvbihvcHRfdHlwZSkge1xuICByZXR1cm4gdGhpcy5ldmVudFRhcmdldExpc3RlbmVyc18gPyB0aGlzLmV2ZW50VGFyZ2V0TGlzdGVuZXJzXy5yZW1vdmVBbGwob3B0X3R5cGUpIDogMDtcbn07XG5nb29nLmV2ZW50cy5FdmVudFRhcmdldC5wcm90b3R5cGUuZmlyZUxpc3RlbmVycyA9IGZ1bmN0aW9uKHR5cGUsIGNhcHR1cmUsIGV2ZW50T2JqZWN0KSB7XG4gIHZhciBsaXN0ZW5lckFycmF5ID0gdGhpcy5ldmVudFRhcmdldExpc3RlbmVyc18ubGlzdGVuZXJzW1N0cmluZyh0eXBlKV07XG4gIGlmICghbGlzdGVuZXJBcnJheSkge1xuICAgIHJldHVybiAhMDtcbiAgfVxuICBsaXN0ZW5lckFycmF5ID0gbGlzdGVuZXJBcnJheS5jb25jYXQoKTtcbiAgZm9yICh2YXIgcnYgPSAhMCwgaSA9IDA7IGkgPCBsaXN0ZW5lckFycmF5Lmxlbmd0aDsgKytpKSB7XG4gICAgdmFyIGxpc3RlbmVyID0gbGlzdGVuZXJBcnJheVtpXTtcbiAgICBpZiAobGlzdGVuZXIgJiYgIWxpc3RlbmVyLnJlbW92ZWQgJiYgbGlzdGVuZXIuY2FwdHVyZSA9PSBjYXB0dXJlKSB7XG4gICAgICB2YXIgbGlzdGVuZXJGbiA9IGxpc3RlbmVyLmxpc3RlbmVyLCBsaXN0ZW5lckhhbmRsZXIgPSBsaXN0ZW5lci5oYW5kbGVyIHx8IGxpc3RlbmVyLnNyYztcbiAgICAgIGxpc3RlbmVyLmNhbGxPbmNlICYmIHRoaXMudW5saXN0ZW5CeUtleShsaXN0ZW5lcik7XG4gICAgICBydiA9ICExICE9PSBsaXN0ZW5lckZuLmNhbGwobGlzdGVuZXJIYW5kbGVyLCBldmVudE9iamVjdCkgJiYgcnY7XG4gICAgfVxuICB9XG4gIHJldHVybiBydiAmJiAhZXZlbnRPYmplY3QuZGVmYXVsdFByZXZlbnRlZDtcbn07XG5nb29nLmV2ZW50cy5FdmVudFRhcmdldC5wcm90b3R5cGUuZ2V0TGlzdGVuZXJzID0gZnVuY3Rpb24odHlwZSwgY2FwdHVyZSkge1xuICByZXR1cm4gdGhpcy5ldmVudFRhcmdldExpc3RlbmVyc18uZ2V0TGlzdGVuZXJzKFN0cmluZyh0eXBlKSwgY2FwdHVyZSk7XG59O1xuZ29vZy5ldmVudHMuRXZlbnRUYXJnZXQucHJvdG90eXBlLmdldExpc3RlbmVyID0gZnVuY3Rpb24odHlwZSwgbGlzdGVuZXIsIGNhcHR1cmUsIG9wdF9saXN0ZW5lclNjb3BlKSB7XG4gIHJldHVybiB0aGlzLmV2ZW50VGFyZ2V0TGlzdGVuZXJzXy5nZXRMaXN0ZW5lcihTdHJpbmcodHlwZSksIGxpc3RlbmVyLCBjYXB0dXJlLCBvcHRfbGlzdGVuZXJTY29wZSk7XG59O1xuZ29vZy5ldmVudHMuRXZlbnRUYXJnZXQucHJvdG90eXBlLmhhc0xpc3RlbmVyID0gZnVuY3Rpb24ob3B0X3R5cGUsIG9wdF9jYXB0dXJlKSB7XG4gIHJldHVybiB0aGlzLmV2ZW50VGFyZ2V0TGlzdGVuZXJzXy5oYXNMaXN0ZW5lcih2b2lkIDAgIT09IG9wdF90eXBlID8gU3RyaW5nKG9wdF90eXBlKSA6IHZvaWQgMCwgb3B0X2NhcHR1cmUpO1xufTtcbmdvb2cuZXZlbnRzLkV2ZW50VGFyZ2V0LnByb3RvdHlwZS5zZXRUYXJnZXRGb3JUZXN0aW5nID0gZnVuY3Rpb24odGFyZ2V0KSB7XG4gIHRoaXMuYWN0dWFsRXZlbnRUYXJnZXRfID0gdGFyZ2V0O1xufTtcbmdvb2cuZXZlbnRzLkV2ZW50VGFyZ2V0LnByb3RvdHlwZS5hc3NlcnRJbml0aWFsaXplZF8gPSBmdW5jdGlvbigpIHtcbiAgZ29vZy5hc3NlcnRzLmFzc2VydCh0aGlzLmV2ZW50VGFyZ2V0TGlzdGVuZXJzXywgXCJFdmVudCB0YXJnZXQgaXMgbm90IGluaXRpYWxpemVkLiBEaWQgeW91IGNhbGwgdGhlIHN1cGVyY2xhc3MgKGdvb2cuZXZlbnRzLkV2ZW50VGFyZ2V0KSBjb25zdHJ1Y3Rvcj9cIik7XG59O1xuZ29vZy5ldmVudHMuRXZlbnRUYXJnZXQuZGlzcGF0Y2hFdmVudEludGVybmFsXyA9IGZ1bmN0aW9uKHRhcmdldCwgZSwgb3B0X2FuY2VzdG9yc1RyZWUpIHtcbiAgdmFyIHR5cGUgPSBlLnR5cGUgfHwgZTtcbiAgaWYgKFwic3RyaW5nXCIgPT09IHR5cGVvZiBlKSB7XG4gICAgZSA9IG5ldyBnb29nLmV2ZW50cy5FdmVudChlLCB0YXJnZXQpO1xuICB9IGVsc2UgaWYgKGUgaW5zdGFuY2VvZiBnb29nLmV2ZW50cy5FdmVudCkge1xuICAgIGUudGFyZ2V0ID0gZS50YXJnZXQgfHwgdGFyZ2V0O1xuICB9IGVsc2Uge1xuICAgIHZhciBvbGRFdmVudCA9IGU7XG4gICAgZSA9IG5ldyBnb29nLmV2ZW50cy5FdmVudCh0eXBlLCB0YXJnZXQpO1xuICAgIG1vZHVsZSRjb250ZW50cyRnb29nJG9iamVjdF9leHRlbmQoZSwgb2xkRXZlbnQpO1xuICB9XG4gIHZhciBydiA9ICEwO1xuICBpZiAob3B0X2FuY2VzdG9yc1RyZWUpIHtcbiAgICBmb3IgKHZhciBpID0gb3B0X2FuY2VzdG9yc1RyZWUubGVuZ3RoIC0gMTsgIWUuaGFzUHJvcGFnYXRpb25TdG9wcGVkKCkgJiYgMCA8PSBpOyBpLS0pIHtcbiAgICAgIHZhciBjdXJyZW50VGFyZ2V0ID0gZS5jdXJyZW50VGFyZ2V0ID0gb3B0X2FuY2VzdG9yc1RyZWVbaV07XG4gICAgICBydiA9IGN1cnJlbnRUYXJnZXQuZmlyZUxpc3RlbmVycyh0eXBlLCAhMCwgZSkgJiYgcnY7XG4gICAgfVxuICB9XG4gIGUuaGFzUHJvcGFnYXRpb25TdG9wcGVkKCkgfHwgKGN1cnJlbnRUYXJnZXQgPSBlLmN1cnJlbnRUYXJnZXQgPSB0YXJnZXQsIHJ2ID0gY3VycmVudFRhcmdldC5maXJlTGlzdGVuZXJzKHR5cGUsICEwLCBlKSAmJiBydiwgZS5oYXNQcm9wYWdhdGlvblN0b3BwZWQoKSB8fCAocnYgPSBjdXJyZW50VGFyZ2V0LmZpcmVMaXN0ZW5lcnModHlwZSwgITEsIGUpICYmIHJ2KSk7XG4gIGlmIChvcHRfYW5jZXN0b3JzVHJlZSkge1xuICAgIGZvciAoaSA9IDA7ICFlLmhhc1Byb3BhZ2F0aW9uU3RvcHBlZCgpICYmIGkgPCBvcHRfYW5jZXN0b3JzVHJlZS5sZW5ndGg7IGkrKykge1xuICAgICAgY3VycmVudFRhcmdldCA9IGUuY3VycmVudFRhcmdldCA9IG9wdF9hbmNlc3RvcnNUcmVlW2ldLCBydiA9IGN1cnJlbnRUYXJnZXQuZmlyZUxpc3RlbmVycyh0eXBlLCAhMSwgZSkgJiYgcnY7XG4gICAgfVxuICB9XG4gIHJldHVybiBydjtcbn07XG5nb29nLnN0cnVjdHMgPSB7fTtcbmdvb2cuc3RydWN0cy5Db2xsZWN0aW9uID0gZnVuY3Rpb24oKSB7XG59O1xuZ29vZy5jb2xsZWN0aW9ucyA9IHt9O1xuZ29vZy5jb2xsZWN0aW9ucy5pdGVycyA9IHt9O1xuZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2ckY29sbGVjdGlvbnMkaXRlcnNfZ2V0SXRlcmF0b3IoaXRlcmFibGUpIHtcbiAgcmV0dXJuIGl0ZXJhYmxlW2dvb2cuZ2xvYmFsLlN5bWJvbC5pdGVyYXRvcl0oKTtcbn1cbmdvb2cuY29sbGVjdGlvbnMuaXRlcnMuZ2V0SXRlcmF0b3IgPSBtb2R1bGUkY29udGVudHMkZ29vZyRjb2xsZWN0aW9ucyRpdGVyc19nZXRJdGVyYXRvcjtcbmZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJGNvbGxlY3Rpb25zJGl0ZXJzX2ZvckVhY2goaXRlcmF0b3IsIGYpIHtcbiAgZm9yICh2YXIgcmVzdWx0OyAhKHJlc3VsdCA9IGl0ZXJhdG9yLm5leHQoKSkuZG9uZTspIHtcbiAgICBmKHJlc3VsdC52YWx1ZSk7XG4gIH1cbn1cbmdvb2cuY29sbGVjdGlvbnMuaXRlcnMuZm9yRWFjaCA9IG1vZHVsZSRjb250ZW50cyRnb29nJGNvbGxlY3Rpb25zJGl0ZXJzX2ZvckVhY2g7XG52YXIgbW9kdWxlJGNvbnRlbnRzJGdvb2ckY29sbGVjdGlvbnMkaXRlcnNfTWFwSXRlcmF0b3IgPSBmdW5jdGlvbihjaGlsZEl0ZXIsIG1hcEZuKSB7XG4gIHRoaXMuY2hpbGRJdGVyYXRvcl8gPSBtb2R1bGUkY29udGVudHMkZ29vZyRjb2xsZWN0aW9ucyRpdGVyc19nZXRJdGVyYXRvcihjaGlsZEl0ZXIpO1xuICB0aGlzLm1hcEZuXyA9IG1hcEZuO1xufTtcbm1vZHVsZSRjb250ZW50cyRnb29nJGNvbGxlY3Rpb25zJGl0ZXJzX01hcEl0ZXJhdG9yLnByb3RvdHlwZVtTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzO1xufTtcbm1vZHVsZSRjb250ZW50cyRnb29nJGNvbGxlY3Rpb25zJGl0ZXJzX01hcEl0ZXJhdG9yLnByb3RvdHlwZS5uZXh0ID0gZnVuY3Rpb24oKSB7XG4gIHZhciBjaGlsZFJlc3VsdCA9IHRoaXMuY2hpbGRJdGVyYXRvcl8ubmV4dCgpO1xuICByZXR1cm4ge3ZhbHVlOmNoaWxkUmVzdWx0LmRvbmUgPyB2b2lkIDAgOiB0aGlzLm1hcEZuXy5jYWxsKHZvaWQgMCwgY2hpbGRSZXN1bHQudmFsdWUpLCBkb25lOmNoaWxkUmVzdWx0LmRvbmUsfTtcbn07XG5nb29nLmNvbGxlY3Rpb25zLml0ZXJzLm1hcCA9IGZ1bmN0aW9uKGl0ZXJhYmxlLCBmKSB7XG4gIHJldHVybiBuZXcgbW9kdWxlJGNvbnRlbnRzJGdvb2ckY29sbGVjdGlvbnMkaXRlcnNfTWFwSXRlcmF0b3IoaXRlcmFibGUsIGYpO1xufTtcbnZhciBtb2R1bGUkY29udGVudHMkZ29vZyRjb2xsZWN0aW9ucyRpdGVyc19GaWx0ZXJJdGVyYXRvciA9IGZ1bmN0aW9uKGNoaWxkSXRlciwgZmlsdGVyRm4pIHtcbiAgdGhpcy5jaGlsZEl0ZXJfID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckY29sbGVjdGlvbnMkaXRlcnNfZ2V0SXRlcmF0b3IoY2hpbGRJdGVyKTtcbiAgdGhpcy5maWx0ZXJGbl8gPSBmaWx0ZXJGbjtcbn07XG5tb2R1bGUkY29udGVudHMkZ29vZyRjb2xsZWN0aW9ucyRpdGVyc19GaWx0ZXJJdGVyYXRvci5wcm90b3R5cGVbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcztcbn07XG5tb2R1bGUkY29udGVudHMkZ29vZyRjb2xsZWN0aW9ucyRpdGVyc19GaWx0ZXJJdGVyYXRvci5wcm90b3R5cGUubmV4dCA9IGZ1bmN0aW9uKCkge1xuICBmb3IgKDs7KSB7XG4gICAgdmFyIGNoaWxkUmVzdWx0ID0gdGhpcy5jaGlsZEl0ZXJfLm5leHQoKTtcbiAgICBpZiAoY2hpbGRSZXN1bHQuZG9uZSkge1xuICAgICAgcmV0dXJuIHtkb25lOiEwLCB2YWx1ZTp2b2lkIDB9O1xuICAgIH1cbiAgICBpZiAodGhpcy5maWx0ZXJGbl8uY2FsbCh2b2lkIDAsIGNoaWxkUmVzdWx0LnZhbHVlKSkge1xuICAgICAgcmV0dXJuIGNoaWxkUmVzdWx0O1xuICAgIH1cbiAgfVxufTtcbmdvb2cuY29sbGVjdGlvbnMuaXRlcnMuZmlsdGVyID0gZnVuY3Rpb24oaXRlcmFibGUsIGYpIHtcbiAgcmV0dXJuIG5ldyBtb2R1bGUkY29udGVudHMkZ29vZyRjb2xsZWN0aW9ucyRpdGVyc19GaWx0ZXJJdGVyYXRvcihpdGVyYWJsZSwgZik7XG59O1xudmFyIG1vZHVsZSRjb250ZW50cyRnb29nJGNvbGxlY3Rpb25zJGl0ZXJzX0NvbmNhdEl0ZXJhdG9yID0gZnVuY3Rpb24oaXRlcmF0b3JzKSB7XG4gIHRoaXMuaXRlcmF0b3JzXyA9IGl0ZXJhdG9ycztcbiAgdGhpcy5pdGVySW5kZXhfID0gMDtcbn07XG5tb2R1bGUkY29udGVudHMkZ29vZyRjb2xsZWN0aW9ucyRpdGVyc19Db25jYXRJdGVyYXRvci5wcm90b3R5cGVbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcztcbn07XG5tb2R1bGUkY29udGVudHMkZ29vZyRjb2xsZWN0aW9ucyRpdGVyc19Db25jYXRJdGVyYXRvci5wcm90b3R5cGUubmV4dCA9IGZ1bmN0aW9uKCkge1xuICBmb3IgKDsgdGhpcy5pdGVySW5kZXhfIDwgdGhpcy5pdGVyYXRvcnNfLmxlbmd0aDspIHtcbiAgICB2YXIgcmVzdWx0ID0gdGhpcy5pdGVyYXRvcnNfW3RoaXMuaXRlckluZGV4X10ubmV4dCgpO1xuICAgIGlmICghcmVzdWx0LmRvbmUpIHtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIHRoaXMuaXRlckluZGV4XysrO1xuICB9XG4gIHJldHVybiB7ZG9uZTohMH07XG59O1xuZ29vZy5jb2xsZWN0aW9ucy5pdGVycy5jb25jYXQgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG5ldyBtb2R1bGUkY29udGVudHMkZ29vZyRjb2xsZWN0aW9ucyRpdGVyc19Db25jYXRJdGVyYXRvcigkanNjb21wLmdldFJlc3RBcmd1bWVudHMuYXBwbHkoMCwgYXJndW1lbnRzKS5tYXAobW9kdWxlJGNvbnRlbnRzJGdvb2ckY29sbGVjdGlvbnMkaXRlcnNfZ2V0SXRlcmF0b3IpKTtcbn07XG5nb29nLmNvbGxlY3Rpb25zLml0ZXJzLnRvQXJyYXkgPSBmdW5jdGlvbihpdGVyYXRvcikge1xuICB2YXIgYXJyID0gW107XG4gIG1vZHVsZSRjb250ZW50cyRnb29nJGNvbGxlY3Rpb25zJGl0ZXJzX2ZvckVhY2goaXRlcmF0b3IsIGZ1bmN0aW9uKGUpIHtcbiAgICByZXR1cm4gYXJyLnB1c2goZSk7XG4gIH0pO1xuICByZXR1cm4gYXJyO1xufTtcbmdvb2cuZnVuY3Rpb25zID0ge307XG5nb29nLmZ1bmN0aW9ucy5jb25zdGFudCA9IGZ1bmN0aW9uKHJldFZhbHVlKSB7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gcmV0VmFsdWU7XG4gIH07XG59O1xuZ29vZy5mdW5jdGlvbnMuRkFMU0UgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuICExO1xufTtcbmdvb2cuZnVuY3Rpb25zLlRSVUUgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuICEwO1xufTtcbmdvb2cuZnVuY3Rpb25zLk5VTEwgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG51bGw7XG59O1xuZ29vZy5mdW5jdGlvbnMuVU5ERUZJTkVEID0gZnVuY3Rpb24oKSB7XG59O1xuZ29vZy5mdW5jdGlvbnMuRU1QVFkgPSBnb29nLmZ1bmN0aW9ucy5VTkRFRklORUQ7XG5nb29nLmZ1bmN0aW9ucy5pZGVudGl0eSA9IGZ1bmN0aW9uKG9wdF9yZXR1cm5WYWx1ZSwgdmFyX2FyZ3MpIHtcbiAgcmV0dXJuIG9wdF9yZXR1cm5WYWx1ZTtcbn07XG5nb29nLmZ1bmN0aW9ucy5lcnJvciA9IGZ1bmN0aW9uKG1lc3NhZ2UpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHRocm93IEVycm9yKG1lc3NhZ2UpO1xuICB9O1xufTtcbmdvb2cuZnVuY3Rpb25zLmZhaWwgPSBmdW5jdGlvbihlcnIpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHRocm93IGVycjtcbiAgfTtcbn07XG5nb29nLmZ1bmN0aW9ucy5sb2NrID0gZnVuY3Rpb24oZiwgb3B0X251bUFyZ3MpIHtcbiAgb3B0X251bUFyZ3MgPSBvcHRfbnVtQXJncyB8fCAwO1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIGYuYXBwbHkodGhpcywgQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAwLCBvcHRfbnVtQXJncykpO1xuICB9O1xufTtcbmdvb2cuZnVuY3Rpb25zLm50aCA9IGZ1bmN0aW9uKG4pIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBhcmd1bWVudHNbbl07XG4gIH07XG59O1xuZ29vZy5mdW5jdGlvbnMucGFydGlhbFJpZ2h0ID0gZnVuY3Rpb24oZm4sIHZhcl9hcmdzKSB7XG4gIHZhciByaWdodEFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpO1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHNlbGYgPT09IGdvb2cuZ2xvYmFsICYmIChzZWxmID0gdm9pZCAwKTtcbiAgICB2YXIgbmV3QXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7XG4gICAgbmV3QXJncy5wdXNoLmFwcGx5KG5ld0FyZ3MsIHJpZ2h0QXJncyk7XG4gICAgcmV0dXJuIGZuLmFwcGx5KHNlbGYsIG5ld0FyZ3MpO1xuICB9O1xufTtcbmdvb2cuZnVuY3Rpb25zLndpdGhSZXR1cm5WYWx1ZSA9IGZ1bmN0aW9uKGYsIHJldFZhbHVlKSB7XG4gIHJldHVybiBnb29nLmZ1bmN0aW9ucy5zZXF1ZW5jZShmLCBnb29nLmZ1bmN0aW9ucy5jb25zdGFudChyZXRWYWx1ZSkpO1xufTtcbmdvb2cuZnVuY3Rpb25zLmVxdWFsVG8gPSBmdW5jdGlvbih2YWx1ZSwgb3B0X3VzZUxvb3NlQ29tcGFyaXNvbikge1xuICByZXR1cm4gZnVuY3Rpb24ob3RoZXIpIHtcbiAgICByZXR1cm4gb3B0X3VzZUxvb3NlQ29tcGFyaXNvbiA/IHZhbHVlID09IG90aGVyIDogdmFsdWUgPT09IG90aGVyO1xuICB9O1xufTtcbmdvb2cuZnVuY3Rpb25zLmNvbXBvc2UgPSBmdW5jdGlvbihmbiwgdmFyX2FyZ3MpIHtcbiAgdmFyIGZ1bmN0aW9ucyA9IGFyZ3VtZW50cywgbGVuZ3RoID0gZnVuY3Rpb25zLmxlbmd0aDtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHZhciByZXN1bHQ7XG4gICAgbGVuZ3RoICYmIChyZXN1bHQgPSBmdW5jdGlvbnNbbGVuZ3RoIC0gMV0uYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG4gICAgZm9yICh2YXIgaSA9IGxlbmd0aCAtIDI7IDAgPD0gaTsgaS0tKSB7XG4gICAgICByZXN1bHQgPSBmdW5jdGlvbnNbaV0uY2FsbCh0aGlzLCByZXN1bHQpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xufTtcbmdvb2cuZnVuY3Rpb25zLnNlcXVlbmNlID0gZnVuY3Rpb24odmFyX2FyZ3MpIHtcbiAgdmFyIGZ1bmN0aW9ucyA9IGFyZ3VtZW50cywgbGVuZ3RoID0gZnVuY3Rpb25zLmxlbmd0aDtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIGZvciAodmFyIHJlc3VsdCwgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgcmVzdWx0ID0gZnVuY3Rpb25zW2ldLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG59O1xuZ29vZy5mdW5jdGlvbnMuYW5kID0gZnVuY3Rpb24odmFyX2FyZ3MpIHtcbiAgdmFyIGZ1bmN0aW9ucyA9IGFyZ3VtZW50cywgbGVuZ3RoID0gZnVuY3Rpb25zLmxlbmd0aDtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmICghZnVuY3Rpb25zW2ldLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpIHtcbiAgICAgICAgcmV0dXJuICExO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gITA7XG4gIH07XG59O1xuZ29vZy5mdW5jdGlvbnMub3IgPSBmdW5jdGlvbih2YXJfYXJncykge1xuICB2YXIgZnVuY3Rpb25zID0gYXJndW1lbnRzLCBsZW5ndGggPSBmdW5jdGlvbnMubGVuZ3RoO1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgaWYgKGZ1bmN0aW9uc1tpXS5hcHBseSh0aGlzLCBhcmd1bWVudHMpKSB7XG4gICAgICAgIHJldHVybiAhMDtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuICExO1xuICB9O1xufTtcbmdvb2cuZnVuY3Rpb25zLm5vdCA9IGZ1bmN0aW9uKGYpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiAhZi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9O1xufTtcbmdvb2cuZnVuY3Rpb25zLmNyZWF0ZSA9IGZ1bmN0aW9uKGNvbnN0cnVjdG9yLCB2YXJfYXJncykge1xuICB2YXIgdGVtcCA9IGZ1bmN0aW9uKCkge1xuICB9O1xuICB0ZW1wLnByb3RvdHlwZSA9IGNvbnN0cnVjdG9yLnByb3RvdHlwZTtcbiAgdmFyIG9iaiA9IG5ldyB0ZW1wKCk7XG4gIGNvbnN0cnVjdG9yLmFwcGx5KG9iaiwgQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKSk7XG4gIHJldHVybiBvYmo7XG59O1xuZ29vZy5mdW5jdGlvbnMuQ0FDSEVfUkVUVVJOX1ZBTFVFID0gITA7XG5nb29nLmZ1bmN0aW9ucy5jYWNoZVJldHVyblZhbHVlID0gZnVuY3Rpb24oZm4pIHtcbiAgdmFyIGNhbGxlZCA9ICExLCB2YWx1ZTtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIGlmICghZ29vZy5mdW5jdGlvbnMuQ0FDSEVfUkVUVVJOX1ZBTFVFKSB7XG4gICAgICByZXR1cm4gZm4oKTtcbiAgICB9XG4gICAgY2FsbGVkIHx8ICh2YWx1ZSA9IGZuKCksIGNhbGxlZCA9ICEwKTtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH07XG59O1xuZ29vZy5mdW5jdGlvbnMub25jZSA9IGZ1bmN0aW9uKGYpIHtcbiAgdmFyIGlubmVyID0gZjtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIGlmIChpbm5lcikge1xuICAgICAgdmFyIHRtcCA9IGlubmVyO1xuICAgICAgaW5uZXIgPSBudWxsO1xuICAgICAgdG1wKCk7XG4gICAgfVxuICB9O1xufTtcbmdvb2cuZnVuY3Rpb25zLmRlYm91bmNlID0gZnVuY3Rpb24oZiwgaW50ZXJ2YWwsIG9wdF9zY29wZSkge1xuICB2YXIgdGltZW91dCA9IDA7XG4gIHJldHVybiBmdW5jdGlvbih2YXJfYXJncykge1xuICAgIGdvb2cuZ2xvYmFsLmNsZWFyVGltZW91dCh0aW1lb3V0KTtcbiAgICB2YXIgYXJncyA9IGFyZ3VtZW50cztcbiAgICB0aW1lb3V0ID0gZ29vZy5nbG9iYWwuc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgIGYuYXBwbHkob3B0X3Njb3BlLCBhcmdzKTtcbiAgICB9LCBpbnRlcnZhbCk7XG4gIH07XG59O1xuZ29vZy5mdW5jdGlvbnMudGhyb3R0bGUgPSBmdW5jdGlvbihmLCBpbnRlcnZhbCwgb3B0X3Njb3BlKSB7XG4gIHZhciB0aW1lb3V0ID0gMCwgc2hvdWxkRmlyZSA9ICExLCBzdG9yZWRBcmdzID0gW10sIGhhbmRsZVRpbWVvdXQgPSBmdW5jdGlvbigpIHtcbiAgICB0aW1lb3V0ID0gMDtcbiAgICBzaG91bGRGaXJlICYmIChzaG91bGRGaXJlID0gITEsIGZpcmUoKSk7XG4gIH0sIGZpcmUgPSBmdW5jdGlvbigpIHtcbiAgICB0aW1lb3V0ID0gZ29vZy5nbG9iYWwuc2V0VGltZW91dChoYW5kbGVUaW1lb3V0LCBpbnRlcnZhbCk7XG4gICAgdmFyIGFyZ3MgPSBzdG9yZWRBcmdzO1xuICAgIHN0b3JlZEFyZ3MgPSBbXTtcbiAgICBmLmFwcGx5KG9wdF9zY29wZSwgYXJncyk7XG4gIH07XG4gIHJldHVybiBmdW5jdGlvbih2YXJfYXJncykge1xuICAgIHN0b3JlZEFyZ3MgPSBhcmd1bWVudHM7XG4gICAgdGltZW91dCA/IHNob3VsZEZpcmUgPSAhMCA6IGZpcmUoKTtcbiAgfTtcbn07XG5nb29nLmZ1bmN0aW9ucy5yYXRlTGltaXQgPSBmdW5jdGlvbihmLCBpbnRlcnZhbCwgb3B0X3Njb3BlKSB7XG4gIHZhciB0aW1lb3V0ID0gMCwgaGFuZGxlVGltZW91dCA9IGZ1bmN0aW9uKCkge1xuICAgIHRpbWVvdXQgPSAwO1xuICB9O1xuICByZXR1cm4gZnVuY3Rpb24odmFyX2FyZ3MpIHtcbiAgICB0aW1lb3V0IHx8ICh0aW1lb3V0ID0gZ29vZy5nbG9iYWwuc2V0VGltZW91dChoYW5kbGVUaW1lb3V0LCBpbnRlcnZhbCksIGYuYXBwbHkob3B0X3Njb3BlLCBhcmd1bWVudHMpKTtcbiAgfTtcbn07XG5nb29nLmZ1bmN0aW9ucy5pc0Z1bmN0aW9uID0gZnVuY3Rpb24odmFsKSB7XG4gIHJldHVybiBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiB2YWw7XG59O1xuZ29vZy5tYXRoID0ge307XG5nb29nLm1hdGgucmFuZG9tSW50ID0gZnVuY3Rpb24oYSkge1xuICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogYSk7XG59O1xuZ29vZy5tYXRoLnVuaWZvcm1SYW5kb20gPSBmdW5jdGlvbihhLCBiKSB7XG4gIHJldHVybiBhICsgTWF0aC5yYW5kb20oKSAqIChiIC0gYSk7XG59O1xuZ29vZy5tYXRoLmNsYW1wID0gZnVuY3Rpb24odmFsdWUsIG1pbiwgbWF4KSB7XG4gIHJldHVybiBNYXRoLm1pbihNYXRoLm1heCh2YWx1ZSwgbWluKSwgbWF4KTtcbn07XG5nb29nLm1hdGgubW9kdWxvID0gZnVuY3Rpb24oYSwgYikge1xuICB2YXIgciA9IGEgJSBiO1xuICByZXR1cm4gMCA+IHIgKiBiID8gciArIGIgOiByO1xufTtcbmdvb2cubWF0aC5sZXJwID0gZnVuY3Rpb24oYSwgYiwgeCkge1xuICByZXR1cm4gYSArIHggKiAoYiAtIGEpO1xufTtcbmdvb2cubWF0aC5uZWFybHlFcXVhbHMgPSBmdW5jdGlvbihhLCBiLCBvcHRfdG9sZXJhbmNlKSB7XG4gIHJldHVybiBNYXRoLmFicyhhIC0gYikgPD0gKG9wdF90b2xlcmFuY2UgfHwgMUUtNik7XG59O1xuZ29vZy5tYXRoLnN0YW5kYXJkQW5nbGUgPSBmdW5jdGlvbihhbmdsZSkge1xuICByZXR1cm4gZ29vZy5tYXRoLm1vZHVsbyhhbmdsZSwgMzYwKTtcbn07XG5nb29nLm1hdGguc3RhbmRhcmRBbmdsZUluUmFkaWFucyA9IGZ1bmN0aW9uKGFuZ2xlKSB7XG4gIHJldHVybiBnb29nLm1hdGgubW9kdWxvKGFuZ2xlLCAyICogTWF0aC5QSSk7XG59O1xuZ29vZy5tYXRoLnRvUmFkaWFucyA9IGZ1bmN0aW9uKGFuZ2xlRGVncmVlcykge1xuICByZXR1cm4gYW5nbGVEZWdyZWVzICogTWF0aC5QSSAvIDE4MDtcbn07XG5nb29nLm1hdGgudG9EZWdyZWVzID0gZnVuY3Rpb24oYW5nbGVSYWRpYW5zKSB7XG4gIHJldHVybiAxODAgKiBhbmdsZVJhZGlhbnMgLyBNYXRoLlBJO1xufTtcbmdvb2cubWF0aC5hbmdsZUR4ID0gZnVuY3Rpb24oZGVncmVlcywgcmFkaXVzKSB7XG4gIHJldHVybiByYWRpdXMgKiBNYXRoLmNvcyhnb29nLm1hdGgudG9SYWRpYW5zKGRlZ3JlZXMpKTtcbn07XG5nb29nLm1hdGguYW5nbGVEeSA9IGZ1bmN0aW9uKGRlZ3JlZXMsIHJhZGl1cykge1xuICByZXR1cm4gcmFkaXVzICogTWF0aC5zaW4oZ29vZy5tYXRoLnRvUmFkaWFucyhkZWdyZWVzKSk7XG59O1xuZ29vZy5tYXRoLmFuZ2xlID0gZnVuY3Rpb24oeDEsIHkxLCB4MiwgeTIpIHtcbiAgcmV0dXJuIGdvb2cubWF0aC5zdGFuZGFyZEFuZ2xlKGdvb2cubWF0aC50b0RlZ3JlZXMoTWF0aC5hdGFuMih5MiAtIHkxLCB4MiAtIHgxKSkpO1xufTtcbmdvb2cubWF0aC5hbmdsZURpZmZlcmVuY2UgPSBmdW5jdGlvbihzdGFydEFuZ2xlLCBlbmRBbmdsZSkge1xuICB2YXIgZCA9IGdvb2cubWF0aC5zdGFuZGFyZEFuZ2xlKGVuZEFuZ2xlKSAtIGdvb2cubWF0aC5zdGFuZGFyZEFuZ2xlKHN0YXJ0QW5nbGUpO1xuICAxODAgPCBkID8gZCAtPSAzNjAgOiAtMTgwID49IGQgJiYgKGQgPSAzNjAgKyBkKTtcbiAgcmV0dXJuIGQ7XG59O1xuZ29vZy5tYXRoLnNpZ24gPSBmdW5jdGlvbih4KSB7XG4gIHJldHVybiAwIDwgeCA/IDEgOiAwID4geCA/IC0xIDogeDtcbn07XG5nb29nLm1hdGgubG9uZ2VzdENvbW1vblN1YnNlcXVlbmNlID0gZnVuY3Rpb24oYXJyYXkxLCBhcnJheTIsIG9wdF9jb21wYXJlRm4sIG9wdF9jb2xsZWN0b3JGbikge1xuICBmb3IgKHZhciBjb21wYXJlID0gb3B0X2NvbXBhcmVGbiB8fCBmdW5jdGlvbihhLCBiKSB7XG4gICAgcmV0dXJuIGEgPT0gYjtcbiAgfSwgY29sbGVjdCA9IG9wdF9jb2xsZWN0b3JGbiB8fCBmdW5jdGlvbihpMSwgaTIpIHtcbiAgICByZXR1cm4gYXJyYXkxW2kxXTtcbiAgfSwgbGVuZ3RoMSA9IGFycmF5MS5sZW5ndGgsIGxlbmd0aDIgPSBhcnJheTIubGVuZ3RoLCBhcnIgPSBbXSwgaSA9IDA7IGkgPCBsZW5ndGgxICsgMTsgaSsrKSB7XG4gICAgYXJyW2ldID0gW10sIGFycltpXVswXSA9IDA7XG4gIH1cbiAgZm9yICh2YXIgaiA9IDA7IGogPCBsZW5ndGgyICsgMTsgaisrKSB7XG4gICAgYXJyWzBdW2pdID0gMDtcbiAgfVxuICBmb3IgKGkgPSAxOyBpIDw9IGxlbmd0aDE7IGkrKykge1xuICAgIGZvciAoaiA9IDE7IGogPD0gbGVuZ3RoMjsgaisrKSB7XG4gICAgICBjb21wYXJlKGFycmF5MVtpIC0gMV0sIGFycmF5MltqIC0gMV0pID8gYXJyW2ldW2pdID0gYXJyW2kgLSAxXVtqIC0gMV0gKyAxIDogYXJyW2ldW2pdID0gTWF0aC5tYXgoYXJyW2kgLSAxXVtqXSwgYXJyW2ldW2ogLSAxXSk7XG4gICAgfVxuICB9XG4gIHZhciByZXN1bHQgPSBbXTtcbiAgaSA9IGxlbmd0aDE7XG4gIGZvciAoaiA9IGxlbmd0aDI7IDAgPCBpICYmIDAgPCBqOykge1xuICAgIGNvbXBhcmUoYXJyYXkxW2kgLSAxXSwgYXJyYXkyW2ogLSAxXSkgPyAocmVzdWx0LnVuc2hpZnQoY29sbGVjdChpIC0gMSwgaiAtIDEpKSwgaS0tLCBqLS0pIDogYXJyW2kgLSAxXVtqXSA+IGFycltpXVtqIC0gMV0gPyBpLS0gOiBqLS07XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5nb29nLm1hdGguc3VtID0gZnVuY3Rpb24odmFyX2FyZ3MpIHtcbiAgcmV0dXJuIEFycmF5LnByb3RvdHlwZS5yZWR1Y2UuY2FsbChhcmd1bWVudHMsIGZ1bmN0aW9uKHN1bSwgdmFsdWUpIHtcbiAgICByZXR1cm4gc3VtICsgdmFsdWU7XG4gIH0sIDApO1xufTtcbmdvb2cubWF0aC5hdmVyYWdlID0gZnVuY3Rpb24odmFyX2FyZ3MpIHtcbiAgcmV0dXJuIGdvb2cubWF0aC5zdW0uYXBwbHkobnVsbCwgYXJndW1lbnRzKSAvIGFyZ3VtZW50cy5sZW5ndGg7XG59O1xuZ29vZy5tYXRoLnNhbXBsZVZhcmlhbmNlID0gZnVuY3Rpb24odmFyX2FyZ3MpIHtcbiAgdmFyIHNhbXBsZVNpemUgPSBhcmd1bWVudHMubGVuZ3RoO1xuICBpZiAoMiA+IHNhbXBsZVNpemUpIHtcbiAgICByZXR1cm4gMDtcbiAgfVxuICB2YXIgbWVhbiA9IGdvb2cubWF0aC5hdmVyYWdlLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG4gIHJldHVybiBnb29nLm1hdGguc3VtLmFwcGx5KG51bGwsIEFycmF5LnByb3RvdHlwZS5tYXAuY2FsbChhcmd1bWVudHMsIGZ1bmN0aW9uKHZhbCkge1xuICAgIHJldHVybiBNYXRoLnBvdyh2YWwgLSBtZWFuLCAyKTtcbiAgfSkpIC8gKHNhbXBsZVNpemUgLSAxKTtcbn07XG5nb29nLm1hdGguc3RhbmRhcmREZXZpYXRpb24gPSBmdW5jdGlvbih2YXJfYXJncykge1xuICByZXR1cm4gTWF0aC5zcXJ0KGdvb2cubWF0aC5zYW1wbGVWYXJpYW5jZS5hcHBseShudWxsLCBhcmd1bWVudHMpKTtcbn07XG5nb29nLm1hdGguaXNJbnQgPSBmdW5jdGlvbihudW0pIHtcbiAgcmV0dXJuIGlzRmluaXRlKG51bSkgJiYgMCA9PSBudW0gJSAxO1xufTtcbmdvb2cubWF0aC5pc0Zpbml0ZU51bWJlciA9IGZ1bmN0aW9uKG51bSkge1xuICByZXR1cm4gaXNGaW5pdGUobnVtKTtcbn07XG5nb29nLm1hdGguaXNOZWdhdGl2ZVplcm8gPSBmdW5jdGlvbihudW0pIHtcbiAgcmV0dXJuIDAgPT0gbnVtICYmIDAgPiAxIC8gbnVtO1xufTtcbmdvb2cubWF0aC5sb2cxMEZsb29yID0gZnVuY3Rpb24obnVtKSB7XG4gIGlmICgwIDwgbnVtKSB7XG4gICAgdmFyIHggPSBNYXRoLnJvdW5kKE1hdGgubG9nKG51bSkgKiBNYXRoLkxPRzEwRSk7XG4gICAgcmV0dXJuIHggLSAocGFyc2VGbG9hdChcIjFlXCIgKyB4KSA+IG51bSA/IDEgOiAwKTtcbiAgfVxuICByZXR1cm4gMCA9PSBudW0gPyAtSW5maW5pdHkgOiBOYU47XG59O1xuZ29vZy5tYXRoLnNhZmVGbG9vciA9IGZ1bmN0aW9uKG51bSwgb3B0X2Vwc2lsb24pIHtcbiAgZ29vZy5hc3NlcnRzLmFzc2VydCh2b2lkIDAgPT09IG9wdF9lcHNpbG9uIHx8IDAgPCBvcHRfZXBzaWxvbik7XG4gIHJldHVybiBNYXRoLmZsb29yKG51bSArIChvcHRfZXBzaWxvbiB8fCAyRS0xNSkpO1xufTtcbmdvb2cubWF0aC5zYWZlQ2VpbCA9IGZ1bmN0aW9uKG51bSwgb3B0X2Vwc2lsb24pIHtcbiAgZ29vZy5hc3NlcnRzLmFzc2VydCh2b2lkIDAgPT09IG9wdF9lcHNpbG9uIHx8IDAgPCBvcHRfZXBzaWxvbik7XG4gIHJldHVybiBNYXRoLmNlaWwobnVtIC0gKG9wdF9lcHNpbG9uIHx8IDJFLTE1KSk7XG59O1xuZ29vZy5pdGVyID0ge307XG5nb29nLml0ZXIuSXRlcmFibGUgPSB7fTtcbmdvb2cuaXRlci5JdGVyYXRvciA9IGZ1bmN0aW9uKCkge1xufTtcbmdvb2cuaXRlci5JdGVyYXRvci5wcm90b3R5cGUubmV4dCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gZ29vZy5pdGVyLkVTNl9JVEVSQVRPUl9ET05FO1xufTtcbmdvb2cuaXRlci5FUzZfSVRFUkFUT1JfRE9ORSA9IGdvb2cuZGVidWcuZnJlZXplKHtkb25lOiEwLCB2YWx1ZTp2b2lkIDB9KTtcbmdvb2cuaXRlci5jcmVhdGVFczZJdGVyYXRvcllpZWxkID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgcmV0dXJuIHt2YWx1ZTp2YWx1ZSwgZG9uZTohMX07XG59O1xuZ29vZy5pdGVyLkl0ZXJhdG9yLnByb3RvdHlwZS5fX2l0ZXJhdG9yX18gPSBmdW5jdGlvbihvcHRfa2V5cykge1xuICByZXR1cm4gdGhpcztcbn07XG5nb29nLml0ZXIudG9JdGVyYXRvciA9IGZ1bmN0aW9uKGl0ZXJhYmxlKSB7XG4gIGlmIChpdGVyYWJsZSBpbnN0YW5jZW9mIGdvb2cuaXRlci5JdGVyYXRvcikge1xuICAgIHJldHVybiBpdGVyYWJsZTtcbiAgfVxuICBpZiAoXCJmdW5jdGlvblwiID09IHR5cGVvZiBpdGVyYWJsZS5fX2l0ZXJhdG9yX18pIHtcbiAgICByZXR1cm4gaXRlcmFibGUuX19pdGVyYXRvcl9fKCExKTtcbiAgfVxuICBpZiAoZ29vZy5pc0FycmF5TGlrZShpdGVyYWJsZSkpIHtcbiAgICB2YXIgaSA9IDAsIG5ld0l0ZXIgPSBuZXcgZ29vZy5pdGVyLkl0ZXJhdG9yKCk7XG4gICAgbmV3SXRlci5uZXh0ID0gZnVuY3Rpb24oKSB7XG4gICAgICBmb3IgKDs7KSB7XG4gICAgICAgIGlmIChpID49IGl0ZXJhYmxlLmxlbmd0aCkge1xuICAgICAgICAgIHJldHVybiBnb29nLml0ZXIuRVM2X0lURVJBVE9SX0RPTkU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGkgaW4gaXRlcmFibGUpIHtcbiAgICAgICAgICByZXR1cm4gZ29vZy5pdGVyLmNyZWF0ZUVzNkl0ZXJhdG9yWWllbGQoaXRlcmFibGVbaSsrXSk7XG4gICAgICAgIH1cbiAgICAgICAgaSsrO1xuICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIG5ld0l0ZXI7XG4gIH1cbiAgdGhyb3cgRXJyb3IoXCJOb3QgaW1wbGVtZW50ZWRcIik7XG59O1xuZ29vZy5pdGVyLmZvckVhY2ggPSBmdW5jdGlvbihpdGVyYWJsZSwgZiwgb3B0X29iaikge1xuICBpZiAoZ29vZy5pc0FycmF5TGlrZShpdGVyYWJsZSkpIHtcbiAgICBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9mb3JFYWNoKGl0ZXJhYmxlLCBmLCBvcHRfb2JqKTtcbiAgfSBlbHNlIHtcbiAgICBmb3IgKHZhciBpdGVyYXRvciA9IGdvb2cuaXRlci50b0l0ZXJhdG9yKGl0ZXJhYmxlKTs7KSB7XG4gICAgICB2YXIgJGpzY29tcCRkZXN0cnVjdHVyaW5nJHZhcjEyID0gaXRlcmF0b3IubmV4dCgpO1xuICAgICAgaWYgKCRqc2NvbXAkZGVzdHJ1Y3R1cmluZyR2YXIxMi5kb25lKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgZi5jYWxsKG9wdF9vYmosICRqc2NvbXAkZGVzdHJ1Y3R1cmluZyR2YXIxMi52YWx1ZSwgdm9pZCAwLCBpdGVyYXRvcik7XG4gICAgfVxuICB9XG59O1xuZ29vZy5pdGVyLmZpbHRlciA9IGZ1bmN0aW9uKGl0ZXJhYmxlLCBmLCBvcHRfb2JqKSB7XG4gIHZhciBpdGVyYXRvciA9IGdvb2cuaXRlci50b0l0ZXJhdG9yKGl0ZXJhYmxlKSwgbmV3SXRlciA9IG5ldyBnb29nLml0ZXIuSXRlcmF0b3IoKTtcbiAgbmV3SXRlci5uZXh0ID0gZnVuY3Rpb24oKSB7XG4gICAgZm9yICg7Oykge1xuICAgICAgdmFyICRqc2NvbXAkZGVzdHJ1Y3R1cmluZyR2YXIxMyA9IGl0ZXJhdG9yLm5leHQoKSwgdmFsdWUgPSAkanNjb21wJGRlc3RydWN0dXJpbmckdmFyMTMudmFsdWU7XG4gICAgICBpZiAoJGpzY29tcCRkZXN0cnVjdHVyaW5nJHZhcjEzLmRvbmUpIHtcbiAgICAgICAgcmV0dXJuIGdvb2cuaXRlci5FUzZfSVRFUkFUT1JfRE9ORTtcbiAgICAgIH1cbiAgICAgIGlmIChmLmNhbGwob3B0X29iaiwgdmFsdWUsIHZvaWQgMCwgaXRlcmF0b3IpKSB7XG4gICAgICAgIHJldHVybiBnb29nLml0ZXIuY3JlYXRlRXM2SXRlcmF0b3JZaWVsZCh2YWx1ZSk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuICByZXR1cm4gbmV3SXRlcjtcbn07XG5nb29nLml0ZXIuZmlsdGVyRmFsc2UgPSBmdW5jdGlvbihpdGVyYWJsZSwgZiwgb3B0X29iaikge1xuICByZXR1cm4gZ29vZy5pdGVyLmZpbHRlcihpdGVyYWJsZSwgZ29vZy5mdW5jdGlvbnMubm90KGYpLCBvcHRfb2JqKTtcbn07XG5nb29nLml0ZXIucmFuZ2UgPSBmdW5jdGlvbihzdGFydE9yU3RvcCwgb3B0X3N0b3AsIG9wdF9zdGVwKSB7XG4gIHZhciBzdGFydCA9IDAsIHN0b3AgPSBzdGFydE9yU3RvcCwgc3RlcCA9IG9wdF9zdGVwIHx8IDE7XG4gIDEgPCBhcmd1bWVudHMubGVuZ3RoICYmIChzdGFydCA9IHN0YXJ0T3JTdG9wLCBzdG9wID0gK29wdF9zdG9wKTtcbiAgaWYgKDAgPT0gc3RlcCkge1xuICAgIHRocm93IEVycm9yKFwiUmFuZ2Ugc3RlcCBhcmd1bWVudCBtdXN0IG5vdCBiZSB6ZXJvXCIpO1xuICB9XG4gIHZhciBuZXdJdGVyID0gbmV3IGdvb2cuaXRlci5JdGVyYXRvcigpO1xuICBuZXdJdGVyLm5leHQgPSBmdW5jdGlvbigpIHtcbiAgICBpZiAoMCA8IHN0ZXAgJiYgc3RhcnQgPj0gc3RvcCB8fCAwID4gc3RlcCAmJiBzdGFydCA8PSBzdG9wKSB7XG4gICAgICByZXR1cm4gZ29vZy5pdGVyLkVTNl9JVEVSQVRPUl9ET05FO1xuICAgIH1cbiAgICB2YXIgcnYgPSBzdGFydDtcbiAgICBzdGFydCArPSBzdGVwO1xuICAgIHJldHVybiBnb29nLml0ZXIuY3JlYXRlRXM2SXRlcmF0b3JZaWVsZChydik7XG4gIH07XG4gIHJldHVybiBuZXdJdGVyO1xufTtcbmdvb2cuaXRlci5qb2luID0gZnVuY3Rpb24oaXRlcmFibGUsIGRlbGltaW5hdG9yKSB7XG4gIHJldHVybiBnb29nLml0ZXIudG9BcnJheShpdGVyYWJsZSkuam9pbihkZWxpbWluYXRvcik7XG59O1xuZ29vZy5pdGVyLm1hcCA9IGZ1bmN0aW9uKGl0ZXJhYmxlLCBmLCBvcHRfb2JqKSB7XG4gIHZhciBpdGVyYXRvciA9IGdvb2cuaXRlci50b0l0ZXJhdG9yKGl0ZXJhYmxlKSwgbmV3SXRlciA9IG5ldyBnb29nLml0ZXIuSXRlcmF0b3IoKTtcbiAgbmV3SXRlci5uZXh0ID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyICRqc2NvbXAkZGVzdHJ1Y3R1cmluZyR2YXIxNCA9IGl0ZXJhdG9yLm5leHQoKTtcbiAgICBpZiAoJGpzY29tcCRkZXN0cnVjdHVyaW5nJHZhcjE0LmRvbmUpIHtcbiAgICAgIHJldHVybiBnb29nLml0ZXIuRVM2X0lURVJBVE9SX0RPTkU7XG4gICAgfVxuICAgIHZhciBtYXBwZWRWYWwgPSBmLmNhbGwob3B0X29iaiwgJGpzY29tcCRkZXN0cnVjdHVyaW5nJHZhcjE0LnZhbHVlLCB2b2lkIDAsIGl0ZXJhdG9yKTtcbiAgICByZXR1cm4gZ29vZy5pdGVyLmNyZWF0ZUVzNkl0ZXJhdG9yWWllbGQobWFwcGVkVmFsKTtcbiAgfTtcbiAgcmV0dXJuIG5ld0l0ZXI7XG59O1xuZ29vZy5pdGVyLnJlZHVjZSA9IGZ1bmN0aW9uKGl0ZXJhYmxlLCBmLCB2YWwkanNjb21wJDAsIG9wdF9vYmopIHtcbiAgdmFyIHJ2YWwgPSB2YWwkanNjb21wJDA7XG4gIGdvb2cuaXRlci5mb3JFYWNoKGl0ZXJhYmxlLCBmdW5jdGlvbih2YWwpIHtcbiAgICBydmFsID0gZi5jYWxsKG9wdF9vYmosIHJ2YWwsIHZhbCk7XG4gIH0pO1xuICByZXR1cm4gcnZhbDtcbn07XG5nb29nLml0ZXIuc29tZSA9IGZ1bmN0aW9uKGl0ZXJhYmxlLCBmLCBvcHRfb2JqKSB7XG4gIGZvciAodmFyIGl0ZXJhdG9yID0gZ29vZy5pdGVyLnRvSXRlcmF0b3IoaXRlcmFibGUpOzspIHtcbiAgICB2YXIgJGpzY29tcCRkZXN0cnVjdHVyaW5nJHZhcjE1ID0gaXRlcmF0b3IubmV4dCgpO1xuICAgIGlmICgkanNjb21wJGRlc3RydWN0dXJpbmckdmFyMTUuZG9uZSkge1xuICAgICAgcmV0dXJuICExO1xuICAgIH1cbiAgICBpZiAoZi5jYWxsKG9wdF9vYmosICRqc2NvbXAkZGVzdHJ1Y3R1cmluZyR2YXIxNS52YWx1ZSwgdm9pZCAwLCBpdGVyYXRvcikpIHtcbiAgICAgIHJldHVybiAhMDtcbiAgICB9XG4gIH1cbn07XG5nb29nLml0ZXIuZXZlcnkgPSBmdW5jdGlvbihpdGVyYWJsZSwgZiwgb3B0X29iaikge1xuICBmb3IgKHZhciBpdGVyYXRvciA9IGdvb2cuaXRlci50b0l0ZXJhdG9yKGl0ZXJhYmxlKTs7KSB7XG4gICAgdmFyICRqc2NvbXAkZGVzdHJ1Y3R1cmluZyR2YXIxNiA9IGl0ZXJhdG9yLm5leHQoKTtcbiAgICBpZiAoJGpzY29tcCRkZXN0cnVjdHVyaW5nJHZhcjE2LmRvbmUpIHtcbiAgICAgIHJldHVybiAhMDtcbiAgICB9XG4gICAgaWYgKCFmLmNhbGwob3B0X29iaiwgJGpzY29tcCRkZXN0cnVjdHVyaW5nJHZhcjE2LnZhbHVlLCB2b2lkIDAsIGl0ZXJhdG9yKSkge1xuICAgICAgcmV0dXJuICExO1xuICAgIH1cbiAgfVxufTtcbmdvb2cuaXRlci5jaGFpbiA9IGZ1bmN0aW9uKHZhcl9hcmdzKSB7XG4gIHJldHVybiBnb29nLml0ZXIuY2hhaW5Gcm9tSXRlcmFibGUoYXJndW1lbnRzKTtcbn07XG5nb29nLml0ZXIuY2hhaW5Gcm9tSXRlcmFibGUgPSBmdW5jdGlvbihpdGVyYWJsZSkge1xuICB2YXIgaXRlcmF0b3JPZkl0ZXJhdG9ycyA9IGdvb2cuaXRlci50b0l0ZXJhdG9yKGl0ZXJhYmxlKSwgaXRlciA9IG5ldyBnb29nLml0ZXIuSXRlcmF0b3IoKSwgY3VycmVudCA9IG51bGw7XG4gIGl0ZXIubmV4dCA9IGZ1bmN0aW9uKCkge1xuICAgIGZvciAoOzspIHtcbiAgICAgIGlmIChudWxsID09IGN1cnJlbnQpIHtcbiAgICAgICAgdmFyIGl0ID0gaXRlcmF0b3JPZkl0ZXJhdG9ycy5uZXh0KCk7XG4gICAgICAgIGlmIChpdC5kb25lKSB7XG4gICAgICAgICAgcmV0dXJuIGdvb2cuaXRlci5FUzZfSVRFUkFUT1JfRE9ORTtcbiAgICAgICAgfVxuICAgICAgICBjdXJyZW50ID0gZ29vZy5pdGVyLnRvSXRlcmF0b3IoaXQudmFsdWUpO1xuICAgICAgfVxuICAgICAgdmFyIGl0JDQ2ID0gY3VycmVudC5uZXh0KCk7XG4gICAgICBpZiAoaXQkNDYuZG9uZSkge1xuICAgICAgICBjdXJyZW50ID0gbnVsbDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBnb29nLml0ZXIuY3JlYXRlRXM2SXRlcmF0b3JZaWVsZChpdCQ0Ni52YWx1ZSk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuICByZXR1cm4gaXRlcjtcbn07XG5nb29nLml0ZXIuZHJvcFdoaWxlID0gZnVuY3Rpb24oaXRlcmFibGUsIGYsIG9wdF9vYmopIHtcbiAgdmFyIGl0ZXJhdG9yID0gZ29vZy5pdGVyLnRvSXRlcmF0b3IoaXRlcmFibGUpLCBuZXdJdGVyID0gbmV3IGdvb2cuaXRlci5JdGVyYXRvcigpLCBkcm9wcGluZyA9ICEwO1xuICBuZXdJdGVyLm5leHQgPSBmdW5jdGlvbigpIHtcbiAgICBmb3IgKDs7KSB7XG4gICAgICB2YXIgJGpzY29tcCRkZXN0cnVjdHVyaW5nJHZhcjE3ID0gaXRlcmF0b3IubmV4dCgpLCB2YWx1ZSA9ICRqc2NvbXAkZGVzdHJ1Y3R1cmluZyR2YXIxNy52YWx1ZTtcbiAgICAgIGlmICgkanNjb21wJGRlc3RydWN0dXJpbmckdmFyMTcuZG9uZSkge1xuICAgICAgICByZXR1cm4gZ29vZy5pdGVyLkVTNl9JVEVSQVRPUl9ET05FO1xuICAgICAgfVxuICAgICAgaWYgKCFkcm9wcGluZyB8fCAhZi5jYWxsKG9wdF9vYmosIHZhbHVlLCB2b2lkIDAsIGl0ZXJhdG9yKSkge1xuICAgICAgICByZXR1cm4gZHJvcHBpbmcgPSAhMSwgZ29vZy5pdGVyLmNyZWF0ZUVzNkl0ZXJhdG9yWWllbGQodmFsdWUpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgcmV0dXJuIG5ld0l0ZXI7XG59O1xuZ29vZy5pdGVyLnRha2VXaGlsZSA9IGZ1bmN0aW9uKGl0ZXJhYmxlLCBmLCBvcHRfb2JqKSB7XG4gIHZhciBpdGVyYXRvciA9IGdvb2cuaXRlci50b0l0ZXJhdG9yKGl0ZXJhYmxlKSwgaXRlciA9IG5ldyBnb29nLml0ZXIuSXRlcmF0b3IoKTtcbiAgaXRlci5uZXh0ID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyICRqc2NvbXAkZGVzdHJ1Y3R1cmluZyR2YXIxOCA9IGl0ZXJhdG9yLm5leHQoKSwgdmFsdWUgPSAkanNjb21wJGRlc3RydWN0dXJpbmckdmFyMTgudmFsdWU7XG4gICAgcmV0dXJuICRqc2NvbXAkZGVzdHJ1Y3R1cmluZyR2YXIxOC5kb25lID8gZ29vZy5pdGVyLkVTNl9JVEVSQVRPUl9ET05FIDogZi5jYWxsKG9wdF9vYmosIHZhbHVlLCB2b2lkIDAsIGl0ZXJhdG9yKSA/IGdvb2cuaXRlci5jcmVhdGVFczZJdGVyYXRvcllpZWxkKHZhbHVlKSA6IGdvb2cuaXRlci5FUzZfSVRFUkFUT1JfRE9ORTtcbiAgfTtcbiAgcmV0dXJuIGl0ZXI7XG59O1xuZ29vZy5pdGVyLnRvQXJyYXkgPSBmdW5jdGlvbihpdGVyYWJsZSkge1xuICBpZiAoZ29vZy5pc0FycmF5TGlrZShpdGVyYWJsZSkpIHtcbiAgICByZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfdG9BcnJheShpdGVyYWJsZSk7XG4gIH1cbiAgaXRlcmFibGUgPSBnb29nLml0ZXIudG9JdGVyYXRvcihpdGVyYWJsZSk7XG4gIHZhciBhcnJheSA9IFtdO1xuICBnb29nLml0ZXIuZm9yRWFjaChpdGVyYWJsZSwgZnVuY3Rpb24odmFsKSB7XG4gICAgYXJyYXkucHVzaCh2YWwpO1xuICB9KTtcbiAgcmV0dXJuIGFycmF5O1xufTtcbmdvb2cuaXRlci5lcXVhbHMgPSBmdW5jdGlvbihpdGVyYWJsZTEsIGl0ZXJhYmxlMiwgb3B0X2VxdWFsc0ZuKSB7XG4gIHZhciBwYWlycyA9IGdvb2cuaXRlci56aXBMb25nZXN0KHt9LCBpdGVyYWJsZTEsIGl0ZXJhYmxlMiksIGVxdWFsc0ZuID0gb3B0X2VxdWFsc0ZuIHx8IG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X2RlZmF1bHRDb21wYXJlRXF1YWxpdHk7XG4gIHJldHVybiBnb29nLml0ZXIuZXZlcnkocGFpcnMsIGZ1bmN0aW9uKHBhaXIpIHtcbiAgICByZXR1cm4gZXF1YWxzRm4ocGFpclswXSwgcGFpclsxXSk7XG4gIH0pO1xufTtcbmdvb2cuaXRlci5uZXh0T3JWYWx1ZSA9IGZ1bmN0aW9uKGl0ZXJhYmxlLCBkZWZhdWx0VmFsdWUpIHtcbiAgdmFyICRqc2NvbXAkZGVzdHJ1Y3R1cmluZyR2YXIxOSA9IGdvb2cuaXRlci50b0l0ZXJhdG9yKGl0ZXJhYmxlKS5uZXh0KCk7XG4gIHJldHVybiAkanNjb21wJGRlc3RydWN0dXJpbmckdmFyMTkuZG9uZSA/IGRlZmF1bHRWYWx1ZSA6ICRqc2NvbXAkZGVzdHJ1Y3R1cmluZyR2YXIxOS52YWx1ZTtcbn07XG5nb29nLml0ZXIucHJvZHVjdCA9IGZ1bmN0aW9uKHZhcl9hcmdzKSB7XG4gIGlmIChBcnJheS5wcm90b3R5cGUuc29tZS5jYWxsKGFyZ3VtZW50cywgZnVuY3Rpb24oYXJyKSB7XG4gICAgcmV0dXJuICFhcnIubGVuZ3RoO1xuICB9KSB8fCAhYXJndW1lbnRzLmxlbmd0aCkge1xuICAgIHJldHVybiBuZXcgZ29vZy5pdGVyLkl0ZXJhdG9yKCk7XG4gIH1cbiAgdmFyIGl0ZXIgPSBuZXcgZ29vZy5pdGVyLkl0ZXJhdG9yKCksIGFycmF5cyA9IGFyZ3VtZW50cywgaW5kaWNlcyA9IG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X3JlcGVhdCgwLCBhcnJheXMubGVuZ3RoKTtcbiAgaXRlci5uZXh0ID0gZnVuY3Rpb24oKSB7XG4gICAgaWYgKGluZGljZXMpIHtcbiAgICAgIGZvciAodmFyIHJldFZhbCA9IG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X21hcChpbmRpY2VzLCBmdW5jdGlvbih2YWx1ZUluZGV4LCBhcnJheUluZGV4KSB7XG4gICAgICAgIHJldHVybiBhcnJheXNbYXJyYXlJbmRleF1bdmFsdWVJbmRleF07XG4gICAgICB9KSwgaSA9IGluZGljZXMubGVuZ3RoIC0gMTsgMCA8PSBpOyBpLS0pIHtcbiAgICAgICAgZ29vZy5hc3NlcnRzLmFzc2VydChpbmRpY2VzKTtcbiAgICAgICAgaWYgKGluZGljZXNbaV0gPCBhcnJheXNbaV0ubGVuZ3RoIC0gMSkge1xuICAgICAgICAgIGluZGljZXNbaV0rKztcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBpZiAoMCA9PSBpKSB7XG4gICAgICAgICAgaW5kaWNlcyA9IG51bGw7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgaW5kaWNlc1tpXSA9IDA7XG4gICAgICB9XG4gICAgICByZXR1cm4gZ29vZy5pdGVyLmNyZWF0ZUVzNkl0ZXJhdG9yWWllbGQocmV0VmFsKTtcbiAgICB9XG4gICAgcmV0dXJuIGdvb2cuaXRlci5FUzZfSVRFUkFUT1JfRE9ORTtcbiAgfTtcbiAgcmV0dXJuIGl0ZXI7XG59O1xuZ29vZy5pdGVyLmN5Y2xlID0gZnVuY3Rpb24oaXRlcmFibGUpIHtcbiAgdmFyIGJhc2VJdGVyYXRvciA9IGdvb2cuaXRlci50b0l0ZXJhdG9yKGl0ZXJhYmxlKSwgY2FjaGUgPSBbXSwgY2FjaGVJbmRleCA9IDAsIGl0ZXIgPSBuZXcgZ29vZy5pdGVyLkl0ZXJhdG9yKCksIHVzZUNhY2hlID0gITE7XG4gIGl0ZXIubmV4dCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciByZXR1cm5FbGVtZW50ID0gbnVsbDtcbiAgICBpZiAoIXVzZUNhY2hlKSB7XG4gICAgICB2YXIgaXQgPSBiYXNlSXRlcmF0b3IubmV4dCgpO1xuICAgICAgaWYgKGl0LmRvbmUpIHtcbiAgICAgICAgaWYgKG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X2lzRW1wdHkoY2FjaGUpKSB7XG4gICAgICAgICAgcmV0dXJuIGdvb2cuaXRlci5FUzZfSVRFUkFUT1JfRE9ORTtcbiAgICAgICAgfVxuICAgICAgICB1c2VDYWNoZSA9ICEwO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGNhY2hlLnB1c2goaXQudmFsdWUpLCBpdDtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuRWxlbWVudCA9IGNhY2hlW2NhY2hlSW5kZXhdO1xuICAgIGNhY2hlSW5kZXggPSAoY2FjaGVJbmRleCArIDEpICUgY2FjaGUubGVuZ3RoO1xuICAgIHJldHVybiBnb29nLml0ZXIuY3JlYXRlRXM2SXRlcmF0b3JZaWVsZChyZXR1cm5FbGVtZW50KTtcbiAgfTtcbiAgcmV0dXJuIGl0ZXI7XG59O1xuZ29vZy5pdGVyLmNvdW50ID0gZnVuY3Rpb24ob3B0X3N0YXJ0LCBvcHRfc3RlcCkge1xuICB2YXIgY291bnRlciA9IG9wdF9zdGFydCB8fCAwLCBzdGVwID0gdm9pZCAwICE9PSBvcHRfc3RlcCA/IG9wdF9zdGVwIDogMSwgaXRlciA9IG5ldyBnb29nLml0ZXIuSXRlcmF0b3IoKTtcbiAgaXRlci5uZXh0ID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHJldHVyblZhbHVlID0gY291bnRlcjtcbiAgICBjb3VudGVyICs9IHN0ZXA7XG4gICAgcmV0dXJuIGdvb2cuaXRlci5jcmVhdGVFczZJdGVyYXRvcllpZWxkKHJldHVyblZhbHVlKTtcbiAgfTtcbiAgcmV0dXJuIGl0ZXI7XG59O1xuZ29vZy5pdGVyLnJlcGVhdCA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gIHZhciBpdGVyID0gbmV3IGdvb2cuaXRlci5JdGVyYXRvcigpO1xuICBpdGVyLm5leHQgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gZ29vZy5pdGVyLmNyZWF0ZUVzNkl0ZXJhdG9yWWllbGQodmFsdWUpO1xuICB9O1xuICByZXR1cm4gaXRlcjtcbn07XG5nb29nLml0ZXIuYWNjdW11bGF0ZSA9IGZ1bmN0aW9uKGl0ZXJhYmxlKSB7XG4gIHZhciBpdGVyYXRvciA9IGdvb2cuaXRlci50b0l0ZXJhdG9yKGl0ZXJhYmxlKSwgdG90YWwgPSAwLCBpdGVyID0gbmV3IGdvb2cuaXRlci5JdGVyYXRvcigpO1xuICBpdGVyLm5leHQgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgJGpzY29tcCRkZXN0cnVjdHVyaW5nJHZhcjIwID0gaXRlcmF0b3IubmV4dCgpO1xuICAgIGlmICgkanNjb21wJGRlc3RydWN0dXJpbmckdmFyMjAuZG9uZSkge1xuICAgICAgcmV0dXJuIGdvb2cuaXRlci5FUzZfSVRFUkFUT1JfRE9ORTtcbiAgICB9XG4gICAgdG90YWwgKz0gJGpzY29tcCRkZXN0cnVjdHVyaW5nJHZhcjIwLnZhbHVlO1xuICAgIHJldHVybiBnb29nLml0ZXIuY3JlYXRlRXM2SXRlcmF0b3JZaWVsZCh0b3RhbCk7XG4gIH07XG4gIHJldHVybiBpdGVyO1xufTtcbmdvb2cuaXRlci56aXAgPSBmdW5jdGlvbih2YXJfYXJncykge1xuICB2YXIgYXJncyA9IGFyZ3VtZW50cywgaXRlciA9IG5ldyBnb29nLml0ZXIuSXRlcmF0b3IoKTtcbiAgaWYgKDAgPCBhcmdzLmxlbmd0aCkge1xuICAgIHZhciBpdGVyYXRvcnMgPSBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9tYXAoYXJncywgZ29vZy5pdGVyLnRvSXRlcmF0b3IpLCBhbGxEb25lID0gITE7XG4gICAgaXRlci5uZXh0ID0gZnVuY3Rpb24oKSB7XG4gICAgICBpZiAoYWxsRG9uZSkge1xuICAgICAgICByZXR1cm4gZ29vZy5pdGVyLkVTNl9JVEVSQVRPUl9ET05FO1xuICAgICAgfVxuICAgICAgZm9yICh2YXIgYXJyID0gW10sIGkgPSAwLCBpdGVyYXRvciA9IHZvaWQgMDsgaXRlcmF0b3IgPSBpdGVyYXRvcnNbaSsrXTspIHtcbiAgICAgICAgdmFyIGl0ID0gaXRlcmF0b3IubmV4dCgpO1xuICAgICAgICBpZiAoaXQuZG9uZSkge1xuICAgICAgICAgIHJldHVybiBhbGxEb25lID0gITAsIGdvb2cuaXRlci5FUzZfSVRFUkFUT1JfRE9ORTtcbiAgICAgICAgfVxuICAgICAgICBhcnIucHVzaChpdC52YWx1ZSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gZ29vZy5pdGVyLmNyZWF0ZUVzNkl0ZXJhdG9yWWllbGQoYXJyKTtcbiAgICB9O1xuICB9XG4gIHJldHVybiBpdGVyO1xufTtcbmdvb2cuaXRlci56aXBMb25nZXN0ID0gZnVuY3Rpb24oZmlsbFZhbHVlLCB2YXJfYXJncykge1xuICB2YXIgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSksIGl0ZXIgPSBuZXcgZ29vZy5pdGVyLkl0ZXJhdG9yKCk7XG4gIGlmICgwIDwgYXJncy5sZW5ndGgpIHtcbiAgICB2YXIgaXRlcmF0b3JzID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfbWFwKGFyZ3MsIGdvb2cuaXRlci50b0l0ZXJhdG9yKSwgYWxsRG9uZSA9ICExO1xuICAgIGl0ZXIubmV4dCA9IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKGFsbERvbmUpIHtcbiAgICAgICAgcmV0dXJuIGdvb2cuaXRlci5FUzZfSVRFUkFUT1JfRE9ORTtcbiAgICAgIH1cbiAgICAgIGZvciAodmFyIGl0ZXJhdG9yc0hhdmVWYWx1ZXMgPSAhMSwgYXJyID0gW10sIGkgPSAwLCBpdGVyYXRvciA9IHZvaWQgMDsgaXRlcmF0b3IgPSBpdGVyYXRvcnNbaSsrXTspIHtcbiAgICAgICAgdmFyIGl0ID0gaXRlcmF0b3IubmV4dCgpO1xuICAgICAgICBpdC5kb25lID8gYXJyLnB1c2goZmlsbFZhbHVlKSA6IChhcnIucHVzaChpdC52YWx1ZSksIGl0ZXJhdG9yc0hhdmVWYWx1ZXMgPSAhMCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gaXRlcmF0b3JzSGF2ZVZhbHVlcyA/IGdvb2cuaXRlci5jcmVhdGVFczZJdGVyYXRvcllpZWxkKGFycikgOiAoYWxsRG9uZSA9ICEwLCBnb29nLml0ZXIuRVM2X0lURVJBVE9SX0RPTkUpO1xuICAgIH07XG4gIH1cbiAgcmV0dXJuIGl0ZXI7XG59O1xuZ29vZy5pdGVyLmNvbXByZXNzID0gZnVuY3Rpb24oaXRlcmFibGUsIHNlbGVjdG9ycykge1xuICB2YXIgdmFsdWVJdGVyYXRvciA9IGdvb2cuaXRlci50b0l0ZXJhdG9yKGl0ZXJhYmxlKSwgc2VsZWN0b3JJdGVyYXRvciA9IGdvb2cuaXRlci50b0l0ZXJhdG9yKHNlbGVjdG9ycyksIGl0ZXIgPSBuZXcgZ29vZy5pdGVyLkl0ZXJhdG9yKCksIGFsbERvbmUgPSAhMTtcbiAgaXRlci5uZXh0ID0gZnVuY3Rpb24oKSB7XG4gICAgaWYgKGFsbERvbmUpIHtcbiAgICAgIHJldHVybiBnb29nLml0ZXIuRVM2X0lURVJBVE9SX0RPTkU7XG4gICAgfVxuICAgIGZvciAoOzspIHtcbiAgICAgIHZhciB2YWxJdCA9IHZhbHVlSXRlcmF0b3IubmV4dCgpO1xuICAgICAgaWYgKHZhbEl0LmRvbmUpIHtcbiAgICAgICAgcmV0dXJuIGFsbERvbmUgPSAhMCwgZ29vZy5pdGVyLkVTNl9JVEVSQVRPUl9ET05FO1xuICAgICAgfVxuICAgICAgdmFyIHNlbGVjdG9ySXQgPSBzZWxlY3Rvckl0ZXJhdG9yLm5leHQoKTtcbiAgICAgIGlmIChzZWxlY3Rvckl0LmRvbmUpIHtcbiAgICAgICAgcmV0dXJuIGFsbERvbmUgPSAhMCwgZ29vZy5pdGVyLkVTNl9JVEVSQVRPUl9ET05FO1xuICAgICAgfVxuICAgICAgdmFyIHZhbCA9IHZhbEl0LnZhbHVlO1xuICAgICAgaWYgKHNlbGVjdG9ySXQudmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIGdvb2cuaXRlci5jcmVhdGVFczZJdGVyYXRvcllpZWxkKHZhbCk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuICByZXR1cm4gaXRlcjtcbn07XG5nb29nLml0ZXIuR3JvdXBCeUl0ZXJhdG9yXyA9IGZ1bmN0aW9uKGl0ZXJhYmxlLCBvcHRfa2V5RnVuYykge1xuICB0aGlzLml0ZXJhdG9yID0gZ29vZy5pdGVyLnRvSXRlcmF0b3IoaXRlcmFibGUpO1xuICB0aGlzLmtleUZ1bmMgPSBvcHRfa2V5RnVuYyB8fCBnb29nLmZ1bmN0aW9ucy5pZGVudGl0eTtcbn07XG5nb29nLmluaGVyaXRzKGdvb2cuaXRlci5Hcm91cEJ5SXRlcmF0b3JfLCBnb29nLml0ZXIuSXRlcmF0b3IpO1xuZ29vZy5pdGVyLkdyb3VwQnlJdGVyYXRvcl8ucHJvdG90eXBlLm5leHQgPSBmdW5jdGlvbigpIHtcbiAgZm9yICg7IHRoaXMuY3VycmVudEtleSA9PSB0aGlzLnRhcmdldEtleTspIHtcbiAgICB2YXIgaXQgPSB0aGlzLml0ZXJhdG9yLm5leHQoKTtcbiAgICBpZiAoaXQuZG9uZSkge1xuICAgICAgcmV0dXJuIGdvb2cuaXRlci5FUzZfSVRFUkFUT1JfRE9ORTtcbiAgICB9XG4gICAgdGhpcy5jdXJyZW50VmFsdWUgPSBpdC52YWx1ZTtcbiAgICB0aGlzLmN1cnJlbnRLZXkgPSB0aGlzLmtleUZ1bmModGhpcy5jdXJyZW50VmFsdWUpO1xuICB9XG4gIHRoaXMudGFyZ2V0S2V5ID0gdGhpcy5jdXJyZW50S2V5O1xuICByZXR1cm4gZ29vZy5pdGVyLmNyZWF0ZUVzNkl0ZXJhdG9yWWllbGQoW3RoaXMuY3VycmVudEtleSwgdGhpcy5ncm91cEl0ZW1zXyh0aGlzLnRhcmdldEtleSldKTtcbn07XG5nb29nLml0ZXIuR3JvdXBCeUl0ZXJhdG9yXy5wcm90b3R5cGUuZ3JvdXBJdGVtc18gPSBmdW5jdGlvbih0YXJnZXRLZXkpIHtcbiAgZm9yICh2YXIgYXJyID0gW107IHRoaXMuY3VycmVudEtleSA9PSB0YXJnZXRLZXk7KSB7XG4gICAgYXJyLnB1c2godGhpcy5jdXJyZW50VmFsdWUpO1xuICAgIHZhciBpdCA9IHRoaXMuaXRlcmF0b3IubmV4dCgpO1xuICAgIGlmIChpdC5kb25lKSB7XG4gICAgICBicmVhaztcbiAgICB9XG4gICAgdGhpcy5jdXJyZW50VmFsdWUgPSBpdC52YWx1ZTtcbiAgICB0aGlzLmN1cnJlbnRLZXkgPSB0aGlzLmtleUZ1bmModGhpcy5jdXJyZW50VmFsdWUpO1xuICB9XG4gIHJldHVybiBhcnI7XG59O1xuZ29vZy5pdGVyLmdyb3VwQnkgPSBmdW5jdGlvbihpdGVyYWJsZSwgb3B0X2tleUZ1bmMpIHtcbiAgcmV0dXJuIG5ldyBnb29nLml0ZXIuR3JvdXBCeUl0ZXJhdG9yXyhpdGVyYWJsZSwgb3B0X2tleUZ1bmMpO1xufTtcbmdvb2cuaXRlci5zdGFyTWFwID0gZnVuY3Rpb24oaXRlcmFibGUsIGYsIG9wdF9vYmopIHtcbiAgdmFyIGl0ZXJhdG9yID0gZ29vZy5pdGVyLnRvSXRlcmF0b3IoaXRlcmFibGUpLCBpdGVyID0gbmV3IGdvb2cuaXRlci5JdGVyYXRvcigpO1xuICBpdGVyLm5leHQgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgaXQgPSBpdGVyYXRvci5uZXh0KCk7XG4gICAgaWYgKGl0LmRvbmUpIHtcbiAgICAgIHJldHVybiBnb29nLml0ZXIuRVM2X0lURVJBVE9SX0RPTkU7XG4gICAgfVxuICAgIHZhciBhcmdzID0gZ29vZy5pdGVyLnRvQXJyYXkoaXQudmFsdWUpLCB2YWx1ZSA9IGYuYXBwbHkob3B0X29iaiwgW10uY29uY2F0KGFyZ3MsIHZvaWQgMCwgaXRlcmF0b3IpKTtcbiAgICByZXR1cm4gZ29vZy5pdGVyLmNyZWF0ZUVzNkl0ZXJhdG9yWWllbGQodmFsdWUpO1xuICB9O1xuICByZXR1cm4gaXRlcjtcbn07XG5nb29nLml0ZXIudGVlID0gZnVuY3Rpb24oaXRlcmFibGUsIG9wdF9udW0pIHtcbiAgZnVuY3Rpb24gYWRkTmV4dEl0ZXJhdG9yVmFsdWVUb0J1ZmZlcnMoKSB7XG4gICAgdmFyICRqc2NvbXAkZGVzdHJ1Y3R1cmluZyR2YXIyMSA9IGl0ZXJhdG9yLm5leHQoKSwgdmFsdWUgPSAkanNjb21wJGRlc3RydWN0dXJpbmckdmFyMjEudmFsdWU7XG4gICAgaWYgKCRqc2NvbXAkZGVzdHJ1Y3R1cmluZyR2YXIyMS5kb25lKSB7XG4gICAgICByZXR1cm4gITE7XG4gICAgfVxuICAgIGZvciAodmFyIGkgPSAwLCBidWZmZXIgPSB2b2lkIDA7IGJ1ZmZlciA9IGJ1ZmZlcnNbaSsrXTspIHtcbiAgICAgIGJ1ZmZlci5wdXNoKHZhbHVlKTtcbiAgICB9XG4gICAgcmV0dXJuICEwO1xuICB9XG4gIHZhciBpdGVyYXRvciA9IGdvb2cuaXRlci50b0l0ZXJhdG9yKGl0ZXJhYmxlKSwgYnVmZmVycyA9IG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X21hcChtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9yYW5nZShcIm51bWJlclwiID09PSB0eXBlb2Ygb3B0X251bSA/IG9wdF9udW0gOiAyKSwgZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIFtdO1xuICB9KTtcbiAgcmV0dXJuIG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X21hcChidWZmZXJzLCBmdW5jdGlvbiBjcmVhdGVJdGVyYXRvcihidWZmZXIpIHtcbiAgICB2YXIgaXRlciA9IG5ldyBnb29nLml0ZXIuSXRlcmF0b3IoKTtcbiAgICBpdGVyLm5leHQgPSBmdW5jdGlvbigpIHtcbiAgICAgIGlmIChtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9pc0VtcHR5KGJ1ZmZlcikgJiYgIWFkZE5leHRJdGVyYXRvclZhbHVlVG9CdWZmZXJzKCkpIHtcbiAgICAgICAgcmV0dXJuIGdvb2cuaXRlci5FUzZfSVRFUkFUT1JfRE9ORTtcbiAgICAgIH1cbiAgICAgIGdvb2cuYXNzZXJ0cy5hc3NlcnQoIW1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X2lzRW1wdHkoYnVmZmVyKSk7XG4gICAgICByZXR1cm4gZ29vZy5pdGVyLmNyZWF0ZUVzNkl0ZXJhdG9yWWllbGQoYnVmZmVyLnNoaWZ0KCkpO1xuICAgIH07XG4gICAgcmV0dXJuIGl0ZXI7XG4gIH0pO1xufTtcbmdvb2cuaXRlci5lbnVtZXJhdGUgPSBmdW5jdGlvbihpdGVyYWJsZSwgb3B0X3N0YXJ0KSB7XG4gIHJldHVybiBnb29nLml0ZXIuemlwKGdvb2cuaXRlci5jb3VudChvcHRfc3RhcnQpLCBpdGVyYWJsZSk7XG59O1xuZ29vZy5pdGVyLmxpbWl0ID0gZnVuY3Rpb24oaXRlcmFibGUsIGxpbWl0U2l6ZSkge1xuICBnb29nLmFzc2VydHMuYXNzZXJ0KGdvb2cubWF0aC5pc0ludChsaW1pdFNpemUpICYmIDAgPD0gbGltaXRTaXplKTtcbiAgdmFyIGl0ZXJhdG9yID0gZ29vZy5pdGVyLnRvSXRlcmF0b3IoaXRlcmFibGUpLCBpdGVyID0gbmV3IGdvb2cuaXRlci5JdGVyYXRvcigpLCByZW1haW5pbmcgPSBsaW1pdFNpemU7XG4gIGl0ZXIubmV4dCA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiAwIDwgcmVtYWluaW5nLS0gPyBpdGVyYXRvci5uZXh0KCkgOiBnb29nLml0ZXIuRVM2X0lURVJBVE9SX0RPTkU7XG4gIH07XG4gIHJldHVybiBpdGVyO1xufTtcbmdvb2cuaXRlci5jb25zdW1lID0gZnVuY3Rpb24oaXRlcmFibGUsIGNvdW50KSB7XG4gIGdvb2cuYXNzZXJ0cy5hc3NlcnQoZ29vZy5tYXRoLmlzSW50KGNvdW50KSAmJiAwIDw9IGNvdW50KTtcbiAgZm9yICh2YXIgaXRlcmF0b3IgPSBnb29nLml0ZXIudG9JdGVyYXRvcihpdGVyYWJsZSk7IDAgPCBjb3VudC0tOykge1xuICAgIGdvb2cuaXRlci5uZXh0T3JWYWx1ZShpdGVyYXRvciwgbnVsbCk7XG4gIH1cbiAgcmV0dXJuIGl0ZXJhdG9yO1xufTtcbmdvb2cuaXRlci5zbGljZSA9IGZ1bmN0aW9uKGl0ZXJhYmxlLCBzdGFydCwgb3B0X2VuZCkge1xuICBnb29nLmFzc2VydHMuYXNzZXJ0KGdvb2cubWF0aC5pc0ludChzdGFydCkgJiYgMCA8PSBzdGFydCk7XG4gIHZhciBpdGVyYXRvciA9IGdvb2cuaXRlci5jb25zdW1lKGl0ZXJhYmxlLCBzdGFydCk7XG4gIFwibnVtYmVyXCIgPT09IHR5cGVvZiBvcHRfZW5kICYmIChnb29nLmFzc2VydHMuYXNzZXJ0KGdvb2cubWF0aC5pc0ludChvcHRfZW5kKSAmJiBvcHRfZW5kID49IHN0YXJ0KSwgaXRlcmF0b3IgPSBnb29nLml0ZXIubGltaXQoaXRlcmF0b3IsIG9wdF9lbmQgLSBzdGFydCkpO1xuICByZXR1cm4gaXRlcmF0b3I7XG59O1xuZ29vZy5pdGVyLmhhc0R1cGxpY2F0ZXNfID0gZnVuY3Rpb24oYXJyKSB7XG4gIHZhciBkZWR1cGVkID0gW107XG4gIG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X3JlbW92ZUR1cGxpY2F0ZXMoYXJyLCBkZWR1cGVkKTtcbiAgcmV0dXJuIGFyci5sZW5ndGggIT0gZGVkdXBlZC5sZW5ndGg7XG59O1xuZ29vZy5pdGVyLnBlcm11dGF0aW9ucyA9IGZ1bmN0aW9uKGl0ZXJhYmxlLCBvcHRfbGVuZ3RoKSB7XG4gIHZhciBlbGVtZW50cyA9IGdvb2cuaXRlci50b0FycmF5KGl0ZXJhYmxlKSwgcHJvZHVjdCA9IGdvb2cuaXRlci5wcm9kdWN0LmFwcGx5KHZvaWQgMCwgbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfcmVwZWF0KGVsZW1lbnRzLCBcIm51bWJlclwiID09PSB0eXBlb2Ygb3B0X2xlbmd0aCA/IG9wdF9sZW5ndGggOiBlbGVtZW50cy5sZW5ndGgpKTtcbiAgcmV0dXJuIGdvb2cuaXRlci5maWx0ZXIocHJvZHVjdCwgZnVuY3Rpb24oYXJyKSB7XG4gICAgcmV0dXJuICFnb29nLml0ZXIuaGFzRHVwbGljYXRlc18oYXJyKTtcbiAgfSk7XG59O1xuZ29vZy5pdGVyLmNvbWJpbmF0aW9ucyA9IGZ1bmN0aW9uKGl0ZXJhYmxlLCBsZW5ndGgpIHtcbiAgZnVuY3Rpb24gZ2V0SW5kZXhGcm9tRWxlbWVudHMoaW5kZXgpIHtcbiAgICByZXR1cm4gZWxlbWVudHNbaW5kZXhdO1xuICB9XG4gIHZhciBlbGVtZW50cyA9IGdvb2cuaXRlci50b0FycmF5KGl0ZXJhYmxlKSwgaW5kZXhlcyA9IGdvb2cuaXRlci5yYW5nZShlbGVtZW50cy5sZW5ndGgpLCBpbmRleEl0ZXJhdG9yID0gZ29vZy5pdGVyLnBlcm11dGF0aW9ucyhpbmRleGVzLCBsZW5ndGgpLCBzb3J0ZWRJbmRleEl0ZXJhdG9yID0gZ29vZy5pdGVyLmZpbHRlcihpbmRleEl0ZXJhdG9yLCBmdW5jdGlvbihhcnIpIHtcbiAgICByZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfaXNTb3J0ZWQoYXJyKTtcbiAgfSksIGl0ZXIgPSBuZXcgZ29vZy5pdGVyLkl0ZXJhdG9yKCk7XG4gIGl0ZXIubmV4dCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciAkanNjb21wJGRlc3RydWN0dXJpbmckdmFyMjIgPSBzb3J0ZWRJbmRleEl0ZXJhdG9yLm5leHQoKTtcbiAgICByZXR1cm4gJGpzY29tcCRkZXN0cnVjdHVyaW5nJHZhcjIyLmRvbmUgPyBnb29nLml0ZXIuRVM2X0lURVJBVE9SX0RPTkUgOiBnb29nLml0ZXIuY3JlYXRlRXM2SXRlcmF0b3JZaWVsZChtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9tYXAoJGpzY29tcCRkZXN0cnVjdHVyaW5nJHZhcjIyLnZhbHVlLCBnZXRJbmRleEZyb21FbGVtZW50cykpO1xuICB9O1xuICByZXR1cm4gaXRlcjtcbn07XG5nb29nLml0ZXIuY29tYmluYXRpb25zV2l0aFJlcGxhY2VtZW50ID0gZnVuY3Rpb24oaXRlcmFibGUsIGxlbmd0aCkge1xuICBmdW5jdGlvbiBnZXRJbmRleEZyb21FbGVtZW50cyhpbmRleCkge1xuICAgIHJldHVybiBlbGVtZW50c1tpbmRleF07XG4gIH1cbiAgdmFyIGVsZW1lbnRzID0gZ29vZy5pdGVyLnRvQXJyYXkoaXRlcmFibGUpLCBpbmRleGVzID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfcmFuZ2UoZWxlbWVudHMubGVuZ3RoKSwgaW5kZXhJdGVyYXRvciA9IGdvb2cuaXRlci5wcm9kdWN0LmFwcGx5KHZvaWQgMCwgbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfcmVwZWF0KGluZGV4ZXMsIGxlbmd0aCkpLCBzb3J0ZWRJbmRleEl0ZXJhdG9yID0gZ29vZy5pdGVyLmZpbHRlcihpbmRleEl0ZXJhdG9yLCBmdW5jdGlvbihhcnIpIHtcbiAgICByZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfaXNTb3J0ZWQoYXJyKTtcbiAgfSksIGl0ZXIgPSBuZXcgZ29vZy5pdGVyLkl0ZXJhdG9yKCk7XG4gIGl0ZXIubmV4dCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciAkanNjb21wJGRlc3RydWN0dXJpbmckdmFyMjMgPSBzb3J0ZWRJbmRleEl0ZXJhdG9yLm5leHQoKTtcbiAgICByZXR1cm4gJGpzY29tcCRkZXN0cnVjdHVyaW5nJHZhcjIzLmRvbmUgPyBnb29nLml0ZXIuRVM2X0lURVJBVE9SX0RPTkUgOiBnb29nLml0ZXIuY3JlYXRlRXM2SXRlcmF0b3JZaWVsZChtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9tYXAoJGpzY29tcCRkZXN0cnVjdHVyaW5nJHZhcjIzLnZhbHVlLCBnZXRJbmRleEZyb21FbGVtZW50cykpO1xuICB9O1xuICByZXR1cm4gaXRlcjtcbn07XG5nb29nLml0ZXIuZXM2ID0ge307XG52YXIgbW9kdWxlJGNvbnRlbnRzJGdvb2ckaXRlciRlczZfU2hpbUl0ZXJhYmxlID0gZnVuY3Rpb24oKSB7XG59O1xubW9kdWxlJGNvbnRlbnRzJGdvb2ckaXRlciRlczZfU2hpbUl0ZXJhYmxlLnByb3RvdHlwZS5fX2l0ZXJhdG9yX18gPSBmdW5jdGlvbigpIHtcbn07XG5tb2R1bGUkY29udGVudHMkZ29vZyRpdGVyJGVzNl9TaGltSXRlcmFibGUucHJvdG90eXBlLnRvR29vZyA9IGZ1bmN0aW9uKCkge1xufTtcbm1vZHVsZSRjb250ZW50cyRnb29nJGl0ZXIkZXM2X1NoaW1JdGVyYWJsZS5wcm90b3R5cGUudG9FczYgPSBmdW5jdGlvbigpIHtcbn07XG5tb2R1bGUkY29udGVudHMkZ29vZyRpdGVyJGVzNl9TaGltSXRlcmFibGUub2YgPSBmdW5jdGlvbihpdGVyKSB7XG4gIGlmIChpdGVyIGluc3RhbmNlb2YgbW9kdWxlJGNvbnRlbnRzJGdvb2ckaXRlciRlczZfU2hpbUl0ZXJhYmxlSW1wbCB8fCBpdGVyIGluc3RhbmNlb2YgbW9kdWxlJGNvbnRlbnRzJGdvb2ckaXRlciRlczZfU2hpbUdvb2dJdGVyYXRvciB8fCBpdGVyIGluc3RhbmNlb2YgbW9kdWxlJGNvbnRlbnRzJGdvb2ckaXRlciRlczZfU2hpbUVzNkl0ZXJhdG9yKSB7XG4gICAgcmV0dXJuIGl0ZXI7XG4gIH1cbiAgaWYgKFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgaXRlci5uZXh0KSB7XG4gICAgcmV0dXJuIG5ldyBtb2R1bGUkY29udGVudHMkZ29vZyRpdGVyJGVzNl9TaGltSXRlcmFibGVJbXBsKGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIGl0ZXI7XG4gICAgfSk7XG4gIH1cbiAgaWYgKFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgaXRlcltTeW1ib2wuaXRlcmF0b3JdKSB7XG4gICAgcmV0dXJuIG5ldyBtb2R1bGUkY29udGVudHMkZ29vZyRpdGVyJGVzNl9TaGltSXRlcmFibGVJbXBsKGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIGl0ZXJbU3ltYm9sLml0ZXJhdG9yXSgpO1xuICAgIH0pO1xuICB9XG4gIGlmIChcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIGl0ZXIuX19pdGVyYXRvcl9fKSB7XG4gICAgcmV0dXJuIG5ldyBtb2R1bGUkY29udGVudHMkZ29vZyRpdGVyJGVzNl9TaGltSXRlcmFibGVJbXBsKGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIGl0ZXIuX19pdGVyYXRvcl9fKCk7XG4gICAgfSk7XG4gIH1cbiAgdGhyb3cgRXJyb3IoXCJOb3QgYW4gaXRlcmF0b3Igb3IgaXRlcmFibGUuXCIpO1xufTtcbnZhciBtb2R1bGUkY29udGVudHMkZ29vZyRpdGVyJGVzNl9TaGltSXRlcmFibGVJbXBsID0gZnVuY3Rpb24oZnVuYykge1xuICB0aGlzLmZ1bmNfID0gZnVuYztcbn07XG5tb2R1bGUkY29udGVudHMkZ29vZyRpdGVyJGVzNl9TaGltSXRlcmFibGVJbXBsLnByb3RvdHlwZS5fX2l0ZXJhdG9yX18gPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG5ldyBtb2R1bGUkY29udGVudHMkZ29vZyRpdGVyJGVzNl9TaGltR29vZ0l0ZXJhdG9yKHRoaXMuZnVuY18oKSk7XG59O1xubW9kdWxlJGNvbnRlbnRzJGdvb2ckaXRlciRlczZfU2hpbUl0ZXJhYmxlSW1wbC5wcm90b3R5cGUudG9Hb29nID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBuZXcgbW9kdWxlJGNvbnRlbnRzJGdvb2ckaXRlciRlczZfU2hpbUdvb2dJdGVyYXRvcih0aGlzLmZ1bmNfKCkpO1xufTtcbm1vZHVsZSRjb250ZW50cyRnb29nJGl0ZXIkZXM2X1NoaW1JdGVyYWJsZUltcGwucHJvdG90eXBlW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG5ldyBtb2R1bGUkY29udGVudHMkZ29vZyRpdGVyJGVzNl9TaGltRXM2SXRlcmF0b3IodGhpcy5mdW5jXygpKTtcbn07XG5tb2R1bGUkY29udGVudHMkZ29vZyRpdGVyJGVzNl9TaGltSXRlcmFibGVJbXBsLnByb3RvdHlwZS50b0VzNiA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbmV3IG1vZHVsZSRjb250ZW50cyRnb29nJGl0ZXIkZXM2X1NoaW1FczZJdGVyYXRvcih0aGlzLmZ1bmNfKCkpO1xufTtcbnZhciBtb2R1bGUkY29udGVudHMkZ29vZyRpdGVyJGVzNl9TaGltR29vZ0l0ZXJhdG9yID0gZnVuY3Rpb24oaXRlcikge1xuICBnb29nLml0ZXIuSXRlcmF0b3IuY2FsbCh0aGlzKTtcbiAgdGhpcy5pdGVyXyA9IGl0ZXI7XG59O1xuJGpzY29tcC5pbmhlcml0cyhtb2R1bGUkY29udGVudHMkZ29vZyRpdGVyJGVzNl9TaGltR29vZ0l0ZXJhdG9yLCBnb29nLml0ZXIuSXRlcmF0b3IpO1xubW9kdWxlJGNvbnRlbnRzJGdvb2ckaXRlciRlczZfU2hpbUdvb2dJdGVyYXRvci5wcm90b3R5cGUubmV4dCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5pdGVyXy5uZXh0KCk7XG59O1xubW9kdWxlJGNvbnRlbnRzJGdvb2ckaXRlciRlczZfU2hpbUdvb2dJdGVyYXRvci5wcm90b3R5cGUudG9Hb29nID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzO1xufTtcbm1vZHVsZSRjb250ZW50cyRnb29nJGl0ZXIkZXM2X1NoaW1Hb29nSXRlcmF0b3IucHJvdG90eXBlW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG5ldyBtb2R1bGUkY29udGVudHMkZ29vZyRpdGVyJGVzNl9TaGltRXM2SXRlcmF0b3IodGhpcy5pdGVyXyk7XG59O1xubW9kdWxlJGNvbnRlbnRzJGdvb2ckaXRlciRlczZfU2hpbUdvb2dJdGVyYXRvci5wcm90b3R5cGUudG9FczYgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG5ldyBtb2R1bGUkY29udGVudHMkZ29vZyRpdGVyJGVzNl9TaGltRXM2SXRlcmF0b3IodGhpcy5pdGVyXyk7XG59O1xudmFyIG1vZHVsZSRjb250ZW50cyRnb29nJGl0ZXIkZXM2X1NoaW1FczZJdGVyYXRvciA9IGZ1bmN0aW9uKGl0ZXIpIHtcbiAgbW9kdWxlJGNvbnRlbnRzJGdvb2ckaXRlciRlczZfU2hpbUl0ZXJhYmxlSW1wbC5jYWxsKHRoaXMsIGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBpdGVyO1xuICB9KTtcbiAgdGhpcy5pdGVyXyA9IGl0ZXI7XG59O1xuJGpzY29tcC5pbmhlcml0cyhtb2R1bGUkY29udGVudHMkZ29vZyRpdGVyJGVzNl9TaGltRXM2SXRlcmF0b3IsIG1vZHVsZSRjb250ZW50cyRnb29nJGl0ZXIkZXM2X1NoaW1JdGVyYWJsZUltcGwpO1xubW9kdWxlJGNvbnRlbnRzJGdvb2ckaXRlciRlczZfU2hpbUVzNkl0ZXJhdG9yLnByb3RvdHlwZS5uZXh0ID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLml0ZXJfLm5leHQoKTtcbn07XG5nb29nLml0ZXIuZXM2LlNoaW1JdGVyYWJsZSA9IG1vZHVsZSRjb250ZW50cyRnb29nJGl0ZXIkZXM2X1NoaW1JdGVyYWJsZTtcbmdvb2cuaXRlci5lczYuU2hpbUVzNkl0ZXJhdG9yID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckaXRlciRlczZfU2hpbUVzNkl0ZXJhdG9yO1xuZ29vZy5pdGVyLmVzNi5TaGltR29vZ0l0ZXJhdG9yID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckaXRlciRlczZfU2hpbUdvb2dJdGVyYXRvcjtcbmdvb2cuc3RydWN0cy5NYXAgPSBmdW5jdGlvbihvcHRfbWFwLCB2YXJfYXJncykge1xuICB0aGlzLm1hcF8gPSB7fTtcbiAgdGhpcy5rZXlzXyA9IFtdO1xuICB0aGlzLnZlcnNpb25fID0gdGhpcy5zaXplID0gMDtcbiAgdmFyIGFyZ0xlbmd0aCA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gIGlmICgxIDwgYXJnTGVuZ3RoKSB7XG4gICAgaWYgKGFyZ0xlbmd0aCAlIDIpIHtcbiAgICAgIHRocm93IEVycm9yKFwiVW5ldmVuIG51bWJlciBvZiBhcmd1bWVudHNcIik7XG4gICAgfVxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJnTGVuZ3RoOyBpICs9IDIpIHtcbiAgICAgIHRoaXMuc2V0KGFyZ3VtZW50c1tpXSwgYXJndW1lbnRzW2kgKyAxXSk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIG9wdF9tYXAgJiYgdGhpcy5hZGRBbGwob3B0X21hcCk7XG4gIH1cbn07XG5nb29nLnN0cnVjdHMuTWFwLnByb3RvdHlwZS5nZXRDb3VudCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5zaXplO1xufTtcbmdvb2cuc3RydWN0cy5NYXAucHJvdG90eXBlLmdldFZhbHVlcyA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLmNsZWFudXBLZXlzQXJyYXlfKCk7XG4gIGZvciAodmFyIHJ2ID0gW10sIGkgPSAwOyBpIDwgdGhpcy5rZXlzXy5sZW5ndGg7IGkrKykge1xuICAgIHJ2LnB1c2godGhpcy5tYXBfW3RoaXMua2V5c19baV1dKTtcbiAgfVxuICByZXR1cm4gcnY7XG59O1xuZ29vZy5zdHJ1Y3RzLk1hcC5wcm90b3R5cGUuZ2V0S2V5cyA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLmNsZWFudXBLZXlzQXJyYXlfKCk7XG4gIHJldHVybiB0aGlzLmtleXNfLmNvbmNhdCgpO1xufTtcbmdvb2cuc3RydWN0cy5NYXAucHJvdG90eXBlLmNvbnRhaW5zS2V5ID0gZnVuY3Rpb24oa2V5KSB7XG4gIHJldHVybiB0aGlzLmhhcyhrZXkpO1xufTtcbmdvb2cuc3RydWN0cy5NYXAucHJvdG90eXBlLmhhcyA9IGZ1bmN0aW9uKGtleSkge1xuICByZXR1cm4gZ29vZy5zdHJ1Y3RzLk1hcC5oYXNLZXlfKHRoaXMubWFwXywga2V5KTtcbn07XG5nb29nLnN0cnVjdHMuTWFwLnByb3RvdHlwZS5jb250YWluc1ZhbHVlID0gZnVuY3Rpb24odmFsKSB7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5rZXlzXy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBrZXkgPSB0aGlzLmtleXNfW2ldO1xuICAgIGlmIChnb29nLnN0cnVjdHMuTWFwLmhhc0tleV8odGhpcy5tYXBfLCBrZXkpICYmIHRoaXMubWFwX1trZXldID09IHZhbCkge1xuICAgICAgcmV0dXJuICEwO1xuICAgIH1cbiAgfVxuICByZXR1cm4gITE7XG59O1xuZ29vZy5zdHJ1Y3RzLk1hcC5wcm90b3R5cGUuZXF1YWxzID0gZnVuY3Rpb24ob3RoZXJNYXAsIG9wdF9lcXVhbGl0eUZuKSB7XG4gIGlmICh0aGlzID09PSBvdGhlck1hcCkge1xuICAgIHJldHVybiAhMDtcbiAgfVxuICBpZiAodGhpcy5zaXplICE9IG90aGVyTWFwLmdldENvdW50KCkpIHtcbiAgICByZXR1cm4gITE7XG4gIH1cbiAgdmFyIGVxdWFsaXR5Rm4gPSBvcHRfZXF1YWxpdHlGbiB8fCBnb29nLnN0cnVjdHMuTWFwLmRlZmF1bHRFcXVhbHM7XG4gIHRoaXMuY2xlYW51cEtleXNBcnJheV8oKTtcbiAgZm9yICh2YXIga2V5LCBpID0gMDsga2V5ID0gdGhpcy5rZXlzX1tpXTsgaSsrKSB7XG4gICAgaWYgKCFlcXVhbGl0eUZuKHRoaXMuZ2V0KGtleSksIG90aGVyTWFwLmdldChrZXkpKSkge1xuICAgICAgcmV0dXJuICExO1xuICAgIH1cbiAgfVxuICByZXR1cm4gITA7XG59O1xuZ29vZy5zdHJ1Y3RzLk1hcC5kZWZhdWx0RXF1YWxzID0gZnVuY3Rpb24oYSwgYikge1xuICByZXR1cm4gYSA9PT0gYjtcbn07XG5nb29nLnN0cnVjdHMuTWFwLnByb3RvdHlwZS5pc0VtcHR5ID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiAwID09IHRoaXMuc2l6ZTtcbn07XG5nb29nLnN0cnVjdHMuTWFwLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLm1hcF8gPSB7fTtcbiAgdGhpcy5rZXlzXy5sZW5ndGggPSAwO1xuICB0aGlzLnNldFNpemVJbnRlcm5hbF8oMCk7XG4gIHRoaXMudmVyc2lvbl8gPSAwO1xufTtcbmdvb2cuc3RydWN0cy5NYXAucHJvdG90eXBlLnJlbW92ZSA9IGZ1bmN0aW9uKGtleSkge1xuICByZXR1cm4gdGhpcy5kZWxldGUoa2V5KTtcbn07XG5nb29nLnN0cnVjdHMuTWFwLnByb3RvdHlwZS5kZWxldGUgPSBmdW5jdGlvbihrZXkpIHtcbiAgcmV0dXJuIGdvb2cuc3RydWN0cy5NYXAuaGFzS2V5Xyh0aGlzLm1hcF8sIGtleSkgPyAoZGVsZXRlIHRoaXMubWFwX1trZXldLCB0aGlzLnNldFNpemVJbnRlcm5hbF8odGhpcy5zaXplIC0gMSksIHRoaXMudmVyc2lvbl8rKywgdGhpcy5rZXlzXy5sZW5ndGggPiAyICogdGhpcy5zaXplICYmIHRoaXMuY2xlYW51cEtleXNBcnJheV8oKSwgITApIDogITE7XG59O1xuZ29vZy5zdHJ1Y3RzLk1hcC5wcm90b3R5cGUuY2xlYW51cEtleXNBcnJheV8gPSBmdW5jdGlvbigpIHtcbiAgaWYgKHRoaXMuc2l6ZSAhPSB0aGlzLmtleXNfLmxlbmd0aCkge1xuICAgIGZvciAodmFyIHNyY0luZGV4ID0gMCwgZGVzdEluZGV4ID0gMDsgc3JjSW5kZXggPCB0aGlzLmtleXNfLmxlbmd0aDspIHtcbiAgICAgIHZhciBrZXkgPSB0aGlzLmtleXNfW3NyY0luZGV4XTtcbiAgICAgIGdvb2cuc3RydWN0cy5NYXAuaGFzS2V5Xyh0aGlzLm1hcF8sIGtleSkgJiYgKHRoaXMua2V5c19bZGVzdEluZGV4KytdID0ga2V5KTtcbiAgICAgIHNyY0luZGV4Kys7XG4gICAgfVxuICAgIHRoaXMua2V5c18ubGVuZ3RoID0gZGVzdEluZGV4O1xuICB9XG4gIGlmICh0aGlzLnNpemUgIT0gdGhpcy5rZXlzXy5sZW5ndGgpIHtcbiAgICB2YXIgc2VlbiA9IHt9O1xuICAgIGZvciAoZGVzdEluZGV4ID0gc3JjSW5kZXggPSAwOyBzcmNJbmRleCA8IHRoaXMua2V5c18ubGVuZ3RoOykge1xuICAgICAga2V5ID0gdGhpcy5rZXlzX1tzcmNJbmRleF0sIGdvb2cuc3RydWN0cy5NYXAuaGFzS2V5XyhzZWVuLCBrZXkpIHx8ICh0aGlzLmtleXNfW2Rlc3RJbmRleCsrXSA9IGtleSwgc2VlbltrZXldID0gMSksIHNyY0luZGV4Kys7XG4gICAgfVxuICAgIHRoaXMua2V5c18ubGVuZ3RoID0gZGVzdEluZGV4O1xuICB9XG59O1xuZ29vZy5zdHJ1Y3RzLk1hcC5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24oa2V5LCBvcHRfdmFsKSB7XG4gIHJldHVybiBnb29nLnN0cnVjdHMuTWFwLmhhc0tleV8odGhpcy5tYXBfLCBrZXkpID8gdGhpcy5tYXBfW2tleV0gOiBvcHRfdmFsO1xufTtcbmdvb2cuc3RydWN0cy5NYXAucHJvdG90eXBlLnNldCA9IGZ1bmN0aW9uKGtleSwgdmFsdWUpIHtcbiAgZ29vZy5zdHJ1Y3RzLk1hcC5oYXNLZXlfKHRoaXMubWFwXywga2V5KSB8fCAodGhpcy5zZXRTaXplSW50ZXJuYWxfKHRoaXMuc2l6ZSArIDEpLCB0aGlzLmtleXNfLnB1c2goa2V5KSwgdGhpcy52ZXJzaW9uXysrKTtcbiAgdGhpcy5tYXBfW2tleV0gPSB2YWx1ZTtcbn07XG5nb29nLnN0cnVjdHMuTWFwLnByb3RvdHlwZS5hZGRBbGwgPSBmdW5jdGlvbihtYXApIHtcbiAgaWYgKG1hcCBpbnN0YW5jZW9mIGdvb2cuc3RydWN0cy5NYXApIHtcbiAgICBmb3IgKHZhciBrZXlzID0gbWFwLmdldEtleXMoKSwgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB0aGlzLnNldChrZXlzW2ldLCBtYXAuZ2V0KGtleXNbaV0pKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgZm9yICh2YXIga2V5IGluIG1hcCkge1xuICAgICAgdGhpcy5zZXQoa2V5LCBtYXBba2V5XSk7XG4gICAgfVxuICB9XG59O1xuZ29vZy5zdHJ1Y3RzLk1hcC5wcm90b3R5cGUuZm9yRWFjaCA9IGZ1bmN0aW9uKGYsIG9wdF9vYmopIHtcbiAgZm9yICh2YXIga2V5cyA9IHRoaXMuZ2V0S2V5cygpLCBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIga2V5ID0ga2V5c1tpXSwgdmFsdWUgPSB0aGlzLmdldChrZXkpO1xuICAgIGYuY2FsbChvcHRfb2JqLCB2YWx1ZSwga2V5LCB0aGlzKTtcbiAgfVxufTtcbmdvb2cuc3RydWN0cy5NYXAucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBuZXcgZ29vZy5zdHJ1Y3RzLk1hcCh0aGlzKTtcbn07XG5nb29nLnN0cnVjdHMuTWFwLnByb3RvdHlwZS50cmFuc3Bvc2UgPSBmdW5jdGlvbigpIHtcbiAgZm9yICh2YXIgdHJhbnNwb3NlZCA9IG5ldyBnb29nLnN0cnVjdHMuTWFwKCksIGkgPSAwOyBpIDwgdGhpcy5rZXlzXy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBrZXkgPSB0aGlzLmtleXNfW2ldO1xuICAgIHRyYW5zcG9zZWQuc2V0KHRoaXMubWFwX1trZXldLCBrZXkpO1xuICB9XG4gIHJldHVybiB0cmFuc3Bvc2VkO1xufTtcbmdvb2cuc3RydWN0cy5NYXAucHJvdG90eXBlLnRvT2JqZWN0ID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMuY2xlYW51cEtleXNBcnJheV8oKTtcbiAgZm9yICh2YXIgb2JqID0ge30sIGkgPSAwOyBpIDwgdGhpcy5rZXlzXy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBrZXkgPSB0aGlzLmtleXNfW2ldO1xuICAgIG9ialtrZXldID0gdGhpcy5tYXBfW2tleV07XG4gIH1cbiAgcmV0dXJuIG9iajtcbn07XG5nb29nLnN0cnVjdHMuTWFwLnByb3RvdHlwZS5nZXRLZXlJdGVyYXRvciA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5fX2l0ZXJhdG9yX18oITApO1xufTtcbmdvb2cuc3RydWN0cy5NYXAucHJvdG90eXBlLmtleXMgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRjb250ZW50cyRnb29nJGl0ZXIkZXM2X1NoaW1JdGVyYWJsZS5vZih0aGlzLmdldEtleUl0ZXJhdG9yKCkpLnRvRXM2KCk7XG59O1xuZ29vZy5zdHJ1Y3RzLk1hcC5wcm90b3R5cGUuZ2V0VmFsdWVJdGVyYXRvciA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5fX2l0ZXJhdG9yX18oITEpO1xufTtcbmdvb2cuc3RydWN0cy5NYXAucHJvdG90eXBlLnZhbHVlcyA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGdvb2ckaXRlciRlczZfU2hpbUl0ZXJhYmxlLm9mKHRoaXMuZ2V0VmFsdWVJdGVyYXRvcigpKS50b0VzNigpO1xufTtcbmdvb2cuc3RydWN0cy5NYXAucHJvdG90eXBlLmVudHJpZXMgPSBmdW5jdGlvbigpIHtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuICByZXR1cm4gZ29vZy5jb2xsZWN0aW9ucy5pdGVycy5tYXAodGhpcy5rZXlzKCksIGZ1bmN0aW9uKGtleSkge1xuICAgIHJldHVybiBba2V5LCBzZWxmLmdldChrZXkpXTtcbiAgfSk7XG59O1xuZ29vZy5zdHJ1Y3RzLk1hcC5wcm90b3R5cGUuX19pdGVyYXRvcl9fID0gZnVuY3Rpb24ob3B0X2tleXMpIHtcbiAgdGhpcy5jbGVhbnVwS2V5c0FycmF5XygpO1xuICB2YXIgaSA9IDAsIHZlcnNpb24gPSB0aGlzLnZlcnNpb25fLCBzZWxmT2JqID0gdGhpcywgbmV3SXRlciA9IG5ldyBnb29nLml0ZXIuSXRlcmF0b3IoKTtcbiAgbmV3SXRlci5uZXh0ID0gZnVuY3Rpb24oKSB7XG4gICAgaWYgKHZlcnNpb24gIT0gc2VsZk9iai52ZXJzaW9uXykge1xuICAgICAgdGhyb3cgRXJyb3IoXCJUaGUgbWFwIGhhcyBjaGFuZ2VkIHNpbmNlIHRoZSBpdGVyYXRvciB3YXMgY3JlYXRlZFwiKTtcbiAgICB9XG4gICAgaWYgKGkgPj0gc2VsZk9iai5rZXlzXy5sZW5ndGgpIHtcbiAgICAgIHJldHVybiBnb29nLml0ZXIuRVM2X0lURVJBVE9SX0RPTkU7XG4gICAgfVxuICAgIHZhciBrZXkgPSBzZWxmT2JqLmtleXNfW2krK107XG4gICAgcmV0dXJuIGdvb2cuaXRlci5jcmVhdGVFczZJdGVyYXRvcllpZWxkKG9wdF9rZXlzID8ga2V5IDogc2VsZk9iai5tYXBfW2tleV0pO1xuICB9O1xuICByZXR1cm4gbmV3SXRlcjtcbn07XG5nb29nLnN0cnVjdHMuTWFwLnByb3RvdHlwZS5zZXRTaXplSW50ZXJuYWxfID0gZnVuY3Rpb24obmV3U2l6ZSkge1xuICB0aGlzLnNpemUgPSBuZXdTaXplO1xufTtcbmdvb2cuc3RydWN0cy5NYXAuaGFzS2V5XyA9IGZ1bmN0aW9uKG9iaiwga2V5KSB7XG4gIHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpO1xufTtcbmdvb2cuc3RydWN0cy5nZXRDb3VudCA9IGZ1bmN0aW9uKGNvbCkge1xuICByZXR1cm4gY29sLmdldENvdW50ICYmIFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgY29sLmdldENvdW50ID8gY29sLmdldENvdW50KCkgOiBnb29nLmlzQXJyYXlMaWtlKGNvbCkgfHwgXCJzdHJpbmdcIiA9PT0gdHlwZW9mIGNvbCA/IGNvbC5sZW5ndGggOiBtb2R1bGUkY29udGVudHMkZ29vZyRvYmplY3RfZ2V0Q291bnQoY29sKTtcbn07XG5nb29nLnN0cnVjdHMuZ2V0VmFsdWVzID0gZnVuY3Rpb24oY29sKSB7XG4gIGlmIChjb2wuZ2V0VmFsdWVzICYmIFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgY29sLmdldFZhbHVlcykge1xuICAgIHJldHVybiBjb2wuZ2V0VmFsdWVzKCk7XG4gIH1cbiAgaWYgKFwidW5kZWZpbmVkXCIgIT09IHR5cGVvZiBNYXAgJiYgY29sIGluc3RhbmNlb2YgTWFwIHx8IFwidW5kZWZpbmVkXCIgIT09IHR5cGVvZiBTZXQgJiYgY29sIGluc3RhbmNlb2YgU2V0KSB7XG4gICAgcmV0dXJuIEFycmF5LmZyb20oY29sLnZhbHVlcygpKTtcbiAgfVxuICBpZiAoXCJzdHJpbmdcIiA9PT0gdHlwZW9mIGNvbCkge1xuICAgIHJldHVybiBjb2wuc3BsaXQoXCJcIik7XG4gIH1cbiAgaWYgKGdvb2cuaXNBcnJheUxpa2UoY29sKSkge1xuICAgIGZvciAodmFyIHJ2ID0gW10sIGwgPSBjb2wubGVuZ3RoLCBpID0gMDsgaSA8IGw7IGkrKykge1xuICAgICAgcnYucHVzaChjb2xbaV0pO1xuICAgIH1cbiAgICByZXR1cm4gcnY7XG4gIH1cbiAgcmV0dXJuIG1vZHVsZSRjb250ZW50cyRnb29nJG9iamVjdF9nZXRWYWx1ZXMoY29sKTtcbn07XG5nb29nLnN0cnVjdHMuZ2V0S2V5cyA9IGZ1bmN0aW9uKGNvbCkge1xuICBpZiAoY29sLmdldEtleXMgJiYgXCJmdW5jdGlvblwiID09IHR5cGVvZiBjb2wuZ2V0S2V5cykge1xuICAgIHJldHVybiBjb2wuZ2V0S2V5cygpO1xuICB9XG4gIGlmICghY29sLmdldFZhbHVlcyB8fCBcImZ1bmN0aW9uXCIgIT0gdHlwZW9mIGNvbC5nZXRWYWx1ZXMpIHtcbiAgICBpZiAoXCJ1bmRlZmluZWRcIiAhPT0gdHlwZW9mIE1hcCAmJiBjb2wgaW5zdGFuY2VvZiBNYXApIHtcbiAgICAgIHJldHVybiBBcnJheS5mcm9tKGNvbC5rZXlzKCkpO1xuICAgIH1cbiAgICBpZiAoIShcInVuZGVmaW5lZFwiICE9PSB0eXBlb2YgU2V0ICYmIGNvbCBpbnN0YW5jZW9mIFNldCkpIHtcbiAgICAgIGlmIChnb29nLmlzQXJyYXlMaWtlKGNvbCkgfHwgXCJzdHJpbmdcIiA9PT0gdHlwZW9mIGNvbCkge1xuICAgICAgICBmb3IgKHZhciBydiA9IFtdLCBsID0gY29sLmxlbmd0aCwgaSA9IDA7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICBydi5wdXNoKGkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBydjtcbiAgICAgIH1cbiAgICAgIHJldHVybiBtb2R1bGUkY29udGVudHMkZ29vZyRvYmplY3RfZ2V0S2V5cyhjb2wpO1xuICAgIH1cbiAgfVxufTtcbmdvb2cuc3RydWN0cy5jb250YWlucyA9IGZ1bmN0aW9uKGNvbCwgdmFsKSB7XG4gIHJldHVybiBjb2wuY29udGFpbnMgJiYgXCJmdW5jdGlvblwiID09IHR5cGVvZiBjb2wuY29udGFpbnMgPyBjb2wuY29udGFpbnModmFsKSA6IGNvbC5jb250YWluc1ZhbHVlICYmIFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgY29sLmNvbnRhaW5zVmFsdWUgPyBjb2wuY29udGFpbnNWYWx1ZSh2YWwpIDogZ29vZy5pc0FycmF5TGlrZShjb2wpIHx8IFwic3RyaW5nXCIgPT09IHR5cGVvZiBjb2wgPyBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9jb250YWlucyhjb2wsIHZhbCkgOiBtb2R1bGUkY29udGVudHMkZ29vZyRvYmplY3RfY29udGFpbnNWYWx1ZShjb2wsIHZhbCk7XG59O1xuZ29vZy5zdHJ1Y3RzLmlzRW1wdHkgPSBmdW5jdGlvbihjb2wpIHtcbiAgcmV0dXJuIGNvbC5pc0VtcHR5ICYmIFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgY29sLmlzRW1wdHkgPyBjb2wuaXNFbXB0eSgpIDogZ29vZy5pc0FycmF5TGlrZShjb2wpIHx8IFwic3RyaW5nXCIgPT09IHR5cGVvZiBjb2wgPyAwID09PSBjb2wubGVuZ3RoIDogbW9kdWxlJGNvbnRlbnRzJGdvb2ckb2JqZWN0X2lzRW1wdHkoY29sKTtcbn07XG5nb29nLnN0cnVjdHMuY2xlYXIgPSBmdW5jdGlvbihjb2wpIHtcbiAgY29sLmNsZWFyICYmIFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgY29sLmNsZWFyID8gY29sLmNsZWFyKCkgOiBnb29nLmlzQXJyYXlMaWtlKGNvbCkgPyBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9jbGVhcihjb2wpIDogbW9kdWxlJGNvbnRlbnRzJGdvb2ckb2JqZWN0X2NsZWFyKGNvbCk7XG59O1xuZ29vZy5zdHJ1Y3RzLmZvckVhY2ggPSBmdW5jdGlvbihjb2wsIGYsIG9wdF9vYmopIHtcbiAgaWYgKGNvbC5mb3JFYWNoICYmIFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgY29sLmZvckVhY2gpIHtcbiAgICBjb2wuZm9yRWFjaChmLCBvcHRfb2JqKTtcbiAgfSBlbHNlIGlmIChnb29nLmlzQXJyYXlMaWtlKGNvbCkgfHwgXCJzdHJpbmdcIiA9PT0gdHlwZW9mIGNvbCkge1xuICAgIEFycmF5LnByb3RvdHlwZS5mb3JFYWNoLmNhbGwoY29sLCBmLCBvcHRfb2JqKTtcbiAgfSBlbHNlIHtcbiAgICBmb3IgKHZhciBrZXlzID0gZ29vZy5zdHJ1Y3RzLmdldEtleXMoY29sKSwgdmFsdWVzID0gZ29vZy5zdHJ1Y3RzLmdldFZhbHVlcyhjb2wpLCBsID0gdmFsdWVzLmxlbmd0aCwgaSA9IDA7IGkgPCBsOyBpKyspIHtcbiAgICAgIGYuY2FsbChvcHRfb2JqLCB2YWx1ZXNbaV0sIGtleXMgJiYga2V5c1tpXSwgY29sKTtcbiAgICB9XG4gIH1cbn07XG5nb29nLnN0cnVjdHMuZmlsdGVyID0gZnVuY3Rpb24oY29sLCBmLCBvcHRfb2JqKSB7XG4gIGlmIChcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIGNvbC5maWx0ZXIpIHtcbiAgICByZXR1cm4gY29sLmZpbHRlcihmLCBvcHRfb2JqKTtcbiAgfVxuICBpZiAoZ29vZy5pc0FycmF5TGlrZShjb2wpIHx8IFwic3RyaW5nXCIgPT09IHR5cGVvZiBjb2wpIHtcbiAgICByZXR1cm4gQXJyYXkucHJvdG90eXBlLmZpbHRlci5jYWxsKGNvbCwgZiwgb3B0X29iaik7XG4gIH1cbiAgdmFyIGtleXMgPSBnb29nLnN0cnVjdHMuZ2V0S2V5cyhjb2wpLCB2YWx1ZXMgPSBnb29nLnN0cnVjdHMuZ2V0VmFsdWVzKGNvbCksIGwgPSB2YWx1ZXMubGVuZ3RoO1xuICBpZiAoa2V5cykge1xuICAgIHZhciBydiA9IHt9O1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbDsgaSsrKSB7XG4gICAgICBmLmNhbGwob3B0X29iaiwgdmFsdWVzW2ldLCBrZXlzW2ldLCBjb2wpICYmIChydltrZXlzW2ldXSA9IHZhbHVlc1tpXSk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGZvciAocnYgPSBbXSwgaSA9IDA7IGkgPCBsOyBpKyspIHtcbiAgICAgIGYuY2FsbChvcHRfb2JqLCB2YWx1ZXNbaV0sIHZvaWQgMCwgY29sKSAmJiBydi5wdXNoKHZhbHVlc1tpXSk7XG4gICAgfVxuICB9XG4gIHJldHVybiBydjtcbn07XG5nb29nLnN0cnVjdHMubWFwID0gZnVuY3Rpb24oY29sLCBmLCBvcHRfb2JqKSB7XG4gIGlmIChcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIGNvbC5tYXApIHtcbiAgICByZXR1cm4gY29sLm1hcChmLCBvcHRfb2JqKTtcbiAgfVxuICBpZiAoZ29vZy5pc0FycmF5TGlrZShjb2wpIHx8IFwic3RyaW5nXCIgPT09IHR5cGVvZiBjb2wpIHtcbiAgICByZXR1cm4gQXJyYXkucHJvdG90eXBlLm1hcC5jYWxsKGNvbCwgZiwgb3B0X29iaik7XG4gIH1cbiAgdmFyIGtleXMgPSBnb29nLnN0cnVjdHMuZ2V0S2V5cyhjb2wpLCB2YWx1ZXMgPSBnb29nLnN0cnVjdHMuZ2V0VmFsdWVzKGNvbCksIGwgPSB2YWx1ZXMubGVuZ3RoO1xuICBpZiAoa2V5cykge1xuICAgIHZhciBydiA9IHt9O1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbDsgaSsrKSB7XG4gICAgICBydltrZXlzW2ldXSA9IGYuY2FsbChvcHRfb2JqLCB2YWx1ZXNbaV0sIGtleXNbaV0sIGNvbCk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGZvciAocnYgPSBbXSwgaSA9IDA7IGkgPCBsOyBpKyspIHtcbiAgICAgIHJ2W2ldID0gZi5jYWxsKG9wdF9vYmosIHZhbHVlc1tpXSwgdm9pZCAwLCBjb2wpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcnY7XG59O1xuZ29vZy5zdHJ1Y3RzLnNvbWUgPSBmdW5jdGlvbihjb2wsIGYsIG9wdF9vYmopIHtcbiAgaWYgKFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgY29sLnNvbWUpIHtcbiAgICByZXR1cm4gY29sLnNvbWUoZiwgb3B0X29iaik7XG4gIH1cbiAgaWYgKGdvb2cuaXNBcnJheUxpa2UoY29sKSB8fCBcInN0cmluZ1wiID09PSB0eXBlb2YgY29sKSB7XG4gICAgcmV0dXJuIEFycmF5LnByb3RvdHlwZS5zb21lLmNhbGwoY29sLCBmLCBvcHRfb2JqKTtcbiAgfVxuICBmb3IgKHZhciBrZXlzID0gZ29vZy5zdHJ1Y3RzLmdldEtleXMoY29sKSwgdmFsdWVzID0gZ29vZy5zdHJ1Y3RzLmdldFZhbHVlcyhjb2wpLCBsID0gdmFsdWVzLmxlbmd0aCwgaSA9IDA7IGkgPCBsOyBpKyspIHtcbiAgICBpZiAoZi5jYWxsKG9wdF9vYmosIHZhbHVlc1tpXSwga2V5cyAmJiBrZXlzW2ldLCBjb2wpKSB7XG4gICAgICByZXR1cm4gITA7XG4gICAgfVxuICB9XG4gIHJldHVybiAhMTtcbn07XG5nb29nLnN0cnVjdHMuZXZlcnkgPSBmdW5jdGlvbihjb2wsIGYsIG9wdF9vYmopIHtcbiAgaWYgKFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgY29sLmV2ZXJ5KSB7XG4gICAgcmV0dXJuIGNvbC5ldmVyeShmLCBvcHRfb2JqKTtcbiAgfVxuICBpZiAoZ29vZy5pc0FycmF5TGlrZShjb2wpIHx8IFwic3RyaW5nXCIgPT09IHR5cGVvZiBjb2wpIHtcbiAgICByZXR1cm4gQXJyYXkucHJvdG90eXBlLmV2ZXJ5LmNhbGwoY29sLCBmLCBvcHRfb2JqKTtcbiAgfVxuICBmb3IgKHZhciBrZXlzID0gZ29vZy5zdHJ1Y3RzLmdldEtleXMoY29sKSwgdmFsdWVzID0gZ29vZy5zdHJ1Y3RzLmdldFZhbHVlcyhjb2wpLCBsID0gdmFsdWVzLmxlbmd0aCwgaSA9IDA7IGkgPCBsOyBpKyspIHtcbiAgICBpZiAoIWYuY2FsbChvcHRfb2JqLCB2YWx1ZXNbaV0sIGtleXMgJiYga2V5c1tpXSwgY29sKSkge1xuICAgICAgcmV0dXJuICExO1xuICAgIH1cbiAgfVxuICByZXR1cm4gITA7XG59O1xuZ29vZy5zdHJ1Y3RzLlNldCA9IGZ1bmN0aW9uKG9wdF92YWx1ZXMpIHtcbiAgdGhpcy5tYXBfID0gbmV3IGdvb2cuc3RydWN0cy5NYXAoKTtcbiAgdGhpcy5zaXplID0gMDtcbiAgb3B0X3ZhbHVlcyAmJiB0aGlzLmFkZEFsbChvcHRfdmFsdWVzKTtcbn07XG5nb29nLnN0cnVjdHMuU2V0LmdldFVpZF8gPSBnb29nLmdldFVpZDtcbmdvb2cuc3RydWN0cy5TZXQuZ2V0S2V5XyA9IGZ1bmN0aW9uKHZhbCkge1xuICB2YXIgdHlwZSA9IHR5cGVvZiB2YWw7XG4gIHJldHVybiBcIm9iamVjdFwiID09IHR5cGUgJiYgdmFsIHx8IFwiZnVuY3Rpb25cIiA9PSB0eXBlID8gXCJvXCIgKyBnb29nLmdldFVpZCh2YWwpIDogdHlwZS5zbGljZSgwLCAxKSArIHZhbDtcbn07XG5nb29nLnN0cnVjdHMuU2V0LnByb3RvdHlwZS5nZXRDb3VudCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5tYXBfLnNpemU7XG59O1xuZ29vZy5zdHJ1Y3RzLlNldC5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24oZWxlbWVudCkge1xuICB0aGlzLm1hcF8uc2V0KGdvb2cuc3RydWN0cy5TZXQuZ2V0S2V5XyhlbGVtZW50KSwgZWxlbWVudCk7XG4gIHRoaXMuc2V0U2l6ZUludGVybmFsXyh0aGlzLm1hcF8uc2l6ZSk7XG59O1xuZ29vZy5zdHJ1Y3RzLlNldC5wcm90b3R5cGUuYWRkQWxsID0gZnVuY3Rpb24oY29sKSB7XG4gIGZvciAodmFyIHZhbHVlcyA9IGdvb2cuc3RydWN0cy5nZXRWYWx1ZXMoY29sKSwgbCA9IHZhbHVlcy5sZW5ndGgsIGkgPSAwOyBpIDwgbDsgaSsrKSB7XG4gICAgdGhpcy5hZGQodmFsdWVzW2ldKTtcbiAgfVxuICB0aGlzLnNldFNpemVJbnRlcm5hbF8odGhpcy5tYXBfLnNpemUpO1xufTtcbmdvb2cuc3RydWN0cy5TZXQucHJvdG90eXBlLnJlbW92ZUFsbCA9IGZ1bmN0aW9uKGNvbCkge1xuICBmb3IgKHZhciB2YWx1ZXMgPSBnb29nLnN0cnVjdHMuZ2V0VmFsdWVzKGNvbCksIGwgPSB2YWx1ZXMubGVuZ3RoLCBpID0gMDsgaSA8IGw7IGkrKykge1xuICAgIHRoaXMucmVtb3ZlKHZhbHVlc1tpXSk7XG4gIH1cbiAgdGhpcy5zZXRTaXplSW50ZXJuYWxfKHRoaXMubWFwXy5zaXplKTtcbn07XG5nb29nLnN0cnVjdHMuU2V0LnByb3RvdHlwZS5kZWxldGUgPSBmdW5jdGlvbihlbGVtZW50KSB7XG4gIHZhciBydiA9IHRoaXMubWFwXy5yZW1vdmUoZ29vZy5zdHJ1Y3RzLlNldC5nZXRLZXlfKGVsZW1lbnQpKTtcbiAgdGhpcy5zZXRTaXplSW50ZXJuYWxfKHRoaXMubWFwXy5zaXplKTtcbiAgcmV0dXJuIHJ2O1xufTtcbmdvb2cuc3RydWN0cy5TZXQucHJvdG90eXBlLnJlbW92ZSA9IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgcmV0dXJuIHRoaXMuZGVsZXRlKGVsZW1lbnQpO1xufTtcbmdvb2cuc3RydWN0cy5TZXQucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMubWFwXy5jbGVhcigpO1xuICB0aGlzLnNldFNpemVJbnRlcm5hbF8oMCk7XG59O1xuZ29vZy5zdHJ1Y3RzLlNldC5wcm90b3R5cGUuaXNFbXB0eSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gMCA9PT0gdGhpcy5tYXBfLnNpemU7XG59O1xuZ29vZy5zdHJ1Y3RzLlNldC5wcm90b3R5cGUuaGFzID0gZnVuY3Rpb24oZWxlbWVudCkge1xuICByZXR1cm4gdGhpcy5tYXBfLmNvbnRhaW5zS2V5KGdvb2cuc3RydWN0cy5TZXQuZ2V0S2V5XyhlbGVtZW50KSk7XG59O1xuZ29vZy5zdHJ1Y3RzLlNldC5wcm90b3R5cGUuY29udGFpbnMgPSBmdW5jdGlvbihlbGVtZW50KSB7XG4gIHJldHVybiB0aGlzLm1hcF8uY29udGFpbnNLZXkoZ29vZy5zdHJ1Y3RzLlNldC5nZXRLZXlfKGVsZW1lbnQpKTtcbn07XG5nb29nLnN0cnVjdHMuU2V0LnByb3RvdHlwZS5jb250YWluc0FsbCA9IGZ1bmN0aW9uKGNvbCkge1xuICByZXR1cm4gZ29vZy5zdHJ1Y3RzLmV2ZXJ5KGNvbCwgdGhpcy5jb250YWlucywgdGhpcyk7XG59O1xuZ29vZy5zdHJ1Y3RzLlNldC5wcm90b3R5cGUuaW50ZXJzZWN0aW9uID0gZnVuY3Rpb24oY29sKSB7XG4gIGZvciAodmFyIHJlc3VsdCA9IG5ldyBnb29nLnN0cnVjdHMuU2V0KCksIHZhbHVlcyA9IGdvb2cuc3RydWN0cy5nZXRWYWx1ZXMoY29sKSwgaSA9IDA7IGkgPCB2YWx1ZXMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgdmFsdWUgPSB2YWx1ZXNbaV07XG4gICAgdGhpcy5jb250YWlucyh2YWx1ZSkgJiYgcmVzdWx0LmFkZCh2YWx1ZSk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5nb29nLnN0cnVjdHMuU2V0LnByb3RvdHlwZS5kaWZmZXJlbmNlID0gZnVuY3Rpb24oY29sKSB7XG4gIHZhciByZXN1bHQgPSB0aGlzLmNsb25lKCk7XG4gIHJlc3VsdC5yZW1vdmVBbGwoY29sKTtcbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5nb29nLnN0cnVjdHMuU2V0LnByb3RvdHlwZS5nZXRWYWx1ZXMgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMubWFwXy5nZXRWYWx1ZXMoKTtcbn07XG5nb29nLnN0cnVjdHMuU2V0LnByb3RvdHlwZS52YWx1ZXMgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMubWFwXy52YWx1ZXMoKTtcbn07XG5nb29nLnN0cnVjdHMuU2V0LnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbmV3IGdvb2cuc3RydWN0cy5TZXQodGhpcyk7XG59O1xuZ29vZy5zdHJ1Y3RzLlNldC5wcm90b3R5cGUuZXF1YWxzID0gZnVuY3Rpb24oY29sKSB7XG4gIHJldHVybiB0aGlzLmdldENvdW50KCkgPT0gZ29vZy5zdHJ1Y3RzLmdldENvdW50KGNvbCkgJiYgdGhpcy5pc1N1YnNldE9mKGNvbCk7XG59O1xuZ29vZy5zdHJ1Y3RzLlNldC5wcm90b3R5cGUuaXNTdWJzZXRPZiA9IGZ1bmN0aW9uKGNvbCkge1xuICB2YXIgY29sQ291bnQgPSBnb29nLnN0cnVjdHMuZ2V0Q291bnQoY29sKTtcbiAgaWYgKHRoaXMuZ2V0Q291bnQoKSA+IGNvbENvdW50KSB7XG4gICAgcmV0dXJuICExO1xuICB9XG4gICEoY29sIGluc3RhbmNlb2YgZ29vZy5zdHJ1Y3RzLlNldCkgJiYgNSA8IGNvbENvdW50ICYmIChjb2wgPSBuZXcgZ29vZy5zdHJ1Y3RzLlNldChjb2wpKTtcbiAgcmV0dXJuIGdvb2cuc3RydWN0cy5ldmVyeSh0aGlzLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgIHJldHVybiBnb29nLnN0cnVjdHMuY29udGFpbnMoY29sLCB2YWx1ZSk7XG4gIH0pO1xufTtcbmdvb2cuc3RydWN0cy5TZXQucHJvdG90eXBlLl9faXRlcmF0b3JfXyA9IGZ1bmN0aW9uKG9wdF9rZXlzKSB7XG4gIHJldHVybiB0aGlzLm1hcF8uX19pdGVyYXRvcl9fKCExKTtcbn07XG5nb29nLnN0cnVjdHMuU2V0LnByb3RvdHlwZVtTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLnZhbHVlcygpO1xufTtcbmdvb2cuc3RydWN0cy5TZXQucHJvdG90eXBlLnNldFNpemVJbnRlcm5hbF8gPSBmdW5jdGlvbihuZXdTaXplKSB7XG4gIHRoaXMuc2l6ZSA9IG5ld1NpemU7XG59O1xudmFyIGVlID0ge0Fic3RyYWN0T3ZlcmxheTpmdW5jdGlvbih1cmwsIG1hcElkLCB0b2tlbiwgb3B0X2luaXQsIG9wdF9wcm9maWxlcikge1xuICBnb29nLmV2ZW50cy5FdmVudFRhcmdldC5jYWxsKHRoaXMpO1xuICB0aGlzLm1hcElkID0gbWFwSWQ7XG4gIHRoaXMudG9rZW4gPSB0b2tlbjtcbiAgdGhpcy50aWxlc0xvYWRpbmcgPSBbXTtcbiAgdGhpcy50aWxlc0ZhaWxlZCA9IG5ldyBnb29nLnN0cnVjdHMuU2V0KCk7XG4gIHRoaXMudGlsZUNvdW50ZXIgPSAwO1xuICB0aGlzLnVybCA9IHVybDtcbn19O1xuZ29vZy5pbmhlcml0cyhlZS5BYnN0cmFjdE92ZXJsYXksIGdvb2cuZXZlbnRzLkV2ZW50VGFyZ2V0KTtcbmdvb2cuZXhwb3J0U3ltYm9sKFwiZWUuQWJzdHJhY3RPdmVybGF5XCIsIGVlLkFic3RyYWN0T3ZlcmxheSk7XG5lZS5BYnN0cmFjdE92ZXJsYXkuRXZlbnRUeXBlID0ge1RJTEVfTE9BREVEOlwidGlsZWV2ZW50XCJ9O1xuZWUuQWJzdHJhY3RPdmVybGF5LnByb3RvdHlwZS5nZXRUaWxlSWQgPSBmdW5jdGlvbihjb29yZCwgem9vbSkge1xuICB2YXIgbWF4Q29vcmQgPSAxIDw8IHpvb20sIHggPSBjb29yZC54ICUgbWF4Q29vcmQ7XG4gIDAgPiB4ICYmICh4ICs9IG1heENvb3JkKTtcbiAgcmV0dXJuIFt0aGlzLm1hcElkLCB6b29tLCB4LCBjb29yZC55XS5qb2luKFwiL1wiKTtcbn07XG5lZS5BYnN0cmFjdE92ZXJsYXkucHJvdG90eXBlLmdldExvYWRpbmdUaWxlc0NvdW50ID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLnRpbGVzTG9hZGluZy5sZW5ndGg7XG59O1xuZWUuQWJzdHJhY3RPdmVybGF5LnByb3RvdHlwZS5nZXRGYWlsZWRUaWxlc0NvdW50ID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLnRpbGVzRmFpbGVkLmdldENvdW50KCk7XG59O1xuZWUuVGlsZUV2ZW50ID0gZnVuY3Rpb24oY291bnQpIHtcbiAgZ29vZy5ldmVudHMuRXZlbnQuY2FsbCh0aGlzLCBlZS5BYnN0cmFjdE92ZXJsYXkuRXZlbnRUeXBlLlRJTEVfTE9BREVEKTtcbiAgdGhpcy5jb3VudCA9IGNvdW50O1xufTtcbmdvb2cuaW5oZXJpdHMoZWUuVGlsZUV2ZW50LCBnb29nLmV2ZW50cy5FdmVudCk7XG52YXIgbW9kdWxlJGV4cG9ydHMkdHNsaWIgPSB7fSwgbW9kdWxlJGNvbnRlbnRzJHRzbGliX2V4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwgZnVuY3Rpb24oZCwgYikge1xuICBmb3IgKHZhciBwIGluIGIpIHtcbiAgICBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkgJiYgKGRbcF0gPSBiW3BdKTtcbiAgfVxufTtcbm1vZHVsZSRleHBvcnRzJHRzbGliLl9fZXh0ZW5kcyA9IGZ1bmN0aW9uKGQsIGIpIHtcbiAgZnVuY3Rpb24gX18oKSB7XG4gICAgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7XG4gIH1cbiAgbW9kdWxlJGNvbnRlbnRzJHRzbGliX2V4dGVuZFN0YXRpY3MoZCwgYik7XG4gIGQucHJvdG90eXBlID0gbnVsbCA9PT0gYiA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbn07XG5tb2R1bGUkZXhwb3J0cyR0c2xpYi5fX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24odCkge1xuICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICBzID0gYXJndW1lbnRzW2ldO1xuICAgIGZvciAodmFyIHAgaW4gcykge1xuICAgICAgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApICYmICh0W3BdID0gc1twXSk7XG4gICAgfVxuICB9XG4gIHJldHVybiB0O1xufTtcbm1vZHVsZSRleHBvcnRzJHRzbGliLl9fcmVzdCA9IGZ1bmN0aW9uKHMsIGUpIHtcbiAgdmFyIHQgPSB7fSwgcDtcbiAgZm9yIChwIGluIHMpIHtcbiAgICBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkgJiYgMCA+IGUuaW5kZXhPZihwKSAmJiAodFtwXSA9IHNbcF0pO1xuICB9XG4gIGlmIChudWxsICE9IHMgJiYgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykge1xuICAgIHZhciBpID0gMDtcbiAgICBmb3IgKHAgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHMpOyBpIDwgcC5sZW5ndGg7IGkrKykge1xuICAgICAgMCA+IGUuaW5kZXhPZihwW2ldKSAmJiBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwocywgcFtpXSkgJiYgKHRbcFtpXV0gPSBzW3BbaV1dKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHQ7XG59O1xubW9kdWxlJGV4cG9ydHMkdHNsaWIuX19kZWNvcmF0ZSA9IGZ1bmN0aW9uKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XG4gIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCwgciA9IDMgPiBjID8gdGFyZ2V0IDogbnVsbCA9PT0gZGVzYyA/IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSA6IGRlc2MsIGQ7XG4gIGlmIChcIm9iamVjdFwiID09PSB0eXBlb2YgUmVmbGVjdCAmJiBSZWZsZWN0ICYmIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUpIHtcbiAgICByID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYyk7XG4gIH0gZWxzZSB7XG4gICAgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgMCA8PSBpOyBpLS0pIHtcbiAgICAgIGlmIChkID0gZGVjb3JhdG9yc1tpXSkge1xuICAgICAgICByID0gKDMgPiBjID8gZChyKSA6IDMgPCBjID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIDMgPCBjICYmIHIgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByKSwgcjtcbn07XG5tb2R1bGUkZXhwb3J0cyR0c2xpYi5fX3BhcmFtID0gZnVuY3Rpb24ocGFyYW1JbmRleCwgZGVjb3JhdG9yKSB7XG4gIHJldHVybiBmdW5jdGlvbih0YXJnZXQsIGtleSkge1xuICAgIGRlY29yYXRvcih0YXJnZXQsIGtleSwgcGFyYW1JbmRleCk7XG4gIH07XG59O1xubW9kdWxlJGV4cG9ydHMkdHNsaWIuX19tZXRhZGF0YSA9IGZ1bmN0aW9uKG1ldGFkYXRhS2V5LCBtZXRhZGF0YVZhbHVlKSB7XG4gIGlmIChcIm9iamVjdFwiID09PSB0eXBlb2YgUmVmbGVjdCAmJiBSZWZsZWN0ICYmIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIFJlZmxlY3QubWV0YWRhdGEpIHtcbiAgICByZXR1cm4gUmVmbGVjdC5tZXRhZGF0YShtZXRhZGF0YUtleSwgbWV0YWRhdGFWYWx1ZSk7XG4gIH1cbn07XG5tb2R1bGUkZXhwb3J0cyR0c2xpYi5fX2F3YWl0ZXIgPSBmdW5jdGlvbih0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcbiAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbihyZXNvbHZlKSB7XG4gICAgICByZXNvbHZlKHZhbHVlKTtcbiAgICB9KTtcbiAgfVxuICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICByZWplY3QoZSk7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7XG4gICAgICB0cnkge1xuICAgICAgICBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIHJlamVjdChlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHtcbiAgICAgIHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpO1xuICAgIH1cbiAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XG4gIH0pO1xufTtcbm1vZHVsZSRleHBvcnRzJHRzbGliLl9fZ2VuZXJhdG9yID0gZnVuY3Rpb24odGhpc0FyZywgYm9keSkge1xuICBmdW5jdGlvbiB2ZXJiKG4pIHtcbiAgICByZXR1cm4gZnVuY3Rpb24odikge1xuICAgICAgcmV0dXJuIHN0ZXAoW24sIHZdKTtcbiAgICB9O1xuICB9XG4gIGZ1bmN0aW9uIHN0ZXAob3ApIHtcbiAgICBpZiAoZikge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7XG4gICAgfVxuICAgIGZvciAoOyBfOykge1xuICAgICAgdHJ5IHtcbiAgICAgICAgaWYgKGYgPSAxLCB5ICYmICh0ID0gb3BbMF0gJiAyID8geVtcInJldHVyblwiXSA6IG9wWzBdID8geVtcInRocm93XCJdIHx8ICgodCA9IHlbXCJyZXR1cm5cIl0pICYmIHQuY2FsbCh5KSwgMCkgOiB5Lm5leHQpICYmICEodCA9IHQuY2FsbCh5LCBvcFsxXSkpLmRvbmUpIHtcbiAgICAgICAgICByZXR1cm4gdDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoeSA9IDAsIHQpIHtcbiAgICAgICAgICBvcCA9IFtvcFswXSAmIDIsIHQudmFsdWVdO1xuICAgICAgICB9XG4gICAgICAgIHN3aXRjaChvcFswXSkge1xuICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICB0ID0gb3A7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICByZXR1cm4gXy5sYWJlbCsrLCB7dmFsdWU6b3BbMV0sIGRvbmU6ITF9O1xuICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgIF8ubGFiZWwrKztcbiAgICAgICAgICAgIHkgPSBvcFsxXTtcbiAgICAgICAgICAgIG9wID0gWzBdO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgY2FzZSA3OlxuICAgICAgICAgICAgb3AgPSBfLm9wcy5wb3AoKTtcbiAgICAgICAgICAgIF8udHJ5cy5wb3AoKTtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBpZiAoISh0ID0gXy50cnlzLCB0ID0gMCA8IHQubGVuZ3RoICYmIHRbdC5sZW5ndGggLSAxXSkgJiYgKDYgPT09IG9wWzBdIHx8IDIgPT09IG9wWzBdKSkge1xuICAgICAgICAgICAgICBfID0gMDtcbiAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoMyA9PT0gb3BbMF0gJiYgKCF0IHx8IG9wWzFdID4gdFswXSAmJiBvcFsxXSA8IHRbM10pKSB7XG4gICAgICAgICAgICAgIF8ubGFiZWwgPSBvcFsxXTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGlmICg2ID09PSBvcFswXSAmJiBfLmxhYmVsIDwgdFsxXSkge1xuICAgICAgICAgICAgICAgIF8ubGFiZWwgPSB0WzFdLCB0ID0gb3A7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKHQgJiYgXy5sYWJlbCA8IHRbMl0pIHtcbiAgICAgICAgICAgICAgICAgIF8ubGFiZWwgPSB0WzJdLCBfLm9wcy5wdXNoKG9wKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgdFsyXSAmJiBfLm9wcy5wb3AoKTtcbiAgICAgICAgICAgICAgICAgIF8udHJ5cy5wb3AoKTtcbiAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIG9wID0gYm9keS5jYWxsKHRoaXNBcmcsIF8pO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBvcCA9IFs2LCBlXSwgeSA9IDA7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBmID0gdCA9IDA7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChvcFswXSAmIDUpIHtcbiAgICAgIHRocm93IG9wWzFdO1xuICAgIH1cbiAgICByZXR1cm4ge3ZhbHVlOm9wWzBdID8gb3BbMV0gOiB2b2lkIDAsIGRvbmU6ITB9O1xuICB9XG4gIHZhciBfID0ge2xhYmVsOjAsIHNlbnQ6ZnVuY3Rpb24oKSB7XG4gICAgaWYgKHRbMF0gJiAxKSB7XG4gICAgICB0aHJvdyB0WzFdO1xuICAgIH1cbiAgICByZXR1cm4gdFsxXTtcbiAgfSwgdHJ5czpbXSwgb3BzOltdfSwgZiwgeSwgdCwgZztcbiAgcmV0dXJuIGcgPSB7bmV4dDp2ZXJiKDApLCBcInRocm93XCI6dmVyYigxKSwgXCJyZXR1cm5cIjp2ZXJiKDIpfSwgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgU3ltYm9sICYmIChnW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gZztcbiAgfSksIGc7XG59O1xubW9kdWxlJGV4cG9ydHMkdHNsaWIuX19leHBvcnRTdGFyID0gZnVuY3Rpb24obSwgbykge1xuICBmb3IgKHZhciBwIGluIG0pIHtcbiAgICBvLmhhc093blByb3BlcnR5KHApIHx8IChvW3BdID0gbVtwXSk7XG4gIH1cbn07XG5tb2R1bGUkZXhwb3J0cyR0c2xpYi5fX3ZhbHVlcyA9IGZ1bmN0aW9uKG8pIHtcbiAgdmFyIG0gPSBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBTeW1ib2wgJiYgb1tTeW1ib2wuaXRlcmF0b3JdLCBpID0gMDtcbiAgcmV0dXJuIG0gPyBtLmNhbGwobykgOiB7bmV4dDpmdW5jdGlvbigpIHtcbiAgICBvICYmIGkgPj0gby5sZW5ndGggJiYgKG8gPSB2b2lkIDApO1xuICAgIHJldHVybiB7dmFsdWU6byAmJiBvW2krK10sIGRvbmU6IW99O1xuICB9fTtcbn07XG5tb2R1bGUkZXhwb3J0cyR0c2xpYi5fX3JlYWQgPSBmdW5jdGlvbihvLCBuKSB7XG4gIHZhciBtID0gXCJmdW5jdGlvblwiID09PSB0eXBlb2YgU3ltYm9sICYmIG9bU3ltYm9sLml0ZXJhdG9yXTtcbiAgaWYgKCFtKSB7XG4gICAgcmV0dXJuIG87XG4gIH1cbiAgdmFyIGkgPSBtLmNhbGwobyksIHIsIGFyID0gW107XG4gIHRyeSB7XG4gICAgZm9yICg7ICh2b2lkIDAgPT09IG4gfHwgMCA8IG4tLSkgJiYgIShyID0gaS5uZXh0KCkpLmRvbmU7KSB7XG4gICAgICBhci5wdXNoKHIudmFsdWUpO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICB2YXIgZSA9IHtlcnJvcjplcnJvcn07XG4gIH0gZmluYWxseSB7XG4gICAgdHJ5IHtcbiAgICAgIHIgJiYgIXIuZG9uZSAmJiAobSA9IGlbXCJyZXR1cm5cIl0pICYmIG0uY2FsbChpKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgaWYgKGUpIHtcbiAgICAgICAgdGhyb3cgZS5lcnJvcjtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIGFyO1xufTtcbm1vZHVsZSRleHBvcnRzJHRzbGliLl9fc3ByZWFkID0gZnVuY3Rpb24oKSB7XG4gIGZvciAodmFyIGFyID0gW10sIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgYXIgPSBhci5jb25jYXQobW9kdWxlJGV4cG9ydHMkdHNsaWIuX19yZWFkKGFyZ3VtZW50c1tpXSkpO1xuICB9XG4gIHJldHVybiBhcjtcbn07XG5tb2R1bGUkZXhwb3J0cyR0c2xpYi5fX3NwcmVhZEFycmF5cyA9IGZ1bmN0aW9uKCkge1xuICBmb3IgKHZhciBzID0gMCwgaSA9IDAsIGlsID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IGlsOyBpKyspIHtcbiAgICBzICs9IGFyZ3VtZW50c1tpXS5sZW5ndGg7XG4gIH1cbiAgdmFyIHIgPSBBcnJheShzKSwgayA9IDA7XG4gIGZvciAoaSA9IDA7IGkgPCBpbDsgaSsrKSB7XG4gICAgZm9yICh2YXIgYSA9IGFyZ3VtZW50c1tpXSwgaiA9IDAsIGpsID0gYS5sZW5ndGg7IGogPCBqbDsgaisrLCBrKyspIHtcbiAgICAgIHJba10gPSBhW2pdO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcjtcbn07XG5tb2R1bGUkZXhwb3J0cyR0c2xpYi5fX3NwcmVhZEFycmF5ID0gZnVuY3Rpb24odG8sIGZyb20sIHBhY2spIHtcbiAgaWYgKCEoQXJyYXkuaXNBcnJheShmcm9tKSB8fCBmcm9tIGluc3RhbmNlb2YgTm9kZUxpc3QpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkV4cGVjdGVkIGFuIEFycmF5IG9yIE5vZGVMaXN0OiBcIiArIFN0cmluZyhmcm9tKSk7XG4gIH1cbiAgaWYgKHBhY2sgfHwgMiA9PT0gYXJndW1lbnRzLmxlbmd0aCkge1xuICAgIGZvciAodmFyIGkgPSAwLCBsID0gZnJvbS5sZW5ndGgsIGFyOyBpIDwgbDsgaSsrKSB7XG4gICAgICAhYXIgJiYgaSBpbiBmcm9tIHx8IChhciB8fCAoYXIgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChmcm9tLCAwLCBpKSksIGFyW2ldID0gZnJvbVtpXSk7XG4gICAgfVxuICB9XG4gIHJldHVybiB0by5jb25jYXQoYXIgfHwgQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZnJvbSkpO1xufTtcbm1vZHVsZSRleHBvcnRzJHRzbGliLl9fYXdhaXQgPSBmdW5jdGlvbih2KSB7XG4gIHJldHVybiB0aGlzIGluc3RhbmNlb2YgbW9kdWxlJGV4cG9ydHMkdHNsaWIuX19hd2FpdCA/ICh0aGlzLnYgPSB2LCB0aGlzKSA6IG5ldyBtb2R1bGUkZXhwb3J0cyR0c2xpYi5fX2F3YWl0KHYpO1xufTtcbm1vZHVsZSRleHBvcnRzJHRzbGliLl9fYXN5bmNHZW5lcmF0b3IgPSBmdW5jdGlvbih0aGlzQXJnLCBfYXJndW1lbnRzLCBnZW5lcmF0b3IpIHtcbiAgZnVuY3Rpb24gdmVyYihuKSB7XG4gICAgZ1tuXSAmJiAoaVtuXSA9IGZ1bmN0aW9uKHYpIHtcbiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihhLCBiKSB7XG4gICAgICAgIDEgPCBxLnB1c2goW24sIHYsIGEsIGJdKSB8fCByZXN1bWUobiwgdik7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuICBmdW5jdGlvbiByZXN1bWUobiwgdikge1xuICAgIHRyeSB7XG4gICAgICBzdGVwKGdbbl0odikpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHNldHRsZShxWzBdWzNdLCBlKTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gc3RlcChyKSB7XG4gICAgci52YWx1ZSBpbnN0YW5jZW9mIG1vZHVsZSRleHBvcnRzJHRzbGliLl9fYXdhaXQgPyBQcm9taXNlLnJlc29sdmUoci52YWx1ZS52KS50aGVuKGZ1bGZpbGwsIHJlamVjdCkgOiBzZXR0bGUocVswXVsyXSwgcik7XG4gIH1cbiAgZnVuY3Rpb24gZnVsZmlsbCh2YWx1ZSkge1xuICAgIHJlc3VtZShcIm5leHRcIiwgdmFsdWUpO1xuICB9XG4gIGZ1bmN0aW9uIHJlamVjdCh2YWx1ZSkge1xuICAgIHJlc3VtZShcInRocm93XCIsIHZhbHVlKTtcbiAgfVxuICBmdW5jdGlvbiBzZXR0bGUoZiwgdikge1xuICAgIChmKHYpLCBxLnNoaWZ0KCksIHEubGVuZ3RoKSAmJiByZXN1bWUocVswXVswXSwgcVswXVsxXSk7XG4gIH1cbiAgaWYgKCFTeW1ib2wuYXN5bmNJdGVyYXRvcikge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuYXN5bmNJdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XG4gIH1cbiAgdmFyIGcgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSksIGksIHEgPSBbXTtcbiAgcmV0dXJuIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiKSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0gPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfSwgaTtcbn07XG5tb2R1bGUkZXhwb3J0cyR0c2xpYi5fX2FzeW5jRGVsZWdhdG9yID0gZnVuY3Rpb24obykge1xuICBmdW5jdGlvbiB2ZXJiKG4sIGYpIHtcbiAgICBpW25dID0gb1tuXSA/IGZ1bmN0aW9uKHYpIHtcbiAgICAgIHJldHVybiAocCA9ICFwKSA/IHt2YWx1ZTpuZXcgbW9kdWxlJGV4cG9ydHMkdHNsaWIuX19hd2FpdChvW25dKHYpKSwgZG9uZTpcInJldHVyblwiID09PSBufSA6IGYgPyBmKHYpIDogdjtcbiAgICB9IDogZjtcbiAgfVxuICB2YXIgaSwgcDtcbiAgcmV0dXJuIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiLCBmdW5jdGlvbihlKSB7XG4gICAgdGhyb3cgZTtcbiAgfSksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBpO1xuICB9LCBpO1xufTtcbm1vZHVsZSRleHBvcnRzJHRzbGliLl9fYXN5bmNWYWx1ZXMgPSBmdW5jdGlvbihvKSB7XG4gIGZ1bmN0aW9uIHZlcmIobikge1xuICAgIGlbbl0gPSBvW25dICYmIGZ1bmN0aW9uKHYpIHtcbiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgdiA9IG9bbl0odik7XG4gICAgICAgIHNldHRsZShyZXNvbHZlLCByZWplY3QsIHYuZG9uZSwgdi52YWx1ZSk7XG4gICAgICB9KTtcbiAgICB9O1xuICB9XG4gIGZ1bmN0aW9uIHNldHRsZShyZXNvbHZlLCByZWplY3QsIGQsIHYkanNjb21wJDApIHtcbiAgICBQcm9taXNlLnJlc29sdmUodiRqc2NvbXAkMCkudGhlbihmdW5jdGlvbih2KSB7XG4gICAgICByZXNvbHZlKHt2YWx1ZTp2LCBkb25lOmR9KTtcbiAgICB9LCByZWplY3QpO1xuICB9XG4gIGlmICghU3ltYm9sLmFzeW5jSXRlcmF0b3IpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3ltYm9sLmFzeW5jSXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xuICB9XG4gIHZhciBtID0gb1tTeW1ib2wuYXN5bmNJdGVyYXRvcl0sIGk7XG4gIHJldHVybiBtID8gbS5jYWxsKG8pIDogKG8gPSBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBfX3ZhbHVlcyA/IF9fdmFsdWVzKG8pIDogb1tTeW1ib2wuaXRlcmF0b3JdKCksIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiKSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0gPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfSwgaSk7XG59O1xubW9kdWxlJGV4cG9ydHMkdHNsaWIuX19tYWtlVGVtcGxhdGVPYmplY3QgPSBmdW5jdGlvbihjb29rZWQsIHJhdykge1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkgPyBPYmplY3QuZGVmaW5lUHJvcGVydHkoY29va2VkLCBcInJhd1wiLCB7dmFsdWU6cmF3fSkgOiBjb29rZWQucmF3ID0gcmF3O1xuICByZXR1cm4gY29va2VkO1xufTtcbm1vZHVsZSRleHBvcnRzJHRzbGliLl9fY2xhc3NQcml2YXRlRmllbGRHZXQgPSBmdW5jdGlvbihyZWNlaXZlciwgc3RhdGUsIGtpbmQsIGYpIHtcbiAgaWYgKFwiYVwiID09PSBraW5kICYmICFmKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlByaXZhdGUgYWNjZXNzb3Igd2FzIGRlZmluZWQgd2l0aG91dCBhIGdldHRlclwiKTtcbiAgfVxuICBpZiAoXCJmdW5jdGlvblwiID09PSB0eXBlb2Ygc3RhdGUgPyByZWNlaXZlciAhPT0gc3RhdGUgfHwgIWYgOiAhc3RhdGUuaGFzKHJlY2VpdmVyKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgcmVhZCBwcml2YXRlIG1lbWJlciBmcm9tIGFuIG9iamVjdCB3aG9zZSBjbGFzcyBkaWQgbm90IGRlY2xhcmUgaXRcIik7XG4gIH1cbiAgcmV0dXJuIFwibVwiID09PSBraW5kID8gZiA6IFwiYVwiID09PSBraW5kID8gZi5jYWxsKHJlY2VpdmVyKSA6IGYgPyBmLnZhbHVlIDogc3RhdGUuZ2V0KHJlY2VpdmVyKTtcbn07XG5tb2R1bGUkZXhwb3J0cyR0c2xpYi5fX2NsYXNzUHJpdmF0ZUZpZWxkU2V0ID0gZnVuY3Rpb24ocmVjZWl2ZXIsIHN0YXRlLCB2YWx1ZSwga2luZCwgZikge1xuICBpZiAoXCJtXCIgPT09IGtpbmQpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiUHJpdmF0ZSBtZXRob2QgaXMgbm90IHdyaXRhYmxlXCIpO1xuICB9XG4gIGlmIChcImFcIiA9PT0ga2luZCAmJiAhZikge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJQcml2YXRlIGFjY2Vzc29yIHdhcyBkZWZpbmVkIHdpdGhvdXQgYSBzZXR0ZXJcIik7XG4gIH1cbiAgaWYgKFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIHN0YXRlID8gcmVjZWl2ZXIgIT09IHN0YXRlIHx8ICFmIDogIXN0YXRlLmhhcyhyZWNlaXZlcikpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IHdyaXRlIHByaXZhdGUgbWVtYmVyIHRvIGFuIG9iamVjdCB3aG9zZSBjbGFzcyBkaWQgbm90IGRlY2xhcmUgaXRcIik7XG4gIH1cbiAgcmV0dXJuIFwiYVwiID09PSBraW5kID8gZi5jYWxsKHJlY2VpdmVyLCB2YWx1ZSkgOiBmID8gZi52YWx1ZSA9IHZhbHVlIDogc3RhdGUuc2V0KHJlY2VpdmVyLCB2YWx1ZSksIHZhbHVlO1xufTtcbm1vZHVsZSRleHBvcnRzJHRzbGliLl9fY2xhc3NQcml2YXRlRmllbGRJbiA9IGZ1bmN0aW9uKHN0YXRlLCByZWNlaXZlcikge1xuICBpZiAobnVsbCA9PT0gcmVjZWl2ZXIgfHwgXCJvYmplY3RcIiAhPT0gdHlwZW9mIHJlY2VpdmVyICYmIFwiZnVuY3Rpb25cIiAhPT0gdHlwZW9mIHJlY2VpdmVyKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCB1c2UgJ2luJyBvcGVyYXRvciBvbiBub24tb2JqZWN0XCIpO1xuICB9XG4gIHJldHVybiBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBzdGF0ZSA/IHJlY2VpdmVyID09PSBzdGF0ZSA6IHN0YXRlLmhhcyhyZWNlaXZlcik7XG59O1xudmFyIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QgPSB7fSwgbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3RfbW9kdWxlID0gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3RfbW9kdWxlIHx8IHtpZDpcImphdmFzY3JpcHQvdHlwZXNjcmlwdC9jb250cmliL2FwaWNsaWVudC9jb3JlL2RvbWFpbl9vYmplY3QuY2xvc3VyZS5qc1wifTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuT2JqZWN0TWFwTWV0YWRhdGEgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdF9PYmplY3RNYXBNZXRhZGF0YSgpIHtcbn07XG52YXIgbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3RfUHJpbWl0aXZlO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5DbGFzc01ldGFkYXRhID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3RfQ2xhc3NNZXRhZGF0YSgpIHtcbn07XG52YXIgbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3RfTnVsbENsYXNzID0gZnVuY3Rpb24oKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5OVUxMX1ZBTFVFID0gbmV3IG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0X051bGxDbGFzcygpO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5JU2VyaWFsaXphYmxlID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3RfSVNlcmlhbGl6YWJsZSgpIHtcbn07XG5mdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdF9idWlsZENsYXNzTWV0YWRhdGFGcm9tUGFydGlhbChwYXJ0aWFsQ2xhc3NNZXRhZGF0YSkge1xuICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwge2FycmF5czp7fSwgZGVzY3JpcHRpb25zOnt9LCBrZXlzOltdLCBvYmplY3RNYXBzOnt9LCBvYmplY3RzOnt9LCBlbnVtczp7fSwgZW1wdHlBcnJheUlzVW5zZXQ6ITF9LCBwYXJ0aWFsQ2xhc3NNZXRhZGF0YSk7XG59XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LmJ1aWxkQ2xhc3NNZXRhZGF0YUZyb21QYXJ0aWFsID0gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3RfYnVpbGRDbGFzc01ldGFkYXRhRnJvbVBhcnRpYWw7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZSA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSR2YWx1ZXMgPSB7fTtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZS5wcm90b3R5cGUuZ2V0Q2xhc3NNZXRhZGF0YSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3RfYnVpbGRDbGFzc01ldGFkYXRhRnJvbVBhcnRpYWwodGhpcy5nZXRQYXJ0aWFsQ2xhc3NNZXRhZGF0YSgpKTtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZS5wcm90b3R5cGUuU2VyaWFsaXphYmxlJGdldCA9IGZ1bmN0aW9uKGtleSkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkdmFsdWVzLmhhc093blByb3BlcnR5KGtleSkgPyB0aGlzLlNlcmlhbGl6YWJsZSR2YWx1ZXNba2V5XSA6IG51bGw7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUucHJvdG90eXBlLlNlcmlhbGl6YWJsZSRzZXQgPSBmdW5jdGlvbihrZXksIHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHZhbHVlc1trZXldID0gdmFsdWU7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUucHJvdG90eXBlLlNlcmlhbGl6YWJsZSRoYXMgPSBmdW5jdGlvbihrZXkpIHtcbiAgcmV0dXJuIG51bGwgIT0gdGhpcy5TZXJpYWxpemFibGUkdmFsdWVzW2tleV07XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGVDdG9yID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3RfU2VyaWFsaXphYmxlQ3RvcigpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LmNsb25lID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3RfY2xvbmUoc2VyaWFsaXphYmxlKSB7XG4gIHJldHVybiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdF9kZXNlcmlhbGl6ZShzZXJpYWxpemFibGUuZ2V0Q29uc3RydWN0b3IoKSwgbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3Rfc2VyaWFsaXplKHNlcmlhbGl6YWJsZSkpO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuaXNFbXB0eSA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0X2lzRW1wdHkoc2VyaWFsaXphYmxlKSB7XG4gIHJldHVybiAhT2JqZWN0LmtleXMobW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3Rfc2VyaWFsaXplKHNlcmlhbGl6YWJsZSkpLmxlbmd0aDtcbn07XG5mdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdF9zZXJpYWxpemUoc2VyaWFsaXphYmxlKSB7XG4gIHJldHVybiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdF9kZWVwQ29weShzZXJpYWxpemFibGUsIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0X3NlcmlhbGl6ZUdldHRlciwgbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3Rfc2VyaWFsaXplU2V0dGVyLCBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdF9zZXJpYWxpemVJbnN0YW5jaWF0b3IpO1xufVxubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5zZXJpYWxpemUgPSBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdF9zZXJpYWxpemU7XG5mdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdF9zZXJpYWxpemVHZXR0ZXIoa2V5LCBvYmopIHtcbiAgcmV0dXJuIG9iai5TZXJpYWxpemFibGUkZ2V0KGtleSk7XG59XG5mdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdF9zZXJpYWxpemVTZXR0ZXIoa2V5LCBvYmosIHZhbHVlKSB7XG4gIG9ialtrZXldID0gdmFsdWU7XG59XG5mdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdF9zZXJpYWxpemVJbnN0YW5jaWF0b3IoY3Rvcikge1xuICByZXR1cm4ge307XG59XG5mdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdF9kZXNlcmlhbGl6ZSh0eXBlLCByYXcpIHtcbiAgdmFyIHJlc3VsdCA9IG5ldyB0eXBlKCk7XG4gIHJldHVybiBudWxsID09IHJhdyA/IHJlc3VsdCA6IG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0X2RlZXBDb3B5KHJhdywgbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3RfZGVzZXJpYWxpemVHZXR0ZXIsIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0X2Rlc2VyaWFsaXplU2V0dGVyLCBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdF9kZXNlcmlhbGl6ZUluc3RhbmNpYXRvciwgdHlwZSk7XG59XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LmRlc2VyaWFsaXplID0gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3RfZGVzZXJpYWxpemU7XG5mdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdF9kZXNlcmlhbGl6ZUdldHRlcihrZXksIG9iaikge1xuICByZXR1cm4gb2JqW2tleV07XG59XG5mdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdF9kZXNlcmlhbGl6ZVNldHRlcihrZXksIG9iaiwgdmFsdWUpIHtcbiAgb2JqLlNlcmlhbGl6YWJsZSRzZXQoa2V5LCB2YWx1ZSk7XG59XG5mdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdF9kZXNlcmlhbGl6ZUluc3RhbmNpYXRvcihjdG9yKSB7XG4gIGlmIChudWxsID09IGN0b3IpIHtcbiAgICB0aHJvdyBFcnJvcihcIkNhbm5vdCBkZXNlcmlhbGl6ZSwgdGFyZ2V0IGNvbnN0cnVjdG9yIHdhcyBudWxsLlwiKTtcbiAgfVxuICByZXR1cm4gbmV3IGN0b3IoKTtcbn1cbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3Quc3RyaWN0RGVzZXJpYWxpemUgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdF9zdHJpY3REZXNlcmlhbGl6ZSh0eXBlLCByYXcpIHtcbiAgcmV0dXJuIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0X2Rlc2VyaWFsaXplKHR5cGUsIHJhdyk7XG59O1xudmFyIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0X0NvcHlWYWx1ZUdldHRlciwgbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3RfQ29weVZhbHVlU2V0dGVyLCBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdF9Db3B5Q29uc3RydWN0b3IsIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0X0NvcHlJbnN0YW5jaWF0b3I7XG5mdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdF9kZWVwQ29weShzb3VyY2UsIHZhbHVlR2V0dGVyLCB2YWx1ZVNldHRlciwgY29weUluc3RhbmNpYXRvciwgdGFyZ2V0Q29uc3RydWN0b3IpIHtcbiAgZm9yICh2YXIgdGFyZ2V0ID0gY29weUluc3RhbmNpYXRvcih0YXJnZXRDb25zdHJ1Y3RvciksIG1ldGFkYXRhID0gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3RfZGVlcENvcHlNZXRhZGF0YShzb3VyY2UsIHRhcmdldCksIGFycmF5cyA9IG1ldGFkYXRhLmFycmF5cyB8fCB7fSwgb2JqZWN0cyA9IG1ldGFkYXRhLm9iamVjdHMgfHwge30sIG9iamVjdE1hcHMgPSBtZXRhZGF0YS5vYmplY3RNYXBzIHx8IHt9LCAkanNjb21wJGxvb3AkNzIgPSB7fSwgJGpzY29tcCRpdGVyJDEyID0gJGpzY29tcC5tYWtlSXRlcmF0b3IobWV0YWRhdGEua2V5cyB8fCBbXSksICRqc2NvbXAka2V5JGtleSA9ICRqc2NvbXAkaXRlciQxMi5uZXh0KCk7ICEkanNjb21wJGtleSRrZXkuZG9uZTsgJGpzY29tcCRsb29wJDcyID0geyRqc2NvbXAkbG9vcCRwcm9wJG1hcE1ldGFkYXRhJDczOiRqc2NvbXAkbG9vcCQ3Mi4kanNjb21wJGxvb3AkcHJvcCRtYXBNZXRhZGF0YSQ3M30sIFxuICAkanNjb21wJGtleSRrZXkgPSAkanNjb21wJGl0ZXIkMTIubmV4dCgpKSB7XG4gICAgdmFyIGtleSA9ICRqc2NvbXAka2V5JGtleS52YWx1ZSwgdmFsdWUgPSB2YWx1ZUdldHRlcihrZXksIHNvdXJjZSk7XG4gICAgaWYgKG51bGwgIT0gdmFsdWUpIHtcbiAgICAgIHZhciBjb3B5ID0gdm9pZCAwO1xuICAgICAgaWYgKGFycmF5cy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgIGlmIChtZXRhZGF0YS5lbXB0eUFycmF5SXNVbnNldCAmJiAwID09PSB2YWx1ZS5sZW5ndGgpIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBjb3B5ID0gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3RfZGVlcENvcHlWYWx1ZSh2YWx1ZSwgdmFsdWVHZXR0ZXIsIHZhbHVlU2V0dGVyLCBjb3B5SW5zdGFuY2lhdG9yLCAhMCwgITAsIGFycmF5c1trZXldKTtcbiAgICAgIH0gZWxzZSBpZiAob2JqZWN0cy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgIGNvcHkgPSBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdF9kZWVwQ29weVZhbHVlKHZhbHVlLCB2YWx1ZUdldHRlciwgdmFsdWVTZXR0ZXIsIGNvcHlJbnN0YW5jaWF0b3IsICExLCAhMCwgb2JqZWN0c1trZXldKTtcbiAgICAgIH0gZWxzZSBpZiAob2JqZWN0TWFwcy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgICRqc2NvbXAkbG9vcCQ3Mi4kanNjb21wJGxvb3AkcHJvcCRtYXBNZXRhZGF0YSQ3MyA9IG9iamVjdE1hcHNba2V5XSwgY29weSA9ICRqc2NvbXAkbG9vcCQ3Mi4kanNjb21wJGxvb3AkcHJvcCRtYXBNZXRhZGF0YSQ3My5pc1Byb3BlcnR5QXJyYXkgPyB2YWx1ZS5tYXAoZnVuY3Rpb24oJGpzY29tcCRsb29wJDcyKSB7XG4gICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKHYpIHtcbiAgICAgICAgICAgIHJldHVybiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdF9kZWVwQ29weU9iamVjdE1hcCh2LCAkanNjb21wJGxvb3AkNzIuJGpzY29tcCRsb29wJHByb3AkbWFwTWV0YWRhdGEkNzMsIHZhbHVlR2V0dGVyLCB2YWx1ZVNldHRlciwgY29weUluc3RhbmNpYXRvcik7XG4gICAgICAgICAgfTtcbiAgICAgICAgfSgkanNjb21wJGxvb3AkNzIpKSA6IG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0X2RlZXBDb3B5T2JqZWN0TWFwKHZhbHVlLCAkanNjb21wJGxvb3AkNzIuJGpzY29tcCRsb29wJHByb3AkbWFwTWV0YWRhdGEkNzMsIHZhbHVlR2V0dGVyLCB2YWx1ZVNldHRlciwgY29weUluc3RhbmNpYXRvcik7XG4gICAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgIGlmIChtZXRhZGF0YS5lbXB0eUFycmF5SXNVbnNldCAmJiAwID09PSB2YWx1ZS5sZW5ndGgpIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBjb3B5ID0gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3RfZGVlcENvcHlWYWx1ZSh2YWx1ZSwgdmFsdWVHZXR0ZXIsIHZhbHVlU2V0dGVyLCBjb3B5SW5zdGFuY2lhdG9yLCAhMCwgITEpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29weSA9IHZhbHVlIGluc3RhbmNlb2YgbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3RfTnVsbENsYXNzID8gbnVsbCA6IHZhbHVlO1xuICAgICAgfVxuICAgICAgdmFsdWVTZXR0ZXIoa2V5LCB0YXJnZXQsIGNvcHkpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdGFyZ2V0O1xufVxuZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3RfZGVlcENvcHlPYmplY3RNYXAodmFsdWUsIG1hcE1ldGFkYXRhLCB2YWx1ZUdldHRlciwgdmFsdWVTZXR0ZXIsIGNvcHlJbnN0YW5jaWF0b3IpIHtcbiAgZm9yICh2YXIgb2JqTWFwID0ge30sICRqc2NvbXAkaXRlciQxMyA9ICRqc2NvbXAubWFrZUl0ZXJhdG9yKE9iamVjdC5rZXlzKHZhbHVlKSksICRqc2NvbXAka2V5JG1hcEtleSA9ICRqc2NvbXAkaXRlciQxMy5uZXh0KCk7ICEkanNjb21wJGtleSRtYXBLZXkuZG9uZTsgJGpzY29tcCRrZXkkbWFwS2V5ID0gJGpzY29tcCRpdGVyJDEzLm5leHQoKSkge1xuICAgIHZhciBtYXBLZXkgPSAkanNjb21wJGtleSRtYXBLZXkudmFsdWUsIG1hcFZhbHVlID0gdmFsdWVbbWFwS2V5XTtcbiAgICBudWxsICE9IG1hcFZhbHVlICYmIChvYmpNYXBbbWFwS2V5XSA9IG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0X2RlZXBDb3B5VmFsdWUobWFwVmFsdWUsIHZhbHVlR2V0dGVyLCB2YWx1ZVNldHRlciwgY29weUluc3RhbmNpYXRvciwgbWFwTWV0YWRhdGEuaXNWYWx1ZUFycmF5LCBtYXBNZXRhZGF0YS5pc1NlcmlhbGl6YWJsZSwgbWFwTWV0YWRhdGEuY3RvcikpO1xuICB9XG4gIHJldHVybiBvYmpNYXA7XG59XG5mdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdF9kZWVwQ29weVZhbHVlKHZhbHVlLCB2YWx1ZUdldHRlciwgdmFsdWVTZXR0ZXIsIGNvcHlJbnN0YW5jaWF0b3IsIGlzQXJyYXksIGlzUmVmLCBjdG9yKSB7XG4gIGlmIChpc1JlZiAmJiBudWxsID09IGN0b3IpIHtcbiAgICB0aHJvdyBFcnJvcihcIkNhbm5vdCBkZXNlcmlhbGl6ZSBhIHJlZmVyZW5jZSBvYmplY3Qgd2l0aG91dCBhIGNvbnN0cnVjdG9yLlwiKTtcbiAgfVxuICByZXR1cm4gbnVsbCA9PSB2YWx1ZSA/IHZhbHVlIDogaXNBcnJheSAmJiBpc1JlZiA/IHZhbHVlLm1hcChmdW5jdGlvbih2KSB7XG4gICAgcmV0dXJuIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0X2RlZXBDb3B5KHYsIHZhbHVlR2V0dGVyLCB2YWx1ZVNldHRlciwgY29weUluc3RhbmNpYXRvciwgY3Rvcik7XG4gIH0pIDogaXNBcnJheSAmJiAhaXNSZWYgPyB2YWx1ZS5tYXAoZnVuY3Rpb24odikge1xuICAgIHJldHVybiB2O1xuICB9KSA6ICFpc0FycmF5ICYmIGlzUmVmID8gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3RfZGVlcENvcHkodmFsdWUsIHZhbHVlR2V0dGVyLCB2YWx1ZVNldHRlciwgY29weUluc3RhbmNpYXRvciwgY3RvcikgOiB2YWx1ZSBpbnN0YW5jZW9mIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0X051bGxDbGFzcyA/IG51bGwgOiBcIm9iamVjdFwiID09PSB0eXBlb2YgdmFsdWUgPyBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHZhbHVlKSkgOiB2YWx1ZTtcbn1cbmZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0X2RlZXBDb3B5TWV0YWRhdGEoc291cmNlLCB0YXJnZXQpIHtcbiAgaWYgKHRhcmdldCBpbnN0YW5jZW9mIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlKSB7XG4gICAgdmFyIG1ldGFkYXRhID0gdGFyZ2V0LmdldENsYXNzTWV0YWRhdGEoKTtcbiAgfSBlbHNlIGlmIChzb3VyY2UgaW5zdGFuY2VvZiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZSkge1xuICAgIG1ldGFkYXRhID0gc291cmNlLmdldENsYXNzTWV0YWRhdGEoKTtcbiAgfSBlbHNlIHtcbiAgICB0aHJvdyBFcnJvcihcIkNhbm5vdCBmaW5kIENsYXNzTWV0YWRhdGEuXCIpO1xuICB9XG4gIHJldHVybiBtZXRhZGF0YTtcbn1cbmZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0X2RlZXBFcXVhbHMoc2VyaWFsaXphYmxlMSwgc2VyaWFsaXphYmxlMikge1xuICB2YXIgbWV0YWRhdGExID0gc2VyaWFsaXphYmxlMS5nZXRDbGFzc01ldGFkYXRhKCksIGtleXMxID0gbWV0YWRhdGExLmtleXMgfHwgW10sIGFycmF5czEgPSBtZXRhZGF0YTEuYXJyYXlzIHx8IHt9LCBvYmplY3RzMSA9IG1ldGFkYXRhMS5vYmplY3RzIHx8IHt9LCBvYmplY3RNYXBzMSA9IG1ldGFkYXRhMS5vYmplY3RNYXBzIHx8IHt9LCBtZXRhZGF0YTIgPSBzZXJpYWxpemFibGUyLmdldENsYXNzTWV0YWRhdGEoKSwgYXJyYXlzMiA9IG1ldGFkYXRhMi5hcnJheXMgfHwge30sIG9iamVjdHMyID0gbWV0YWRhdGEyLm9iamVjdHMgfHwge30sIG9iamVjdE1hcHMyID0gbWV0YWRhdGEyLm9iamVjdE1hcHMgfHwge307XG4gIGlmICghKG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0X3NhbWVLZXlzKGtleXMxLCBtZXRhZGF0YTIua2V5cyB8fCBbXSkgJiYgbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3Rfc2FtZUtleXMoYXJyYXlzMSwgYXJyYXlzMikgJiYgbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3Rfc2FtZUtleXMob2JqZWN0czEsIG9iamVjdHMyKSAmJiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdF9zYW1lS2V5cyhvYmplY3RNYXBzMSwgb2JqZWN0TWFwczIpKSkge1xuICAgIHJldHVybiAhMTtcbiAgfVxuICBmb3IgKHZhciAkanNjb21wJGxvb3AkNzQgPSB7fSwgJGpzY29tcCRpdGVyJDE0ID0gJGpzY29tcC5tYWtlSXRlcmF0b3Ioa2V5czEpLCAkanNjb21wJGtleSRrZXkgPSAkanNjb21wJGl0ZXIkMTQubmV4dCgpOyAhJGpzY29tcCRrZXkka2V5LmRvbmU7ICRqc2NvbXAkbG9vcCQ3NCA9IHskanNjb21wJGxvb3AkcHJvcCR2YWx1ZTIkNzU6JGpzY29tcCRsb29wJDc0LiRqc2NvbXAkbG9vcCRwcm9wJHZhbHVlMiQ3NSwgJGpzY29tcCRsb29wJHByb3AkbWFwTWV0YWRhdGEkNzY6JGpzY29tcCRsb29wJDc0LiRqc2NvbXAkbG9vcCRwcm9wJG1hcE1ldGFkYXRhJDc2fSwgJGpzY29tcCRrZXkka2V5ID0gJGpzY29tcCRpdGVyJDE0Lm5leHQoKSkge1xuICAgIHZhciBrZXkgPSAkanNjb21wJGtleSRrZXkudmFsdWUsIGhhczEgPSBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdF9oYXNBbmRJc05vdEVtcHR5QXJyYXkoc2VyaWFsaXphYmxlMSwga2V5LCBtZXRhZGF0YTEpLCBoYXMyID0gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3RfaGFzQW5kSXNOb3RFbXB0eUFycmF5KHNlcmlhbGl6YWJsZTIsIGtleSwgbWV0YWRhdGEyKTtcbiAgICBpZiAoaGFzMSAhPT0gaGFzMikge1xuICAgICAgcmV0dXJuICExO1xuICAgIH1cbiAgICBpZiAoaGFzMSkge1xuICAgICAgdmFyIHZhbHVlMSA9IHNlcmlhbGl6YWJsZTEuU2VyaWFsaXphYmxlJGdldChrZXkpO1xuICAgICAgJGpzY29tcCRsb29wJDc0LiRqc2NvbXAkbG9vcCRwcm9wJHZhbHVlMiQ3NSA9IHNlcmlhbGl6YWJsZTIuU2VyaWFsaXphYmxlJGdldChrZXkpO1xuICAgICAgaWYgKGFycmF5czEuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICBpZiAoIW1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0X2RlZXBFcXVhbHNWYWx1ZSh2YWx1ZTEsICRqc2NvbXAkbG9vcCQ3NC4kanNjb21wJGxvb3AkcHJvcCR2YWx1ZTIkNzUsICEwLCAhMCkpIHtcbiAgICAgICAgICByZXR1cm4gITE7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAob2JqZWN0czEuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICBpZiAoIW1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0X2RlZXBFcXVhbHNWYWx1ZSh2YWx1ZTEsICRqc2NvbXAkbG9vcCQ3NC4kanNjb21wJGxvb3AkcHJvcCR2YWx1ZTIkNzUsICExLCAhMCkpIHtcbiAgICAgICAgICByZXR1cm4gITE7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAob2JqZWN0TWFwczEuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICBpZiAoJGpzY29tcCRsb29wJDc0LiRqc2NvbXAkbG9vcCRwcm9wJG1hcE1ldGFkYXRhJDc2ID0gb2JqZWN0TWFwczFba2V5XSwgJGpzY29tcCRsb29wJDc0LiRqc2NvbXAkbG9vcCRwcm9wJG1hcE1ldGFkYXRhJDc2LmlzUHJvcGVydHlBcnJheSkge1xuICAgICAgICAgIGlmICghbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3Rfc2FtZUtleXModmFsdWUxLCAkanNjb21wJGxvb3AkNzQuJGpzY29tcCRsb29wJHByb3AkdmFsdWUyJDc1KSB8fCB2YWx1ZTEuc29tZShmdW5jdGlvbigkanNjb21wJGxvb3AkNzQpIHtcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbih2MSwgaSkge1xuICAgICAgICAgICAgICByZXR1cm4gIW1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0X2RlZXBFcXVhbHNPYmplY3RNYXAodjEsICRqc2NvbXAkbG9vcCQ3NC4kanNjb21wJGxvb3AkcHJvcCR2YWx1ZTIkNzVbaV0sICRqc2NvbXAkbG9vcCQ3NC4kanNjb21wJGxvb3AkcHJvcCRtYXBNZXRhZGF0YSQ3Nik7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH0oJGpzY29tcCRsb29wJDc0KSkpIHtcbiAgICAgICAgICAgIHJldHVybiAhMTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoIW1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0X2RlZXBFcXVhbHNPYmplY3RNYXAodmFsdWUxLCAkanNjb21wJGxvb3AkNzQuJGpzY29tcCRsb29wJHByb3AkdmFsdWUyJDc1LCAkanNjb21wJGxvb3AkNzQuJGpzY29tcCRsb29wJHByb3AkbWFwTWV0YWRhdGEkNzYpKSB7XG4gICAgICAgICAgcmV0dXJuICExO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUxKSkge1xuICAgICAgICBpZiAoIW1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0X2RlZXBFcXVhbHNWYWx1ZSh2YWx1ZTEsICRqc2NvbXAkbG9vcCQ3NC4kanNjb21wJGxvb3AkcHJvcCR2YWx1ZTIkNzUsICEwLCAhMSkpIHtcbiAgICAgICAgICByZXR1cm4gITE7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoIW1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0X2RlZXBFcXVhbHNWYWx1ZSh2YWx1ZTEsICRqc2NvbXAkbG9vcCQ3NC4kanNjb21wJGxvb3AkcHJvcCR2YWx1ZTIkNzUsICExLCAhMSkpIHtcbiAgICAgICAgcmV0dXJuICExO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gITA7XG59XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LmRlZXBFcXVhbHMgPSBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdF9kZWVwRXF1YWxzO1xuZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3RfaGFzQW5kSXNOb3RFbXB0eUFycmF5KHNlcmlhbGl6YWJsZSwga2V5LCBtZXRhZGF0YSkge1xuICBpZiAoIXNlcmlhbGl6YWJsZS5TZXJpYWxpemFibGUkaGFzKGtleSkpIHtcbiAgICByZXR1cm4gITE7XG4gIH1cbiAgaWYgKCFtZXRhZGF0YS5lbXB0eUFycmF5SXNVbnNldCkge1xuICAgIHJldHVybiAhMDtcbiAgfVxuICB2YXIgdmFsdWUgPSBzZXJpYWxpemFibGUuU2VyaWFsaXphYmxlJGdldChrZXkpO1xuICByZXR1cm4gQXJyYXkuaXNBcnJheSh2YWx1ZSkgPyAwICE9PSB2YWx1ZS5sZW5ndGggOiAhMDtcbn1cbmZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0X2RlZXBFcXVhbHNPYmplY3RNYXAodmFsdWUxLCB2YWx1ZTIsIG1hcE1ldGFkYXRhKSB7XG4gIGlmICghbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3Rfc2FtZUtleXModmFsdWUxLCB2YWx1ZTIpKSB7XG4gICAgcmV0dXJuICExO1xuICB9XG4gIGZvciAodmFyICRqc2NvbXAkaXRlciQxNSA9ICRqc2NvbXAubWFrZUl0ZXJhdG9yKE9iamVjdC5rZXlzKHZhbHVlMSkpLCAkanNjb21wJGtleSRtYXBLZXkgPSAkanNjb21wJGl0ZXIkMTUubmV4dCgpOyAhJGpzY29tcCRrZXkkbWFwS2V5LmRvbmU7ICRqc2NvbXAka2V5JG1hcEtleSA9ICRqc2NvbXAkaXRlciQxNS5uZXh0KCkpIHtcbiAgICB2YXIgbWFwS2V5ID0gJGpzY29tcCRrZXkkbWFwS2V5LnZhbHVlO1xuICAgIGlmICghbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3RfZGVlcEVxdWFsc1ZhbHVlKHZhbHVlMVttYXBLZXldLCB2YWx1ZTJbbWFwS2V5XSwgbWFwTWV0YWRhdGEuaXNWYWx1ZUFycmF5LCBtYXBNZXRhZGF0YS5pc1NlcmlhbGl6YWJsZSkpIHtcbiAgICAgIHJldHVybiAhMTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuICEwO1xufVxuZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3RfZGVlcEVxdWFsc1ZhbHVlKHZhbHVlMSwgdmFsdWUyLCBpc0FycmF5LCBpc1NlcmlhbGl6YWJsZSkge1xuICBpZiAobnVsbCA9PSB2YWx1ZTEgJiYgbnVsbCA9PSB2YWx1ZTIpIHtcbiAgICByZXR1cm4gITA7XG4gIH1cbiAgaWYgKGlzQXJyYXkgJiYgaXNTZXJpYWxpemFibGUpIHtcbiAgICBpZiAoIW1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0X3NhbWVLZXlzKHZhbHVlMSwgdmFsdWUyKSB8fCB2YWx1ZTEuc29tZShmdW5jdGlvbih2MSwgaSkge1xuICAgICAgcmV0dXJuICFtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdF9kZWVwRXF1YWxzKHYxLCB2YWx1ZTJbaV0pO1xuICAgIH0pKSB7XG4gICAgICByZXR1cm4gITE7XG4gICAgfVxuICB9IGVsc2UgaWYgKGlzQXJyYXkgJiYgIWlzU2VyaWFsaXphYmxlKSB7XG4gICAgaWYgKCFtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdF9zYW1lS2V5cyh2YWx1ZTEsIHZhbHVlMikgfHwgdmFsdWUxLnNvbWUoZnVuY3Rpb24odiwgaSkge1xuICAgICAgcmV0dXJuIHYgIT09IHZhbHVlMltpXTtcbiAgICB9KSkge1xuICAgICAgcmV0dXJuICExO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBpZiAoaXNTZXJpYWxpemFibGUpIHtcbiAgICAgIHJldHVybiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdF9kZWVwRXF1YWxzKHZhbHVlMSwgdmFsdWUyKTtcbiAgICB9XG4gICAgaWYgKFwib2JqZWN0XCIgPT09IHR5cGVvZiB2YWx1ZTEpIHtcbiAgICAgIGlmIChKU09OLnN0cmluZ2lmeSh2YWx1ZTEpICE9PSBKU09OLnN0cmluZ2lmeSh2YWx1ZTIpKSB7XG4gICAgICAgIHJldHVybiAhMTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHZhbHVlMSAhPT0gdmFsdWUyKSB7XG4gICAgICByZXR1cm4gITE7XG4gICAgfVxuICB9XG4gIHJldHVybiAhMDtcbn1cbmZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0X3NhbWVLZXlzKGEsIGIpIHtcbiAgaWYgKHR5cGVvZiBhICE9PSB0eXBlb2YgYiB8fCBBcnJheS5pc0FycmF5KGEpICE9PSBBcnJheS5pc0FycmF5KGIpKSB7XG4gICAgdGhyb3cgRXJyb3IoXCJUeXBlcyBhcmUgbm90IGNvbXBhcmFibGUuXCIpO1xuICB9XG4gIHZhciBhS2V5cyA9IE9iamVjdC5rZXlzKGEpLCBiS2V5cyA9IE9iamVjdC5rZXlzKGIpO1xuICBpZiAoYUtleXMubGVuZ3RoICE9PSBiS2V5cy5sZW5ndGgpIHtcbiAgICByZXR1cm4gITE7XG4gIH1cbiAgQXJyYXkuaXNBcnJheShhKSB8fCAoYUtleXMuc29ydCgpLCBiS2V5cy5zb3J0KCkpO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGFLZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKGFLZXlzW2ldICE9PSBiS2V5c1tpXSkge1xuICAgICAgcmV0dXJuICExO1xuICAgIH1cbiAgfVxuICByZXR1cm4gITA7XG59XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LnNlcmlhbGl6YWJsZUVxdWFsaXR5VGVzdGVyID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3Rfc2VyaWFsaXphYmxlRXF1YWxpdHlUZXN0ZXIobGVmdCwgcmlnaHQpIHtcbiAgaWYgKGxlZnQgaW5zdGFuY2VvZiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZSAmJiByaWdodCBpbnN0YW5jZW9mIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlKSB7XG4gICAgcmV0dXJuIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0X2RlZXBFcXVhbHMobGVmdCwgcmlnaHQpO1xuICB9XG59O1xuZ29vZy5kb20uSHRtbEVsZW1lbnQgPSBmdW5jdGlvbigpIHtcbn07XG5nb29nLmRvbS5UYWdOYW1lID0gZnVuY3Rpb24oKSB7XG59O1xuZ29vZy5kb20uVGFnTmFtZS5jYXN0ID0gZnVuY3Rpb24obmFtZSwgdHlwZSkge1xuICByZXR1cm4gbmFtZTtcbn07XG5nb29nLmRvbS5UYWdOYW1lLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uKCkge1xufTtcbmdvb2cuZG9tLlRhZ05hbWUuQSA9IFwiQVwiO1xuZ29vZy5kb20uVGFnTmFtZS5BQkJSID0gXCJBQkJSXCI7XG5nb29nLmRvbS5UYWdOYW1lLkFDUk9OWU0gPSBcIkFDUk9OWU1cIjtcbmdvb2cuZG9tLlRhZ05hbWUuQUREUkVTUyA9IFwiQUREUkVTU1wiO1xuZ29vZy5kb20uVGFnTmFtZS5BUFBMRVQgPSBcIkFQUExFVFwiO1xuZ29vZy5kb20uVGFnTmFtZS5BUkVBID0gXCJBUkVBXCI7XG5nb29nLmRvbS5UYWdOYW1lLkFSVElDTEUgPSBcIkFSVElDTEVcIjtcbmdvb2cuZG9tLlRhZ05hbWUuQVNJREUgPSBcIkFTSURFXCI7XG5nb29nLmRvbS5UYWdOYW1lLkFVRElPID0gXCJBVURJT1wiO1xuZ29vZy5kb20uVGFnTmFtZS5CID0gXCJCXCI7XG5nb29nLmRvbS5UYWdOYW1lLkJBU0UgPSBcIkJBU0VcIjtcbmdvb2cuZG9tLlRhZ05hbWUuQkFTRUZPTlQgPSBcIkJBU0VGT05UXCI7XG5nb29nLmRvbS5UYWdOYW1lLkJESSA9IFwiQkRJXCI7XG5nb29nLmRvbS5UYWdOYW1lLkJETyA9IFwiQkRPXCI7XG5nb29nLmRvbS5UYWdOYW1lLkJJRyA9IFwiQklHXCI7XG5nb29nLmRvbS5UYWdOYW1lLkJMT0NLUVVPVEUgPSBcIkJMT0NLUVVPVEVcIjtcbmdvb2cuZG9tLlRhZ05hbWUuQk9EWSA9IFwiQk9EWVwiO1xuZ29vZy5kb20uVGFnTmFtZS5CUiA9IFwiQlJcIjtcbmdvb2cuZG9tLlRhZ05hbWUuQlVUVE9OID0gXCJCVVRUT05cIjtcbmdvb2cuZG9tLlRhZ05hbWUuQ0FOVkFTID0gXCJDQU5WQVNcIjtcbmdvb2cuZG9tLlRhZ05hbWUuQ0FQVElPTiA9IFwiQ0FQVElPTlwiO1xuZ29vZy5kb20uVGFnTmFtZS5DRU5URVIgPSBcIkNFTlRFUlwiO1xuZ29vZy5kb20uVGFnTmFtZS5DSVRFID0gXCJDSVRFXCI7XG5nb29nLmRvbS5UYWdOYW1lLkNPREUgPSBcIkNPREVcIjtcbmdvb2cuZG9tLlRhZ05hbWUuQ09MID0gXCJDT0xcIjtcbmdvb2cuZG9tLlRhZ05hbWUuQ09MR1JPVVAgPSBcIkNPTEdST1VQXCI7XG5nb29nLmRvbS5UYWdOYW1lLkNPTU1BTkQgPSBcIkNPTU1BTkRcIjtcbmdvb2cuZG9tLlRhZ05hbWUuREFUQSA9IFwiREFUQVwiO1xuZ29vZy5kb20uVGFnTmFtZS5EQVRBTElTVCA9IFwiREFUQUxJU1RcIjtcbmdvb2cuZG9tLlRhZ05hbWUuREQgPSBcIkREXCI7XG5nb29nLmRvbS5UYWdOYW1lLkRFTCA9IFwiREVMXCI7XG5nb29nLmRvbS5UYWdOYW1lLkRFVEFJTFMgPSBcIkRFVEFJTFNcIjtcbmdvb2cuZG9tLlRhZ05hbWUuREZOID0gXCJERk5cIjtcbmdvb2cuZG9tLlRhZ05hbWUuRElBTE9HID0gXCJESUFMT0dcIjtcbmdvb2cuZG9tLlRhZ05hbWUuRElSID0gXCJESVJcIjtcbmdvb2cuZG9tLlRhZ05hbWUuRElWID0gXCJESVZcIjtcbmdvb2cuZG9tLlRhZ05hbWUuREwgPSBcIkRMXCI7XG5nb29nLmRvbS5UYWdOYW1lLkRUID0gXCJEVFwiO1xuZ29vZy5kb20uVGFnTmFtZS5FTSA9IFwiRU1cIjtcbmdvb2cuZG9tLlRhZ05hbWUuRU1CRUQgPSBcIkVNQkVEXCI7XG5nb29nLmRvbS5UYWdOYW1lLkZJRUxEU0VUID0gXCJGSUVMRFNFVFwiO1xuZ29vZy5kb20uVGFnTmFtZS5GSUdDQVBUSU9OID0gXCJGSUdDQVBUSU9OXCI7XG5nb29nLmRvbS5UYWdOYW1lLkZJR1VSRSA9IFwiRklHVVJFXCI7XG5nb29nLmRvbS5UYWdOYW1lLkZPTlQgPSBcIkZPTlRcIjtcbmdvb2cuZG9tLlRhZ05hbWUuRk9PVEVSID0gXCJGT09URVJcIjtcbmdvb2cuZG9tLlRhZ05hbWUuRk9STSA9IFwiRk9STVwiO1xuZ29vZy5kb20uVGFnTmFtZS5GUkFNRSA9IFwiRlJBTUVcIjtcbmdvb2cuZG9tLlRhZ05hbWUuRlJBTUVTRVQgPSBcIkZSQU1FU0VUXCI7XG5nb29nLmRvbS5UYWdOYW1lLkgxID0gXCJIMVwiO1xuZ29vZy5kb20uVGFnTmFtZS5IMiA9IFwiSDJcIjtcbmdvb2cuZG9tLlRhZ05hbWUuSDMgPSBcIkgzXCI7XG5nb29nLmRvbS5UYWdOYW1lLkg0ID0gXCJINFwiO1xuZ29vZy5kb20uVGFnTmFtZS5INSA9IFwiSDVcIjtcbmdvb2cuZG9tLlRhZ05hbWUuSDYgPSBcIkg2XCI7XG5nb29nLmRvbS5UYWdOYW1lLkhFQUQgPSBcIkhFQURcIjtcbmdvb2cuZG9tLlRhZ05hbWUuSEVBREVSID0gXCJIRUFERVJcIjtcbmdvb2cuZG9tLlRhZ05hbWUuSEdST1VQID0gXCJIR1JPVVBcIjtcbmdvb2cuZG9tLlRhZ05hbWUuSFIgPSBcIkhSXCI7XG5nb29nLmRvbS5UYWdOYW1lLkhUTUwgPSBcIkhUTUxcIjtcbmdvb2cuZG9tLlRhZ05hbWUuSSA9IFwiSVwiO1xuZ29vZy5kb20uVGFnTmFtZS5JRlJBTUUgPSBcIklGUkFNRVwiO1xuZ29vZy5kb20uVGFnTmFtZS5JTUcgPSBcIklNR1wiO1xuZ29vZy5kb20uVGFnTmFtZS5JTlBVVCA9IFwiSU5QVVRcIjtcbmdvb2cuZG9tLlRhZ05hbWUuSU5TID0gXCJJTlNcIjtcbmdvb2cuZG9tLlRhZ05hbWUuSVNJTkRFWCA9IFwiSVNJTkRFWFwiO1xuZ29vZy5kb20uVGFnTmFtZS5LQkQgPSBcIktCRFwiO1xuZ29vZy5kb20uVGFnTmFtZS5LRVlHRU4gPSBcIktFWUdFTlwiO1xuZ29vZy5kb20uVGFnTmFtZS5MQUJFTCA9IFwiTEFCRUxcIjtcbmdvb2cuZG9tLlRhZ05hbWUuTEVHRU5EID0gXCJMRUdFTkRcIjtcbmdvb2cuZG9tLlRhZ05hbWUuTEkgPSBcIkxJXCI7XG5nb29nLmRvbS5UYWdOYW1lLkxJTksgPSBcIkxJTktcIjtcbmdvb2cuZG9tLlRhZ05hbWUuTUFJTiA9IFwiTUFJTlwiO1xuZ29vZy5kb20uVGFnTmFtZS5NQVAgPSBcIk1BUFwiO1xuZ29vZy5kb20uVGFnTmFtZS5NQVJLID0gXCJNQVJLXCI7XG5nb29nLmRvbS5UYWdOYW1lLk1BVEggPSBcIk1BVEhcIjtcbmdvb2cuZG9tLlRhZ05hbWUuTUVOVSA9IFwiTUVOVVwiO1xuZ29vZy5kb20uVGFnTmFtZS5NRU5VSVRFTSA9IFwiTUVOVUlURU1cIjtcbmdvb2cuZG9tLlRhZ05hbWUuTUVUQSA9IFwiTUVUQVwiO1xuZ29vZy5kb20uVGFnTmFtZS5NRVRFUiA9IFwiTUVURVJcIjtcbmdvb2cuZG9tLlRhZ05hbWUuTkFWID0gXCJOQVZcIjtcbmdvb2cuZG9tLlRhZ05hbWUuTk9GUkFNRVMgPSBcIk5PRlJBTUVTXCI7XG5nb29nLmRvbS5UYWdOYW1lLk5PU0NSSVBUID0gXCJOT1NDUklQVFwiO1xuZ29vZy5kb20uVGFnTmFtZS5PQkpFQ1QgPSBcIk9CSkVDVFwiO1xuZ29vZy5kb20uVGFnTmFtZS5PTCA9IFwiT0xcIjtcbmdvb2cuZG9tLlRhZ05hbWUuT1BUR1JPVVAgPSBcIk9QVEdST1VQXCI7XG5nb29nLmRvbS5UYWdOYW1lLk9QVElPTiA9IFwiT1BUSU9OXCI7XG5nb29nLmRvbS5UYWdOYW1lLk9VVFBVVCA9IFwiT1VUUFVUXCI7XG5nb29nLmRvbS5UYWdOYW1lLlAgPSBcIlBcIjtcbmdvb2cuZG9tLlRhZ05hbWUuUEFSQU0gPSBcIlBBUkFNXCI7XG5nb29nLmRvbS5UYWdOYW1lLlBJQ1RVUkUgPSBcIlBJQ1RVUkVcIjtcbmdvb2cuZG9tLlRhZ05hbWUuUFJFID0gXCJQUkVcIjtcbmdvb2cuZG9tLlRhZ05hbWUuUFJPR1JFU1MgPSBcIlBST0dSRVNTXCI7XG5nb29nLmRvbS5UYWdOYW1lLlEgPSBcIlFcIjtcbmdvb2cuZG9tLlRhZ05hbWUuUlAgPSBcIlJQXCI7XG5nb29nLmRvbS5UYWdOYW1lLlJUID0gXCJSVFwiO1xuZ29vZy5kb20uVGFnTmFtZS5SVEMgPSBcIlJUQ1wiO1xuZ29vZy5kb20uVGFnTmFtZS5SVUJZID0gXCJSVUJZXCI7XG5nb29nLmRvbS5UYWdOYW1lLlMgPSBcIlNcIjtcbmdvb2cuZG9tLlRhZ05hbWUuU0FNUCA9IFwiU0FNUFwiO1xuZ29vZy5kb20uVGFnTmFtZS5TQ1JJUFQgPSBcIlNDUklQVFwiO1xuZ29vZy5kb20uVGFnTmFtZS5TRUNUSU9OID0gXCJTRUNUSU9OXCI7XG5nb29nLmRvbS5UYWdOYW1lLlNFTEVDVCA9IFwiU0VMRUNUXCI7XG5nb29nLmRvbS5UYWdOYW1lLlNNQUxMID0gXCJTTUFMTFwiO1xuZ29vZy5kb20uVGFnTmFtZS5TT1VSQ0UgPSBcIlNPVVJDRVwiO1xuZ29vZy5kb20uVGFnTmFtZS5TUEFOID0gXCJTUEFOXCI7XG5nb29nLmRvbS5UYWdOYW1lLlNUUklLRSA9IFwiU1RSSUtFXCI7XG5nb29nLmRvbS5UYWdOYW1lLlNUUk9ORyA9IFwiU1RST05HXCI7XG5nb29nLmRvbS5UYWdOYW1lLlNUWUxFID0gXCJTVFlMRVwiO1xuZ29vZy5kb20uVGFnTmFtZS5TVUIgPSBcIlNVQlwiO1xuZ29vZy5kb20uVGFnTmFtZS5TVU1NQVJZID0gXCJTVU1NQVJZXCI7XG5nb29nLmRvbS5UYWdOYW1lLlNVUCA9IFwiU1VQXCI7XG5nb29nLmRvbS5UYWdOYW1lLlNWRyA9IFwiU1ZHXCI7XG5nb29nLmRvbS5UYWdOYW1lLlRBQkxFID0gXCJUQUJMRVwiO1xuZ29vZy5kb20uVGFnTmFtZS5UQk9EWSA9IFwiVEJPRFlcIjtcbmdvb2cuZG9tLlRhZ05hbWUuVEQgPSBcIlREXCI7XG5nb29nLmRvbS5UYWdOYW1lLlRFTVBMQVRFID0gXCJURU1QTEFURVwiO1xuZ29vZy5kb20uVGFnTmFtZS5URVhUQVJFQSA9IFwiVEVYVEFSRUFcIjtcbmdvb2cuZG9tLlRhZ05hbWUuVEZPT1QgPSBcIlRGT09UXCI7XG5nb29nLmRvbS5UYWdOYW1lLlRIID0gXCJUSFwiO1xuZ29vZy5kb20uVGFnTmFtZS5USEVBRCA9IFwiVEhFQURcIjtcbmdvb2cuZG9tLlRhZ05hbWUuVElNRSA9IFwiVElNRVwiO1xuZ29vZy5kb20uVGFnTmFtZS5USVRMRSA9IFwiVElUTEVcIjtcbmdvb2cuZG9tLlRhZ05hbWUuVFIgPSBcIlRSXCI7XG5nb29nLmRvbS5UYWdOYW1lLlRSQUNLID0gXCJUUkFDS1wiO1xuZ29vZy5kb20uVGFnTmFtZS5UVCA9IFwiVFRcIjtcbmdvb2cuZG9tLlRhZ05hbWUuVSA9IFwiVVwiO1xuZ29vZy5kb20uVGFnTmFtZS5VTCA9IFwiVUxcIjtcbmdvb2cuZG9tLlRhZ05hbWUuVkFSID0gXCJWQVJcIjtcbmdvb2cuZG9tLlRhZ05hbWUuVklERU8gPSBcIlZJREVPXCI7XG5nb29nLmRvbS5UYWdOYW1lLldCUiA9IFwiV0JSXCI7XG5nb29nLmRvbS5lbGVtZW50ID0ge307XG52YXIgbW9kdWxlJGNvbnRlbnRzJGdvb2ckZG9tJGVsZW1lbnRfaXNFbGVtZW50ID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgcmV0dXJuIGdvb2cuaXNPYmplY3QodmFsdWUpICYmIHZhbHVlLm5vZGVUeXBlID09PSBnb29nLmRvbS5Ob2RlVHlwZS5FTEVNRU5UO1xufSwgbW9kdWxlJGNvbnRlbnRzJGdvb2ckZG9tJGVsZW1lbnRfaXNIdG1sRWxlbWVudCA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gIHJldHVybiBnb29nLmlzT2JqZWN0KHZhbHVlKSAmJiBtb2R1bGUkY29udGVudHMkZ29vZyRkb20kZWxlbWVudF9pc0VsZW1lbnQodmFsdWUpICYmICghdmFsdWUubmFtZXNwYWNlVVJJIHx8IFwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbFwiID09PSB2YWx1ZS5uYW1lc3BhY2VVUkkpO1xufSwgbW9kdWxlJGNvbnRlbnRzJGdvb2ckZG9tJGVsZW1lbnRfaXNIdG1sRWxlbWVudE9mVHlwZSA9IGZ1bmN0aW9uKHZhbHVlLCB0YWdOYW1lKSB7XG4gIHJldHVybiBnb29nLmlzT2JqZWN0KHZhbHVlKSAmJiBtb2R1bGUkY29udGVudHMkZ29vZyRkb20kZWxlbWVudF9pc0h0bWxFbGVtZW50KHZhbHVlKSAmJiB2YWx1ZS50YWdOYW1lLnRvVXBwZXJDYXNlKCkgPT09IHRhZ05hbWUudG9TdHJpbmcoKTtcbn07XG5nb29nLmRvbS5lbGVtZW50LmlzRWxlbWVudCA9IG1vZHVsZSRjb250ZW50cyRnb29nJGRvbSRlbGVtZW50X2lzRWxlbWVudDtcbmdvb2cuZG9tLmVsZW1lbnQuaXNIdG1sRWxlbWVudCA9IG1vZHVsZSRjb250ZW50cyRnb29nJGRvbSRlbGVtZW50X2lzSHRtbEVsZW1lbnQ7XG5nb29nLmRvbS5lbGVtZW50LmlzSHRtbEVsZW1lbnRPZlR5cGUgPSBtb2R1bGUkY29udGVudHMkZ29vZyRkb20kZWxlbWVudF9pc0h0bWxFbGVtZW50T2ZUeXBlO1xuZ29vZy5kb20uZWxlbWVudC5pc0h0bWxBbmNob3JFbGVtZW50ID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgcmV0dXJuIG1vZHVsZSRjb250ZW50cyRnb29nJGRvbSRlbGVtZW50X2lzSHRtbEVsZW1lbnRPZlR5cGUodmFsdWUsIGdvb2cuZG9tLlRhZ05hbWUuQSk7XG59O1xuZ29vZy5kb20uZWxlbWVudC5pc0h0bWxCdXR0b25FbGVtZW50ID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgcmV0dXJuIG1vZHVsZSRjb250ZW50cyRnb29nJGRvbSRlbGVtZW50X2lzSHRtbEVsZW1lbnRPZlR5cGUodmFsdWUsIGdvb2cuZG9tLlRhZ05hbWUuQlVUVE9OKTtcbn07XG5nb29nLmRvbS5lbGVtZW50LmlzSHRtbExpbmtFbGVtZW50ID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgcmV0dXJuIG1vZHVsZSRjb250ZW50cyRnb29nJGRvbSRlbGVtZW50X2lzSHRtbEVsZW1lbnRPZlR5cGUodmFsdWUsIGdvb2cuZG9tLlRhZ05hbWUuTElOSyk7XG59O1xuZ29vZy5kb20uZWxlbWVudC5pc0h0bWxJbWFnZUVsZW1lbnQgPSBmdW5jdGlvbih2YWx1ZSkge1xuICByZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGdvb2ckZG9tJGVsZW1lbnRfaXNIdG1sRWxlbWVudE9mVHlwZSh2YWx1ZSwgZ29vZy5kb20uVGFnTmFtZS5JTUcpO1xufTtcbmdvb2cuZG9tLmVsZW1lbnQuaXNIdG1sQXVkaW9FbGVtZW50ID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgcmV0dXJuIG1vZHVsZSRjb250ZW50cyRnb29nJGRvbSRlbGVtZW50X2lzSHRtbEVsZW1lbnRPZlR5cGUodmFsdWUsIGdvb2cuZG9tLlRhZ05hbWUuQVVESU8pO1xufTtcbmdvb2cuZG9tLmVsZW1lbnQuaXNIdG1sVmlkZW9FbGVtZW50ID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgcmV0dXJuIG1vZHVsZSRjb250ZW50cyRnb29nJGRvbSRlbGVtZW50X2lzSHRtbEVsZW1lbnRPZlR5cGUodmFsdWUsIGdvb2cuZG9tLlRhZ05hbWUuVklERU8pO1xufTtcbmdvb2cuZG9tLmVsZW1lbnQuaXNIdG1sSW5wdXRFbGVtZW50ID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgcmV0dXJuIG1vZHVsZSRjb250ZW50cyRnb29nJGRvbSRlbGVtZW50X2lzSHRtbEVsZW1lbnRPZlR5cGUodmFsdWUsIGdvb2cuZG9tLlRhZ05hbWUuSU5QVVQpO1xufTtcbmdvb2cuZG9tLmVsZW1lbnQuaXNIdG1sVGV4dEFyZWFFbGVtZW50ID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgcmV0dXJuIG1vZHVsZSRjb250ZW50cyRnb29nJGRvbSRlbGVtZW50X2lzSHRtbEVsZW1lbnRPZlR5cGUodmFsdWUsIGdvb2cuZG9tLlRhZ05hbWUuVEVYVEFSRUEpO1xufTtcbmdvb2cuZG9tLmVsZW1lbnQuaXNIdG1sQ2FudmFzRWxlbWVudCA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gIHJldHVybiBtb2R1bGUkY29udGVudHMkZ29vZyRkb20kZWxlbWVudF9pc0h0bWxFbGVtZW50T2ZUeXBlKHZhbHVlLCBnb29nLmRvbS5UYWdOYW1lLkNBTlZBUyk7XG59O1xuZ29vZy5kb20uZWxlbWVudC5pc0h0bWxFbWJlZEVsZW1lbnQgPSBmdW5jdGlvbih2YWx1ZSkge1xuICByZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGdvb2ckZG9tJGVsZW1lbnRfaXNIdG1sRWxlbWVudE9mVHlwZSh2YWx1ZSwgZ29vZy5kb20uVGFnTmFtZS5FTUJFRCk7XG59O1xuZ29vZy5kb20uZWxlbWVudC5pc0h0bWxGb3JtRWxlbWVudCA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gIHJldHVybiBtb2R1bGUkY29udGVudHMkZ29vZyRkb20kZWxlbWVudF9pc0h0bWxFbGVtZW50T2ZUeXBlKHZhbHVlLCBnb29nLmRvbS5UYWdOYW1lLkZPUk0pO1xufTtcbmdvb2cuZG9tLmVsZW1lbnQuaXNIdG1sRnJhbWVFbGVtZW50ID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgcmV0dXJuIG1vZHVsZSRjb250ZW50cyRnb29nJGRvbSRlbGVtZW50X2lzSHRtbEVsZW1lbnRPZlR5cGUodmFsdWUsIGdvb2cuZG9tLlRhZ05hbWUuRlJBTUUpO1xufTtcbmdvb2cuZG9tLmVsZW1lbnQuaXNIdG1sSUZyYW1lRWxlbWVudCA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gIHJldHVybiBtb2R1bGUkY29udGVudHMkZ29vZyRkb20kZWxlbWVudF9pc0h0bWxFbGVtZW50T2ZUeXBlKHZhbHVlLCBnb29nLmRvbS5UYWdOYW1lLklGUkFNRSk7XG59O1xuZ29vZy5kb20uZWxlbWVudC5pc0h0bWxPYmplY3RFbGVtZW50ID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgcmV0dXJuIG1vZHVsZSRjb250ZW50cyRnb29nJGRvbSRlbGVtZW50X2lzSHRtbEVsZW1lbnRPZlR5cGUodmFsdWUsIGdvb2cuZG9tLlRhZ05hbWUuT0JKRUNUKTtcbn07XG5nb29nLmRvbS5lbGVtZW50LmlzSHRtbFNjcmlwdEVsZW1lbnQgPSBmdW5jdGlvbih2YWx1ZSkge1xuICByZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGdvb2ckZG9tJGVsZW1lbnRfaXNIdG1sRWxlbWVudE9mVHlwZSh2YWx1ZSwgZ29vZy5kb20uVGFnTmFtZS5TQ1JJUFQpO1xufTtcbmdvb2cuYXNzZXJ0cy5kb20gPSB7fTtcbnZhciBtb2R1bGUkY29udGVudHMkZ29vZyRhc3NlcnRzJGRvbV9hc3NlcnRJc0h0bWxFbGVtZW50ID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgZ29vZy5hc3NlcnRzLkVOQUJMRV9BU1NFUlRTICYmICFtb2R1bGUkY29udGVudHMkZ29vZyRkb20kZWxlbWVudF9pc0h0bWxFbGVtZW50KHZhbHVlKSAmJiBnb29nLmFzc2VydHMuZmFpbChcIkFyZ3VtZW50IGlzIG5vdCBhbiBIVE1MIEVsZW1lbnQ7IGdvdDogXCIgKyBtb2R1bGUkY29udGVudHMkZ29vZyRhc3NlcnRzJGRvbV9kZWJ1Z1N0cmluZ0ZvclR5cGUodmFsdWUpKTtcbiAgcmV0dXJuIHZhbHVlO1xufSwgbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXNzZXJ0cyRkb21fYXNzZXJ0SXNIdG1sRWxlbWVudE9mVHlwZSA9IGZ1bmN0aW9uKHZhbHVlLCB0YWdOYW1lKSB7XG4gIGdvb2cuYXNzZXJ0cy5FTkFCTEVfQVNTRVJUUyAmJiAhbW9kdWxlJGNvbnRlbnRzJGdvb2ckZG9tJGVsZW1lbnRfaXNIdG1sRWxlbWVudE9mVHlwZSh2YWx1ZSwgdGFnTmFtZSkgJiYgZ29vZy5hc3NlcnRzLmZhaWwoXCJBcmd1bWVudCBpcyBub3QgYW4gSFRNTCBFbGVtZW50IHdpdGggdGFnIG5hbWUgXCIgKyAodGFnTmFtZS50b1N0cmluZygpICsgXCI7IGdvdDogXCIgKyBtb2R1bGUkY29udGVudHMkZ29vZyRhc3NlcnRzJGRvbV9kZWJ1Z1N0cmluZ0ZvclR5cGUodmFsdWUpKSk7XG4gIHJldHVybiB2YWx1ZTtcbn0sIG1vZHVsZSRjb250ZW50cyRnb29nJGFzc2VydHMkZG9tX2Fzc2VydElzSHRtbEFuY2hvckVsZW1lbnQgPSBmdW5jdGlvbih2YWx1ZSkge1xuICByZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXNzZXJ0cyRkb21fYXNzZXJ0SXNIdG1sRWxlbWVudE9mVHlwZSh2YWx1ZSwgZ29vZy5kb20uVGFnTmFtZS5BKTtcbn0sIG1vZHVsZSRjb250ZW50cyRnb29nJGFzc2VydHMkZG9tX2Fzc2VydElzSHRtbEJ1dHRvbkVsZW1lbnQgPSBmdW5jdGlvbih2YWx1ZSkge1xuICByZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXNzZXJ0cyRkb21fYXNzZXJ0SXNIdG1sRWxlbWVudE9mVHlwZSh2YWx1ZSwgZ29vZy5kb20uVGFnTmFtZS5CVVRUT04pO1xufSwgbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXNzZXJ0cyRkb21fYXNzZXJ0SXNIdG1sTGlua0VsZW1lbnQgPSBmdW5jdGlvbih2YWx1ZSkge1xuICByZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXNzZXJ0cyRkb21fYXNzZXJ0SXNIdG1sRWxlbWVudE9mVHlwZSh2YWx1ZSwgZ29vZy5kb20uVGFnTmFtZS5MSU5LKTtcbn0sIG1vZHVsZSRjb250ZW50cyRnb29nJGFzc2VydHMkZG9tX2Fzc2VydElzSHRtbEF1ZGlvRWxlbWVudCA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gIHJldHVybiBtb2R1bGUkY29udGVudHMkZ29vZyRhc3NlcnRzJGRvbV9hc3NlcnRJc0h0bWxFbGVtZW50T2ZUeXBlKHZhbHVlLCBnb29nLmRvbS5UYWdOYW1lLkFVRElPKTtcbn0sIG1vZHVsZSRjb250ZW50cyRnb29nJGFzc2VydHMkZG9tX2Fzc2VydElzSHRtbFZpZGVvRWxlbWVudCA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gIHJldHVybiBtb2R1bGUkY29udGVudHMkZ29vZyRhc3NlcnRzJGRvbV9hc3NlcnRJc0h0bWxFbGVtZW50T2ZUeXBlKHZhbHVlLCBnb29nLmRvbS5UYWdOYW1lLlZJREVPKTtcbn0sIG1vZHVsZSRjb250ZW50cyRnb29nJGFzc2VydHMkZG9tX2Fzc2VydElzSHRtbElucHV0RWxlbWVudCA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gIHJldHVybiBtb2R1bGUkY29udGVudHMkZ29vZyRhc3NlcnRzJGRvbV9hc3NlcnRJc0h0bWxFbGVtZW50T2ZUeXBlKHZhbHVlLCBnb29nLmRvbS5UYWdOYW1lLklOUFVUKTtcbn0sIG1vZHVsZSRjb250ZW50cyRnb29nJGFzc2VydHMkZG9tX2Fzc2VydElzSHRtbEVtYmVkRWxlbWVudCA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gIHJldHVybiBtb2R1bGUkY29udGVudHMkZ29vZyRhc3NlcnRzJGRvbV9hc3NlcnRJc0h0bWxFbGVtZW50T2ZUeXBlKHZhbHVlLCBnb29nLmRvbS5UYWdOYW1lLkVNQkVEKTtcbn0sIG1vZHVsZSRjb250ZW50cyRnb29nJGFzc2VydHMkZG9tX2Fzc2VydElzSHRtbEZvcm1FbGVtZW50ID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgcmV0dXJuIG1vZHVsZSRjb250ZW50cyRnb29nJGFzc2VydHMkZG9tX2Fzc2VydElzSHRtbEVsZW1lbnRPZlR5cGUodmFsdWUsIGdvb2cuZG9tLlRhZ05hbWUuRk9STSk7XG59LCBtb2R1bGUkY29udGVudHMkZ29vZyRhc3NlcnRzJGRvbV9hc3NlcnRJc0h0bWxGcmFtZUVsZW1lbnQgPSBmdW5jdGlvbih2YWx1ZSkge1xuICByZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXNzZXJ0cyRkb21fYXNzZXJ0SXNIdG1sRWxlbWVudE9mVHlwZSh2YWx1ZSwgZ29vZy5kb20uVGFnTmFtZS5GUkFNRSk7XG59LCBtb2R1bGUkY29udGVudHMkZ29vZyRhc3NlcnRzJGRvbV9hc3NlcnRJc0h0bWxJRnJhbWVFbGVtZW50ID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgcmV0dXJuIG1vZHVsZSRjb250ZW50cyRnb29nJGFzc2VydHMkZG9tX2Fzc2VydElzSHRtbEVsZW1lbnRPZlR5cGUodmFsdWUsIGdvb2cuZG9tLlRhZ05hbWUuSUZSQU1FKTtcbn0sIG1vZHVsZSRjb250ZW50cyRnb29nJGFzc2VydHMkZG9tX2Fzc2VydElzSHRtbE9iamVjdEVsZW1lbnQgPSBmdW5jdGlvbih2YWx1ZSkge1xuICByZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXNzZXJ0cyRkb21fYXNzZXJ0SXNIdG1sRWxlbWVudE9mVHlwZSh2YWx1ZSwgZ29vZy5kb20uVGFnTmFtZS5PQkpFQ1QpO1xufSwgbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXNzZXJ0cyRkb21fYXNzZXJ0SXNIdG1sU2NyaXB0RWxlbWVudCA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gIHJldHVybiBtb2R1bGUkY29udGVudHMkZ29vZyRhc3NlcnRzJGRvbV9hc3NlcnRJc0h0bWxFbGVtZW50T2ZUeXBlKHZhbHVlLCBnb29nLmRvbS5UYWdOYW1lLlNDUklQVCk7XG59LCBtb2R1bGUkY29udGVudHMkZ29vZyRhc3NlcnRzJGRvbV9kZWJ1Z1N0cmluZ0ZvclR5cGUgPSBmdW5jdGlvbih2YWx1ZSkge1xuICBpZiAoZ29vZy5pc09iamVjdCh2YWx1ZSkpIHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIHZhbHVlLmNvbnN0cnVjdG9yLmRpc3BsYXlOYW1lIHx8IHZhbHVlLmNvbnN0cnVjdG9yLm5hbWUgfHwgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbHVlKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICByZXR1cm4gXCI8b2JqZWN0IGNvdWxkIG5vdCBiZSBzdHJpbmdpZmllZD5cIjtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHZvaWQgMCA9PT0gdmFsdWUgPyBcInVuZGVmaW5lZFwiIDogbnVsbCA9PT0gdmFsdWUgPyBcIm51bGxcIiA6IHR5cGVvZiB2YWx1ZTtcbiAgfVxufTtcbmdvb2cuYXNzZXJ0cy5kb20uYXNzZXJ0SXNFbGVtZW50ID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgZ29vZy5hc3NlcnRzLkVOQUJMRV9BU1NFUlRTICYmICFtb2R1bGUkY29udGVudHMkZ29vZyRkb20kZWxlbWVudF9pc0VsZW1lbnQodmFsdWUpICYmIGdvb2cuYXNzZXJ0cy5mYWlsKFwiQXJndW1lbnQgaXMgbm90IGFuIEVsZW1lbnQ7IGdvdDogXCIgKyBtb2R1bGUkY29udGVudHMkZ29vZyRhc3NlcnRzJGRvbV9kZWJ1Z1N0cmluZ0ZvclR5cGUodmFsdWUpKTtcbiAgcmV0dXJuIHZhbHVlO1xufTtcbmdvb2cuYXNzZXJ0cy5kb20uYXNzZXJ0SXNIdG1sRWxlbWVudCA9IG1vZHVsZSRjb250ZW50cyRnb29nJGFzc2VydHMkZG9tX2Fzc2VydElzSHRtbEVsZW1lbnQ7XG5nb29nLmFzc2VydHMuZG9tLmFzc2VydElzSHRtbEVsZW1lbnRPZlR5cGUgPSBtb2R1bGUkY29udGVudHMkZ29vZyRhc3NlcnRzJGRvbV9hc3NlcnRJc0h0bWxFbGVtZW50T2ZUeXBlO1xuZ29vZy5hc3NlcnRzLmRvbS5hc3NlcnRJc0h0bWxBbmNob3JFbGVtZW50ID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXNzZXJ0cyRkb21fYXNzZXJ0SXNIdG1sQW5jaG9yRWxlbWVudDtcbmdvb2cuYXNzZXJ0cy5kb20uYXNzZXJ0SXNIdG1sQnV0dG9uRWxlbWVudCA9IG1vZHVsZSRjb250ZW50cyRnb29nJGFzc2VydHMkZG9tX2Fzc2VydElzSHRtbEJ1dHRvbkVsZW1lbnQ7XG5nb29nLmFzc2VydHMuZG9tLmFzc2VydElzSHRtbExpbmtFbGVtZW50ID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXNzZXJ0cyRkb21fYXNzZXJ0SXNIdG1sTGlua0VsZW1lbnQ7XG5nb29nLmFzc2VydHMuZG9tLmFzc2VydElzSHRtbEltYWdlRWxlbWVudCA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gIHJldHVybiBtb2R1bGUkY29udGVudHMkZ29vZyRhc3NlcnRzJGRvbV9hc3NlcnRJc0h0bWxFbGVtZW50T2ZUeXBlKHZhbHVlLCBnb29nLmRvbS5UYWdOYW1lLklNRyk7XG59O1xuZ29vZy5hc3NlcnRzLmRvbS5hc3NlcnRJc0h0bWxBdWRpb0VsZW1lbnQgPSBtb2R1bGUkY29udGVudHMkZ29vZyRhc3NlcnRzJGRvbV9hc3NlcnRJc0h0bWxBdWRpb0VsZW1lbnQ7XG5nb29nLmFzc2VydHMuZG9tLmFzc2VydElzSHRtbFZpZGVvRWxlbWVudCA9IG1vZHVsZSRjb250ZW50cyRnb29nJGFzc2VydHMkZG9tX2Fzc2VydElzSHRtbFZpZGVvRWxlbWVudDtcbmdvb2cuYXNzZXJ0cy5kb20uYXNzZXJ0SXNIdG1sSW5wdXRFbGVtZW50ID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXNzZXJ0cyRkb21fYXNzZXJ0SXNIdG1sSW5wdXRFbGVtZW50O1xuZ29vZy5hc3NlcnRzLmRvbS5hc3NlcnRJc0h0bWxUZXh0QXJlYUVsZW1lbnQgPSBmdW5jdGlvbih2YWx1ZSkge1xuICByZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXNzZXJ0cyRkb21fYXNzZXJ0SXNIdG1sRWxlbWVudE9mVHlwZSh2YWx1ZSwgZ29vZy5kb20uVGFnTmFtZS5URVhUQVJFQSk7XG59O1xuZ29vZy5hc3NlcnRzLmRvbS5hc3NlcnRJc0h0bWxDYW52YXNFbGVtZW50ID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgcmV0dXJuIG1vZHVsZSRjb250ZW50cyRnb29nJGFzc2VydHMkZG9tX2Fzc2VydElzSHRtbEVsZW1lbnRPZlR5cGUodmFsdWUsIGdvb2cuZG9tLlRhZ05hbWUuQ0FOVkFTKTtcbn07XG5nb29nLmFzc2VydHMuZG9tLmFzc2VydElzSHRtbEVtYmVkRWxlbWVudCA9IG1vZHVsZSRjb250ZW50cyRnb29nJGFzc2VydHMkZG9tX2Fzc2VydElzSHRtbEVtYmVkRWxlbWVudDtcbmdvb2cuYXNzZXJ0cy5kb20uYXNzZXJ0SXNIdG1sRm9ybUVsZW1lbnQgPSBtb2R1bGUkY29udGVudHMkZ29vZyRhc3NlcnRzJGRvbV9hc3NlcnRJc0h0bWxGb3JtRWxlbWVudDtcbmdvb2cuYXNzZXJ0cy5kb20uYXNzZXJ0SXNIdG1sRnJhbWVFbGVtZW50ID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXNzZXJ0cyRkb21fYXNzZXJ0SXNIdG1sRnJhbWVFbGVtZW50O1xuZ29vZy5hc3NlcnRzLmRvbS5hc3NlcnRJc0h0bWxJRnJhbWVFbGVtZW50ID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXNzZXJ0cyRkb21fYXNzZXJ0SXNIdG1sSUZyYW1lRWxlbWVudDtcbmdvb2cuYXNzZXJ0cy5kb20uYXNzZXJ0SXNIdG1sT2JqZWN0RWxlbWVudCA9IG1vZHVsZSRjb250ZW50cyRnb29nJGFzc2VydHMkZG9tX2Fzc2VydElzSHRtbE9iamVjdEVsZW1lbnQ7XG5nb29nLmFzc2VydHMuZG9tLmFzc2VydElzSHRtbFNjcmlwdEVsZW1lbnQgPSBtb2R1bGUkY29udGVudHMkZ29vZyRhc3NlcnRzJGRvbV9hc3NlcnRJc0h0bWxTY3JpcHRFbGVtZW50O1xuZ29vZy5kb20uYXNzZXJ0cyA9IHt9O1xuZ29vZy5kb20uYXNzZXJ0cy5hc3NlcnRJc0xvY2F0aW9uID0gZnVuY3Rpb24obykge1xuICBpZiAoZ29vZy5hc3NlcnRzLkVOQUJMRV9BU1NFUlRTKSB7XG4gICAgdmFyIHdpbiA9IGdvb2cuZG9tLmFzc2VydHMuZ2V0V2luZG93XyhvKTtcbiAgICB3aW4gJiYgKCFvIHx8ICEobyBpbnN0YW5jZW9mIHdpbi5Mb2NhdGlvbikgJiYgbyBpbnN0YW5jZW9mIHdpbi5FbGVtZW50KSAmJiBnb29nLmFzc2VydHMuZmFpbChcIkFyZ3VtZW50IGlzIG5vdCBhIExvY2F0aW9uIChvciBhIG5vbi1FbGVtZW50IG1vY2spOyBnb3Q6ICVzXCIsIGdvb2cuZG9tLmFzc2VydHMuZGVidWdTdHJpbmdGb3JUeXBlXyhvKSk7XG4gIH1cbiAgcmV0dXJuIG87XG59O1xuZ29vZy5kb20uYXNzZXJ0cy5kZWJ1Z1N0cmluZ0ZvclR5cGVfID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgaWYgKGdvb2cuaXNPYmplY3QodmFsdWUpKSB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiB2YWx1ZS5jb25zdHJ1Y3Rvci5kaXNwbGF5TmFtZSB8fCB2YWx1ZS5jb25zdHJ1Y3Rvci5uYW1lIHx8IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgcmV0dXJuIFwiPG9iamVjdCBjb3VsZCBub3QgYmUgc3RyaW5naWZpZWQ+XCI7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHJldHVybiB2b2lkIDAgPT09IHZhbHVlID8gXCJ1bmRlZmluZWRcIiA6IG51bGwgPT09IHZhbHVlID8gXCJudWxsXCIgOiB0eXBlb2YgdmFsdWU7XG4gIH1cbn07XG5nb29nLmRvbS5hc3NlcnRzLmdldFdpbmRvd18gPSBmdW5jdGlvbihvKSB7XG4gIHRyeSB7XG4gICAgdmFyIGRvYyA9IG8gJiYgby5vd25lckRvY3VtZW50LCB3aW4gPSBkb2MgJiYgKGRvYy5kZWZhdWx0VmlldyB8fCBkb2MucGFyZW50V2luZG93KTtcbiAgICB3aW4gPSB3aW4gfHwgZ29vZy5nbG9iYWw7XG4gICAgaWYgKHdpbi5FbGVtZW50ICYmIHdpbi5Mb2NhdGlvbikge1xuICAgICAgcmV0dXJuIHdpbjtcbiAgICB9XG4gIH0gY2F0Y2ggKGV4KSB7XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59O1xuZ29vZy5kb20udGFncyA9IHt9O1xuZ29vZy5kb20udGFncy5WT0lEX1RBR1NfID0ge2FyZWE6ITAsIGJhc2U6ITAsIGJyOiEwLCBjb2w6ITAsIGNvbW1hbmQ6ITAsIGVtYmVkOiEwLCBocjohMCwgaW1nOiEwLCBpbnB1dDohMCwga2V5Z2VuOiEwLCBsaW5rOiEwLCBtZXRhOiEwLCBwYXJhbTohMCwgc291cmNlOiEwLCB0cmFjazohMCwgd2JyOiEwfTtcbmdvb2cuZG9tLnRhZ3MuaXNWb2lkVGFnID0gZnVuY3Rpb24odGFnTmFtZSkge1xuICByZXR1cm4gITAgPT09IGdvb2cuZG9tLnRhZ3MuVk9JRF9UQUdTX1t0YWdOYW1lXTtcbn07XG5nb29nLmh0bWwgPSB7fTtcbmdvb2cuaHRtbC50cnVzdGVkdHlwZXMgPSB7fTtcbmdvb2cuaHRtbC50cnVzdGVkdHlwZXMuUE9MSUNZX05BTUUgPSBnb29nLlRSVVNURURfVFlQRVNfUE9MSUNZX05BTUUgPyBnb29nLlRSVVNURURfVFlQRVNfUE9MSUNZX05BTUUgKyBcIiNodG1sXCIgOiBcIlwiO1xuZ29vZy5odG1sLnRydXN0ZWR0eXBlcy5nZXRQb2xpY3lQcml2YXRlRG9Ob3RBY2Nlc3NPckVsc2UgPSBmdW5jdGlvbigpIHtcbiAgaWYgKCFnb29nLmh0bWwudHJ1c3RlZHR5cGVzLlBPTElDWV9OQU1FKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgdm9pZCAwID09PSBnb29nLmh0bWwudHJ1c3RlZHR5cGVzLmNhY2hlZFBvbGljeV8gJiYgKGdvb2cuaHRtbC50cnVzdGVkdHlwZXMuY2FjaGVkUG9saWN5XyA9IGdvb2cuY3JlYXRlVHJ1c3RlZFR5cGVzUG9saWN5KGdvb2cuaHRtbC50cnVzdGVkdHlwZXMuUE9MSUNZX05BTUUpKTtcbiAgcmV0dXJuIGdvb2cuaHRtbC50cnVzdGVkdHlwZXMuY2FjaGVkUG9saWN5Xztcbn07XG5nb29nLnN0cmluZy5UeXBlZFN0cmluZyA9IGZ1bmN0aW9uKCkge1xufTtcbmdvb2cuc3RyaW5nLkNvbnN0ID0gZnVuY3Rpb24ob3B0X3Rva2VuLCBvcHRfY29udGVudCkge1xuICB0aGlzLnN0cmluZ0NvbnN0VmFsdWVXaXRoU2VjdXJpdHlDb250cmFjdF9fZ29vZ1N0cmluZ1NlY3VyaXR5UHJpdmF0ZV8gPSBvcHRfdG9rZW4gPT09IGdvb2cuc3RyaW5nLkNvbnN0LkdPT0dfU1RSSU5HX0NPTlNUUlVDVE9SX1RPS0VOX1BSSVZBVEVfICYmIG9wdF9jb250ZW50IHx8IFwiXCI7XG4gIHRoaXMuU1RSSU5HX0NPTlNUX1RZUEVfTUFSS0VSX19HT09HX1NUUklOR19TRUNVUklUWV9QUklWQVRFXyA9IGdvb2cuc3RyaW5nLkNvbnN0LlRZUEVfTUFSS0VSXztcbn07XG5nb29nLnN0cmluZy5Db25zdC5wcm90b3R5cGUuaW1wbGVtZW50c0dvb2dTdHJpbmdUeXBlZFN0cmluZyA9ICEwO1xuZ29vZy5zdHJpbmcuQ29uc3QucHJvdG90eXBlLmdldFR5cGVkU3RyaW5nVmFsdWUgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuc3RyaW5nQ29uc3RWYWx1ZVdpdGhTZWN1cml0eUNvbnRyYWN0X19nb29nU3RyaW5nU2VjdXJpdHlQcml2YXRlXztcbn07XG5nb29nLkRFQlVHICYmIChnb29nLnN0cmluZy5Db25zdC5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIFwiQ29uc3R7XCIgKyB0aGlzLnN0cmluZ0NvbnN0VmFsdWVXaXRoU2VjdXJpdHlDb250cmFjdF9fZ29vZ1N0cmluZ1NlY3VyaXR5UHJpdmF0ZV8gKyBcIn1cIjtcbn0pO1xuZ29vZy5zdHJpbmcuQ29uc3QudW53cmFwID0gZnVuY3Rpb24oc3RyaW5nQ29uc3QpIHtcbiAgaWYgKHN0cmluZ0NvbnN0IGluc3RhbmNlb2YgZ29vZy5zdHJpbmcuQ29uc3QgJiYgc3RyaW5nQ29uc3QuY29uc3RydWN0b3IgPT09IGdvb2cuc3RyaW5nLkNvbnN0ICYmIHN0cmluZ0NvbnN0LlNUUklOR19DT05TVF9UWVBFX01BUktFUl9fR09PR19TVFJJTkdfU0VDVVJJVFlfUFJJVkFURV8gPT09IGdvb2cuc3RyaW5nLkNvbnN0LlRZUEVfTUFSS0VSXykge1xuICAgIHJldHVybiBzdHJpbmdDb25zdC5zdHJpbmdDb25zdFZhbHVlV2l0aFNlY3VyaXR5Q29udHJhY3RfX2dvb2dTdHJpbmdTZWN1cml0eVByaXZhdGVfO1xuICB9XG4gIGdvb2cuYXNzZXJ0cy5mYWlsKFwiZXhwZWN0ZWQgb2JqZWN0IG9mIHR5cGUgQ29uc3QsIGdvdCAnXCIgKyBzdHJpbmdDb25zdCArIFwiJ1wiKTtcbiAgcmV0dXJuIFwidHlwZV9lcnJvcjpDb25zdFwiO1xufTtcbmdvb2cuc3RyaW5nLkNvbnN0LmZyb20gPSBmdW5jdGlvbihzKSB7XG4gIHJldHVybiBuZXcgZ29vZy5zdHJpbmcuQ29uc3QoZ29vZy5zdHJpbmcuQ29uc3QuR09PR19TVFJJTkdfQ09OU1RSVUNUT1JfVE9LRU5fUFJJVkFURV8sIHMpO1xufTtcbmdvb2cuc3RyaW5nLkNvbnN0LlRZUEVfTUFSS0VSXyA9IHt9O1xuZ29vZy5zdHJpbmcuQ29uc3QuR09PR19TVFJJTkdfQ09OU1RSVUNUT1JfVE9LRU5fUFJJVkFURV8gPSB7fTtcbmdvb2cuc3RyaW5nLkNvbnN0LkVNUFRZID0gZ29vZy5zdHJpbmcuQ29uc3QuZnJvbShcIlwiKTtcbnZhciBtb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVTY3JpcHRfQ09OU1RSVUNUT1JfVE9LRU5fUFJJVkFURSA9IHt9LCBtb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVTY3JpcHRfU2FmZVNjcmlwdCA9IGZ1bmN0aW9uKHZhbHVlLCB0b2tlbikge1xuICB0aGlzLnByaXZhdGVEb05vdEFjY2Vzc09yRWxzZVNhZmVTY3JpcHRXcmFwcGVkVmFsdWVfID0gdG9rZW4gPT09IG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZVNjcmlwdF9DT05TVFJVQ1RPUl9UT0tFTl9QUklWQVRFID8gdmFsdWUgOiBcIlwiO1xuICB0aGlzLmltcGxlbWVudHNHb29nU3RyaW5nVHlwZWRTdHJpbmcgPSAhMDtcbn07XG5tb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVTY3JpcHRfU2FmZVNjcmlwdC5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMucHJpdmF0ZURvTm90QWNjZXNzT3JFbHNlU2FmZVNjcmlwdFdyYXBwZWRWYWx1ZV8udG9TdHJpbmcoKTtcbn07XG5tb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVTY3JpcHRfU2FmZVNjcmlwdC5mcm9tQ29uc3RhbnQgPSBmdW5jdGlvbihzY3JpcHQpIHtcbiAgdmFyIHNjcmlwdFN0cmluZyA9IGdvb2cuc3RyaW5nLkNvbnN0LnVud3JhcChzY3JpcHQpO1xuICByZXR1cm4gMCA9PT0gc2NyaXB0U3RyaW5nLmxlbmd0aCA/IG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZVNjcmlwdF9TYWZlU2NyaXB0LkVNUFRZIDogbW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlU2NyaXB0X1NhZmVTY3JpcHQuY3JlYXRlU2FmZVNjcmlwdFNlY3VyaXR5UHJpdmF0ZURvTm90QWNjZXNzT3JFbHNlKHNjcmlwdFN0cmluZyk7XG59O1xubW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlU2NyaXB0X1NhZmVTY3JpcHQuZnJvbUpzb24gPSBmdW5jdGlvbih2YWwpIHtcbiAgcmV0dXJuIG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZVNjcmlwdF9TYWZlU2NyaXB0LmNyZWF0ZVNhZmVTY3JpcHRTZWN1cml0eVByaXZhdGVEb05vdEFjY2Vzc09yRWxzZShtb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVTY3JpcHRfU2FmZVNjcmlwdC5zdHJpbmdpZnlfKHZhbCkpO1xufTtcbm1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZVNjcmlwdF9TYWZlU2NyaXB0LnByb3RvdHlwZS5nZXRUeXBlZFN0cmluZ1ZhbHVlID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLnByaXZhdGVEb05vdEFjY2Vzc09yRWxzZVNhZmVTY3JpcHRXcmFwcGVkVmFsdWVfLnRvU3RyaW5nKCk7XG59O1xubW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlU2NyaXB0X1NhZmVTY3JpcHQudW53cmFwID0gZnVuY3Rpb24oc2FmZVNjcmlwdCkge1xuICByZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlU2NyaXB0X1NhZmVTY3JpcHQudW53cmFwVHJ1c3RlZFNjcmlwdChzYWZlU2NyaXB0KS50b1N0cmluZygpO1xufTtcbm1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZVNjcmlwdF9TYWZlU2NyaXB0LnVud3JhcFRydXN0ZWRTY3JpcHQgPSBmdW5jdGlvbihzYWZlU2NyaXB0KSB7XG4gIGlmIChzYWZlU2NyaXB0IGluc3RhbmNlb2YgbW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlU2NyaXB0X1NhZmVTY3JpcHQgJiYgc2FmZVNjcmlwdC5jb25zdHJ1Y3RvciA9PT0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlU2NyaXB0X1NhZmVTY3JpcHQpIHtcbiAgICByZXR1cm4gc2FmZVNjcmlwdC5wcml2YXRlRG9Ob3RBY2Nlc3NPckVsc2VTYWZlU2NyaXB0V3JhcHBlZFZhbHVlXztcbiAgfVxuICAoMCxnb29nLmFzc2VydHMuZmFpbCkoXCJleHBlY3RlZCBvYmplY3Qgb2YgdHlwZSBTYWZlU2NyaXB0LCBnb3QgJ1wiICsgc2FmZVNjcmlwdCArIFwiJyBvZiB0eXBlIFwiICsgZ29vZy50eXBlT2Yoc2FmZVNjcmlwdCkpO1xuICByZXR1cm4gXCJ0eXBlX2Vycm9yOlNhZmVTY3JpcHRcIjtcbn07XG5tb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVTY3JpcHRfU2FmZVNjcmlwdC5zdHJpbmdpZnlfID0gZnVuY3Rpb24odmFsKSB7XG4gIHJldHVybiBKU09OLnN0cmluZ2lmeSh2YWwpLnJlcGxhY2UoLzwvZywgXCJcXFxceDNjXCIpO1xufTtcbm1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZVNjcmlwdF9TYWZlU2NyaXB0LmNyZWF0ZVNhZmVTY3JpcHRTZWN1cml0eVByaXZhdGVEb05vdEFjY2Vzc09yRWxzZSA9IGZ1bmN0aW9uKHNjcmlwdCkge1xuICB2YXIgbm9pbmxpbmVTY3JpcHQgPSBzY3JpcHQsIHBvbGljeSA9IGdvb2cuaHRtbC50cnVzdGVkdHlwZXMuZ2V0UG9saWN5UHJpdmF0ZURvTm90QWNjZXNzT3JFbHNlKCksIHRydXN0ZWRTY3JpcHQgPSBwb2xpY3kgPyBwb2xpY3kuY3JlYXRlU2NyaXB0KG5vaW5saW5lU2NyaXB0KSA6IG5vaW5saW5lU2NyaXB0O1xuICByZXR1cm4gbmV3IG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZVNjcmlwdF9TYWZlU2NyaXB0KHRydXN0ZWRTY3JpcHQsIG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZVNjcmlwdF9DT05TVFJVQ1RPUl9UT0tFTl9QUklWQVRFKTtcbn07XG5tb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVTY3JpcHRfU2FmZVNjcmlwdC5FTVBUWSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlU2NyaXB0X1NhZmVTY3JpcHQuY3JlYXRlU2FmZVNjcmlwdFNlY3VyaXR5UHJpdmF0ZURvTm90QWNjZXNzT3JFbHNlKFwiXCIpO1xufSgpO1xuZ29vZy5odG1sLlNhZmVTY3JpcHQgPSBtb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVTY3JpcHRfU2FmZVNjcmlwdDtcbmdvb2cuZnMgPSB7fTtcbmdvb2cuZnMudXJsID0ge307XG5nb29nLmZzLnVybC5jcmVhdGVPYmplY3RVcmwgPSBmdW5jdGlvbihvYmopIHtcbiAgcmV0dXJuIGdvb2cuZnMudXJsLmdldFVybE9iamVjdF8oKS5jcmVhdGVPYmplY3RVUkwob2JqKTtcbn07XG5nb29nLmZzLnVybC5yZXZva2VPYmplY3RVcmwgPSBmdW5jdGlvbih1cmwpIHtcbiAgZ29vZy5mcy51cmwuZ2V0VXJsT2JqZWN0XygpLnJldm9rZU9iamVjdFVSTCh1cmwpO1xufTtcbmdvb2cuZnMudXJsLlVybE9iamVjdF8gPSBmdW5jdGlvbigpIHtcbn07XG5nb29nLmZzLnVybC5VcmxPYmplY3RfLnByb3RvdHlwZS5jcmVhdGVPYmplY3RVUkwgPSBmdW5jdGlvbihhcmcpIHtcbn07XG5nb29nLmZzLnVybC5VcmxPYmplY3RfLnByb3RvdHlwZS5yZXZva2VPYmplY3RVUkwgPSBmdW5jdGlvbihzKSB7XG59O1xuZ29vZy5mcy51cmwuZ2V0VXJsT2JqZWN0XyA9IGZ1bmN0aW9uKCkge1xuICB2YXIgdXJsT2JqZWN0ID0gZ29vZy5mcy51cmwuZmluZFVybE9iamVjdF8oKTtcbiAgaWYgKG51bGwgIT0gdXJsT2JqZWN0KSB7XG4gICAgcmV0dXJuIHVybE9iamVjdDtcbiAgfVxuICB0aHJvdyBFcnJvcihcIlRoaXMgYnJvd3NlciBkb2Vzbid0IHNlZW0gdG8gc3VwcG9ydCBibG9iIFVSTHNcIik7XG59O1xuZ29vZy5mcy51cmwuZmluZFVybE9iamVjdF8gPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHZvaWQgMCAhPT0gZ29vZy5nbG9iYWwuVVJMICYmIHZvaWQgMCAhPT0gZ29vZy5nbG9iYWwuVVJMLmNyZWF0ZU9iamVjdFVSTCA/IGdvb2cuZ2xvYmFsLlVSTCA6IHZvaWQgMCAhPT0gZ29vZy5nbG9iYWwuY3JlYXRlT2JqZWN0VVJMID8gZ29vZy5nbG9iYWwgOiBudWxsO1xufTtcbmdvb2cuZnMudXJsLmJyb3dzZXJTdXBwb3J0c09iamVjdFVybHMgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG51bGwgIT0gZ29vZy5mcy51cmwuZmluZFVybE9iamVjdF8oKTtcbn07XG5nb29nLmZzLmJsb2IgPSB7fTtcbmdvb2cuZnMuYmxvYi5nZXRCbG9iID0gZnVuY3Rpb24odmFyX2FyZ3MpIHtcbiAgdmFyIEJsb2JCdWlsZGVyID0gZ29vZy5nbG9iYWwuQmxvYkJ1aWxkZXIgfHwgZ29vZy5nbG9iYWwuV2ViS2l0QmxvYkJ1aWxkZXI7XG4gIGlmICh2b2lkIDAgIT09IEJsb2JCdWlsZGVyKSB7XG4gICAgZm9yICh2YXIgYmIgPSBuZXcgQmxvYkJ1aWxkZXIoKSwgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGJiLmFwcGVuZChhcmd1bWVudHNbaV0pO1xuICAgIH1cbiAgICByZXR1cm4gYmIuZ2V0QmxvYigpO1xuICB9XG4gIHJldHVybiBnb29nLmZzLmJsb2IuZ2V0QmxvYldpdGhQcm9wZXJ0aWVzKEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cykpO1xufTtcbmdvb2cuZnMuYmxvYi5nZXRCbG9iV2l0aFByb3BlcnRpZXMgPSBmdW5jdGlvbihwYXJ0cywgb3B0X3R5cGUsIG9wdF9lbmRpbmdzKSB7XG4gIHZhciBCbG9iQnVpbGRlciA9IGdvb2cuZ2xvYmFsLkJsb2JCdWlsZGVyIHx8IGdvb2cuZ2xvYmFsLldlYktpdEJsb2JCdWlsZGVyO1xuICBpZiAodm9pZCAwICE9PSBCbG9iQnVpbGRlcikge1xuICAgIGZvciAodmFyIGJiID0gbmV3IEJsb2JCdWlsZGVyKCksIGkgPSAwOyBpIDwgcGFydHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGJiLmFwcGVuZChwYXJ0c1tpXSwgb3B0X2VuZGluZ3MpO1xuICAgIH1cbiAgICByZXR1cm4gYmIuZ2V0QmxvYihvcHRfdHlwZSk7XG4gIH1cbiAgaWYgKHZvaWQgMCAhPT0gZ29vZy5nbG9iYWwuQmxvYikge1xuICAgIHZhciBwcm9wZXJ0aWVzID0ge307XG4gICAgb3B0X3R5cGUgJiYgKHByb3BlcnRpZXMudHlwZSA9IG9wdF90eXBlKTtcbiAgICBvcHRfZW5kaW5ncyAmJiAocHJvcGVydGllcy5lbmRpbmdzID0gb3B0X2VuZGluZ3MpO1xuICAgIHJldHVybiBuZXcgQmxvYihwYXJ0cywgcHJvcGVydGllcyk7XG4gIH1cbiAgdGhyb3cgRXJyb3IoXCJUaGlzIGJyb3dzZXIgZG9lc24ndCBzZWVtIHRvIHN1cHBvcnQgY3JlYXRpbmcgQmxvYnNcIik7XG59O1xuZ29vZy5odG1sLlRydXN0ZWRSZXNvdXJjZVVybCA9IGZ1bmN0aW9uKHZhbHVlLCB0b2tlbikge1xuICB0aGlzLnByaXZhdGVEb05vdEFjY2Vzc09yRWxzZVRydXN0ZWRSZXNvdXJjZVVybFdyYXBwZWRWYWx1ZV8gPSB0b2tlbiA9PT0gZ29vZy5odG1sLlRydXN0ZWRSZXNvdXJjZVVybC5DT05TVFJVQ1RPUl9UT0tFTl9QUklWQVRFXyA/IHZhbHVlIDogXCJcIjtcbn07XG5nb29nLmh0bWwuVHJ1c3RlZFJlc291cmNlVXJsLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5wcml2YXRlRG9Ob3RBY2Nlc3NPckVsc2VUcnVzdGVkUmVzb3VyY2VVcmxXcmFwcGVkVmFsdWVfICsgXCJcIjtcbn07XG5nb29nLmh0bWwuVHJ1c3RlZFJlc291cmNlVXJsLnByb3RvdHlwZS5pbXBsZW1lbnRzR29vZ1N0cmluZ1R5cGVkU3RyaW5nID0gITA7XG5nb29nLmh0bWwuVHJ1c3RlZFJlc291cmNlVXJsLnByb3RvdHlwZS5nZXRUeXBlZFN0cmluZ1ZhbHVlID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLnByaXZhdGVEb05vdEFjY2Vzc09yRWxzZVRydXN0ZWRSZXNvdXJjZVVybFdyYXBwZWRWYWx1ZV8udG9TdHJpbmcoKTtcbn07XG5nb29nLmh0bWwuVHJ1c3RlZFJlc291cmNlVXJsLnByb3RvdHlwZS5jbG9uZVdpdGhQYXJhbXMgPSBmdW5jdGlvbihzZWFyY2hQYXJhbXMsIG9wdF9oYXNoUGFyYW1zKSB7XG4gIHZhciB1cmwgPSBnb29nLmh0bWwuVHJ1c3RlZFJlc291cmNlVXJsLnVud3JhcCh0aGlzKSwgcGFydHMgPSBnb29nLmh0bWwuVHJ1c3RlZFJlc291cmNlVXJsLlVSTF9QQVJBTV9QQVJTRVJfLmV4ZWModXJsKSwgdXJsSGFzaCA9IHBhcnRzWzNdIHx8IFwiXCI7XG4gIHJldHVybiBnb29nLmh0bWwuVHJ1c3RlZFJlc291cmNlVXJsLmNyZWF0ZVRydXN0ZWRSZXNvdXJjZVVybFNlY3VyaXR5UHJpdmF0ZURvTm90QWNjZXNzT3JFbHNlKHBhcnRzWzFdICsgZ29vZy5odG1sLlRydXN0ZWRSZXNvdXJjZVVybC5zdHJpbmdpZnlQYXJhbXNfKFwiP1wiLCBwYXJ0c1syXSB8fCBcIlwiLCBzZWFyY2hQYXJhbXMpICsgZ29vZy5odG1sLlRydXN0ZWRSZXNvdXJjZVVybC5zdHJpbmdpZnlQYXJhbXNfKFwiI1wiLCB1cmxIYXNoLCBvcHRfaGFzaFBhcmFtcykpO1xufTtcbmdvb2cuaHRtbC5UcnVzdGVkUmVzb3VyY2VVcmwudW53cmFwID0gZnVuY3Rpb24odHJ1c3RlZFJlc291cmNlVXJsKSB7XG4gIHJldHVybiBnb29nLmh0bWwuVHJ1c3RlZFJlc291cmNlVXJsLnVud3JhcFRydXN0ZWRTY3JpcHRVUkwodHJ1c3RlZFJlc291cmNlVXJsKS50b1N0cmluZygpO1xufTtcbmdvb2cuaHRtbC5UcnVzdGVkUmVzb3VyY2VVcmwudW53cmFwVHJ1c3RlZFNjcmlwdFVSTCA9IGZ1bmN0aW9uKHRydXN0ZWRSZXNvdXJjZVVybCkge1xuICBpZiAodHJ1c3RlZFJlc291cmNlVXJsIGluc3RhbmNlb2YgZ29vZy5odG1sLlRydXN0ZWRSZXNvdXJjZVVybCAmJiB0cnVzdGVkUmVzb3VyY2VVcmwuY29uc3RydWN0b3IgPT09IGdvb2cuaHRtbC5UcnVzdGVkUmVzb3VyY2VVcmwpIHtcbiAgICByZXR1cm4gdHJ1c3RlZFJlc291cmNlVXJsLnByaXZhdGVEb05vdEFjY2Vzc09yRWxzZVRydXN0ZWRSZXNvdXJjZVVybFdyYXBwZWRWYWx1ZV87XG4gIH1cbiAgZ29vZy5hc3NlcnRzLmZhaWwoXCJleHBlY3RlZCBvYmplY3Qgb2YgdHlwZSBUcnVzdGVkUmVzb3VyY2VVcmwsIGdvdCAnXCIgKyB0cnVzdGVkUmVzb3VyY2VVcmwgKyBcIicgb2YgdHlwZSBcIiArIGdvb2cudHlwZU9mKHRydXN0ZWRSZXNvdXJjZVVybCkpO1xuICByZXR1cm4gXCJ0eXBlX2Vycm9yOlRydXN0ZWRSZXNvdXJjZVVybFwiO1xufTtcbmdvb2cuaHRtbC5UcnVzdGVkUmVzb3VyY2VVcmwuZm9ybWF0ID0gZnVuY3Rpb24oZm9ybWF0LCBhcmdzKSB7XG4gIHZhciBmb3JtYXRTdHIgPSBnb29nLnN0cmluZy5Db25zdC51bndyYXAoZm9ybWF0KTtcbiAgaWYgKCFnb29nLmh0bWwuVHJ1c3RlZFJlc291cmNlVXJsLkJBU0VfVVJMXy50ZXN0KGZvcm1hdFN0cikpIHtcbiAgICB0aHJvdyBFcnJvcihcIkludmFsaWQgVHJ1c3RlZFJlc291cmNlVXJsIGZvcm1hdDogXCIgKyBmb3JtYXRTdHIpO1xuICB9XG4gIHZhciByZXN1bHQgPSBmb3JtYXRTdHIucmVwbGFjZShnb29nLmh0bWwuVHJ1c3RlZFJlc291cmNlVXJsLkZPUk1BVF9NQVJLRVJfLCBmdW5jdGlvbihtYXRjaCwgaWQpIHtcbiAgICBpZiAoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChhcmdzLCBpZCkpIHtcbiAgICAgIHRocm93IEVycm9yKCdGb3VuZCBtYXJrZXIsIFwiJyArIGlkICsgJ1wiLCBpbiBmb3JtYXQgc3RyaW5nLCBcIicgKyBmb3JtYXRTdHIgKyAnXCIsIGJ1dCBubyB2YWxpZCBsYWJlbCBtYXBwaW5nIGZvdW5kIGluIGFyZ3M6ICcgKyBKU09OLnN0cmluZ2lmeShhcmdzKSk7XG4gICAgfVxuICAgIHZhciBhcmcgPSBhcmdzW2lkXTtcbiAgICByZXR1cm4gYXJnIGluc3RhbmNlb2YgZ29vZy5zdHJpbmcuQ29uc3QgPyBnb29nLnN0cmluZy5Db25zdC51bndyYXAoYXJnKSA6IGVuY29kZVVSSUNvbXBvbmVudChTdHJpbmcoYXJnKSk7XG4gIH0pO1xuICByZXR1cm4gZ29vZy5odG1sLlRydXN0ZWRSZXNvdXJjZVVybC5jcmVhdGVUcnVzdGVkUmVzb3VyY2VVcmxTZWN1cml0eVByaXZhdGVEb05vdEFjY2Vzc09yRWxzZShyZXN1bHQpO1xufTtcbmdvb2cuaHRtbC5UcnVzdGVkUmVzb3VyY2VVcmwuRk9STUFUX01BUktFUl8gPSAvJXsoXFx3Kyl9L2c7XG5nb29nLmh0bWwuVHJ1c3RlZFJlc291cmNlVXJsLkJBU0VfVVJMXyA9IFJlZ0V4cChcIl4oKGh0dHBzOik/Ly9bMC05YS16LjpbXFxcXF0tXSsvfC9bXi9cXFxcXFxcXF18W146L1xcXFxcXFxcJV0rL3xbXjovXFxcXFxcXFwlXSpbPyNdfGFib3V0OmJsYW5rIylcIiwgXCJpXCIpO1xuZ29vZy5odG1sLlRydXN0ZWRSZXNvdXJjZVVybC5VUkxfUEFSQU1fUEFSU0VSXyA9IC9eKFtePyNdKikoXFw/W14jXSopPygjW1xcc1xcU10qKT8vO1xuZ29vZy5odG1sLlRydXN0ZWRSZXNvdXJjZVVybC5mb3JtYXRXaXRoUGFyYW1zID0gZnVuY3Rpb24oZm9ybWF0LCBhcmdzLCBzZWFyY2hQYXJhbXMsIG9wdF9oYXNoUGFyYW1zKSB7XG4gIHJldHVybiBnb29nLmh0bWwuVHJ1c3RlZFJlc291cmNlVXJsLmZvcm1hdChmb3JtYXQsIGFyZ3MpLmNsb25lV2l0aFBhcmFtcyhzZWFyY2hQYXJhbXMsIG9wdF9oYXNoUGFyYW1zKTtcbn07XG5nb29nLmh0bWwuVHJ1c3RlZFJlc291cmNlVXJsLmZyb21Db25zdGFudCA9IGZ1bmN0aW9uKHVybCkge1xuICByZXR1cm4gZ29vZy5odG1sLlRydXN0ZWRSZXNvdXJjZVVybC5jcmVhdGVUcnVzdGVkUmVzb3VyY2VVcmxTZWN1cml0eVByaXZhdGVEb05vdEFjY2Vzc09yRWxzZShnb29nLnN0cmluZy5Db25zdC51bndyYXAodXJsKSk7XG59O1xuZ29vZy5odG1sLlRydXN0ZWRSZXNvdXJjZVVybC5mcm9tQ29uc3RhbnRzID0gZnVuY3Rpb24ocGFydHMpIHtcbiAgZm9yICh2YXIgdW53cmFwcGVkID0gXCJcIiwgaSA9IDA7IGkgPCBwYXJ0cy5sZW5ndGg7IGkrKykge1xuICAgIHVud3JhcHBlZCArPSBnb29nLnN0cmluZy5Db25zdC51bndyYXAocGFydHNbaV0pO1xuICB9XG4gIHJldHVybiBnb29nLmh0bWwuVHJ1c3RlZFJlc291cmNlVXJsLmNyZWF0ZVRydXN0ZWRSZXNvdXJjZVVybFNlY3VyaXR5UHJpdmF0ZURvTm90QWNjZXNzT3JFbHNlKHVud3JhcHBlZCk7XG59O1xuZ29vZy5odG1sLlRydXN0ZWRSZXNvdXJjZVVybC5mcm9tU2FmZVNjcmlwdCA9IGZ1bmN0aW9uKHNhZmVTY3JpcHQpIHtcbiAgdmFyIGJsb2IgPSBnb29nLmZzLmJsb2IuZ2V0QmxvYldpdGhQcm9wZXJ0aWVzKFttb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVTY3JpcHRfU2FmZVNjcmlwdC51bndyYXAoc2FmZVNjcmlwdCldLCBcInRleHQvamF2YXNjcmlwdFwiKSwgdXJsID0gZ29vZy5mcy51cmwuY3JlYXRlT2JqZWN0VXJsKGJsb2IpO1xuICByZXR1cm4gZ29vZy5odG1sLlRydXN0ZWRSZXNvdXJjZVVybC5jcmVhdGVUcnVzdGVkUmVzb3VyY2VVcmxTZWN1cml0eVByaXZhdGVEb05vdEFjY2Vzc09yRWxzZSh1cmwpO1xufTtcbmdvb2cuaHRtbC5UcnVzdGVkUmVzb3VyY2VVcmwuQ09OU1RSVUNUT1JfVE9LRU5fUFJJVkFURV8gPSB7fTtcbmdvb2cuaHRtbC5UcnVzdGVkUmVzb3VyY2VVcmwuY3JlYXRlVHJ1c3RlZFJlc291cmNlVXJsU2VjdXJpdHlQcml2YXRlRG9Ob3RBY2Nlc3NPckVsc2UgPSBmdW5jdGlvbih1cmwpIHtcbiAgdmFyIG5vaW5saW5lVXJsID0gdXJsLCBwb2xpY3kgPSBnb29nLmh0bWwudHJ1c3RlZHR5cGVzLmdldFBvbGljeVByaXZhdGVEb05vdEFjY2Vzc09yRWxzZSgpLCB2YWx1ZSA9IHBvbGljeSA/IHBvbGljeS5jcmVhdGVTY3JpcHRVUkwobm9pbmxpbmVVcmwpIDogbm9pbmxpbmVVcmw7XG4gIHJldHVybiBuZXcgZ29vZy5odG1sLlRydXN0ZWRSZXNvdXJjZVVybCh2YWx1ZSwgZ29vZy5odG1sLlRydXN0ZWRSZXNvdXJjZVVybC5DT05TVFJVQ1RPUl9UT0tFTl9QUklWQVRFXyk7XG59O1xuZ29vZy5odG1sLlRydXN0ZWRSZXNvdXJjZVVybC5zdHJpbmdpZnlQYXJhbXNfID0gZnVuY3Rpb24ocHJlZml4LCBjdXJyZW50U3RyaW5nLCBwYXJhbXMpIHtcbiAgaWYgKG51bGwgPT0gcGFyYW1zKSB7XG4gICAgcmV0dXJuIGN1cnJlbnRTdHJpbmc7XG4gIH1cbiAgaWYgKFwic3RyaW5nXCIgPT09IHR5cGVvZiBwYXJhbXMpIHtcbiAgICByZXR1cm4gcGFyYW1zID8gcHJlZml4ICsgZW5jb2RlVVJJQ29tcG9uZW50KHBhcmFtcykgOiBcIlwiO1xuICB9XG4gIGZvciAodmFyIGtleSBpbiBwYXJhbXMpIHtcbiAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHBhcmFtcywga2V5KSkge1xuICAgICAgZm9yICh2YXIgdmFsdWUgPSBwYXJhbXNba2V5XSwgb3V0cHV0VmFsdWVzID0gQXJyYXkuaXNBcnJheSh2YWx1ZSkgPyB2YWx1ZSA6IFt2YWx1ZV0sIGkgPSAwOyBpIDwgb3V0cHV0VmFsdWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBvdXRwdXRWYWx1ZSA9IG91dHB1dFZhbHVlc1tpXTtcbiAgICAgICAgbnVsbCAhPSBvdXRwdXRWYWx1ZSAmJiAoY3VycmVudFN0cmluZyB8fCAoY3VycmVudFN0cmluZyA9IHByZWZpeCksIGN1cnJlbnRTdHJpbmcgKz0gKGN1cnJlbnRTdHJpbmcubGVuZ3RoID4gcHJlZml4Lmxlbmd0aCA/IFwiJlwiIDogXCJcIikgKyBlbmNvZGVVUklDb21wb25lbnQoa2V5KSArIFwiPVwiICsgZW5jb2RlVVJJQ29tcG9uZW50KFN0cmluZyhvdXRwdXRWYWx1ZSkpKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIGN1cnJlbnRTdHJpbmc7XG59O1xuZ29vZy5odG1sLlNhZmVVcmwgPSBmdW5jdGlvbih2YWx1ZSwgdG9rZW4pIHtcbiAgdGhpcy5wcml2YXRlRG9Ob3RBY2Nlc3NPckVsc2VTYWZlVXJsV3JhcHBlZFZhbHVlXyA9IHRva2VuID09PSBnb29nLmh0bWwuU2FmZVVybC5DT05TVFJVQ1RPUl9UT0tFTl9QUklWQVRFXyA/IHZhbHVlIDogXCJcIjtcbn07XG5nb29nLmh0bWwuU2FmZVVybC5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMucHJpdmF0ZURvTm90QWNjZXNzT3JFbHNlU2FmZVVybFdyYXBwZWRWYWx1ZV8udG9TdHJpbmcoKTtcbn07XG5nb29nLmh0bWwuU2FmZVVybC5JTk5PQ1VPVVNfU1RSSU5HID0gXCJhYm91dDppbnZhbGlkI3pDbG9zdXJlelwiO1xuZ29vZy5odG1sLlNhZmVVcmwucHJvdG90eXBlLmltcGxlbWVudHNHb29nU3RyaW5nVHlwZWRTdHJpbmcgPSAhMDtcbmdvb2cuaHRtbC5TYWZlVXJsLnByb3RvdHlwZS5nZXRUeXBlZFN0cmluZ1ZhbHVlID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLnByaXZhdGVEb05vdEFjY2Vzc09yRWxzZVNhZmVVcmxXcmFwcGVkVmFsdWVfLnRvU3RyaW5nKCk7XG59O1xuZ29vZy5odG1sLlNhZmVVcmwudW53cmFwID0gZnVuY3Rpb24oc2FmZVVybCkge1xuICBpZiAoc2FmZVVybCBpbnN0YW5jZW9mIGdvb2cuaHRtbC5TYWZlVXJsICYmIHNhZmVVcmwuY29uc3RydWN0b3IgPT09IGdvb2cuaHRtbC5TYWZlVXJsKSB7XG4gICAgcmV0dXJuIHNhZmVVcmwucHJpdmF0ZURvTm90QWNjZXNzT3JFbHNlU2FmZVVybFdyYXBwZWRWYWx1ZV87XG4gIH1cbiAgZ29vZy5hc3NlcnRzLmZhaWwoXCJleHBlY3RlZCBvYmplY3Qgb2YgdHlwZSBTYWZlVXJsLCBnb3QgJ1wiICsgc2FmZVVybCArIFwiJyBvZiB0eXBlIFwiICsgZ29vZy50eXBlT2Yoc2FmZVVybCkpO1xuICByZXR1cm4gXCJ0eXBlX2Vycm9yOlNhZmVVcmxcIjtcbn07XG5nb29nLmh0bWwuU2FmZVVybC5mcm9tQ29uc3RhbnQgPSBmdW5jdGlvbih1cmwpIHtcbiAgcmV0dXJuIGdvb2cuaHRtbC5TYWZlVXJsLmNyZWF0ZVNhZmVVcmxTZWN1cml0eVByaXZhdGVEb05vdEFjY2Vzc09yRWxzZShnb29nLnN0cmluZy5Db25zdC51bndyYXAodXJsKSk7XG59O1xuZ29vZy5odG1sLlNBRkVfTUlNRV9UWVBFX1BBVFRFUk5fID0gUmVnRXhwKCdeKD86YXVkaW8vKD86M2dwcDJ8M2dwcHxhYWN8TDE2fG1pZGl8bXAzfG1wNHxtcGVnfG9nYXxvZ2d8b3B1c3x4LW00YXx4LW1hdHJvc2thfHgtd2F2fHdhdnx3ZWJtKXxmb250L1xcXFx3K3xpbWFnZS8oPzpibXB8Z2lmfGpwZWd8anBnfHBuZ3x0aWZmfHdlYnB8eC1pY29ufGhlaWN8aGVpZil8dmlkZW8vKD86bXBlZ3xtcDR8b2dnfHdlYm18cXVpY2t0aW1lfHgtbWF0cm9za2EpKSg/OjtcXFxcdys9KD86XFxcXHcrfFwiW1xcXFx3Oyw9IF0rXCIpKSokJywgXCJpXCIpO1xuZ29vZy5odG1sLlNhZmVVcmwuaXNTYWZlTWltZVR5cGUgPSBmdW5jdGlvbihtaW1lVHlwZSkge1xuICByZXR1cm4gZ29vZy5odG1sLlNBRkVfTUlNRV9UWVBFX1BBVFRFUk5fLnRlc3QobWltZVR5cGUpO1xufTtcbmdvb2cuaHRtbC5TYWZlVXJsLmZyb21CbG9iID0gZnVuY3Rpb24oYmxvYikge1xuICB2YXIgdXJsID0gZ29vZy5odG1sLlNhZmVVcmwuaXNTYWZlTWltZVR5cGUoYmxvYi50eXBlKSA/IGdvb2cuZnMudXJsLmNyZWF0ZU9iamVjdFVybChibG9iKSA6IGdvb2cuaHRtbC5TYWZlVXJsLklOTk9DVU9VU19TVFJJTkc7XG4gIHJldHVybiBnb29nLmh0bWwuU2FmZVVybC5jcmVhdGVTYWZlVXJsU2VjdXJpdHlQcml2YXRlRG9Ob3RBY2Nlc3NPckVsc2UodXJsKTtcbn07XG5nb29nLmh0bWwuU2FmZVVybC5yZXZva2VPYmplY3RVcmwgPSBmdW5jdGlvbihzYWZlVXJsKSB7XG4gIHZhciB1cmwgPSBzYWZlVXJsLmdldFR5cGVkU3RyaW5nVmFsdWUoKTtcbiAgdXJsICE9PSBnb29nLmh0bWwuU2FmZVVybC5JTk5PQ1VPVVNfU1RSSU5HICYmIGdvb2cuZnMudXJsLnJldm9rZU9iamVjdFVybCh1cmwpO1xufTtcbmdvb2cuaHRtbC5TYWZlVXJsLmZyb21NZWRpYVNvdXJjZSA9IGZ1bmN0aW9uKG1lZGlhU291cmNlKSB7XG4gIGdvb2cuYXNzZXJ0cy5hc3NlcnQoXCJNZWRpYVNvdXJjZVwiIGluIGdvb2cuZ2xvYmFsLCBcIk5vIHN1cHBvcnQgZm9yIE1lZGlhU291cmNlXCIpO1xuICB2YXIgdXJsID0gbWVkaWFTb3VyY2UgaW5zdGFuY2VvZiBNZWRpYVNvdXJjZSA/IGdvb2cuZnMudXJsLmNyZWF0ZU9iamVjdFVybChtZWRpYVNvdXJjZSkgOiBnb29nLmh0bWwuU2FmZVVybC5JTk5PQ1VPVVNfU1RSSU5HO1xuICByZXR1cm4gZ29vZy5odG1sLlNhZmVVcmwuY3JlYXRlU2FmZVVybFNlY3VyaXR5UHJpdmF0ZURvTm90QWNjZXNzT3JFbHNlKHVybCk7XG59O1xuZ29vZy5odG1sLkRBVEFfVVJMX1BBVFRFUk5fID0gL15kYXRhOiguKik7YmFzZTY0LFthLXowLTkrXFwvXSs9KiQvaTtcbmdvb2cuaHRtbC5TYWZlVXJsLnRyeUZyb21EYXRhVXJsID0gZnVuY3Rpb24oZGF0YVVybCkge1xuICBkYXRhVXJsID0gU3RyaW5nKGRhdGFVcmwpO1xuICB2YXIgZmlsdGVyZWREYXRhVXJsID0gZGF0YVVybC5yZXBsYWNlKC8oJTBBfCUwRCkvZywgXCJcIik7XG4gIHJldHVybiBmaWx0ZXJlZERhdGFVcmwubWF0Y2goZ29vZy5odG1sLkRBVEFfVVJMX1BBVFRFUk5fKSA/IGdvb2cuaHRtbC5TYWZlVXJsLmNyZWF0ZVNhZmVVcmxTZWN1cml0eVByaXZhdGVEb05vdEFjY2Vzc09yRWxzZShmaWx0ZXJlZERhdGFVcmwpIDogbnVsbDtcbn07XG5nb29nLmh0bWwuU2FmZVVybC5mcm9tRGF0YVVybCA9IGZ1bmN0aW9uKGRhdGFVcmwpIHtcbiAgcmV0dXJuIGdvb2cuaHRtbC5TYWZlVXJsLnRyeUZyb21EYXRhVXJsKGRhdGFVcmwpIHx8IGdvb2cuaHRtbC5TYWZlVXJsLklOTk9DVU9VU19VUkw7XG59O1xuZ29vZy5odG1sLlNhZmVVcmwuZnJvbVRlbFVybCA9IGZ1bmN0aW9uKHRlbFVybCkge1xuICBnb29nLnN0cmluZy5pbnRlcm5hbC5jYXNlSW5zZW5zaXRpdmVTdGFydHNXaXRoKHRlbFVybCwgXCJ0ZWw6XCIpIHx8ICh0ZWxVcmwgPSBnb29nLmh0bWwuU2FmZVVybC5JTk5PQ1VPVVNfU1RSSU5HKTtcbiAgcmV0dXJuIGdvb2cuaHRtbC5TYWZlVXJsLmNyZWF0ZVNhZmVVcmxTZWN1cml0eVByaXZhdGVEb05vdEFjY2Vzc09yRWxzZSh0ZWxVcmwpO1xufTtcbmdvb2cuaHRtbC5TSVBfVVJMX1BBVFRFUk5fID0gUmVnRXhwKFwiXnNpcFtzXT86WythLXowLTlfLiEkJSYnKlxcXFwvPV5ge3x9fi1dK0AoW2EtejAtOS1dK1xcXFwuKStbYS16MC05XXsyLDYzfSRcIiwgXCJpXCIpO1xuZ29vZy5odG1sLlNhZmVVcmwuZnJvbVNpcFVybCA9IGZ1bmN0aW9uKHNpcFVybCkge1xuICBnb29nLmh0bWwuU0lQX1VSTF9QQVRURVJOXy50ZXN0KGRlY29kZVVSSUNvbXBvbmVudChzaXBVcmwpKSB8fCAoc2lwVXJsID0gZ29vZy5odG1sLlNhZmVVcmwuSU5OT0NVT1VTX1NUUklORyk7XG4gIHJldHVybiBnb29nLmh0bWwuU2FmZVVybC5jcmVhdGVTYWZlVXJsU2VjdXJpdHlQcml2YXRlRG9Ob3RBY2Nlc3NPckVsc2Uoc2lwVXJsKTtcbn07XG5nb29nLmh0bWwuU2FmZVVybC5mcm9tRmFjZWJvb2tNZXNzZW5nZXJVcmwgPSBmdW5jdGlvbihmYWNlYm9va01lc3NlbmdlclVybCkge1xuICBnb29nLnN0cmluZy5pbnRlcm5hbC5jYXNlSW5zZW5zaXRpdmVTdGFydHNXaXRoKGZhY2Vib29rTWVzc2VuZ2VyVXJsLCBcImZiLW1lc3NlbmdlcjovL3NoYXJlXCIpIHx8IChmYWNlYm9va01lc3NlbmdlclVybCA9IGdvb2cuaHRtbC5TYWZlVXJsLklOTk9DVU9VU19TVFJJTkcpO1xuICByZXR1cm4gZ29vZy5odG1sLlNhZmVVcmwuY3JlYXRlU2FmZVVybFNlY3VyaXR5UHJpdmF0ZURvTm90QWNjZXNzT3JFbHNlKGZhY2Vib29rTWVzc2VuZ2VyVXJsKTtcbn07XG5nb29nLmh0bWwuU2FmZVVybC5mcm9tV2hhdHNBcHBVcmwgPSBmdW5jdGlvbih3aGF0c0FwcFVybCkge1xuICBnb29nLnN0cmluZy5pbnRlcm5hbC5jYXNlSW5zZW5zaXRpdmVTdGFydHNXaXRoKHdoYXRzQXBwVXJsLCBcIndoYXRzYXBwOi8vc2VuZFwiKSB8fCAod2hhdHNBcHBVcmwgPSBnb29nLmh0bWwuU2FmZVVybC5JTk5PQ1VPVVNfU1RSSU5HKTtcbiAgcmV0dXJuIGdvb2cuaHRtbC5TYWZlVXJsLmNyZWF0ZVNhZmVVcmxTZWN1cml0eVByaXZhdGVEb05vdEFjY2Vzc09yRWxzZSh3aGF0c0FwcFVybCk7XG59O1xuZ29vZy5odG1sLlNhZmVVcmwuZnJvbVNtc1VybCA9IGZ1bmN0aW9uKHNtc1VybCkge1xuICBnb29nLnN0cmluZy5pbnRlcm5hbC5jYXNlSW5zZW5zaXRpdmVTdGFydHNXaXRoKHNtc1VybCwgXCJzbXM6XCIpICYmIGdvb2cuaHRtbC5TYWZlVXJsLmlzU21zVXJsQm9keVZhbGlkXyhzbXNVcmwpIHx8IChzbXNVcmwgPSBnb29nLmh0bWwuU2FmZVVybC5JTk5PQ1VPVVNfU1RSSU5HKTtcbiAgcmV0dXJuIGdvb2cuaHRtbC5TYWZlVXJsLmNyZWF0ZVNhZmVVcmxTZWN1cml0eVByaXZhdGVEb05vdEFjY2Vzc09yRWxzZShzbXNVcmwpO1xufTtcbmdvb2cuaHRtbC5TYWZlVXJsLmlzU21zVXJsQm9keVZhbGlkXyA9IGZ1bmN0aW9uKHNtc1VybCkge1xuICB2YXIgaGFzaCA9IHNtc1VybC5pbmRleE9mKFwiI1wiKTtcbiAgMCA8IGhhc2ggJiYgKHNtc1VybCA9IHNtc1VybC5zdWJzdHJpbmcoMCwgaGFzaCkpO1xuICB2YXIgYm9keVBhcmFtcyA9IHNtc1VybC5tYXRjaCgvWz8mXWJvZHk9L2dpKTtcbiAgaWYgKCFib2R5UGFyYW1zKSB7XG4gICAgcmV0dXJuICEwO1xuICB9XG4gIGlmICgxIDwgYm9keVBhcmFtcy5sZW5ndGgpIHtcbiAgICByZXR1cm4gITE7XG4gIH1cbiAgdmFyIGJvZHlWYWx1ZSA9IHNtc1VybC5tYXRjaCgvWz8mXWJvZHk9KFteJl0qKS8pWzFdO1xuICBpZiAoIWJvZHlWYWx1ZSkge1xuICAgIHJldHVybiAhMDtcbiAgfVxuICB0cnkge1xuICAgIGRlY29kZVVSSUNvbXBvbmVudChib2R5VmFsdWUpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHJldHVybiAhMTtcbiAgfVxuICByZXR1cm4gL14oPzpbYS16MC05XFwtXy5+XXwlWzAtOWEtZl17Mn0pKyQvaS50ZXN0KGJvZHlWYWx1ZSk7XG59O1xuZ29vZy5odG1sLlNhZmVVcmwuZnJvbVNzaFVybCA9IGZ1bmN0aW9uKHNzaFVybCkge1xuICBnb29nLnN0cmluZy5pbnRlcm5hbC5jYXNlSW5zZW5zaXRpdmVTdGFydHNXaXRoKHNzaFVybCwgXCJzc2g6Ly9cIikgfHwgKHNzaFVybCA9IGdvb2cuaHRtbC5TYWZlVXJsLklOTk9DVU9VU19TVFJJTkcpO1xuICByZXR1cm4gZ29vZy5odG1sLlNhZmVVcmwuY3JlYXRlU2FmZVVybFNlY3VyaXR5UHJpdmF0ZURvTm90QWNjZXNzT3JFbHNlKHNzaFVybCk7XG59O1xuZ29vZy5odG1sLlNhZmVVcmwuc2FuaXRpemVDaHJvbWVFeHRlbnNpb25VcmwgPSBmdW5jdGlvbih1cmwsIGV4dGVuc2lvbklkKSB7XG4gIHJldHVybiBnb29nLmh0bWwuU2FmZVVybC5zYW5pdGl6ZUV4dGVuc2lvblVybF8oL15jaHJvbWUtZXh0ZW5zaW9uOlxcL1xcLyhbXlxcL10rKVxcLy8sIHVybCwgZXh0ZW5zaW9uSWQpO1xufTtcbmdvb2cuaHRtbC5TYWZlVXJsLnNhbml0aXplRmlyZWZveEV4dGVuc2lvblVybCA9IGZ1bmN0aW9uKHVybCwgZXh0ZW5zaW9uSWQpIHtcbiAgcmV0dXJuIGdvb2cuaHRtbC5TYWZlVXJsLnNhbml0aXplRXh0ZW5zaW9uVXJsXygvXm1vei1leHRlbnNpb246XFwvXFwvKFteXFwvXSspXFwvLywgdXJsLCBleHRlbnNpb25JZCk7XG59O1xuZ29vZy5odG1sLlNhZmVVcmwuc2FuaXRpemVFZGdlRXh0ZW5zaW9uVXJsID0gZnVuY3Rpb24odXJsLCBleHRlbnNpb25JZCkge1xuICByZXR1cm4gZ29vZy5odG1sLlNhZmVVcmwuc2FuaXRpemVFeHRlbnNpb25VcmxfKC9ebXMtYnJvd3Nlci1leHRlbnNpb246XFwvXFwvKFteXFwvXSspXFwvLywgdXJsLCBleHRlbnNpb25JZCk7XG59O1xuZ29vZy5odG1sLlNhZmVVcmwuc2FuaXRpemVFeHRlbnNpb25VcmxfID0gZnVuY3Rpb24oc2NoZW1lLCB1cmwsIGV4dGVuc2lvbklkKSB7XG4gIHZhciBtYXRjaGVzID0gc2NoZW1lLmV4ZWModXJsKTtcbiAgaWYgKG1hdGNoZXMpIHtcbiAgICB2YXIgZXh0cmFjdGVkRXh0ZW5zaW9uSWQgPSBtYXRjaGVzWzFdO1xuICAgIC0xID09IChleHRlbnNpb25JZCBpbnN0YW5jZW9mIGdvb2cuc3RyaW5nLkNvbnN0ID8gW2dvb2cuc3RyaW5nLkNvbnN0LnVud3JhcChleHRlbnNpb25JZCldIDogZXh0ZW5zaW9uSWQubWFwKGZ1bmN0aW9uIHVud3JhcCh4KSB7XG4gICAgICByZXR1cm4gZ29vZy5zdHJpbmcuQ29uc3QudW53cmFwKHgpO1xuICAgIH0pKS5pbmRleE9mKGV4dHJhY3RlZEV4dGVuc2lvbklkKSAmJiAodXJsID0gZ29vZy5odG1sLlNhZmVVcmwuSU5OT0NVT1VTX1NUUklORyk7XG4gIH0gZWxzZSB7XG4gICAgdXJsID0gZ29vZy5odG1sLlNhZmVVcmwuSU5OT0NVT1VTX1NUUklORztcbiAgfVxuICByZXR1cm4gZ29vZy5odG1sLlNhZmVVcmwuY3JlYXRlU2FmZVVybFNlY3VyaXR5UHJpdmF0ZURvTm90QWNjZXNzT3JFbHNlKHVybCk7XG59O1xuZ29vZy5odG1sLlNhZmVVcmwuZnJvbVRydXN0ZWRSZXNvdXJjZVVybCA9IGZ1bmN0aW9uKHRydXN0ZWRSZXNvdXJjZVVybCkge1xuICByZXR1cm4gZ29vZy5odG1sLlNhZmVVcmwuY3JlYXRlU2FmZVVybFNlY3VyaXR5UHJpdmF0ZURvTm90QWNjZXNzT3JFbHNlKGdvb2cuaHRtbC5UcnVzdGVkUmVzb3VyY2VVcmwudW53cmFwKHRydXN0ZWRSZXNvdXJjZVVybCkpO1xufTtcbmdvb2cuaHRtbC5TQUZFX1VSTF9QQVRURVJOXyA9IC9eKD86KD86aHR0cHM/fG1haWx0b3xmdHApOnxbXjovPyNdKig/OlsvPyNdfCQpKS9pO1xuZ29vZy5odG1sLlNhZmVVcmwuU0FGRV9VUkxfUEFUVEVSTiA9IGdvb2cuaHRtbC5TQUZFX1VSTF9QQVRURVJOXztcbmdvb2cuaHRtbC5TYWZlVXJsLnRyeVNhbml0aXplID0gZnVuY3Rpb24odXJsKSB7XG4gIGlmICh1cmwgaW5zdGFuY2VvZiBnb29nLmh0bWwuU2FmZVVybCkge1xuICAgIHJldHVybiB1cmw7XG4gIH1cbiAgdXJsID0gXCJvYmplY3RcIiA9PSB0eXBlb2YgdXJsICYmIHVybC5pbXBsZW1lbnRzR29vZ1N0cmluZ1R5cGVkU3RyaW5nID8gdXJsLmdldFR5cGVkU3RyaW5nVmFsdWUoKSA6IFN0cmluZyh1cmwpO1xuICByZXR1cm4gZ29vZy5odG1sLlNBRkVfVVJMX1BBVFRFUk5fLnRlc3QodXJsKSA/IGdvb2cuaHRtbC5TYWZlVXJsLmNyZWF0ZVNhZmVVcmxTZWN1cml0eVByaXZhdGVEb05vdEFjY2Vzc09yRWxzZSh1cmwpIDogZ29vZy5odG1sLlNhZmVVcmwudHJ5RnJvbURhdGFVcmwodXJsKTtcbn07XG5nb29nLmh0bWwuU2FmZVVybC5zYW5pdGl6ZSA9IGZ1bmN0aW9uKHVybCkge1xuICByZXR1cm4gZ29vZy5odG1sLlNhZmVVcmwudHJ5U2FuaXRpemUodXJsKSB8fCBnb29nLmh0bWwuU2FmZVVybC5JTk5PQ1VPVVNfVVJMO1xufTtcbmdvb2cuaHRtbC5TYWZlVXJsLnNhbml0aXplQXNzZXJ0VW5jaGFuZ2VkID0gZnVuY3Rpb24odXJsLCBvcHRfYWxsb3dEYXRhVXJsKSB7XG4gIGlmICh1cmwgaW5zdGFuY2VvZiBnb29nLmh0bWwuU2FmZVVybCkge1xuICAgIHJldHVybiB1cmw7XG4gIH1cbiAgdXJsID0gXCJvYmplY3RcIiA9PSB0eXBlb2YgdXJsICYmIHVybC5pbXBsZW1lbnRzR29vZ1N0cmluZ1R5cGVkU3RyaW5nID8gdXJsLmdldFR5cGVkU3RyaW5nVmFsdWUoKSA6IFN0cmluZyh1cmwpO1xuICBpZiAob3B0X2FsbG93RGF0YVVybCAmJiAvXmRhdGE6L2kudGVzdCh1cmwpKSB7XG4gICAgdmFyIHNhZmVVcmwgPSBnb29nLmh0bWwuU2FmZVVybC5mcm9tRGF0YVVybCh1cmwpO1xuICAgIGlmIChzYWZlVXJsLmdldFR5cGVkU3RyaW5nVmFsdWUoKSA9PSB1cmwpIHtcbiAgICAgIHJldHVybiBzYWZlVXJsO1xuICAgIH1cbiAgfVxuICBnb29nLmFzc2VydHMuYXNzZXJ0KGdvb2cuaHRtbC5TQUZFX1VSTF9QQVRURVJOXy50ZXN0KHVybCksIFwiJXMgZG9lcyBub3QgbWF0Y2ggdGhlIHNhZmUgVVJMIHBhdHRlcm5cIiwgdXJsKSB8fCAodXJsID0gZ29vZy5odG1sLlNhZmVVcmwuSU5OT0NVT1VTX1NUUklORyk7XG4gIHJldHVybiBnb29nLmh0bWwuU2FmZVVybC5jcmVhdGVTYWZlVXJsU2VjdXJpdHlQcml2YXRlRG9Ob3RBY2Nlc3NPckVsc2UodXJsKTtcbn07XG5nb29nLmh0bWwuU2FmZVVybC5DT05TVFJVQ1RPUl9UT0tFTl9QUklWQVRFXyA9IHt9O1xuZ29vZy5odG1sLlNhZmVVcmwuY3JlYXRlU2FmZVVybFNlY3VyaXR5UHJpdmF0ZURvTm90QWNjZXNzT3JFbHNlID0gZnVuY3Rpb24odXJsKSB7XG4gIHJldHVybiBuZXcgZ29vZy5odG1sLlNhZmVVcmwodXJsLCBnb29nLmh0bWwuU2FmZVVybC5DT05TVFJVQ1RPUl9UT0tFTl9QUklWQVRFXyk7XG59O1xuZ29vZy5odG1sLlNhZmVVcmwuSU5OT0NVT1VTX1VSTCA9IGdvb2cuaHRtbC5TYWZlVXJsLmNyZWF0ZVNhZmVVcmxTZWN1cml0eVByaXZhdGVEb05vdEFjY2Vzc09yRWxzZShnb29nLmh0bWwuU2FmZVVybC5JTk5PQ1VPVVNfU1RSSU5HKTtcbmdvb2cuaHRtbC5TYWZlVXJsLkFCT1VUX0JMQU5LID0gZ29vZy5odG1sLlNhZmVVcmwuY3JlYXRlU2FmZVVybFNlY3VyaXR5UHJpdmF0ZURvTm90QWNjZXNzT3JFbHNlKFwiYWJvdXQ6YmxhbmtcIik7XG52YXIgbW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlU3R5bGVfQ09OU1RSVUNUT1JfVE9LRU5fUFJJVkFURSA9IHt9LCBtb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVTdHlsZV9TYWZlU3R5bGUgPSBmdW5jdGlvbih2YWx1ZSwgdG9rZW4pIHtcbiAgdGhpcy5wcml2YXRlRG9Ob3RBY2Nlc3NPckVsc2VTYWZlU3R5bGVXcmFwcGVkVmFsdWVfID0gdG9rZW4gPT09IG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZVN0eWxlX0NPTlNUUlVDVE9SX1RPS0VOX1BSSVZBVEUgPyB2YWx1ZSA6IFwiXCI7XG4gIHRoaXMuaW1wbGVtZW50c0dvb2dTdHJpbmdUeXBlZFN0cmluZyA9ICEwO1xufTtcbm1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZVN0eWxlX1NhZmVTdHlsZS5mcm9tQ29uc3RhbnQgPSBmdW5jdGlvbihzdHlsZSkge1xuICB2YXIgc3R5bGVTdHJpbmcgPSBnb29nLnN0cmluZy5Db25zdC51bndyYXAoc3R5bGUpO1xuICBpZiAoMCA9PT0gc3R5bGVTdHJpbmcubGVuZ3RoKSB7XG4gICAgcmV0dXJuIG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZVN0eWxlX1NhZmVTdHlsZS5FTVBUWTtcbiAgfVxuICAoMCxnb29nLmFzc2VydHMuYXNzZXJ0KSgoMCxnb29nLnN0cmluZy5pbnRlcm5hbC5lbmRzV2l0aCkoc3R5bGVTdHJpbmcsIFwiO1wiKSwgXCJMYXN0IGNoYXJhY3RlciBvZiBzdHlsZSBzdHJpbmcgaXMgbm90ICc7JzogXCIgKyBzdHlsZVN0cmluZyk7XG4gICgwLGdvb2cuYXNzZXJ0cy5hc3NlcnQpKCgwLGdvb2cuc3RyaW5nLmludGVybmFsLmNvbnRhaW5zKShzdHlsZVN0cmluZywgXCI6XCIpLCBcIlN0eWxlIHN0cmluZyBtdXN0IGNvbnRhaW4gYXQgbGVhc3Qgb25lICc6JywgdG8gc3BlY2lmeSBhIFxcXCJuYW1lOiB2YWx1ZVxcXCIgcGFpcjogXCIgKyBzdHlsZVN0cmluZyk7XG4gIHJldHVybiBtb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVTdHlsZV9TYWZlU3R5bGUuY3JlYXRlU2FmZVN0eWxlU2VjdXJpdHlQcml2YXRlRG9Ob3RBY2Nlc3NPckVsc2Uoc3R5bGVTdHJpbmcpO1xufTtcbm1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZVN0eWxlX1NhZmVTdHlsZS5wcm90b3R5cGUuZ2V0VHlwZWRTdHJpbmdWYWx1ZSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5wcml2YXRlRG9Ob3RBY2Nlc3NPckVsc2VTYWZlU3R5bGVXcmFwcGVkVmFsdWVfO1xufTtcbm1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZVN0eWxlX1NhZmVTdHlsZS5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMucHJpdmF0ZURvTm90QWNjZXNzT3JFbHNlU2FmZVN0eWxlV3JhcHBlZFZhbHVlXy50b1N0cmluZygpO1xufTtcbm1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZVN0eWxlX1NhZmVTdHlsZS51bndyYXAgPSBmdW5jdGlvbihzYWZlU3R5bGUpIHtcbiAgaWYgKHNhZmVTdHlsZSBpbnN0YW5jZW9mIG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZVN0eWxlX1NhZmVTdHlsZSAmJiBzYWZlU3R5bGUuY29uc3RydWN0b3IgPT09IG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZVN0eWxlX1NhZmVTdHlsZSkge1xuICAgIHJldHVybiBzYWZlU3R5bGUucHJpdmF0ZURvTm90QWNjZXNzT3JFbHNlU2FmZVN0eWxlV3JhcHBlZFZhbHVlXztcbiAgfVxuICAoMCxnb29nLmFzc2VydHMuZmFpbCkoXCJleHBlY3RlZCBvYmplY3Qgb2YgdHlwZSBTYWZlU3R5bGUsIGdvdCAnXCIgKyBzYWZlU3R5bGUgKyBcIicgb2YgdHlwZSBcIiArIGdvb2cudHlwZU9mKHNhZmVTdHlsZSkpO1xuICByZXR1cm4gXCJ0eXBlX2Vycm9yOlNhZmVTdHlsZVwiO1xufTtcbm1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZVN0eWxlX1NhZmVTdHlsZS5jcmVhdGVTYWZlU3R5bGVTZWN1cml0eVByaXZhdGVEb05vdEFjY2Vzc09yRWxzZSA9IGZ1bmN0aW9uKHN0eWxlKSB7XG4gIHJldHVybiBuZXcgbW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlU3R5bGVfU2FmZVN0eWxlKHN0eWxlLCBtb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVTdHlsZV9DT05TVFJVQ1RPUl9UT0tFTl9QUklWQVRFKTtcbn07XG5tb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVTdHlsZV9TYWZlU3R5bGUuY3JlYXRlID0gZnVuY3Rpb24obWFwKSB7XG4gIHZhciBzdHlsZSA9IFwiXCIsIG5hbWU7XG4gIGZvciAobmFtZSBpbiBtYXApIHtcbiAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1hcCwgbmFtZSkpIHtcbiAgICAgIGlmICghL15bLV9hLXpBLVowLTldKyQvLnRlc3QobmFtZSkpIHtcbiAgICAgICAgdGhyb3cgRXJyb3IoXCJOYW1lIGFsbG93cyBvbmx5IFstX2EtekEtWjAtOV0sIGdvdDogXCIgKyBuYW1lKTtcbiAgICAgIH1cbiAgICAgIHZhciB2YWx1ZSA9IG1hcFtuYW1lXTtcbiAgICAgIG51bGwgIT0gdmFsdWUgJiYgKHZhbHVlID0gQXJyYXkuaXNBcnJheSh2YWx1ZSkgPyB2YWx1ZS5tYXAobW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlU3R5bGVfc2FuaXRpemVQcm9wZXJ0eVZhbHVlKS5qb2luKFwiIFwiKSA6IG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZVN0eWxlX3Nhbml0aXplUHJvcGVydHlWYWx1ZSh2YWx1ZSksIHN0eWxlICs9IG5hbWUgKyBcIjpcIiArIHZhbHVlICsgXCI7XCIpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gc3R5bGUgPyBtb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVTdHlsZV9TYWZlU3R5bGUuY3JlYXRlU2FmZVN0eWxlU2VjdXJpdHlQcml2YXRlRG9Ob3RBY2Nlc3NPckVsc2Uoc3R5bGUpIDogbW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlU3R5bGVfU2FmZVN0eWxlLkVNUFRZO1xufTtcbm1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZVN0eWxlX1NhZmVTdHlsZS5jb25jYXQgPSBmdW5jdGlvbih2YXJfYXJncykge1xuICB2YXIgc3R5bGUgPSBcIlwiLCBhZGRBcmd1bWVudCA9IGZ1bmN0aW9uKGFyZ3VtZW50KSB7XG4gICAgQXJyYXkuaXNBcnJheShhcmd1bWVudCkgPyBhcmd1bWVudC5mb3JFYWNoKGFkZEFyZ3VtZW50KSA6IHN0eWxlICs9IG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZVN0eWxlX1NhZmVTdHlsZS51bndyYXAoYXJndW1lbnQpO1xuICB9O1xuICBBcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsKGFyZ3VtZW50cywgYWRkQXJndW1lbnQpO1xuICByZXR1cm4gc3R5bGUgPyBtb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVTdHlsZV9TYWZlU3R5bGUuY3JlYXRlU2FmZVN0eWxlU2VjdXJpdHlQcml2YXRlRG9Ob3RBY2Nlc3NPckVsc2Uoc3R5bGUpIDogbW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlU3R5bGVfU2FmZVN0eWxlLkVNUFRZO1xufTtcbm1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZVN0eWxlX1NhZmVTdHlsZS5FTVBUWSA9IG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZVN0eWxlX1NhZmVTdHlsZS5jcmVhdGVTYWZlU3R5bGVTZWN1cml0eVByaXZhdGVEb05vdEFjY2Vzc09yRWxzZShcIlwiKTtcbm1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZVN0eWxlX1NhZmVTdHlsZS5JTk5PQ1VPVVNfU1RSSU5HID0gXCJ6Q2xvc3VyZXpcIjtcbmZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZVN0eWxlX3Nhbml0aXplUHJvcGVydHlWYWx1ZSh2YWx1ZSkge1xuICBpZiAodmFsdWUgaW5zdGFuY2VvZiBnb29nLmh0bWwuU2FmZVVybCkge1xuICAgIHJldHVybiAndXJsKFwiJyArIGdvb2cuaHRtbC5TYWZlVXJsLnVud3JhcCh2YWx1ZSkucmVwbGFjZSgvPC9nLCBcIiUzY1wiKS5yZXBsYWNlKC9bXFxcXFwiXS9nLCBcIlxcXFwkJlwiKSArICdcIiknO1xuICB9XG4gIHZhciByZXN1bHQgPSB2YWx1ZSBpbnN0YW5jZW9mIGdvb2cuc3RyaW5nLkNvbnN0ID8gZ29vZy5zdHJpbmcuQ29uc3QudW53cmFwKHZhbHVlKSA6IG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZVN0eWxlX3Nhbml0aXplUHJvcGVydHlWYWx1ZVN0cmluZyhTdHJpbmcodmFsdWUpKTtcbiAgaWYgKC9bezt9XS8udGVzdChyZXN1bHQpKSB7XG4gICAgdGhyb3cgbmV3IG1vZHVsZSRjb250ZW50cyRnb29nJGFzc2VydHNfQXNzZXJ0aW9uRXJyb3IoXCJWYWx1ZSBkb2VzIG5vdCBhbGxvdyBbezt9XSwgZ290OiAlcy5cIiwgW3Jlc3VsdF0pO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5mdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVTdHlsZV9zYW5pdGl6ZVByb3BlcnR5VmFsdWVTdHJpbmcodmFsdWUpIHtcbiAgdmFyIHZhbHVlV2l0aG91dEZ1bmN0aW9ucyA9IHZhbHVlLnJlcGxhY2UobW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlU3R5bGVfRlVOQ1RJT05TX1JFLCBcIiQxXCIpLnJlcGxhY2UobW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlU3R5bGVfRlVOQ1RJT05TX1JFLCBcIiQxXCIpLnJlcGxhY2UobW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlU3R5bGVfVVJMX1JFLCBcInVybFwiKTtcbiAgaWYgKG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZVN0eWxlX1ZBTFVFX1JFLnRlc3QodmFsdWVXaXRob3V0RnVuY3Rpb25zKSkge1xuICAgIGlmIChtb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVTdHlsZV9DT01NRU5UX1JFLnRlc3QodmFsdWUpKSB7XG4gICAgICByZXR1cm4gKDAsZ29vZy5hc3NlcnRzLmZhaWwpKFwiU3RyaW5nIHZhbHVlIGRpc2FsbG93cyBjb21tZW50cywgZ290OiBcIiArIHZhbHVlKSwgbW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlU3R5bGVfU2FmZVN0eWxlLklOTk9DVU9VU19TVFJJTkc7XG4gICAgfVxuICAgIGlmICghbW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlU3R5bGVfaGFzQmFsYW5jZWRRdW90ZXModmFsdWUpKSB7XG4gICAgICByZXR1cm4gKDAsZ29vZy5hc3NlcnRzLmZhaWwpKFwiU3RyaW5nIHZhbHVlIHJlcXVpcmVzIGJhbGFuY2VkIHF1b3RlcywgZ290OiBcIiArIHZhbHVlKSwgbW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlU3R5bGVfU2FmZVN0eWxlLklOTk9DVU9VU19TVFJJTkc7XG4gICAgfVxuICAgIGlmICghbW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlU3R5bGVfaGFzQmFsYW5jZWRTcXVhcmVCcmFja2V0cyh2YWx1ZSkpIHtcbiAgICAgIHJldHVybiAoMCxnb29nLmFzc2VydHMuZmFpbCkoXCJTdHJpbmcgdmFsdWUgcmVxdWlyZXMgYmFsYW5jZWQgc3F1YXJlIGJyYWNrZXRzIGFuZCBvbmUgaWRlbnRpZmllciBwZXIgcGFpciBvZiBicmFja2V0cywgZ290OiBcIiArIHZhbHVlKSwgbW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlU3R5bGVfU2FmZVN0eWxlLklOTk9DVU9VU19TVFJJTkc7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHJldHVybiAoMCxnb29nLmFzc2VydHMuZmFpbCkoXCJTdHJpbmcgdmFsdWUgYWxsb3dzIG9ubHkgWy0rLC5cXFwiJyVfISMvIGEtekEtWjAtOVxcXFxbXFxcXF1dIGFuZCBzaW1wbGUgZnVuY3Rpb25zLCBnb3Q6IFwiICsgdmFsdWUpLCBtb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVTdHlsZV9TYWZlU3R5bGUuSU5OT0NVT1VTX1NUUklORztcbiAgfVxuICByZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlU3R5bGVfc2FuaXRpemVVcmwodmFsdWUpO1xufVxuZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlU3R5bGVfaGFzQmFsYW5jZWRRdW90ZXModmFsdWUpIHtcbiAgZm9yICh2YXIgb3V0c2lkZVNpbmdsZSA9ICEwLCBvdXRzaWRlRG91YmxlID0gITAsIGkgPSAwOyBpIDwgdmFsdWUubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgYyA9IHZhbHVlLmNoYXJBdChpKTtcbiAgICBcIidcIiA9PSBjICYmIG91dHNpZGVEb3VibGUgPyBvdXRzaWRlU2luZ2xlID0gIW91dHNpZGVTaW5nbGUgOiAnXCInID09IGMgJiYgb3V0c2lkZVNpbmdsZSAmJiAob3V0c2lkZURvdWJsZSA9ICFvdXRzaWRlRG91YmxlKTtcbiAgfVxuICByZXR1cm4gb3V0c2lkZVNpbmdsZSAmJiBvdXRzaWRlRG91YmxlO1xufVxuZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlU3R5bGVfaGFzQmFsYW5jZWRTcXVhcmVCcmFja2V0cyh2YWx1ZSkge1xuICBmb3IgKHZhciBvdXRzaWRlID0gITAsIHRva2VuUmUgPSAvXlstX2EtekEtWjAtOV0kLywgaSA9IDA7IGkgPCB2YWx1ZS5sZW5ndGg7IGkrKykge1xuICAgIHZhciBjID0gdmFsdWUuY2hhckF0KGkpO1xuICAgIGlmIChcIl1cIiA9PSBjKSB7XG4gICAgICBpZiAob3V0c2lkZSkge1xuICAgICAgICByZXR1cm4gITE7XG4gICAgICB9XG4gICAgICBvdXRzaWRlID0gITA7XG4gICAgfSBlbHNlIGlmIChcIltcIiA9PSBjKSB7XG4gICAgICBpZiAoIW91dHNpZGUpIHtcbiAgICAgICAgcmV0dXJuICExO1xuICAgICAgfVxuICAgICAgb3V0c2lkZSA9ICExO1xuICAgIH0gZWxzZSBpZiAoIW91dHNpZGUgJiYgIXRva2VuUmUudGVzdChjKSkge1xuICAgICAgcmV0dXJuICExO1xuICAgIH1cbiAgfVxuICByZXR1cm4gb3V0c2lkZTtcbn1cbnZhciBtb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVTdHlsZV9WQUxVRV9SRSA9IFJlZ0V4cChcIl5bLSssLlxcXCInJV8hIy8gYS16QS1aMC05XFxcXFtcXFxcXV0rJFwiKSwgbW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlU3R5bGVfVVJMX1JFID0gUmVnRXhwKFwiXFxcXGIodXJsXFxcXChbIFxcdFxcbl0qKSgnWyAtJigtXFxcXFtcXFxcXS1+XSonfFxcXCJbICEjLVxcXFxbXFxcXF0tfl0qXFxcInxbISMtJiotXFxcXFtcXFxcXS1+XSopKFsgXFx0XFxuXSpcXFxcKSlcIiwgXCJnXCIpLCBtb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVTdHlsZV9GVU5DVElPTlNfUkUgPSBSZWdFeHAoXCJcXFxcYihjYWxjfGN1YmljLWJlemllcnxmaXQtY29udGVudHxoc2x8aHNsYXxsaW5lYXItZ3JhZGllbnR8bWF0cml4fG1pbm1heHxyYWRpYWwtZ3JhZGllbnR8cmVwZWF0fHJnYnxyZ2JhfChyb3RhdGV8c2NhbGV8dHJhbnNsYXRlKShYfFl8WnwzZCk/fHN0ZXBzfHZhcilcXFxcKFstKyovMC05YS16QS1aLiUjXFxcXFtcXFxcXSwgXStcXFxcKVwiLCBcImdcIiksIG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZVN0eWxlX0NPTU1FTlRfUkUgPSBcbi9cXC9cXCovO1xuZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlU3R5bGVfc2FuaXRpemVVcmwodmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlLnJlcGxhY2UobW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlU3R5bGVfVVJMX1JFLCBmdW5jdGlvbihtYXRjaCRqc2NvbXAkMCwgYmVmb3JlLCB1cmwsIGFmdGVyKSB7XG4gICAgdmFyIHF1b3RlID0gXCJcIjtcbiAgICB1cmwgPSB1cmwucmVwbGFjZSgvXihbJ1wiXSkoLiopXFwxJC8sIGZ1bmN0aW9uKG1hdGNoLCBzdGFydCwgaW5zaWRlKSB7XG4gICAgICBxdW90ZSA9IHN0YXJ0O1xuICAgICAgcmV0dXJuIGluc2lkZTtcbiAgICB9KTtcbiAgICB2YXIgc2FuaXRpemVkID0gZ29vZy5odG1sLlNhZmVVcmwuc2FuaXRpemUodXJsKS5nZXRUeXBlZFN0cmluZ1ZhbHVlKCk7XG4gICAgcmV0dXJuIGJlZm9yZSArIHF1b3RlICsgc2FuaXRpemVkICsgcXVvdGUgKyBhZnRlcjtcbiAgfSk7XG59XG5nb29nLmh0bWwuU2FmZVN0eWxlID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlU3R5bGVfU2FmZVN0eWxlO1xudmFyIG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZVN0eWxlU2hlZXRfQ09OU1RSVUNUT1JfVE9LRU5fUFJJVkFURSA9IHt9LCBtb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVTdHlsZVNoZWV0X1NhZmVTdHlsZVNoZWV0ID0gZnVuY3Rpb24odmFsdWUsIHRva2VuKSB7XG4gIHRoaXMucHJpdmF0ZURvTm90QWNjZXNzT3JFbHNlU2FmZVN0eWxlU2hlZXRXcmFwcGVkVmFsdWVfID0gdG9rZW4gPT09IG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZVN0eWxlU2hlZXRfQ09OU1RSVUNUT1JfVE9LRU5fUFJJVkFURSA/IHZhbHVlIDogXCJcIjtcbiAgdGhpcy5pbXBsZW1lbnRzR29vZ1N0cmluZ1R5cGVkU3RyaW5nID0gITA7XG59O1xubW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlU3R5bGVTaGVldF9TYWZlU3R5bGVTaGVldC5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMucHJpdmF0ZURvTm90QWNjZXNzT3JFbHNlU2FmZVN0eWxlU2hlZXRXcmFwcGVkVmFsdWVfLnRvU3RyaW5nKCk7XG59O1xubW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlU3R5bGVTaGVldF9TYWZlU3R5bGVTaGVldC5jcmVhdGVSdWxlID0gZnVuY3Rpb24oc2VsZWN0b3IsIHN0eWxlKSB7XG4gIGlmICgoMCxnb29nLnN0cmluZy5pbnRlcm5hbC5jb250YWlucykoc2VsZWN0b3IsIFwiPFwiKSkge1xuICAgIHRocm93IEVycm9yKFwiU2VsZWN0b3IgZG9lcyBub3QgYWxsb3cgJzwnLCBnb3Q6IFwiICsgc2VsZWN0b3IpO1xuICB9XG4gIHZhciBzZWxlY3RvclRvQ2hlY2sgPSBzZWxlY3Rvci5yZXBsYWNlKC8oJ3xcIikoKD8hXFwxKVteXFxyXFxuXFxmXFxcXF18XFxcXFtcXHNcXFNdKSpcXDEvZywgXCJcIik7XG4gIGlmICghL15bLV9hLXpBLVowLTkjLjoqICw+K35bXFxdKCk9XiR8XSskLy50ZXN0KHNlbGVjdG9yVG9DaGVjaykpIHtcbiAgICB0aHJvdyBFcnJvcihcIlNlbGVjdG9yIGFsbG93cyBvbmx5IFstX2EtekEtWjAtOSMuOiogLD4rfltcXFxcXSgpPV4kfF0gYW5kIHN0cmluZ3MsIGdvdDogXCIgKyBzZWxlY3Rvcik7XG4gIH1cbiAgaWYgKCFtb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVTdHlsZVNoZWV0X1NhZmVTdHlsZVNoZWV0Lmhhc0JhbGFuY2VkQnJhY2tldHNfKHNlbGVjdG9yVG9DaGVjaykpIHtcbiAgICB0aHJvdyBFcnJvcihcIigpIGFuZCBbXSBpbiBzZWxlY3RvciBtdXN0IGJlIGJhbGFuY2VkLCBnb3Q6IFwiICsgc2VsZWN0b3IpO1xuICB9XG4gIHN0eWxlIGluc3RhbmNlb2YgbW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlU3R5bGVfU2FmZVN0eWxlIHx8IChzdHlsZSA9IG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZVN0eWxlX1NhZmVTdHlsZS5jcmVhdGUoc3R5bGUpKTtcbiAgdmFyIHN0eWxlU2hlZXQgPSBzZWxlY3RvciArIFwie1wiICsgbW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlU3R5bGVfU2FmZVN0eWxlLnVud3JhcChzdHlsZSkucmVwbGFjZSgvPC9nLCBcIlxcXFwzQyBcIikgKyBcIn1cIjtcbiAgcmV0dXJuIG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZVN0eWxlU2hlZXRfU2FmZVN0eWxlU2hlZXQuY3JlYXRlU2FmZVN0eWxlU2hlZXRTZWN1cml0eVByaXZhdGVEb05vdEFjY2Vzc09yRWxzZShzdHlsZVNoZWV0KTtcbn07XG5tb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVTdHlsZVNoZWV0X1NhZmVTdHlsZVNoZWV0Lmhhc0JhbGFuY2VkQnJhY2tldHNfID0gZnVuY3Rpb24ocykge1xuICBmb3IgKHZhciBicmFja2V0cyA9IHtcIihcIjpcIilcIiwgXCJbXCI6XCJdXCJ9LCBleHBlY3RlZEJyYWNrZXRzID0gW10sIGkgPSAwOyBpIDwgcy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBjaCA9IHNbaV07XG4gICAgaWYgKGJyYWNrZXRzW2NoXSkge1xuICAgICAgZXhwZWN0ZWRCcmFja2V0cy5wdXNoKGJyYWNrZXRzW2NoXSk7XG4gICAgfSBlbHNlIGlmIChtb2R1bGUkY29udGVudHMkZ29vZyRvYmplY3RfY29udGFpbnMoYnJhY2tldHMsIGNoKSAmJiBleHBlY3RlZEJyYWNrZXRzLnBvcCgpICE9IGNoKSB7XG4gICAgICByZXR1cm4gITE7XG4gICAgfVxuICB9XG4gIHJldHVybiAwID09IGV4cGVjdGVkQnJhY2tldHMubGVuZ3RoO1xufTtcbm1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZVN0eWxlU2hlZXRfU2FmZVN0eWxlU2hlZXQuY29uY2F0ID0gZnVuY3Rpb24odmFyX2FyZ3MpIHtcbiAgdmFyIHJlc3VsdCA9IFwiXCIsIGFkZEFyZ3VtZW50ID0gZnVuY3Rpb24oYXJndW1lbnQpIHtcbiAgICBBcnJheS5pc0FycmF5KGFyZ3VtZW50KSA/IGFyZ3VtZW50LmZvckVhY2goYWRkQXJndW1lbnQpIDogcmVzdWx0ICs9IG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZVN0eWxlU2hlZXRfU2FmZVN0eWxlU2hlZXQudW53cmFwKGFyZ3VtZW50KTtcbiAgfTtcbiAgQXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbChhcmd1bWVudHMsIGFkZEFyZ3VtZW50KTtcbiAgcmV0dXJuIG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZVN0eWxlU2hlZXRfU2FmZVN0eWxlU2hlZXQuY3JlYXRlU2FmZVN0eWxlU2hlZXRTZWN1cml0eVByaXZhdGVEb05vdEFjY2Vzc09yRWxzZShyZXN1bHQpO1xufTtcbm1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZVN0eWxlU2hlZXRfU2FmZVN0eWxlU2hlZXQuZnJvbUNvbnN0YW50ID0gZnVuY3Rpb24oc3R5bGVTaGVldCkge1xuICB2YXIgc3R5bGVTaGVldFN0cmluZyA9IGdvb2cuc3RyaW5nLkNvbnN0LnVud3JhcChzdHlsZVNoZWV0KTtcbiAgaWYgKDAgPT09IHN0eWxlU2hlZXRTdHJpbmcubGVuZ3RoKSB7XG4gICAgcmV0dXJuIG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZVN0eWxlU2hlZXRfU2FmZVN0eWxlU2hlZXQuRU1QVFk7XG4gIH1cbiAgKDAsZ29vZy5hc3NlcnRzLmFzc2VydCkoISgwLGdvb2cuc3RyaW5nLmludGVybmFsLmNvbnRhaW5zKShzdHlsZVNoZWV0U3RyaW5nLCBcIjxcIiksIFwiRm9yYmlkZGVuICc8JyBjaGFyYWN0ZXIgaW4gc3R5bGUgc2hlZXQgc3RyaW5nOiBcIiArIHN0eWxlU2hlZXRTdHJpbmcpO1xuICByZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlU3R5bGVTaGVldF9TYWZlU3R5bGVTaGVldC5jcmVhdGVTYWZlU3R5bGVTaGVldFNlY3VyaXR5UHJpdmF0ZURvTm90QWNjZXNzT3JFbHNlKHN0eWxlU2hlZXRTdHJpbmcpO1xufTtcbm1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZVN0eWxlU2hlZXRfU2FmZVN0eWxlU2hlZXQucHJvdG90eXBlLmdldFR5cGVkU3RyaW5nVmFsdWUgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMucHJpdmF0ZURvTm90QWNjZXNzT3JFbHNlU2FmZVN0eWxlU2hlZXRXcmFwcGVkVmFsdWVfO1xufTtcbm1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZVN0eWxlU2hlZXRfU2FmZVN0eWxlU2hlZXQudW53cmFwID0gZnVuY3Rpb24oc2FmZVN0eWxlU2hlZXQpIHtcbiAgaWYgKHNhZmVTdHlsZVNoZWV0IGluc3RhbmNlb2YgbW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlU3R5bGVTaGVldF9TYWZlU3R5bGVTaGVldCAmJiBzYWZlU3R5bGVTaGVldC5jb25zdHJ1Y3RvciA9PT0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlU3R5bGVTaGVldF9TYWZlU3R5bGVTaGVldCkge1xuICAgIHJldHVybiBzYWZlU3R5bGVTaGVldC5wcml2YXRlRG9Ob3RBY2Nlc3NPckVsc2VTYWZlU3R5bGVTaGVldFdyYXBwZWRWYWx1ZV87XG4gIH1cbiAgKDAsZ29vZy5hc3NlcnRzLmZhaWwpKFwiZXhwZWN0ZWQgb2JqZWN0IG9mIHR5cGUgU2FmZVN0eWxlU2hlZXQsIGdvdCAnXCIgKyBzYWZlU3R5bGVTaGVldCArIFwiJyBvZiB0eXBlIFwiICsgZ29vZy50eXBlT2Yoc2FmZVN0eWxlU2hlZXQpKTtcbiAgcmV0dXJuIFwidHlwZV9lcnJvcjpTYWZlU3R5bGVTaGVldFwiO1xufTtcbm1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZVN0eWxlU2hlZXRfU2FmZVN0eWxlU2hlZXQuY3JlYXRlU2FmZVN0eWxlU2hlZXRTZWN1cml0eVByaXZhdGVEb05vdEFjY2Vzc09yRWxzZSA9IGZ1bmN0aW9uKHN0eWxlU2hlZXQpIHtcbiAgcmV0dXJuIG5ldyBtb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVTdHlsZVNoZWV0X1NhZmVTdHlsZVNoZWV0KHN0eWxlU2hlZXQsIG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZVN0eWxlU2hlZXRfQ09OU1RSVUNUT1JfVE9LRU5fUFJJVkFURSk7XG59O1xubW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlU3R5bGVTaGVldF9TYWZlU3R5bGVTaGVldC5FTVBUWSA9IG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZVN0eWxlU2hlZXRfU2FmZVN0eWxlU2hlZXQuY3JlYXRlU2FmZVN0eWxlU2hlZXRTZWN1cml0eVByaXZhdGVEb05vdEFjY2Vzc09yRWxzZShcIlwiKTtcbmdvb2cuaHRtbC5TYWZlU3R5bGVTaGVldCA9IG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZVN0eWxlU2hlZXRfU2FmZVN0eWxlU2hlZXQ7XG52YXIgbW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlSHRtbF9DT05TVFJVQ1RPUl9UT0tFTl9QUklWQVRFID0ge30sIG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZUh0bWxfU2FmZUh0bWwgPSBmdW5jdGlvbih2YWx1ZSwgdG9rZW4pIHtcbiAgdGhpcy5wcml2YXRlRG9Ob3RBY2Nlc3NPckVsc2VTYWZlSHRtbFdyYXBwZWRWYWx1ZV8gPSB0b2tlbiA9PT0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlSHRtbF9DT05TVFJVQ1RPUl9UT0tFTl9QUklWQVRFID8gdmFsdWUgOiBcIlwiO1xuICB0aGlzLmltcGxlbWVudHNHb29nU3RyaW5nVHlwZWRTdHJpbmcgPSAhMDtcbn07XG5tb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVIdG1sX1NhZmVIdG1sLnByb3RvdHlwZS5nZXRUeXBlZFN0cmluZ1ZhbHVlID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLnByaXZhdGVEb05vdEFjY2Vzc09yRWxzZVNhZmVIdG1sV3JhcHBlZFZhbHVlXy50b1N0cmluZygpO1xufTtcbm1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZUh0bWxfU2FmZUh0bWwucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLnByaXZhdGVEb05vdEFjY2Vzc09yRWxzZVNhZmVIdG1sV3JhcHBlZFZhbHVlXy50b1N0cmluZygpO1xufTtcbm1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZUh0bWxfU2FmZUh0bWwudW53cmFwID0gZnVuY3Rpb24oc2FmZUh0bWwpIHtcbiAgcmV0dXJuIG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZUh0bWxfU2FmZUh0bWwudW53cmFwVHJ1c3RlZEhUTUwoc2FmZUh0bWwpLnRvU3RyaW5nKCk7XG59O1xubW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlSHRtbF9TYWZlSHRtbC51bndyYXBUcnVzdGVkSFRNTCA9IGZ1bmN0aW9uKHNhZmVIdG1sKSB7XG4gIGlmIChzYWZlSHRtbCBpbnN0YW5jZW9mIG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZUh0bWxfU2FmZUh0bWwgJiYgc2FmZUh0bWwuY29uc3RydWN0b3IgPT09IG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZUh0bWxfU2FmZUh0bWwpIHtcbiAgICByZXR1cm4gc2FmZUh0bWwucHJpdmF0ZURvTm90QWNjZXNzT3JFbHNlU2FmZUh0bWxXcmFwcGVkVmFsdWVfO1xuICB9XG4gIGdvb2cuYXNzZXJ0cy5mYWlsKFwiZXhwZWN0ZWQgb2JqZWN0IG9mIHR5cGUgU2FmZUh0bWwsIGdvdCAnXCIgKyBzYWZlSHRtbCArIFwiJyBvZiB0eXBlIFwiICsgZ29vZy50eXBlT2Yoc2FmZUh0bWwpKTtcbiAgcmV0dXJuIFwidHlwZV9lcnJvcjpTYWZlSHRtbFwiO1xufTtcbm1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZUh0bWxfU2FmZUh0bWwuaHRtbEVzY2FwZSA9IGZ1bmN0aW9uKHRleHRPckh0bWwpIHtcbiAgcmV0dXJuIHRleHRPckh0bWwgaW5zdGFuY2VvZiBtb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVIdG1sX1NhZmVIdG1sID8gdGV4dE9ySHRtbCA6IG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZUh0bWxfU2FmZUh0bWwuY3JlYXRlU2FmZUh0bWxTZWN1cml0eVByaXZhdGVEb05vdEFjY2Vzc09yRWxzZShnb29nLnN0cmluZy5pbnRlcm5hbC5odG1sRXNjYXBlKFwib2JqZWN0XCIgPT0gdHlwZW9mIHRleHRPckh0bWwgJiYgdGV4dE9ySHRtbC5pbXBsZW1lbnRzR29vZ1N0cmluZ1R5cGVkU3RyaW5nID8gdGV4dE9ySHRtbC5nZXRUeXBlZFN0cmluZ1ZhbHVlKCkgOiBTdHJpbmcodGV4dE9ySHRtbCkpKTtcbn07XG5tb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVIdG1sX1NhZmVIdG1sLmh0bWxFc2NhcGVQcmVzZXJ2aW5nTmV3bGluZXMgPSBmdW5jdGlvbih0ZXh0T3JIdG1sKSB7XG4gIGlmICh0ZXh0T3JIdG1sIGluc3RhbmNlb2YgbW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlSHRtbF9TYWZlSHRtbCkge1xuICAgIHJldHVybiB0ZXh0T3JIdG1sO1xuICB9XG4gIHZhciBodG1sID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlSHRtbF9TYWZlSHRtbC5odG1sRXNjYXBlKHRleHRPckh0bWwpO1xuICByZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlSHRtbF9TYWZlSHRtbC5jcmVhdGVTYWZlSHRtbFNlY3VyaXR5UHJpdmF0ZURvTm90QWNjZXNzT3JFbHNlKGdvb2cuc3RyaW5nLmludGVybmFsLm5ld0xpbmVUb0JyKG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZUh0bWxfU2FmZUh0bWwudW53cmFwKGh0bWwpKSk7XG59O1xubW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlSHRtbF9TYWZlSHRtbC5odG1sRXNjYXBlUHJlc2VydmluZ05ld2xpbmVzQW5kU3BhY2VzID0gZnVuY3Rpb24odGV4dE9ySHRtbCkge1xuICBpZiAodGV4dE9ySHRtbCBpbnN0YW5jZW9mIG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZUh0bWxfU2FmZUh0bWwpIHtcbiAgICByZXR1cm4gdGV4dE9ySHRtbDtcbiAgfVxuICB2YXIgaHRtbCA9IG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZUh0bWxfU2FmZUh0bWwuaHRtbEVzY2FwZSh0ZXh0T3JIdG1sKTtcbiAgcmV0dXJuIG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZUh0bWxfU2FmZUh0bWwuY3JlYXRlU2FmZUh0bWxTZWN1cml0eVByaXZhdGVEb05vdEFjY2Vzc09yRWxzZShnb29nLnN0cmluZy5pbnRlcm5hbC53aGl0ZXNwYWNlRXNjYXBlKG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZUh0bWxfU2FmZUh0bWwudW53cmFwKGh0bWwpKSk7XG59O1xubW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlSHRtbF9TYWZlSHRtbC5jb21tZW50ID0gZnVuY3Rpb24odGV4dCkge1xuICByZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlSHRtbF9TYWZlSHRtbC5jcmVhdGVTYWZlSHRtbFNlY3VyaXR5UHJpdmF0ZURvTm90QWNjZXNzT3JFbHNlKFwiXFx4M2MhLS1cIiArIGdvb2cuc3RyaW5nLmludGVybmFsLmh0bWxFc2NhcGUodGV4dCkgKyBcIi0tXFx4M2VcIik7XG59O1xubW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlSHRtbF9TYWZlSHRtbC5jcmVhdGUgPSBmdW5jdGlvbih0YWdOYW1lLCBhdHRyaWJ1dGVzLCBjb250ZW50KSB7XG4gIG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZUh0bWxfU2FmZUh0bWwudmVyaWZ5VGFnTmFtZShTdHJpbmcodGFnTmFtZSkpO1xuICByZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlSHRtbF9TYWZlSHRtbC5jcmVhdGVTYWZlSHRtbFRhZ1NlY3VyaXR5UHJpdmF0ZURvTm90QWNjZXNzT3JFbHNlKFN0cmluZyh0YWdOYW1lKSwgYXR0cmlidXRlcywgY29udGVudCk7XG59O1xubW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlSHRtbF9TYWZlSHRtbC52ZXJpZnlUYWdOYW1lID0gZnVuY3Rpb24odGFnTmFtZSkge1xuICBpZiAoIW1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZUh0bWxfVkFMSURfTkFNRVNfSU5fVEFHLnRlc3QodGFnTmFtZSkpIHtcbiAgICB0aHJvdyBFcnJvcihtb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVIdG1sX1NhZmVIdG1sLkVOQUJMRV9FUlJPUl9NRVNTQUdFUyA/IFwiSW52YWxpZCB0YWcgbmFtZSA8XCIgKyB0YWdOYW1lICsgXCI+LlwiIDogXCJcIik7XG4gIH1cbiAgaWYgKHRhZ05hbWUudG9VcHBlckNhc2UoKSBpbiBtb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVIdG1sX05PVF9BTExPV0VEX1RBR19OQU1FUykge1xuICAgIHRocm93IEVycm9yKG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZUh0bWxfU2FmZUh0bWwuRU5BQkxFX0VSUk9SX01FU1NBR0VTID8gXCJUYWcgbmFtZSA8XCIgKyB0YWdOYW1lICsgXCI+IGlzIG5vdCBhbGxvd2VkIGZvciBTYWZlSHRtbC5cIiA6IFwiXCIpO1xuICB9XG59O1xubW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlSHRtbF9TYWZlSHRtbC5jcmVhdGVJZnJhbWUgPSBmdW5jdGlvbihzcmMsIHNyY2RvYywgYXR0cmlidXRlcywgY29udGVudCkge1xuICBzcmMgJiYgZ29vZy5odG1sLlRydXN0ZWRSZXNvdXJjZVVybC51bndyYXAoc3JjKTtcbiAgdmFyIGZpeGVkQXR0cmlidXRlcyA9IHt9O1xuICBmaXhlZEF0dHJpYnV0ZXMuc3JjID0gc3JjIHx8IG51bGw7XG4gIGZpeGVkQXR0cmlidXRlcy5zcmNkb2MgPSBzcmNkb2MgJiYgbW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlSHRtbF9TYWZlSHRtbC51bndyYXAoc3JjZG9jKTtcbiAgdmFyIGNvbWJpbmVkQXR0cnMgPSBtb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVIdG1sX1NhZmVIdG1sLmNvbWJpbmVBdHRyaWJ1dGVzKGZpeGVkQXR0cmlidXRlcywge3NhbmRib3g6XCJcIn0sIGF0dHJpYnV0ZXMpO1xuICByZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlSHRtbF9TYWZlSHRtbC5jcmVhdGVTYWZlSHRtbFRhZ1NlY3VyaXR5UHJpdmF0ZURvTm90QWNjZXNzT3JFbHNlKFwiaWZyYW1lXCIsIGNvbWJpbmVkQXR0cnMsIGNvbnRlbnQpO1xufTtcbm1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZUh0bWxfU2FmZUh0bWwuY3JlYXRlU2FuZGJveElmcmFtZSA9IGZ1bmN0aW9uKHNyYywgc3JjZG9jLCBhdHRyaWJ1dGVzLCBjb250ZW50KSB7XG4gIGlmICghbW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlSHRtbF9TYWZlSHRtbC5jYW5Vc2VTYW5kYm94SWZyYW1lKCkpIHtcbiAgICB0aHJvdyBFcnJvcihtb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVIdG1sX1NhZmVIdG1sLkVOQUJMRV9FUlJPUl9NRVNTQUdFUyA/IFwiVGhlIGJyb3dzZXIgZG9lcyBub3Qgc3VwcG9ydCBzYW5kYm94ZWQgaWZyYW1lcy5cIiA6IFwiXCIpO1xuICB9XG4gIHZhciBmaXhlZEF0dHJpYnV0ZXMgPSB7fTtcbiAgZml4ZWRBdHRyaWJ1dGVzLnNyYyA9IHNyYyA/IGdvb2cuaHRtbC5TYWZlVXJsLnVud3JhcChnb29nLmh0bWwuU2FmZVVybC5zYW5pdGl6ZShzcmMpKSA6IG51bGw7XG4gIGZpeGVkQXR0cmlidXRlcy5zcmNkb2MgPSBzcmNkb2MgfHwgbnVsbDtcbiAgZml4ZWRBdHRyaWJ1dGVzLnNhbmRib3ggPSBcIlwiO1xuICB2YXIgY29tYmluZWRBdHRycyA9IG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZUh0bWxfU2FmZUh0bWwuY29tYmluZUF0dHJpYnV0ZXMoZml4ZWRBdHRyaWJ1dGVzLCB7fSwgYXR0cmlidXRlcyk7XG4gIHJldHVybiBtb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVIdG1sX1NhZmVIdG1sLmNyZWF0ZVNhZmVIdG1sVGFnU2VjdXJpdHlQcml2YXRlRG9Ob3RBY2Nlc3NPckVsc2UoXCJpZnJhbWVcIiwgY29tYmluZWRBdHRycywgY29udGVudCk7XG59O1xubW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlSHRtbF9TYWZlSHRtbC5jYW5Vc2VTYW5kYm94SWZyYW1lID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBnb29nLmdsb2JhbC5IVE1MSUZyYW1lRWxlbWVudCAmJiBcInNhbmRib3hcIiBpbiBnb29nLmdsb2JhbC5IVE1MSUZyYW1lRWxlbWVudC5wcm90b3R5cGU7XG59O1xubW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlSHRtbF9TYWZlSHRtbC5jcmVhdGVTY3JpcHRTcmMgPSBmdW5jdGlvbihzcmMsIGF0dHJpYnV0ZXMpIHtcbiAgZ29vZy5odG1sLlRydXN0ZWRSZXNvdXJjZVVybC51bndyYXAoc3JjKTtcbiAgdmFyIGNvbWJpbmVkQXR0cnMgPSBtb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVIdG1sX1NhZmVIdG1sLmNvbWJpbmVBdHRyaWJ1dGVzKHtzcmM6c3JjfSwge30sIGF0dHJpYnV0ZXMpO1xuICByZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlSHRtbF9TYWZlSHRtbC5jcmVhdGVTYWZlSHRtbFRhZ1NlY3VyaXR5UHJpdmF0ZURvTm90QWNjZXNzT3JFbHNlKFwic2NyaXB0XCIsIGNvbWJpbmVkQXR0cnMpO1xufTtcbm1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZUh0bWxfU2FmZUh0bWwuY3JlYXRlU2NyaXB0ID0gZnVuY3Rpb24oc2NyaXB0LCBhdHRyaWJ1dGVzKSB7XG4gIGZvciAodmFyIGF0dHIgaW4gYXR0cmlidXRlcykge1xuICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYXR0cmlidXRlcywgYXR0cikpIHtcbiAgICAgIHZhciBhdHRyTG93ZXIgPSBhdHRyLnRvTG93ZXJDYXNlKCk7XG4gICAgICBpZiAoXCJsYW5ndWFnZVwiID09IGF0dHJMb3dlciB8fCBcInNyY1wiID09IGF0dHJMb3dlciB8fCBcInRleHRcIiA9PSBhdHRyTG93ZXIpIHtcbiAgICAgICAgdGhyb3cgRXJyb3IobW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlSHRtbF9TYWZlSHRtbC5FTkFCTEVfRVJST1JfTUVTU0FHRVMgPyAnQ2Fubm90IHNldCBcIicgKyBhdHRyTG93ZXIgKyAnXCIgYXR0cmlidXRlJyA6IFwiXCIpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICB2YXIgY29udGVudCA9IFwiXCI7XG4gIHNjcmlwdCA9IG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X2NvbmNhdChzY3JpcHQpO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHNjcmlwdC5sZW5ndGg7IGkrKykge1xuICAgIGNvbnRlbnQgKz0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlU2NyaXB0X1NhZmVTY3JpcHQudW53cmFwKHNjcmlwdFtpXSk7XG4gIH1cbiAgdmFyIGh0bWxDb250ZW50ID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlSHRtbF9TYWZlSHRtbC5jcmVhdGVTYWZlSHRtbFNlY3VyaXR5UHJpdmF0ZURvTm90QWNjZXNzT3JFbHNlKGNvbnRlbnQpO1xuICByZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlSHRtbF9TYWZlSHRtbC5jcmVhdGVTYWZlSHRtbFRhZ1NlY3VyaXR5UHJpdmF0ZURvTm90QWNjZXNzT3JFbHNlKFwic2NyaXB0XCIsIGF0dHJpYnV0ZXMsIGh0bWxDb250ZW50KTtcbn07XG5tb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVIdG1sX1NhZmVIdG1sLmNyZWF0ZVN0eWxlID0gZnVuY3Rpb24oc3R5bGVTaGVldCwgYXR0cmlidXRlcykge1xuICB2YXIgY29tYmluZWRBdHRycyA9IG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZUh0bWxfU2FmZUh0bWwuY29tYmluZUF0dHJpYnV0ZXMoe3R5cGU6XCJ0ZXh0L2Nzc1wifSwge30sIGF0dHJpYnV0ZXMpLCBjb250ZW50ID0gXCJcIjtcbiAgc3R5bGVTaGVldCA9IG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X2NvbmNhdChzdHlsZVNoZWV0KTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHlsZVNoZWV0Lmxlbmd0aDsgaSsrKSB7XG4gICAgY29udGVudCArPSBtb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVTdHlsZVNoZWV0X1NhZmVTdHlsZVNoZWV0LnVud3JhcChzdHlsZVNoZWV0W2ldKTtcbiAgfVxuICB2YXIgaHRtbENvbnRlbnQgPSBtb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVIdG1sX1NhZmVIdG1sLmNyZWF0ZVNhZmVIdG1sU2VjdXJpdHlQcml2YXRlRG9Ob3RBY2Nlc3NPckVsc2UoY29udGVudCk7XG4gIHJldHVybiBtb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVIdG1sX1NhZmVIdG1sLmNyZWF0ZVNhZmVIdG1sVGFnU2VjdXJpdHlQcml2YXRlRG9Ob3RBY2Nlc3NPckVsc2UoXCJzdHlsZVwiLCBjb21iaW5lZEF0dHJzLCBodG1sQ29udGVudCk7XG59O1xubW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlSHRtbF9TYWZlSHRtbC5jcmVhdGVNZXRhUmVmcmVzaCA9IGZ1bmN0aW9uKHVybCwgc2Vjcykge1xuICB2YXIgdW53cmFwcGVkVXJsID0gZ29vZy5odG1sLlNhZmVVcmwudW53cmFwKGdvb2cuaHRtbC5TYWZlVXJsLnNhbml0aXplKHVybCkpO1xuICAobW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkYnJvd3Nlcl9tYXRjaElFKCkgfHwgbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkYnJvd3Nlcl9tYXRjaEVkZ2VIdG1sKCkpICYmIGdvb2cuc3RyaW5nLmludGVybmFsLmNvbnRhaW5zKHVud3JhcHBlZFVybCwgXCI7XCIpICYmICh1bndyYXBwZWRVcmwgPSBcIidcIiArIHVud3JhcHBlZFVybC5yZXBsYWNlKC8nL2csIFwiJTI3XCIpICsgXCInXCIpO1xuICByZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlSHRtbF9TYWZlSHRtbC5jcmVhdGVTYWZlSHRtbFRhZ1NlY3VyaXR5UHJpdmF0ZURvTm90QWNjZXNzT3JFbHNlKFwibWV0YVwiLCB7XCJodHRwLWVxdWl2XCI6XCJyZWZyZXNoXCIsIGNvbnRlbnQ6KHNlY3MgfHwgMCkgKyBcIjsgdXJsPVwiICsgdW53cmFwcGVkVXJsLH0pO1xufTtcbm1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZUh0bWxfU2FmZUh0bWwuam9pbiA9IGZ1bmN0aW9uKHNlcGFyYXRvciwgcGFydHMpIHtcbiAgdmFyIHNlcGFyYXRvckh0bWwgPSBtb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVIdG1sX1NhZmVIdG1sLmh0bWxFc2NhcGUoc2VwYXJhdG9yKSwgY29udGVudCA9IFtdLCBhZGRBcmd1bWVudCA9IGZ1bmN0aW9uKGFyZ3VtZW50KSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoYXJndW1lbnQpKSB7XG4gICAgICBhcmd1bWVudC5mb3JFYWNoKGFkZEFyZ3VtZW50KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIGh0bWwgPSBtb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVIdG1sX1NhZmVIdG1sLmh0bWxFc2NhcGUoYXJndW1lbnQpO1xuICAgICAgY29udGVudC5wdXNoKG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZUh0bWxfU2FmZUh0bWwudW53cmFwKGh0bWwpKTtcbiAgICB9XG4gIH07XG4gIHBhcnRzLmZvckVhY2goYWRkQXJndW1lbnQpO1xuICByZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlSHRtbF9TYWZlSHRtbC5jcmVhdGVTYWZlSHRtbFNlY3VyaXR5UHJpdmF0ZURvTm90QWNjZXNzT3JFbHNlKGNvbnRlbnQuam9pbihtb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVIdG1sX1NhZmVIdG1sLnVud3JhcChzZXBhcmF0b3JIdG1sKSkpO1xufTtcbm1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZUh0bWxfU2FmZUh0bWwuY29uY2F0ID0gZnVuY3Rpb24odmFyX2FyZ3MpIHtcbiAgcmV0dXJuIG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZUh0bWxfU2FmZUh0bWwuam9pbihtb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVIdG1sX1NhZmVIdG1sLkVNUFRZLCBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpKTtcbn07XG5tb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVIdG1sX1NhZmVIdG1sLmNyZWF0ZVNhZmVIdG1sU2VjdXJpdHlQcml2YXRlRG9Ob3RBY2Nlc3NPckVsc2UgPSBmdW5jdGlvbihodG1sKSB7XG4gIHZhciBub2lubGluZUh0bWwgPSBodG1sLCBwb2xpY3kgPSBnb29nLmh0bWwudHJ1c3RlZHR5cGVzLmdldFBvbGljeVByaXZhdGVEb05vdEFjY2Vzc09yRWxzZSgpLCB0cnVzdGVkSHRtbCA9IHBvbGljeSA/IHBvbGljeS5jcmVhdGVIVE1MKG5vaW5saW5lSHRtbCkgOiBub2lubGluZUh0bWw7XG4gIHJldHVybiBuZXcgbW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlSHRtbF9TYWZlSHRtbCh0cnVzdGVkSHRtbCwgbW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlSHRtbF9DT05TVFJVQ1RPUl9UT0tFTl9QUklWQVRFKTtcbn07XG5tb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVIdG1sX1NhZmVIdG1sLmNyZWF0ZVNhZmVIdG1sVGFnU2VjdXJpdHlQcml2YXRlRG9Ob3RBY2Nlc3NPckVsc2UgPSBmdW5jdGlvbih0YWdOYW1lLCBhdHRyaWJ1dGVzLCBjb250ZW50KSB7XG4gIHZhciByZXN1bHQgPSBcIjxcIiArIHRhZ05hbWUgKyBtb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVIdG1sX1NhZmVIdG1sLnN0cmluZ2lmeUF0dHJpYnV0ZXModGFnTmFtZSwgYXR0cmlidXRlcyk7XG4gIG51bGwgPT0gY29udGVudCA/IGNvbnRlbnQgPSBbXSA6IEFycmF5LmlzQXJyYXkoY29udGVudCkgfHwgKGNvbnRlbnQgPSBbY29udGVudF0pO1xuICBpZiAoZ29vZy5kb20udGFncy5pc1ZvaWRUYWcodGFnTmFtZS50b0xvd2VyQ2FzZSgpKSkge1xuICAgIGdvb2cuYXNzZXJ0cy5hc3NlcnQoIWNvbnRlbnQubGVuZ3RoLCBcIlZvaWQgdGFnIDxcIiArIHRhZ05hbWUgKyBcIj4gZG9lcyBub3QgYWxsb3cgY29udGVudC5cIiksIHJlc3VsdCArPSBcIj5cIjtcbiAgfSBlbHNlIHtcbiAgICB2YXIgaHRtbCA9IG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZUh0bWxfU2FmZUh0bWwuY29uY2F0KGNvbnRlbnQpO1xuICAgIHJlc3VsdCArPSBcIj5cIiArIG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZUh0bWxfU2FmZUh0bWwudW53cmFwKGh0bWwpICsgXCI8L1wiICsgdGFnTmFtZSArIFwiPlwiO1xuICB9XG4gIHJldHVybiBtb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVIdG1sX1NhZmVIdG1sLmNyZWF0ZVNhZmVIdG1sU2VjdXJpdHlQcml2YXRlRG9Ob3RBY2Nlc3NPckVsc2UocmVzdWx0KTtcbn07XG5tb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVIdG1sX1NhZmVIdG1sLnN0cmluZ2lmeUF0dHJpYnV0ZXMgPSBmdW5jdGlvbih0YWdOYW1lLCBhdHRyaWJ1dGVzKSB7XG4gIHZhciByZXN1bHQgPSBcIlwiO1xuICBpZiAoYXR0cmlidXRlcykge1xuICAgIGZvciAodmFyIG5hbWUgaW4gYXR0cmlidXRlcykge1xuICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChhdHRyaWJ1dGVzLCBuYW1lKSkge1xuICAgICAgICBpZiAoIW1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZUh0bWxfVkFMSURfTkFNRVNfSU5fVEFHLnRlc3QobmFtZSkpIHtcbiAgICAgICAgICB0aHJvdyBFcnJvcihtb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVIdG1sX1NhZmVIdG1sLkVOQUJMRV9FUlJPUl9NRVNTQUdFUyA/ICdJbnZhbGlkIGF0dHJpYnV0ZSBuYW1lIFwiJyArIG5hbWUgKyAnXCIuJyA6IFwiXCIpO1xuICAgICAgICB9XG4gICAgICAgIHZhciB2YWx1ZSA9IGF0dHJpYnV0ZXNbbmFtZV07XG4gICAgICAgIG51bGwgIT0gdmFsdWUgJiYgKHJlc3VsdCArPSBcIiBcIiArIG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZUh0bWxfZ2V0QXR0ck5hbWVBbmRWYWx1ZSh0YWdOYW1lLCBuYW1lLCB2YWx1ZSkpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufTtcbm1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZUh0bWxfU2FmZUh0bWwuY29tYmluZUF0dHJpYnV0ZXMgPSBmdW5jdGlvbihmaXhlZEF0dHJpYnV0ZXMsIGRlZmF1bHRBdHRyaWJ1dGVzLCBhdHRyaWJ1dGVzKSB7XG4gIHZhciBjb21iaW5lZEF0dHJpYnV0ZXMgPSB7fSwgbmFtZTtcbiAgZm9yIChuYW1lIGluIGZpeGVkQXR0cmlidXRlcykge1xuICAgIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChmaXhlZEF0dHJpYnV0ZXMsIG5hbWUpICYmIChnb29nLmFzc2VydHMuYXNzZXJ0KG5hbWUudG9Mb3dlckNhc2UoKSA9PSBuYW1lLCBcIk11c3QgYmUgbG93ZXIgY2FzZVwiKSwgY29tYmluZWRBdHRyaWJ1dGVzW25hbWVdID0gZml4ZWRBdHRyaWJ1dGVzW25hbWVdKTtcbiAgfVxuICBmb3IgKHZhciBuYW1lJDQ4IGluIGRlZmF1bHRBdHRyaWJ1dGVzKSB7XG4gICAgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGRlZmF1bHRBdHRyaWJ1dGVzLCBuYW1lJDQ4KSAmJiAoZ29vZy5hc3NlcnRzLmFzc2VydChuYW1lJDQ4LnRvTG93ZXJDYXNlKCkgPT0gbmFtZSQ0OCwgXCJNdXN0IGJlIGxvd2VyIGNhc2VcIiksIGNvbWJpbmVkQXR0cmlidXRlc1tuYW1lJDQ4XSA9IGRlZmF1bHRBdHRyaWJ1dGVzW25hbWUkNDhdKTtcbiAgfVxuICBpZiAoYXR0cmlidXRlcykge1xuICAgIGZvciAodmFyIG5hbWUkNDkgaW4gYXR0cmlidXRlcykge1xuICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChhdHRyaWJ1dGVzLCBuYW1lJDQ5KSkge1xuICAgICAgICB2YXIgbmFtZUxvd2VyID0gbmFtZSQ0OS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICBpZiAobmFtZUxvd2VyIGluIGZpeGVkQXR0cmlidXRlcykge1xuICAgICAgICAgIHRocm93IEVycm9yKG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZUh0bWxfU2FmZUh0bWwuRU5BQkxFX0VSUk9SX01FU1NBR0VTID8gJ0Nhbm5vdCBvdmVycmlkZSBcIicgKyBuYW1lTG93ZXIgKyAnXCIgYXR0cmlidXRlLCBnb3QgXCInICsgbmFtZSQ0OSArICdcIiB3aXRoIHZhbHVlIFwiJyArIGF0dHJpYnV0ZXNbbmFtZSQ0OV0gKyAnXCInIDogXCJcIik7XG4gICAgICAgIH1cbiAgICAgICAgbmFtZUxvd2VyIGluIGRlZmF1bHRBdHRyaWJ1dGVzICYmIGRlbGV0ZSBjb21iaW5lZEF0dHJpYnV0ZXNbbmFtZUxvd2VyXTtcbiAgICAgICAgY29tYmluZWRBdHRyaWJ1dGVzW25hbWUkNDldID0gYXR0cmlidXRlc1tuYW1lJDQ5XTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIGNvbWJpbmVkQXR0cmlidXRlcztcbn07XG5tb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVIdG1sX1NhZmVIdG1sLkVOQUJMRV9FUlJPUl9NRVNTQUdFUyA9IGdvb2cuREVCVUc7XG5tb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVIdG1sX1NhZmVIdG1sLlNVUFBPUlRfU1RZTEVfQVRUUklCVVRFID0gITA7XG5tb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVIdG1sX1NhZmVIdG1sLmZyb20gPSBtb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVIdG1sX1NhZmVIdG1sLmh0bWxFc2NhcGU7XG52YXIgbW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlSHRtbF9WQUxJRF9OQU1FU19JTl9UQUcgPSAvXlthLXpBLVowLTktXSskLywgbW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlSHRtbF9VUkxfQVRUUklCVVRFUyA9IHthY3Rpb246ITAsIGNpdGU6ITAsIGRhdGE6ITAsIGZvcm1hY3Rpb246ITAsIGhyZWY6ITAsIG1hbmlmZXN0OiEwLCBwb3N0ZXI6ITAsIHNyYzohMH0sIG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZUh0bWxfTk9UX0FMTE9XRURfVEFHX05BTUVTID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckb2JqZWN0X2NyZWF0ZVNldChnb29nLmRvbS5UYWdOYW1lLkFQUExFVCwgZ29vZy5kb20uVGFnTmFtZS5CQVNFLCBnb29nLmRvbS5UYWdOYW1lLkVNQkVELCBnb29nLmRvbS5UYWdOYW1lLklGUkFNRSwgZ29vZy5kb20uVGFnTmFtZS5MSU5LLCBnb29nLmRvbS5UYWdOYW1lLk1BVEgsIGdvb2cuZG9tLlRhZ05hbWUuTUVUQSwgZ29vZy5kb20uVGFnTmFtZS5PQkpFQ1QsIFxuZ29vZy5kb20uVGFnTmFtZS5TQ1JJUFQsIGdvb2cuZG9tLlRhZ05hbWUuU1RZTEUsIGdvb2cuZG9tLlRhZ05hbWUuU1ZHLCBnb29nLmRvbS5UYWdOYW1lLlRFTVBMQVRFKTtcbmZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZUh0bWxfZ2V0QXR0ck5hbWVBbmRWYWx1ZSh0YWdOYW1lLCBuYW1lLCB2YWx1ZSkge1xuICBpZiAodmFsdWUgaW5zdGFuY2VvZiBnb29nLnN0cmluZy5Db25zdCkge1xuICAgIHZhbHVlID0gZ29vZy5zdHJpbmcuQ29uc3QudW53cmFwKHZhbHVlKTtcbiAgfSBlbHNlIGlmIChcInN0eWxlXCIgPT0gbmFtZS50b0xvd2VyQ2FzZSgpKSB7XG4gICAgaWYgKG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZUh0bWxfU2FmZUh0bWwuU1VQUE9SVF9TVFlMRV9BVFRSSUJVVEUpIHtcbiAgICAgIHZhbHVlID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlSHRtbF9nZXRTdHlsZVZhbHVlKHZhbHVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgRXJyb3IobW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlSHRtbF9TYWZlSHRtbC5FTkFCTEVfRVJST1JfTUVTU0FHRVMgPyAnQXR0cmlidXRlIFwic3R5bGVcIiBub3Qgc3VwcG9ydGVkLicgOiBcIlwiKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaWYgKC9eb24vaS50ZXN0KG5hbWUpKSB7XG4gICAgICB0aHJvdyBFcnJvcihtb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVIdG1sX1NhZmVIdG1sLkVOQUJMRV9FUlJPUl9NRVNTQUdFUyA/ICdBdHRyaWJ1dGUgXCInICsgbmFtZSArICdcIiByZXF1aXJlcyBnb29nLnN0cmluZy5Db25zdCB2YWx1ZSwgXCInICsgdmFsdWUgKyAnXCIgZ2l2ZW4uJyA6IFwiXCIpO1xuICAgIH1cbiAgICBpZiAobmFtZS50b0xvd2VyQ2FzZSgpIGluIG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZUh0bWxfVVJMX0FUVFJJQlVURVMpIHtcbiAgICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIGdvb2cuaHRtbC5UcnVzdGVkUmVzb3VyY2VVcmwpIHtcbiAgICAgICAgdmFsdWUgPSBnb29nLmh0bWwuVHJ1c3RlZFJlc291cmNlVXJsLnVud3JhcCh2YWx1ZSk7XG4gICAgICB9IGVsc2UgaWYgKHZhbHVlIGluc3RhbmNlb2YgZ29vZy5odG1sLlNhZmVVcmwpIHtcbiAgICAgICAgdmFsdWUgPSBnb29nLmh0bWwuU2FmZVVybC51bndyYXAodmFsdWUpO1xuICAgICAgfSBlbHNlIGlmIChcInN0cmluZ1wiID09PSB0eXBlb2YgdmFsdWUpIHtcbiAgICAgICAgdmFsdWUgPSBnb29nLmh0bWwuU2FmZVVybC5zYW5pdGl6ZSh2YWx1ZSkuZ2V0VHlwZWRTdHJpbmdWYWx1ZSgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgRXJyb3IobW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlSHRtbF9TYWZlSHRtbC5FTkFCTEVfRVJST1JfTUVTU0FHRVMgPyAnQXR0cmlidXRlIFwiJyArIG5hbWUgKyAnXCIgb24gdGFnIFwiJyArIHRhZ05hbWUgKyAnXCIgcmVxdWlyZXMgZ29vZy5odG1sLlNhZmVVcmwsIGdvb2cuc3RyaW5nLkNvbnN0LCBvciBzdHJpbmcsIHZhbHVlIFwiJyArIHZhbHVlICsgJ1wiIGdpdmVuLicgOiBcIlwiKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgdmFsdWUuaW1wbGVtZW50c0dvb2dTdHJpbmdUeXBlZFN0cmluZyAmJiAodmFsdWUgPSB2YWx1ZS5nZXRUeXBlZFN0cmluZ1ZhbHVlKCkpO1xuICBnb29nLmFzc2VydHMuYXNzZXJ0KFwic3RyaW5nXCIgPT09IHR5cGVvZiB2YWx1ZSB8fCBcIm51bWJlclwiID09PSB0eXBlb2YgdmFsdWUsIFwiU3RyaW5nIG9yIG51bWJlciB2YWx1ZSBleHBlY3RlZCwgZ290IFwiICsgdHlwZW9mIHZhbHVlICsgXCIgd2l0aCB2YWx1ZTogXCIgKyB2YWx1ZSk7XG4gIHJldHVybiBuYW1lICsgJz1cIicgKyBnb29nLnN0cmluZy5pbnRlcm5hbC5odG1sRXNjYXBlKFN0cmluZyh2YWx1ZSkpICsgJ1wiJztcbn1cbmZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZUh0bWxfZ2V0U3R5bGVWYWx1ZSh2YWx1ZSkge1xuICBpZiAoIWdvb2cuaXNPYmplY3QodmFsdWUpKSB7XG4gICAgdGhyb3cgRXJyb3IobW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlSHRtbF9TYWZlSHRtbC5FTkFCTEVfRVJST1JfTUVTU0FHRVMgPyAnVGhlIFwic3R5bGVcIiBhdHRyaWJ1dGUgcmVxdWlyZXMgZ29vZy5odG1sLlNhZmVTdHlsZSBvciBtYXAgb2Ygc3R5bGUgcHJvcGVydGllcywgJyArIHR5cGVvZiB2YWx1ZSArIFwiIGdpdmVuOiBcIiArIHZhbHVlIDogXCJcIik7XG4gIH1cbiAgdmFsdWUgaW5zdGFuY2VvZiBtb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVTdHlsZV9TYWZlU3R5bGUgfHwgKHZhbHVlID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlU3R5bGVfU2FmZVN0eWxlLmNyZWF0ZSh2YWx1ZSkpO1xuICByZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlU3R5bGVfU2FmZVN0eWxlLnVud3JhcCh2YWx1ZSk7XG59XG5tb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVIdG1sX1NhZmVIdG1sLkRPQ1RZUEVfSFRNTCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlSHRtbF9TYWZlSHRtbC5jcmVhdGVTYWZlSHRtbFNlY3VyaXR5UHJpdmF0ZURvTm90QWNjZXNzT3JFbHNlKFwiPCFET0NUWVBFIGh0bWw+XCIpO1xufSgpO1xubW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlSHRtbF9TYWZlSHRtbC5FTVBUWSA9IG5ldyBtb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVIdG1sX1NhZmVIdG1sKGdvb2cuZ2xvYmFsLnRydXN0ZWRUeXBlcyAmJiBnb29nLmdsb2JhbC50cnVzdGVkVHlwZXMuZW1wdHlIVE1MIHx8IFwiXCIsIG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZUh0bWxfQ09OU1RSVUNUT1JfVE9LRU5fUFJJVkFURSk7XG5tb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVIdG1sX1NhZmVIdG1sLkJSID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVIdG1sX1NhZmVIdG1sLmNyZWF0ZVNhZmVIdG1sU2VjdXJpdHlQcml2YXRlRG9Ob3RBY2Nlc3NPckVsc2UoXCI8YnI+XCIpO1xufSgpO1xuZ29vZy5odG1sLlNhZmVIdG1sID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlSHRtbF9TYWZlSHRtbDtcbmdvb2cuaHRtbC51bmNoZWNrZWRjb252ZXJzaW9ucyA9IHt9O1xuZ29vZy5odG1sLnVuY2hlY2tlZGNvbnZlcnNpb25zLnNhZmVIdG1sRnJvbVN0cmluZ0tub3duVG9TYXRpc2Z5VHlwZUNvbnRyYWN0ID0gZnVuY3Rpb24oanVzdGlmaWNhdGlvbiwgaHRtbCkge1xuICBnb29nLmFzc2VydHMuYXNzZXJ0U3RyaW5nKGdvb2cuc3RyaW5nLkNvbnN0LnVud3JhcChqdXN0aWZpY2F0aW9uKSwgXCJtdXN0IHByb3ZpZGUganVzdGlmaWNhdGlvblwiKTtcbiAgZ29vZy5hc3NlcnRzLmFzc2VydCghZ29vZy5zdHJpbmcuaW50ZXJuYWwuaXNFbXB0eU9yV2hpdGVzcGFjZShnb29nLnN0cmluZy5Db25zdC51bndyYXAoanVzdGlmaWNhdGlvbikpLCBcIm11c3QgcHJvdmlkZSBub24tZW1wdHkganVzdGlmaWNhdGlvblwiKTtcbiAgcmV0dXJuIG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZUh0bWxfU2FmZUh0bWwuY3JlYXRlU2FmZUh0bWxTZWN1cml0eVByaXZhdGVEb05vdEFjY2Vzc09yRWxzZShodG1sKTtcbn07XG5nb29nLmh0bWwudW5jaGVja2VkY29udmVyc2lvbnMuc2FmZVNjcmlwdEZyb21TdHJpbmdLbm93blRvU2F0aXNmeVR5cGVDb250cmFjdCA9IGZ1bmN0aW9uKGp1c3RpZmljYXRpb24sIHNjcmlwdCkge1xuICBnb29nLmFzc2VydHMuYXNzZXJ0U3RyaW5nKGdvb2cuc3RyaW5nLkNvbnN0LnVud3JhcChqdXN0aWZpY2F0aW9uKSwgXCJtdXN0IHByb3ZpZGUganVzdGlmaWNhdGlvblwiKTtcbiAgZ29vZy5hc3NlcnRzLmFzc2VydCghZ29vZy5zdHJpbmcuaW50ZXJuYWwuaXNFbXB0eU9yV2hpdGVzcGFjZShnb29nLnN0cmluZy5Db25zdC51bndyYXAoanVzdGlmaWNhdGlvbikpLCBcIm11c3QgcHJvdmlkZSBub24tZW1wdHkganVzdGlmaWNhdGlvblwiKTtcbiAgcmV0dXJuIG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZVNjcmlwdF9TYWZlU2NyaXB0LmNyZWF0ZVNhZmVTY3JpcHRTZWN1cml0eVByaXZhdGVEb05vdEFjY2Vzc09yRWxzZShzY3JpcHQpO1xufTtcbmdvb2cuaHRtbC51bmNoZWNrZWRjb252ZXJzaW9ucy5zYWZlU3R5bGVGcm9tU3RyaW5nS25vd25Ub1NhdGlzZnlUeXBlQ29udHJhY3QgPSBmdW5jdGlvbihqdXN0aWZpY2F0aW9uLCBzdHlsZSkge1xuICBnb29nLmFzc2VydHMuYXNzZXJ0U3RyaW5nKGdvb2cuc3RyaW5nLkNvbnN0LnVud3JhcChqdXN0aWZpY2F0aW9uKSwgXCJtdXN0IHByb3ZpZGUganVzdGlmaWNhdGlvblwiKTtcbiAgZ29vZy5hc3NlcnRzLmFzc2VydCghZ29vZy5zdHJpbmcuaW50ZXJuYWwuaXNFbXB0eU9yV2hpdGVzcGFjZShnb29nLnN0cmluZy5Db25zdC51bndyYXAoanVzdGlmaWNhdGlvbikpLCBcIm11c3QgcHJvdmlkZSBub24tZW1wdHkganVzdGlmaWNhdGlvblwiKTtcbiAgcmV0dXJuIG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZVN0eWxlX1NhZmVTdHlsZS5jcmVhdGVTYWZlU3R5bGVTZWN1cml0eVByaXZhdGVEb05vdEFjY2Vzc09yRWxzZShzdHlsZSk7XG59O1xuZ29vZy5odG1sLnVuY2hlY2tlZGNvbnZlcnNpb25zLnNhZmVTdHlsZVNoZWV0RnJvbVN0cmluZ0tub3duVG9TYXRpc2Z5VHlwZUNvbnRyYWN0ID0gZnVuY3Rpb24oanVzdGlmaWNhdGlvbiwgc3R5bGVTaGVldCkge1xuICBnb29nLmFzc2VydHMuYXNzZXJ0U3RyaW5nKGdvb2cuc3RyaW5nLkNvbnN0LnVud3JhcChqdXN0aWZpY2F0aW9uKSwgXCJtdXN0IHByb3ZpZGUganVzdGlmaWNhdGlvblwiKTtcbiAgZ29vZy5hc3NlcnRzLmFzc2VydCghZ29vZy5zdHJpbmcuaW50ZXJuYWwuaXNFbXB0eU9yV2hpdGVzcGFjZShnb29nLnN0cmluZy5Db25zdC51bndyYXAoanVzdGlmaWNhdGlvbikpLCBcIm11c3QgcHJvdmlkZSBub24tZW1wdHkganVzdGlmaWNhdGlvblwiKTtcbiAgcmV0dXJuIG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZVN0eWxlU2hlZXRfU2FmZVN0eWxlU2hlZXQuY3JlYXRlU2FmZVN0eWxlU2hlZXRTZWN1cml0eVByaXZhdGVEb05vdEFjY2Vzc09yRWxzZShzdHlsZVNoZWV0KTtcbn07XG5nb29nLmh0bWwudW5jaGVja2VkY29udmVyc2lvbnMuc2FmZVVybEZyb21TdHJpbmdLbm93blRvU2F0aXNmeVR5cGVDb250cmFjdCA9IGZ1bmN0aW9uKGp1c3RpZmljYXRpb24sIHVybCkge1xuICBnb29nLmFzc2VydHMuYXNzZXJ0U3RyaW5nKGdvb2cuc3RyaW5nLkNvbnN0LnVud3JhcChqdXN0aWZpY2F0aW9uKSwgXCJtdXN0IHByb3ZpZGUganVzdGlmaWNhdGlvblwiKTtcbiAgZ29vZy5hc3NlcnRzLmFzc2VydCghZ29vZy5zdHJpbmcuaW50ZXJuYWwuaXNFbXB0eU9yV2hpdGVzcGFjZShnb29nLnN0cmluZy5Db25zdC51bndyYXAoanVzdGlmaWNhdGlvbikpLCBcIm11c3QgcHJvdmlkZSBub24tZW1wdHkganVzdGlmaWNhdGlvblwiKTtcbiAgcmV0dXJuIGdvb2cuaHRtbC5TYWZlVXJsLmNyZWF0ZVNhZmVVcmxTZWN1cml0eVByaXZhdGVEb05vdEFjY2Vzc09yRWxzZSh1cmwpO1xufTtcbmdvb2cuaHRtbC51bmNoZWNrZWRjb252ZXJzaW9ucy50cnVzdGVkUmVzb3VyY2VVcmxGcm9tU3RyaW5nS25vd25Ub1NhdGlzZnlUeXBlQ29udHJhY3QgPSBmdW5jdGlvbihqdXN0aWZpY2F0aW9uLCB1cmwpIHtcbiAgZ29vZy5hc3NlcnRzLmFzc2VydFN0cmluZyhnb29nLnN0cmluZy5Db25zdC51bndyYXAoanVzdGlmaWNhdGlvbiksIFwibXVzdCBwcm92aWRlIGp1c3RpZmljYXRpb25cIik7XG4gIGdvb2cuYXNzZXJ0cy5hc3NlcnQoIWdvb2cuc3RyaW5nLmludGVybmFsLmlzRW1wdHlPcldoaXRlc3BhY2UoZ29vZy5zdHJpbmcuQ29uc3QudW53cmFwKGp1c3RpZmljYXRpb24pKSwgXCJtdXN0IHByb3ZpZGUgbm9uLWVtcHR5IGp1c3RpZmljYXRpb25cIik7XG4gIHJldHVybiBnb29nLmh0bWwuVHJ1c3RlZFJlc291cmNlVXJsLmNyZWF0ZVRydXN0ZWRSZXNvdXJjZVVybFNlY3VyaXR5UHJpdmF0ZURvTm90QWNjZXNzT3JFbHNlKHVybCk7XG59O1xuZ29vZy5kb20uc2FmZSA9IHt9O1xuZ29vZy5kb20uc2FmZS5JbnNlcnRBZGphY2VudEh0bWxQb3NpdGlvbiA9IHtBRlRFUkJFR0lOOlwiYWZ0ZXJiZWdpblwiLCBBRlRFUkVORDpcImFmdGVyZW5kXCIsIEJFRk9SRUJFR0lOOlwiYmVmb3JlYmVnaW5cIiwgQkVGT1JFRU5EOlwiYmVmb3JlZW5kXCJ9O1xuZ29vZy5kb20uc2FmZS5pbnNlcnRBZGphY2VudEh0bWwgPSBmdW5jdGlvbihub2RlLCBwb3NpdGlvbiwgaHRtbCkge1xuICBub2RlLmluc2VydEFkamFjZW50SFRNTChwb3NpdGlvbiwgbW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlSHRtbF9TYWZlSHRtbC51bndyYXBUcnVzdGVkSFRNTChodG1sKSk7XG59O1xuZ29vZy5kb20uc2FmZS5TRVRfSU5ORVJfSFRNTF9ESVNBTExPV0VEX1RBR1NfID0ge01BVEg6ITAsIFNDUklQVDohMCwgU1RZTEU6ITAsIFNWRzohMCwgVEVNUExBVEU6ITB9O1xuZ29vZy5kb20uc2FmZS5pc0lubmVySHRtbENsZWFudXBSZWN1cnNpdmVfID0gZ29vZy5mdW5jdGlvbnMuY2FjaGVSZXR1cm5WYWx1ZShmdW5jdGlvbigpIHtcbiAgaWYgKGdvb2cuREVCVUcgJiYgXCJ1bmRlZmluZWRcIiA9PT0gdHlwZW9mIGRvY3VtZW50KSB7XG4gICAgcmV0dXJuICExO1xuICB9XG4gIHZhciBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLCBjaGlsZERpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gIGNoaWxkRGl2LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikpO1xuICBkaXYuYXBwZW5kQ2hpbGQoY2hpbGREaXYpO1xuICBpZiAoZ29vZy5ERUJVRyAmJiAhZGl2LmZpcnN0Q2hpbGQpIHtcbiAgICByZXR1cm4gITE7XG4gIH1cbiAgdmFyIGlubmVyQ2hpbGQgPSBkaXYuZmlyc3RDaGlsZC5maXJzdENoaWxkO1xuICBkaXYuaW5uZXJIVE1MID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlSHRtbF9TYWZlSHRtbC51bndyYXBUcnVzdGVkSFRNTChtb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVIdG1sX1NhZmVIdG1sLkVNUFRZKTtcbiAgcmV0dXJuICFpbm5lckNoaWxkLnBhcmVudEVsZW1lbnQ7XG59KTtcbmdvb2cuZG9tLnNhZmUudW5zYWZlU2V0SW5uZXJIdG1sRG9Ob3RVc2VPckVsc2UgPSBmdW5jdGlvbihlbGVtLCBodG1sKSB7XG4gIGlmIChnb29nLmRvbS5zYWZlLmlzSW5uZXJIdG1sQ2xlYW51cFJlY3Vyc2l2ZV8oKSkge1xuICAgIGZvciAoOyBlbGVtLmxhc3RDaGlsZDspIHtcbiAgICAgIGVsZW0ucmVtb3ZlQ2hpbGQoZWxlbS5sYXN0Q2hpbGQpO1xuICAgIH1cbiAgfVxuICBlbGVtLmlubmVySFRNTCA9IG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZUh0bWxfU2FmZUh0bWwudW53cmFwVHJ1c3RlZEhUTUwoaHRtbCk7XG59O1xuZ29vZy5kb20uc2FmZS5zZXRJbm5lckh0bWwgPSBmdW5jdGlvbihlbGVtLCBodG1sKSB7XG4gIGlmIChnb29nLmFzc2VydHMuRU5BQkxFX0FTU0VSVFMgJiYgZWxlbS50YWdOYW1lICYmIGdvb2cuZG9tLnNhZmUuU0VUX0lOTkVSX0hUTUxfRElTQUxMT1dFRF9UQUdTX1tlbGVtLnRhZ05hbWUudG9VcHBlckNhc2UoKV0pIHtcbiAgICB0aHJvdyBFcnJvcihcImdvb2cuZG9tLnNhZmUuc2V0SW5uZXJIdG1sIGNhbm5vdCBiZSB1c2VkIHRvIHNldCBjb250ZW50IG9mIFwiICsgZWxlbS50YWdOYW1lICsgXCIuXCIpO1xuICB9XG4gIGdvb2cuZG9tLnNhZmUudW5zYWZlU2V0SW5uZXJIdG1sRG9Ob3RVc2VPckVsc2UoZWxlbSwgaHRtbCk7XG59O1xuZ29vZy5kb20uc2FmZS5zZXRJbm5lckh0bWxGcm9tQ29uc3RhbnQgPSBmdW5jdGlvbihlbGVtZW50LCBjb25zdEh0bWwpIHtcbiAgZ29vZy5kb20uc2FmZS5zZXRJbm5lckh0bWwoZWxlbWVudCwgZ29vZy5odG1sLnVuY2hlY2tlZGNvbnZlcnNpb25zLnNhZmVIdG1sRnJvbVN0cmluZ0tub3duVG9TYXRpc2Z5VHlwZUNvbnRyYWN0KGdvb2cuc3RyaW5nLkNvbnN0LmZyb20oXCJDb25zdGFudCBIVE1MIHRvIGJlIGltbWVkaWF0ZWxseSB1c2VkLlwiKSwgZ29vZy5zdHJpbmcuQ29uc3QudW53cmFwKGNvbnN0SHRtbCkpKTtcbn07XG5nb29nLmRvbS5zYWZlLnNldE91dGVySHRtbCA9IGZ1bmN0aW9uKGVsZW0sIGh0bWwpIHtcbiAgZWxlbS5vdXRlckhUTUwgPSBtb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVIdG1sX1NhZmVIdG1sLnVud3JhcFRydXN0ZWRIVE1MKGh0bWwpO1xufTtcbmdvb2cuZG9tLnNhZmUuc2V0Rm9ybUVsZW1lbnRBY3Rpb24gPSBmdW5jdGlvbihmb3JtLCB1cmwpIHtcbiAgdmFyIHNhZmVVcmwgPSB1cmwgaW5zdGFuY2VvZiBnb29nLmh0bWwuU2FmZVVybCA/IHVybCA6IGdvb2cuaHRtbC5TYWZlVXJsLnNhbml0aXplQXNzZXJ0VW5jaGFuZ2VkKHVybCk7XG4gIG1vZHVsZSRjb250ZW50cyRnb29nJGFzc2VydHMkZG9tX2Fzc2VydElzSHRtbEZvcm1FbGVtZW50KGZvcm0pLmFjdGlvbiA9IGdvb2cuaHRtbC5TYWZlVXJsLnVud3JhcChzYWZlVXJsKTtcbn07XG5nb29nLmRvbS5zYWZlLnNldEJ1dHRvbkZvcm1BY3Rpb24gPSBmdW5jdGlvbihidXR0b24sIHVybCkge1xuICB2YXIgc2FmZVVybCA9IHVybCBpbnN0YW5jZW9mIGdvb2cuaHRtbC5TYWZlVXJsID8gdXJsIDogZ29vZy5odG1sLlNhZmVVcmwuc2FuaXRpemVBc3NlcnRVbmNoYW5nZWQodXJsKTtcbiAgbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXNzZXJ0cyRkb21fYXNzZXJ0SXNIdG1sQnV0dG9uRWxlbWVudChidXR0b24pLmZvcm1BY3Rpb24gPSBnb29nLmh0bWwuU2FmZVVybC51bndyYXAoc2FmZVVybCk7XG59O1xuZ29vZy5kb20uc2FmZS5zZXRJbnB1dEZvcm1BY3Rpb24gPSBmdW5jdGlvbihpbnB1dCwgdXJsKSB7XG4gIHZhciBzYWZlVXJsID0gdXJsIGluc3RhbmNlb2YgZ29vZy5odG1sLlNhZmVVcmwgPyB1cmwgOiBnb29nLmh0bWwuU2FmZVVybC5zYW5pdGl6ZUFzc2VydFVuY2hhbmdlZCh1cmwpO1xuICBtb2R1bGUkY29udGVudHMkZ29vZyRhc3NlcnRzJGRvbV9hc3NlcnRJc0h0bWxJbnB1dEVsZW1lbnQoaW5wdXQpLmZvcm1BY3Rpb24gPSBnb29nLmh0bWwuU2FmZVVybC51bndyYXAoc2FmZVVybCk7XG59O1xuZ29vZy5kb20uc2FmZS5zZXRTdHlsZSA9IGZ1bmN0aW9uKGVsZW0sIHN0eWxlKSB7XG4gIGVsZW0uc3R5bGUuY3NzVGV4dCA9IG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZVN0eWxlX1NhZmVTdHlsZS51bndyYXAoc3R5bGUpO1xufTtcbmdvb2cuZG9tLnNhZmUuZG9jdW1lbnRXcml0ZSA9IGZ1bmN0aW9uKGRvYywgaHRtbCkge1xuICBkb2Mud3JpdGUobW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlSHRtbF9TYWZlSHRtbC51bndyYXBUcnVzdGVkSFRNTChodG1sKSk7XG59O1xuZ29vZy5kb20uc2FmZS5zZXRBbmNob3JIcmVmID0gZnVuY3Rpb24oYW5jaG9yLCB1cmwpIHtcbiAgbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXNzZXJ0cyRkb21fYXNzZXJ0SXNIdG1sQW5jaG9yRWxlbWVudChhbmNob3IpO1xuICB2YXIgc2FmZVVybCA9IHVybCBpbnN0YW5jZW9mIGdvb2cuaHRtbC5TYWZlVXJsID8gdXJsIDogZ29vZy5odG1sLlNhZmVVcmwuc2FuaXRpemVBc3NlcnRVbmNoYW5nZWQodXJsKTtcbiAgYW5jaG9yLmhyZWYgPSBnb29nLmh0bWwuU2FmZVVybC51bndyYXAoc2FmZVVybCk7XG59O1xuZ29vZy5kb20uc2FmZS5zZXRBdWRpb1NyYyA9IGZ1bmN0aW9uKGF1ZGlvRWxlbWVudCwgdXJsKSB7XG4gIG1vZHVsZSRjb250ZW50cyRnb29nJGFzc2VydHMkZG9tX2Fzc2VydElzSHRtbEF1ZGlvRWxlbWVudChhdWRpb0VsZW1lbnQpO1xuICB2YXIgc2FmZVVybCA9IHVybCBpbnN0YW5jZW9mIGdvb2cuaHRtbC5TYWZlVXJsID8gdXJsIDogZ29vZy5odG1sLlNhZmVVcmwuc2FuaXRpemVBc3NlcnRVbmNoYW5nZWQodXJsLCAvXmRhdGE6YXVkaW9cXC8vaS50ZXN0KHVybCkpO1xuICBhdWRpb0VsZW1lbnQuc3JjID0gZ29vZy5odG1sLlNhZmVVcmwudW53cmFwKHNhZmVVcmwpO1xufTtcbmdvb2cuZG9tLnNhZmUuc2V0VmlkZW9TcmMgPSBmdW5jdGlvbih2aWRlb0VsZW1lbnQsIHVybCkge1xuICBtb2R1bGUkY29udGVudHMkZ29vZyRhc3NlcnRzJGRvbV9hc3NlcnRJc0h0bWxWaWRlb0VsZW1lbnQodmlkZW9FbGVtZW50KTtcbiAgdmFyIHNhZmVVcmwgPSB1cmwgaW5zdGFuY2VvZiBnb29nLmh0bWwuU2FmZVVybCA/IHVybCA6IGdvb2cuaHRtbC5TYWZlVXJsLnNhbml0aXplQXNzZXJ0VW5jaGFuZ2VkKHVybCwgL15kYXRhOnZpZGVvXFwvL2kudGVzdCh1cmwpKTtcbiAgdmlkZW9FbGVtZW50LnNyYyA9IGdvb2cuaHRtbC5TYWZlVXJsLnVud3JhcChzYWZlVXJsKTtcbn07XG5nb29nLmRvbS5zYWZlLnNldEVtYmVkU3JjID0gZnVuY3Rpb24oZW1iZWQsIHVybCkge1xuICBtb2R1bGUkY29udGVudHMkZ29vZyRhc3NlcnRzJGRvbV9hc3NlcnRJc0h0bWxFbWJlZEVsZW1lbnQoZW1iZWQpO1xuICBlbWJlZC5zcmMgPSBnb29nLmh0bWwuVHJ1c3RlZFJlc291cmNlVXJsLnVud3JhcFRydXN0ZWRTY3JpcHRVUkwodXJsKTtcbn07XG5nb29nLmRvbS5zYWZlLnNldEZyYW1lU3JjID0gZnVuY3Rpb24oZnJhbWUsIHVybCkge1xuICBtb2R1bGUkY29udGVudHMkZ29vZyRhc3NlcnRzJGRvbV9hc3NlcnRJc0h0bWxGcmFtZUVsZW1lbnQoZnJhbWUpO1xuICBmcmFtZS5zcmMgPSBnb29nLmh0bWwuVHJ1c3RlZFJlc291cmNlVXJsLnVud3JhcCh1cmwpO1xufTtcbmdvb2cuZG9tLnNhZmUuc2V0SWZyYW1lU3JjID0gZnVuY3Rpb24oaWZyYW1lLCB1cmwpIHtcbiAgbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXNzZXJ0cyRkb21fYXNzZXJ0SXNIdG1sSUZyYW1lRWxlbWVudChpZnJhbWUpO1xuICBpZnJhbWUuc3JjID0gZ29vZy5odG1sLlRydXN0ZWRSZXNvdXJjZVVybC51bndyYXAodXJsKTtcbn07XG5nb29nLmRvbS5zYWZlLnNldElmcmFtZVNyY2RvYyA9IGZ1bmN0aW9uKGlmcmFtZSwgaHRtbCkge1xuICBtb2R1bGUkY29udGVudHMkZ29vZyRhc3NlcnRzJGRvbV9hc3NlcnRJc0h0bWxJRnJhbWVFbGVtZW50KGlmcmFtZSk7XG4gIGlmcmFtZS5zcmNkb2MgPSBtb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVIdG1sX1NhZmVIdG1sLnVud3JhcFRydXN0ZWRIVE1MKGh0bWwpO1xufTtcbmdvb2cuZG9tLnNhZmUuc2V0TGlua0hyZWZBbmRSZWwgPSBmdW5jdGlvbihsaW5rLCB1cmwsIHJlbCkge1xuICBtb2R1bGUkY29udGVudHMkZ29vZyRhc3NlcnRzJGRvbV9hc3NlcnRJc0h0bWxMaW5rRWxlbWVudChsaW5rKTtcbiAgbGluay5yZWwgPSByZWw7XG4gIGlmIChnb29nLnN0cmluZy5pbnRlcm5hbC5jYXNlSW5zZW5zaXRpdmVDb250YWlucyhyZWwsIFwic3R5bGVzaGVldFwiKSkge1xuICAgIGdvb2cuYXNzZXJ0cy5hc3NlcnQodXJsIGluc3RhbmNlb2YgZ29vZy5odG1sLlRydXN0ZWRSZXNvdXJjZVVybCwgJ1VSTCBtdXN0IGJlIFRydXN0ZWRSZXNvdXJjZVVybCBiZWNhdXNlIFwicmVsXCIgY29udGFpbnMgXCJzdHlsZXNoZWV0XCInKTtcbiAgICBsaW5rLmhyZWYgPSBnb29nLmh0bWwuVHJ1c3RlZFJlc291cmNlVXJsLnVud3JhcCh1cmwpO1xuICAgIHZhciBub25jZSA9IGdvb2cuZG9tLnNhZmUuZ2V0U3R5bGVOb25jZShsaW5rLm93bmVyRG9jdW1lbnQgJiYgbGluay5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3KTtcbiAgICBub25jZSAmJiBsaW5rLnNldEF0dHJpYnV0ZShcIm5vbmNlXCIsIG5vbmNlKTtcbiAgfSBlbHNlIHtcbiAgICBsaW5rLmhyZWYgPSB1cmwgaW5zdGFuY2VvZiBnb29nLmh0bWwuVHJ1c3RlZFJlc291cmNlVXJsID8gZ29vZy5odG1sLlRydXN0ZWRSZXNvdXJjZVVybC51bndyYXAodXJsKSA6IHVybCBpbnN0YW5jZW9mIGdvb2cuaHRtbC5TYWZlVXJsID8gZ29vZy5odG1sLlNhZmVVcmwudW53cmFwKHVybCkgOiBnb29nLmh0bWwuU2FmZVVybC51bndyYXAoZ29vZy5odG1sLlNhZmVVcmwuc2FuaXRpemVBc3NlcnRVbmNoYW5nZWQodXJsKSk7XG4gIH1cbn07XG5nb29nLmRvbS5zYWZlLnNldE9iamVjdERhdGEgPSBmdW5jdGlvbihvYmplY3QsIHVybCkge1xuICBtb2R1bGUkY29udGVudHMkZ29vZyRhc3NlcnRzJGRvbV9hc3NlcnRJc0h0bWxPYmplY3RFbGVtZW50KG9iamVjdCk7XG4gIG9iamVjdC5kYXRhID0gZ29vZy5odG1sLlRydXN0ZWRSZXNvdXJjZVVybC51bndyYXBUcnVzdGVkU2NyaXB0VVJMKHVybCk7XG59O1xuZ29vZy5kb20uc2FmZS5zZXRTY3JpcHRTcmMgPSBmdW5jdGlvbihzY3JpcHQsIHVybCkge1xuICBtb2R1bGUkY29udGVudHMkZ29vZyRhc3NlcnRzJGRvbV9hc3NlcnRJc0h0bWxTY3JpcHRFbGVtZW50KHNjcmlwdCk7XG4gIGdvb2cuZG9tLnNhZmUuc2V0Tm9uY2VGb3JTY3JpcHRFbGVtZW50XyhzY3JpcHQpO1xuICBzY3JpcHQuc3JjID0gZ29vZy5odG1sLlRydXN0ZWRSZXNvdXJjZVVybC51bndyYXBUcnVzdGVkU2NyaXB0VVJMKHVybCk7XG59O1xuZ29vZy5kb20uc2FmZS5zZXRTY3JpcHRDb250ZW50ID0gZnVuY3Rpb24oc2NyaXB0LCBjb250ZW50KSB7XG4gIG1vZHVsZSRjb250ZW50cyRnb29nJGFzc2VydHMkZG9tX2Fzc2VydElzSHRtbFNjcmlwdEVsZW1lbnQoc2NyaXB0KTtcbiAgZ29vZy5kb20uc2FmZS5zZXROb25jZUZvclNjcmlwdEVsZW1lbnRfKHNjcmlwdCk7XG4gIHNjcmlwdC50ZXh0Q29udGVudCA9IG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZVNjcmlwdF9TYWZlU2NyaXB0LnVud3JhcFRydXN0ZWRTY3JpcHQoY29udGVudCk7XG59O1xuZ29vZy5kb20uc2FmZS5zZXROb25jZUZvclNjcmlwdEVsZW1lbnRfID0gZnVuY3Rpb24oc2NyaXB0KSB7XG4gIHZhciBub25jZSA9IGdvb2cuZG9tLnNhZmUuZ2V0U2NyaXB0Tm9uY2Uoc2NyaXB0Lm93bmVyRG9jdW1lbnQgJiYgc2NyaXB0Lm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcpO1xuICBub25jZSAmJiBzY3JpcHQuc2V0QXR0cmlidXRlKFwibm9uY2VcIiwgbm9uY2UpO1xufTtcbmdvb2cuZG9tLnNhZmUuc2V0TG9jYXRpb25IcmVmID0gZnVuY3Rpb24obG9jLCB1cmwpIHtcbiAgZ29vZy5kb20uYXNzZXJ0cy5hc3NlcnRJc0xvY2F0aW9uKGxvYyk7XG4gIHZhciBzYWZlVXJsID0gdXJsIGluc3RhbmNlb2YgZ29vZy5odG1sLlNhZmVVcmwgPyB1cmwgOiBnb29nLmh0bWwuU2FmZVVybC5zYW5pdGl6ZUFzc2VydFVuY2hhbmdlZCh1cmwpO1xuICBsb2MuaHJlZiA9IGdvb2cuaHRtbC5TYWZlVXJsLnVud3JhcChzYWZlVXJsKTtcbn07XG5nb29nLmRvbS5zYWZlLmFzc2lnbkxvY2F0aW9uID0gZnVuY3Rpb24obG9jLCB1cmwpIHtcbiAgZ29vZy5kb20uYXNzZXJ0cy5hc3NlcnRJc0xvY2F0aW9uKGxvYyk7XG4gIHZhciBzYWZlVXJsID0gdXJsIGluc3RhbmNlb2YgZ29vZy5odG1sLlNhZmVVcmwgPyB1cmwgOiBnb29nLmh0bWwuU2FmZVVybC5zYW5pdGl6ZUFzc2VydFVuY2hhbmdlZCh1cmwpO1xuICBsb2MuYXNzaWduKGdvb2cuaHRtbC5TYWZlVXJsLnVud3JhcChzYWZlVXJsKSk7XG59O1xuZ29vZy5kb20uc2FmZS5yZXBsYWNlTG9jYXRpb24gPSBmdW5jdGlvbihsb2MsIHVybCkge1xuICB2YXIgc2FmZVVybCA9IHVybCBpbnN0YW5jZW9mIGdvb2cuaHRtbC5TYWZlVXJsID8gdXJsIDogZ29vZy5odG1sLlNhZmVVcmwuc2FuaXRpemVBc3NlcnRVbmNoYW5nZWQodXJsKTtcbiAgbG9jLnJlcGxhY2UoZ29vZy5odG1sLlNhZmVVcmwudW53cmFwKHNhZmVVcmwpKTtcbn07XG5nb29nLmRvbS5zYWZlLm9wZW5JbldpbmRvdyA9IGZ1bmN0aW9uKHVybCwgb3B0X29wZW5lcldpbiwgb3B0X25hbWUsIG9wdF9zcGVjcykge1xuICB2YXIgc2FmZVVybCA9IHVybCBpbnN0YW5jZW9mIGdvb2cuaHRtbC5TYWZlVXJsID8gdXJsIDogZ29vZy5odG1sLlNhZmVVcmwuc2FuaXRpemVBc3NlcnRVbmNoYW5nZWQodXJsKTtcbiAgdmFyIHdpbiA9IG9wdF9vcGVuZXJXaW4gfHwgZ29vZy5nbG9iYWwsIG5hbWUgPSBvcHRfbmFtZSBpbnN0YW5jZW9mIGdvb2cuc3RyaW5nLkNvbnN0ID8gZ29vZy5zdHJpbmcuQ29uc3QudW53cmFwKG9wdF9uYW1lKSA6IG9wdF9uYW1lIHx8IFwiXCI7XG4gIHJldHVybiB2b2lkIDAgIT09IG9wdF9zcGVjcyA/IHdpbi5vcGVuKGdvb2cuaHRtbC5TYWZlVXJsLnVud3JhcChzYWZlVXJsKSwgbmFtZSwgb3B0X3NwZWNzKSA6IHdpbi5vcGVuKGdvb2cuaHRtbC5TYWZlVXJsLnVud3JhcChzYWZlVXJsKSwgbmFtZSk7XG59O1xuZ29vZy5kb20uc2FmZS5wYXJzZUZyb21TdHJpbmdIdG1sID0gZnVuY3Rpb24ocGFyc2VyLCBodG1sKSB7XG4gIHJldHVybiBnb29nLmRvbS5zYWZlLnBhcnNlRnJvbVN0cmluZyhwYXJzZXIsIGh0bWwsIFwidGV4dC9odG1sXCIpO1xufTtcbmdvb2cuZG9tLnNhZmUucGFyc2VGcm9tU3RyaW5nID0gZnVuY3Rpb24ocGFyc2VyLCBjb250ZW50LCB0eXBlKSB7XG4gIHJldHVybiBwYXJzZXIucGFyc2VGcm9tU3RyaW5nKG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZUh0bWxfU2FmZUh0bWwudW53cmFwVHJ1c3RlZEhUTUwoY29udGVudCksIHR5cGUpO1xufTtcbmdvb2cuZG9tLnNhZmUuY3JlYXRlSW1hZ2VGcm9tQmxvYiA9IGZ1bmN0aW9uKGJsb2IpIHtcbiAgaWYgKCEvXmltYWdlXFwvLiovZy50ZXN0KGJsb2IudHlwZSkpIHtcbiAgICB0aHJvdyBFcnJvcihcImdvb2cuZG9tLnNhZmUuY3JlYXRlSW1hZ2VGcm9tQmxvYiBvbmx5IGFjY2VwdHMgTUlNRSB0eXBlIGltYWdlLy4qLlwiKTtcbiAgfVxuICB2YXIgb2JqZWN0VXJsID0gZ29vZy5nbG9iYWwuVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKSwgaW1hZ2UgPSBuZXcgZ29vZy5nbG9iYWwuSW1hZ2UoKTtcbiAgaW1hZ2Uub25sb2FkID0gZnVuY3Rpb24oKSB7XG4gICAgZ29vZy5nbG9iYWwuVVJMLnJldm9rZU9iamVjdFVSTChvYmplY3RVcmwpO1xuICB9O1xuICBpbWFnZS5zcmMgPSBvYmplY3RVcmw7XG4gIHJldHVybiBpbWFnZTtcbn07XG5nb29nLmRvbS5zYWZlLmNyZWF0ZUNvbnRleHR1YWxGcmFnbWVudCA9IGZ1bmN0aW9uKHJhbmdlLCBodG1sKSB7XG4gIHJldHVybiByYW5nZS5jcmVhdGVDb250ZXh0dWFsRnJhZ21lbnQobW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlSHRtbF9TYWZlSHRtbC51bndyYXBUcnVzdGVkSFRNTChodG1sKSk7XG59O1xuZ29vZy5kb20uc2FmZS5nZXRTY3JpcHROb25jZSA9IGZ1bmN0aW9uKG9wdF93aW5kb3cpIHtcbiAgcmV0dXJuIGdvb2cuZG9tLnNhZmUuZ2V0Tm9uY2VfKFwic2NyaXB0W25vbmNlXVwiLCBvcHRfd2luZG93KTtcbn07XG5nb29nLmRvbS5zYWZlLmdldFN0eWxlTm9uY2UgPSBmdW5jdGlvbihvcHRfd2luZG93KSB7XG4gIHJldHVybiBnb29nLmRvbS5zYWZlLmdldE5vbmNlXygnc3R5bGVbbm9uY2VdLGxpbmtbcmVsPVwic3R5bGVzaGVldFwiXVtub25jZV0nLCBvcHRfd2luZG93KTtcbn07XG5nb29nLmRvbS5zYWZlLk5PTkNFX1BBVFRFUk5fID0gL15bXFx3Ky9fLV0rWz1dezAsMn0kLztcbmdvb2cuZG9tLnNhZmUuZ2V0Tm9uY2VfID0gZnVuY3Rpb24oc2VsZWN0b3IsIHdpbikge1xuICB2YXIgZG9jID0gKHdpbiB8fCBnb29nLmdsb2JhbCkuZG9jdW1lbnQ7XG4gIGlmICghZG9jLnF1ZXJ5U2VsZWN0b3IpIHtcbiAgICByZXR1cm4gXCJcIjtcbiAgfVxuICB2YXIgZWwgPSBkb2MucXVlcnlTZWxlY3RvcihzZWxlY3Rvcik7XG4gIGlmIChlbCkge1xuICAgIHZhciBub25jZSA9IGVsLm5vbmNlIHx8IGVsLmdldEF0dHJpYnV0ZShcIm5vbmNlXCIpO1xuICAgIGlmIChub25jZSAmJiBnb29nLmRvbS5zYWZlLk5PTkNFX1BBVFRFUk5fLnRlc3Qobm9uY2UpKSB7XG4gICAgICByZXR1cm4gbm9uY2U7XG4gICAgfVxuICB9XG4gIHJldHVybiBcIlwiO1xufTtcbmdvb2cuc3RyaW5nLkRFVEVDVF9ET1VCTEVfRVNDQVBJTkcgPSAhMTtcbmdvb2cuc3RyaW5nLkZPUkNFX05PTl9ET01fSFRNTF9VTkVTQ0FQSU5HID0gITE7XG5nb29nLnN0cmluZy5Vbmljb2RlID0ge05CU1A6XCJcXHUwMGEwXCIsIFpFUk9fV0lEVEhfU1BBQ0U6XCJcXHUyMDBiXCJ9O1xuZ29vZy5zdHJpbmcuc3RhcnRzV2l0aCA9IGdvb2cuc3RyaW5nLmludGVybmFsLnN0YXJ0c1dpdGg7XG5nb29nLnN0cmluZy5lbmRzV2l0aCA9IGdvb2cuc3RyaW5nLmludGVybmFsLmVuZHNXaXRoO1xuZ29vZy5zdHJpbmcuY2FzZUluc2Vuc2l0aXZlU3RhcnRzV2l0aCA9IGdvb2cuc3RyaW5nLmludGVybmFsLmNhc2VJbnNlbnNpdGl2ZVN0YXJ0c1dpdGg7XG5nb29nLnN0cmluZy5jYXNlSW5zZW5zaXRpdmVFbmRzV2l0aCA9IGdvb2cuc3RyaW5nLmludGVybmFsLmNhc2VJbnNlbnNpdGl2ZUVuZHNXaXRoO1xuZ29vZy5zdHJpbmcuY2FzZUluc2Vuc2l0aXZlRXF1YWxzID0gZ29vZy5zdHJpbmcuaW50ZXJuYWwuY2FzZUluc2Vuc2l0aXZlRXF1YWxzO1xuZ29vZy5zdHJpbmcuc3VicyA9IGZ1bmN0aW9uKHN0ciwgdmFyX2FyZ3MpIHtcbiAgZm9yICh2YXIgc3BsaXRQYXJ0cyA9IHN0ci5zcGxpdChcIiVzXCIpLCByZXR1cm5TdHJpbmcgPSBcIlwiLCBzdWJzQXJndW1lbnRzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKTsgc3Vic0FyZ3VtZW50cy5sZW5ndGggJiYgMSA8IHNwbGl0UGFydHMubGVuZ3RoOykge1xuICAgIHJldHVyblN0cmluZyArPSBzcGxpdFBhcnRzLnNoaWZ0KCkgKyBzdWJzQXJndW1lbnRzLnNoaWZ0KCk7XG4gIH1cbiAgcmV0dXJuIHJldHVyblN0cmluZyArIHNwbGl0UGFydHMuam9pbihcIiVzXCIpO1xufTtcbmdvb2cuc3RyaW5nLmNvbGxhcHNlV2hpdGVzcGFjZSA9IGZ1bmN0aW9uKHN0cikge1xuICByZXR1cm4gc3RyLnJlcGxhY2UoL1tcXHNcXHhhMF0rL2csIFwiIFwiKS5yZXBsYWNlKC9eXFxzK3xcXHMrJC9nLCBcIlwiKTtcbn07XG5nb29nLnN0cmluZy5pc0VtcHR5T3JXaGl0ZXNwYWNlID0gZ29vZy5zdHJpbmcuaW50ZXJuYWwuaXNFbXB0eU9yV2hpdGVzcGFjZTtcbmdvb2cuc3RyaW5nLmlzRW1wdHlTdHJpbmcgPSBmdW5jdGlvbihzdHIpIHtcbiAgcmV0dXJuIDAgPT0gc3RyLmxlbmd0aDtcbn07XG5nb29nLnN0cmluZy5pc0VtcHR5ID0gZ29vZy5zdHJpbmcuaXNFbXB0eU9yV2hpdGVzcGFjZTtcbmdvb2cuc3RyaW5nLmlzRW1wdHlPcldoaXRlc3BhY2VTYWZlID0gZnVuY3Rpb24oc3RyKSB7XG4gIHJldHVybiBnb29nLnN0cmluZy5pc0VtcHR5T3JXaGl0ZXNwYWNlKGdvb2cuc3RyaW5nLm1ha2VTYWZlKHN0cikpO1xufTtcbmdvb2cuc3RyaW5nLmlzRW1wdHlTYWZlID0gZ29vZy5zdHJpbmcuaXNFbXB0eU9yV2hpdGVzcGFjZVNhZmU7XG5nb29nLnN0cmluZy5pc0JyZWFraW5nV2hpdGVzcGFjZSA9IGZ1bmN0aW9uKHN0cikge1xuICByZXR1cm4gIS9bXlxcdFxcblxcciBdLy50ZXN0KHN0cik7XG59O1xuZ29vZy5zdHJpbmcuaXNBbHBoYSA9IGZ1bmN0aW9uKHN0cikge1xuICByZXR1cm4gIS9bXmEtekEtWl0vLnRlc3Qoc3RyKTtcbn07XG5nb29nLnN0cmluZy5pc051bWVyaWMgPSBmdW5jdGlvbihzdHIpIHtcbiAgcmV0dXJuICEvW14wLTldLy50ZXN0KHN0cik7XG59O1xuZ29vZy5zdHJpbmcuaXNBbHBoYU51bWVyaWMgPSBmdW5jdGlvbihzdHIpIHtcbiAgcmV0dXJuICEvW15hLXpBLVowLTldLy50ZXN0KHN0cik7XG59O1xuZ29vZy5zdHJpbmcuaXNTcGFjZSA9IGZ1bmN0aW9uKGNoKSB7XG4gIHJldHVybiBcIiBcIiA9PSBjaDtcbn07XG5nb29nLnN0cmluZy5pc1VuaWNvZGVDaGFyID0gZnVuY3Rpb24oY2gpIHtcbiAgcmV0dXJuIDEgPT0gY2gubGVuZ3RoICYmIFwiIFwiIDw9IGNoICYmIFwiflwiID49IGNoIHx8IFwiXFx1MDA4MFwiIDw9IGNoICYmIFwiXFx1ZmZmZFwiID49IGNoO1xufTtcbmdvb2cuc3RyaW5nLnN0cmlwTmV3bGluZXMgPSBmdW5jdGlvbihzdHIpIHtcbiAgcmV0dXJuIHN0ci5yZXBsYWNlKC8oXFxyXFxufFxccnxcXG4pKy9nLCBcIiBcIik7XG59O1xuZ29vZy5zdHJpbmcuY2Fub25pY2FsaXplTmV3bGluZXMgPSBmdW5jdGlvbihzdHIpIHtcbiAgcmV0dXJuIHN0ci5yZXBsYWNlKC8oXFxyXFxufFxccnxcXG4pL2csIFwiXFxuXCIpO1xufTtcbmdvb2cuc3RyaW5nLm5vcm1hbGl6ZVdoaXRlc3BhY2UgPSBmdW5jdGlvbihzdHIpIHtcbiAgcmV0dXJuIHN0ci5yZXBsYWNlKC9cXHhhMHxcXHMvZywgXCIgXCIpO1xufTtcbmdvb2cuc3RyaW5nLm5vcm1hbGl6ZVNwYWNlcyA9IGZ1bmN0aW9uKHN0cikge1xuICByZXR1cm4gc3RyLnJlcGxhY2UoL1xceGEwfFsgXFx0XSsvZywgXCIgXCIpO1xufTtcbmdvb2cuc3RyaW5nLmNvbGxhcHNlQnJlYWtpbmdTcGFjZXMgPSBmdW5jdGlvbihzdHIpIHtcbiAgcmV0dXJuIHN0ci5yZXBsYWNlKC9bXFx0XFxyXFxuIF0rL2csIFwiIFwiKS5yZXBsYWNlKC9eW1xcdFxcclxcbiBdK3xbXFx0XFxyXFxuIF0rJC9nLCBcIlwiKTtcbn07XG5nb29nLnN0cmluZy50cmltID0gZ29vZy5zdHJpbmcuaW50ZXJuYWwudHJpbTtcbmdvb2cuc3RyaW5nLnRyaW1MZWZ0ID0gZnVuY3Rpb24oc3RyKSB7XG4gIHJldHVybiBzdHIucmVwbGFjZSgvXltcXHNcXHhhMF0rLywgXCJcIik7XG59O1xuZ29vZy5zdHJpbmcudHJpbVJpZ2h0ID0gZnVuY3Rpb24oc3RyKSB7XG4gIHJldHVybiBzdHIucmVwbGFjZSgvW1xcc1xceGEwXSskLywgXCJcIik7XG59O1xuZ29vZy5zdHJpbmcuY2FzZUluc2Vuc2l0aXZlQ29tcGFyZSA9IGdvb2cuc3RyaW5nLmludGVybmFsLmNhc2VJbnNlbnNpdGl2ZUNvbXBhcmU7XG5nb29nLnN0cmluZy5udW1iZXJBd2FyZUNvbXBhcmVfID0gZnVuY3Rpb24oc3RyMSwgc3RyMiwgdG9rZW5pemVyUmVnRXhwKSB7XG4gIGlmIChzdHIxID09IHN0cjIpIHtcbiAgICByZXR1cm4gMDtcbiAgfVxuICBpZiAoIXN0cjEpIHtcbiAgICByZXR1cm4gLTE7XG4gIH1cbiAgaWYgKCFzdHIyKSB7XG4gICAgcmV0dXJuIDE7XG4gIH1cbiAgZm9yICh2YXIgdG9rZW5zMSA9IHN0cjEudG9Mb3dlckNhc2UoKS5tYXRjaCh0b2tlbml6ZXJSZWdFeHApLCB0b2tlbnMyID0gc3RyMi50b0xvd2VyQ2FzZSgpLm1hdGNoKHRva2VuaXplclJlZ0V4cCksIGNvdW50ID0gTWF0aC5taW4odG9rZW5zMS5sZW5ndGgsIHRva2VuczIubGVuZ3RoKSwgaSA9IDA7IGkgPCBjb3VudDsgaSsrKSB7XG4gICAgdmFyIGEgPSB0b2tlbnMxW2ldLCBiID0gdG9rZW5zMltpXTtcbiAgICBpZiAoYSAhPSBiKSB7XG4gICAgICB2YXIgbnVtMSA9IHBhcnNlSW50KGEsIDEwKTtcbiAgICAgIGlmICghaXNOYU4obnVtMSkpIHtcbiAgICAgICAgdmFyIG51bTIgPSBwYXJzZUludChiLCAxMCk7XG4gICAgICAgIGlmICghaXNOYU4obnVtMikgJiYgbnVtMSAtIG51bTIpIHtcbiAgICAgICAgICByZXR1cm4gbnVtMSAtIG51bTI7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBhIDwgYiA/IC0xIDogMTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRva2VuczEubGVuZ3RoICE9IHRva2VuczIubGVuZ3RoID8gdG9rZW5zMS5sZW5ndGggLSB0b2tlbnMyLmxlbmd0aCA6IHN0cjEgPCBzdHIyID8gLTEgOiAxO1xufTtcbmdvb2cuc3RyaW5nLmludEF3YXJlQ29tcGFyZSA9IGZ1bmN0aW9uKHN0cjEsIHN0cjIpIHtcbiAgcmV0dXJuIGdvb2cuc3RyaW5nLm51bWJlckF3YXJlQ29tcGFyZV8oc3RyMSwgc3RyMiwgL1xcZCt8XFxEKy9nKTtcbn07XG5nb29nLnN0cmluZy5mbG9hdEF3YXJlQ29tcGFyZSA9IGZ1bmN0aW9uKHN0cjEsIHN0cjIpIHtcbiAgcmV0dXJuIGdvb2cuc3RyaW5nLm51bWJlckF3YXJlQ29tcGFyZV8oc3RyMSwgc3RyMiwgL1xcZCt8XFwuXFxkK3xcXEQrL2cpO1xufTtcbmdvb2cuc3RyaW5nLm51bWVyYXRlQ29tcGFyZSA9IGdvb2cuc3RyaW5nLmZsb2F0QXdhcmVDb21wYXJlO1xuZ29vZy5zdHJpbmcudXJsRW5jb2RlID0gZnVuY3Rpb24oc3RyKSB7XG4gIHJldHVybiBlbmNvZGVVUklDb21wb25lbnQoU3RyaW5nKHN0cikpO1xufTtcbmdvb2cuc3RyaW5nLnVybERlY29kZSA9IGZ1bmN0aW9uKHN0cikge1xuICByZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KHN0ci5yZXBsYWNlKC9cXCsvZywgXCIgXCIpKTtcbn07XG5nb29nLnN0cmluZy5uZXdMaW5lVG9CciA9IGdvb2cuc3RyaW5nLmludGVybmFsLm5ld0xpbmVUb0JyO1xuZ29vZy5zdHJpbmcuaHRtbEVzY2FwZSA9IGZ1bmN0aW9uKHN0ciwgb3B0X2lzTGlrZWx5VG9Db250YWluSHRtbENoYXJzKSB7XG4gIHN0ciA9IGdvb2cuc3RyaW5nLmludGVybmFsLmh0bWxFc2NhcGUoc3RyLCBvcHRfaXNMaWtlbHlUb0NvbnRhaW5IdG1sQ2hhcnMpO1xuICBnb29nLnN0cmluZy5ERVRFQ1RfRE9VQkxFX0VTQ0FQSU5HICYmIChzdHIgPSBzdHIucmVwbGFjZShnb29nLnN0cmluZy5FX1JFXywgXCImIzEwMTtcIikpO1xuICByZXR1cm4gc3RyO1xufTtcbmdvb2cuc3RyaW5nLkVfUkVfID0gL2UvZztcbmdvb2cuc3RyaW5nLnVuZXNjYXBlRW50aXRpZXMgPSBmdW5jdGlvbihzdHIpIHtcbiAgcmV0dXJuIGdvb2cuc3RyaW5nLmNvbnRhaW5zKHN0ciwgXCImXCIpID8gIWdvb2cuc3RyaW5nLkZPUkNFX05PTl9ET01fSFRNTF9VTkVTQ0FQSU5HICYmIFwiZG9jdW1lbnRcIiBpbiBnb29nLmdsb2JhbCA/IGdvb2cuc3RyaW5nLnVuZXNjYXBlRW50aXRpZXNVc2luZ0RvbV8oc3RyKSA6IGdvb2cuc3RyaW5nLnVuZXNjYXBlUHVyZVhtbEVudGl0aWVzXyhzdHIpIDogc3RyO1xufTtcbmdvb2cuc3RyaW5nLnVuZXNjYXBlRW50aXRpZXNXaXRoRG9jdW1lbnQgPSBmdW5jdGlvbihzdHIsIGRvY3VtZW50KSB7XG4gIHJldHVybiBnb29nLnN0cmluZy5jb250YWlucyhzdHIsIFwiJlwiKSA/IGdvb2cuc3RyaW5nLnVuZXNjYXBlRW50aXRpZXNVc2luZ0RvbV8oc3RyLCBkb2N1bWVudCkgOiBzdHI7XG59O1xuZ29vZy5zdHJpbmcudW5lc2NhcGVFbnRpdGllc1VzaW5nRG9tXyA9IGZ1bmN0aW9uKHN0ciwgb3B0X2RvY3VtZW50KSB7XG4gIHZhciBzZWVuID0ge1wiJmFtcDtcIjpcIiZcIiwgXCImbHQ7XCI6XCI8XCIsIFwiJmd0O1wiOlwiPlwiLCBcIiZxdW90O1wiOidcIid9O1xuICB2YXIgZGl2ID0gb3B0X2RvY3VtZW50ID8gb3B0X2RvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikgOiBnb29nLmdsb2JhbC5kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICByZXR1cm4gc3RyLnJlcGxhY2UoZ29vZy5zdHJpbmcuSFRNTF9FTlRJVFlfUEFUVEVSTl8sIGZ1bmN0aW9uKHMsIGVudGl0eSkge1xuICAgIHZhciB2YWx1ZSA9IHNlZW5bc107XG4gICAgaWYgKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuICAgIGlmIChcIiNcIiA9PSBlbnRpdHkuY2hhckF0KDApKSB7XG4gICAgICB2YXIgbiA9IE51bWJlcihcIjBcIiArIGVudGl0eS5zbGljZSgxKSk7XG4gICAgICBpc05hTihuKSB8fCAodmFsdWUgPSBTdHJpbmcuZnJvbUNoYXJDb2RlKG4pKTtcbiAgICB9XG4gICAgdmFsdWUgfHwgKGdvb2cuZG9tLnNhZmUuc2V0SW5uZXJIdG1sKGRpdiwgZ29vZy5odG1sLnVuY2hlY2tlZGNvbnZlcnNpb25zLnNhZmVIdG1sRnJvbVN0cmluZ0tub3duVG9TYXRpc2Z5VHlwZUNvbnRyYWN0KGdvb2cuc3RyaW5nLkNvbnN0LmZyb20oXCJTaW5nbGUgSFRNTCBlbnRpdHkuXCIpLCBzICsgXCIgXCIpKSwgdmFsdWUgPSBkaXYuZmlyc3RDaGlsZC5ub2RlVmFsdWUuc2xpY2UoMCwgLTEpKTtcbiAgICByZXR1cm4gc2VlbltzXSA9IHZhbHVlO1xuICB9KTtcbn07XG5nb29nLnN0cmluZy51bmVzY2FwZVB1cmVYbWxFbnRpdGllc18gPSBmdW5jdGlvbihzdHIpIHtcbiAgcmV0dXJuIHN0ci5yZXBsYWNlKC8mKFteO10rKTsvZywgZnVuY3Rpb24ocywgZW50aXR5KSB7XG4gICAgc3dpdGNoKGVudGl0eSkge1xuICAgICAgY2FzZSBcImFtcFwiOlxuICAgICAgICByZXR1cm4gXCImXCI7XG4gICAgICBjYXNlIFwibHRcIjpcbiAgICAgICAgcmV0dXJuIFwiPFwiO1xuICAgICAgY2FzZSBcImd0XCI6XG4gICAgICAgIHJldHVybiBcIj5cIjtcbiAgICAgIGNhc2UgXCJxdW90XCI6XG4gICAgICAgIHJldHVybiAnXCInO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgaWYgKFwiI1wiID09IGVudGl0eS5jaGFyQXQoMCkpIHtcbiAgICAgICAgICB2YXIgbiA9IE51bWJlcihcIjBcIiArIGVudGl0eS5zbGljZSgxKSk7XG4gICAgICAgICAgaWYgKCFpc05hTihuKSkge1xuICAgICAgICAgICAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUobik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzO1xuICAgIH1cbiAgfSk7XG59O1xuZ29vZy5zdHJpbmcuSFRNTF9FTlRJVFlfUEFUVEVSTl8gPSAvJihbXjtcXHM8Jl0rKTs/L2c7XG5nb29nLnN0cmluZy53aGl0ZXNwYWNlRXNjYXBlID0gZnVuY3Rpb24oc3RyLCBvcHRfeG1sKSB7XG4gIHJldHVybiBnb29nLnN0cmluZy5uZXdMaW5lVG9CcihzdHIucmVwbGFjZSgvICAvZywgXCIgJiMxNjA7XCIpLCBvcHRfeG1sKTtcbn07XG5nb29nLnN0cmluZy5wcmVzZXJ2ZVNwYWNlcyA9IGZ1bmN0aW9uKHN0cikge1xuICByZXR1cm4gc3RyLnJlcGxhY2UoLyhefFtcXG4gXSkgL2csIFwiJDFcIiArIGdvb2cuc3RyaW5nLlVuaWNvZGUuTkJTUCk7XG59O1xuZ29vZy5zdHJpbmcuc3RyaXBRdW90ZXMgPSBmdW5jdGlvbihzdHIsIHF1b3RlQ2hhcnMpIHtcbiAgZm9yICh2YXIgbGVuZ3RoID0gcXVvdGVDaGFycy5sZW5ndGgsIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgcXVvdGVDaGFyID0gMSA9PSBsZW5ndGggPyBxdW90ZUNoYXJzIDogcXVvdGVDaGFycy5jaGFyQXQoaSk7XG4gICAgaWYgKHN0ci5jaGFyQXQoMCkgPT0gcXVvdGVDaGFyICYmIHN0ci5jaGFyQXQoc3RyLmxlbmd0aCAtIDEpID09IHF1b3RlQ2hhcikge1xuICAgICAgcmV0dXJuIHN0ci5zdWJzdHJpbmcoMSwgc3RyLmxlbmd0aCAtIDEpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gc3RyO1xufTtcbmdvb2cuc3RyaW5nLnRydW5jYXRlID0gZnVuY3Rpb24oc3RyLCBjaGFycywgb3B0X3Byb3RlY3RFc2NhcGVkQ2hhcmFjdGVycykge1xuICBvcHRfcHJvdGVjdEVzY2FwZWRDaGFyYWN0ZXJzICYmIChzdHIgPSBnb29nLnN0cmluZy51bmVzY2FwZUVudGl0aWVzKHN0cikpO1xuICBzdHIubGVuZ3RoID4gY2hhcnMgJiYgKHN0ciA9IHN0ci5zdWJzdHJpbmcoMCwgY2hhcnMgLSAzKSArIFwiLi4uXCIpO1xuICBvcHRfcHJvdGVjdEVzY2FwZWRDaGFyYWN0ZXJzICYmIChzdHIgPSBnb29nLnN0cmluZy5odG1sRXNjYXBlKHN0cikpO1xuICByZXR1cm4gc3RyO1xufTtcbmdvb2cuc3RyaW5nLnRydW5jYXRlTWlkZGxlID0gZnVuY3Rpb24oc3RyLCBjaGFycywgb3B0X3Byb3RlY3RFc2NhcGVkQ2hhcmFjdGVycywgb3B0X3RyYWlsaW5nQ2hhcnMpIHtcbiAgb3B0X3Byb3RlY3RFc2NhcGVkQ2hhcmFjdGVycyAmJiAoc3RyID0gZ29vZy5zdHJpbmcudW5lc2NhcGVFbnRpdGllcyhzdHIpKTtcbiAgaWYgKG9wdF90cmFpbGluZ0NoYXJzICYmIHN0ci5sZW5ndGggPiBjaGFycykge1xuICAgIG9wdF90cmFpbGluZ0NoYXJzID4gY2hhcnMgJiYgKG9wdF90cmFpbGluZ0NoYXJzID0gY2hhcnMpLCBzdHIgPSBzdHIuc3Vic3RyaW5nKDAsIGNoYXJzIC0gb3B0X3RyYWlsaW5nQ2hhcnMpICsgXCIuLi5cIiArIHN0ci5zdWJzdHJpbmcoc3RyLmxlbmd0aCAtIG9wdF90cmFpbGluZ0NoYXJzKTtcbiAgfSBlbHNlIGlmIChzdHIubGVuZ3RoID4gY2hhcnMpIHtcbiAgICB2YXIgaGFsZiA9IE1hdGguZmxvb3IoY2hhcnMgLyAyKTtcbiAgICBzdHIgPSBzdHIuc3Vic3RyaW5nKDAsIGhhbGYgKyBjaGFycyAlIDIpICsgXCIuLi5cIiArIHN0ci5zdWJzdHJpbmcoc3RyLmxlbmd0aCAtIGhhbGYpO1xuICB9XG4gIG9wdF9wcm90ZWN0RXNjYXBlZENoYXJhY3RlcnMgJiYgKHN0ciA9IGdvb2cuc3RyaW5nLmh0bWxFc2NhcGUoc3RyKSk7XG4gIHJldHVybiBzdHI7XG59O1xuZ29vZy5zdHJpbmcuc3BlY2lhbEVzY2FwZUNoYXJzXyA9IHtcIlxceDAwXCI6XCJcXFxcMFwiLCBcIlxcYlwiOlwiXFxcXGJcIiwgXCJcXGZcIjpcIlxcXFxmXCIsIFwiXFxuXCI6XCJcXFxcblwiLCBcIlxcclwiOlwiXFxcXHJcIiwgXCJcXHRcIjpcIlxcXFx0XCIsIFwiXFx2XCI6XCJcXFxceDBCXCIsICdcIic6J1xcXFxcIicsIFwiXFxcXFwiOlwiXFxcXFxcXFxcIiwgXCI8XCI6XCJcXFxcdTAwM0NcIn07XG5nb29nLnN0cmluZy5qc0VzY2FwZUNhY2hlXyA9IHtcIidcIjpcIlxcXFwnXCJ9O1xuZ29vZy5zdHJpbmcucXVvdGUgPSBmdW5jdGlvbihzKSB7XG4gIHMgPSBTdHJpbmcocyk7XG4gIGZvciAodmFyIHNiID0gWydcIiddLCBpID0gMDsgaSA8IHMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgY2ggPSBzLmNoYXJBdChpKSwgY2MgPSBjaC5jaGFyQ29kZUF0KDApO1xuICAgIHNiW2kgKyAxXSA9IGdvb2cuc3RyaW5nLnNwZWNpYWxFc2NhcGVDaGFyc19bY2hdIHx8ICgzMSA8IGNjICYmIDEyNyA+IGNjID8gY2ggOiBnb29nLnN0cmluZy5lc2NhcGVDaGFyKGNoKSk7XG4gIH1cbiAgc2IucHVzaCgnXCInKTtcbiAgcmV0dXJuIHNiLmpvaW4oXCJcIik7XG59O1xuZ29vZy5zdHJpbmcuZXNjYXBlU3RyaW5nID0gZnVuY3Rpb24oc3RyKSB7XG4gIGZvciAodmFyIHNiID0gW10sIGkgPSAwOyBpIDwgc3RyLmxlbmd0aDsgaSsrKSB7XG4gICAgc2JbaV0gPSBnb29nLnN0cmluZy5lc2NhcGVDaGFyKHN0ci5jaGFyQXQoaSkpO1xuICB9XG4gIHJldHVybiBzYi5qb2luKFwiXCIpO1xufTtcbmdvb2cuc3RyaW5nLmVzY2FwZUNoYXIgPSBmdW5jdGlvbihjKSB7XG4gIGlmIChjIGluIGdvb2cuc3RyaW5nLmpzRXNjYXBlQ2FjaGVfKSB7XG4gICAgcmV0dXJuIGdvb2cuc3RyaW5nLmpzRXNjYXBlQ2FjaGVfW2NdO1xuICB9XG4gIGlmIChjIGluIGdvb2cuc3RyaW5nLnNwZWNpYWxFc2NhcGVDaGFyc18pIHtcbiAgICByZXR1cm4gZ29vZy5zdHJpbmcuanNFc2NhcGVDYWNoZV9bY10gPSBnb29nLnN0cmluZy5zcGVjaWFsRXNjYXBlQ2hhcnNfW2NdO1xuICB9XG4gIHZhciBydiA9IGMsIGNjID0gYy5jaGFyQ29kZUF0KDApO1xuICBpZiAoMzEgPCBjYyAmJiAxMjcgPiBjYykge1xuICAgIHJ2ID0gYztcbiAgfSBlbHNlIHtcbiAgICBpZiAoMjU2ID4gY2MpIHtcbiAgICAgIGlmIChydiA9IFwiXFxcXHhcIiwgMTYgPiBjYyB8fCAyNTYgPCBjYykge1xuICAgICAgICBydiArPSBcIjBcIjtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcnYgPSBcIlxcXFx1XCIsIDQwOTYgPiBjYyAmJiAocnYgKz0gXCIwXCIpO1xuICAgIH1cbiAgICBydiArPSBjYy50b1N0cmluZygxNikudG9VcHBlckNhc2UoKTtcbiAgfVxuICByZXR1cm4gZ29vZy5zdHJpbmcuanNFc2NhcGVDYWNoZV9bY10gPSBydjtcbn07XG5nb29nLnN0cmluZy5jb250YWlucyA9IGdvb2cuc3RyaW5nLmludGVybmFsLmNvbnRhaW5zO1xuZ29vZy5zdHJpbmcuY2FzZUluc2Vuc2l0aXZlQ29udGFpbnMgPSBnb29nLnN0cmluZy5pbnRlcm5hbC5jYXNlSW5zZW5zaXRpdmVDb250YWlucztcbmdvb2cuc3RyaW5nLmNvdW50T2YgPSBmdW5jdGlvbihzLCBzcykge1xuICByZXR1cm4gcyAmJiBzcyA/IHMuc3BsaXQoc3MpLmxlbmd0aCAtIDEgOiAwO1xufTtcbmdvb2cuc3RyaW5nLnJlbW92ZUF0ID0gZnVuY3Rpb24ocywgaW5kZXgsIHN0cmluZ0xlbmd0aCkge1xuICB2YXIgcmVzdWx0U3RyID0gcztcbiAgMCA8PSBpbmRleCAmJiBpbmRleCA8IHMubGVuZ3RoICYmIDAgPCBzdHJpbmdMZW5ndGggJiYgKHJlc3VsdFN0ciA9IHMuc2xpY2UoMCwgaW5kZXgpICsgcy5zbGljZShpbmRleCArIHN0cmluZ0xlbmd0aCkpO1xuICByZXR1cm4gcmVzdWx0U3RyO1xufTtcbmdvb2cuc3RyaW5nLnJlbW92ZSA9IGZ1bmN0aW9uKHN0ciwgc3Vic3RyKSB7XG4gIHJldHVybiBzdHIucmVwbGFjZShzdWJzdHIsIFwiXCIpO1xufTtcbmdvb2cuc3RyaW5nLnJlbW92ZUFsbCA9IGZ1bmN0aW9uKHMsIHNzKSB7XG4gIHZhciByZSA9IG5ldyBSZWdFeHAoZ29vZy5zdHJpbmcucmVnRXhwRXNjYXBlKHNzKSwgXCJnXCIpO1xuICByZXR1cm4gcy5yZXBsYWNlKHJlLCBcIlwiKTtcbn07XG5nb29nLnN0cmluZy5yZXBsYWNlQWxsID0gZnVuY3Rpb24ocywgc3MsIHJlcGxhY2VtZW50KSB7XG4gIHZhciByZSA9IG5ldyBSZWdFeHAoZ29vZy5zdHJpbmcucmVnRXhwRXNjYXBlKHNzKSwgXCJnXCIpO1xuICByZXR1cm4gcy5yZXBsYWNlKHJlLCByZXBsYWNlbWVudC5yZXBsYWNlKC9cXCQvZywgXCIkJCQkXCIpKTtcbn07XG5nb29nLnN0cmluZy5yZWdFeHBFc2NhcGUgPSBmdW5jdGlvbihzKSB7XG4gIHJldHVybiBTdHJpbmcocykucmVwbGFjZSgvKFstKClcXFtcXF17fSs/Ki4kXFxefCw6IzwhXFxcXF0pL2csIFwiXFxcXCQxXCIpLnJlcGxhY2UoL1xceDA4L2csIFwiXFxcXHgwOFwiKTtcbn07XG5nb29nLnN0cmluZy5yZXBlYXQgPSBTdHJpbmcucHJvdG90eXBlLnJlcGVhdCA/IGZ1bmN0aW9uKHN0cmluZywgbGVuZ3RoKSB7XG4gIHJldHVybiBzdHJpbmcucmVwZWF0KGxlbmd0aCk7XG59IDogZnVuY3Rpb24oc3RyaW5nLCBsZW5ndGgpIHtcbiAgcmV0dXJuIEFycmF5KGxlbmd0aCArIDEpLmpvaW4oc3RyaW5nKTtcbn07XG5nb29nLnN0cmluZy5wYWROdW1iZXIgPSBmdW5jdGlvbihudW0sIGxlbmd0aCwgb3B0X3ByZWNpc2lvbikge1xuICBpZiAoIU51bWJlci5pc0Zpbml0ZShudW0pKSB7XG4gICAgcmV0dXJuIFN0cmluZyhudW0pO1xuICB9XG4gIHZhciBzID0gdm9pZCAwICE9PSBvcHRfcHJlY2lzaW9uID8gbnVtLnRvRml4ZWQob3B0X3ByZWNpc2lvbikgOiBTdHJpbmcobnVtKSwgaW5kZXggPSBzLmluZGV4T2YoXCIuXCIpO1xuICAtMSA9PT0gaW5kZXggJiYgKGluZGV4ID0gcy5sZW5ndGgpO1xuICB2YXIgc2lnbiA9IFwiLVwiID09PSBzWzBdID8gXCItXCIgOiBcIlwiO1xuICBzaWduICYmIChzID0gcy5zdWJzdHJpbmcoMSkpO1xuICByZXR1cm4gc2lnbiArIGdvb2cuc3RyaW5nLnJlcGVhdChcIjBcIiwgTWF0aC5tYXgoMCwgbGVuZ3RoIC0gaW5kZXgpKSArIHM7XG59O1xuZ29vZy5zdHJpbmcubWFrZVNhZmUgPSBmdW5jdGlvbihvYmopIHtcbiAgcmV0dXJuIG51bGwgPT0gb2JqID8gXCJcIiA6IFN0cmluZyhvYmopO1xufTtcbmdvb2cuc3RyaW5nLmdldFJhbmRvbVN0cmluZyA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gTWF0aC5mbG9vcigyMTQ3NDgzNjQ4ICogTWF0aC5yYW5kb20oKSkudG9TdHJpbmcoMzYpICsgTWF0aC5hYnMoTWF0aC5mbG9vcigyMTQ3NDgzNjQ4ICogTWF0aC5yYW5kb20oKSkgXiBnb29nLm5vdygpKS50b1N0cmluZygzNik7XG59O1xuZ29vZy5zdHJpbmcuY29tcGFyZVZlcnNpb25zID0gZ29vZy5zdHJpbmcuaW50ZXJuYWwuY29tcGFyZVZlcnNpb25zO1xuZ29vZy5zdHJpbmcuaGFzaENvZGUgPSBmdW5jdGlvbihzdHIpIHtcbiAgZm9yICh2YXIgcmVzdWx0ID0gMCwgaSA9IDA7IGkgPCBzdHIubGVuZ3RoOyArK2kpIHtcbiAgICByZXN1bHQgPSAzMSAqIHJlc3VsdCArIHN0ci5jaGFyQ29kZUF0KGkpID4+PiAwO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59O1xuZ29vZy5zdHJpbmcudW5pcXVlU3RyaW5nQ291bnRlcl8gPSAyMTQ3NDgzNjQ4ICogTWF0aC5yYW5kb20oKSB8IDA7XG5nb29nLnN0cmluZy5jcmVhdGVVbmlxdWVTdHJpbmcgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIFwiZ29vZ19cIiArIGdvb2cuc3RyaW5nLnVuaXF1ZVN0cmluZ0NvdW50ZXJfKys7XG59O1xuZ29vZy5zdHJpbmcudG9OdW1iZXIgPSBmdW5jdGlvbihzdHIpIHtcbiAgdmFyIG51bSA9IE51bWJlcihzdHIpO1xuICByZXR1cm4gMCA9PSBudW0gJiYgZ29vZy5zdHJpbmcuaXNFbXB0eU9yV2hpdGVzcGFjZShzdHIpID8gTmFOIDogbnVtO1xufTtcbmdvb2cuc3RyaW5nLmlzTG93ZXJDYW1lbENhc2UgPSBmdW5jdGlvbihzdHIpIHtcbiAgcmV0dXJuIC9eW2Etel0rKFtBLVpdW2Etel0qKSokLy50ZXN0KHN0cik7XG59O1xuZ29vZy5zdHJpbmcuaXNVcHBlckNhbWVsQ2FzZSA9IGZ1bmN0aW9uKHN0cikge1xuICByZXR1cm4gL14oW0EtWl1bYS16XSopKyQvLnRlc3Qoc3RyKTtcbn07XG5nb29nLnN0cmluZy50b0NhbWVsQ2FzZSA9IGZ1bmN0aW9uKHN0cikge1xuICByZXR1cm4gU3RyaW5nKHN0cikucmVwbGFjZSgvXFwtKFthLXpdKS9nLCBmdW5jdGlvbihhbGwsIG1hdGNoKSB7XG4gICAgcmV0dXJuIG1hdGNoLnRvVXBwZXJDYXNlKCk7XG4gIH0pO1xufTtcbmdvb2cuc3RyaW5nLnRvU2VsZWN0b3JDYXNlID0gZnVuY3Rpb24oc3RyKSB7XG4gIHJldHVybiBTdHJpbmcoc3RyKS5yZXBsYWNlKC8oW0EtWl0pL2csIFwiLSQxXCIpLnRvTG93ZXJDYXNlKCk7XG59O1xuZ29vZy5zdHJpbmcudG9UaXRsZUNhc2UgPSBmdW5jdGlvbihzdHIsIG9wdF9kZWxpbWl0ZXJzKSB7XG4gIHZhciBkZWxpbWl0ZXJzID0gXCJzdHJpbmdcIiA9PT0gdHlwZW9mIG9wdF9kZWxpbWl0ZXJzID8gZ29vZy5zdHJpbmcucmVnRXhwRXNjYXBlKG9wdF9kZWxpbWl0ZXJzKSA6IFwiXFxcXHNcIjtcbiAgcmV0dXJuIHN0ci5yZXBsYWNlKG5ldyBSZWdFeHAoXCIoXlwiICsgKGRlbGltaXRlcnMgPyBcInxbXCIgKyBkZWxpbWl0ZXJzICsgXCJdK1wiIDogXCJcIikgKyBcIikoW2Etel0pXCIsIFwiZ1wiKSwgZnVuY3Rpb24oYWxsLCBwMSwgcDIpIHtcbiAgICByZXR1cm4gcDEgKyBwMi50b1VwcGVyQ2FzZSgpO1xuICB9KTtcbn07XG5nb29nLnN0cmluZy5jYXBpdGFsaXplID0gZnVuY3Rpb24oc3RyKSB7XG4gIHJldHVybiBTdHJpbmcoc3RyLmNoYXJBdCgwKSkudG9VcHBlckNhc2UoKSArIFN0cmluZyhzdHIuc2xpY2UoMSkpLnRvTG93ZXJDYXNlKCk7XG59O1xuZ29vZy5zdHJpbmcucGFyc2VJbnQgPSBmdW5jdGlvbih2YWx1ZSkge1xuICBpc0Zpbml0ZSh2YWx1ZSkgJiYgKHZhbHVlID0gU3RyaW5nKHZhbHVlKSk7XG4gIHJldHVybiBcInN0cmluZ1wiID09PSB0eXBlb2YgdmFsdWUgPyAvXlxccyotPzB4L2kudGVzdCh2YWx1ZSkgPyBwYXJzZUludCh2YWx1ZSwgMTYpIDogcGFyc2VJbnQodmFsdWUsIDEwKSA6IE5hTjtcbn07XG5nb29nLnN0cmluZy5zcGxpdExpbWl0ID0gZnVuY3Rpb24oc3RyLCBzZXBhcmF0b3IsIGxpbWl0KSB7XG4gIGZvciAodmFyIHBhcnRzID0gc3RyLnNwbGl0KHNlcGFyYXRvciksIHJldHVyblZhbCA9IFtdOyAwIDwgbGltaXQgJiYgcGFydHMubGVuZ3RoOykge1xuICAgIHJldHVyblZhbC5wdXNoKHBhcnRzLnNoaWZ0KCkpLCBsaW1pdC0tO1xuICB9XG4gIHBhcnRzLmxlbmd0aCAmJiByZXR1cm5WYWwucHVzaChwYXJ0cy5qb2luKHNlcGFyYXRvcikpO1xuICByZXR1cm4gcmV0dXJuVmFsO1xufTtcbmdvb2cuc3RyaW5nLmxhc3RDb21wb25lbnQgPSBmdW5jdGlvbihzdHIsIHNlcGFyYXRvcnMpIHtcbiAgaWYgKHNlcGFyYXRvcnMpIHtcbiAgICBcInN0cmluZ1wiID09IHR5cGVvZiBzZXBhcmF0b3JzICYmIChzZXBhcmF0b3JzID0gW3NlcGFyYXRvcnNdKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gc3RyO1xuICB9XG4gIGZvciAodmFyIGxhc3RTZXBhcmF0b3JJbmRleCA9IC0xLCBpID0gMDsgaSA8IHNlcGFyYXRvcnMubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoXCJcIiAhPSBzZXBhcmF0b3JzW2ldKSB7XG4gICAgICB2YXIgY3VycmVudFNlcGFyYXRvckluZGV4ID0gc3RyLmxhc3RJbmRleE9mKHNlcGFyYXRvcnNbaV0pO1xuICAgICAgY3VycmVudFNlcGFyYXRvckluZGV4ID4gbGFzdFNlcGFyYXRvckluZGV4ICYmIChsYXN0U2VwYXJhdG9ySW5kZXggPSBjdXJyZW50U2VwYXJhdG9ySW5kZXgpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gLTEgPT0gbGFzdFNlcGFyYXRvckluZGV4ID8gc3RyIDogc3RyLnNsaWNlKGxhc3RTZXBhcmF0b3JJbmRleCArIDEpO1xufTtcbmdvb2cuc3RyaW5nLmVkaXREaXN0YW5jZSA9IGZ1bmN0aW9uKGEsIGIpIHtcbiAgdmFyIHYwID0gW10sIHYxID0gW107XG4gIGlmIChhID09IGIpIHtcbiAgICByZXR1cm4gMDtcbiAgfVxuICBpZiAoIWEubGVuZ3RoIHx8ICFiLmxlbmd0aCkge1xuICAgIHJldHVybiBNYXRoLm1heChhLmxlbmd0aCwgYi5sZW5ndGgpO1xuICB9XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgYi5sZW5ndGggKyAxOyBpKyspIHtcbiAgICB2MFtpXSA9IGk7XG4gIH1cbiAgZm9yICh2YXIgaSQ1MCA9IDA7IGkkNTAgPCBhLmxlbmd0aDsgaSQ1MCsrKSB7XG4gICAgdjFbMF0gPSBpJDUwICsgMTtcbiAgICBmb3IgKHZhciBqID0gMDsgaiA8IGIubGVuZ3RoOyBqKyspIHtcbiAgICAgIHYxW2ogKyAxXSA9IE1hdGgubWluKHYxW2pdICsgMSwgdjBbaiArIDFdICsgMSwgdjBbal0gKyBOdW1iZXIoYVtpJDUwXSAhPSBiW2pdKSk7XG4gICAgfVxuICAgIGZvciAodmFyIGokNTEgPSAwOyBqJDUxIDwgdjAubGVuZ3RoOyBqJDUxKyspIHtcbiAgICAgIHYwW2okNTFdID0gdjFbaiQ1MV07XG4gICAgfVxuICB9XG4gIHJldHVybiB2MVtiLmxlbmd0aF07XG59O1xuZ29vZy5jb2xsZWN0aW9ucy5tYXBzID0ge307XG52YXIgbW9kdWxlJGNvbnRlbnRzJGdvb2ckY29sbGVjdGlvbnMkbWFwc19NYXBMaWtlID0gZnVuY3Rpb24oKSB7XG59O1xubW9kdWxlJGNvbnRlbnRzJGdvb2ckY29sbGVjdGlvbnMkbWFwc19NYXBMaWtlLnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbihrZXksIHZhbCkge1xufTtcbm1vZHVsZSRjb250ZW50cyRnb29nJGNvbGxlY3Rpb25zJG1hcHNfTWFwTGlrZS5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24oa2V5KSB7XG59O1xubW9kdWxlJGNvbnRlbnRzJGdvb2ckY29sbGVjdGlvbnMkbWFwc19NYXBMaWtlLnByb3RvdHlwZS5rZXlzID0gZnVuY3Rpb24oKSB7XG59O1xubW9kdWxlJGNvbnRlbnRzJGdvb2ckY29sbGVjdGlvbnMkbWFwc19NYXBMaWtlLnByb3RvdHlwZS52YWx1ZXMgPSBmdW5jdGlvbigpIHtcbn07XG5tb2R1bGUkY29udGVudHMkZ29vZyRjb2xsZWN0aW9ucyRtYXBzX01hcExpa2UucHJvdG90eXBlLmhhcyA9IGZ1bmN0aW9uKGtleSkge1xufTtcbmdvb2cuY29sbGVjdGlvbnMubWFwcy5NYXBMaWtlID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckY29sbGVjdGlvbnMkbWFwc19NYXBMaWtlO1xuZ29vZy5jb2xsZWN0aW9ucy5tYXBzLnNldEFsbCA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJGNvbGxlY3Rpb25zJG1hcHNfc2V0QWxsKG1hcCwgZW50cmllcykge1xuICBpZiAoZW50cmllcykge1xuICAgIGZvciAodmFyICRqc2NvbXAkaXRlciQxNiA9ICRqc2NvbXAubWFrZUl0ZXJhdG9yKGVudHJpZXMpLCAkanNjb21wJGtleSQgPSAkanNjb21wJGl0ZXIkMTYubmV4dCgpOyAhJGpzY29tcCRrZXkkLmRvbmU7ICRqc2NvbXAka2V5JCA9ICRqc2NvbXAkaXRlciQxNi5uZXh0KCkpIHtcbiAgICAgIHZhciAkanNjb21wJGRlc3RydWN0dXJpbmckdmFyMjUgPSAkanNjb21wLm1ha2VJdGVyYXRvcigkanNjb21wJGtleSQudmFsdWUpLCBrID0gJGpzY29tcCRkZXN0cnVjdHVyaW5nJHZhcjI1Lm5leHQoKS52YWx1ZSwgdiA9ICRqc2NvbXAkZGVzdHJ1Y3R1cmluZyR2YXIyNS5uZXh0KCkudmFsdWU7XG4gICAgICBtYXAuc2V0KGssIHYpO1xuICAgIH1cbiAgfVxufTtcbmdvb2cuY29sbGVjdGlvbnMubWFwcy5oYXNWYWx1ZSA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJGNvbGxlY3Rpb25zJG1hcHNfaGFzVmFsdWUobWFwLCB2YWwsIHZhbHVlRXF1YWxpdHlGbikge1xuICB2YWx1ZUVxdWFsaXR5Rm4gPSB2b2lkIDAgPT09IHZhbHVlRXF1YWxpdHlGbiA/IG1vZHVsZSRjb250ZW50cyRnb29nJGNvbGxlY3Rpb25zJG1hcHNfZGVmYXVsdEVxdWFsaXR5Rm4gOiB2YWx1ZUVxdWFsaXR5Rm47XG4gIGZvciAodmFyICRqc2NvbXAkaXRlciQxNyA9ICRqc2NvbXAubWFrZUl0ZXJhdG9yKG1hcC52YWx1ZXMoKSksICRqc2NvbXAka2V5JHYgPSAkanNjb21wJGl0ZXIkMTcubmV4dCgpOyAhJGpzY29tcCRrZXkkdi5kb25lOyAkanNjb21wJGtleSR2ID0gJGpzY29tcCRpdGVyJDE3Lm5leHQoKSkge1xuICAgIGlmICh2YWx1ZUVxdWFsaXR5Rm4oJGpzY29tcCRrZXkkdi52YWx1ZSwgdmFsKSkge1xuICAgICAgcmV0dXJuICEwO1xuICAgIH1cbiAgfVxuICByZXR1cm4gITE7XG59O1xudmFyIG1vZHVsZSRjb250ZW50cyRnb29nJGNvbGxlY3Rpb25zJG1hcHNfZGVmYXVsdEVxdWFsaXR5Rm4gPSBmdW5jdGlvbihhLCBiKSB7XG4gIHJldHVybiBhID09PSBiO1xufTtcbmdvb2cuY29sbGVjdGlvbnMubWFwcy5lcXVhbHMgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRjb2xsZWN0aW9ucyRtYXBzX2VxdWFscyhtYXAsIG90aGVyTWFwLCB2YWx1ZUVxdWFsaXR5Rm4pIHtcbiAgdmFsdWVFcXVhbGl0eUZuID0gdm9pZCAwID09PSB2YWx1ZUVxdWFsaXR5Rm4gPyBtb2R1bGUkY29udGVudHMkZ29vZyRjb2xsZWN0aW9ucyRtYXBzX2RlZmF1bHRFcXVhbGl0eUZuIDogdmFsdWVFcXVhbGl0eUZuO1xuICBpZiAobWFwID09PSBvdGhlck1hcCkge1xuICAgIHJldHVybiAhMDtcbiAgfVxuICBpZiAobWFwLnNpemUgIT09IG90aGVyTWFwLnNpemUpIHtcbiAgICByZXR1cm4gITE7XG4gIH1cbiAgZm9yICh2YXIgJGpzY29tcCRpdGVyJDE4ID0gJGpzY29tcC5tYWtlSXRlcmF0b3IobWFwLmtleXMoKSksICRqc2NvbXAka2V5JGtleSA9ICRqc2NvbXAkaXRlciQxOC5uZXh0KCk7ICEkanNjb21wJGtleSRrZXkuZG9uZTsgJGpzY29tcCRrZXkka2V5ID0gJGpzY29tcCRpdGVyJDE4Lm5leHQoKSkge1xuICAgIHZhciBrZXkgPSAkanNjb21wJGtleSRrZXkudmFsdWU7XG4gICAgaWYgKCFvdGhlck1hcC5oYXMoa2V5KSB8fCAhdmFsdWVFcXVhbGl0eUZuKG1hcC5nZXQoa2V5KSwgb3RoZXJNYXAuZ2V0KGtleSkpKSB7XG4gICAgICByZXR1cm4gITE7XG4gICAgfVxuICB9XG4gIHJldHVybiAhMDtcbn07XG5nb29nLmNvbGxlY3Rpb25zLm1hcHMudHJhbnNwb3NlID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2ckY29sbGVjdGlvbnMkbWFwc190cmFuc3Bvc2UobWFwKSB7XG4gIGZvciAodmFyIHRyYW5zcG9zZWQgPSBuZXcgTWFwKCksICRqc2NvbXAkaXRlciQxOSA9ICRqc2NvbXAubWFrZUl0ZXJhdG9yKG1hcC5rZXlzKCkpLCAkanNjb21wJGtleSRrZXkgPSAkanNjb21wJGl0ZXIkMTkubmV4dCgpOyAhJGpzY29tcCRrZXkka2V5LmRvbmU7ICRqc2NvbXAka2V5JGtleSA9ICRqc2NvbXAkaXRlciQxOS5uZXh0KCkpIHtcbiAgICB2YXIga2V5ID0gJGpzY29tcCRrZXkka2V5LnZhbHVlLCB2YWwgPSBtYXAuZ2V0KGtleSk7XG4gICAgdHJhbnNwb3NlZC5zZXQodmFsLCBrZXkpO1xuICB9XG4gIHJldHVybiB0cmFuc3Bvc2VkO1xufTtcbmdvb2cuY29sbGVjdGlvbnMubWFwcy50b09iamVjdCA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJGNvbGxlY3Rpb25zJG1hcHNfdG9PYmplY3QobWFwKSB7XG4gIGZvciAodmFyIG9iaiA9IHt9LCAkanNjb21wJGl0ZXIkMjAgPSAkanNjb21wLm1ha2VJdGVyYXRvcihtYXAua2V5cygpKSwgJGpzY29tcCRrZXkka2V5ID0gJGpzY29tcCRpdGVyJDIwLm5leHQoKTsgISRqc2NvbXAka2V5JGtleS5kb25lOyAkanNjb21wJGtleSRrZXkgPSAkanNjb21wJGl0ZXIkMjAubmV4dCgpKSB7XG4gICAgdmFyIGtleSA9ICRqc2NvbXAka2V5JGtleS52YWx1ZTtcbiAgICBvYmpba2V5XSA9IG1hcC5nZXQoa2V5KTtcbiAgfVxuICByZXR1cm4gb2JqO1xufTtcbmdvb2cudXJpID0ge307XG5nb29nLnVyaS51dGlscyA9IHt9O1xuZ29vZy51cmkudXRpbHMuUXVlcnlBcnJheSA9IHt9O1xuZ29vZy51cmkudXRpbHMuUXVlcnlWYWx1ZSA9IHt9O1xuZ29vZy51cmkudXRpbHMuQ2hhckNvZGVfID0ge0FNUEVSU0FORDozOCwgRVFVQUw6NjEsIEhBU0g6MzUsIFFVRVNUSU9OOjYzfTtcbmdvb2cudXJpLnV0aWxzLmJ1aWxkRnJvbUVuY29kZWRQYXJ0cyA9IGZ1bmN0aW9uKG9wdF9zY2hlbWUsIG9wdF91c2VySW5mbywgb3B0X2RvbWFpbiwgb3B0X3BvcnQsIG9wdF9wYXRoLCBvcHRfcXVlcnlEYXRhLCBvcHRfZnJhZ21lbnQpIHtcbiAgdmFyIG91dCA9IFwiXCI7XG4gIG9wdF9zY2hlbWUgJiYgKG91dCArPSBvcHRfc2NoZW1lICsgXCI6XCIpO1xuICBvcHRfZG9tYWluICYmIChvdXQgKz0gXCIvL1wiLCBvcHRfdXNlckluZm8gJiYgKG91dCArPSBvcHRfdXNlckluZm8gKyBcIkBcIiksIG91dCArPSBvcHRfZG9tYWluLCBvcHRfcG9ydCAmJiAob3V0ICs9IFwiOlwiICsgb3B0X3BvcnQpKTtcbiAgb3B0X3BhdGggJiYgKG91dCArPSBvcHRfcGF0aCk7XG4gIG9wdF9xdWVyeURhdGEgJiYgKG91dCArPSBcIj9cIiArIG9wdF9xdWVyeURhdGEpO1xuICBvcHRfZnJhZ21lbnQgJiYgKG91dCArPSBcIiNcIiArIG9wdF9mcmFnbWVudCk7XG4gIHJldHVybiBvdXQ7XG59O1xuZ29vZy51cmkudXRpbHMuc3BsaXRSZV8gPSBSZWdFeHAoXCJeKD86KFteOi8/Iy5dKyk6KT8oPzovLyg/OihbXlxcXFxcXFxcLz8jXSopQCk/KFteXFxcXFxcXFwvPyNdKj8pKD86OihbMC05XSspKT8oPz1bXFxcXFxcXFwvPyNdfCQpKT8oW14/I10rKT8oPzpcXFxcPyhbXiNdKikpPyg/OiMoW1xcXFxzXFxcXFNdKikpPyRcIik7XG5nb29nLnVyaS51dGlscy5Db21wb25lbnRJbmRleCA9IHtTQ0hFTUU6MSwgVVNFUl9JTkZPOjIsIERPTUFJTjozLCBQT1JUOjQsIFBBVEg6NSwgUVVFUllfREFUQTo2LCBGUkFHTUVOVDo3fTtcbmdvb2cudXJpLnV0aWxzLnVybFBhY2thZ2VTdXBwb3J0TG9nZ2luZ0hhbmRsZXJfID0gbnVsbDtcbmdvb2cudXJpLnV0aWxzLnNldFVybFBhY2thZ2VTdXBwb3J0TG9nZ2luZ0hhbmRsZXIgPSBmdW5jdGlvbihoYW5kbGVyKSB7XG4gIGdvb2cudXJpLnV0aWxzLnVybFBhY2thZ2VTdXBwb3J0TG9nZ2luZ0hhbmRsZXJfID0gaGFuZGxlcjtcbn07XG5nb29nLnVyaS51dGlscy5zcGxpdCA9IGZ1bmN0aW9uKHVyaSkge1xuICB2YXIgcmVzdWx0ID0gdXJpLm1hdGNoKGdvb2cudXJpLnV0aWxzLnNwbGl0UmVfKTtcbiAgZ29vZy51cmkudXRpbHMudXJsUGFja2FnZVN1cHBvcnRMb2dnaW5nSGFuZGxlcl8gJiYgMCA8PSBbXCJodHRwXCIsIFwiaHR0cHNcIiwgXCJ3c1wiLCBcIndzc1wiLCBcImZ0cFwiXS5pbmRleE9mKHJlc3VsdFtnb29nLnVyaS51dGlscy5Db21wb25lbnRJbmRleC5TQ0hFTUVdKSAmJiBnb29nLnVyaS51dGlscy51cmxQYWNrYWdlU3VwcG9ydExvZ2dpbmdIYW5kbGVyXyh1cmkpO1xuICByZXR1cm4gcmVzdWx0O1xufTtcbmdvb2cudXJpLnV0aWxzLmRlY29kZUlmUG9zc2libGVfID0gZnVuY3Rpb24odXJpLCBvcHRfcHJlc2VydmVSZXNlcnZlZCkge1xuICByZXR1cm4gdXJpID8gb3B0X3ByZXNlcnZlUmVzZXJ2ZWQgPyBkZWNvZGVVUkkodXJpKSA6IGRlY29kZVVSSUNvbXBvbmVudCh1cmkpIDogdXJpO1xufTtcbmdvb2cudXJpLnV0aWxzLmdldENvbXBvbmVudEJ5SW5kZXhfID0gZnVuY3Rpb24oY29tcG9uZW50SW5kZXgsIHVyaSkge1xuICByZXR1cm4gZ29vZy51cmkudXRpbHMuc3BsaXQodXJpKVtjb21wb25lbnRJbmRleF0gfHwgbnVsbDtcbn07XG5nb29nLnVyaS51dGlscy5nZXRTY2hlbWUgPSBmdW5jdGlvbih1cmkpIHtcbiAgcmV0dXJuIGdvb2cudXJpLnV0aWxzLmdldENvbXBvbmVudEJ5SW5kZXhfKGdvb2cudXJpLnV0aWxzLkNvbXBvbmVudEluZGV4LlNDSEVNRSwgdXJpKTtcbn07XG5nb29nLnVyaS51dGlscy5nZXRFZmZlY3RpdmVTY2hlbWUgPSBmdW5jdGlvbih1cmkpIHtcbiAgdmFyIHNjaGVtZSA9IGdvb2cudXJpLnV0aWxzLmdldFNjaGVtZSh1cmkpO1xuICAhc2NoZW1lICYmIGdvb2cuZ2xvYmFsLnNlbGYgJiYgZ29vZy5nbG9iYWwuc2VsZi5sb2NhdGlvbiAmJiAoc2NoZW1lID0gZ29vZy5nbG9iYWwuc2VsZi5sb2NhdGlvbi5wcm90b2NvbC5zbGljZSgwLCAtMSkpO1xuICByZXR1cm4gc2NoZW1lID8gc2NoZW1lLnRvTG93ZXJDYXNlKCkgOiBcIlwiO1xufTtcbmdvb2cudXJpLnV0aWxzLmdldFVzZXJJbmZvRW5jb2RlZCA9IGZ1bmN0aW9uKHVyaSkge1xuICByZXR1cm4gZ29vZy51cmkudXRpbHMuZ2V0Q29tcG9uZW50QnlJbmRleF8oZ29vZy51cmkudXRpbHMuQ29tcG9uZW50SW5kZXguVVNFUl9JTkZPLCB1cmkpO1xufTtcbmdvb2cudXJpLnV0aWxzLmdldFVzZXJJbmZvID0gZnVuY3Rpb24odXJpKSB7XG4gIHJldHVybiBnb29nLnVyaS51dGlscy5kZWNvZGVJZlBvc3NpYmxlXyhnb29nLnVyaS51dGlscy5nZXRVc2VySW5mb0VuY29kZWQodXJpKSk7XG59O1xuZ29vZy51cmkudXRpbHMuZ2V0RG9tYWluRW5jb2RlZCA9IGZ1bmN0aW9uKHVyaSkge1xuICByZXR1cm4gZ29vZy51cmkudXRpbHMuZ2V0Q29tcG9uZW50QnlJbmRleF8oZ29vZy51cmkudXRpbHMuQ29tcG9uZW50SW5kZXguRE9NQUlOLCB1cmkpO1xufTtcbmdvb2cudXJpLnV0aWxzLmdldERvbWFpbiA9IGZ1bmN0aW9uKHVyaSkge1xuICByZXR1cm4gZ29vZy51cmkudXRpbHMuZGVjb2RlSWZQb3NzaWJsZV8oZ29vZy51cmkudXRpbHMuZ2V0RG9tYWluRW5jb2RlZCh1cmkpLCAhMCk7XG59O1xuZ29vZy51cmkudXRpbHMuZ2V0UG9ydCA9IGZ1bmN0aW9uKHVyaSkge1xuICByZXR1cm4gTnVtYmVyKGdvb2cudXJpLnV0aWxzLmdldENvbXBvbmVudEJ5SW5kZXhfKGdvb2cudXJpLnV0aWxzLkNvbXBvbmVudEluZGV4LlBPUlQsIHVyaSkpIHx8IG51bGw7XG59O1xuZ29vZy51cmkudXRpbHMuZ2V0UGF0aEVuY29kZWQgPSBmdW5jdGlvbih1cmkpIHtcbiAgcmV0dXJuIGdvb2cudXJpLnV0aWxzLmdldENvbXBvbmVudEJ5SW5kZXhfKGdvb2cudXJpLnV0aWxzLkNvbXBvbmVudEluZGV4LlBBVEgsIHVyaSk7XG59O1xuZ29vZy51cmkudXRpbHMuZ2V0UGF0aCA9IGZ1bmN0aW9uKHVyaSkge1xuICByZXR1cm4gZ29vZy51cmkudXRpbHMuZGVjb2RlSWZQb3NzaWJsZV8oZ29vZy51cmkudXRpbHMuZ2V0UGF0aEVuY29kZWQodXJpKSwgITApO1xufTtcbmdvb2cudXJpLnV0aWxzLmdldFF1ZXJ5RGF0YSA9IGZ1bmN0aW9uKHVyaSkge1xuICByZXR1cm4gZ29vZy51cmkudXRpbHMuZ2V0Q29tcG9uZW50QnlJbmRleF8oZ29vZy51cmkudXRpbHMuQ29tcG9uZW50SW5kZXguUVVFUllfREFUQSwgdXJpKTtcbn07XG5nb29nLnVyaS51dGlscy5nZXRGcmFnbWVudEVuY29kZWQgPSBmdW5jdGlvbih1cmkpIHtcbiAgdmFyIGhhc2hJbmRleCA9IHVyaS5pbmRleE9mKFwiI1wiKTtcbiAgcmV0dXJuIDAgPiBoYXNoSW5kZXggPyBudWxsIDogdXJpLnNsaWNlKGhhc2hJbmRleCArIDEpO1xufTtcbmdvb2cudXJpLnV0aWxzLnNldEZyYWdtZW50RW5jb2RlZCA9IGZ1bmN0aW9uKHVyaSwgZnJhZ21lbnQpIHtcbiAgcmV0dXJuIGdvb2cudXJpLnV0aWxzLnJlbW92ZUZyYWdtZW50KHVyaSkgKyAoZnJhZ21lbnQgPyBcIiNcIiArIGZyYWdtZW50IDogXCJcIik7XG59O1xuZ29vZy51cmkudXRpbHMuZ2V0RnJhZ21lbnQgPSBmdW5jdGlvbih1cmkpIHtcbiAgcmV0dXJuIGdvb2cudXJpLnV0aWxzLmRlY29kZUlmUG9zc2libGVfKGdvb2cudXJpLnV0aWxzLmdldEZyYWdtZW50RW5jb2RlZCh1cmkpKTtcbn07XG5nb29nLnVyaS51dGlscy5nZXRIb3N0ID0gZnVuY3Rpb24odXJpKSB7XG4gIHZhciBwaWVjZXMgPSBnb29nLnVyaS51dGlscy5zcGxpdCh1cmkpO1xuICByZXR1cm4gZ29vZy51cmkudXRpbHMuYnVpbGRGcm9tRW5jb2RlZFBhcnRzKHBpZWNlc1tnb29nLnVyaS51dGlscy5Db21wb25lbnRJbmRleC5TQ0hFTUVdLCBwaWVjZXNbZ29vZy51cmkudXRpbHMuQ29tcG9uZW50SW5kZXguVVNFUl9JTkZPXSwgcGllY2VzW2dvb2cudXJpLnV0aWxzLkNvbXBvbmVudEluZGV4LkRPTUFJTl0sIHBpZWNlc1tnb29nLnVyaS51dGlscy5Db21wb25lbnRJbmRleC5QT1JUXSk7XG59O1xuZ29vZy51cmkudXRpbHMuZ2V0T3JpZ2luID0gZnVuY3Rpb24odXJpKSB7XG4gIHZhciBwaWVjZXMgPSBnb29nLnVyaS51dGlscy5zcGxpdCh1cmkpO1xuICByZXR1cm4gZ29vZy51cmkudXRpbHMuYnVpbGRGcm9tRW5jb2RlZFBhcnRzKHBpZWNlc1tnb29nLnVyaS51dGlscy5Db21wb25lbnRJbmRleC5TQ0hFTUVdLCBudWxsLCBwaWVjZXNbZ29vZy51cmkudXRpbHMuQ29tcG9uZW50SW5kZXguRE9NQUlOXSwgcGllY2VzW2dvb2cudXJpLnV0aWxzLkNvbXBvbmVudEluZGV4LlBPUlRdKTtcbn07XG5nb29nLnVyaS51dGlscy5nZXRQYXRoQW5kQWZ0ZXIgPSBmdW5jdGlvbih1cmkpIHtcbiAgdmFyIHBpZWNlcyA9IGdvb2cudXJpLnV0aWxzLnNwbGl0KHVyaSk7XG4gIHJldHVybiBnb29nLnVyaS51dGlscy5idWlsZEZyb21FbmNvZGVkUGFydHMobnVsbCwgbnVsbCwgbnVsbCwgbnVsbCwgcGllY2VzW2dvb2cudXJpLnV0aWxzLkNvbXBvbmVudEluZGV4LlBBVEhdLCBwaWVjZXNbZ29vZy51cmkudXRpbHMuQ29tcG9uZW50SW5kZXguUVVFUllfREFUQV0sIHBpZWNlc1tnb29nLnVyaS51dGlscy5Db21wb25lbnRJbmRleC5GUkFHTUVOVF0pO1xufTtcbmdvb2cudXJpLnV0aWxzLnJlbW92ZUZyYWdtZW50ID0gZnVuY3Rpb24odXJpKSB7XG4gIHZhciBoYXNoSW5kZXggPSB1cmkuaW5kZXhPZihcIiNcIik7XG4gIHJldHVybiAwID4gaGFzaEluZGV4ID8gdXJpIDogdXJpLnNsaWNlKDAsIGhhc2hJbmRleCk7XG59O1xuZ29vZy51cmkudXRpbHMuaGF2ZVNhbWVEb21haW4gPSBmdW5jdGlvbih1cmkxLCB1cmkyKSB7XG4gIHZhciBwaWVjZXMxID0gZ29vZy51cmkudXRpbHMuc3BsaXQodXJpMSksIHBpZWNlczIgPSBnb29nLnVyaS51dGlscy5zcGxpdCh1cmkyKTtcbiAgcmV0dXJuIHBpZWNlczFbZ29vZy51cmkudXRpbHMuQ29tcG9uZW50SW5kZXguRE9NQUlOXSA9PSBwaWVjZXMyW2dvb2cudXJpLnV0aWxzLkNvbXBvbmVudEluZGV4LkRPTUFJTl0gJiYgcGllY2VzMVtnb29nLnVyaS51dGlscy5Db21wb25lbnRJbmRleC5TQ0hFTUVdID09IHBpZWNlczJbZ29vZy51cmkudXRpbHMuQ29tcG9uZW50SW5kZXguU0NIRU1FXSAmJiBwaWVjZXMxW2dvb2cudXJpLnV0aWxzLkNvbXBvbmVudEluZGV4LlBPUlRdID09IHBpZWNlczJbZ29vZy51cmkudXRpbHMuQ29tcG9uZW50SW5kZXguUE9SVF07XG59O1xuZ29vZy51cmkudXRpbHMuYXNzZXJ0Tm9GcmFnbWVudHNPclF1ZXJpZXNfID0gZnVuY3Rpb24odXJpKSB7XG4gIGdvb2cuYXNzZXJ0cy5hc3NlcnQoMCA+IHVyaS5pbmRleE9mKFwiI1wiKSAmJiAwID4gdXJpLmluZGV4T2YoXCI/XCIpLCBcImdvb2cudXJpLnV0aWxzOiBGcmFnbWVudCBvciBxdWVyeSBpZGVudGlmaWVycyBhcmUgbm90IHN1cHBvcnRlZDogWyVzXVwiLCB1cmkpO1xufTtcbmdvb2cudXJpLnV0aWxzLnBhcnNlUXVlcnlEYXRhID0gZnVuY3Rpb24oZW5jb2RlZFF1ZXJ5LCBjYWxsYmFjaykge1xuICBpZiAoZW5jb2RlZFF1ZXJ5KSB7XG4gICAgZm9yICh2YXIgcGFpcnMgPSBlbmNvZGVkUXVlcnkuc3BsaXQoXCImXCIpLCBpID0gMDsgaSA8IHBhaXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgaW5kZXhPZkVxdWFscyA9IHBhaXJzW2ldLmluZGV4T2YoXCI9XCIpLCBuYW1lID0gbnVsbCwgdmFsdWUgPSBudWxsO1xuICAgICAgMCA8PSBpbmRleE9mRXF1YWxzID8gKG5hbWUgPSBwYWlyc1tpXS5zdWJzdHJpbmcoMCwgaW5kZXhPZkVxdWFscyksIHZhbHVlID0gcGFpcnNbaV0uc3Vic3RyaW5nKGluZGV4T2ZFcXVhbHMgKyAxKSkgOiBuYW1lID0gcGFpcnNbaV07XG4gICAgICBjYWxsYmFjayhuYW1lLCB2YWx1ZSA/IGdvb2cuc3RyaW5nLnVybERlY29kZSh2YWx1ZSkgOiBcIlwiKTtcbiAgICB9XG4gIH1cbn07XG5nb29nLnVyaS51dGlscy5zcGxpdFF1ZXJ5RGF0YV8gPSBmdW5jdGlvbih1cmkpIHtcbiAgdmFyIGhhc2hJbmRleCA9IHVyaS5pbmRleE9mKFwiI1wiKTtcbiAgMCA+IGhhc2hJbmRleCAmJiAoaGFzaEluZGV4ID0gdXJpLmxlbmd0aCk7XG4gIHZhciBxdWVzdGlvbkluZGV4ID0gdXJpLmluZGV4T2YoXCI/XCIpO1xuICBpZiAoMCA+IHF1ZXN0aW9uSW5kZXggfHwgcXVlc3Rpb25JbmRleCA+IGhhc2hJbmRleCkge1xuICAgIHF1ZXN0aW9uSW5kZXggPSBoYXNoSW5kZXg7XG4gICAgdmFyIHF1ZXJ5RGF0YSA9IFwiXCI7XG4gIH0gZWxzZSB7XG4gICAgcXVlcnlEYXRhID0gdXJpLnN1YnN0cmluZyhxdWVzdGlvbkluZGV4ICsgMSwgaGFzaEluZGV4KTtcbiAgfVxuICByZXR1cm4gW3VyaS5zbGljZSgwLCBxdWVzdGlvbkluZGV4KSwgcXVlcnlEYXRhLCB1cmkuc2xpY2UoaGFzaEluZGV4KV07XG59O1xuZ29vZy51cmkudXRpbHMuam9pblF1ZXJ5RGF0YV8gPSBmdW5jdGlvbihwYXJ0cykge1xuICByZXR1cm4gcGFydHNbMF0gKyAocGFydHNbMV0gPyBcIj9cIiArIHBhcnRzWzFdIDogXCJcIikgKyBwYXJ0c1syXTtcbn07XG5nb29nLnVyaS51dGlscy5hcHBlbmRRdWVyeURhdGFfID0gZnVuY3Rpb24ocXVlcnlEYXRhLCBuZXdEYXRhKSB7XG4gIHJldHVybiBuZXdEYXRhID8gcXVlcnlEYXRhID8gcXVlcnlEYXRhICsgXCImXCIgKyBuZXdEYXRhIDogbmV3RGF0YSA6IHF1ZXJ5RGF0YTtcbn07XG5nb29nLnVyaS51dGlscy5hcHBlbmRRdWVyeURhdGFUb1VyaV8gPSBmdW5jdGlvbih1cmksIHF1ZXJ5RGF0YSkge1xuICBpZiAoIXF1ZXJ5RGF0YSkge1xuICAgIHJldHVybiB1cmk7XG4gIH1cbiAgdmFyIHBhcnRzID0gZ29vZy51cmkudXRpbHMuc3BsaXRRdWVyeURhdGFfKHVyaSk7XG4gIHBhcnRzWzFdID0gZ29vZy51cmkudXRpbHMuYXBwZW5kUXVlcnlEYXRhXyhwYXJ0c1sxXSwgcXVlcnlEYXRhKTtcbiAgcmV0dXJuIGdvb2cudXJpLnV0aWxzLmpvaW5RdWVyeURhdGFfKHBhcnRzKTtcbn07XG5nb29nLnVyaS51dGlscy5hcHBlbmRLZXlWYWx1ZVBhaXJzXyA9IGZ1bmN0aW9uKGtleSwgdmFsdWUsIHBhaXJzKSB7XG4gIGdvb2cuYXNzZXJ0cy5hc3NlcnRTdHJpbmcoa2V5KTtcbiAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgZ29vZy5hc3NlcnRzLmFzc2VydEFycmF5KHZhbHVlKTtcbiAgICBmb3IgKHZhciBqID0gMDsgaiA8IHZhbHVlLmxlbmd0aDsgaisrKSB7XG4gICAgICBnb29nLnVyaS51dGlscy5hcHBlbmRLZXlWYWx1ZVBhaXJzXyhrZXksIFN0cmluZyh2YWx1ZVtqXSksIHBhaXJzKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgbnVsbCAhPSB2YWx1ZSAmJiBwYWlycy5wdXNoKGtleSArIChcIlwiID09PSB2YWx1ZSA/IFwiXCIgOiBcIj1cIiArIGdvb2cuc3RyaW5nLnVybEVuY29kZSh2YWx1ZSkpKTtcbiAgfVxufTtcbmdvb2cudXJpLnV0aWxzLmJ1aWxkUXVlcnlEYXRhID0gZnVuY3Rpb24oa2V5c0FuZFZhbHVlcywgb3B0X3N0YXJ0SW5kZXgpIHtcbiAgZ29vZy5hc3NlcnRzLmFzc2VydCgwID09IE1hdGgubWF4KGtleXNBbmRWYWx1ZXMubGVuZ3RoIC0gKG9wdF9zdGFydEluZGV4IHx8IDApLCAwKSAlIDIsIFwiZ29vZy51cmkudXRpbHM6IEtleS92YWx1ZSBsaXN0cyBtdXN0IGJlIGV2ZW4gaW4gbGVuZ3RoLlwiKTtcbiAgZm9yICh2YXIgcGFyYW1zID0gW10sIGkgPSBvcHRfc3RhcnRJbmRleCB8fCAwOyBpIDwga2V5c0FuZFZhbHVlcy5sZW5ndGg7IGkgKz0gMikge1xuICAgIGdvb2cudXJpLnV0aWxzLmFwcGVuZEtleVZhbHVlUGFpcnNfKGtleXNBbmRWYWx1ZXNbaV0sIGtleXNBbmRWYWx1ZXNbaSArIDFdLCBwYXJhbXMpO1xuICB9XG4gIHJldHVybiBwYXJhbXMuam9pbihcIiZcIik7XG59O1xuZ29vZy51cmkudXRpbHMuYnVpbGRRdWVyeURhdGFGcm9tTWFwID0gZnVuY3Rpb24obWFwKSB7XG4gIHZhciBwYXJhbXMgPSBbXSwga2V5O1xuICBmb3IgKGtleSBpbiBtYXApIHtcbiAgICBnb29nLnVyaS51dGlscy5hcHBlbmRLZXlWYWx1ZVBhaXJzXyhrZXksIG1hcFtrZXldLCBwYXJhbXMpO1xuICB9XG4gIHJldHVybiBwYXJhbXMuam9pbihcIiZcIik7XG59O1xuZ29vZy51cmkudXRpbHMuYXBwZW5kUGFyYW1zID0gZnVuY3Rpb24odXJpLCB2YXJfYXJncykge1xuICB2YXIgcXVlcnlEYXRhID0gMiA9PSBhcmd1bWVudHMubGVuZ3RoID8gZ29vZy51cmkudXRpbHMuYnVpbGRRdWVyeURhdGEoYXJndW1lbnRzWzFdLCAwKSA6IGdvb2cudXJpLnV0aWxzLmJ1aWxkUXVlcnlEYXRhKGFyZ3VtZW50cywgMSk7XG4gIHJldHVybiBnb29nLnVyaS51dGlscy5hcHBlbmRRdWVyeURhdGFUb1VyaV8odXJpLCBxdWVyeURhdGEpO1xufTtcbmdvb2cudXJpLnV0aWxzLmFwcGVuZFBhcmFtc0Zyb21NYXAgPSBmdW5jdGlvbih1cmksIG1hcCkge1xuICB2YXIgcXVlcnlEYXRhID0gZ29vZy51cmkudXRpbHMuYnVpbGRRdWVyeURhdGFGcm9tTWFwKG1hcCk7XG4gIHJldHVybiBnb29nLnVyaS51dGlscy5hcHBlbmRRdWVyeURhdGFUb1VyaV8odXJpLCBxdWVyeURhdGEpO1xufTtcbmdvb2cudXJpLnV0aWxzLmFwcGVuZFBhcmFtID0gZnVuY3Rpb24odXJpLCBrZXksIG9wdF92YWx1ZSkge1xuICB2YXIgdmFsdWUgPSBudWxsICE9IG9wdF92YWx1ZSA/IFwiPVwiICsgZ29vZy5zdHJpbmcudXJsRW5jb2RlKG9wdF92YWx1ZSkgOiBcIlwiO1xuICByZXR1cm4gZ29vZy51cmkudXRpbHMuYXBwZW5kUXVlcnlEYXRhVG9VcmlfKHVyaSwga2V5ICsgdmFsdWUpO1xufTtcbmdvb2cudXJpLnV0aWxzLmZpbmRQYXJhbV8gPSBmdW5jdGlvbih1cmksIHN0YXJ0SW5kZXgsIGtleUVuY29kZWQsIGhhc2hPckVuZEluZGV4KSB7XG4gIGZvciAodmFyIGluZGV4ID0gc3RhcnRJbmRleCwga2V5TGVuZ3RoID0ga2V5RW5jb2RlZC5sZW5ndGg7IDAgPD0gKGluZGV4ID0gdXJpLmluZGV4T2Yoa2V5RW5jb2RlZCwgaW5kZXgpKSAmJiBpbmRleCA8IGhhc2hPckVuZEluZGV4Oykge1xuICAgIHZhciBwcmVjZWRpbmdDaGFyID0gdXJpLmNoYXJDb2RlQXQoaW5kZXggLSAxKTtcbiAgICBpZiAocHJlY2VkaW5nQ2hhciA9PSBnb29nLnVyaS51dGlscy5DaGFyQ29kZV8uQU1QRVJTQU5EIHx8IHByZWNlZGluZ0NoYXIgPT0gZ29vZy51cmkudXRpbHMuQ2hhckNvZGVfLlFVRVNUSU9OKSB7XG4gICAgICB2YXIgZm9sbG93aW5nQ2hhciA9IHVyaS5jaGFyQ29kZUF0KGluZGV4ICsga2V5TGVuZ3RoKTtcbiAgICAgIGlmICghZm9sbG93aW5nQ2hhciB8fCBmb2xsb3dpbmdDaGFyID09IGdvb2cudXJpLnV0aWxzLkNoYXJDb2RlXy5FUVVBTCB8fCBmb2xsb3dpbmdDaGFyID09IGdvb2cudXJpLnV0aWxzLkNoYXJDb2RlXy5BTVBFUlNBTkQgfHwgZm9sbG93aW5nQ2hhciA9PSBnb29nLnVyaS51dGlscy5DaGFyQ29kZV8uSEFTSCkge1xuICAgICAgICByZXR1cm4gaW5kZXg7XG4gICAgICB9XG4gICAgfVxuICAgIGluZGV4ICs9IGtleUxlbmd0aCArIDE7XG4gIH1cbiAgcmV0dXJuIC0xO1xufTtcbmdvb2cudXJpLnV0aWxzLmhhc2hPckVuZFJlXyA9IC8jfCQvO1xuZ29vZy51cmkudXRpbHMuaGFzUGFyYW0gPSBmdW5jdGlvbih1cmksIGtleUVuY29kZWQpIHtcbiAgcmV0dXJuIDAgPD0gZ29vZy51cmkudXRpbHMuZmluZFBhcmFtXyh1cmksIDAsIGtleUVuY29kZWQsIHVyaS5zZWFyY2goZ29vZy51cmkudXRpbHMuaGFzaE9yRW5kUmVfKSk7XG59O1xuZ29vZy51cmkudXRpbHMuZ2V0UGFyYW1WYWx1ZSA9IGZ1bmN0aW9uKHVyaSwga2V5RW5jb2RlZCkge1xuICB2YXIgaGFzaE9yRW5kSW5kZXggPSB1cmkuc2VhcmNoKGdvb2cudXJpLnV0aWxzLmhhc2hPckVuZFJlXyksIGZvdW5kSW5kZXggPSBnb29nLnVyaS51dGlscy5maW5kUGFyYW1fKHVyaSwgMCwga2V5RW5jb2RlZCwgaGFzaE9yRW5kSW5kZXgpO1xuICBpZiAoMCA+IGZvdW5kSW5kZXgpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICB2YXIgZW5kUG9zaXRpb24gPSB1cmkuaW5kZXhPZihcIiZcIiwgZm91bmRJbmRleCk7XG4gIGlmICgwID4gZW5kUG9zaXRpb24gfHwgZW5kUG9zaXRpb24gPiBoYXNoT3JFbmRJbmRleCkge1xuICAgIGVuZFBvc2l0aW9uID0gaGFzaE9yRW5kSW5kZXg7XG4gIH1cbiAgZm91bmRJbmRleCArPSBrZXlFbmNvZGVkLmxlbmd0aCArIDE7XG4gIHJldHVybiBnb29nLnN0cmluZy51cmxEZWNvZGUodXJpLnNsaWNlKGZvdW5kSW5kZXgsIC0xICE9PSBlbmRQb3NpdGlvbiA/IGVuZFBvc2l0aW9uIDogMCkpO1xufTtcbmdvb2cudXJpLnV0aWxzLmdldFBhcmFtVmFsdWVzID0gZnVuY3Rpb24odXJpLCBrZXlFbmNvZGVkKSB7XG4gIGZvciAodmFyIGhhc2hPckVuZEluZGV4ID0gdXJpLnNlYXJjaChnb29nLnVyaS51dGlscy5oYXNoT3JFbmRSZV8pLCBwb3NpdGlvbiA9IDAsIGZvdW5kSW5kZXgsIHJlc3VsdCA9IFtdOyAwIDw9IChmb3VuZEluZGV4ID0gZ29vZy51cmkudXRpbHMuZmluZFBhcmFtXyh1cmksIHBvc2l0aW9uLCBrZXlFbmNvZGVkLCBoYXNoT3JFbmRJbmRleCkpOykge1xuICAgIHBvc2l0aW9uID0gdXJpLmluZGV4T2YoXCImXCIsIGZvdW5kSW5kZXgpO1xuICAgIGlmICgwID4gcG9zaXRpb24gfHwgcG9zaXRpb24gPiBoYXNoT3JFbmRJbmRleCkge1xuICAgICAgcG9zaXRpb24gPSBoYXNoT3JFbmRJbmRleDtcbiAgICB9XG4gICAgZm91bmRJbmRleCArPSBrZXlFbmNvZGVkLmxlbmd0aCArIDE7XG4gICAgcmVzdWx0LnB1c2goZ29vZy5zdHJpbmcudXJsRGVjb2RlKHVyaS5zbGljZShmb3VuZEluZGV4LCBNYXRoLm1heChwb3NpdGlvbiwgMCkpKSk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5nb29nLnVyaS51dGlscy50cmFpbGluZ1F1ZXJ5UHVuY3R1YXRpb25SZV8gPSAvWz8mXSgkfCMpLztcbmdvb2cudXJpLnV0aWxzLnJlbW92ZVBhcmFtID0gZnVuY3Rpb24odXJpLCBrZXlFbmNvZGVkKSB7XG4gIGZvciAodmFyIGhhc2hPckVuZEluZGV4ID0gdXJpLnNlYXJjaChnb29nLnVyaS51dGlscy5oYXNoT3JFbmRSZV8pLCBwb3NpdGlvbiA9IDAsIGZvdW5kSW5kZXgsIGJ1ZmZlciA9IFtdOyAwIDw9IChmb3VuZEluZGV4ID0gZ29vZy51cmkudXRpbHMuZmluZFBhcmFtXyh1cmksIHBvc2l0aW9uLCBrZXlFbmNvZGVkLCBoYXNoT3JFbmRJbmRleCkpOykge1xuICAgIGJ1ZmZlci5wdXNoKHVyaS5zdWJzdHJpbmcocG9zaXRpb24sIGZvdW5kSW5kZXgpKSwgcG9zaXRpb24gPSBNYXRoLm1pbih1cmkuaW5kZXhPZihcIiZcIiwgZm91bmRJbmRleCkgKyAxIHx8IGhhc2hPckVuZEluZGV4LCBoYXNoT3JFbmRJbmRleCk7XG4gIH1cbiAgYnVmZmVyLnB1c2godXJpLnNsaWNlKHBvc2l0aW9uKSk7XG4gIHJldHVybiBidWZmZXIuam9pbihcIlwiKS5yZXBsYWNlKGdvb2cudXJpLnV0aWxzLnRyYWlsaW5nUXVlcnlQdW5jdHVhdGlvblJlXywgXCIkMVwiKTtcbn07XG5nb29nLnVyaS51dGlscy5zZXRQYXJhbSA9IGZ1bmN0aW9uKHVyaSwga2V5RW5jb2RlZCwgdmFsdWUpIHtcbiAgcmV0dXJuIGdvb2cudXJpLnV0aWxzLmFwcGVuZFBhcmFtKGdvb2cudXJpLnV0aWxzLnJlbW92ZVBhcmFtKHVyaSwga2V5RW5jb2RlZCksIGtleUVuY29kZWQsIHZhbHVlKTtcbn07XG5nb29nLnVyaS51dGlscy5zZXRQYXJhbXNGcm9tTWFwID0gZnVuY3Rpb24odXJpLCBwYXJhbXMpIHtcbiAgdmFyIHBhcnRzID0gZ29vZy51cmkudXRpbHMuc3BsaXRRdWVyeURhdGFfKHVyaSksIHF1ZXJ5RGF0YSA9IHBhcnRzWzFdLCBidWZmZXIgPSBbXTtcbiAgcXVlcnlEYXRhICYmIHF1ZXJ5RGF0YS5zcGxpdChcIiZcIikuZm9yRWFjaChmdW5jdGlvbihwYWlyKSB7XG4gICAgdmFyIGluZGV4T2ZFcXVhbHMgPSBwYWlyLmluZGV4T2YoXCI9XCIpLCBuYW1lID0gMCA8PSBpbmRleE9mRXF1YWxzID8gcGFpci5zbGljZSgwLCBpbmRleE9mRXF1YWxzKSA6IHBhaXI7XG4gICAgcGFyYW1zLmhhc093blByb3BlcnR5KG5hbWUpIHx8IGJ1ZmZlci5wdXNoKHBhaXIpO1xuICB9KTtcbiAgcGFydHNbMV0gPSBnb29nLnVyaS51dGlscy5hcHBlbmRRdWVyeURhdGFfKGJ1ZmZlci5qb2luKFwiJlwiKSwgZ29vZy51cmkudXRpbHMuYnVpbGRRdWVyeURhdGFGcm9tTWFwKHBhcmFtcykpO1xuICByZXR1cm4gZ29vZy51cmkudXRpbHMuam9pblF1ZXJ5RGF0YV8ocGFydHMpO1xufTtcbmdvb2cudXJpLnV0aWxzLmFwcGVuZFBhdGggPSBmdW5jdGlvbihiYXNlVXJpLCBwYXRoKSB7XG4gIGdvb2cudXJpLnV0aWxzLmFzc2VydE5vRnJhZ21lbnRzT3JRdWVyaWVzXyhiYXNlVXJpKTtcbiAgZ29vZy5zdHJpbmcuZW5kc1dpdGgoYmFzZVVyaSwgXCIvXCIpICYmIChiYXNlVXJpID0gYmFzZVVyaS5zbGljZSgwLCAtMSkpO1xuICBnb29nLnN0cmluZy5zdGFydHNXaXRoKHBhdGgsIFwiL1wiKSAmJiAocGF0aCA9IHBhdGguc2xpY2UoMSkpO1xuICByZXR1cm4gXCJcIiArIGJhc2VVcmkgKyBcIi9cIiArIHBhdGg7XG59O1xuZ29vZy51cmkudXRpbHMuc2V0UGF0aCA9IGZ1bmN0aW9uKHVyaSwgcGF0aCkge1xuICBnb29nLnN0cmluZy5zdGFydHNXaXRoKHBhdGgsIFwiL1wiKSB8fCAocGF0aCA9IFwiL1wiICsgcGF0aCk7XG4gIHZhciBwYXJ0cyA9IGdvb2cudXJpLnV0aWxzLnNwbGl0KHVyaSk7XG4gIHJldHVybiBnb29nLnVyaS51dGlscy5idWlsZEZyb21FbmNvZGVkUGFydHMocGFydHNbZ29vZy51cmkudXRpbHMuQ29tcG9uZW50SW5kZXguU0NIRU1FXSwgcGFydHNbZ29vZy51cmkudXRpbHMuQ29tcG9uZW50SW5kZXguVVNFUl9JTkZPXSwgcGFydHNbZ29vZy51cmkudXRpbHMuQ29tcG9uZW50SW5kZXguRE9NQUlOXSwgcGFydHNbZ29vZy51cmkudXRpbHMuQ29tcG9uZW50SW5kZXguUE9SVF0sIHBhdGgsIHBhcnRzW2dvb2cudXJpLnV0aWxzLkNvbXBvbmVudEluZGV4LlFVRVJZX0RBVEFdLCBwYXJ0c1tnb29nLnVyaS51dGlscy5Db21wb25lbnRJbmRleC5GUkFHTUVOVF0pO1xufTtcbmdvb2cudXJpLnV0aWxzLlN0YW5kYXJkUXVlcnlQYXJhbSA9IHtSQU5ET006XCJ6eFwifTtcbmdvb2cudXJpLnV0aWxzLm1ha2VVbmlxdWUgPSBmdW5jdGlvbih1cmkpIHtcbiAgcmV0dXJuIGdvb2cudXJpLnV0aWxzLnNldFBhcmFtKHVyaSwgZ29vZy51cmkudXRpbHMuU3RhbmRhcmRRdWVyeVBhcmFtLlJBTkRPTSwgZ29vZy5zdHJpbmcuZ2V0UmFuZG9tU3RyaW5nKCkpO1xufTtcbmdvb2cuVXJpID0gZnVuY3Rpb24ob3B0X3VyaSwgb3B0X2lnbm9yZUNhc2UpIHtcbiAgdGhpcy5kb21haW5fID0gdGhpcy51c2VySW5mb18gPSB0aGlzLnNjaGVtZV8gPSBcIlwiO1xuICB0aGlzLnBvcnRfID0gbnVsbDtcbiAgdGhpcy5mcmFnbWVudF8gPSB0aGlzLnBhdGhfID0gXCJcIjtcbiAgdGhpcy5pZ25vcmVDYXNlXyA9IHRoaXMuaXNSZWFkT25seV8gPSAhMTtcbiAgdmFyIG07XG4gIG9wdF91cmkgaW5zdGFuY2VvZiBnb29nLlVyaSA/ICh0aGlzLmlnbm9yZUNhc2VfID0gdm9pZCAwICE9PSBvcHRfaWdub3JlQ2FzZSA/IG9wdF9pZ25vcmVDYXNlIDogb3B0X3VyaS5nZXRJZ25vcmVDYXNlKCksIHRoaXMuc2V0U2NoZW1lKG9wdF91cmkuZ2V0U2NoZW1lKCkpLCB0aGlzLnNldFVzZXJJbmZvKG9wdF91cmkuZ2V0VXNlckluZm8oKSksIHRoaXMuc2V0RG9tYWluKG9wdF91cmkuZ2V0RG9tYWluKCkpLCB0aGlzLnNldFBvcnQob3B0X3VyaS5nZXRQb3J0KCkpLCB0aGlzLnNldFBhdGgob3B0X3VyaS5nZXRQYXRoKCkpLCB0aGlzLnNldFF1ZXJ5RGF0YShvcHRfdXJpLmdldFF1ZXJ5RGF0YSgpLmNsb25lKCkpLCB0aGlzLnNldEZyYWdtZW50KG9wdF91cmkuZ2V0RnJhZ21lbnQoKSkpIDogb3B0X3VyaSAmJiAobSA9IGdvb2cudXJpLnV0aWxzLnNwbGl0KFN0cmluZyhvcHRfdXJpKSkpID8gKHRoaXMuaWdub3JlQ2FzZV8gPSAhIW9wdF9pZ25vcmVDYXNlLCB0aGlzLnNldFNjaGVtZShtW2dvb2cudXJpLnV0aWxzLkNvbXBvbmVudEluZGV4LlNDSEVNRV0gfHwgXG4gIFwiXCIsICEwKSwgdGhpcy5zZXRVc2VySW5mbyhtW2dvb2cudXJpLnV0aWxzLkNvbXBvbmVudEluZGV4LlVTRVJfSU5GT10gfHwgXCJcIiwgITApLCB0aGlzLnNldERvbWFpbihtW2dvb2cudXJpLnV0aWxzLkNvbXBvbmVudEluZGV4LkRPTUFJTl0gfHwgXCJcIiwgITApLCB0aGlzLnNldFBvcnQobVtnb29nLnVyaS51dGlscy5Db21wb25lbnRJbmRleC5QT1JUXSksIHRoaXMuc2V0UGF0aChtW2dvb2cudXJpLnV0aWxzLkNvbXBvbmVudEluZGV4LlBBVEhdIHx8IFwiXCIsICEwKSwgdGhpcy5zZXRRdWVyeURhdGEobVtnb29nLnVyaS51dGlscy5Db21wb25lbnRJbmRleC5RVUVSWV9EQVRBXSB8fCBcIlwiLCAhMCksIHRoaXMuc2V0RnJhZ21lbnQobVtnb29nLnVyaS51dGlscy5Db21wb25lbnRJbmRleC5GUkFHTUVOVF0gfHwgXCJcIiwgITApKSA6ICh0aGlzLmlnbm9yZUNhc2VfID0gISFvcHRfaWdub3JlQ2FzZSwgdGhpcy5xdWVyeURhdGFfID0gbmV3IGdvb2cuVXJpLlF1ZXJ5RGF0YShudWxsLCB0aGlzLmlnbm9yZUNhc2VfKSk7XG59O1xuZ29vZy5VcmkuUkFORE9NX1BBUkFNID0gZ29vZy51cmkudXRpbHMuU3RhbmRhcmRRdWVyeVBhcmFtLlJBTkRPTTtcbmdvb2cuVXJpLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uKCkge1xuICB2YXIgb3V0ID0gW10sIHNjaGVtZSA9IHRoaXMuZ2V0U2NoZW1lKCk7XG4gIHNjaGVtZSAmJiBvdXQucHVzaChnb29nLlVyaS5lbmNvZGVTcGVjaWFsQ2hhcnNfKHNjaGVtZSwgZ29vZy5VcmkucmVEaXNhbGxvd2VkSW5TY2hlbWVPclVzZXJJbmZvXywgITApLCBcIjpcIik7XG4gIHZhciBkb21haW4gPSB0aGlzLmdldERvbWFpbigpO1xuICBpZiAoZG9tYWluIHx8IFwiZmlsZVwiID09IHNjaGVtZSkge1xuICAgIG91dC5wdXNoKFwiLy9cIik7XG4gICAgdmFyIHVzZXJJbmZvID0gdGhpcy5nZXRVc2VySW5mbygpO1xuICAgIHVzZXJJbmZvICYmIG91dC5wdXNoKGdvb2cuVXJpLmVuY29kZVNwZWNpYWxDaGFyc18odXNlckluZm8sIGdvb2cuVXJpLnJlRGlzYWxsb3dlZEluU2NoZW1lT3JVc2VySW5mb18sICEwKSwgXCJAXCIpO1xuICAgIG91dC5wdXNoKGdvb2cuVXJpLnJlbW92ZURvdWJsZUVuY29kaW5nXyhnb29nLnN0cmluZy51cmxFbmNvZGUoZG9tYWluKSkpO1xuICAgIHZhciBwb3J0ID0gdGhpcy5nZXRQb3J0KCk7XG4gICAgbnVsbCAhPSBwb3J0ICYmIG91dC5wdXNoKFwiOlwiLCBTdHJpbmcocG9ydCkpO1xuICB9XG4gIHZhciBwYXRoID0gdGhpcy5nZXRQYXRoKCk7XG4gIHBhdGggJiYgKHRoaXMuaGFzRG9tYWluKCkgJiYgXCIvXCIgIT0gcGF0aC5jaGFyQXQoMCkgJiYgb3V0LnB1c2goXCIvXCIpLCBvdXQucHVzaChnb29nLlVyaS5lbmNvZGVTcGVjaWFsQ2hhcnNfKHBhdGgsIFwiL1wiID09IHBhdGguY2hhckF0KDApID8gZ29vZy5VcmkucmVEaXNhbGxvd2VkSW5BYnNvbHV0ZVBhdGhfIDogZ29vZy5VcmkucmVEaXNhbGxvd2VkSW5SZWxhdGl2ZVBhdGhfLCAhMCkpKTtcbiAgdmFyIHF1ZXJ5ID0gdGhpcy5nZXRFbmNvZGVkUXVlcnkoKTtcbiAgcXVlcnkgJiYgb3V0LnB1c2goXCI/XCIsIHF1ZXJ5KTtcbiAgdmFyIGZyYWdtZW50ID0gdGhpcy5nZXRGcmFnbWVudCgpO1xuICBmcmFnbWVudCAmJiBvdXQucHVzaChcIiNcIiwgZ29vZy5VcmkuZW5jb2RlU3BlY2lhbENoYXJzXyhmcmFnbWVudCwgZ29vZy5VcmkucmVEaXNhbGxvd2VkSW5GcmFnbWVudF8pKTtcbiAgcmV0dXJuIG91dC5qb2luKFwiXCIpO1xufTtcbmdvb2cuVXJpLnByb3RvdHlwZS5yZXNvbHZlID0gZnVuY3Rpb24ocmVsYXRpdmVVcmkpIHtcbiAgdmFyIGFic29sdXRlVXJpID0gdGhpcy5jbG9uZSgpLCBvdmVycmlkZGVuID0gcmVsYXRpdmVVcmkuaGFzU2NoZW1lKCk7XG4gIG92ZXJyaWRkZW4gPyBhYnNvbHV0ZVVyaS5zZXRTY2hlbWUocmVsYXRpdmVVcmkuZ2V0U2NoZW1lKCkpIDogb3ZlcnJpZGRlbiA9IHJlbGF0aXZlVXJpLmhhc1VzZXJJbmZvKCk7XG4gIG92ZXJyaWRkZW4gPyBhYnNvbHV0ZVVyaS5zZXRVc2VySW5mbyhyZWxhdGl2ZVVyaS5nZXRVc2VySW5mbygpKSA6IG92ZXJyaWRkZW4gPSByZWxhdGl2ZVVyaS5oYXNEb21haW4oKTtcbiAgb3ZlcnJpZGRlbiA/IGFic29sdXRlVXJpLnNldERvbWFpbihyZWxhdGl2ZVVyaS5nZXREb21haW4oKSkgOiBvdmVycmlkZGVuID0gcmVsYXRpdmVVcmkuaGFzUG9ydCgpO1xuICB2YXIgcGF0aCA9IHJlbGF0aXZlVXJpLmdldFBhdGgoKTtcbiAgaWYgKG92ZXJyaWRkZW4pIHtcbiAgICBhYnNvbHV0ZVVyaS5zZXRQb3J0KHJlbGF0aXZlVXJpLmdldFBvcnQoKSk7XG4gIH0gZWxzZSB7XG4gICAgaWYgKG92ZXJyaWRkZW4gPSByZWxhdGl2ZVVyaS5oYXNQYXRoKCkpIHtcbiAgICAgIGlmIChcIi9cIiAhPSBwYXRoLmNoYXJBdCgwKSkge1xuICAgICAgICBpZiAodGhpcy5oYXNEb21haW4oKSAmJiAhdGhpcy5oYXNQYXRoKCkpIHtcbiAgICAgICAgICBwYXRoID0gXCIvXCIgKyBwYXRoO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhciBsYXN0U2xhc2hJbmRleCA9IGFic29sdXRlVXJpLmdldFBhdGgoKS5sYXN0SW5kZXhPZihcIi9cIik7XG4gICAgICAgICAgLTEgIT0gbGFzdFNsYXNoSW5kZXggJiYgKHBhdGggPSBhYnNvbHV0ZVVyaS5nZXRQYXRoKCkuc2xpY2UoMCwgbGFzdFNsYXNoSW5kZXggKyAxKSArIHBhdGgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBwYXRoID0gZ29vZy5VcmkucmVtb3ZlRG90U2VnbWVudHMocGF0aCk7XG4gICAgfVxuICB9XG4gIG92ZXJyaWRkZW4gPyBhYnNvbHV0ZVVyaS5zZXRQYXRoKHBhdGgpIDogb3ZlcnJpZGRlbiA9IHJlbGF0aXZlVXJpLmhhc1F1ZXJ5KCk7XG4gIG92ZXJyaWRkZW4gPyBhYnNvbHV0ZVVyaS5zZXRRdWVyeURhdGEocmVsYXRpdmVVcmkuZ2V0UXVlcnlEYXRhKCkuY2xvbmUoKSkgOiBvdmVycmlkZGVuID0gcmVsYXRpdmVVcmkuaGFzRnJhZ21lbnQoKTtcbiAgb3ZlcnJpZGRlbiAmJiBhYnNvbHV0ZVVyaS5zZXRGcmFnbWVudChyZWxhdGl2ZVVyaS5nZXRGcmFnbWVudCgpKTtcbiAgcmV0dXJuIGFic29sdXRlVXJpO1xufTtcbmdvb2cuVXJpLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbmV3IGdvb2cuVXJpKHRoaXMpO1xufTtcbmdvb2cuVXJpLnByb3RvdHlwZS5nZXRTY2hlbWUgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuc2NoZW1lXztcbn07XG5nb29nLlVyaS5wcm90b3R5cGUuc2V0U2NoZW1lID0gZnVuY3Rpb24obmV3U2NoZW1lLCBvcHRfZGVjb2RlKSB7XG4gIHRoaXMuZW5mb3JjZVJlYWRPbmx5KCk7XG4gIGlmICh0aGlzLnNjaGVtZV8gPSBvcHRfZGVjb2RlID8gZ29vZy5VcmkuZGVjb2RlT3JFbXB0eV8obmV3U2NoZW1lLCAhMCkgOiBuZXdTY2hlbWUpIHtcbiAgICB0aGlzLnNjaGVtZV8gPSB0aGlzLnNjaGVtZV8ucmVwbGFjZSgvOiQvLCBcIlwiKTtcbiAgfVxuICByZXR1cm4gdGhpcztcbn07XG5nb29nLlVyaS5wcm90b3R5cGUuaGFzU2NoZW1lID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiAhIXRoaXMuc2NoZW1lXztcbn07XG5nb29nLlVyaS5wcm90b3R5cGUuZ2V0VXNlckluZm8gPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMudXNlckluZm9fO1xufTtcbmdvb2cuVXJpLnByb3RvdHlwZS5zZXRVc2VySW5mbyA9IGZ1bmN0aW9uKG5ld1VzZXJJbmZvLCBvcHRfZGVjb2RlKSB7XG4gIHRoaXMuZW5mb3JjZVJlYWRPbmx5KCk7XG4gIHRoaXMudXNlckluZm9fID0gb3B0X2RlY29kZSA/IGdvb2cuVXJpLmRlY29kZU9yRW1wdHlfKG5ld1VzZXJJbmZvKSA6IG5ld1VzZXJJbmZvO1xuICByZXR1cm4gdGhpcztcbn07XG5nb29nLlVyaS5wcm90b3R5cGUuaGFzVXNlckluZm8gPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuICEhdGhpcy51c2VySW5mb187XG59O1xuZ29vZy5VcmkucHJvdG90eXBlLmdldERvbWFpbiA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5kb21haW5fO1xufTtcbmdvb2cuVXJpLnByb3RvdHlwZS5zZXREb21haW4gPSBmdW5jdGlvbihuZXdEb21haW4sIG9wdF9kZWNvZGUpIHtcbiAgdGhpcy5lbmZvcmNlUmVhZE9ubHkoKTtcbiAgdGhpcy5kb21haW5fID0gb3B0X2RlY29kZSA/IGdvb2cuVXJpLmRlY29kZU9yRW1wdHlfKG5ld0RvbWFpbiwgITApIDogbmV3RG9tYWluO1xuICByZXR1cm4gdGhpcztcbn07XG5nb29nLlVyaS5wcm90b3R5cGUuaGFzRG9tYWluID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiAhIXRoaXMuZG9tYWluXztcbn07XG5nb29nLlVyaS5wcm90b3R5cGUuZ2V0UG9ydCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5wb3J0Xztcbn07XG5nb29nLlVyaS5wcm90b3R5cGUuc2V0UG9ydCA9IGZ1bmN0aW9uKG5ld1BvcnQpIHtcbiAgdGhpcy5lbmZvcmNlUmVhZE9ubHkoKTtcbiAgaWYgKG5ld1BvcnQpIHtcbiAgICBuZXdQb3J0ID0gTnVtYmVyKG5ld1BvcnQpO1xuICAgIGlmIChpc05hTihuZXdQb3J0KSB8fCAwID4gbmV3UG9ydCkge1xuICAgICAgdGhyb3cgRXJyb3IoXCJCYWQgcG9ydCBudW1iZXIgXCIgKyBuZXdQb3J0KTtcbiAgICB9XG4gICAgdGhpcy5wb3J0XyA9IG5ld1BvcnQ7XG4gIH0gZWxzZSB7XG4gICAgdGhpcy5wb3J0XyA9IG51bGw7XG4gIH1cbiAgcmV0dXJuIHRoaXM7XG59O1xuZ29vZy5VcmkucHJvdG90eXBlLmhhc1BvcnQgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG51bGwgIT0gdGhpcy5wb3J0Xztcbn07XG5nb29nLlVyaS5wcm90b3R5cGUuZ2V0UGF0aCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5wYXRoXztcbn07XG5nb29nLlVyaS5wcm90b3R5cGUuc2V0UGF0aCA9IGZ1bmN0aW9uKG5ld1BhdGgsIG9wdF9kZWNvZGUpIHtcbiAgdGhpcy5lbmZvcmNlUmVhZE9ubHkoKTtcbiAgdGhpcy5wYXRoXyA9IG9wdF9kZWNvZGUgPyBnb29nLlVyaS5kZWNvZGVPckVtcHR5XyhuZXdQYXRoLCAhMCkgOiBuZXdQYXRoO1xuICByZXR1cm4gdGhpcztcbn07XG5nb29nLlVyaS5wcm90b3R5cGUuaGFzUGF0aCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gISF0aGlzLnBhdGhfO1xufTtcbmdvb2cuVXJpLnByb3RvdHlwZS5oYXNRdWVyeSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gXCJcIiAhPT0gdGhpcy5xdWVyeURhdGFfLnRvU3RyaW5nKCk7XG59O1xuZ29vZy5VcmkucHJvdG90eXBlLnNldFF1ZXJ5RGF0YSA9IGZ1bmN0aW9uKHF1ZXJ5RGF0YSwgb3B0X2RlY29kZSkge1xuICB0aGlzLmVuZm9yY2VSZWFkT25seSgpO1xuICBxdWVyeURhdGEgaW5zdGFuY2VvZiBnb29nLlVyaS5RdWVyeURhdGEgPyAodGhpcy5xdWVyeURhdGFfID0gcXVlcnlEYXRhLCB0aGlzLnF1ZXJ5RGF0YV8uc2V0SWdub3JlQ2FzZSh0aGlzLmlnbm9yZUNhc2VfKSkgOiAob3B0X2RlY29kZSB8fCAocXVlcnlEYXRhID0gZ29vZy5VcmkuZW5jb2RlU3BlY2lhbENoYXJzXyhxdWVyeURhdGEsIGdvb2cuVXJpLnJlRGlzYWxsb3dlZEluUXVlcnlfKSksIHRoaXMucXVlcnlEYXRhXyA9IG5ldyBnb29nLlVyaS5RdWVyeURhdGEocXVlcnlEYXRhLCB0aGlzLmlnbm9yZUNhc2VfKSk7XG4gIHJldHVybiB0aGlzO1xufTtcbmdvb2cuVXJpLnByb3RvdHlwZS5zZXRRdWVyeSA9IGZ1bmN0aW9uKG5ld1F1ZXJ5LCBvcHRfZGVjb2RlKSB7XG4gIHJldHVybiB0aGlzLnNldFF1ZXJ5RGF0YShuZXdRdWVyeSwgb3B0X2RlY29kZSk7XG59O1xuZ29vZy5VcmkucHJvdG90eXBlLmdldEVuY29kZWRRdWVyeSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5xdWVyeURhdGFfLnRvU3RyaW5nKCk7XG59O1xuZ29vZy5VcmkucHJvdG90eXBlLmdldERlY29kZWRRdWVyeSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5xdWVyeURhdGFfLnRvRGVjb2RlZFN0cmluZygpO1xufTtcbmdvb2cuVXJpLnByb3RvdHlwZS5nZXRRdWVyeURhdGEgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMucXVlcnlEYXRhXztcbn07XG5nb29nLlVyaS5wcm90b3R5cGUuZ2V0UXVlcnkgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuZ2V0RW5jb2RlZFF1ZXJ5KCk7XG59O1xuZ29vZy5VcmkucHJvdG90eXBlLnNldFBhcmFtZXRlclZhbHVlID0gZnVuY3Rpb24oa2V5LCB2YWx1ZSkge1xuICB0aGlzLmVuZm9yY2VSZWFkT25seSgpO1xuICB0aGlzLnF1ZXJ5RGF0YV8uc2V0KGtleSwgdmFsdWUpO1xuICByZXR1cm4gdGhpcztcbn07XG5nb29nLlVyaS5wcm90b3R5cGUuc2V0UGFyYW1ldGVyVmFsdWVzID0gZnVuY3Rpb24oa2V5LCB2YWx1ZXMpIHtcbiAgdGhpcy5lbmZvcmNlUmVhZE9ubHkoKTtcbiAgQXJyYXkuaXNBcnJheSh2YWx1ZXMpIHx8ICh2YWx1ZXMgPSBbU3RyaW5nKHZhbHVlcyldKTtcbiAgdGhpcy5xdWVyeURhdGFfLnNldFZhbHVlcyhrZXksIHZhbHVlcyk7XG4gIHJldHVybiB0aGlzO1xufTtcbmdvb2cuVXJpLnByb3RvdHlwZS5nZXRQYXJhbWV0ZXJWYWx1ZXMgPSBmdW5jdGlvbihuYW1lKSB7XG4gIHJldHVybiB0aGlzLnF1ZXJ5RGF0YV8uZ2V0VmFsdWVzKG5hbWUpO1xufTtcbmdvb2cuVXJpLnByb3RvdHlwZS5nZXRQYXJhbWV0ZXJWYWx1ZSA9IGZ1bmN0aW9uKHBhcmFtTmFtZSkge1xuICByZXR1cm4gdGhpcy5xdWVyeURhdGFfLmdldChwYXJhbU5hbWUpO1xufTtcbmdvb2cuVXJpLnByb3RvdHlwZS5nZXRGcmFnbWVudCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5mcmFnbWVudF87XG59O1xuZ29vZy5VcmkucHJvdG90eXBlLnNldEZyYWdtZW50ID0gZnVuY3Rpb24obmV3RnJhZ21lbnQsIG9wdF9kZWNvZGUpIHtcbiAgdGhpcy5lbmZvcmNlUmVhZE9ubHkoKTtcbiAgdGhpcy5mcmFnbWVudF8gPSBvcHRfZGVjb2RlID8gZ29vZy5VcmkuZGVjb2RlT3JFbXB0eV8obmV3RnJhZ21lbnQpIDogbmV3RnJhZ21lbnQ7XG4gIHJldHVybiB0aGlzO1xufTtcbmdvb2cuVXJpLnByb3RvdHlwZS5oYXNGcmFnbWVudCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gISF0aGlzLmZyYWdtZW50Xztcbn07XG5nb29nLlVyaS5wcm90b3R5cGUuaGFzU2FtZURvbWFpbkFzID0gZnVuY3Rpb24odXJpMikge1xuICByZXR1cm4gKCF0aGlzLmhhc0RvbWFpbigpICYmICF1cmkyLmhhc0RvbWFpbigpIHx8IHRoaXMuZ2V0RG9tYWluKCkgPT0gdXJpMi5nZXREb21haW4oKSkgJiYgKCF0aGlzLmhhc1BvcnQoKSAmJiAhdXJpMi5oYXNQb3J0KCkgfHwgdGhpcy5nZXRQb3J0KCkgPT0gdXJpMi5nZXRQb3J0KCkpO1xufTtcbmdvb2cuVXJpLnByb3RvdHlwZS5tYWtlVW5pcXVlID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMuZW5mb3JjZVJlYWRPbmx5KCk7XG4gIHRoaXMuc2V0UGFyYW1ldGVyVmFsdWUoZ29vZy5VcmkuUkFORE9NX1BBUkFNLCBnb29nLnN0cmluZy5nZXRSYW5kb21TdHJpbmcoKSk7XG4gIHJldHVybiB0aGlzO1xufTtcbmdvb2cuVXJpLnByb3RvdHlwZS5yZW1vdmVQYXJhbWV0ZXIgPSBmdW5jdGlvbihrZXkpIHtcbiAgdGhpcy5lbmZvcmNlUmVhZE9ubHkoKTtcbiAgdGhpcy5xdWVyeURhdGFfLnJlbW92ZShrZXkpO1xuICByZXR1cm4gdGhpcztcbn07XG5nb29nLlVyaS5wcm90b3R5cGUuc2V0UmVhZE9ubHkgPSBmdW5jdGlvbihpc1JlYWRPbmx5KSB7XG4gIHRoaXMuaXNSZWFkT25seV8gPSBpc1JlYWRPbmx5O1xuICByZXR1cm4gdGhpcztcbn07XG5nb29nLlVyaS5wcm90b3R5cGUuaXNSZWFkT25seSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5pc1JlYWRPbmx5Xztcbn07XG5nb29nLlVyaS5wcm90b3R5cGUuZW5mb3JjZVJlYWRPbmx5ID0gZnVuY3Rpb24oKSB7XG4gIGlmICh0aGlzLmlzUmVhZE9ubHlfKSB7XG4gICAgdGhyb3cgRXJyb3IoXCJUcmllZCB0byBtb2RpZnkgYSByZWFkLW9ubHkgVXJpXCIpO1xuICB9XG59O1xuZ29vZy5VcmkucHJvdG90eXBlLnNldElnbm9yZUNhc2UgPSBmdW5jdGlvbihpZ25vcmVDYXNlKSB7XG4gIHRoaXMuaWdub3JlQ2FzZV8gPSBpZ25vcmVDYXNlO1xuICB0aGlzLnF1ZXJ5RGF0YV8gJiYgdGhpcy5xdWVyeURhdGFfLnNldElnbm9yZUNhc2UoaWdub3JlQ2FzZSk7XG4gIHJldHVybiB0aGlzO1xufTtcbmdvb2cuVXJpLnByb3RvdHlwZS5nZXRJZ25vcmVDYXNlID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLmlnbm9yZUNhc2VfO1xufTtcbmdvb2cuVXJpLnBhcnNlID0gZnVuY3Rpb24odXJpLCBvcHRfaWdub3JlQ2FzZSkge1xuICByZXR1cm4gdXJpIGluc3RhbmNlb2YgZ29vZy5VcmkgPyB1cmkuY2xvbmUoKSA6IG5ldyBnb29nLlVyaSh1cmksIG9wdF9pZ25vcmVDYXNlKTtcbn07XG5nb29nLlVyaS5jcmVhdGUgPSBmdW5jdGlvbihvcHRfc2NoZW1lLCBvcHRfdXNlckluZm8sIG9wdF9kb21haW4sIG9wdF9wb3J0LCBvcHRfcGF0aCwgb3B0X3F1ZXJ5LCBvcHRfZnJhZ21lbnQsIG9wdF9pZ25vcmVDYXNlKSB7XG4gIHZhciB1cmkgPSBuZXcgZ29vZy5VcmkobnVsbCwgb3B0X2lnbm9yZUNhc2UpO1xuICBvcHRfc2NoZW1lICYmIHVyaS5zZXRTY2hlbWUob3B0X3NjaGVtZSk7XG4gIG9wdF91c2VySW5mbyAmJiB1cmkuc2V0VXNlckluZm8ob3B0X3VzZXJJbmZvKTtcbiAgb3B0X2RvbWFpbiAmJiB1cmkuc2V0RG9tYWluKG9wdF9kb21haW4pO1xuICBvcHRfcG9ydCAmJiB1cmkuc2V0UG9ydChvcHRfcG9ydCk7XG4gIG9wdF9wYXRoICYmIHVyaS5zZXRQYXRoKG9wdF9wYXRoKTtcbiAgb3B0X3F1ZXJ5ICYmIHVyaS5zZXRRdWVyeURhdGEob3B0X3F1ZXJ5KTtcbiAgb3B0X2ZyYWdtZW50ICYmIHVyaS5zZXRGcmFnbWVudChvcHRfZnJhZ21lbnQpO1xuICByZXR1cm4gdXJpO1xufTtcbmdvb2cuVXJpLnJlc29sdmUgPSBmdW5jdGlvbihiYXNlLCByZWwpIHtcbiAgYmFzZSBpbnN0YW5jZW9mIGdvb2cuVXJpIHx8IChiYXNlID0gZ29vZy5VcmkucGFyc2UoYmFzZSkpO1xuICByZWwgaW5zdGFuY2VvZiBnb29nLlVyaSB8fCAocmVsID0gZ29vZy5VcmkucGFyc2UocmVsKSk7XG4gIHJldHVybiBiYXNlLnJlc29sdmUocmVsKTtcbn07XG5nb29nLlVyaS5yZW1vdmVEb3RTZWdtZW50cyA9IGZ1bmN0aW9uKHBhdGgpIHtcbiAgaWYgKFwiLi5cIiA9PSBwYXRoIHx8IFwiLlwiID09IHBhdGgpIHtcbiAgICByZXR1cm4gXCJcIjtcbiAgfVxuICBpZiAoZ29vZy5zdHJpbmcuY29udGFpbnMocGF0aCwgXCIuL1wiKSB8fCBnb29nLnN0cmluZy5jb250YWlucyhwYXRoLCBcIi8uXCIpKSB7XG4gICAgZm9yICh2YXIgbGVhZGluZ1NsYXNoID0gZ29vZy5zdHJpbmcuc3RhcnRzV2l0aChwYXRoLCBcIi9cIiksIHNlZ21lbnRzID0gcGF0aC5zcGxpdChcIi9cIiksIG91dCA9IFtdLCBwb3MgPSAwOyBwb3MgPCBzZWdtZW50cy5sZW5ndGg7KSB7XG4gICAgICB2YXIgc2VnbWVudCA9IHNlZ21lbnRzW3BvcysrXTtcbiAgICAgIFwiLlwiID09IHNlZ21lbnQgPyBsZWFkaW5nU2xhc2ggJiYgcG9zID09IHNlZ21lbnRzLmxlbmd0aCAmJiBvdXQucHVzaChcIlwiKSA6IFwiLi5cIiA9PSBzZWdtZW50ID8gKCgxIDwgb3V0Lmxlbmd0aCB8fCAxID09IG91dC5sZW5ndGggJiYgXCJcIiAhPSBvdXRbMF0pICYmIG91dC5wb3AoKSwgbGVhZGluZ1NsYXNoICYmIHBvcyA9PSBzZWdtZW50cy5sZW5ndGggJiYgb3V0LnB1c2goXCJcIikpIDogKG91dC5wdXNoKHNlZ21lbnQpLCBsZWFkaW5nU2xhc2ggPSAhMCk7XG4gICAgfVxuICAgIHJldHVybiBvdXQuam9pbihcIi9cIik7XG4gIH1cbiAgcmV0dXJuIHBhdGg7XG59O1xuZ29vZy5VcmkuZGVjb2RlT3JFbXB0eV8gPSBmdW5jdGlvbih2YWwsIG9wdF9wcmVzZXJ2ZVJlc2VydmVkKSB7XG4gIHJldHVybiB2YWwgPyBvcHRfcHJlc2VydmVSZXNlcnZlZCA/IGRlY29kZVVSSSh2YWwucmVwbGFjZSgvJTI1L2csIFwiJTI1MjVcIikpIDogZGVjb2RlVVJJQ29tcG9uZW50KHZhbCkgOiBcIlwiO1xufTtcbmdvb2cuVXJpLmVuY29kZVNwZWNpYWxDaGFyc18gPSBmdW5jdGlvbih1bmVzY2FwZWRQYXJ0LCBleHRyYSwgb3B0X3JlbW92ZURvdWJsZUVuY29kaW5nKSB7XG4gIGlmIChcInN0cmluZ1wiID09PSB0eXBlb2YgdW5lc2NhcGVkUGFydCkge1xuICAgIHZhciBlbmNvZGVkID0gZW5jb2RlVVJJKHVuZXNjYXBlZFBhcnQpLnJlcGxhY2UoZXh0cmEsIGdvb2cuVXJpLmVuY29kZUNoYXJfKTtcbiAgICBvcHRfcmVtb3ZlRG91YmxlRW5jb2RpbmcgJiYgKGVuY29kZWQgPSBnb29nLlVyaS5yZW1vdmVEb3VibGVFbmNvZGluZ18oZW5jb2RlZCkpO1xuICAgIHJldHVybiBlbmNvZGVkO1xuICB9XG4gIHJldHVybiBudWxsO1xufTtcbmdvb2cuVXJpLmVuY29kZUNoYXJfID0gZnVuY3Rpb24oY2gpIHtcbiAgdmFyIG4gPSBjaC5jaGFyQ29kZUF0KDApO1xuICByZXR1cm4gXCIlXCIgKyAobiA+PiA0ICYgMTUpLnRvU3RyaW5nKDE2KSArIChuICYgMTUpLnRvU3RyaW5nKDE2KTtcbn07XG5nb29nLlVyaS5yZW1vdmVEb3VibGVFbmNvZGluZ18gPSBmdW5jdGlvbihkb3VibGVFbmNvZGVkU3RyaW5nKSB7XG4gIHJldHVybiBkb3VibGVFbmNvZGVkU3RyaW5nLnJlcGxhY2UoLyUyNShbMC05YS1mQS1GXXsyfSkvZywgXCIlJDFcIik7XG59O1xuZ29vZy5VcmkucmVEaXNhbGxvd2VkSW5TY2hlbWVPclVzZXJJbmZvXyA9IC9bI1xcL1xcP0BdL2c7XG5nb29nLlVyaS5yZURpc2FsbG93ZWRJblJlbGF0aXZlUGF0aF8gPSAvWyNcXD86XS9nO1xuZ29vZy5VcmkucmVEaXNhbGxvd2VkSW5BYnNvbHV0ZVBhdGhfID0gL1sjXFw/XS9nO1xuZ29vZy5VcmkucmVEaXNhbGxvd2VkSW5RdWVyeV8gPSAvWyNcXD9AXS9nO1xuZ29vZy5VcmkucmVEaXNhbGxvd2VkSW5GcmFnbWVudF8gPSAvIy9nO1xuZ29vZy5VcmkuaGF2ZVNhbWVEb21haW4gPSBmdW5jdGlvbih1cmkxU3RyaW5nLCB1cmkyU3RyaW5nKSB7XG4gIHZhciBwaWVjZXMxID0gZ29vZy51cmkudXRpbHMuc3BsaXQodXJpMVN0cmluZyksIHBpZWNlczIgPSBnb29nLnVyaS51dGlscy5zcGxpdCh1cmkyU3RyaW5nKTtcbiAgcmV0dXJuIHBpZWNlczFbZ29vZy51cmkudXRpbHMuQ29tcG9uZW50SW5kZXguRE9NQUlOXSA9PSBwaWVjZXMyW2dvb2cudXJpLnV0aWxzLkNvbXBvbmVudEluZGV4LkRPTUFJTl0gJiYgcGllY2VzMVtnb29nLnVyaS51dGlscy5Db21wb25lbnRJbmRleC5QT1JUXSA9PSBwaWVjZXMyW2dvb2cudXJpLnV0aWxzLkNvbXBvbmVudEluZGV4LlBPUlRdO1xufTtcbmdvb2cuVXJpLlF1ZXJ5RGF0YSA9IGZ1bmN0aW9uKG9wdF9xdWVyeSwgb3B0X2lnbm9yZUNhc2UpIHtcbiAgdGhpcy5jb3VudF8gPSB0aGlzLmtleU1hcF8gPSBudWxsO1xuICB0aGlzLmVuY29kZWRRdWVyeV8gPSBvcHRfcXVlcnkgfHwgbnVsbDtcbiAgdGhpcy5pZ25vcmVDYXNlXyA9ICEhb3B0X2lnbm9yZUNhc2U7XG59O1xuZ29vZy5VcmkuUXVlcnlEYXRhLnByb3RvdHlwZS5lbnN1cmVLZXlNYXBJbml0aWFsaXplZF8gPSBmdW5jdGlvbigpIHtcbiAgaWYgKCF0aGlzLmtleU1hcF8gJiYgKHRoaXMua2V5TWFwXyA9IG5ldyBNYXAoKSwgdGhpcy5jb3VudF8gPSAwLCB0aGlzLmVuY29kZWRRdWVyeV8pKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIGdvb2cudXJpLnV0aWxzLnBhcnNlUXVlcnlEYXRhKHRoaXMuZW5jb2RlZFF1ZXJ5XywgZnVuY3Rpb24obmFtZSwgdmFsdWUpIHtcbiAgICAgIHNlbGYuYWRkKGdvb2cuc3RyaW5nLnVybERlY29kZShuYW1lKSwgdmFsdWUpO1xuICAgIH0pO1xuICB9XG59O1xuZ29vZy5VcmkuUXVlcnlEYXRhLmNyZWF0ZUZyb21NYXAgPSBmdW5jdGlvbihtYXAsIG9wdF9pZ25vcmVDYXNlKSB7XG4gIHZhciBrZXlzID0gZ29vZy5zdHJ1Y3RzLmdldEtleXMobWFwKTtcbiAgaWYgKFwidW5kZWZpbmVkXCIgPT0gdHlwZW9mIGtleXMpIHtcbiAgICB0aHJvdyBFcnJvcihcIktleXMgYXJlIHVuZGVmaW5lZFwiKTtcbiAgfVxuICBmb3IgKHZhciBxdWVyeURhdGEgPSBuZXcgZ29vZy5VcmkuUXVlcnlEYXRhKG51bGwsIG9wdF9pZ25vcmVDYXNlKSwgdmFsdWVzID0gZ29vZy5zdHJ1Y3RzLmdldFZhbHVlcyhtYXApLCBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIga2V5ID0ga2V5c1tpXSwgdmFsdWUgPSB2YWx1ZXNbaV07XG4gICAgQXJyYXkuaXNBcnJheSh2YWx1ZSkgPyBxdWVyeURhdGEuc2V0VmFsdWVzKGtleSwgdmFsdWUpIDogcXVlcnlEYXRhLmFkZChrZXksIHZhbHVlKTtcbiAgfVxuICByZXR1cm4gcXVlcnlEYXRhO1xufTtcbmdvb2cuVXJpLlF1ZXJ5RGF0YS5jcmVhdGVGcm9tS2V5c1ZhbHVlcyA9IGZ1bmN0aW9uKGtleXMsIHZhbHVlcywgb3B0X2lnbm9yZUNhc2UpIHtcbiAgaWYgKGtleXMubGVuZ3RoICE9IHZhbHVlcy5sZW5ndGgpIHtcbiAgICB0aHJvdyBFcnJvcihcIk1pc21hdGNoZWQgbGVuZ3RocyBmb3Iga2V5cy92YWx1ZXNcIik7XG4gIH1cbiAgZm9yICh2YXIgcXVlcnlEYXRhID0gbmV3IGdvb2cuVXJpLlF1ZXJ5RGF0YShudWxsLCBvcHRfaWdub3JlQ2FzZSksIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKykge1xuICAgIHF1ZXJ5RGF0YS5hZGQoa2V5c1tpXSwgdmFsdWVzW2ldKTtcbiAgfVxuICByZXR1cm4gcXVlcnlEYXRhO1xufTtcbmdvb2cuVXJpLlF1ZXJ5RGF0YS5wcm90b3R5cGUuZ2V0Q291bnQgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5lbnN1cmVLZXlNYXBJbml0aWFsaXplZF8oKTtcbiAgcmV0dXJuIHRoaXMuY291bnRfO1xufTtcbmdvb2cuVXJpLlF1ZXJ5RGF0YS5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24oa2V5LCB2YWx1ZSkge1xuICB0aGlzLmVuc3VyZUtleU1hcEluaXRpYWxpemVkXygpO1xuICB0aGlzLmludmFsaWRhdGVDYWNoZV8oKTtcbiAga2V5ID0gdGhpcy5nZXRLZXlOYW1lXyhrZXkpO1xuICB2YXIgdmFsdWVzID0gdGhpcy5rZXlNYXBfLmdldChrZXkpO1xuICB2YWx1ZXMgfHwgdGhpcy5rZXlNYXBfLnNldChrZXksIHZhbHVlcyA9IFtdKTtcbiAgdmFsdWVzLnB1c2godmFsdWUpO1xuICB0aGlzLmNvdW50XyA9IGdvb2cuYXNzZXJ0cy5hc3NlcnROdW1iZXIodGhpcy5jb3VudF8pICsgMTtcbiAgcmV0dXJuIHRoaXM7XG59O1xuZ29vZy5VcmkuUXVlcnlEYXRhLnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbihrZXkpIHtcbiAgdGhpcy5lbnN1cmVLZXlNYXBJbml0aWFsaXplZF8oKTtcbiAga2V5ID0gdGhpcy5nZXRLZXlOYW1lXyhrZXkpO1xuICByZXR1cm4gdGhpcy5rZXlNYXBfLmhhcyhrZXkpID8gKHRoaXMuaW52YWxpZGF0ZUNhY2hlXygpLCB0aGlzLmNvdW50XyA9IGdvb2cuYXNzZXJ0cy5hc3NlcnROdW1iZXIodGhpcy5jb3VudF8pIC0gdGhpcy5rZXlNYXBfLmdldChrZXkpLmxlbmd0aCwgdGhpcy5rZXlNYXBfLmRlbGV0ZShrZXkpKSA6ICExO1xufTtcbmdvb2cuVXJpLlF1ZXJ5RGF0YS5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5pbnZhbGlkYXRlQ2FjaGVfKCk7XG4gIHRoaXMua2V5TWFwXyA9IG51bGw7XG4gIHRoaXMuY291bnRfID0gMDtcbn07XG5nb29nLlVyaS5RdWVyeURhdGEucHJvdG90eXBlLmlzRW1wdHkgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5lbnN1cmVLZXlNYXBJbml0aWFsaXplZF8oKTtcbiAgcmV0dXJuIDAgPT0gdGhpcy5jb3VudF87XG59O1xuZ29vZy5VcmkuUXVlcnlEYXRhLnByb3RvdHlwZS5jb250YWluc0tleSA9IGZ1bmN0aW9uKGtleSkge1xuICB0aGlzLmVuc3VyZUtleU1hcEluaXRpYWxpemVkXygpO1xuICBrZXkgPSB0aGlzLmdldEtleU5hbWVfKGtleSk7XG4gIHJldHVybiB0aGlzLmtleU1hcF8uaGFzKGtleSk7XG59O1xuZ29vZy5VcmkuUXVlcnlEYXRhLnByb3RvdHlwZS5jb250YWluc1ZhbHVlID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgdmFyIHZhbHMgPSB0aGlzLmdldFZhbHVlcygpO1xuICByZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfY29udGFpbnModmFscywgdmFsdWUpO1xufTtcbmdvb2cuVXJpLlF1ZXJ5RGF0YS5wcm90b3R5cGUuZm9yRWFjaCA9IGZ1bmN0aW9uKGYsIG9wdF9zY29wZSkge1xuICB0aGlzLmVuc3VyZUtleU1hcEluaXRpYWxpemVkXygpO1xuICB0aGlzLmtleU1hcF8uZm9yRWFjaChmdW5jdGlvbih2YWx1ZXMsIGtleSkge1xuICAgIHZhbHVlcy5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICBmLmNhbGwob3B0X3Njb3BlLCB2YWx1ZSwga2V5LCB0aGlzKTtcbiAgICB9LCB0aGlzKTtcbiAgfSwgdGhpcyk7XG59O1xuZ29vZy5VcmkuUXVlcnlEYXRhLnByb3RvdHlwZS5nZXRLZXlzID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMuZW5zdXJlS2V5TWFwSW5pdGlhbGl6ZWRfKCk7XG4gIGZvciAodmFyIHZhbHMgPSBBcnJheS5mcm9tKHRoaXMua2V5TWFwXy52YWx1ZXMoKSksIGtleXMgPSBBcnJheS5mcm9tKHRoaXMua2V5TWFwXy5rZXlzKCkpLCBydiA9IFtdLCBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHtcbiAgICBmb3IgKHZhciB2YWwgPSB2YWxzW2ldLCBqID0gMDsgaiA8IHZhbC5sZW5ndGg7IGorKykge1xuICAgICAgcnYucHVzaChrZXlzW2ldKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJ2O1xufTtcbmdvb2cuVXJpLlF1ZXJ5RGF0YS5wcm90b3R5cGUuZ2V0VmFsdWVzID0gZnVuY3Rpb24ob3B0X2tleSkge1xuICB0aGlzLmVuc3VyZUtleU1hcEluaXRpYWxpemVkXygpO1xuICB2YXIgcnYgPSBbXTtcbiAgaWYgKFwic3RyaW5nXCIgPT09IHR5cGVvZiBvcHRfa2V5KSB7XG4gICAgdGhpcy5jb250YWluc0tleShvcHRfa2V5KSAmJiAocnYgPSBydi5jb25jYXQodGhpcy5rZXlNYXBfLmdldCh0aGlzLmdldEtleU5hbWVfKG9wdF9rZXkpKSkpO1xuICB9IGVsc2Uge1xuICAgIGZvciAodmFyIHZhbHVlcyA9IEFycmF5LmZyb20odGhpcy5rZXlNYXBfLnZhbHVlcygpKSwgaSA9IDA7IGkgPCB2YWx1ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHJ2ID0gcnYuY29uY2F0KHZhbHVlc1tpXSk7XG4gICAgfVxuICB9XG4gIHJldHVybiBydjtcbn07XG5nb29nLlVyaS5RdWVyeURhdGEucHJvdG90eXBlLnNldCA9IGZ1bmN0aW9uKGtleSwgdmFsdWUpIHtcbiAgdGhpcy5lbnN1cmVLZXlNYXBJbml0aWFsaXplZF8oKTtcbiAgdGhpcy5pbnZhbGlkYXRlQ2FjaGVfKCk7XG4gIGtleSA9IHRoaXMuZ2V0S2V5TmFtZV8oa2V5KTtcbiAgdGhpcy5jb250YWluc0tleShrZXkpICYmICh0aGlzLmNvdW50XyA9IGdvb2cuYXNzZXJ0cy5hc3NlcnROdW1iZXIodGhpcy5jb3VudF8pIC0gdGhpcy5rZXlNYXBfLmdldChrZXkpLmxlbmd0aCk7XG4gIHRoaXMua2V5TWFwXy5zZXQoa2V5LCBbdmFsdWVdKTtcbiAgdGhpcy5jb3VudF8gPSBnb29nLmFzc2VydHMuYXNzZXJ0TnVtYmVyKHRoaXMuY291bnRfKSArIDE7XG4gIHJldHVybiB0aGlzO1xufTtcbmdvb2cuVXJpLlF1ZXJ5RGF0YS5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24oa2V5LCBvcHRfZGVmYXVsdCkge1xuICBpZiAoIWtleSkge1xuICAgIHJldHVybiBvcHRfZGVmYXVsdDtcbiAgfVxuICB2YXIgdmFsdWVzID0gdGhpcy5nZXRWYWx1ZXMoa2V5KTtcbiAgcmV0dXJuIDAgPCB2YWx1ZXMubGVuZ3RoID8gU3RyaW5nKHZhbHVlc1swXSkgOiBvcHRfZGVmYXVsdDtcbn07XG5nb29nLlVyaS5RdWVyeURhdGEucHJvdG90eXBlLnNldFZhbHVlcyA9IGZ1bmN0aW9uKGtleSwgdmFsdWVzKSB7XG4gIHRoaXMucmVtb3ZlKGtleSk7XG4gIDAgPCB2YWx1ZXMubGVuZ3RoICYmICh0aGlzLmludmFsaWRhdGVDYWNoZV8oKSwgdGhpcy5rZXlNYXBfLnNldCh0aGlzLmdldEtleU5hbWVfKGtleSksIG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X3RvQXJyYXkodmFsdWVzKSksIHRoaXMuY291bnRfID0gZ29vZy5hc3NlcnRzLmFzc2VydE51bWJlcih0aGlzLmNvdW50XykgKyB2YWx1ZXMubGVuZ3RoKTtcbn07XG5nb29nLlVyaS5RdWVyeURhdGEucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24oKSB7XG4gIGlmICh0aGlzLmVuY29kZWRRdWVyeV8pIHtcbiAgICByZXR1cm4gdGhpcy5lbmNvZGVkUXVlcnlfO1xuICB9XG4gIGlmICghdGhpcy5rZXlNYXBfKSB7XG4gICAgcmV0dXJuIFwiXCI7XG4gIH1cbiAgZm9yICh2YXIgc2IgPSBbXSwga2V5cyA9IEFycmF5LmZyb20odGhpcy5rZXlNYXBfLmtleXMoKSksIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKykge1xuICAgIGZvciAodmFyIGtleSA9IGtleXNbaV0sIGVuY29kZWRLZXkgPSBnb29nLnN0cmluZy51cmxFbmNvZGUoa2V5KSwgdmFsID0gdGhpcy5nZXRWYWx1ZXMoa2V5KSwgaiA9IDA7IGogPCB2YWwubGVuZ3RoOyBqKyspIHtcbiAgICAgIHZhciBwYXJhbSA9IGVuY29kZWRLZXk7XG4gICAgICBcIlwiICE9PSB2YWxbal0gJiYgKHBhcmFtICs9IFwiPVwiICsgZ29vZy5zdHJpbmcudXJsRW5jb2RlKHZhbFtqXSkpO1xuICAgICAgc2IucHVzaChwYXJhbSk7XG4gICAgfVxuICB9XG4gIHJldHVybiB0aGlzLmVuY29kZWRRdWVyeV8gPSBzYi5qb2luKFwiJlwiKTtcbn07XG5nb29nLlVyaS5RdWVyeURhdGEucHJvdG90eXBlLnRvRGVjb2RlZFN0cmluZyA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gZ29vZy5VcmkuZGVjb2RlT3JFbXB0eV8odGhpcy50b1N0cmluZygpKTtcbn07XG5nb29nLlVyaS5RdWVyeURhdGEucHJvdG90eXBlLmludmFsaWRhdGVDYWNoZV8gPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5lbmNvZGVkUXVlcnlfID0gbnVsbDtcbn07XG5nb29nLlVyaS5RdWVyeURhdGEucHJvdG90eXBlLmZpbHRlcktleXMgPSBmdW5jdGlvbihrZXlzKSB7XG4gIHRoaXMuZW5zdXJlS2V5TWFwSW5pdGlhbGl6ZWRfKCk7XG4gIHRoaXMua2V5TWFwXy5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9jb250YWlucyhrZXlzLCBrZXkpIHx8IHRoaXMucmVtb3ZlKGtleSk7XG4gIH0sIHRoaXMpO1xuICByZXR1cm4gdGhpcztcbn07XG5nb29nLlVyaS5RdWVyeURhdGEucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24oKSB7XG4gIHZhciBydiA9IG5ldyBnb29nLlVyaS5RdWVyeURhdGEoKTtcbiAgcnYuZW5jb2RlZFF1ZXJ5XyA9IHRoaXMuZW5jb2RlZFF1ZXJ5XztcbiAgdGhpcy5rZXlNYXBfICYmIChydi5rZXlNYXBfID0gbmV3IE1hcCh0aGlzLmtleU1hcF8pLCBydi5jb3VudF8gPSB0aGlzLmNvdW50Xyk7XG4gIHJldHVybiBydjtcbn07XG5nb29nLlVyaS5RdWVyeURhdGEucHJvdG90eXBlLmdldEtleU5hbWVfID0gZnVuY3Rpb24oYXJnKSB7XG4gIHZhciBrZXlOYW1lID0gU3RyaW5nKGFyZyk7XG4gIHRoaXMuaWdub3JlQ2FzZV8gJiYgKGtleU5hbWUgPSBrZXlOYW1lLnRvTG93ZXJDYXNlKCkpO1xuICByZXR1cm4ga2V5TmFtZTtcbn07XG5nb29nLlVyaS5RdWVyeURhdGEucHJvdG90eXBlLnNldElnbm9yZUNhc2UgPSBmdW5jdGlvbihpZ25vcmVDYXNlKSB7XG4gIGlnbm9yZUNhc2UgJiYgIXRoaXMuaWdub3JlQ2FzZV8gJiYgKHRoaXMuZW5zdXJlS2V5TWFwSW5pdGlhbGl6ZWRfKCksIHRoaXMuaW52YWxpZGF0ZUNhY2hlXygpLCB0aGlzLmtleU1hcF8uZm9yRWFjaChmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG4gICAgdmFyIGxvd2VyQ2FzZSA9IGtleS50b0xvd2VyQ2FzZSgpO1xuICAgIGtleSAhPSBsb3dlckNhc2UgJiYgKHRoaXMucmVtb3ZlKGtleSksIHRoaXMuc2V0VmFsdWVzKGxvd2VyQ2FzZSwgdmFsdWUpKTtcbiAgfSwgdGhpcykpO1xuICB0aGlzLmlnbm9yZUNhc2VfID0gaWdub3JlQ2FzZTtcbn07XG5nb29nLlVyaS5RdWVyeURhdGEucHJvdG90eXBlLmV4dGVuZCA9IGZ1bmN0aW9uKHZhcl9hcmdzKSB7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgZ29vZy5zdHJ1Y3RzLmZvckVhY2goYXJndW1lbnRzW2ldLCBmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG4gICAgICB0aGlzLmFkZChrZXksIHZhbHVlKTtcbiAgICB9LCB0aGlzKTtcbiAgfVxufTtcbnZhciBtb2R1bGUkZXhwb3J0cyRnb29nJG5ldCRycGMkSHR0cENvcnMgPSB7SFRUUF9IRUFERVJTX1BBUkFNX05BTUU6XCIkaHR0cEhlYWRlcnNcIiwgSFRUUF9NRVRIT0RfUEFSQU1fTkFNRTpcIiRodHRwTWV0aG9kXCIsIGdlbmVyYXRlSHR0cEhlYWRlcnNPdmVyd3JpdGVQYXJhbTpmdW5jdGlvbihoZWFkZXJzKSB7XG4gIHZhciByZXN1bHQgPSBcIlwiO1xuICBtb2R1bGUkY29udGVudHMkZ29vZyRvYmplY3RfZm9yRWFjaChoZWFkZXJzLCBmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG4gICAgcmVzdWx0ICs9IGtleTtcbiAgICByZXN1bHQgKz0gXCI6XCI7XG4gICAgcmVzdWx0ICs9IHZhbHVlO1xuICAgIHJlc3VsdCArPSBcIlxcclxcblwiO1xuICB9KTtcbiAgcmV0dXJuIHJlc3VsdDtcbn0sIGdlbmVyYXRlRW5jb2RlZEh0dHBIZWFkZXJzT3ZlcndyaXRlUGFyYW06ZnVuY3Rpb24oaGVhZGVycykge1xuICByZXR1cm4gZ29vZy5zdHJpbmcudXJsRW5jb2RlKG1vZHVsZSRleHBvcnRzJGdvb2ckbmV0JHJwYyRIdHRwQ29ycy5nZW5lcmF0ZUh0dHBIZWFkZXJzT3ZlcndyaXRlUGFyYW0oaGVhZGVycykpO1xufSwgc2V0SHR0cEhlYWRlcnNXaXRoT3ZlcndyaXRlUGFyYW06ZnVuY3Rpb24odXJsLCB1cmxQYXJhbSwgZXh0cmFIZWFkZXJzKSB7XG4gIGlmIChtb2R1bGUkY29udGVudHMkZ29vZyRvYmplY3RfaXNFbXB0eShleHRyYUhlYWRlcnMpKSB7XG4gICAgcmV0dXJuIHVybDtcbiAgfVxuICB2YXIgaHR0cEhlYWRlcnMgPSBtb2R1bGUkZXhwb3J0cyRnb29nJG5ldCRycGMkSHR0cENvcnMuZ2VuZXJhdGVIdHRwSGVhZGVyc092ZXJ3cml0ZVBhcmFtKGV4dHJhSGVhZGVycyk7XG4gIGlmIChcInN0cmluZ1wiID09PSB0eXBlb2YgdXJsKSB7XG4gICAgcmV0dXJuIGdvb2cudXJpLnV0aWxzLmFwcGVuZFBhcmFtKHVybCwgZ29vZy5zdHJpbmcudXJsRW5jb2RlKHVybFBhcmFtKSwgaHR0cEhlYWRlcnMpO1xuICB9XG4gIHVybC5zZXRQYXJhbWV0ZXJWYWx1ZSh1cmxQYXJhbSwgaHR0cEhlYWRlcnMpO1xuICByZXR1cm4gdXJsO1xufX07XG52YXIgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkcmVxdWVzdF9wYXJhbXMgPSB7fSwgbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JHJlcXVlc3RfcGFyYW1zX21vZHVsZSA9IG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRyZXF1ZXN0X3BhcmFtc19tb2R1bGUgfHwge2lkOlwiamF2YXNjcmlwdC90eXBlc2NyaXB0L2NvbnRyaWIvYXBpY2xpZW50L2NvcmUvcmVxdWVzdF9wYXJhbXMuY2xvc3VyZS5qc1wifTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JHJlcXVlc3RfcGFyYW1zLkh0dHBNZXRob2RFbnVtID0ge0dFVDpcIkdFVFwiLCBQT1NUOlwiUE9TVFwiLCBQVVQ6XCJQVVRcIiwgUEFUQ0g6XCJQQVRDSFwiLCBERUxFVEU6XCJERUxFVEVcIix9O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkcmVxdWVzdF9wYXJhbXMuQXV0aFR5cGUgPSB7QVVUTzpcImF1dG9cIiwgTk9ORTpcIm5vbmVcIiwgT0FVVEgyOlwib2F1dGgyXCIsIEZJUlNUX1BBUlRZOlwiMXBcIix9O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkcmVxdWVzdF9wYXJhbXMuU3RyZWFtaW5nVHlwZSA9IHtOT05FOlwiTk9ORVwiLCBDTElFTlRfU0lERTpcIkNMSUVOVF9TSURFXCIsIFNFUlZFUl9TSURFOlwiU0VSVkVSX1NJREVcIiwgQklESVJFQ1RPTkFMOlwiQklESVJFQ1RPTkFMXCIsfTtcbmZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRyZXF1ZXN0X3BhcmFtc19NYWtlUmVxdWVzdFBhcmFtcygpIHtcbn1cbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JHJlcXVlc3RfcGFyYW1zLk1ha2VSZXF1ZXN0UGFyYW1zID0gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JHJlcXVlc3RfcGFyYW1zX01ha2VSZXF1ZXN0UGFyYW1zO1xuZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JHJlcXVlc3RfcGFyYW1zX3Byb2Nlc3NQYXJhbXMocGFyYW1zKSB7XG4gIGlmIChudWxsICE9IHBhcmFtcy5xdWVyeVBhcmFtcykge1xuICAgIHZhciBmaWx0ZXJlZFF1ZXJ5UGFyYW1zID0ge30sIGtleTtcbiAgICBmb3IgKGtleSBpbiBwYXJhbXMucXVlcnlQYXJhbXMpIHtcbiAgICAgIHZvaWQgMCAhPT0gcGFyYW1zLnF1ZXJ5UGFyYW1zW2tleV0gJiYgKGZpbHRlcmVkUXVlcnlQYXJhbXNba2V5XSA9IHBhcmFtcy5xdWVyeVBhcmFtc1trZXldKTtcbiAgICB9XG4gICAgcGFyYW1zLnF1ZXJ5UGFyYW1zID0gZmlsdGVyZWRRdWVyeVBhcmFtcztcbiAgfVxufVxubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkcmVxdWVzdF9wYXJhbXMucHJvY2Vzc1BhcmFtcyA9IG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRyZXF1ZXN0X3BhcmFtc19wcm9jZXNzUGFyYW1zO1xuZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JHJlcXVlc3RfcGFyYW1zX2J1aWxkUXVlcnlQYXJhbXMocGFyYW1zLCBtYXBwaW5nLCBwYXNzdGhyb3VnaFBhcmFtcykge1xuICBmb3IgKHZhciB1cmxRdWVyeVBhcmFtcyA9IHBhc3N0aHJvdWdoUGFyYW1zID0gdm9pZCAwID09PSBwYXNzdGhyb3VnaFBhcmFtcyA/IHt9IDogcGFzc3Rocm91Z2hQYXJhbXMsICRqc2NvbXAkaXRlciQyMSA9ICRqc2NvbXAubWFrZUl0ZXJhdG9yKE9iamVjdC5lbnRyaWVzKG1hcHBpbmcpKSwgJGpzY29tcCRrZXkkID0gJGpzY29tcCRpdGVyJDIxLm5leHQoKTsgISRqc2NvbXAka2V5JC5kb25lOyAkanNjb21wJGtleSQgPSAkanNjb21wJGl0ZXIkMjEubmV4dCgpKSB7XG4gICAgdmFyICRqc2NvbXAkZGVzdHJ1Y3R1cmluZyR2YXIyNyA9ICRqc2NvbXAubWFrZUl0ZXJhdG9yKCRqc2NvbXAka2V5JC52YWx1ZSksIGpzTmFtZV9fdHNpY2tsZV9kZXN0cnVjdHVyZWRfMSA9ICRqc2NvbXAkZGVzdHJ1Y3R1cmluZyR2YXIyNy5uZXh0KCkudmFsdWUsIHVybFF1ZXJ5UGFyYW1OYW1lX190c2lja2xlX2Rlc3RydWN0dXJlZF8yID0gJGpzY29tcCRkZXN0cnVjdHVyaW5nJHZhcjI3Lm5leHQoKS52YWx1ZSwganNOYW1lID0ganNOYW1lX190c2lja2xlX2Rlc3RydWN0dXJlZF8xLCB1cmxRdWVyeVBhcmFtTmFtZSA9IHVybFF1ZXJ5UGFyYW1OYW1lX190c2lja2xlX2Rlc3RydWN0dXJlZF8yO1xuICAgIGpzTmFtZSBpbiBwYXJhbXMgJiYgKHVybFF1ZXJ5UGFyYW1zW3VybFF1ZXJ5UGFyYW1OYW1lXSA9IHBhcmFtc1tqc05hbWVdKTtcbiAgfVxuICByZXR1cm4gdXJsUXVlcnlQYXJhbXM7XG59XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRyZXF1ZXN0X3BhcmFtcy5idWlsZFF1ZXJ5UGFyYW1zID0gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JHJlcXVlc3RfcGFyYW1zX2J1aWxkUXVlcnlQYXJhbXM7XG52YXIgbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JHJlcXVlc3RfcGFyYW1zX3NpbXBsZUNvcnNBbGxvd2VkSGVhZGVycyA9IFtcImFjY2VwdFwiLCBcImFjY2VwdC1sYW5ndWFnZVwiLCBcImNvbnRlbnQtbGFuZ3VhZ2VcIl0sIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRyZXF1ZXN0X3BhcmFtc19zaW1wbGVDb3JzQWxsb3dlZE1ldGhvZHMgPSBbXCJHRVRcIiwgXCJIRUFEXCIsIFwiUE9TVFwiXTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JHJlcXVlc3RfcGFyYW1zLmJ5cGFzc0NvcnNQcmVmbGlnaHQgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkcmVxdWVzdF9wYXJhbXNfYnlwYXNzQ29yc1ByZWZsaWdodChwYXJhbXMpIHtcbiAgdmFyIHNhZmVIZWFkZXJzID0ge30sIHVuc2FmZUhlYWRlcnMgPSB7fSwgaGFzVW5zYWZlSGVhZGVycyA9ICExLCBoYXNTYWZlSGVhZGVycyA9ICExLCBoYXNDb250ZW50VHlwZSA9ICExO1xuICBpZiAocGFyYW1zLmhlYWRlcnMpIHtcbiAgICBoYXNDb250ZW50VHlwZSA9IG51bGwgIT0gcGFyYW1zLmhlYWRlcnNbXCJDb250ZW50LVR5cGVcIl07XG4gICAgZm9yICh2YXIgJGpzY29tcCRpdGVyJDIyID0gJGpzY29tcC5tYWtlSXRlcmF0b3IoT2JqZWN0LmVudHJpZXMocGFyYW1zLmhlYWRlcnMpKSwgJGpzY29tcCRrZXkkID0gJGpzY29tcCRpdGVyJDIyLm5leHQoKTsgISRqc2NvbXAka2V5JC5kb25lOyAkanNjb21wJGtleSQgPSAkanNjb21wJGl0ZXIkMjIubmV4dCgpKSB7XG4gICAgICB2YXIgJGpzY29tcCRkZXN0cnVjdHVyaW5nJHZhcjI5ID0gJGpzY29tcC5tYWtlSXRlcmF0b3IoJGpzY29tcCRrZXkkLnZhbHVlKSwga2V5X190c2lja2xlX2Rlc3RydWN0dXJlZF8zID0gJGpzY29tcCRkZXN0cnVjdHVyaW5nJHZhcjI5Lm5leHQoKS52YWx1ZSwgdmFsdWVfX3RzaWNrbGVfZGVzdHJ1Y3R1cmVkXzQgPSAkanNjb21wJGRlc3RydWN0dXJpbmckdmFyMjkubmV4dCgpLnZhbHVlLCBrZXkgPSBrZXlfX3RzaWNrbGVfZGVzdHJ1Y3R1cmVkXzMsIHZhbHVlID0gdmFsdWVfX3RzaWNrbGVfZGVzdHJ1Y3R1cmVkXzQ7XG4gICAgICBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkcmVxdWVzdF9wYXJhbXNfc2ltcGxlQ29yc0FsbG93ZWRIZWFkZXJzLmluY2x1ZGVzKGtleSkgPyAoc2FmZUhlYWRlcnNba2V5XSA9IHZhbHVlLCBoYXNTYWZlSGVhZGVycyA9ICEwKSA6ICh1bnNhZmVIZWFkZXJzW2tleV0gPSB2YWx1ZSwgaGFzVW5zYWZlSGVhZGVycyA9ICEwKTtcbiAgICB9XG4gIH1cbiAgaWYgKG51bGwgIT0gcGFyYW1zLmJvZHkgfHwgXCJQVVRcIiA9PT0gcGFyYW1zLmh0dHBNZXRob2QgfHwgXCJQT1NUXCIgPT09IHBhcmFtcy5odHRwTWV0aG9kKSB7XG4gICAgaGFzQ29udGVudFR5cGUgfHwgKHVuc2FmZUhlYWRlcnNbXCJDb250ZW50LVR5cGVcIl0gPSBcImFwcGxpY2F0aW9uL2pzb25cIiwgaGFzVW5zYWZlSGVhZGVycyA9ICEwKSwgc2FmZUhlYWRlcnNbXCJDb250ZW50LVR5cGVcIl0gPSBcInRleHQvcGxhaW5cIiwgaGFzU2FmZUhlYWRlcnMgPSAhMDtcbiAgfVxuICBpZiAoaGFzVW5zYWZlSGVhZGVycykge1xuICAgIHZhciBmaW5hbFBhcmFtID0gKDAsbW9kdWxlJGV4cG9ydHMkZ29vZyRuZXQkcnBjJEh0dHBDb3JzLmdlbmVyYXRlRW5jb2RlZEh0dHBIZWFkZXJzT3ZlcndyaXRlUGFyYW0pKHVuc2FmZUhlYWRlcnMpO1xuICAgIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRyZXF1ZXN0X3BhcmFtc19hZGRRdWVyeVBhcmFtZXRlcihwYXJhbXMsIG1vZHVsZSRleHBvcnRzJGdvb2ckbmV0JHJwYyRIdHRwQ29ycy5IVFRQX0hFQURFUlNfUEFSQU1fTkFNRSwgZmluYWxQYXJhbSk7XG4gIH1cbiAgaGFzU2FmZUhlYWRlcnMgJiYgKHBhcmFtcy5oZWFkZXJzID0gc2FmZUhlYWRlcnMpO1xuICBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkcmVxdWVzdF9wYXJhbXNfc2ltcGxlQ29yc0FsbG93ZWRNZXRob2RzLmluY2x1ZGVzKHBhcmFtcy5odHRwTWV0aG9kKSB8fCAobW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JHJlcXVlc3RfcGFyYW1zX2FkZFF1ZXJ5UGFyYW1ldGVyKHBhcmFtcywgbW9kdWxlJGV4cG9ydHMkZ29vZyRuZXQkcnBjJEh0dHBDb3JzLkhUVFBfTUVUSE9EX1BBUkFNX05BTUUsIHBhcmFtcy5odHRwTWV0aG9kKSwgcGFyYW1zLmh0dHBNZXRob2QgPSBcIlBPU1RcIik7XG59O1xuZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JHJlcXVlc3RfcGFyYW1zX2FkZFF1ZXJ5UGFyYW1ldGVyKHBhcmFtcywga2V5LCB2YWx1ZSkge1xuICBpZiAocGFyYW1zLnF1ZXJ5UGFyYW1zKSB7XG4gICAgcGFyYW1zLnF1ZXJ5UGFyYW1zW2tleV0gPSB2YWx1ZTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgJGpzY29tcCRjb21wcHJvcDcgPSB7fTtcbiAgICBwYXJhbXMucXVlcnlQYXJhbXMgPSAoJGpzY29tcCRjb21wcHJvcDdba2V5XSA9IHZhbHVlLCAkanNjb21wJGNvbXBwcm9wNyk7XG4gIH1cbn1cbjt2YXIgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkbXVsdGlwYXJ0X3JlcXVlc3QgPSB7fSwgbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JG11bHRpcGFydF9yZXF1ZXN0X21vZHVsZSA9IG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRtdWx0aXBhcnRfcmVxdWVzdF9tb2R1bGUgfHwge2lkOlwiamF2YXNjcmlwdC90eXBlc2NyaXB0L2NvbnRyaWIvYXBpY2xpZW50L2NvcmUvbXVsdGlwYXJ0X3JlcXVlc3QuY2xvc3VyZS5qc1wifTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JG11bHRpcGFydF9yZXF1ZXN0Lk11bHRpcGFydFJlcXVlc3QgPSBmdW5jdGlvbihmaWxlcywgX21ldGFkYXRhKSB7XG4gIHRoaXMuZmlsZXMgPSBmaWxlcztcbiAgdGhpcy5fbWV0YWRhdGEgPSBfbWV0YWRhdGE7XG4gIHRoaXMuX21ldGFkYXRhUGF5bG9hZCA9IFwiXCI7XG4gIHRoaXMuX2JvdW5kYXJ5ID0gRGF0ZS5ub3coKS50b1N0cmluZygpO1xuICBfbWV0YWRhdGEgJiYgdGhpcy5hZGRNZXRhZGF0YShfbWV0YWRhdGEpO1xuICB0aGlzLl9wYXlsb2FkUHJvbWlzZSA9IHRoaXMuYnVpbGQoKTtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRtdWx0aXBhcnRfcmVxdWVzdC5NdWx0aXBhcnRSZXF1ZXN0LnByb3RvdHlwZS5ib3VuZGFyeSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5fYm91bmRhcnk7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkbXVsdGlwYXJ0X3JlcXVlc3QuTXVsdGlwYXJ0UmVxdWVzdC5wcm90b3R5cGUubWV0YWRhdGEgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuX21ldGFkYXRhO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JG11bHRpcGFydF9yZXF1ZXN0Lk11bHRpcGFydFJlcXVlc3QucHJvdG90eXBlLnBheWxvYWRQcm9taXNlID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLl9wYXlsb2FkUHJvbWlzZTtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRtdWx0aXBhcnRfcmVxdWVzdC5NdWx0aXBhcnRSZXF1ZXN0LnByb3RvdHlwZS5hZGRNZXRhZGF0YSA9IGZ1bmN0aW9uKG1ldGFkYXRhKSB7XG4gIHZhciBqc29uID0gbWV0YWRhdGEgaW5zdGFuY2VvZiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZSA/IG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0X3NlcmlhbGl6ZShtZXRhZGF0YSkgOiBtZXRhZGF0YTtcbiAgdGhpcy5fbWV0YWRhdGFQYXlsb2FkICs9IFwiQ29udGVudC1UeXBlOiBhcHBsaWNhdGlvbi9qc29uOyBjaGFyc2V0PXV0Zi04XFxyXFxuXFxyXFxuXCIgKyBKU09OLnN0cmluZ2lmeShqc29uKSArIChcIlxcclxcbi0tXCIgKyB0aGlzLl9ib3VuZGFyeSArIFwiXFxyXFxuXCIpO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JG11bHRpcGFydF9yZXF1ZXN0Lk11bHRpcGFydFJlcXVlc3QucHJvdG90eXBlLmJ1aWxkID0gZnVuY3Rpb24oKSB7XG4gIHZhciAkanNjb21wJHRoaXMgPSB0aGlzLCBwYXlsb2FkID0gXCItLVwiICsgdGhpcy5fYm91bmRhcnkgKyBcIlxcclxcblwiO1xuICBwYXlsb2FkICs9IHRoaXMuX21ldGFkYXRhUGF5bG9hZDtcbiAgcmV0dXJuIFByb21pc2UuYWxsKHRoaXMuZmlsZXMubWFwKGZ1bmN0aW9uKGYpIHtcbiAgICByZXR1cm4gJGpzY29tcCR0aGlzLmVuY29kZUZpbGUoZik7XG4gIH0pKS50aGVuKGZ1bmN0aW9uKGZpbGVQYXlsb2Fkcykge1xuICAgIGZvciAodmFyICRqc2NvbXAkaXRlciQyMyA9ICRqc2NvbXAubWFrZUl0ZXJhdG9yKGZpbGVQYXlsb2FkcyksICRqc2NvbXAka2V5JGZpbGVQYXlsb2FkID0gJGpzY29tcCRpdGVyJDIzLm5leHQoKTsgISRqc2NvbXAka2V5JGZpbGVQYXlsb2FkLmRvbmU7ICRqc2NvbXAka2V5JGZpbGVQYXlsb2FkID0gJGpzY29tcCRpdGVyJDIzLm5leHQoKSkge1xuICAgICAgcGF5bG9hZCArPSAkanNjb21wJGtleSRmaWxlUGF5bG9hZC52YWx1ZTtcbiAgICB9XG4gICAgcmV0dXJuIHBheWxvYWQgKz0gXCJcXHJcXG4tLVwiICsgJGpzY29tcCR0aGlzLl9ib3VuZGFyeSArIFwiLS1cIjtcbiAgfSk7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkbXVsdGlwYXJ0X3JlcXVlc3QuTXVsdGlwYXJ0UmVxdWVzdC5wcm90b3R5cGUuZW5jb2RlRmlsZSA9IGZ1bmN0aW9uKGZpbGUpIHtcbiAgcmV0dXJuIHRoaXMuYmFzZTY0RW5jb2RlRmlsZShmaWxlKS50aGVuKGZ1bmN0aW9uKGJhc2U2NFN0cikge1xuICAgIHJldHVybiBcIkNvbnRlbnQtVHlwZTogXCIgKyBmaWxlLnR5cGUgKyAnXFxyXFxuQ29udGVudC1EaXNwb3NpdGlvbjogZm9ybS1kYXRhOyBuYW1lPVwiZmlsZVwiOyBmaWxlbmFtZT1cIicgKyAoZW5jb2RlVVJJQ29tcG9uZW50KGZpbGUubmFtZSkgKyAnXCJcXHJcXG5Db250ZW50LVRyYW5zZmVyLUVuY29kaW5nOiBiYXNlNjRcXHJcXG5cXHJcXG4nKSArIGJhc2U2NFN0cjtcbiAgfSk7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkbXVsdGlwYXJ0X3JlcXVlc3QuTXVsdGlwYXJ0UmVxdWVzdC5wcm90b3R5cGUuYmFzZTY0RW5jb2RlRmlsZSA9IGZ1bmN0aW9uKGZpbGUpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgIHZhciByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xuICAgIHJlYWRlci5vbmxvYWQgPSBmdW5jdGlvbihldikge1xuICAgICAgdHJ5IHtcbiAgICAgICAgdmFyIGZpbGUkNTIgPSBldi50YXJnZXQucmVzdWx0LCB0b1Jlc29sdmUgPSBmaWxlJDUyLnN1YnN0cihmaWxlJDUyLmluZGV4T2YoXCIsXCIpICsgMSk7XG4gICAgICAgIHJlc29sdmUodG9SZXNvbHZlKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgfVxuICAgIH07XG4gICAgcmVhZGVyLnJlYWRBc0RhdGFVUkwoZmlsZSk7XG4gIH0pO1xufTtcbnZhciBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRhcGlfY2xpZW50ID0ge30sIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRhcGlfY2xpZW50X21vZHVsZSA9IG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRhcGlfY2xpZW50X21vZHVsZSB8fCB7aWQ6XCJqYXZhc2NyaXB0L3R5cGVzY3JpcHQvY29udHJpYi9hcGljbGllbnQvY29yZS9hcGlfY2xpZW50LmNsb3N1cmUuanNcIn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRhcGlfY2xpZW50LkFwaUNsaWVudCA9IGZ1bmN0aW9uKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGFwaV9jbGllbnQuQXBpQ2xpZW50LnByb3RvdHlwZS4kdmFsaWRhdGVQYXJhbWV0ZXIgPSBmdW5jdGlvbihwYXJhbSwgcGF0dGVybikge1xuICB2YXIgcGFyYW1TdHIgPSBTdHJpbmcocGFyYW0pO1xuICBpZiAoIXBhdHRlcm4udGVzdChwYXJhbVN0cikpIHtcbiAgICB0aHJvdyBFcnJvcihcInBhcmFtZXRlciBbXCIgKyBwYXJhbVN0ciArIFwiXSBkb2VzIG5vdCBtYXRjaCBwYXR0ZXJuIFtcIiArIHBhdHRlcm4udG9TdHJpbmcoKSArIFwiXVwiKTtcbiAgfVxufTtcbmZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRhcGlfY2xpZW50X3RvTWFrZVJlcXVlc3RQYXJhbXMocmVxdWVzdFBhcmFtcykge1xuICB2YXIgYm9keSA9IHJlcXVlc3RQYXJhbXMuYm9keSBpbnN0YW5jZW9mIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlID8gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3Rfc2VyaWFsaXplKHJlcXVlc3RQYXJhbXMuYm9keSkgOiByZXF1ZXN0UGFyYW1zLmJvZHk7XG4gIHJldHVybiB7cGF0aDpyZXF1ZXN0UGFyYW1zLnBhdGgsIGh0dHBNZXRob2Q6cmVxdWVzdFBhcmFtcy5odHRwTWV0aG9kLCBtZXRob2RJZDpyZXF1ZXN0UGFyYW1zLm1ldGhvZElkLCBib2R5OmJvZHksIHF1ZXJ5UGFyYW1zOnJlcXVlc3RQYXJhbXMucXVlcnlQYXJhbXMsIHN0cmVhbWluZ1R5cGU6cmVxdWVzdFBhcmFtcy5zdHJlYW1pbmdUeXBlICYmIHJlcXVlc3RQYXJhbXMuc3RyZWFtaW5nVHlwZX07XG59XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRhcGlfY2xpZW50LnRvTWFrZVJlcXVlc3RQYXJhbXMgPSBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkYXBpX2NsaWVudF90b01ha2VSZXF1ZXN0UGFyYW1zO1xuZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGFwaV9jbGllbnRfdG9NdWx0aXBhcnRNYWtlUmVxdWVzdFBhcmFtcyhyZXF1ZXN0UGFyYW1zKSB7XG4gIGlmICghKHJlcXVlc3RQYXJhbXMuYm9keSBpbnN0YW5jZW9mIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JG11bHRpcGFydF9yZXF1ZXN0Lk11bHRpcGFydFJlcXVlc3QpKSB7XG4gICAgdGhyb3cgRXJyb3IocmVxdWVzdFBhcmFtcy5wYXRoICsgXCIgcmVxdWVzdCBtdXN0IGJlIGEgTXVsdGlwYXJ0UmVxdWVzdFwiKTtcbiAgfVxuICB2YXIgbXVsdGlwYXJ0UmVxdWVzdCA9IHJlcXVlc3RQYXJhbXMuYm9keTtcbiAgcmV0dXJuIG11bHRpcGFydFJlcXVlc3QucGF5bG9hZFByb21pc2UoKS50aGVuKGZ1bmN0aW9uKGJvZHkpIHtcbiAgICB2YXIgJGpzY29tcCRudWxsaXNoJHRtcDAsIHF1ZXJ5UGFyYW1zID0gbnVsbCAhPSAoJGpzY29tcCRudWxsaXNoJHRtcDAgPSByZXF1ZXN0UGFyYW1zLnF1ZXJ5UGFyYW1zKSA/ICRqc2NvbXAkbnVsbGlzaCR0bXAwIDoge307XG4gICAgcmV0dXJuIHtwYXRoOnJlcXVlc3RQYXJhbXMucGF0aCwgaHR0cE1ldGhvZDpyZXF1ZXN0UGFyYW1zLmh0dHBNZXRob2QsIG1ldGhvZElkOnJlcXVlc3RQYXJhbXMubWV0aG9kSWQsIHF1ZXJ5UGFyYW1zOk9iamVjdC5hc3NpZ24oe30sIHF1ZXJ5UGFyYW1zLCB7dXBsb2FkVHlwZTpcIm11bHRpcGFydFwifSksIGhlYWRlcnM6e1wiWC1Hb29nLVVwbG9hZC1Qcm90b2NvbFwiOlwibXVsdGlwYXJ0XCIsIFwiQ29udGVudC1UeXBlXCI6XCJtdWx0aXBhcnQvcmVsYXRlZDsgYm91bmRhcnk9XCIgKyBtdWx0aXBhcnRSZXF1ZXN0LmJvdW5kYXJ5KCl9LCBib2R5OmJvZHksfTtcbiAgfSk7XG59XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRhcGlfY2xpZW50LnRvTXVsdGlwYXJ0TWFrZVJlcXVlc3RQYXJhbXMgPSBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkYXBpX2NsaWVudF90b011bHRpcGFydE1ha2VSZXF1ZXN0UGFyYW1zO1xudmFyIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGFwaV9yZXF1ZXN0X2hvb2sgPSB7fSwgbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGFwaV9yZXF1ZXN0X2hvb2tfbW9kdWxlID0gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGFwaV9yZXF1ZXN0X2hvb2tfbW9kdWxlIHx8IHtpZDpcImphdmFzY3JpcHQvdHlwZXNjcmlwdC9jb250cmliL2FwaWNsaWVudC9jb3JlL2FwaV9yZXF1ZXN0X2hvb2suY2xvc3VyZS5qc1wifTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGFwaV9yZXF1ZXN0X2hvb2suQXBpQ2xpZW50UmVxdWVzdEhvb2sgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkYXBpX3JlcXVlc3RfaG9va19BcGlDbGllbnRSZXF1ZXN0SG9vaygpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRhcGlfcmVxdWVzdF9ob29rLkFwaUNsaWVudEhvb2tGYWN0b3J5ID0gZnVuY3Rpb24oKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkYXBpX3JlcXVlc3RfaG9vay5BcGlDbGllbnRIb29rRmFjdG9yeUN0b3IgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkYXBpX3JlcXVlc3RfaG9va19BcGlDbGllbnRIb29rRmFjdG9yeUN0b3IoKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkYXBpX3JlcXVlc3RfaG9vay5EZWZhdWx0QXBpQ2xpZW50SG9va0ZhY3RvcnkgPSBmdW5jdGlvbigpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRhcGlfcmVxdWVzdF9ob29rLkRlZmF1bHRBcGlDbGllbnRIb29rRmFjdG9yeS5wcm90b3R5cGUuZ2V0UmVxdWVzdEhvb2sgPSBmdW5jdGlvbihyZXF1ZXN0UGFyYW1zKSB7XG4gIHJldHVybiB7b25CZWZvcmVTZW5kOmZ1bmN0aW9uKCkge1xuICB9LCBvblN1Y2Nlc3M6ZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgfSwgb25FcnJvcjpmdW5jdGlvbihlcnJvcikge1xuICB9LH07XG59O1xuZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGFwaV9yZXF1ZXN0X2hvb2tfZ2V0UmVxdWVzdEhvb2soZmFjdG9yeSwgcmVxdWVzdFBhcmFtcykge1xuICBpZiAobnVsbCA9PSBmYWN0b3J5KSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgdmFyIGhvb2sgPSBmYWN0b3J5LmdldFJlcXVlc3RIb29rKHJlcXVlc3RQYXJhbXMpO1xuICByZXR1cm4gbnVsbCA9PSBob29rID8gbnVsbCA6IGhvb2s7XG59XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRhcGlfcmVxdWVzdF9ob29rLmdldFJlcXVlc3RIb29rID0gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGFwaV9yZXF1ZXN0X2hvb2tfZ2V0UmVxdWVzdEhvb2s7XG52YXIgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkcHJvbWlzZV9hcGlfY2xpZW50ID0ge30sIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRwcm9taXNlX2FwaV9jbGllbnRfbW9kdWxlID0gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JHByb21pc2VfYXBpX2NsaWVudF9tb2R1bGUgfHwge2lkOlwiamF2YXNjcmlwdC90eXBlc2NyaXB0L2NvbnRyaWIvYXBpY2xpZW50L3JlcXVlc3Rfc2VydmljZS9wcm9taXNlX2FwaV9jbGllbnQuY2xvc3VyZS5qc1wifTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JHByb21pc2VfYXBpX2NsaWVudC5Qcm9taXNlQXBpQ2xpZW50ID0gZnVuY3Rpb24ocmVxdWVzdFNlcnZpY2UsIGhvb2tGYWN0b3J5KSB7XG4gIHRoaXMucmVxdWVzdFNlcnZpY2UgPSByZXF1ZXN0U2VydmljZTtcbiAgdGhpcy5ob29rRmFjdG9yeSA9IHZvaWQgMCA9PT0gaG9va0ZhY3RvcnkgPyBudWxsIDogaG9va0ZhY3Rvcnk7XG59O1xuJGpzY29tcC5pbmhlcml0cyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRwcm9taXNlX2FwaV9jbGllbnQuUHJvbWlzZUFwaUNsaWVudCwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkYXBpX2NsaWVudC5BcGlDbGllbnQpO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkcHJvbWlzZV9hcGlfY2xpZW50LlByb21pc2VBcGlDbGllbnQucHJvdG90eXBlLiRhZGRIb29rc1RvUmVxdWVzdCA9IGZ1bmN0aW9uKHJlcXVlc3RQYXJhbXMsIHByb21pc2UpIHtcbiAgcmV0dXJuIG51bGwgPT0gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGFwaV9yZXF1ZXN0X2hvb2tfZ2V0UmVxdWVzdEhvb2sodGhpcy5ob29rRmFjdG9yeSwgcmVxdWVzdFBhcmFtcykgPyBwcm9taXNlIDogcHJvbWlzZS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xuICB9LCBmdW5jdGlvbihlcnJvcikge1xuICAgIHRocm93IGVycm9yO1xuICB9KTtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRwcm9taXNlX2FwaV9jbGllbnQuUHJvbWlzZUFwaUNsaWVudC5wcm90b3R5cGUuJHJlcXVlc3QgPSBmdW5jdGlvbihyZXF1ZXN0UGFyYW1zKSB7XG4gIHZhciByZXNwb25zZUN0b3IgPSByZXF1ZXN0UGFyYW1zLnJlc3BvbnNlQ3RvciB8fCB2b2lkIDA7XG4gIHJldHVybiB0aGlzLiRhZGRIb29rc1RvUmVxdWVzdChyZXF1ZXN0UGFyYW1zLCB0aGlzLnJlcXVlc3RTZXJ2aWNlLnNlbmQobW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGFwaV9jbGllbnRfdG9NYWtlUmVxdWVzdFBhcmFtcyhyZXF1ZXN0UGFyYW1zKSwgcmVzcG9uc2VDdG9yKSk7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkcHJvbWlzZV9hcGlfY2xpZW50LlByb21pc2VBcGlDbGllbnQucHJvdG90eXBlLiR1cGxvYWRSZXF1ZXN0ID0gZnVuY3Rpb24ocmVxdWVzdFBhcmFtcykge1xuICB2YXIgJGpzY29tcCR0aGlzID0gdGhpcywgcmVzcG9uc2VDdG9yID0gcmVxdWVzdFBhcmFtcy5yZXNwb25zZUN0b3IgfHwgdm9pZCAwO1xuICByZXR1cm4gdGhpcy4kYWRkSG9va3NUb1JlcXVlc3QocmVxdWVzdFBhcmFtcywgbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGFwaV9jbGllbnRfdG9NdWx0aXBhcnRNYWtlUmVxdWVzdFBhcmFtcyhyZXF1ZXN0UGFyYW1zKS50aGVuKGZ1bmN0aW9uKHBhcmFtcykge1xuICAgIHJldHVybiAkanNjb21wJHRoaXMucmVxdWVzdFNlcnZpY2Uuc2VuZChwYXJhbXMsIHJlc3BvbnNlQ3Rvcik7XG4gIH0pKTtcbn07XG52YXIgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudCA9IHt9LCBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9tb2R1bGUgPSBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9tb2R1bGUgfHwge2lkOlwiZ2VvL2dlc3RhbHQvY2xpZW50L2phdmFzY3JpcHQvdjFhbHBoYS9lZV9hcGlfY2xpZW50LmNsb3N1cmUuanNcIn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LklBdWRpdExvZ0NvbmZpZ0xvZ1R5cGVFbnVtID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfSUF1ZGl0TG9nQ29uZmlnTG9nVHlwZUVudW0oKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5BdWRpdExvZ0NvbmZpZ0xvZ1R5cGVFbnVtID0ge0FETUlOX1JFQUQ6XCJBRE1JTl9SRUFEXCIsIERBVEFfUkVBRDpcIkRBVEFfUkVBRFwiLCBEQVRBX1dSSVRFOlwiREFUQV9XUklURVwiLCBMT0dfVFlQRV9VTlNQRUNJRklFRDpcIkxPR19UWVBFX1VOU1BFQ0lGSUVEXCIsIHZhbHVlczpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIFttb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkF1ZGl0TG9nQ29uZmlnTG9nVHlwZUVudW0uTE9HX1RZUEVfVU5TUEVDSUZJRUQsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQXVkaXRMb2dDb25maWdMb2dUeXBlRW51bS5BRE1JTl9SRUFELCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkF1ZGl0TG9nQ29uZmlnTG9nVHlwZUVudW0uREFUQV9XUklURSwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5BdWRpdExvZ0NvbmZpZ0xvZ1R5cGVFbnVtLkRBVEFfUkVBRF07XG59fTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSUF1dGhvcml6YXRpb25Mb2dnaW5nT3B0aW9uc1Blcm1pc3Npb25UeXBlRW51bSA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0lBdXRob3JpemF0aW9uTG9nZ2luZ09wdGlvbnNQZXJtaXNzaW9uVHlwZUVudW0oKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5BdXRob3JpemF0aW9uTG9nZ2luZ09wdGlvbnNQZXJtaXNzaW9uVHlwZUVudW0gPSB7QURNSU5fUkVBRDpcIkFETUlOX1JFQURcIiwgQURNSU5fV1JJVEU6XCJBRE1JTl9XUklURVwiLCBEQVRBX1JFQUQ6XCJEQVRBX1JFQURcIiwgREFUQV9XUklURTpcIkRBVEFfV1JJVEVcIiwgUEVSTUlTU0lPTl9UWVBFX1VOU1BFQ0lGSUVEOlwiUEVSTUlTU0lPTl9UWVBFX1VOU1BFQ0lGSUVEXCIsIHZhbHVlczpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIFttb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkF1dGhvcml6YXRpb25Mb2dnaW5nT3B0aW9uc1Blcm1pc3Npb25UeXBlRW51bS5QRVJNSVNTSU9OX1RZUEVfVU5TUEVDSUZJRUQsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQXV0aG9yaXphdGlvbkxvZ2dpbmdPcHRpb25zUGVybWlzc2lvblR5cGVFbnVtLkFETUlOX1JFQUQsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQXV0aG9yaXphdGlvbkxvZ2dpbmdPcHRpb25zUGVybWlzc2lvblR5cGVFbnVtLkFETUlOX1dSSVRFLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkF1dGhvcml6YXRpb25Mb2dnaW5nT3B0aW9uc1Blcm1pc3Npb25UeXBlRW51bS5EQVRBX1JFQUQsIFxuICBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkF1dGhvcml6YXRpb25Mb2dnaW5nT3B0aW9uc1Blcm1pc3Npb25UeXBlRW51bS5EQVRBX1dSSVRFXTtcbn19O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JQ2FwYWJpbGl0aWVzQ2FwYWJpbGl0aWVzRW51bSA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0lDYXBhYmlsaXRpZXNDYXBhYmlsaXRpZXNFbnVtKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ2FwYWJpbGl0aWVzQ2FwYWJpbGl0aWVzRW51bSA9IHtBVVRPX0FQUEVBTF9FTElHSUJMRTpcIkFVVE9fQVBQRUFMX0VMSUdJQkxFXCIsIENBUEFCSUxJVFlfR1JPVVBfVU5TUEVDSUZJRUQ6XCJDQVBBQklMSVRZX0dST1VQX1VOU1BFQ0lGSUVEXCIsIENMT1VEX0FMUEhBOlwiQ0xPVURfQUxQSEFcIiwgRVhURVJOQUw6XCJFWFRFUk5BTFwiLCBJTlRFUk5BTDpcIklOVEVSTkFMXCIsIExJTUlURUQ6XCJMSU1JVEVEXCIsIFBSRUFVVEhPUklaRUQ6XCJQUkVBVVRIT1JJWkVEXCIsIFBSRVZJRVc6XCJQUkVWSUVXXCIsIFBVQkxJQzpcIlBVQkxJQ1wiLCBSRVNUUklDVEVEOlwiUkVTVFJJQ1RFRFwiLCB2YWx1ZXM6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiBbbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5DYXBhYmlsaXRpZXNDYXBhYmlsaXRpZXNFbnVtLkNBUEFCSUxJVFlfR1JPVVBfVU5TUEVDSUZJRUQsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ2FwYWJpbGl0aWVzQ2FwYWJpbGl0aWVzRW51bS5QVUJMSUMsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ2FwYWJpbGl0aWVzQ2FwYWJpbGl0aWVzRW51bS5JTlRFUk5BTCwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5DYXBhYmlsaXRpZXNDYXBhYmlsaXRpZXNFbnVtLkVYVEVSTkFMLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNhcGFiaWxpdGllc0NhcGFiaWxpdGllc0VudW0uTElNSVRFRCwgXG4gIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ2FwYWJpbGl0aWVzQ2FwYWJpbGl0aWVzRW51bS5QUkVBVVRIT1JJWkVELCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNhcGFiaWxpdGllc0NhcGFiaWxpdGllc0VudW0uUFJFVklFVywgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5DYXBhYmlsaXRpZXNDYXBhYmlsaXRpZXNFbnVtLkNMT1VEX0FMUEhBLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNhcGFiaWxpdGllc0NhcGFiaWxpdGllc0VudW0uUkVTVFJJQ1RFRCwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5DYXBhYmlsaXRpZXNDYXBhYmlsaXRpZXNFbnVtLkFVVE9fQVBQRUFMX0VMSUdJQkxFXTtcbn19O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JQ2hhbmdlU3Vic2NyaXB0aW9uVHlwZVJlcXVlc3RDaGFuZ2VUaW1lRW51bSA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0lDaGFuZ2VTdWJzY3JpcHRpb25UeXBlUmVxdWVzdENoYW5nZVRpbWVFbnVtKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ2hhbmdlU3Vic2NyaXB0aW9uVHlwZVJlcXVlc3RDaGFuZ2VUaW1lRW51bSA9IHtDSEFOR0VfVElNRV9UWVBFX1VOU1BFQ0lGSUVEOlwiQ0hBTkdFX1RJTUVfVFlQRV9VTlNQRUNJRklFRFwiLCBFQVJMSUVTVF9QT1NTSUJMRTpcIkVBUkxJRVNUX1BPU1NJQkxFXCIsIEVORF9PRl9QRVJJT0Q6XCJFTkRfT0ZfUEVSSU9EXCIsIHZhbHVlczpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIFttb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNoYW5nZVN1YnNjcmlwdGlvblR5cGVSZXF1ZXN0Q2hhbmdlVGltZUVudW0uQ0hBTkdFX1RJTUVfVFlQRV9VTlNQRUNJRklFRCwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5DaGFuZ2VTdWJzY3JpcHRpb25UeXBlUmVxdWVzdENoYW5nZVRpbWVFbnVtLkVORF9PRl9QRVJJT0QsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ2hhbmdlU3Vic2NyaXB0aW9uVHlwZVJlcXVlc3RDaGFuZ2VUaW1lRW51bS5FQVJMSUVTVF9QT1NTSUJMRV07XG59fTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSUNoYW5nZVN1YnNjcmlwdGlvblR5cGVSZXF1ZXN0VHlwZUVudW0gPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9JQ2hhbmdlU3Vic2NyaXB0aW9uVHlwZVJlcXVlc3RUeXBlRW51bSgpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNoYW5nZVN1YnNjcmlwdGlvblR5cGVSZXF1ZXN0VHlwZUVudW0gPSB7QkFTSUM6XCJCQVNJQ1wiLCBOT19TVUJTQ1JJUFRJT046XCJOT19TVUJTQ1JJUFRJT05cIiwgUFJFTUlVTTpcIlBSRU1JVU1cIiwgUFJPRkVTU0lPTkFMOlwiUFJPRkVTU0lPTkFMXCIsIFRZUEVfVU5TUEVDSUZJRUQ6XCJUWVBFX1VOU1BFQ0lGSUVEXCIsIHZhbHVlczpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIFttb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNoYW5nZVN1YnNjcmlwdGlvblR5cGVSZXF1ZXN0VHlwZUVudW0uVFlQRV9VTlNQRUNJRklFRCwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5DaGFuZ2VTdWJzY3JpcHRpb25UeXBlUmVxdWVzdFR5cGVFbnVtLk5PX1NVQlNDUklQVElPTiwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5DaGFuZ2VTdWJzY3JpcHRpb25UeXBlUmVxdWVzdFR5cGVFbnVtLkJBU0lDLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNoYW5nZVN1YnNjcmlwdGlvblR5cGVSZXF1ZXN0VHlwZUVudW0uUFJPRkVTU0lPTkFMLCBcbiAgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5DaGFuZ2VTdWJzY3JpcHRpb25UeXBlUmVxdWVzdFR5cGVFbnVtLlBSRU1JVU1dO1xufX07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LklDbG91ZEF1ZGl0T3B0aW9uc0xvZ05hbWVFbnVtID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfSUNsb3VkQXVkaXRPcHRpb25zTG9nTmFtZUVudW0oKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5DbG91ZEF1ZGl0T3B0aW9uc0xvZ05hbWVFbnVtID0ge0FETUlOX0FDVElWSVRZOlwiQURNSU5fQUNUSVZJVFlcIiwgREFUQV9BQ0NFU1M6XCJEQVRBX0FDQ0VTU1wiLCBVTlNQRUNJRklFRF9MT0dfTkFNRTpcIlVOU1BFQ0lGSUVEX0xPR19OQU1FXCIsIHZhbHVlczpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIFttb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNsb3VkQXVkaXRPcHRpb25zTG9nTmFtZUVudW0uVU5TUEVDSUZJRURfTE9HX05BTUUsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ2xvdWRBdWRpdE9wdGlvbnNMb2dOYW1lRW51bS5BRE1JTl9BQ1RJVklUWSwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5DbG91ZEF1ZGl0T3B0aW9uc0xvZ05hbWVFbnVtLkRBVEFfQUNDRVNTXTtcbn19O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JQ2xvdWRTdG9yYWdlRGVzdGluYXRpb25QZXJtaXNzaW9uc0VudW0gPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9JQ2xvdWRTdG9yYWdlRGVzdGluYXRpb25QZXJtaXNzaW9uc0VudW0oKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5DbG91ZFN0b3JhZ2VEZXN0aW5hdGlvblBlcm1pc3Npb25zRW51bSA9IHtERUZBVUxUX09CSkVDVF9BQ0w6XCJERUZBVUxUX09CSkVDVF9BQ0xcIiwgUFVCTElDOlwiUFVCTElDXCIsIFRJTEVfUEVSTUlTU0lPTlNfVU5TUEVDSUZJRUQ6XCJUSUxFX1BFUk1JU1NJT05TX1VOU1BFQ0lGSUVEXCIsIHZhbHVlczpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIFttb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNsb3VkU3RvcmFnZURlc3RpbmF0aW9uUGVybWlzc2lvbnNFbnVtLlRJTEVfUEVSTUlTU0lPTlNfVU5TUEVDSUZJRUQsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ2xvdWRTdG9yYWdlRGVzdGluYXRpb25QZXJtaXNzaW9uc0VudW0uUFVCTElDLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNsb3VkU3RvcmFnZURlc3RpbmF0aW9uUGVybWlzc2lvbnNFbnVtLkRFRkFVTFRfT0JKRUNUX0FDTF07XG59fTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSUNvbXB1dGVQaXhlbHNSZXF1ZXN0RmlsZUZvcm1hdEVudW0gPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9JQ29tcHV0ZVBpeGVsc1JlcXVlc3RGaWxlRm9ybWF0RW51bSgpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNvbXB1dGVQaXhlbHNSZXF1ZXN0RmlsZUZvcm1hdEVudW0gPSB7QVVUT19KUEVHX1BORzpcIkFVVE9fSlBFR19QTkdcIiwgR0VPX1RJRkY6XCJHRU9fVElGRlwiLCBJTUFHRV9GSUxFX0ZPUk1BVF9VTlNQRUNJRklFRDpcIklNQUdFX0ZJTEVfRk9STUFUX1VOU1BFQ0lGSUVEXCIsIEpQRUc6XCJKUEVHXCIsIE1VTFRJX0JBTkRfSU1BR0VfVElMRTpcIk1VTFRJX0JBTkRfSU1BR0VfVElMRVwiLCBOUFk6XCJOUFlcIiwgUE5HOlwiUE5HXCIsIFRGX1JFQ09SRF9JTUFHRTpcIlRGX1JFQ09SRF9JTUFHRVwiLCBaSVBQRURfR0VPX1RJRkY6XCJaSVBQRURfR0VPX1RJRkZcIiwgWklQUEVEX0dFT19USUZGX1BFUl9CQU5EOlwiWklQUEVEX0dFT19USUZGX1BFUl9CQU5EXCIsIHZhbHVlczpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIFttb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNvbXB1dGVQaXhlbHNSZXF1ZXN0RmlsZUZvcm1hdEVudW0uSU1BR0VfRklMRV9GT1JNQVRfVU5TUEVDSUZJRUQsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ29tcHV0ZVBpeGVsc1JlcXVlc3RGaWxlRm9ybWF0RW51bS5KUEVHLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNvbXB1dGVQaXhlbHNSZXF1ZXN0RmlsZUZvcm1hdEVudW0uUE5HLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNvbXB1dGVQaXhlbHNSZXF1ZXN0RmlsZUZvcm1hdEVudW0uQVVUT19KUEVHX1BORywgXG4gIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ29tcHV0ZVBpeGVsc1JlcXVlc3RGaWxlRm9ybWF0RW51bS5OUFksIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ29tcHV0ZVBpeGVsc1JlcXVlc3RGaWxlRm9ybWF0RW51bS5HRU9fVElGRiwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Db21wdXRlUGl4ZWxzUmVxdWVzdEZpbGVGb3JtYXRFbnVtLlRGX1JFQ09SRF9JTUFHRSwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Db21wdXRlUGl4ZWxzUmVxdWVzdEZpbGVGb3JtYXRFbnVtLk1VTFRJX0JBTkRfSU1BR0VfVElMRSwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Db21wdXRlUGl4ZWxzUmVxdWVzdEZpbGVGb3JtYXRFbnVtLlpJUFBFRF9HRU9fVElGRiwgXG4gIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ29tcHV0ZVBpeGVsc1JlcXVlc3RGaWxlRm9ybWF0RW51bS5aSVBQRURfR0VPX1RJRkZfUEVSX0JBTkRdO1xufX07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LklDb25kaXRpb25JYW1FbnVtID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfSUNvbmRpdGlvbklhbUVudW0oKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Db25kaXRpb25JYW1FbnVtID0ge0FQUFJPVkVSOlwiQVBQUk9WRVJcIiwgQVRUUklCVVRJT046XCJBVFRSSUJVVElPTlwiLCBBVVRIT1JJVFk6XCJBVVRIT1JJVFlcIiwgQ1JFREVOVElBTFNfVFlQRTpcIkNSRURFTlRJQUxTX1RZUEVcIiwgQ1JFRFNfQVNTRVJUSU9OOlwiQ1JFRFNfQVNTRVJUSU9OXCIsIEpVU1RJRklDQVRJT05fVFlQRTpcIkpVU1RJRklDQVRJT05fVFlQRVwiLCBOT19BVFRSOlwiTk9fQVRUUlwiLCBTRUNVUklUWV9SRUFMTTpcIlNFQ1VSSVRZX1JFQUxNXCIsIHZhbHVlczpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIFttb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNvbmRpdGlvbklhbUVudW0uTk9fQVRUUiwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Db25kaXRpb25JYW1FbnVtLkFVVEhPUklUWSwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Db25kaXRpb25JYW1FbnVtLkFUVFJJQlVUSU9OLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNvbmRpdGlvbklhbUVudW0uU0VDVVJJVFlfUkVBTE0sIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ29uZGl0aW9uSWFtRW51bS5BUFBST1ZFUiwgXG4gIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ29uZGl0aW9uSWFtRW51bS5KVVNUSUZJQ0FUSU9OX1RZUEUsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ29uZGl0aW9uSWFtRW51bS5DUkVERU5USUFMU19UWVBFLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNvbmRpdGlvbklhbUVudW0uQ1JFRFNfQVNTRVJUSU9OXTtcbn19O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JQ29uZGl0aW9uT3BFbnVtID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfSUNvbmRpdGlvbk9wRW51bSgpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNvbmRpdGlvbk9wRW51bSA9IHtESVNDSEFSR0VEOlwiRElTQ0hBUkdFRFwiLCBFUVVBTFM6XCJFUVVBTFNcIiwgSU46XCJJTlwiLCBOT1RfRVFVQUxTOlwiTk9UX0VRVUFMU1wiLCBOT1RfSU46XCJOT1RfSU5cIiwgTk9fT1A6XCJOT19PUFwiLCB2YWx1ZXM6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiBbbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Db25kaXRpb25PcEVudW0uTk9fT1AsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ29uZGl0aW9uT3BFbnVtLkVRVUFMUywgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Db25kaXRpb25PcEVudW0uTk9UX0VRVUFMUywgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Db25kaXRpb25PcEVudW0uSU4sIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ29uZGl0aW9uT3BFbnVtLk5PVF9JTiwgXG4gIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ29uZGl0aW9uT3BFbnVtLkRJU0NIQVJHRURdO1xufX07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LklDb25kaXRpb25TeXNFbnVtID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfSUNvbmRpdGlvblN5c0VudW0oKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Db25kaXRpb25TeXNFbnVtID0ge0lQOlwiSVBcIiwgTkFNRTpcIk5BTUVcIiwgTk9fQVRUUjpcIk5PX0FUVFJcIiwgUkVHSU9OOlwiUkVHSU9OXCIsIFNFUlZJQ0U6XCJTRVJWSUNFXCIsIHZhbHVlczpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIFttb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNvbmRpdGlvblN5c0VudW0uTk9fQVRUUiwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Db25kaXRpb25TeXNFbnVtLlJFR0lPTiwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Db25kaXRpb25TeXNFbnVtLlNFUlZJQ0UsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ29uZGl0aW9uU3lzRW51bS5OQU1FLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNvbmRpdGlvblN5c0VudW0uSVBdO1xufX07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LklEYXRhQWNjZXNzT3B0aW9uc0xvZ01vZGVFbnVtID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfSURhdGFBY2Nlc3NPcHRpb25zTG9nTW9kZUVudW0oKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5EYXRhQWNjZXNzT3B0aW9uc0xvZ01vZGVFbnVtID0ge0xPR19GQUlMX0NMT1NFRDpcIkxPR19GQUlMX0NMT1NFRFwiLCBMT0dfTU9ERV9VTlNQRUNJRklFRDpcIkxPR19NT0RFX1VOU1BFQ0lGSUVEXCIsIHZhbHVlczpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIFttb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkRhdGFBY2Nlc3NPcHRpb25zTG9nTW9kZUVudW0uTE9HX01PREVfVU5TUEVDSUZJRUQsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRGF0YUFjY2Vzc09wdGlvbnNMb2dNb2RlRW51bS5MT0dfRkFJTF9DTE9TRURdO1xufX07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LklFYXJ0aEVuZ2luZUFzc2V0VHlwZUVudW0gPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9JRWFydGhFbmdpbmVBc3NldFR5cGVFbnVtKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRWFydGhFbmdpbmVBc3NldFR5cGVFbnVtID0ge0NMQVNTSUZJRVI6XCJDTEFTU0lGSUVSXCIsIEZFQVRVUkVfVklFVzpcIkZFQVRVUkVfVklFV1wiLCBGT0xERVI6XCJGT0xERVJcIiwgSU1BR0U6XCJJTUFHRVwiLCBJTUFHRV9DT0xMRUNUSU9OOlwiSU1BR0VfQ09MTEVDVElPTlwiLCBUQUJMRTpcIlRBQkxFXCIsIFRZUEVfVU5TUEVDSUZJRUQ6XCJUWVBFX1VOU1BFQ0lGSUVEXCIsIHZhbHVlczpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIFttb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkVhcnRoRW5naW5lQXNzZXRUeXBlRW51bS5UWVBFX1VOU1BFQ0lGSUVELCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkVhcnRoRW5naW5lQXNzZXRUeXBlRW51bS5JTUFHRSwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5FYXJ0aEVuZ2luZUFzc2V0VHlwZUVudW0uSU1BR0VfQ09MTEVDVElPTiwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5FYXJ0aEVuZ2luZUFzc2V0VHlwZUVudW0uVEFCTEUsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRWFydGhFbmdpbmVBc3NldFR5cGVFbnVtLkZPTERFUiwgXG4gIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRWFydGhFbmdpbmVBc3NldFR5cGVFbnVtLkNMQVNTSUZJRVIsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRWFydGhFbmdpbmVBc3NldFR5cGVFbnVtLkZFQVRVUkVfVklFV107XG59fTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSUVhcnRoRW5naW5lTWFwRmlsZUZvcm1hdEVudW0gPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9JRWFydGhFbmdpbmVNYXBGaWxlRm9ybWF0RW51bSgpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkVhcnRoRW5naW5lTWFwRmlsZUZvcm1hdEVudW0gPSB7QVVUT19KUEVHX1BORzpcIkFVVE9fSlBFR19QTkdcIiwgR0VPX1RJRkY6XCJHRU9fVElGRlwiLCBJTUFHRV9GSUxFX0ZPUk1BVF9VTlNQRUNJRklFRDpcIklNQUdFX0ZJTEVfRk9STUFUX1VOU1BFQ0lGSUVEXCIsIEpQRUc6XCJKUEVHXCIsIE1VTFRJX0JBTkRfSU1BR0VfVElMRTpcIk1VTFRJX0JBTkRfSU1BR0VfVElMRVwiLCBOUFk6XCJOUFlcIiwgUE5HOlwiUE5HXCIsIFRGX1JFQ09SRF9JTUFHRTpcIlRGX1JFQ09SRF9JTUFHRVwiLCBaSVBQRURfR0VPX1RJRkY6XCJaSVBQRURfR0VPX1RJRkZcIiwgWklQUEVEX0dFT19USUZGX1BFUl9CQU5EOlwiWklQUEVEX0dFT19USUZGX1BFUl9CQU5EXCIsIHZhbHVlczpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIFttb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkVhcnRoRW5naW5lTWFwRmlsZUZvcm1hdEVudW0uSU1BR0VfRklMRV9GT1JNQVRfVU5TUEVDSUZJRUQsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRWFydGhFbmdpbmVNYXBGaWxlRm9ybWF0RW51bS5KUEVHLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkVhcnRoRW5naW5lTWFwRmlsZUZvcm1hdEVudW0uUE5HLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkVhcnRoRW5naW5lTWFwRmlsZUZvcm1hdEVudW0uQVVUT19KUEVHX1BORywgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5FYXJ0aEVuZ2luZU1hcEZpbGVGb3JtYXRFbnVtLk5QWSwgXG4gIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRWFydGhFbmdpbmVNYXBGaWxlRm9ybWF0RW51bS5HRU9fVElGRiwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5FYXJ0aEVuZ2luZU1hcEZpbGVGb3JtYXRFbnVtLlRGX1JFQ09SRF9JTUFHRSwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5FYXJ0aEVuZ2luZU1hcEZpbGVGb3JtYXRFbnVtLk1VTFRJX0JBTkRfSU1BR0VfVElMRSwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5FYXJ0aEVuZ2luZU1hcEZpbGVGb3JtYXRFbnVtLlpJUFBFRF9HRU9fVElGRiwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5FYXJ0aEVuZ2luZU1hcEZpbGVGb3JtYXRFbnVtLlpJUFBFRF9HRU9fVElGRl9QRVJfQkFORF07XG59fTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSUV4cG9ydFZpZGVvTWFwUmVxdWVzdFZlcnNpb25FbnVtID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfSUV4cG9ydFZpZGVvTWFwUmVxdWVzdFZlcnNpb25FbnVtKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRXhwb3J0VmlkZW9NYXBSZXF1ZXN0VmVyc2lvbkVudW0gPSB7VjE6XCJWMVwiLCBWMjpcIlYyXCIsIFZFUlNJT05fVU5TUEVDSUZJRUQ6XCJWRVJTSU9OX1VOU1BFQ0lGSUVEXCIsIHZhbHVlczpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIFttb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkV4cG9ydFZpZGVvTWFwUmVxdWVzdFZlcnNpb25FbnVtLlZFUlNJT05fVU5TUEVDSUZJRUQsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRXhwb3J0VmlkZW9NYXBSZXF1ZXN0VmVyc2lvbkVudW0uVjEsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRXhwb3J0VmlkZW9NYXBSZXF1ZXN0VmVyc2lvbkVudW0uVjJdO1xufX07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LklGZWF0dXJlVmlld0F0dHJpYnV0ZVR5cGVFbnVtID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfSUZlYXR1cmVWaWV3QXR0cmlidXRlVHlwZUVudW0oKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5GZWF0dXJlVmlld0F0dHJpYnV0ZVR5cGVFbnVtID0ge0JPT0xFQU46XCJCT09MRUFOXCIsIERBVEVfVElNRTpcIkRBVEVfVElNRVwiLCBET1VCTEU6XCJET1VCTEVcIiwgSU5URUdFUjpcIklOVEVHRVJcIiwgU1RSSU5HOlwiU1RSSU5HXCIsIFRZUEVfVU5TUEVDSUZJRUQ6XCJUWVBFX1VOU1BFQ0lGSUVEXCIsIHZhbHVlczpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIFttb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkZlYXR1cmVWaWV3QXR0cmlidXRlVHlwZUVudW0uVFlQRV9VTlNQRUNJRklFRCwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5GZWF0dXJlVmlld0F0dHJpYnV0ZVR5cGVFbnVtLklOVEVHRVIsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRmVhdHVyZVZpZXdBdHRyaWJ1dGVUeXBlRW51bS5CT09MRUFOLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkZlYXR1cmVWaWV3QXR0cmlidXRlVHlwZUVudW0uRE9VQkxFLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkZlYXR1cmVWaWV3QXR0cmlidXRlVHlwZUVudW0uU1RSSU5HLCBcbiAgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5GZWF0dXJlVmlld0F0dHJpYnV0ZVR5cGVFbnVtLkRBVEVfVElNRV07XG59fTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSUZlYXR1cmVWaWV3RGVzdGluYXRpb25QZXJtaXNzaW9uc0VudW0gPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9JRmVhdHVyZVZpZXdEZXN0aW5hdGlvblBlcm1pc3Npb25zRW51bSgpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkZlYXR1cmVWaWV3RGVzdGluYXRpb25QZXJtaXNzaW9uc0VudW0gPSB7RkVBVFVSRV9WSUVXX0FTU0VUX1BFUk1JU1NJT05TX1VOU1BFQ0lGSUVEOlwiRkVBVFVSRV9WSUVXX0FTU0VUX1BFUk1JU1NJT05TX1VOU1BFQ0lGSUVEXCIsIFBVQkxJQzpcIlBVQkxJQ1wiLCB2YWx1ZXM6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiBbbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5GZWF0dXJlVmlld0Rlc3RpbmF0aW9uUGVybWlzc2lvbnNFbnVtLkZFQVRVUkVfVklFV19BU1NFVF9QRVJNSVNTSU9OU19VTlNQRUNJRklFRCwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5GZWF0dXJlVmlld0Rlc3RpbmF0aW9uUGVybWlzc2lvbnNFbnVtLlBVQkxJQ107XG59fTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSUZpbG1zdHJpcFRodW1ibmFpbEZpbGVGb3JtYXRFbnVtID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfSUZpbG1zdHJpcFRodW1ibmFpbEZpbGVGb3JtYXRFbnVtKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRmlsbXN0cmlwVGh1bWJuYWlsRmlsZUZvcm1hdEVudW0gPSB7QVVUT19KUEVHX1BORzpcIkFVVE9fSlBFR19QTkdcIiwgR0VPX1RJRkY6XCJHRU9fVElGRlwiLCBJTUFHRV9GSUxFX0ZPUk1BVF9VTlNQRUNJRklFRDpcIklNQUdFX0ZJTEVfRk9STUFUX1VOU1BFQ0lGSUVEXCIsIEpQRUc6XCJKUEVHXCIsIE1VTFRJX0JBTkRfSU1BR0VfVElMRTpcIk1VTFRJX0JBTkRfSU1BR0VfVElMRVwiLCBOUFk6XCJOUFlcIiwgUE5HOlwiUE5HXCIsIFRGX1JFQ09SRF9JTUFHRTpcIlRGX1JFQ09SRF9JTUFHRVwiLCBaSVBQRURfR0VPX1RJRkY6XCJaSVBQRURfR0VPX1RJRkZcIiwgWklQUEVEX0dFT19USUZGX1BFUl9CQU5EOlwiWklQUEVEX0dFT19USUZGX1BFUl9CQU5EXCIsIHZhbHVlczpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIFttb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkZpbG1zdHJpcFRodW1ibmFpbEZpbGVGb3JtYXRFbnVtLklNQUdFX0ZJTEVfRk9STUFUX1VOU1BFQ0lGSUVELCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkZpbG1zdHJpcFRodW1ibmFpbEZpbGVGb3JtYXRFbnVtLkpQRUcsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRmlsbXN0cmlwVGh1bWJuYWlsRmlsZUZvcm1hdEVudW0uUE5HLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkZpbG1zdHJpcFRodW1ibmFpbEZpbGVGb3JtYXRFbnVtLkFVVE9fSlBFR19QTkcsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRmlsbXN0cmlwVGh1bWJuYWlsRmlsZUZvcm1hdEVudW0uTlBZLCBcbiAgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5GaWxtc3RyaXBUaHVtYm5haWxGaWxlRm9ybWF0RW51bS5HRU9fVElGRiwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5GaWxtc3RyaXBUaHVtYm5haWxGaWxlRm9ybWF0RW51bS5URl9SRUNPUkRfSU1BR0UsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRmlsbXN0cmlwVGh1bWJuYWlsRmlsZUZvcm1hdEVudW0uTVVMVElfQkFORF9JTUFHRV9USUxFLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkZpbG1zdHJpcFRodW1ibmFpbEZpbGVGb3JtYXRFbnVtLlpJUFBFRF9HRU9fVElGRiwgXG4gIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRmlsbXN0cmlwVGh1bWJuYWlsRmlsZUZvcm1hdEVudW0uWklQUEVEX0dFT19USUZGX1BFUl9CQU5EXTtcbn19O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JRmlsbXN0cmlwVGh1bWJuYWlsT3JpZW50YXRpb25FbnVtID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfSUZpbG1zdHJpcFRodW1ibmFpbE9yaWVudGF0aW9uRW51bSgpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkZpbG1zdHJpcFRodW1ibmFpbE9yaWVudGF0aW9uRW51bSA9IHtIT1JJWk9OVEFMOlwiSE9SSVpPTlRBTFwiLCBPUklFTlRBVElPTl9VTlNQRUNJRklFRDpcIk9SSUVOVEFUSU9OX1VOU1BFQ0lGSUVEXCIsIFZFUlRJQ0FMOlwiVkVSVElDQUxcIiwgdmFsdWVzOmZ1bmN0aW9uKCkge1xuICByZXR1cm4gW21vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRmlsbXN0cmlwVGh1bWJuYWlsT3JpZW50YXRpb25FbnVtLk9SSUVOVEFUSU9OX1VOU1BFQ0lGSUVELCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkZpbG1zdHJpcFRodW1ibmFpbE9yaWVudGF0aW9uRW51bS5IT1JJWk9OVEFMLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkZpbG1zdHJpcFRodW1ibmFpbE9yaWVudGF0aW9uRW51bS5WRVJUSUNBTF07XG59fTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSUdjc0Rlc3RpbmF0aW9uUGVybWlzc2lvbnNFbnVtID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfSUdjc0Rlc3RpbmF0aW9uUGVybWlzc2lvbnNFbnVtKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuR2NzRGVzdGluYXRpb25QZXJtaXNzaW9uc0VudW0gPSB7REVGQVVMVF9PQkpFQ1RfQUNMOlwiREVGQVVMVF9PQkpFQ1RfQUNMXCIsIFBVQkxJQzpcIlBVQkxJQ1wiLCBUSUxFX1BFUk1JU1NJT05TX1VOU1BFQ0lGSUVEOlwiVElMRV9QRVJNSVNTSU9OU19VTlNQRUNJRklFRFwiLCB2YWx1ZXM6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiBbbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5HY3NEZXN0aW5hdGlvblBlcm1pc3Npb25zRW51bS5USUxFX1BFUk1JU1NJT05TX1VOU1BFQ0lGSUVELCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50Lkdjc0Rlc3RpbmF0aW9uUGVybWlzc2lvbnNFbnVtLlBVQkxJQywgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5HY3NEZXN0aW5hdGlvblBlcm1pc3Npb25zRW51bS5ERUZBVUxUX09CSkVDVF9BQ0xdO1xufX07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LklHZXRQaXhlbHNSZXF1ZXN0RmlsZUZvcm1hdEVudW0gPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9JR2V0UGl4ZWxzUmVxdWVzdEZpbGVGb3JtYXRFbnVtKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuR2V0UGl4ZWxzUmVxdWVzdEZpbGVGb3JtYXRFbnVtID0ge0FVVE9fSlBFR19QTkc6XCJBVVRPX0pQRUdfUE5HXCIsIEdFT19USUZGOlwiR0VPX1RJRkZcIiwgSU1BR0VfRklMRV9GT1JNQVRfVU5TUEVDSUZJRUQ6XCJJTUFHRV9GSUxFX0ZPUk1BVF9VTlNQRUNJRklFRFwiLCBKUEVHOlwiSlBFR1wiLCBNVUxUSV9CQU5EX0lNQUdFX1RJTEU6XCJNVUxUSV9CQU5EX0lNQUdFX1RJTEVcIiwgTlBZOlwiTlBZXCIsIFBORzpcIlBOR1wiLCBURl9SRUNPUkRfSU1BR0U6XCJURl9SRUNPUkRfSU1BR0VcIiwgWklQUEVEX0dFT19USUZGOlwiWklQUEVEX0dFT19USUZGXCIsIFpJUFBFRF9HRU9fVElGRl9QRVJfQkFORDpcIlpJUFBFRF9HRU9fVElGRl9QRVJfQkFORFwiLCB2YWx1ZXM6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiBbbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5HZXRQaXhlbHNSZXF1ZXN0RmlsZUZvcm1hdEVudW0uSU1BR0VfRklMRV9GT1JNQVRfVU5TUEVDSUZJRUQsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuR2V0UGl4ZWxzUmVxdWVzdEZpbGVGb3JtYXRFbnVtLkpQRUcsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuR2V0UGl4ZWxzUmVxdWVzdEZpbGVGb3JtYXRFbnVtLlBORywgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5HZXRQaXhlbHNSZXF1ZXN0RmlsZUZvcm1hdEVudW0uQVVUT19KUEVHX1BORywgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5HZXRQaXhlbHNSZXF1ZXN0RmlsZUZvcm1hdEVudW0uTlBZLCBcbiAgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5HZXRQaXhlbHNSZXF1ZXN0RmlsZUZvcm1hdEVudW0uR0VPX1RJRkYsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuR2V0UGl4ZWxzUmVxdWVzdEZpbGVGb3JtYXRFbnVtLlRGX1JFQ09SRF9JTUFHRSwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5HZXRQaXhlbHNSZXF1ZXN0RmlsZUZvcm1hdEVudW0uTVVMVElfQkFORF9JTUFHRV9USUxFLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkdldFBpeGVsc1JlcXVlc3RGaWxlRm9ybWF0RW51bS5aSVBQRURfR0VPX1RJRkYsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuR2V0UGl4ZWxzUmVxdWVzdEZpbGVGb3JtYXRFbnVtLlpJUFBFRF9HRU9fVElGRl9QRVJfQkFORF07XG59fTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSUltYWdlQXNzZXRFeHBvcnRPcHRpb25zUHlyYW1pZGluZ1BvbGljeUVudW0gPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9JSW1hZ2VBc3NldEV4cG9ydE9wdGlvbnNQeXJhbWlkaW5nUG9saWN5RW51bSgpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkltYWdlQXNzZXRFeHBvcnRPcHRpb25zUHlyYW1pZGluZ1BvbGljeUVudW0gPSB7TUFYOlwiTUFYXCIsIE1FQU46XCJNRUFOXCIsIE1FRElBTjpcIk1FRElBTlwiLCBNSU46XCJNSU5cIiwgTU9ERTpcIk1PREVcIiwgUFlSQU1JRElOR19QT0xJQ1lfVU5TUEVDSUZJRUQ6XCJQWVJBTUlESU5HX1BPTElDWV9VTlNQRUNJRklFRFwiLCBTQU1QTEU6XCJTQU1QTEVcIiwgdmFsdWVzOmZ1bmN0aW9uKCkge1xuICByZXR1cm4gW21vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSW1hZ2VBc3NldEV4cG9ydE9wdGlvbnNQeXJhbWlkaW5nUG9saWN5RW51bS5QWVJBTUlESU5HX1BPTElDWV9VTlNQRUNJRklFRCwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JbWFnZUFzc2V0RXhwb3J0T3B0aW9uc1B5cmFtaWRpbmdQb2xpY3lFbnVtLk1FQU4sIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSW1hZ2VBc3NldEV4cG9ydE9wdGlvbnNQeXJhbWlkaW5nUG9saWN5RW51bS5TQU1QTEUsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSW1hZ2VBc3NldEV4cG9ydE9wdGlvbnNQeXJhbWlkaW5nUG9saWN5RW51bS5NSU4sIFxuICBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkltYWdlQXNzZXRFeHBvcnRPcHRpb25zUHlyYW1pZGluZ1BvbGljeUVudW0uTUFYLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkltYWdlQXNzZXRFeHBvcnRPcHRpb25zUHlyYW1pZGluZ1BvbGljeUVudW0uTU9ERSwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JbWFnZUFzc2V0RXhwb3J0T3B0aW9uc1B5cmFtaWRpbmdQb2xpY3lFbnVtLk1FRElBTl07XG59fTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSUltYWdlQXNzZXRFeHBvcnRPcHRpb25zUHlyYW1pZGluZ1BvbGljeU92ZXJyaWRlc0VudW0gPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9JSW1hZ2VBc3NldEV4cG9ydE9wdGlvbnNQeXJhbWlkaW5nUG9saWN5T3ZlcnJpZGVzRW51bSgpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkltYWdlQXNzZXRFeHBvcnRPcHRpb25zUHlyYW1pZGluZ1BvbGljeU92ZXJyaWRlc0VudW0gPSB7TUFYOlwiTUFYXCIsIE1FQU46XCJNRUFOXCIsIE1FRElBTjpcIk1FRElBTlwiLCBNSU46XCJNSU5cIiwgTU9ERTpcIk1PREVcIiwgUFlSQU1JRElOR19QT0xJQ1lfVU5TUEVDSUZJRUQ6XCJQWVJBTUlESU5HX1BPTElDWV9VTlNQRUNJRklFRFwiLCBTQU1QTEU6XCJTQU1QTEVcIiwgdmFsdWVzOmZ1bmN0aW9uKCkge1xuICByZXR1cm4gW21vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSW1hZ2VBc3NldEV4cG9ydE9wdGlvbnNQeXJhbWlkaW5nUG9saWN5T3ZlcnJpZGVzRW51bS5QWVJBTUlESU5HX1BPTElDWV9VTlNQRUNJRklFRCwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JbWFnZUFzc2V0RXhwb3J0T3B0aW9uc1B5cmFtaWRpbmdQb2xpY3lPdmVycmlkZXNFbnVtLk1FQU4sIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSW1hZ2VBc3NldEV4cG9ydE9wdGlvbnNQeXJhbWlkaW5nUG9saWN5T3ZlcnJpZGVzRW51bS5TQU1QTEUsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSW1hZ2VBc3NldEV4cG9ydE9wdGlvbnNQeXJhbWlkaW5nUG9saWN5T3ZlcnJpZGVzRW51bS5NSU4sIFxuICBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkltYWdlQXNzZXRFeHBvcnRPcHRpb25zUHlyYW1pZGluZ1BvbGljeU92ZXJyaWRlc0VudW0uTUFYLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkltYWdlQXNzZXRFeHBvcnRPcHRpb25zUHlyYW1pZGluZ1BvbGljeU92ZXJyaWRlc0VudW0uTU9ERSwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JbWFnZUFzc2V0RXhwb3J0T3B0aW9uc1B5cmFtaWRpbmdQb2xpY3lPdmVycmlkZXNFbnVtLk1FRElBTl07XG59fTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSUltYWdlQmFuZFB5cmFtaWRpbmdQb2xpY3lFbnVtID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfSUltYWdlQmFuZFB5cmFtaWRpbmdQb2xpY3lFbnVtKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSW1hZ2VCYW5kUHlyYW1pZGluZ1BvbGljeUVudW0gPSB7TUFYOlwiTUFYXCIsIE1FQU46XCJNRUFOXCIsIE1FRElBTjpcIk1FRElBTlwiLCBNSU46XCJNSU5cIiwgTU9ERTpcIk1PREVcIiwgUFlSQU1JRElOR19QT0xJQ1lfVU5TUEVDSUZJRUQ6XCJQWVJBTUlESU5HX1BPTElDWV9VTlNQRUNJRklFRFwiLCBTQU1QTEU6XCJTQU1QTEVcIiwgdmFsdWVzOmZ1bmN0aW9uKCkge1xuICByZXR1cm4gW21vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSW1hZ2VCYW5kUHlyYW1pZGluZ1BvbGljeUVudW0uUFlSQU1JRElOR19QT0xJQ1lfVU5TUEVDSUZJRUQsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSW1hZ2VCYW5kUHlyYW1pZGluZ1BvbGljeUVudW0uTUVBTiwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JbWFnZUJhbmRQeXJhbWlkaW5nUG9saWN5RW51bS5TQU1QTEUsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSW1hZ2VCYW5kUHlyYW1pZGluZ1BvbGljeUVudW0uTUlOLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkltYWdlQmFuZFB5cmFtaWRpbmdQb2xpY3lFbnVtLk1BWCwgXG4gIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSW1hZ2VCYW5kUHlyYW1pZGluZ1BvbGljeUVudW0uTU9ERSwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JbWFnZUJhbmRQeXJhbWlkaW5nUG9saWN5RW51bS5NRURJQU5dO1xufX07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LklJbWFnZUZpbGVFeHBvcnRPcHRpb25zRmlsZUZvcm1hdEVudW0gPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9JSW1hZ2VGaWxlRXhwb3J0T3B0aW9uc0ZpbGVGb3JtYXRFbnVtKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSW1hZ2VGaWxlRXhwb3J0T3B0aW9uc0ZpbGVGb3JtYXRFbnVtID0ge0FVVE9fSlBFR19QTkc6XCJBVVRPX0pQRUdfUE5HXCIsIEdFT19USUZGOlwiR0VPX1RJRkZcIiwgSU1BR0VfRklMRV9GT1JNQVRfVU5TUEVDSUZJRUQ6XCJJTUFHRV9GSUxFX0ZPUk1BVF9VTlNQRUNJRklFRFwiLCBKUEVHOlwiSlBFR1wiLCBNVUxUSV9CQU5EX0lNQUdFX1RJTEU6XCJNVUxUSV9CQU5EX0lNQUdFX1RJTEVcIiwgTlBZOlwiTlBZXCIsIFBORzpcIlBOR1wiLCBURl9SRUNPUkRfSU1BR0U6XCJURl9SRUNPUkRfSU1BR0VcIiwgWklQUEVEX0dFT19USUZGOlwiWklQUEVEX0dFT19USUZGXCIsIFpJUFBFRF9HRU9fVElGRl9QRVJfQkFORDpcIlpJUFBFRF9HRU9fVElGRl9QRVJfQkFORFwiLCB2YWx1ZXM6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiBbbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JbWFnZUZpbGVFeHBvcnRPcHRpb25zRmlsZUZvcm1hdEVudW0uSU1BR0VfRklMRV9GT1JNQVRfVU5TUEVDSUZJRUQsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSW1hZ2VGaWxlRXhwb3J0T3B0aW9uc0ZpbGVGb3JtYXRFbnVtLkpQRUcsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSW1hZ2VGaWxlRXhwb3J0T3B0aW9uc0ZpbGVGb3JtYXRFbnVtLlBORywgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JbWFnZUZpbGVFeHBvcnRPcHRpb25zRmlsZUZvcm1hdEVudW0uQVVUT19KUEVHX1BORywgXG4gIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSW1hZ2VGaWxlRXhwb3J0T3B0aW9uc0ZpbGVGb3JtYXRFbnVtLk5QWSwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JbWFnZUZpbGVFeHBvcnRPcHRpb25zRmlsZUZvcm1hdEVudW0uR0VPX1RJRkYsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSW1hZ2VGaWxlRXhwb3J0T3B0aW9uc0ZpbGVGb3JtYXRFbnVtLlRGX1JFQ09SRF9JTUFHRSwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JbWFnZUZpbGVFeHBvcnRPcHRpb25zRmlsZUZvcm1hdEVudW0uTVVMVElfQkFORF9JTUFHRV9USUxFLCBcbiAgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JbWFnZUZpbGVFeHBvcnRPcHRpb25zRmlsZUZvcm1hdEVudW0uWklQUEVEX0dFT19USUZGLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkltYWdlRmlsZUV4cG9ydE9wdGlvbnNGaWxlRm9ybWF0RW51bS5aSVBQRURfR0VPX1RJRkZfUEVSX0JBTkRdO1xufX07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LklJbWFnZU1hbmlmZXN0UHlyYW1pZGluZ1BvbGljeUVudW0gPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9JSW1hZ2VNYW5pZmVzdFB5cmFtaWRpbmdQb2xpY3lFbnVtKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSW1hZ2VNYW5pZmVzdFB5cmFtaWRpbmdQb2xpY3lFbnVtID0ge01BWDpcIk1BWFwiLCBNRUFOOlwiTUVBTlwiLCBNRURJQU46XCJNRURJQU5cIiwgTUlOOlwiTUlOXCIsIE1PREU6XCJNT0RFXCIsIFBZUkFNSURJTkdfUE9MSUNZX1VOU1BFQ0lGSUVEOlwiUFlSQU1JRElOR19QT0xJQ1lfVU5TUEVDSUZJRURcIiwgU0FNUExFOlwiU0FNUExFXCIsIHZhbHVlczpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIFttb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkltYWdlTWFuaWZlc3RQeXJhbWlkaW5nUG9saWN5RW51bS5QWVJBTUlESU5HX1BPTElDWV9VTlNQRUNJRklFRCwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JbWFnZU1hbmlmZXN0UHlyYW1pZGluZ1BvbGljeUVudW0uTUVBTiwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JbWFnZU1hbmlmZXN0UHlyYW1pZGluZ1BvbGljeUVudW0uU0FNUExFLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkltYWdlTWFuaWZlc3RQeXJhbWlkaW5nUG9saWN5RW51bS5NSU4sIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSW1hZ2VNYW5pZmVzdFB5cmFtaWRpbmdQb2xpY3lFbnVtLk1BWCwgXG4gIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSW1hZ2VNYW5pZmVzdFB5cmFtaWRpbmdQb2xpY3lFbnVtLk1PREUsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSW1hZ2VNYW5pZmVzdFB5cmFtaWRpbmdQb2xpY3lFbnVtLk1FRElBTl07XG59fTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSU9wZXJhdGlvbk1ldGFkYXRhU3RhdGVFbnVtID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfSU9wZXJhdGlvbk1ldGFkYXRhU3RhdGVFbnVtKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuT3BlcmF0aW9uTWV0YWRhdGFTdGF0ZUVudW0gPSB7Q0FOQ0VMTEVEOlwiQ0FOQ0VMTEVEXCIsIENBTkNFTExJTkc6XCJDQU5DRUxMSU5HXCIsIEZBSUxFRDpcIkZBSUxFRFwiLCBQRU5ESU5HOlwiUEVORElOR1wiLCBSVU5OSU5HOlwiUlVOTklOR1wiLCBTVEFURV9VTlNQRUNJRklFRDpcIlNUQVRFX1VOU1BFQ0lGSUVEXCIsIFNVQ0NFRURFRDpcIlNVQ0NFRURFRFwiLCB2YWx1ZXM6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiBbbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5PcGVyYXRpb25NZXRhZGF0YVN0YXRlRW51bS5TVEFURV9VTlNQRUNJRklFRCwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5PcGVyYXRpb25NZXRhZGF0YVN0YXRlRW51bS5QRU5ESU5HLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50Lk9wZXJhdGlvbk1ldGFkYXRhU3RhdGVFbnVtLlJVTk5JTkcsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuT3BlcmF0aW9uTWV0YWRhdGFTdGF0ZUVudW0uQ0FOQ0VMTElORywgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5PcGVyYXRpb25NZXRhZGF0YVN0YXRlRW51bS5TVUNDRUVERUQsIFxuICBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50Lk9wZXJhdGlvbk1ldGFkYXRhU3RhdGVFbnVtLkNBTkNFTExFRCwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5PcGVyYXRpb25NZXRhZGF0YVN0YXRlRW51bS5GQUlMRURdO1xufX07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LklPcGVyYXRpb25Ob3RpZmljYXRpb25TZXZlcml0eUVudW0gPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9JT3BlcmF0aW9uTm90aWZpY2F0aW9uU2V2ZXJpdHlFbnVtKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuT3BlcmF0aW9uTm90aWZpY2F0aW9uU2V2ZXJpdHlFbnVtID0ge1NFVkVSRTpcIlNFVkVSRVwiLCBTRVZFUklUWV9VTlNQRUNJRklFRDpcIlNFVkVSSVRZX1VOU1BFQ0lGSUVEXCIsIFdBUk5JTkc6XCJXQVJOSU5HXCIsIHZhbHVlczpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIFttb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50Lk9wZXJhdGlvbk5vdGlmaWNhdGlvblNldmVyaXR5RW51bS5TRVZFUklUWV9VTlNQRUNJRklFRCwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5PcGVyYXRpb25Ob3RpZmljYXRpb25TZXZlcml0eUVudW0uV0FSTklORywgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5PcGVyYXRpb25Ob3RpZmljYXRpb25TZXZlcml0eUVudW0uU0VWRVJFXTtcbn19O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JUGl4ZWxEYXRhVHlwZVByZWNpc2lvbkVudW0gPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9JUGl4ZWxEYXRhVHlwZVByZWNpc2lvbkVudW0oKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5QaXhlbERhdGFUeXBlUHJlY2lzaW9uRW51bSA9IHtET1VCTEU6XCJET1VCTEVcIiwgRkxPQVQ6XCJGTE9BVFwiLCBJTlQ6XCJJTlRcIiwgUFJFQ0lTSU9OX1VOU1BFQ0lGSUVEOlwiUFJFQ0lTSU9OX1VOU1BFQ0lGSUVEXCIsIHZhbHVlczpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIFttb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlBpeGVsRGF0YVR5cGVQcmVjaXNpb25FbnVtLlBSRUNJU0lPTl9VTlNQRUNJRklFRCwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5QaXhlbERhdGFUeXBlUHJlY2lzaW9uRW51bS5JTlQsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUGl4ZWxEYXRhVHlwZVByZWNpc2lvbkVudW0uRkxPQVQsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUGl4ZWxEYXRhVHlwZVByZWNpc2lvbkVudW0uRE9VQkxFXTtcbn19O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JUHJvamVjdFJlZ2lzdHJhdGlvbkJpbGxpbmdDb25zZW50RW51bSA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0lQcm9qZWN0UmVnaXN0cmF0aW9uQmlsbGluZ0NvbnNlbnRFbnVtKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdFJlZ2lzdHJhdGlvbkJpbGxpbmdDb25zZW50RW51bSA9IHtCSUxMSU5HX0NPTlNFTlRfRlVMTDpcIkJJTExJTkdfQ09OU0VOVF9GVUxMXCIsIEJJTExJTkdfQ09OU0VOVF9OT05FOlwiQklMTElOR19DT05TRU5UX05PTkVcIiwgQklMTElOR19DT05TRU5UX1VOU1BFQ0lGSUVEOlwiQklMTElOR19DT05TRU5UX1VOU1BFQ0lGSUVEXCIsIHZhbHVlczpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIFttb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RSZWdpc3RyYXRpb25CaWxsaW5nQ29uc2VudEVudW0uQklMTElOR19DT05TRU5UX1VOU1BFQ0lGSUVELCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RSZWdpc3RyYXRpb25CaWxsaW5nQ29uc2VudEVudW0uQklMTElOR19DT05TRU5UX05PTkUsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdFJlZ2lzdHJhdGlvbkJpbGxpbmdDb25zZW50RW51bS5CSUxMSU5HX0NPTlNFTlRfRlVMTF07XG59fTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSVByb2plY3RSZWdpc3RyYXRpb25GcmVlUXVvdGFFbnVtID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfSVByb2plY3RSZWdpc3RyYXRpb25GcmVlUXVvdGFFbnVtKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdFJlZ2lzdHJhdGlvbkZyZWVRdW90YUVudW0gPSB7RlJFRV9RVU9UQV9GVUxMOlwiRlJFRV9RVU9UQV9GVUxMXCIsIEZSRUVfUVVPVEFfTk9ORTpcIkZSRUVfUVVPVEFfTk9ORVwiLCBGUkVFX1FVT1RBX1VOU1BFQ0lGSUVEOlwiRlJFRV9RVU9UQV9VTlNQRUNJRklFRFwiLCB2YWx1ZXM6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiBbbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0UmVnaXN0cmF0aW9uRnJlZVF1b3RhRW51bS5GUkVFX1FVT1RBX1VOU1BFQ0lGSUVELCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RSZWdpc3RyYXRpb25GcmVlUXVvdGFFbnVtLkZSRUVfUVVPVEFfTk9ORSwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0UmVnaXN0cmF0aW9uRnJlZVF1b3RhRW51bS5GUkVFX1FVT1RBX0ZVTExdO1xufX07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LklSYW5rQnlPbmVUaGluZ1J1bGVEaXJlY3Rpb25FbnVtID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfSVJhbmtCeU9uZVRoaW5nUnVsZURpcmVjdGlvbkVudW0oKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5SYW5rQnlPbmVUaGluZ1J1bGVEaXJlY3Rpb25FbnVtID0ge0FTQ0VORElORzpcIkFTQ0VORElOR1wiLCBERVNDRU5ESU5HOlwiREVTQ0VORElOR1wiLCBESVJFQ1RJT05fVU5TUEVDSUZJRUQ6XCJESVJFQ1RJT05fVU5TUEVDSUZJRURcIiwgdmFsdWVzOmZ1bmN0aW9uKCkge1xuICByZXR1cm4gW21vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUmFua0J5T25lVGhpbmdSdWxlRGlyZWN0aW9uRW51bS5ESVJFQ1RJT05fVU5TUEVDSUZJRUQsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUmFua0J5T25lVGhpbmdSdWxlRGlyZWN0aW9uRW51bS5BU0NFTkRJTkcsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUmFua0J5T25lVGhpbmdSdWxlRGlyZWN0aW9uRW51bS5ERVNDRU5ESU5HXTtcbn19O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JUnVsZUFjdGlvbkVudW0gPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9JUnVsZUFjdGlvbkVudW0oKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5SdWxlQWN0aW9uRW51bSA9IHtBTExPVzpcIkFMTE9XXCIsIEFMTE9XX1dJVEhfTE9HOlwiQUxMT1dfV0lUSF9MT0dcIiwgREVOWTpcIkRFTllcIiwgREVOWV9XSVRIX0xPRzpcIkRFTllfV0lUSF9MT0dcIiwgTE9HOlwiTE9HXCIsIE5PX0FDVElPTjpcIk5PX0FDVElPTlwiLCB2YWx1ZXM6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiBbbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5SdWxlQWN0aW9uRW51bS5OT19BQ1RJT04sIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUnVsZUFjdGlvbkVudW0uQUxMT1csIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUnVsZUFjdGlvbkVudW0uQUxMT1dfV0lUSF9MT0csIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUnVsZUFjdGlvbkVudW0uREVOWSwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5SdWxlQWN0aW9uRW51bS5ERU5ZX1dJVEhfTE9HLCBcbiAgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5SdWxlQWN0aW9uRW51bS5MT0ddO1xufX07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LklTY2hlZHVsZWRVcGRhdGVTdWJzY3JpcHRpb25VcGRhdGVUeXBlRW51bSA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0lTY2hlZHVsZWRVcGRhdGVTdWJzY3JpcHRpb25VcGRhdGVUeXBlRW51bSgpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlNjaGVkdWxlZFVwZGF0ZVN1YnNjcmlwdGlvblVwZGF0ZVR5cGVFbnVtID0ge0JBU0lDOlwiQkFTSUNcIiwgTk9fU1VCU0NSSVBUSU9OOlwiTk9fU1VCU0NSSVBUSU9OXCIsIFBSRU1JVU06XCJQUkVNSVVNXCIsIFBST0ZFU1NJT05BTDpcIlBST0ZFU1NJT05BTFwiLCBUWVBFX1VOU1BFQ0lGSUVEOlwiVFlQRV9VTlNQRUNJRklFRFwiLCB2YWx1ZXM6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiBbbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5TY2hlZHVsZWRVcGRhdGVTdWJzY3JpcHRpb25VcGRhdGVUeXBlRW51bS5UWVBFX1VOU1BFQ0lGSUVELCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlNjaGVkdWxlZFVwZGF0ZVN1YnNjcmlwdGlvblVwZGF0ZVR5cGVFbnVtLk5PX1NVQlNDUklQVElPTiwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5TY2hlZHVsZWRVcGRhdGVTdWJzY3JpcHRpb25VcGRhdGVUeXBlRW51bS5CQVNJQywgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5TY2hlZHVsZWRVcGRhdGVTdWJzY3JpcHRpb25VcGRhdGVUeXBlRW51bS5QUk9GRVNTSU9OQUwsIFxuICBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlNjaGVkdWxlZFVwZGF0ZVN1YnNjcmlwdGlvblVwZGF0ZVR5cGVFbnVtLlBSRU1JVU1dO1xufX07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LklTY2hlZHVsZWRVcGRhdGVVcGRhdGVDaGFuZ2VUeXBlRW51bSA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0lTY2hlZHVsZWRVcGRhdGVVcGRhdGVDaGFuZ2VUeXBlRW51bSgpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlNjaGVkdWxlZFVwZGF0ZVVwZGF0ZUNoYW5nZVR5cGVFbnVtID0ge0NIQU5HRV9USU1FX1RZUEVfVU5TUEVDSUZJRUQ6XCJDSEFOR0VfVElNRV9UWVBFX1VOU1BFQ0lGSUVEXCIsIEVBUkxJRVNUX1BPU1NJQkxFOlwiRUFSTElFU1RfUE9TU0lCTEVcIiwgRU5EX09GX1BFUklPRDpcIkVORF9PRl9QRVJJT0RcIiwgdmFsdWVzOmZ1bmN0aW9uKCkge1xuICByZXR1cm4gW21vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuU2NoZWR1bGVkVXBkYXRlVXBkYXRlQ2hhbmdlVHlwZUVudW0uQ0hBTkdFX1RJTUVfVFlQRV9VTlNQRUNJRklFRCwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5TY2hlZHVsZWRVcGRhdGVVcGRhdGVDaGFuZ2VUeXBlRW51bS5FTkRfT0ZfUEVSSU9ELCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlNjaGVkdWxlZFVwZGF0ZVVwZGF0ZUNoYW5nZVR5cGVFbnVtLkVBUkxJRVNUX1BPU1NJQkxFXTtcbn19O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JU3Vic2NyaXB0aW9uU3RhdGVFbnVtID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfSVN1YnNjcmlwdGlvblN0YXRlRW51bSgpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlN1YnNjcmlwdGlvblN0YXRlRW51bSA9IHtBQ1RJVkU6XCJBQ1RJVkVcIiwgQ09NUExFVEVEOlwiQ09NUExFVEVEXCIsIEVSUk9SOlwiRVJST1JcIiwgSU5BQ1RJVkU6XCJJTkFDVElWRVwiLCBTVEFURV9VTlNQRUNJRklFRDpcIlNUQVRFX1VOU1BFQ0lGSUVEXCIsIHZhbHVlczpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIFttb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlN1YnNjcmlwdGlvblN0YXRlRW51bS5TVEFURV9VTlNQRUNJRklFRCwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5TdWJzY3JpcHRpb25TdGF0ZUVudW0uSU5BQ1RJVkUsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuU3Vic2NyaXB0aW9uU3RhdGVFbnVtLkFDVElWRSwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5TdWJzY3JpcHRpb25TdGF0ZUVudW0uQ09NUExFVEVELCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlN1YnNjcmlwdGlvblN0YXRlRW51bS5FUlJPUl07XG59fTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSVN1YnNjcmlwdGlvblRyaWFsU3RhdGVFbnVtID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfSVN1YnNjcmlwdGlvblRyaWFsU3RhdGVFbnVtKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuU3Vic2NyaXB0aW9uVHJpYWxTdGF0ZUVudW0gPSB7QUNUSVZFOlwiQUNUSVZFXCIsIEVYUElSRUQ6XCJFWFBJUkVEXCIsIFNUQVRFX1VOU1BFQ0lGSUVEOlwiU1RBVEVfVU5TUEVDSUZJRURcIiwgdmFsdWVzOmZ1bmN0aW9uKCkge1xuICByZXR1cm4gW21vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuU3Vic2NyaXB0aW9uVHJpYWxTdGF0ZUVudW0uU1RBVEVfVU5TUEVDSUZJRUQsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuU3Vic2NyaXB0aW9uVHJpYWxTdGF0ZUVudW0uQUNUSVZFLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlN1YnNjcmlwdGlvblRyaWFsU3RhdGVFbnVtLkVYUElSRURdO1xufX07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LklTdWJzY3JpcHRpb25UeXBlRW51bSA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0lTdWJzY3JpcHRpb25UeXBlRW51bSgpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlN1YnNjcmlwdGlvblR5cGVFbnVtID0ge0JBU0lDOlwiQkFTSUNcIiwgTk9fU1VCU0NSSVBUSU9OOlwiTk9fU1VCU0NSSVBUSU9OXCIsIFBSRU1JVU06XCJQUkVNSVVNXCIsIFBST0ZFU1NJT05BTDpcIlBST0ZFU1NJT05BTFwiLCBUWVBFX1VOU1BFQ0lGSUVEOlwiVFlQRV9VTlNQRUNJRklFRFwiLCB2YWx1ZXM6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiBbbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5TdWJzY3JpcHRpb25UeXBlRW51bS5UWVBFX1VOU1BFQ0lGSUVELCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlN1YnNjcmlwdGlvblR5cGVFbnVtLk5PX1NVQlNDUklQVElPTiwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5TdWJzY3JpcHRpb25UeXBlRW51bS5CQVNJQywgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5TdWJzY3JpcHRpb25UeXBlRW51bS5QUk9GRVNTSU9OQUwsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuU3Vic2NyaXB0aW9uVHlwZUVudW0uUFJFTUlVTV07XG59fTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSVRhYmxlRmlsZUV4cG9ydE9wdGlvbnNGaWxlRm9ybWF0RW51bSA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0lUYWJsZUZpbGVFeHBvcnRPcHRpb25zRmlsZUZvcm1hdEVudW0oKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UYWJsZUZpbGVFeHBvcnRPcHRpb25zRmlsZUZvcm1hdEVudW0gPSB7Q1NWOlwiQ1NWXCIsIEdFT19KU09OOlwiR0VPX0pTT05cIiwgS01MOlwiS01MXCIsIEtNWjpcIktNWlwiLCBTSFA6XCJTSFBcIiwgVEFCTEVfRklMRV9GT1JNQVRfVU5TUEVDSUZJRUQ6XCJUQUJMRV9GSUxFX0ZPUk1BVF9VTlNQRUNJRklFRFwiLCBURl9SRUNPUkRfVEFCTEU6XCJURl9SRUNPUkRfVEFCTEVcIiwgdmFsdWVzOmZ1bmN0aW9uKCkge1xuICByZXR1cm4gW21vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGFibGVGaWxlRXhwb3J0T3B0aW9uc0ZpbGVGb3JtYXRFbnVtLlRBQkxFX0ZJTEVfRk9STUFUX1VOU1BFQ0lGSUVELCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRhYmxlRmlsZUV4cG9ydE9wdGlvbnNGaWxlRm9ybWF0RW51bS5DU1YsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGFibGVGaWxlRXhwb3J0T3B0aW9uc0ZpbGVGb3JtYXRFbnVtLkdFT19KU09OLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRhYmxlRmlsZUV4cG9ydE9wdGlvbnNGaWxlRm9ybWF0RW51bS5LTUwsIFxuICBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRhYmxlRmlsZUV4cG9ydE9wdGlvbnNGaWxlRm9ybWF0RW51bS5LTVosIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGFibGVGaWxlRXhwb3J0T3B0aW9uc0ZpbGVGb3JtYXRFbnVtLlNIUCwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UYWJsZUZpbGVFeHBvcnRPcHRpb25zRmlsZUZvcm1hdEVudW0uVEZfUkVDT1JEX1RBQkxFXTtcbn19O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JVGFibGVGaWxlRm9ybWF0RW51bSA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0lUYWJsZUZpbGVGb3JtYXRFbnVtKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGFibGVGaWxlRm9ybWF0RW51bSA9IHtDU1Y6XCJDU1ZcIiwgR0VPX0pTT046XCJHRU9fSlNPTlwiLCBLTUw6XCJLTUxcIiwgS01aOlwiS01aXCIsIFNIUDpcIlNIUFwiLCBUQUJMRV9GSUxFX0ZPUk1BVF9VTlNQRUNJRklFRDpcIlRBQkxFX0ZJTEVfRk9STUFUX1VOU1BFQ0lGSUVEXCIsIFRGX1JFQ09SRF9UQUJMRTpcIlRGX1JFQ09SRF9UQUJMRVwiLCB2YWx1ZXM6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiBbbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UYWJsZUZpbGVGb3JtYXRFbnVtLlRBQkxFX0ZJTEVfRk9STUFUX1VOU1BFQ0lGSUVELCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRhYmxlRmlsZUZvcm1hdEVudW0uQ1NWLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRhYmxlRmlsZUZvcm1hdEVudW0uR0VPX0pTT04sIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGFibGVGaWxlRm9ybWF0RW51bS5LTUwsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGFibGVGaWxlRm9ybWF0RW51bS5LTVosIFxuICBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRhYmxlRmlsZUZvcm1hdEVudW0uU0hQLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRhYmxlRmlsZUZvcm1hdEVudW0uVEZfUkVDT1JEX1RBQkxFXTtcbn19O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JVGFibGVNYW5pZmVzdENvbHVtbkRhdGFUeXBlT3ZlcnJpZGVzRW51bSA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0lUYWJsZU1hbmlmZXN0Q29sdW1uRGF0YVR5cGVPdmVycmlkZXNFbnVtKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGFibGVNYW5pZmVzdENvbHVtbkRhdGFUeXBlT3ZlcnJpZGVzRW51bSA9IHtDT0xVTU5fREFUQV9UWVBFX0xPTkc6XCJDT0xVTU5fREFUQV9UWVBFX0xPTkdcIiwgQ09MVU1OX0RBVEFfVFlQRV9OVU1FUklDOlwiQ09MVU1OX0RBVEFfVFlQRV9OVU1FUklDXCIsIENPTFVNTl9EQVRBX1RZUEVfU1RSSU5HOlwiQ09MVU1OX0RBVEFfVFlQRV9TVFJJTkdcIiwgQ09MVU1OX0RBVEFfVFlQRV9VTlNQRUNJRklFRDpcIkNPTFVNTl9EQVRBX1RZUEVfVU5TUEVDSUZJRURcIiwgdmFsdWVzOmZ1bmN0aW9uKCkge1xuICByZXR1cm4gW21vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGFibGVNYW5pZmVzdENvbHVtbkRhdGFUeXBlT3ZlcnJpZGVzRW51bS5DT0xVTU5fREFUQV9UWVBFX1VOU1BFQ0lGSUVELCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRhYmxlTWFuaWZlc3RDb2x1bW5EYXRhVHlwZU92ZXJyaWRlc0VudW0uQ09MVU1OX0RBVEFfVFlQRV9TVFJJTkcsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGFibGVNYW5pZmVzdENvbHVtbkRhdGFUeXBlT3ZlcnJpZGVzRW51bS5DT0xVTU5fREFUQV9UWVBFX05VTUVSSUMsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGFibGVNYW5pZmVzdENvbHVtbkRhdGFUeXBlT3ZlcnJpZGVzRW51bS5DT0xVTU5fREFUQV9UWVBFX0xPTkddO1xufX07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LklUYWJsZU1hbmlmZXN0Q3N2Q29sdW1uRGF0YVR5cGVPdmVycmlkZXNFbnVtID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfSVRhYmxlTWFuaWZlc3RDc3ZDb2x1bW5EYXRhVHlwZU92ZXJyaWRlc0VudW0oKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UYWJsZU1hbmlmZXN0Q3N2Q29sdW1uRGF0YVR5cGVPdmVycmlkZXNFbnVtID0ge0NTVl9DT0xVTU5fREFUQV9UWVBFX0xPTkc6XCJDU1ZfQ09MVU1OX0RBVEFfVFlQRV9MT05HXCIsIENTVl9DT0xVTU5fREFUQV9UWVBFX05VTUVSSUM6XCJDU1ZfQ09MVU1OX0RBVEFfVFlQRV9OVU1FUklDXCIsIENTVl9DT0xVTU5fREFUQV9UWVBFX1NUUklORzpcIkNTVl9DT0xVTU5fREFUQV9UWVBFX1NUUklOR1wiLCBDU1ZfQ09MVU1OX0RBVEFfVFlQRV9VTlNQRUNJRklFRDpcIkNTVl9DT0xVTU5fREFUQV9UWVBFX1VOU1BFQ0lGSUVEXCIsIHZhbHVlczpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIFttb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRhYmxlTWFuaWZlc3RDc3ZDb2x1bW5EYXRhVHlwZU92ZXJyaWRlc0VudW0uQ1NWX0NPTFVNTl9EQVRBX1RZUEVfVU5TUEVDSUZJRUQsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGFibGVNYW5pZmVzdENzdkNvbHVtbkRhdGFUeXBlT3ZlcnJpZGVzRW51bS5DU1ZfQ09MVU1OX0RBVEFfVFlQRV9TVFJJTkcsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGFibGVNYW5pZmVzdENzdkNvbHVtbkRhdGFUeXBlT3ZlcnJpZGVzRW51bS5DU1ZfQ09MVU1OX0RBVEFfVFlQRV9OVU1FUklDLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRhYmxlTWFuaWZlc3RDc3ZDb2x1bW5EYXRhVHlwZU92ZXJyaWRlc0VudW0uQ1NWX0NPTFVNTl9EQVRBX1RZUEVfTE9OR107XG59fTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSVRlcm1pbmF0ZVN1YnNjcmlwdGlvblJlcXVlc3RUZXJtaW5hdGlvblR5cGVFbnVtID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfSVRlcm1pbmF0ZVN1YnNjcmlwdGlvblJlcXVlc3RUZXJtaW5hdGlvblR5cGVFbnVtKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGVybWluYXRlU3Vic2NyaXB0aW9uUmVxdWVzdFRlcm1pbmF0aW9uVHlwZUVudW0gPSB7Q0hBTkdFX1RJTUVfVFlQRV9VTlNQRUNJRklFRDpcIkNIQU5HRV9USU1FX1RZUEVfVU5TUEVDSUZJRURcIiwgRUFSTElFU1RfUE9TU0lCTEU6XCJFQVJMSUVTVF9QT1NTSUJMRVwiLCBFTkRfT0ZfUEVSSU9EOlwiRU5EX09GX1BFUklPRFwiLCB2YWx1ZXM6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiBbbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UZXJtaW5hdGVTdWJzY3JpcHRpb25SZXF1ZXN0VGVybWluYXRpb25UeXBlRW51bS5DSEFOR0VfVElNRV9UWVBFX1VOU1BFQ0lGSUVELCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRlcm1pbmF0ZVN1YnNjcmlwdGlvblJlcXVlc3RUZXJtaW5hdGlvblR5cGVFbnVtLkVORF9PRl9QRVJJT0QsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGVybWluYXRlU3Vic2NyaXB0aW9uUmVxdWVzdFRlcm1pbmF0aW9uVHlwZUVudW0uRUFSTElFU1RfUE9TU0lCTEVdO1xufX07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LklUaGlubmluZ09wdGlvbnNUaGlubmluZ1N0cmF0ZWd5RW51bSA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0lUaGlubmluZ09wdGlvbnNUaGlubmluZ1N0cmF0ZWd5RW51bSgpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRoaW5uaW5nT3B0aW9uc1RoaW5uaW5nU3RyYXRlZ3lFbnVtID0ge0dMT0JBTExZX0NPTlNJU1RFTlQ6XCJHTE9CQUxMWV9DT05TSVNURU5UXCIsIEhJR0hFUl9ERU5TSVRZOlwiSElHSEVSX0RFTlNJVFlcIiwgVU5LTk9XTl9USElOTklOR19TVFJBVEVHWTpcIlVOS05PV05fVEhJTk5JTkdfU1RSQVRFR1lcIiwgdmFsdWVzOmZ1bmN0aW9uKCkge1xuICByZXR1cm4gW21vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGhpbm5pbmdPcHRpb25zVGhpbm5pbmdTdHJhdGVneUVudW0uVU5LTk9XTl9USElOTklOR19TVFJBVEVHWSwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UaGlubmluZ09wdGlvbnNUaGlubmluZ1N0cmF0ZWd5RW51bS5HTE9CQUxMWV9DT05TSVNURU5ULCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRoaW5uaW5nT3B0aW9uc1RoaW5uaW5nU3RyYXRlZ3lFbnVtLkhJR0hFUl9ERU5TSVRZXTtcbn19O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JVGh1bWJuYWlsRmlsZUZvcm1hdEVudW0gPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9JVGh1bWJuYWlsRmlsZUZvcm1hdEVudW0oKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UaHVtYm5haWxGaWxlRm9ybWF0RW51bSA9IHtBVVRPX0pQRUdfUE5HOlwiQVVUT19KUEVHX1BOR1wiLCBHRU9fVElGRjpcIkdFT19USUZGXCIsIElNQUdFX0ZJTEVfRk9STUFUX1VOU1BFQ0lGSUVEOlwiSU1BR0VfRklMRV9GT1JNQVRfVU5TUEVDSUZJRURcIiwgSlBFRzpcIkpQRUdcIiwgTVVMVElfQkFORF9JTUFHRV9USUxFOlwiTVVMVElfQkFORF9JTUFHRV9USUxFXCIsIE5QWTpcIk5QWVwiLCBQTkc6XCJQTkdcIiwgVEZfUkVDT1JEX0lNQUdFOlwiVEZfUkVDT1JEX0lNQUdFXCIsIFpJUFBFRF9HRU9fVElGRjpcIlpJUFBFRF9HRU9fVElGRlwiLCBaSVBQRURfR0VPX1RJRkZfUEVSX0JBTkQ6XCJaSVBQRURfR0VPX1RJRkZfUEVSX0JBTkRcIiwgdmFsdWVzOmZ1bmN0aW9uKCkge1xuICByZXR1cm4gW21vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGh1bWJuYWlsRmlsZUZvcm1hdEVudW0uSU1BR0VfRklMRV9GT1JNQVRfVU5TUEVDSUZJRUQsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGh1bWJuYWlsRmlsZUZvcm1hdEVudW0uSlBFRywgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UaHVtYm5haWxGaWxlRm9ybWF0RW51bS5QTkcsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGh1bWJuYWlsRmlsZUZvcm1hdEVudW0uQVVUT19KUEVHX1BORywgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UaHVtYm5haWxGaWxlRm9ybWF0RW51bS5OUFksIFxuICBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRodW1ibmFpbEZpbGVGb3JtYXRFbnVtLkdFT19USUZGLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRodW1ibmFpbEZpbGVGb3JtYXRFbnVtLlRGX1JFQ09SRF9JTUFHRSwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UaHVtYm5haWxGaWxlRm9ybWF0RW51bS5NVUxUSV9CQU5EX0lNQUdFX1RJTEUsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGh1bWJuYWlsRmlsZUZvcm1hdEVudW0uWklQUEVEX0dFT19USUZGLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRodW1ibmFpbEZpbGVGb3JtYXRFbnVtLlpJUFBFRF9HRU9fVElGRl9QRVJfQkFORF07XG59fTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSVRpbGVzZXRCYW5kUHlyYW1pZGluZ1BvbGljeUVudW0gPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9JVGlsZXNldEJhbmRQeXJhbWlkaW5nUG9saWN5RW51bSgpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRpbGVzZXRCYW5kUHlyYW1pZGluZ1BvbGljeUVudW0gPSB7TUFYOlwiTUFYXCIsIE1FQU46XCJNRUFOXCIsIE1FRElBTjpcIk1FRElBTlwiLCBNSU46XCJNSU5cIiwgTU9ERTpcIk1PREVcIiwgUFlSQU1JRElOR19QT0xJQ1lfVU5TUEVDSUZJRUQ6XCJQWVJBTUlESU5HX1BPTElDWV9VTlNQRUNJRklFRFwiLCBTQU1QTEU6XCJTQU1QTEVcIiwgdmFsdWVzOmZ1bmN0aW9uKCkge1xuICByZXR1cm4gW21vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGlsZXNldEJhbmRQeXJhbWlkaW5nUG9saWN5RW51bS5QWVJBTUlESU5HX1BPTElDWV9VTlNQRUNJRklFRCwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UaWxlc2V0QmFuZFB5cmFtaWRpbmdQb2xpY3lFbnVtLk1FQU4sIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGlsZXNldEJhbmRQeXJhbWlkaW5nUG9saWN5RW51bS5TQU1QTEUsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGlsZXNldEJhbmRQeXJhbWlkaW5nUG9saWN5RW51bS5NSU4sIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGlsZXNldEJhbmRQeXJhbWlkaW5nUG9saWN5RW51bS5NQVgsIFxuICBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRpbGVzZXRCYW5kUHlyYW1pZGluZ1BvbGljeUVudW0uTU9ERSwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UaWxlc2V0QmFuZFB5cmFtaWRpbmdQb2xpY3lFbnVtLk1FRElBTl07XG59fTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSVRpbGVzZXREYXRhVHlwZUVudW0gPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9JVGlsZXNldERhdGFUeXBlRW51bSgpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRpbGVzZXREYXRhVHlwZUVudW0gPSB7REFUQV9UWVBFX1VOU1BFQ0lGSUVEOlwiREFUQV9UWVBFX1VOU1BFQ0lGSUVEXCIsIERPVUJMRTpcIkRPVUJMRVwiLCBGTE9BVDpcIkZMT0FUXCIsIElOVDE2OlwiSU5UMTZcIiwgSU5UMzI6XCJJTlQzMlwiLCBJTlQ4OlwiSU5UOFwiLCBVSU5UMTY6XCJVSU5UMTZcIiwgVUlOVDMyOlwiVUlOVDMyXCIsIFVJTlQ4OlwiVUlOVDhcIiwgdmFsdWVzOmZ1bmN0aW9uKCkge1xuICByZXR1cm4gW21vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGlsZXNldERhdGFUeXBlRW51bS5EQVRBX1RZUEVfVU5TUEVDSUZJRUQsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGlsZXNldERhdGFUeXBlRW51bS5JTlQ4LCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRpbGVzZXREYXRhVHlwZUVudW0uVUlOVDgsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGlsZXNldERhdGFUeXBlRW51bS5JTlQxNiwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UaWxlc2V0RGF0YVR5cGVFbnVtLlVJTlQxNiwgXG4gIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGlsZXNldERhdGFUeXBlRW51bS5JTlQzMiwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UaWxlc2V0RGF0YVR5cGVFbnVtLlVJTlQzMiwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UaWxlc2V0RGF0YVR5cGVFbnVtLkZMT0FULCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRpbGVzZXREYXRhVHlwZUVudW0uRE9VQkxFXTtcbn19O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JVHJpYWxTdGF0dXNFbGlnaWJpbGl0eUVudW0gPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9JVHJpYWxTdGF0dXNFbGlnaWJpbGl0eUVudW0oKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UcmlhbFN0YXR1c0VsaWdpYmlsaXR5RW51bSA9IHtBTFJFQURZX0VWQUxVQVRFRDpcIkFMUkVBRFlfRVZBTFVBVEVEXCIsIEVMSUdJQklMSVRZX1VOU1BFQ0lGSUVEOlwiRUxJR0lCSUxJVFlfVU5TUEVDSUZJRURcIiwgRUxJR0lCTEU6XCJFTElHSUJMRVwiLCBOT19CSUxMSU5HX0FDQ09VTlQ6XCJOT19CSUxMSU5HX0FDQ09VTlRcIiwgUkVERUVNRUQ6XCJSRURFRU1FRFwiLCB2YWx1ZXM6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiBbbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UcmlhbFN0YXR1c0VsaWdpYmlsaXR5RW51bS5FTElHSUJJTElUWV9VTlNQRUNJRklFRCwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UcmlhbFN0YXR1c0VsaWdpYmlsaXR5RW51bS5FTElHSUJMRSwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UcmlhbFN0YXR1c0VsaWdpYmlsaXR5RW51bS5SRURFRU1FRCwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UcmlhbFN0YXR1c0VsaWdpYmlsaXR5RW51bS5BTFJFQURZX0VWQUxVQVRFRCwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UcmlhbFN0YXR1c0VsaWdpYmlsaXR5RW51bS5OT19CSUxMSU5HX0FDQ09VTlRdO1xufX07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LklUcmlhbFN0YXR1c1N0YXRlRW51bSA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0lUcmlhbFN0YXR1c1N0YXRlRW51bSgpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRyaWFsU3RhdHVzU3RhdGVFbnVtID0ge0FDVElWRTpcIkFDVElWRVwiLCBFWFBJUkVEOlwiRVhQSVJFRFwiLCBTVEFURV9VTlNQRUNJRklFRDpcIlNUQVRFX1VOU1BFQ0lGSUVEXCIsIHZhbHVlczpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIFttb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRyaWFsU3RhdHVzU3RhdGVFbnVtLlNUQVRFX1VOU1BFQ0lGSUVELCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRyaWFsU3RhdHVzU3RhdGVFbnVtLkFDVElWRSwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UcmlhbFN0YXR1c1N0YXRlRW51bS5FWFBJUkVEXTtcbn19O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JVmlkZW9GaWxlRXhwb3J0T3B0aW9uc0ZpbGVGb3JtYXRFbnVtID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfSVZpZGVvRmlsZUV4cG9ydE9wdGlvbnNGaWxlRm9ybWF0RW51bSgpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlZpZGVvRmlsZUV4cG9ydE9wdGlvbnNGaWxlRm9ybWF0RW51bSA9IHtHSUY6XCJHSUZcIiwgTVA0OlwiTVA0XCIsIFZJREVPX0ZJTEVfRk9STUFUX1VOU1BFQ0lGSUVEOlwiVklERU9fRklMRV9GT1JNQVRfVU5TUEVDSUZJRURcIiwgVlA5OlwiVlA5XCIsIHZhbHVlczpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIFttb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlZpZGVvRmlsZUV4cG9ydE9wdGlvbnNGaWxlRm9ybWF0RW51bS5WSURFT19GSUxFX0ZPUk1BVF9VTlNQRUNJRklFRCwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5WaWRlb0ZpbGVFeHBvcnRPcHRpb25zRmlsZUZvcm1hdEVudW0uTVA0LCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlZpZGVvRmlsZUV4cG9ydE9wdGlvbnNGaWxlRm9ybWF0RW51bS5HSUYsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVmlkZW9GaWxlRXhwb3J0T3B0aW9uc0ZpbGVGb3JtYXRFbnVtLlZQOV07XG59fTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSVZpZGVvVGh1bWJuYWlsRmlsZUZvcm1hdEVudW0gPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9JVmlkZW9UaHVtYm5haWxGaWxlRm9ybWF0RW51bSgpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlZpZGVvVGh1bWJuYWlsRmlsZUZvcm1hdEVudW0gPSB7R0lGOlwiR0lGXCIsIE1QNDpcIk1QNFwiLCBWSURFT19GSUxFX0ZPUk1BVF9VTlNQRUNJRklFRDpcIlZJREVPX0ZJTEVfRk9STUFUX1VOU1BFQ0lGSUVEXCIsIFZQOTpcIlZQOVwiLCB2YWx1ZXM6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiBbbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5WaWRlb1RodW1ibmFpbEZpbGVGb3JtYXRFbnVtLlZJREVPX0ZJTEVfRk9STUFUX1VOU1BFQ0lGSUVELCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlZpZGVvVGh1bWJuYWlsRmlsZUZvcm1hdEVudW0uTVA0LCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlZpZGVvVGh1bWJuYWlsRmlsZUZvcm1hdEVudW0uR0lGLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlZpZGVvVGh1bWJuYWlsRmlsZUZvcm1hdEVudW0uVlA5XTtcbn19O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5BZmZpbmVUcmFuc2Zvcm1QYXJhbWV0ZXJzID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfQWZmaW5lVHJhbnNmb3JtUGFyYW1ldGVycygpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkFmZmluZVRyYW5zZm9ybSA9IGZ1bmN0aW9uKHBhcmFtZXRlcnMpIHtcbiAgcGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFyYW1ldGVycyA/IHt9IDogcGFyYW1ldGVycztcbiAgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUuY2FsbCh0aGlzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwic2NhbGVYXCIsIG51bGwgPT0gcGFyYW1ldGVycy5zY2FsZVggPyBudWxsIDogcGFyYW1ldGVycy5zY2FsZVgpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJzaGVhclhcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLnNoZWFyWCA/IG51bGwgOiBwYXJhbWV0ZXJzLnNoZWFyWCk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInRyYW5zbGF0ZVhcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLnRyYW5zbGF0ZVggPyBudWxsIDogcGFyYW1ldGVycy50cmFuc2xhdGVYKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwic2hlYXJZXCIsIG51bGwgPT0gcGFyYW1ldGVycy5zaGVhclkgPyBudWxsIDogcGFyYW1ldGVycy5zaGVhclkpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJzY2FsZVlcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLnNjYWxlWSA/IG51bGwgOiBwYXJhbWV0ZXJzLnNjYWxlWSk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInRyYW5zbGF0ZVlcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLnRyYW5zbGF0ZVkgPyBudWxsIDogcGFyYW1ldGVycy50cmFuc2xhdGVZKTtcbn07XG4kanNjb21wLmluaGVyaXRzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQWZmaW5lVHJhbnNmb3JtLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkFmZmluZVRyYW5zZm9ybS5wcm90b3R5cGUuZ2V0Q29uc3RydWN0b3IgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQWZmaW5lVHJhbnNmb3JtO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQWZmaW5lVHJhbnNmb3JtLnByb3RvdHlwZS5nZXRQYXJ0aWFsQ2xhc3NNZXRhZGF0YSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge2tleXM6XCJzY2FsZVggc2NhbGVZIHNoZWFyWCBzaGVhclkgdHJhbnNsYXRlWCB0cmFuc2xhdGVZXCIuc3BsaXQoXCIgXCIpfTtcbn07XG4kanNjb21wLmdsb2JhbC5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkFmZmluZVRyYW5zZm9ybS5wcm90b3R5cGUsIHtzY2FsZVg6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwic2NhbGVYXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwic2NhbGVYXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJzY2FsZVhcIiwgdmFsdWUpO1xufX0sIHNjYWxlWTp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJzY2FsZVlcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJzY2FsZVlcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInNjYWxlWVwiLCB2YWx1ZSk7XG59fSwgc2hlYXJYOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcInNoZWFyWFwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInNoZWFyWFwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwic2hlYXJYXCIsIHZhbHVlKTtcbn19LCBzaGVhclk6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwic2hlYXJZXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwic2hlYXJZXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJzaGVhcllcIiwgdmFsdWUpO1xufX0sIHRyYW5zbGF0ZVg6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwidHJhbnNsYXRlWFwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInRyYW5zbGF0ZVhcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInRyYW5zbGF0ZVhcIiwgdmFsdWUpO1xufX0sIHRyYW5zbGF0ZVk6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwidHJhbnNsYXRlWVwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInRyYW5zbGF0ZVlcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInRyYW5zbGF0ZVlcIiwgdmFsdWUpO1xufX19KTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQWxnb3JpdGhtUGFyYW1ldGVycyA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0FsZ29yaXRobVBhcmFtZXRlcnMoKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5BbGdvcml0aG0gPSBmdW5jdGlvbihwYXJhbWV0ZXJzKSB7XG4gIHBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IHBhcmFtZXRlcnMgPyB7fSA6IHBhcmFtZXRlcnM7XG4gIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlLmNhbGwodGhpcyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcIm5hbWVcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLm5hbWUgPyBudWxsIDogcGFyYW1ldGVycy5uYW1lKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZGVzY3JpcHRpb25cIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmRlc2NyaXB0aW9uID8gbnVsbCA6IHBhcmFtZXRlcnMuZGVzY3JpcHRpb24pO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJyZXR1cm5UeXBlXCIsIG51bGwgPT0gcGFyYW1ldGVycy5yZXR1cm5UeXBlID8gbnVsbCA6IHBhcmFtZXRlcnMucmV0dXJuVHlwZSk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImFyZ3VtZW50c1wiLCBudWxsID09IHBhcmFtZXRlcnMuYXJndW1lbnRzID8gbnVsbCA6IHBhcmFtZXRlcnMuYXJndW1lbnRzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZGVwcmVjYXRlZFwiLCBudWxsID09IHBhcmFtZXRlcnMuZGVwcmVjYXRlZCA/IG51bGwgOiBwYXJhbWV0ZXJzLmRlcHJlY2F0ZWQpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJkZXByZWNhdGlvblJlYXNvblwiLCBudWxsID09IHBhcmFtZXRlcnMuZGVwcmVjYXRpb25SZWFzb24gPyBudWxsIDogcGFyYW1ldGVycy5kZXByZWNhdGlvblJlYXNvbik7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImhpZGRlblwiLCBudWxsID09IHBhcmFtZXRlcnMuaGlkZGVuID8gbnVsbCA6IHBhcmFtZXRlcnMuaGlkZGVuKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwicHJldmlld1wiLCBudWxsID09IHBhcmFtZXRlcnMucHJldmlldyA/IG51bGwgOiBwYXJhbWV0ZXJzLnByZXZpZXcpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJzb3VyY2VDb2RlVXJpXCIsIG51bGwgPT0gcGFyYW1ldGVycy5zb3VyY2VDb2RlVXJpID8gbnVsbCA6IHBhcmFtZXRlcnMuc291cmNlQ29kZVVyaSk7XG59O1xuJGpzY29tcC5pbmhlcml0cyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkFsZ29yaXRobSwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUpO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5BbGdvcml0aG0ucHJvdG90eXBlLmdldENvbnN0cnVjdG9yID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkFsZ29yaXRobTtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkFsZ29yaXRobS5wcm90b3R5cGUuZ2V0UGFydGlhbENsYXNzTWV0YWRhdGEgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHthcnJheXM6e2FyZ3VtZW50czptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkFsZ29yaXRobUFyZ3VtZW50fSwga2V5czpcImFyZ3VtZW50cyBkZXByZWNhdGVkIGRlcHJlY2F0aW9uUmVhc29uIGRlc2NyaXB0aW9uIGhpZGRlbiBuYW1lIHByZXZpZXcgcmV0dXJuVHlwZSBzb3VyY2VDb2RlVXJpXCIuc3BsaXQoXCIgXCIpfTtcbn07XG4kanNjb21wLmdsb2JhbC5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkFsZ29yaXRobS5wcm90b3R5cGUsIHthcmd1bWVudHM6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiYXJndW1lbnRzXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiYXJndW1lbnRzXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJhcmd1bWVudHNcIiwgdmFsdWUpO1xufX0sIGRlcHJlY2F0ZWQ6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiZGVwcmVjYXRlZFwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImRlcHJlY2F0ZWRcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImRlcHJlY2F0ZWRcIiwgdmFsdWUpO1xufX0sIGRlcHJlY2F0aW9uUmVhc29uOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImRlcHJlY2F0aW9uUmVhc29uXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiZGVwcmVjYXRpb25SZWFzb25cIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImRlcHJlY2F0aW9uUmVhc29uXCIsIHZhbHVlKTtcbn19LCBkZXNjcmlwdGlvbjp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJkZXNjcmlwdGlvblwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImRlc2NyaXB0aW9uXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJkZXNjcmlwdGlvblwiLCB2YWx1ZSk7XG59fSwgaGlkZGVuOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImhpZGRlblwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImhpZGRlblwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiaGlkZGVuXCIsIHZhbHVlKTtcbn19LCBuYW1lOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcIm5hbWVcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJuYW1lXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJuYW1lXCIsIHZhbHVlKTtcbn19LCBwcmV2aWV3Ontjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcInByZXZpZXdcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJwcmV2aWV3XCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJwcmV2aWV3XCIsIHZhbHVlKTtcbn19LCByZXR1cm5UeXBlOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcInJldHVyblR5cGVcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJyZXR1cm5UeXBlXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJyZXR1cm5UeXBlXCIsIHZhbHVlKTtcbn19LCBzb3VyY2VDb2RlVXJpOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcInNvdXJjZUNvZGVVcmlcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJzb3VyY2VDb2RlVXJpXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJzb3VyY2VDb2RlVXJpXCIsIHZhbHVlKTtcbn19fSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkFsZ29yaXRobUFyZ3VtZW50UGFyYW1ldGVycyA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0FsZ29yaXRobUFyZ3VtZW50UGFyYW1ldGVycygpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkFsZ29yaXRobUFyZ3VtZW50ID0gZnVuY3Rpb24ocGFyYW1ldGVycykge1xuICBwYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXJhbWV0ZXJzID8ge30gOiBwYXJhbWV0ZXJzO1xuICBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZS5jYWxsKHRoaXMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJhcmd1bWVudE5hbWVcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmFyZ3VtZW50TmFtZSA/IG51bGwgOiBwYXJhbWV0ZXJzLmFyZ3VtZW50TmFtZSk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInR5cGVcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLnR5cGUgPyBudWxsIDogcGFyYW1ldGVycy50eXBlKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZGVzY3JpcHRpb25cIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmRlc2NyaXB0aW9uID8gbnVsbCA6IHBhcmFtZXRlcnMuZGVzY3JpcHRpb24pO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJvcHRpb25hbFwiLCBudWxsID09IHBhcmFtZXRlcnMub3B0aW9uYWwgPyBudWxsIDogcGFyYW1ldGVycy5vcHRpb25hbCk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImRlZmF1bHRWYWx1ZVwiLCBudWxsID09IHBhcmFtZXRlcnMuZGVmYXVsdFZhbHVlID8gbnVsbCA6IHBhcmFtZXRlcnMuZGVmYXVsdFZhbHVlKTtcbn07XG4kanNjb21wLmluaGVyaXRzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQWxnb3JpdGhtQXJndW1lbnQsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlKTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQWxnb3JpdGhtQXJndW1lbnQucHJvdG90eXBlLmdldENvbnN0cnVjdG9yID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkFsZ29yaXRobUFyZ3VtZW50O1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQWxnb3JpdGhtQXJndW1lbnQucHJvdG90eXBlLmdldFBhcnRpYWxDbGFzc01ldGFkYXRhID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7a2V5czpbXCJhcmd1bWVudE5hbWVcIiwgXCJkZWZhdWx0VmFsdWVcIiwgXCJkZXNjcmlwdGlvblwiLCBcIm9wdGlvbmFsXCIsIFwidHlwZVwiXX07XG59O1xuJGpzY29tcC5nbG9iYWwuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5BbGdvcml0aG1Bcmd1bWVudC5wcm90b3R5cGUsIHthcmd1bWVudE5hbWU6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiYXJndW1lbnROYW1lXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiYXJndW1lbnROYW1lXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJhcmd1bWVudE5hbWVcIiwgdmFsdWUpO1xufX0sIGRlZmF1bHRWYWx1ZTp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJkZWZhdWx0VmFsdWVcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJkZWZhdWx0VmFsdWVcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImRlZmF1bHRWYWx1ZVwiLCB2YWx1ZSk7XG59fSwgZGVzY3JpcHRpb246e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiZGVzY3JpcHRpb25cIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJkZXNjcmlwdGlvblwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZGVzY3JpcHRpb25cIiwgdmFsdWUpO1xufX0sIG9wdGlvbmFsOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcIm9wdGlvbmFsXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwib3B0aW9uYWxcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcIm9wdGlvbmFsXCIsIHZhbHVlKTtcbn19LCB0eXBlOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcInR5cGVcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJ0eXBlXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJ0eXBlXCIsIHZhbHVlKTtcbn19fSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkFwcGVhbFJlc3RyaWN0aW9uUmVxdWVzdFBhcmFtZXRlcnMgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9BcHBlYWxSZXN0cmljdGlvblJlcXVlc3RQYXJhbWV0ZXJzKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQXBwZWFsUmVzdHJpY3Rpb25SZXF1ZXN0ID0gZnVuY3Rpb24ocGFyYW1ldGVycykge1xuICBwYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXJhbWV0ZXJzID8ge30gOiBwYXJhbWV0ZXJzO1xuICBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZS5jYWxsKHRoaXMpO1xufTtcbiRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5BcHBlYWxSZXN0cmljdGlvblJlcXVlc3QsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlKTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQXBwZWFsUmVzdHJpY3Rpb25SZXF1ZXN0LnByb3RvdHlwZS5nZXRDb25zdHJ1Y3RvciA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5BcHBlYWxSZXN0cmljdGlvblJlcXVlc3Q7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5BcHBlYWxSZXN0cmljdGlvblJlcXVlc3QucHJvdG90eXBlLmdldFBhcnRpYWxDbGFzc01ldGFkYXRhID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7a2V5czpbXX07XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5BcnJheVZhbHVlUGFyYW1ldGVycyA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0FycmF5VmFsdWVQYXJhbWV0ZXJzKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQXJyYXlWYWx1ZSA9IGZ1bmN0aW9uKHBhcmFtZXRlcnMpIHtcbiAgcGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFyYW1ldGVycyA/IHt9IDogcGFyYW1ldGVycztcbiAgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUuY2FsbCh0aGlzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwidmFsdWVzXCIsIG51bGwgPT0gcGFyYW1ldGVycy52YWx1ZXMgPyBudWxsIDogcGFyYW1ldGVycy52YWx1ZXMpO1xufTtcbiRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5BcnJheVZhbHVlLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkFycmF5VmFsdWUucHJvdG90eXBlLmdldENvbnN0cnVjdG9yID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkFycmF5VmFsdWU7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5BcnJheVZhbHVlLnByb3RvdHlwZS5nZXRQYXJ0aWFsQ2xhc3NNZXRhZGF0YSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge2FycmF5czp7dmFsdWVzOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVmFsdWVOb2RlfSwga2V5czpbXCJ2YWx1ZXNcIl19O1xufTtcbiRqc2NvbXAuZ2xvYmFsLk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQXJyYXlWYWx1ZS5wcm90b3R5cGUsIHt2YWx1ZXM6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwidmFsdWVzXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwidmFsdWVzXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJ2YWx1ZXNcIiwgdmFsdWUpO1xufX19KTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQXVkaXRDb25maWdQYXJhbWV0ZXJzID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfQXVkaXRDb25maWdQYXJhbWV0ZXJzKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQXVkaXRDb25maWcgPSBmdW5jdGlvbihwYXJhbWV0ZXJzKSB7XG4gIHBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IHBhcmFtZXRlcnMgPyB7fSA6IHBhcmFtZXRlcnM7XG4gIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlLmNhbGwodGhpcyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInNlcnZpY2VcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLnNlcnZpY2UgPyBudWxsIDogcGFyYW1ldGVycy5zZXJ2aWNlKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiYXVkaXRMb2dDb25maWdzXCIsIG51bGwgPT0gcGFyYW1ldGVycy5hdWRpdExvZ0NvbmZpZ3MgPyBudWxsIDogcGFyYW1ldGVycy5hdWRpdExvZ0NvbmZpZ3MpO1xufTtcbiRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5BdWRpdENvbmZpZywgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUpO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5BdWRpdENvbmZpZy5wcm90b3R5cGUuZ2V0Q29uc3RydWN0b3IgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQXVkaXRDb25maWc7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5BdWRpdENvbmZpZy5wcm90b3R5cGUuZ2V0UGFydGlhbENsYXNzTWV0YWRhdGEgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHthcnJheXM6e2F1ZGl0TG9nQ29uZmlnczptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkF1ZGl0TG9nQ29uZmlnfSwga2V5czpbXCJhdWRpdExvZ0NvbmZpZ3NcIiwgXCJzZXJ2aWNlXCJdfTtcbn07XG4kanNjb21wLmdsb2JhbC5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkF1ZGl0Q29uZmlnLnByb3RvdHlwZSwge2F1ZGl0TG9nQ29uZmlnczp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJhdWRpdExvZ0NvbmZpZ3NcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJhdWRpdExvZ0NvbmZpZ3NcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImF1ZGl0TG9nQ29uZmlnc1wiLCB2YWx1ZSk7XG59fSwgc2VydmljZTp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJzZXJ2aWNlXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwic2VydmljZVwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwic2VydmljZVwiLCB2YWx1ZSk7XG59fX0pO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5BdWRpdExvZ0NvbmZpZ1BhcmFtZXRlcnMgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9BdWRpdExvZ0NvbmZpZ1BhcmFtZXRlcnMoKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5BdWRpdExvZ0NvbmZpZyA9IGZ1bmN0aW9uKHBhcmFtZXRlcnMpIHtcbiAgcGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFyYW1ldGVycyA/IHt9IDogcGFyYW1ldGVycztcbiAgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUuY2FsbCh0aGlzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwibG9nVHlwZVwiLCBudWxsID09IHBhcmFtZXRlcnMubG9nVHlwZSA/IG51bGwgOiBwYXJhbWV0ZXJzLmxvZ1R5cGUpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJleGVtcHRlZE1lbWJlcnNcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmV4ZW1wdGVkTWVtYmVycyA/IG51bGwgOiBwYXJhbWV0ZXJzLmV4ZW1wdGVkTWVtYmVycyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImlnbm9yZUNoaWxkRXhlbXB0aW9uc1wiLCBudWxsID09IHBhcmFtZXRlcnMuaWdub3JlQ2hpbGRFeGVtcHRpb25zID8gbnVsbCA6IHBhcmFtZXRlcnMuaWdub3JlQ2hpbGRFeGVtcHRpb25zKTtcbn07XG4kanNjb21wLmluaGVyaXRzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQXVkaXRMb2dDb25maWcsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlKTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQXVkaXRMb2dDb25maWcucHJvdG90eXBlLmdldENvbnN0cnVjdG9yID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkF1ZGl0TG9nQ29uZmlnO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQXVkaXRMb2dDb25maWcucHJvdG90eXBlLmdldFBhcnRpYWxDbGFzc01ldGFkYXRhID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7ZW51bXM6e2xvZ1R5cGU6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5BdWRpdExvZ0NvbmZpZ0xvZ1R5cGVFbnVtfSwga2V5czpbXCJleGVtcHRlZE1lbWJlcnNcIiwgXCJpZ25vcmVDaGlsZEV4ZW1wdGlvbnNcIiwgXCJsb2dUeXBlXCJdfTtcbn07XG4kanNjb21wLmdsb2JhbC5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkF1ZGl0TG9nQ29uZmlnLnByb3RvdHlwZSwge2V4ZW1wdGVkTWVtYmVyczp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJleGVtcHRlZE1lbWJlcnNcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJleGVtcHRlZE1lbWJlcnNcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImV4ZW1wdGVkTWVtYmVyc1wiLCB2YWx1ZSk7XG59fSwgaWdub3JlQ2hpbGRFeGVtcHRpb25zOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImlnbm9yZUNoaWxkRXhlbXB0aW9uc1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImlnbm9yZUNoaWxkRXhlbXB0aW9uc1wiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiaWdub3JlQ2hpbGRFeGVtcHRpb25zXCIsIHZhbHVlKTtcbn19LCBsb2dUeXBlOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImxvZ1R5cGVcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJsb2dUeXBlXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJsb2dUeXBlXCIsIHZhbHVlKTtcbn19fSk7XG4kanNjb21wLmdsb2JhbC5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkF1ZGl0TG9nQ29uZmlnLCB7TG9nVHlwZTp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkF1ZGl0TG9nQ29uZmlnTG9nVHlwZUVudW07XG59fX0pO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5BdXRob3JpemF0aW9uTG9nZ2luZ09wdGlvbnNQYXJhbWV0ZXJzID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfQXV0aG9yaXphdGlvbkxvZ2dpbmdPcHRpb25zUGFyYW1ldGVycygpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkF1dGhvcml6YXRpb25Mb2dnaW5nT3B0aW9ucyA9IGZ1bmN0aW9uKHBhcmFtZXRlcnMpIHtcbiAgcGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFyYW1ldGVycyA/IHt9IDogcGFyYW1ldGVycztcbiAgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUuY2FsbCh0aGlzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwicGVybWlzc2lvblR5cGVcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLnBlcm1pc3Npb25UeXBlID8gbnVsbCA6IHBhcmFtZXRlcnMucGVybWlzc2lvblR5cGUpO1xufTtcbiRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5BdXRob3JpemF0aW9uTG9nZ2luZ09wdGlvbnMsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlKTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQXV0aG9yaXphdGlvbkxvZ2dpbmdPcHRpb25zLnByb3RvdHlwZS5nZXRDb25zdHJ1Y3RvciA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5BdXRob3JpemF0aW9uTG9nZ2luZ09wdGlvbnM7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5BdXRob3JpemF0aW9uTG9nZ2luZ09wdGlvbnMucHJvdG90eXBlLmdldFBhcnRpYWxDbGFzc01ldGFkYXRhID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7ZW51bXM6e3Blcm1pc3Npb25UeXBlOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQXV0aG9yaXphdGlvbkxvZ2dpbmdPcHRpb25zUGVybWlzc2lvblR5cGVFbnVtfSwga2V5czpbXCJwZXJtaXNzaW9uVHlwZVwiXX07XG59O1xuJGpzY29tcC5nbG9iYWwuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5BdXRob3JpemF0aW9uTG9nZ2luZ09wdGlvbnMucHJvdG90eXBlLCB7cGVybWlzc2lvblR5cGU6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwicGVybWlzc2lvblR5cGVcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJwZXJtaXNzaW9uVHlwZVwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwicGVybWlzc2lvblR5cGVcIiwgdmFsdWUpO1xufX19KTtcbiRqc2NvbXAuZ2xvYmFsLk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQXV0aG9yaXphdGlvbkxvZ2dpbmdPcHRpb25zLCB7UGVybWlzc2lvblR5cGU6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5BdXRob3JpemF0aW9uTG9nZ2luZ09wdGlvbnNQZXJtaXNzaW9uVHlwZUVudW07XG59fX0pO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5CaWdRdWVyeURlc3RpbmF0aW9uUGFyYW1ldGVycyA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0JpZ1F1ZXJ5RGVzdGluYXRpb25QYXJhbWV0ZXJzKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQmlnUXVlcnlEZXN0aW5hdGlvbiA9IGZ1bmN0aW9uKHBhcmFtZXRlcnMpIHtcbiAgcGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFyYW1ldGVycyA/IHt9IDogcGFyYW1ldGVycztcbiAgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUuY2FsbCh0aGlzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwidGFibGVcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLnRhYmxlID8gbnVsbCA6IHBhcmFtZXRlcnMudGFibGUpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJvdmVyd3JpdGVcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLm92ZXJ3cml0ZSA/IG51bGwgOiBwYXJhbWV0ZXJzLm92ZXJ3cml0ZSk7XG59O1xuJGpzY29tcC5pbmhlcml0cyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkJpZ1F1ZXJ5RGVzdGluYXRpb24sIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlKTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQmlnUXVlcnlEZXN0aW5hdGlvbi5wcm90b3R5cGUuZ2V0Q29uc3RydWN0b3IgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQmlnUXVlcnlEZXN0aW5hdGlvbjtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkJpZ1F1ZXJ5RGVzdGluYXRpb24ucHJvdG90eXBlLmdldFBhcnRpYWxDbGFzc01ldGFkYXRhID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7a2V5czpbXCJvdmVyd3JpdGVcIiwgXCJ0YWJsZVwiXX07XG59O1xuJGpzY29tcC5nbG9iYWwuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5CaWdRdWVyeURlc3RpbmF0aW9uLnByb3RvdHlwZSwge292ZXJ3cml0ZTp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJvdmVyd3JpdGVcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJvdmVyd3JpdGVcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcIm92ZXJ3cml0ZVwiLCB2YWx1ZSk7XG59fSwgdGFibGU6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwidGFibGVcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJ0YWJsZVwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwidGFibGVcIiwgdmFsdWUpO1xufX19KTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQmlnUXVlcnlFeHBvcnRPcHRpb25zUGFyYW1ldGVycyA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0JpZ1F1ZXJ5RXhwb3J0T3B0aW9uc1BhcmFtZXRlcnMoKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5CaWdRdWVyeUV4cG9ydE9wdGlvbnMgPSBmdW5jdGlvbihwYXJhbWV0ZXJzKSB7XG4gIHBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IHBhcmFtZXRlcnMgPyB7fSA6IHBhcmFtZXRlcnM7XG4gIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlLmNhbGwodGhpcyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImJpZ3F1ZXJ5RGVzdGluYXRpb25cIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmJpZ3F1ZXJ5RGVzdGluYXRpb24gPyBudWxsIDogcGFyYW1ldGVycy5iaWdxdWVyeURlc3RpbmF0aW9uKTtcbn07XG4kanNjb21wLmluaGVyaXRzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQmlnUXVlcnlFeHBvcnRPcHRpb25zLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkJpZ1F1ZXJ5RXhwb3J0T3B0aW9ucy5wcm90b3R5cGUuZ2V0Q29uc3RydWN0b3IgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQmlnUXVlcnlFeHBvcnRPcHRpb25zO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQmlnUXVlcnlFeHBvcnRPcHRpb25zLnByb3RvdHlwZS5nZXRQYXJ0aWFsQ2xhc3NNZXRhZGF0YSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge2tleXM6W1wiYmlncXVlcnlEZXN0aW5hdGlvblwiXSwgb2JqZWN0czp7YmlncXVlcnlEZXN0aW5hdGlvbjptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkJpZ1F1ZXJ5RGVzdGluYXRpb259fTtcbn07XG4kanNjb21wLmdsb2JhbC5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkJpZ1F1ZXJ5RXhwb3J0T3B0aW9ucy5wcm90b3R5cGUsIHtiaWdxdWVyeURlc3RpbmF0aW9uOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImJpZ3F1ZXJ5RGVzdGluYXRpb25cIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJiaWdxdWVyeURlc3RpbmF0aW9uXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJiaWdxdWVyeURlc3RpbmF0aW9uXCIsIHZhbHVlKTtcbn19fSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkJpbmRpbmdQYXJhbWV0ZXJzID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfQmluZGluZ1BhcmFtZXRlcnMoKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5CaW5kaW5nID0gZnVuY3Rpb24ocGFyYW1ldGVycykge1xuICBwYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXJhbWV0ZXJzID8ge30gOiBwYXJhbWV0ZXJzO1xuICBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZS5jYWxsKHRoaXMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJyb2xlXCIsIG51bGwgPT0gcGFyYW1ldGVycy5yb2xlID8gbnVsbCA6IHBhcmFtZXRlcnMucm9sZSk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcIm1lbWJlcnNcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLm1lbWJlcnMgPyBudWxsIDogcGFyYW1ldGVycy5tZW1iZXJzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiY29uZGl0aW9uXCIsIG51bGwgPT0gcGFyYW1ldGVycy5jb25kaXRpb24gPyBudWxsIDogcGFyYW1ldGVycy5jb25kaXRpb24pO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJiaW5kaW5nSWRcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmJpbmRpbmdJZCA/IG51bGwgOiBwYXJhbWV0ZXJzLmJpbmRpbmdJZCk7XG59O1xuJGpzY29tcC5pbmhlcml0cyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkJpbmRpbmcsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlKTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQmluZGluZy5wcm90b3R5cGUuZ2V0Q29uc3RydWN0b3IgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQmluZGluZztcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkJpbmRpbmcucHJvdG90eXBlLmdldFBhcnRpYWxDbGFzc01ldGFkYXRhID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7a2V5czpbXCJiaW5kaW5nSWRcIiwgXCJjb25kaXRpb25cIiwgXCJtZW1iZXJzXCIsIFwicm9sZVwiXSwgb2JqZWN0czp7Y29uZGl0aW9uOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRXhwcn19O1xufTtcbiRqc2NvbXAuZ2xvYmFsLk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQmluZGluZy5wcm90b3R5cGUsIHtiaW5kaW5nSWQ6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiYmluZGluZ0lkXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiYmluZGluZ0lkXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJiaW5kaW5nSWRcIiwgdmFsdWUpO1xufX0sIGNvbmRpdGlvbjp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJjb25kaXRpb25cIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJjb25kaXRpb25cIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImNvbmRpdGlvblwiLCB2YWx1ZSk7XG59fSwgbWVtYmVyczp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJtZW1iZXJzXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwibWVtYmVyc1wiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwibWVtYmVyc1wiLCB2YWx1ZSk7XG59fSwgcm9sZTp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJyb2xlXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwicm9sZVwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwicm9sZVwiLCB2YWx1ZSk7XG59fX0pO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5DYW5jZWxPcGVyYXRpb25SZXF1ZXN0UGFyYW1ldGVycyA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0NhbmNlbE9wZXJhdGlvblJlcXVlc3RQYXJhbWV0ZXJzKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ2FuY2VsT3BlcmF0aW9uUmVxdWVzdCA9IGZ1bmN0aW9uKHBhcmFtZXRlcnMpIHtcbiAgcGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFyYW1ldGVycyA/IHt9IDogcGFyYW1ldGVycztcbiAgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUuY2FsbCh0aGlzKTtcbn07XG4kanNjb21wLmluaGVyaXRzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ2FuY2VsT3BlcmF0aW9uUmVxdWVzdCwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUpO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5DYW5jZWxPcGVyYXRpb25SZXF1ZXN0LnByb3RvdHlwZS5nZXRDb25zdHJ1Y3RvciA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5DYW5jZWxPcGVyYXRpb25SZXF1ZXN0O1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ2FuY2VsT3BlcmF0aW9uUmVxdWVzdC5wcm90b3R5cGUuZ2V0UGFydGlhbENsYXNzTWV0YWRhdGEgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtrZXlzOltdfTtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNhcGFiaWxpdGllc1BhcmFtZXRlcnMgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9DYXBhYmlsaXRpZXNQYXJhbWV0ZXJzKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ2FwYWJpbGl0aWVzID0gZnVuY3Rpb24ocGFyYW1ldGVycykge1xuICBwYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXJhbWV0ZXJzID8ge30gOiBwYXJhbWV0ZXJzO1xuICBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZS5jYWxsKHRoaXMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJjYXBhYmlsaXRpZXNcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmNhcGFiaWxpdGllcyA/IG51bGwgOiBwYXJhbWV0ZXJzLmNhcGFiaWxpdGllcyk7XG59O1xuJGpzY29tcC5pbmhlcml0cyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNhcGFiaWxpdGllcywgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUpO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5DYXBhYmlsaXRpZXMucHJvdG90eXBlLmdldENvbnN0cnVjdG9yID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNhcGFiaWxpdGllcztcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNhcGFiaWxpdGllcy5wcm90b3R5cGUuZ2V0UGFydGlhbENsYXNzTWV0YWRhdGEgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtlbnVtczp7Y2FwYWJpbGl0aWVzOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ2FwYWJpbGl0aWVzQ2FwYWJpbGl0aWVzRW51bX0sIGtleXM6W1wiY2FwYWJpbGl0aWVzXCJdfTtcbn07XG4kanNjb21wLmdsb2JhbC5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNhcGFiaWxpdGllcy5wcm90b3R5cGUsIHtjYXBhYmlsaXRpZXM6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiY2FwYWJpbGl0aWVzXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiY2FwYWJpbGl0aWVzXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJjYXBhYmlsaXRpZXNcIiwgdmFsdWUpO1xufX19KTtcbiRqc2NvbXAuZ2xvYmFsLk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ2FwYWJpbGl0aWVzLCB7Q2FwYWJpbGl0aWVzOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ2FwYWJpbGl0aWVzQ2FwYWJpbGl0aWVzRW51bTtcbn19fSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNoYW5nZVN1YnNjcmlwdGlvblR5cGVSZXF1ZXN0UGFyYW1ldGVycyA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0NoYW5nZVN1YnNjcmlwdGlvblR5cGVSZXF1ZXN0UGFyYW1ldGVycygpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNoYW5nZVN1YnNjcmlwdGlvblR5cGVSZXF1ZXN0ID0gZnVuY3Rpb24ocGFyYW1ldGVycykge1xuICBwYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXJhbWV0ZXJzID8ge30gOiBwYXJhbWV0ZXJzO1xuICBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZS5jYWxsKHRoaXMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJ0eXBlXCIsIG51bGwgPT0gcGFyYW1ldGVycy50eXBlID8gbnVsbCA6IHBhcmFtZXRlcnMudHlwZSk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImNoYW5nZVRpbWVcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmNoYW5nZVRpbWUgPyBudWxsIDogcGFyYW1ldGVycy5jaGFuZ2VUaW1lKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZXRhZ1wiLCBudWxsID09IHBhcmFtZXRlcnMuZXRhZyA/IG51bGwgOiBwYXJhbWV0ZXJzLmV0YWcpO1xufTtcbiRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5DaGFuZ2VTdWJzY3JpcHRpb25UeXBlUmVxdWVzdCwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUpO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5DaGFuZ2VTdWJzY3JpcHRpb25UeXBlUmVxdWVzdC5wcm90b3R5cGUuZ2V0Q29uc3RydWN0b3IgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ2hhbmdlU3Vic2NyaXB0aW9uVHlwZVJlcXVlc3Q7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5DaGFuZ2VTdWJzY3JpcHRpb25UeXBlUmVxdWVzdC5wcm90b3R5cGUuZ2V0UGFydGlhbENsYXNzTWV0YWRhdGEgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtlbnVtczp7Y2hhbmdlVGltZTptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNoYW5nZVN1YnNjcmlwdGlvblR5cGVSZXF1ZXN0Q2hhbmdlVGltZUVudW0sIHR5cGU6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5DaGFuZ2VTdWJzY3JpcHRpb25UeXBlUmVxdWVzdFR5cGVFbnVtfSwga2V5czpbXCJjaGFuZ2VUaW1lXCIsIFwiZXRhZ1wiLCBcInR5cGVcIl19O1xufTtcbiRqc2NvbXAuZ2xvYmFsLk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ2hhbmdlU3Vic2NyaXB0aW9uVHlwZVJlcXVlc3QucHJvdG90eXBlLCB7Y2hhbmdlVGltZTp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJjaGFuZ2VUaW1lXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiY2hhbmdlVGltZVwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiY2hhbmdlVGltZVwiLCB2YWx1ZSk7XG59fSwgZXRhZzp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJldGFnXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiZXRhZ1wiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZXRhZ1wiLCB2YWx1ZSk7XG59fSwgdHlwZTp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJ0eXBlXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwidHlwZVwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwidHlwZVwiLCB2YWx1ZSk7XG59fX0pO1xuJGpzY29tcC5nbG9iYWwuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5DaGFuZ2VTdWJzY3JpcHRpb25UeXBlUmVxdWVzdCwge0NoYW5nZVRpbWU6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5DaGFuZ2VTdWJzY3JpcHRpb25UeXBlUmVxdWVzdENoYW5nZVRpbWVFbnVtO1xufX0sIFR5cGU6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5DaGFuZ2VTdWJzY3JpcHRpb25UeXBlUmVxdWVzdFR5cGVFbnVtO1xufX19KTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ2xhc3NpZmllckFzc2V0RXhwb3J0T3B0aW9uc1BhcmFtZXRlcnMgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9DbGFzc2lmaWVyQXNzZXRFeHBvcnRPcHRpb25zUGFyYW1ldGVycygpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNsYXNzaWZpZXJBc3NldEV4cG9ydE9wdGlvbnMgPSBmdW5jdGlvbihwYXJhbWV0ZXJzKSB7XG4gIHBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IHBhcmFtZXRlcnMgPyB7fSA6IHBhcmFtZXRlcnM7XG4gIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlLmNhbGwodGhpcyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImVhcnRoRW5naW5lRGVzdGluYXRpb25cIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmVhcnRoRW5naW5lRGVzdGluYXRpb24gPyBudWxsIDogcGFyYW1ldGVycy5lYXJ0aEVuZ2luZURlc3RpbmF0aW9uKTtcbn07XG4kanNjb21wLmluaGVyaXRzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ2xhc3NpZmllckFzc2V0RXhwb3J0T3B0aW9ucywgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUpO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5DbGFzc2lmaWVyQXNzZXRFeHBvcnRPcHRpb25zLnByb3RvdHlwZS5nZXRDb25zdHJ1Y3RvciA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5DbGFzc2lmaWVyQXNzZXRFeHBvcnRPcHRpb25zO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ2xhc3NpZmllckFzc2V0RXhwb3J0T3B0aW9ucy5wcm90b3R5cGUuZ2V0UGFydGlhbENsYXNzTWV0YWRhdGEgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtrZXlzOltcImVhcnRoRW5naW5lRGVzdGluYXRpb25cIl0sIG9iamVjdHM6e2VhcnRoRW5naW5lRGVzdGluYXRpb246bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5FYXJ0aEVuZ2luZURlc3RpbmF0aW9ufX07XG59O1xuJGpzY29tcC5nbG9iYWwuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5DbGFzc2lmaWVyQXNzZXRFeHBvcnRPcHRpb25zLnByb3RvdHlwZSwge2VhcnRoRW5naW5lRGVzdGluYXRpb246e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiZWFydGhFbmdpbmVEZXN0aW5hdGlvblwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImVhcnRoRW5naW5lRGVzdGluYXRpb25cIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImVhcnRoRW5naW5lRGVzdGluYXRpb25cIiwgdmFsdWUpO1xufX19KTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ2xvdWRBdWRpdE9wdGlvbnNQYXJhbWV0ZXJzID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfQ2xvdWRBdWRpdE9wdGlvbnNQYXJhbWV0ZXJzKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ2xvdWRBdWRpdE9wdGlvbnMgPSBmdW5jdGlvbihwYXJhbWV0ZXJzKSB7XG4gIHBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IHBhcmFtZXRlcnMgPyB7fSA6IHBhcmFtZXRlcnM7XG4gIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlLmNhbGwodGhpcyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImxvZ05hbWVcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmxvZ05hbWUgPyBudWxsIDogcGFyYW1ldGVycy5sb2dOYW1lKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiYXV0aG9yaXphdGlvbkxvZ2dpbmdPcHRpb25zXCIsIG51bGwgPT0gcGFyYW1ldGVycy5hdXRob3JpemF0aW9uTG9nZ2luZ09wdGlvbnMgPyBudWxsIDogcGFyYW1ldGVycy5hdXRob3JpemF0aW9uTG9nZ2luZ09wdGlvbnMpO1xufTtcbiRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5DbG91ZEF1ZGl0T3B0aW9ucywgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUpO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5DbG91ZEF1ZGl0T3B0aW9ucy5wcm90b3R5cGUuZ2V0Q29uc3RydWN0b3IgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ2xvdWRBdWRpdE9wdGlvbnM7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5DbG91ZEF1ZGl0T3B0aW9ucy5wcm90b3R5cGUuZ2V0UGFydGlhbENsYXNzTWV0YWRhdGEgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtlbnVtczp7bG9nTmFtZTptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNsb3VkQXVkaXRPcHRpb25zTG9nTmFtZUVudW19LCBrZXlzOltcImF1dGhvcml6YXRpb25Mb2dnaW5nT3B0aW9uc1wiLCBcImxvZ05hbWVcIl0sIG9iamVjdHM6e2F1dGhvcml6YXRpb25Mb2dnaW5nT3B0aW9uczptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkF1dGhvcml6YXRpb25Mb2dnaW5nT3B0aW9uc319O1xufTtcbiRqc2NvbXAuZ2xvYmFsLk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ2xvdWRBdWRpdE9wdGlvbnMucHJvdG90eXBlLCB7YXV0aG9yaXphdGlvbkxvZ2dpbmdPcHRpb25zOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImF1dGhvcml6YXRpb25Mb2dnaW5nT3B0aW9uc1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImF1dGhvcml6YXRpb25Mb2dnaW5nT3B0aW9uc1wiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiYXV0aG9yaXphdGlvbkxvZ2dpbmdPcHRpb25zXCIsIHZhbHVlKTtcbn19LCBsb2dOYW1lOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImxvZ05hbWVcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJsb2dOYW1lXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJsb2dOYW1lXCIsIHZhbHVlKTtcbn19fSk7XG4kanNjb21wLmdsb2JhbC5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNsb3VkQXVkaXRPcHRpb25zLCB7TG9nTmFtZTp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNsb3VkQXVkaXRPcHRpb25zTG9nTmFtZUVudW07XG59fX0pO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5DbG91ZFN0b3JhZ2VEZXN0aW5hdGlvblBhcmFtZXRlcnMgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9DbG91ZFN0b3JhZ2VEZXN0aW5hdGlvblBhcmFtZXRlcnMoKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5DbG91ZFN0b3JhZ2VEZXN0aW5hdGlvbiA9IGZ1bmN0aW9uKHBhcmFtZXRlcnMpIHtcbiAgcGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFyYW1ldGVycyA/IHt9IDogcGFyYW1ldGVycztcbiAgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUuY2FsbCh0aGlzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiYnVja2V0XCIsIG51bGwgPT0gcGFyYW1ldGVycy5idWNrZXQgPyBudWxsIDogcGFyYW1ldGVycy5idWNrZXQpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJmaWxlbmFtZVByZWZpeFwiLCBudWxsID09IHBhcmFtZXRlcnMuZmlsZW5hbWVQcmVmaXggPyBudWxsIDogcGFyYW1ldGVycy5maWxlbmFtZVByZWZpeCk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInBlcm1pc3Npb25zXCIsIG51bGwgPT0gcGFyYW1ldGVycy5wZXJtaXNzaW9ucyA/IG51bGwgOiBwYXJhbWV0ZXJzLnBlcm1pc3Npb25zKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiYnVja2V0Q29yc1VyaXNcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmJ1Y2tldENvcnNVcmlzID8gbnVsbCA6IHBhcmFtZXRlcnMuYnVja2V0Q29yc1VyaXMpO1xufTtcbiRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5DbG91ZFN0b3JhZ2VEZXN0aW5hdGlvbiwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUpO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5DbG91ZFN0b3JhZ2VEZXN0aW5hdGlvbi5wcm90b3R5cGUuZ2V0Q29uc3RydWN0b3IgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ2xvdWRTdG9yYWdlRGVzdGluYXRpb247XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5DbG91ZFN0b3JhZ2VEZXN0aW5hdGlvbi5wcm90b3R5cGUuZ2V0UGFydGlhbENsYXNzTWV0YWRhdGEgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtlbnVtczp7cGVybWlzc2lvbnM6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5DbG91ZFN0b3JhZ2VEZXN0aW5hdGlvblBlcm1pc3Npb25zRW51bX0sIGtleXM6W1wiYnVja2V0XCIsIFwiYnVja2V0Q29yc1VyaXNcIiwgXCJmaWxlbmFtZVByZWZpeFwiLCBcInBlcm1pc3Npb25zXCJdfTtcbn07XG4kanNjb21wLmdsb2JhbC5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNsb3VkU3RvcmFnZURlc3RpbmF0aW9uLnByb3RvdHlwZSwge2J1Y2tldDp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJidWNrZXRcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJidWNrZXRcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImJ1Y2tldFwiLCB2YWx1ZSk7XG59fSwgYnVja2V0Q29yc1VyaXM6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiYnVja2V0Q29yc1VyaXNcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJidWNrZXRDb3JzVXJpc1wiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiYnVja2V0Q29yc1VyaXNcIiwgdmFsdWUpO1xufX0sIGZpbGVuYW1lUHJlZml4Ontjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImZpbGVuYW1lUHJlZml4XCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiZmlsZW5hbWVQcmVmaXhcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImZpbGVuYW1lUHJlZml4XCIsIHZhbHVlKTtcbn19LCBwZXJtaXNzaW9uczp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJwZXJtaXNzaW9uc1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInBlcm1pc3Npb25zXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJwZXJtaXNzaW9uc1wiLCB2YWx1ZSk7XG59fX0pO1xuJGpzY29tcC5nbG9iYWwuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5DbG91ZFN0b3JhZ2VEZXN0aW5hdGlvbiwge1Blcm1pc3Npb25zOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ2xvdWRTdG9yYWdlRGVzdGluYXRpb25QZXJtaXNzaW9uc0VudW07XG59fX0pO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5DbG91ZFN0b3JhZ2VMb2NhdGlvblBhcmFtZXRlcnMgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9DbG91ZFN0b3JhZ2VMb2NhdGlvblBhcmFtZXRlcnMoKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5DbG91ZFN0b3JhZ2VMb2NhdGlvbiA9IGZ1bmN0aW9uKHBhcmFtZXRlcnMpIHtcbiAgcGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFyYW1ldGVycyA/IHt9IDogcGFyYW1ldGVycztcbiAgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUuY2FsbCh0aGlzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwidXJpc1wiLCBudWxsID09IHBhcmFtZXRlcnMudXJpcyA/IG51bGwgOiBwYXJhbWV0ZXJzLnVyaXMpO1xufTtcbiRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5DbG91ZFN0b3JhZ2VMb2NhdGlvbiwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUpO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5DbG91ZFN0b3JhZ2VMb2NhdGlvbi5wcm90b3R5cGUuZ2V0Q29uc3RydWN0b3IgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ2xvdWRTdG9yYWdlTG9jYXRpb247XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5DbG91ZFN0b3JhZ2VMb2NhdGlvbi5wcm90b3R5cGUuZ2V0UGFydGlhbENsYXNzTWV0YWRhdGEgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtrZXlzOltcInVyaXNcIl19O1xufTtcbiRqc2NvbXAuZ2xvYmFsLk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ2xvdWRTdG9yYWdlTG9jYXRpb24ucHJvdG90eXBlLCB7dXJpczp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJ1cmlzXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwidXJpc1wiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwidXJpc1wiLCB2YWx1ZSk7XG59fX0pO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Db21wdXRlRmVhdHVyZXNSZXF1ZXN0UGFyYW1ldGVycyA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0NvbXB1dGVGZWF0dXJlc1JlcXVlc3RQYXJhbWV0ZXJzKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ29tcHV0ZUZlYXR1cmVzUmVxdWVzdCA9IGZ1bmN0aW9uKHBhcmFtZXRlcnMpIHtcbiAgcGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFyYW1ldGVycyA/IHt9IDogcGFyYW1ldGVycztcbiAgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUuY2FsbCh0aGlzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZXhwcmVzc2lvblwiLCBudWxsID09IHBhcmFtZXRlcnMuZXhwcmVzc2lvbiA/IG51bGwgOiBwYXJhbWV0ZXJzLmV4cHJlc3Npb24pO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJwYWdlU2l6ZVwiLCBudWxsID09IHBhcmFtZXRlcnMucGFnZVNpemUgPyBudWxsIDogcGFyYW1ldGVycy5wYWdlU2l6ZSk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInBhZ2VUb2tlblwiLCBudWxsID09IHBhcmFtZXRlcnMucGFnZVRva2VuID8gbnVsbCA6IHBhcmFtZXRlcnMucGFnZVRva2VuKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwid29ya2xvYWRUYWdcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLndvcmtsb2FkVGFnID8gbnVsbCA6IHBhcmFtZXRlcnMud29ya2xvYWRUYWcpO1xufTtcbiRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Db21wdXRlRmVhdHVyZXNSZXF1ZXN0LCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNvbXB1dGVGZWF0dXJlc1JlcXVlc3QucHJvdG90eXBlLmdldENvbnN0cnVjdG9yID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNvbXB1dGVGZWF0dXJlc1JlcXVlc3Q7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Db21wdXRlRmVhdHVyZXNSZXF1ZXN0LnByb3RvdHlwZS5nZXRQYXJ0aWFsQ2xhc3NNZXRhZGF0YSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge2tleXM6W1wiZXhwcmVzc2lvblwiLCBcInBhZ2VTaXplXCIsIFwicGFnZVRva2VuXCIsIFwid29ya2xvYWRUYWdcIl0sIG9iamVjdHM6e2V4cHJlc3Npb246bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5FeHByZXNzaW9ufX07XG59O1xuJGpzY29tcC5nbG9iYWwuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Db21wdXRlRmVhdHVyZXNSZXF1ZXN0LnByb3RvdHlwZSwge2V4cHJlc3Npb246e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiZXhwcmVzc2lvblwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImV4cHJlc3Npb25cIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImV4cHJlc3Npb25cIiwgdmFsdWUpO1xufX0sIHBhZ2VTaXplOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcInBhZ2VTaXplXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwicGFnZVNpemVcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInBhZ2VTaXplXCIsIHZhbHVlKTtcbn19LCBwYWdlVG9rZW46e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwicGFnZVRva2VuXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwicGFnZVRva2VuXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJwYWdlVG9rZW5cIiwgdmFsdWUpO1xufX0sIHdvcmtsb2FkVGFnOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcIndvcmtsb2FkVGFnXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwid29ya2xvYWRUYWdcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcIndvcmtsb2FkVGFnXCIsIHZhbHVlKTtcbn19fSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNvbXB1dGVGZWF0dXJlc1Jlc3BvbnNlUGFyYW1ldGVycyA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0NvbXB1dGVGZWF0dXJlc1Jlc3BvbnNlUGFyYW1ldGVycygpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNvbXB1dGVGZWF0dXJlc1Jlc3BvbnNlID0gZnVuY3Rpb24ocGFyYW1ldGVycykge1xuICBwYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXJhbWV0ZXJzID8ge30gOiBwYXJhbWV0ZXJzO1xuICBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZS5jYWxsKHRoaXMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJ0eXBlXCIsIG51bGwgPT0gcGFyYW1ldGVycy50eXBlID8gbnVsbCA6IHBhcmFtZXRlcnMudHlwZSk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImZlYXR1cmVzXCIsIG51bGwgPT0gcGFyYW1ldGVycy5mZWF0dXJlcyA/IG51bGwgOiBwYXJhbWV0ZXJzLmZlYXR1cmVzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwibmV4dFBhZ2VUb2tlblwiLCBudWxsID09IHBhcmFtZXRlcnMubmV4dFBhZ2VUb2tlbiA/IG51bGwgOiBwYXJhbWV0ZXJzLm5leHRQYWdlVG9rZW4pO1xufTtcbiRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Db21wdXRlRmVhdHVyZXNSZXNwb25zZSwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUpO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Db21wdXRlRmVhdHVyZXNSZXNwb25zZS5wcm90b3R5cGUuZ2V0Q29uc3RydWN0b3IgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ29tcHV0ZUZlYXR1cmVzUmVzcG9uc2U7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Db21wdXRlRmVhdHVyZXNSZXNwb25zZS5wcm90b3R5cGUuZ2V0UGFydGlhbENsYXNzTWV0YWRhdGEgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHthcnJheXM6e2ZlYXR1cmVzOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRmVhdHVyZX0sIGtleXM6W1wiZmVhdHVyZXNcIiwgXCJuZXh0UGFnZVRva2VuXCIsIFwidHlwZVwiXX07XG59O1xuJGpzY29tcC5nbG9iYWwuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Db21wdXRlRmVhdHVyZXNSZXNwb25zZS5wcm90b3R5cGUsIHtmZWF0dXJlczp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJmZWF0dXJlc1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImZlYXR1cmVzXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJmZWF0dXJlc1wiLCB2YWx1ZSk7XG59fSwgbmV4dFBhZ2VUb2tlbjp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJuZXh0UGFnZVRva2VuXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwibmV4dFBhZ2VUb2tlblwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwibmV4dFBhZ2VUb2tlblwiLCB2YWx1ZSk7XG59fSwgdHlwZTp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJ0eXBlXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwidHlwZVwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwidHlwZVwiLCB2YWx1ZSk7XG59fX0pO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Db21wdXRlSW1hZ2VzUmVxdWVzdFBhcmFtZXRlcnMgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9Db21wdXRlSW1hZ2VzUmVxdWVzdFBhcmFtZXRlcnMoKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Db21wdXRlSW1hZ2VzUmVxdWVzdCA9IGZ1bmN0aW9uKHBhcmFtZXRlcnMpIHtcbiAgcGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFyYW1ldGVycyA/IHt9IDogcGFyYW1ldGVycztcbiAgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUuY2FsbCh0aGlzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZXhwcmVzc2lvblwiLCBudWxsID09IHBhcmFtZXRlcnMuZXhwcmVzc2lvbiA/IG51bGwgOiBwYXJhbWV0ZXJzLmV4cHJlc3Npb24pO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJwYWdlU2l6ZVwiLCBudWxsID09IHBhcmFtZXRlcnMucGFnZVNpemUgPyBudWxsIDogcGFyYW1ldGVycy5wYWdlU2l6ZSk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInBhZ2VUb2tlblwiLCBudWxsID09IHBhcmFtZXRlcnMucGFnZVRva2VuID8gbnVsbCA6IHBhcmFtZXRlcnMucGFnZVRva2VuKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwid29ya2xvYWRUYWdcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLndvcmtsb2FkVGFnID8gbnVsbCA6IHBhcmFtZXRlcnMud29ya2xvYWRUYWcpO1xufTtcbiRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Db21wdXRlSW1hZ2VzUmVxdWVzdCwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUpO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Db21wdXRlSW1hZ2VzUmVxdWVzdC5wcm90b3R5cGUuZ2V0Q29uc3RydWN0b3IgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ29tcHV0ZUltYWdlc1JlcXVlc3Q7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Db21wdXRlSW1hZ2VzUmVxdWVzdC5wcm90b3R5cGUuZ2V0UGFydGlhbENsYXNzTWV0YWRhdGEgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtrZXlzOltcImV4cHJlc3Npb25cIiwgXCJwYWdlU2l6ZVwiLCBcInBhZ2VUb2tlblwiLCBcIndvcmtsb2FkVGFnXCJdLCBvYmplY3RzOntleHByZXNzaW9uOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRXhwcmVzc2lvbn19O1xufTtcbiRqc2NvbXAuZ2xvYmFsLk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ29tcHV0ZUltYWdlc1JlcXVlc3QucHJvdG90eXBlLCB7ZXhwcmVzc2lvbjp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJleHByZXNzaW9uXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiZXhwcmVzc2lvblwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZXhwcmVzc2lvblwiLCB2YWx1ZSk7XG59fSwgcGFnZVNpemU6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwicGFnZVNpemVcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJwYWdlU2l6ZVwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwicGFnZVNpemVcIiwgdmFsdWUpO1xufX0sIHBhZ2VUb2tlbjp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJwYWdlVG9rZW5cIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJwYWdlVG9rZW5cIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInBhZ2VUb2tlblwiLCB2YWx1ZSk7XG59fSwgd29ya2xvYWRUYWc6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwid29ya2xvYWRUYWdcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJ3b3JrbG9hZFRhZ1wiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwid29ya2xvYWRUYWdcIiwgdmFsdWUpO1xufX19KTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ29tcHV0ZUltYWdlc1Jlc3BvbnNlUGFyYW1ldGVycyA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0NvbXB1dGVJbWFnZXNSZXNwb25zZVBhcmFtZXRlcnMoKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Db21wdXRlSW1hZ2VzUmVzcG9uc2UgPSBmdW5jdGlvbihwYXJhbWV0ZXJzKSB7XG4gIHBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IHBhcmFtZXRlcnMgPyB7fSA6IHBhcmFtZXRlcnM7XG4gIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlLmNhbGwodGhpcyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImltYWdlc1wiLCBudWxsID09IHBhcmFtZXRlcnMuaW1hZ2VzID8gbnVsbCA6IHBhcmFtZXRlcnMuaW1hZ2VzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwibmV4dFBhZ2VUb2tlblwiLCBudWxsID09IHBhcmFtZXRlcnMubmV4dFBhZ2VUb2tlbiA/IG51bGwgOiBwYXJhbWV0ZXJzLm5leHRQYWdlVG9rZW4pO1xufTtcbiRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Db21wdXRlSW1hZ2VzUmVzcG9uc2UsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlKTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ29tcHV0ZUltYWdlc1Jlc3BvbnNlLnByb3RvdHlwZS5nZXRDb25zdHJ1Y3RvciA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Db21wdXRlSW1hZ2VzUmVzcG9uc2U7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Db21wdXRlSW1hZ2VzUmVzcG9uc2UucHJvdG90eXBlLmdldFBhcnRpYWxDbGFzc01ldGFkYXRhID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7YXJyYXlzOntpbWFnZXM6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5FYXJ0aEVuZ2luZUFzc2V0fSwga2V5czpbXCJpbWFnZXNcIiwgXCJuZXh0UGFnZVRva2VuXCJdfTtcbn07XG4kanNjb21wLmdsb2JhbC5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNvbXB1dGVJbWFnZXNSZXNwb25zZS5wcm90b3R5cGUsIHtpbWFnZXM6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiaW1hZ2VzXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiaW1hZ2VzXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJpbWFnZXNcIiwgdmFsdWUpO1xufX0sIG5leHRQYWdlVG9rZW46e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwibmV4dFBhZ2VUb2tlblwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcIm5leHRQYWdlVG9rZW5cIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcIm5leHRQYWdlVG9rZW5cIiwgdmFsdWUpO1xufX19KTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ29tcHV0ZVBpeGVsc1JlcXVlc3RQYXJhbWV0ZXJzID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfQ29tcHV0ZVBpeGVsc1JlcXVlc3RQYXJhbWV0ZXJzKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ29tcHV0ZVBpeGVsc1JlcXVlc3QgPSBmdW5jdGlvbihwYXJhbWV0ZXJzKSB7XG4gIHBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IHBhcmFtZXRlcnMgPyB7fSA6IHBhcmFtZXRlcnM7XG4gIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlLmNhbGwodGhpcyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImV4cHJlc3Npb25cIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmV4cHJlc3Npb24gPyBudWxsIDogcGFyYW1ldGVycy5leHByZXNzaW9uKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZmlsZUZvcm1hdFwiLCBudWxsID09IHBhcmFtZXRlcnMuZmlsZUZvcm1hdCA/IG51bGwgOiBwYXJhbWV0ZXJzLmZpbGVGb3JtYXQpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJncmlkXCIsIG51bGwgPT0gcGFyYW1ldGVycy5ncmlkID8gbnVsbCA6IHBhcmFtZXRlcnMuZ3JpZCk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImJhbmRJZHNcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmJhbmRJZHMgPyBudWxsIDogcGFyYW1ldGVycy5iYW5kSWRzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwidmlzdWFsaXphdGlvbk9wdGlvbnNcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLnZpc3VhbGl6YXRpb25PcHRpb25zID8gbnVsbCA6IHBhcmFtZXRlcnMudmlzdWFsaXphdGlvbk9wdGlvbnMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJ3b3JrbG9hZFRhZ1wiLCBudWxsID09IHBhcmFtZXRlcnMud29ya2xvYWRUYWcgPyBudWxsIDogcGFyYW1ldGVycy53b3JrbG9hZFRhZyk7XG59O1xuJGpzY29tcC5pbmhlcml0cyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNvbXB1dGVQaXhlbHNSZXF1ZXN0LCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNvbXB1dGVQaXhlbHNSZXF1ZXN0LnByb3RvdHlwZS5nZXRDb25zdHJ1Y3RvciA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Db21wdXRlUGl4ZWxzUmVxdWVzdDtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNvbXB1dGVQaXhlbHNSZXF1ZXN0LnByb3RvdHlwZS5nZXRQYXJ0aWFsQ2xhc3NNZXRhZGF0YSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge2VudW1zOntmaWxlRm9ybWF0Om1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ29tcHV0ZVBpeGVsc1JlcXVlc3RGaWxlRm9ybWF0RW51bX0sIGtleXM6XCJiYW5kSWRzIGV4cHJlc3Npb24gZmlsZUZvcm1hdCBncmlkIHZpc3VhbGl6YXRpb25PcHRpb25zIHdvcmtsb2FkVGFnXCIuc3BsaXQoXCIgXCIpLCBvYmplY3RzOntleHByZXNzaW9uOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRXhwcmVzc2lvbiwgZ3JpZDptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlBpeGVsR3JpZCwgdmlzdWFsaXphdGlvbk9wdGlvbnM6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5WaXN1YWxpemF0aW9uT3B0aW9uc319O1xufTtcbiRqc2NvbXAuZ2xvYmFsLk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ29tcHV0ZVBpeGVsc1JlcXVlc3QucHJvdG90eXBlLCB7YmFuZElkczp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJiYW5kSWRzXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiYmFuZElkc1wiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiYmFuZElkc1wiLCB2YWx1ZSk7XG59fSwgZXhwcmVzc2lvbjp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJleHByZXNzaW9uXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiZXhwcmVzc2lvblwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZXhwcmVzc2lvblwiLCB2YWx1ZSk7XG59fSwgZmlsZUZvcm1hdDp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJmaWxlRm9ybWF0XCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiZmlsZUZvcm1hdFwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZmlsZUZvcm1hdFwiLCB2YWx1ZSk7XG59fSwgZ3JpZDp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJncmlkXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiZ3JpZFwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZ3JpZFwiLCB2YWx1ZSk7XG59fSwgdmlzdWFsaXphdGlvbk9wdGlvbnM6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwidmlzdWFsaXphdGlvbk9wdGlvbnNcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJ2aXN1YWxpemF0aW9uT3B0aW9uc1wiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwidmlzdWFsaXphdGlvbk9wdGlvbnNcIiwgdmFsdWUpO1xufX0sIHdvcmtsb2FkVGFnOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcIndvcmtsb2FkVGFnXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwid29ya2xvYWRUYWdcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcIndvcmtsb2FkVGFnXCIsIHZhbHVlKTtcbn19fSk7XG4kanNjb21wLmdsb2JhbC5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNvbXB1dGVQaXhlbHNSZXF1ZXN0LCB7RmlsZUZvcm1hdDp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNvbXB1dGVQaXhlbHNSZXF1ZXN0RmlsZUZvcm1hdEVudW07XG59fX0pO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Db21wdXRlVmFsdWVSZXF1ZXN0UGFyYW1ldGVycyA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0NvbXB1dGVWYWx1ZVJlcXVlc3RQYXJhbWV0ZXJzKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ29tcHV0ZVZhbHVlUmVxdWVzdCA9IGZ1bmN0aW9uKHBhcmFtZXRlcnMpIHtcbiAgcGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFyYW1ldGVycyA/IHt9IDogcGFyYW1ldGVycztcbiAgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUuY2FsbCh0aGlzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZXhwcmVzc2lvblwiLCBudWxsID09IHBhcmFtZXRlcnMuZXhwcmVzc2lvbiA/IG51bGwgOiBwYXJhbWV0ZXJzLmV4cHJlc3Npb24pO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJ3b3JrbG9hZFRhZ1wiLCBudWxsID09IHBhcmFtZXRlcnMud29ya2xvYWRUYWcgPyBudWxsIDogcGFyYW1ldGVycy53b3JrbG9hZFRhZyk7XG59O1xuJGpzY29tcC5pbmhlcml0cyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNvbXB1dGVWYWx1ZVJlcXVlc3QsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlKTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ29tcHV0ZVZhbHVlUmVxdWVzdC5wcm90b3R5cGUuZ2V0Q29uc3RydWN0b3IgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ29tcHV0ZVZhbHVlUmVxdWVzdDtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNvbXB1dGVWYWx1ZVJlcXVlc3QucHJvdG90eXBlLmdldFBhcnRpYWxDbGFzc01ldGFkYXRhID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7a2V5czpbXCJleHByZXNzaW9uXCIsIFwid29ya2xvYWRUYWdcIl0sIG9iamVjdHM6e2V4cHJlc3Npb246bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5FeHByZXNzaW9ufX07XG59O1xuJGpzY29tcC5nbG9iYWwuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Db21wdXRlVmFsdWVSZXF1ZXN0LnByb3RvdHlwZSwge2V4cHJlc3Npb246e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiZXhwcmVzc2lvblwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImV4cHJlc3Npb25cIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImV4cHJlc3Npb25cIiwgdmFsdWUpO1xufX0sIHdvcmtsb2FkVGFnOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcIndvcmtsb2FkVGFnXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwid29ya2xvYWRUYWdcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcIndvcmtsb2FkVGFnXCIsIHZhbHVlKTtcbn19fSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNvbXB1dGVWYWx1ZVJlc3BvbnNlUGFyYW1ldGVycyA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0NvbXB1dGVWYWx1ZVJlc3BvbnNlUGFyYW1ldGVycygpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNvbXB1dGVWYWx1ZVJlc3BvbnNlID0gZnVuY3Rpb24ocGFyYW1ldGVycykge1xuICBwYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXJhbWV0ZXJzID8ge30gOiBwYXJhbWV0ZXJzO1xuICBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZS5jYWxsKHRoaXMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJyZXN1bHRcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLnJlc3VsdCA/IG51bGwgOiBwYXJhbWV0ZXJzLnJlc3VsdCk7XG59O1xuJGpzY29tcC5pbmhlcml0cyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNvbXB1dGVWYWx1ZVJlc3BvbnNlLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNvbXB1dGVWYWx1ZVJlc3BvbnNlLnByb3RvdHlwZS5nZXRDb25zdHJ1Y3RvciA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Db21wdXRlVmFsdWVSZXNwb25zZTtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNvbXB1dGVWYWx1ZVJlc3BvbnNlLnByb3RvdHlwZS5nZXRQYXJ0aWFsQ2xhc3NNZXRhZGF0YSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge2tleXM6W1wicmVzdWx0XCJdfTtcbn07XG4kanNjb21wLmdsb2JhbC5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNvbXB1dGVWYWx1ZVJlc3BvbnNlLnByb3RvdHlwZSwge3Jlc3VsdDp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJyZXN1bHRcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJyZXN1bHRcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInJlc3VsdFwiLCB2YWx1ZSk7XG59fX0pO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Db25kaXRpb25QYXJhbWV0ZXJzID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfQ29uZGl0aW9uUGFyYW1ldGVycygpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNvbmRpdGlvbiA9IGZ1bmN0aW9uKHBhcmFtZXRlcnMpIHtcbiAgcGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFyYW1ldGVycyA/IHt9IDogcGFyYW1ldGVycztcbiAgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUuY2FsbCh0aGlzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiaWFtXCIsIG51bGwgPT0gcGFyYW1ldGVycy5pYW0gPyBudWxsIDogcGFyYW1ldGVycy5pYW0pO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJzeXNcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLnN5cyA/IG51bGwgOiBwYXJhbWV0ZXJzLnN5cyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInN2Y1wiLCBudWxsID09IHBhcmFtZXRlcnMuc3ZjID8gbnVsbCA6IHBhcmFtZXRlcnMuc3ZjKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwib3BcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLm9wID8gbnVsbCA6IHBhcmFtZXRlcnMub3ApO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJ2YWx1ZXNcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLnZhbHVlcyA/IG51bGwgOiBwYXJhbWV0ZXJzLnZhbHVlcyk7XG59O1xuJGpzY29tcC5pbmhlcml0cyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNvbmRpdGlvbiwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUpO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Db25kaXRpb24ucHJvdG90eXBlLmdldENvbnN0cnVjdG9yID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNvbmRpdGlvbjtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNvbmRpdGlvbi5wcm90b3R5cGUuZ2V0UGFydGlhbENsYXNzTWV0YWRhdGEgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtlbnVtczp7aWFtOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ29uZGl0aW9uSWFtRW51bSwgb3A6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Db25kaXRpb25PcEVudW0sIHN5czptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNvbmRpdGlvblN5c0VudW19LCBrZXlzOltcImlhbVwiLCBcIm9wXCIsIFwic3ZjXCIsIFwic3lzXCIsIFwidmFsdWVzXCJdfTtcbn07XG4kanNjb21wLmdsb2JhbC5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNvbmRpdGlvbi5wcm90b3R5cGUsIHtpYW06e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiaWFtXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiaWFtXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJpYW1cIiwgdmFsdWUpO1xufX0sIG9wOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcIm9wXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwib3BcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcIm9wXCIsIHZhbHVlKTtcbn19LCBzdmM6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwic3ZjXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwic3ZjXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJzdmNcIiwgdmFsdWUpO1xufX0sIHN5czp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJzeXNcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJzeXNcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInN5c1wiLCB2YWx1ZSk7XG59fSwgdmFsdWVzOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcInZhbHVlc1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInZhbHVlc1wiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwidmFsdWVzXCIsIHZhbHVlKTtcbn19fSk7XG4kanNjb21wLmdsb2JhbC5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNvbmRpdGlvbiwge0lhbTp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNvbmRpdGlvbklhbUVudW07XG59fSwgT3A6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Db25kaXRpb25PcEVudW07XG59fSwgU3lzOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ29uZGl0aW9uU3lzRW51bTtcbn19fSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNvcHlBc3NldFJlcXVlc3RQYXJhbWV0ZXJzID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfQ29weUFzc2V0UmVxdWVzdFBhcmFtZXRlcnMoKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Db3B5QXNzZXRSZXF1ZXN0ID0gZnVuY3Rpb24ocGFyYW1ldGVycykge1xuICBwYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXJhbWV0ZXJzID8ge30gOiBwYXJhbWV0ZXJzO1xuICBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZS5jYWxsKHRoaXMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJkZXN0aW5hdGlvbk5hbWVcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmRlc3RpbmF0aW9uTmFtZSA/IG51bGwgOiBwYXJhbWV0ZXJzLmRlc3RpbmF0aW9uTmFtZSk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcIm92ZXJ3cml0ZVwiLCBudWxsID09IHBhcmFtZXRlcnMub3ZlcndyaXRlID8gbnVsbCA6IHBhcmFtZXRlcnMub3ZlcndyaXRlKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiYmFuZElkc1wiLCBudWxsID09IHBhcmFtZXRlcnMuYmFuZElkcyA/IG51bGwgOiBwYXJhbWV0ZXJzLmJhbmRJZHMpO1xufTtcbiRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Db3B5QXNzZXRSZXF1ZXN0LCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNvcHlBc3NldFJlcXVlc3QucHJvdG90eXBlLmdldENvbnN0cnVjdG9yID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNvcHlBc3NldFJlcXVlc3Q7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Db3B5QXNzZXRSZXF1ZXN0LnByb3RvdHlwZS5nZXRQYXJ0aWFsQ2xhc3NNZXRhZGF0YSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge2tleXM6W1wiYmFuZElkc1wiLCBcImRlc3RpbmF0aW9uTmFtZVwiLCBcIm92ZXJ3cml0ZVwiXX07XG59O1xuJGpzY29tcC5nbG9iYWwuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Db3B5QXNzZXRSZXF1ZXN0LnByb3RvdHlwZSwge2JhbmRJZHM6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiYmFuZElkc1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImJhbmRJZHNcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImJhbmRJZHNcIiwgdmFsdWUpO1xufX0sIGRlc3RpbmF0aW9uTmFtZTp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJkZXN0aW5hdGlvbk5hbWVcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJkZXN0aW5hdGlvbk5hbWVcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImRlc3RpbmF0aW9uTmFtZVwiLCB2YWx1ZSk7XG59fSwgb3ZlcndyaXRlOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcIm92ZXJ3cml0ZVwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcIm92ZXJ3cml0ZVwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwib3ZlcndyaXRlXCIsIHZhbHVlKTtcbn19fSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNvdW50ZXJPcHRpb25zUGFyYW1ldGVycyA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0NvdW50ZXJPcHRpb25zUGFyYW1ldGVycygpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNvdW50ZXJPcHRpb25zID0gZnVuY3Rpb24ocGFyYW1ldGVycykge1xuICBwYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXJhbWV0ZXJzID8ge30gOiBwYXJhbWV0ZXJzO1xuICBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZS5jYWxsKHRoaXMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJtZXRyaWNcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLm1ldHJpYyA/IG51bGwgOiBwYXJhbWV0ZXJzLm1ldHJpYyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImZpZWxkXCIsIG51bGwgPT0gcGFyYW1ldGVycy5maWVsZCA/IG51bGwgOiBwYXJhbWV0ZXJzLmZpZWxkKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiY3VzdG9tRmllbGRzXCIsIG51bGwgPT0gcGFyYW1ldGVycy5jdXN0b21GaWVsZHMgPyBudWxsIDogcGFyYW1ldGVycy5jdXN0b21GaWVsZHMpO1xufTtcbiRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Db3VudGVyT3B0aW9ucywgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUpO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Db3VudGVyT3B0aW9ucy5wcm90b3R5cGUuZ2V0Q29uc3RydWN0b3IgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ291bnRlck9wdGlvbnM7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Db3VudGVyT3B0aW9ucy5wcm90b3R5cGUuZ2V0UGFydGlhbENsYXNzTWV0YWRhdGEgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHthcnJheXM6e2N1c3RvbUZpZWxkczptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkN1c3RvbUZpZWxkfSwga2V5czpbXCJjdXN0b21GaWVsZHNcIiwgXCJmaWVsZFwiLCBcIm1ldHJpY1wiXX07XG59O1xuJGpzY29tcC5nbG9iYWwuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Db3VudGVyT3B0aW9ucy5wcm90b3R5cGUsIHtjdXN0b21GaWVsZHM6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiY3VzdG9tRmllbGRzXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiY3VzdG9tRmllbGRzXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJjdXN0b21GaWVsZHNcIiwgdmFsdWUpO1xufX0sIGZpZWxkOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImZpZWxkXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiZmllbGRcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImZpZWxkXCIsIHZhbHVlKTtcbn19LCBtZXRyaWM6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwibWV0cmljXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwibWV0cmljXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJtZXRyaWNcIiwgdmFsdWUpO1xufX19KTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ3VzdG9tRmllbGRQYXJhbWV0ZXJzID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfQ3VzdG9tRmllbGRQYXJhbWV0ZXJzKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ3VzdG9tRmllbGQgPSBmdW5jdGlvbihwYXJhbWV0ZXJzKSB7XG4gIHBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IHBhcmFtZXRlcnMgPyB7fSA6IHBhcmFtZXRlcnM7XG4gIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlLmNhbGwodGhpcyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcIm5hbWVcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLm5hbWUgPyBudWxsIDogcGFyYW1ldGVycy5uYW1lKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwidmFsdWVcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLnZhbHVlID8gbnVsbCA6IHBhcmFtZXRlcnMudmFsdWUpO1xufTtcbiRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5DdXN0b21GaWVsZCwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUpO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5DdXN0b21GaWVsZC5wcm90b3R5cGUuZ2V0Q29uc3RydWN0b3IgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ3VzdG9tRmllbGQ7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5DdXN0b21GaWVsZC5wcm90b3R5cGUuZ2V0UGFydGlhbENsYXNzTWV0YWRhdGEgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtrZXlzOltcIm5hbWVcIiwgXCJ2YWx1ZVwiXX07XG59O1xuJGpzY29tcC5nbG9iYWwuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5DdXN0b21GaWVsZC5wcm90b3R5cGUsIHtuYW1lOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcIm5hbWVcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJuYW1lXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJuYW1lXCIsIHZhbHVlKTtcbn19LCB2YWx1ZTp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJ2YWx1ZVwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInZhbHVlXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJ2YWx1ZVwiLCB2YWx1ZSk7XG59fX0pO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5EYXRhQWNjZXNzT3B0aW9uc1BhcmFtZXRlcnMgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9EYXRhQWNjZXNzT3B0aW9uc1BhcmFtZXRlcnMoKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5EYXRhQWNjZXNzT3B0aW9ucyA9IGZ1bmN0aW9uKHBhcmFtZXRlcnMpIHtcbiAgcGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFyYW1ldGVycyA/IHt9IDogcGFyYW1ldGVycztcbiAgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUuY2FsbCh0aGlzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwibG9nTW9kZVwiLCBudWxsID09IHBhcmFtZXRlcnMubG9nTW9kZSA/IG51bGwgOiBwYXJhbWV0ZXJzLmxvZ01vZGUpO1xufTtcbiRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5EYXRhQWNjZXNzT3B0aW9ucywgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUpO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5EYXRhQWNjZXNzT3B0aW9ucy5wcm90b3R5cGUuZ2V0Q29uc3RydWN0b3IgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRGF0YUFjY2Vzc09wdGlvbnM7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5EYXRhQWNjZXNzT3B0aW9ucy5wcm90b3R5cGUuZ2V0UGFydGlhbENsYXNzTWV0YWRhdGEgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtlbnVtczp7bG9nTW9kZTptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkRhdGFBY2Nlc3NPcHRpb25zTG9nTW9kZUVudW19LCBrZXlzOltcImxvZ01vZGVcIl19O1xufTtcbiRqc2NvbXAuZ2xvYmFsLk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRGF0YUFjY2Vzc09wdGlvbnMucHJvdG90eXBlLCB7bG9nTW9kZTp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJsb2dNb2RlXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwibG9nTW9kZVwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwibG9nTW9kZVwiLCB2YWx1ZSk7XG59fX0pO1xuJGpzY29tcC5nbG9iYWwuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5EYXRhQWNjZXNzT3B0aW9ucywge0xvZ01vZGU6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5EYXRhQWNjZXNzT3B0aW9uc0xvZ01vZGVFbnVtO1xufX19KTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRGljdGlvbmFyeVZhbHVlUGFyYW1ldGVycyA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0RpY3Rpb25hcnlWYWx1ZVBhcmFtZXRlcnMoKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5EaWN0aW9uYXJ5VmFsdWUgPSBmdW5jdGlvbihwYXJhbWV0ZXJzKSB7XG4gIHBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IHBhcmFtZXRlcnMgPyB7fSA6IHBhcmFtZXRlcnM7XG4gIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlLmNhbGwodGhpcyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInZhbHVlc1wiLCBudWxsID09IHBhcmFtZXRlcnMudmFsdWVzID8gbnVsbCA6IHBhcmFtZXRlcnMudmFsdWVzKTtcbn07XG4kanNjb21wLmluaGVyaXRzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRGljdGlvbmFyeVZhbHVlLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkRpY3Rpb25hcnlWYWx1ZS5wcm90b3R5cGUuZ2V0Q29uc3RydWN0b3IgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRGljdGlvbmFyeVZhbHVlO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRGljdGlvbmFyeVZhbHVlLnByb3RvdHlwZS5nZXRQYXJ0aWFsQ2xhc3NNZXRhZGF0YSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge2tleXM6W1widmFsdWVzXCJdLCBvYmplY3RNYXBzOnt2YWx1ZXM6e2N0b3I6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5WYWx1ZU5vZGUsIGlzUHJvcGVydHlBcnJheTohMSwgaXNTZXJpYWxpemFibGU6ITAsIGlzVmFsdWVBcnJheTohMX19fTtcbn07XG4kanNjb21wLmdsb2JhbC5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkRpY3Rpb25hcnlWYWx1ZS5wcm90b3R5cGUsIHt2YWx1ZXM6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwidmFsdWVzXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwidmFsdWVzXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJ2YWx1ZXNcIiwgdmFsdWUpO1xufX19KTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRG91YmxlUmFuZ2VQYXJhbWV0ZXJzID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfRG91YmxlUmFuZ2VQYXJhbWV0ZXJzKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRG91YmxlUmFuZ2UgPSBmdW5jdGlvbihwYXJhbWV0ZXJzKSB7XG4gIHBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IHBhcmFtZXRlcnMgPyB7fSA6IHBhcmFtZXRlcnM7XG4gIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlLmNhbGwodGhpcyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcIm1pblwiLCBudWxsID09IHBhcmFtZXRlcnMubWluID8gbnVsbCA6IHBhcmFtZXRlcnMubWluKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwibWF4XCIsIG51bGwgPT0gcGFyYW1ldGVycy5tYXggPyBudWxsIDogcGFyYW1ldGVycy5tYXgpO1xufTtcbiRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Eb3VibGVSYW5nZSwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUpO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Eb3VibGVSYW5nZS5wcm90b3R5cGUuZ2V0Q29uc3RydWN0b3IgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRG91YmxlUmFuZ2U7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Eb3VibGVSYW5nZS5wcm90b3R5cGUuZ2V0UGFydGlhbENsYXNzTWV0YWRhdGEgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtrZXlzOltcIm1heFwiLCBcIm1pblwiXX07XG59O1xuJGpzY29tcC5nbG9iYWwuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Eb3VibGVSYW5nZS5wcm90b3R5cGUsIHttYXg6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwibWF4XCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwibWF4XCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJtYXhcIiwgdmFsdWUpO1xufX0sIG1pbjp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJtaW5cIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJtaW5cIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcIm1pblwiLCB2YWx1ZSk7XG59fX0pO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Ecml2ZURlc3RpbmF0aW9uUGFyYW1ldGVycyA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0RyaXZlRGVzdGluYXRpb25QYXJhbWV0ZXJzKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRHJpdmVEZXN0aW5hdGlvbiA9IGZ1bmN0aW9uKHBhcmFtZXRlcnMpIHtcbiAgcGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFyYW1ldGVycyA/IHt9IDogcGFyYW1ldGVycztcbiAgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUuY2FsbCh0aGlzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZm9sZGVyXCIsIG51bGwgPT0gcGFyYW1ldGVycy5mb2xkZXIgPyBudWxsIDogcGFyYW1ldGVycy5mb2xkZXIpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJmaWxlbmFtZVByZWZpeFwiLCBudWxsID09IHBhcmFtZXRlcnMuZmlsZW5hbWVQcmVmaXggPyBudWxsIDogcGFyYW1ldGVycy5maWxlbmFtZVByZWZpeCk7XG59O1xuJGpzY29tcC5pbmhlcml0cyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkRyaXZlRGVzdGluYXRpb24sIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlKTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRHJpdmVEZXN0aW5hdGlvbi5wcm90b3R5cGUuZ2V0Q29uc3RydWN0b3IgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRHJpdmVEZXN0aW5hdGlvbjtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkRyaXZlRGVzdGluYXRpb24ucHJvdG90eXBlLmdldFBhcnRpYWxDbGFzc01ldGFkYXRhID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7a2V5czpbXCJmaWxlbmFtZVByZWZpeFwiLCBcImZvbGRlclwiXX07XG59O1xuJGpzY29tcC5nbG9iYWwuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Ecml2ZURlc3RpbmF0aW9uLnByb3RvdHlwZSwge2ZpbGVuYW1lUHJlZml4Ontjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImZpbGVuYW1lUHJlZml4XCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiZmlsZW5hbWVQcmVmaXhcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImZpbGVuYW1lUHJlZml4XCIsIHZhbHVlKTtcbn19LCBmb2xkZXI6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiZm9sZGVyXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiZm9sZGVyXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJmb2xkZXJcIiwgdmFsdWUpO1xufX19KTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRWFydGhFbmdpbmVBc3NldFBhcmFtZXRlcnMgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9FYXJ0aEVuZ2luZUFzc2V0UGFyYW1ldGVycygpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkVhcnRoRW5naW5lQXNzZXQgPSBmdW5jdGlvbihwYXJhbWV0ZXJzKSB7XG4gIHBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IHBhcmFtZXRlcnMgPyB7fSA6IHBhcmFtZXRlcnM7XG4gIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlLmNhbGwodGhpcyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInRpbGVzdG9yZUxvY2F0aW9uXCIsIG51bGwgPT0gcGFyYW1ldGVycy50aWxlc3RvcmVMb2NhdGlvbiA/IG51bGwgOiBwYXJhbWV0ZXJzLnRpbGVzdG9yZUxvY2F0aW9uKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiY2xvdWRTdG9yYWdlTG9jYXRpb25cIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmNsb3VkU3RvcmFnZUxvY2F0aW9uID8gbnVsbCA6IHBhcmFtZXRlcnMuY2xvdWRTdG9yYWdlTG9jYXRpb24pO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJ0aWxlc3RvcmVFbnRyeVwiLCBudWxsID09IHBhcmFtZXRlcnMudGlsZXN0b3JlRW50cnkgPyBudWxsIDogcGFyYW1ldGVycy50aWxlc3RvcmVFbnRyeSk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImdjc0xvY2F0aW9uXCIsIG51bGwgPT0gcGFyYW1ldGVycy5nY3NMb2NhdGlvbiA/IG51bGwgOiBwYXJhbWV0ZXJzLmdjc0xvY2F0aW9uKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZmVhdHVyZVZpZXdBc3NldExvY2F0aW9uXCIsIG51bGwgPT0gcGFyYW1ldGVycy5mZWF0dXJlVmlld0Fzc2V0TG9jYXRpb24gPyBudWxsIDogcGFyYW1ldGVycy5mZWF0dXJlVmlld0Fzc2V0TG9jYXRpb24pO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJ0YWJsZUxvY2F0aW9uXCIsIG51bGwgPT0gcGFyYW1ldGVycy50YWJsZUxvY2F0aW9uID8gbnVsbCA6IHBhcmFtZXRlcnMudGFibGVMb2NhdGlvbik7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInR5cGVcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLnR5cGUgPyBudWxsIDogcGFyYW1ldGVycy50eXBlKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwibmFtZVwiLCBudWxsID09IHBhcmFtZXRlcnMubmFtZSA/IG51bGwgOiBwYXJhbWV0ZXJzLm5hbWUpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJpZFwiLCBudWxsID09IHBhcmFtZXRlcnMuaWQgPyBudWxsIDogcGFyYW1ldGVycy5pZCk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInVwZGF0ZVRpbWVcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLnVwZGF0ZVRpbWUgPyBudWxsIDogcGFyYW1ldGVycy51cGRhdGVUaW1lKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwidGl0bGVcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLnRpdGxlID8gbnVsbCA6IHBhcmFtZXRlcnMudGl0bGUpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJkZXNjcmlwdGlvblwiLCBudWxsID09IHBhcmFtZXRlcnMuZGVzY3JpcHRpb24gPyBudWxsIDogcGFyYW1ldGVycy5kZXNjcmlwdGlvbik7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInByb3BlcnRpZXNcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLnByb3BlcnRpZXMgPyBudWxsIDogcGFyYW1ldGVycy5wcm9wZXJ0aWVzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwic3RhcnRUaW1lXCIsIG51bGwgPT0gcGFyYW1ldGVycy5zdGFydFRpbWUgPyBudWxsIDogcGFyYW1ldGVycy5zdGFydFRpbWUpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJlbmRUaW1lXCIsIG51bGwgPT0gcGFyYW1ldGVycy5lbmRUaW1lID8gbnVsbCA6IHBhcmFtZXRlcnMuZW5kVGltZSk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImdlb21ldHJ5XCIsIG51bGwgPT0gcGFyYW1ldGVycy5nZW9tZXRyeSA/IG51bGwgOiBwYXJhbWV0ZXJzLmdlb21ldHJ5KTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiYmFuZHNcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmJhbmRzID8gbnVsbCA6IHBhcmFtZXRlcnMuYmFuZHMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJzaXplQnl0ZXNcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLnNpemVCeXRlcyA/IG51bGwgOiBwYXJhbWV0ZXJzLnNpemVCeXRlcyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImZlYXR1cmVDb3VudFwiLCBudWxsID09IHBhcmFtZXRlcnMuZmVhdHVyZUNvdW50ID8gbnVsbCA6IHBhcmFtZXRlcnMuZmVhdHVyZUNvdW50KTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwicXVvdGFcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLnF1b3RhID8gbnVsbCA6IHBhcmFtZXRlcnMucXVvdGEpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJleHByZXNzaW9uXCIsIG51bGwgPT0gcGFyYW1ldGVycy5leHByZXNzaW9uID8gbnVsbCA6IHBhcmFtZXRlcnMuZXhwcmVzc2lvbik7XG59O1xuJGpzY29tcC5pbmhlcml0cyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkVhcnRoRW5naW5lQXNzZXQsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlKTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRWFydGhFbmdpbmVBc3NldC5wcm90b3R5cGUuZ2V0Q29uc3RydWN0b3IgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRWFydGhFbmdpbmVBc3NldDtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkVhcnRoRW5naW5lQXNzZXQucHJvdG90eXBlLmdldFBhcnRpYWxDbGFzc01ldGFkYXRhID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7YXJyYXlzOntiYW5kczptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkltYWdlQmFuZH0sIGVudW1zOnt0eXBlOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRWFydGhFbmdpbmVBc3NldFR5cGVFbnVtfSwga2V5czpcImJhbmRzIGNsb3VkU3RvcmFnZUxvY2F0aW9uIGRlc2NyaXB0aW9uIGVuZFRpbWUgZXhwcmVzc2lvbiBmZWF0dXJlQ291bnQgZmVhdHVyZVZpZXdBc3NldExvY2F0aW9uIGdjc0xvY2F0aW9uIGdlb21ldHJ5IGlkIG5hbWUgcHJvcGVydGllcyBxdW90YSBzaXplQnl0ZXMgc3RhcnRUaW1lIHRhYmxlTG9jYXRpb24gdGlsZXN0b3JlRW50cnkgdGlsZXN0b3JlTG9jYXRpb24gdGl0bGUgdHlwZSB1cGRhdGVUaW1lXCIuc3BsaXQoXCIgXCIpLCBvYmplY3RNYXBzOntnZW9tZXRyeTp7Y3RvcjpudWxsLCBcbiAgaXNQcm9wZXJ0eUFycmF5OiExLCBpc1NlcmlhbGl6YWJsZTohMSwgaXNWYWx1ZUFycmF5OiExfSwgcHJvcGVydGllczp7Y3RvcjpudWxsLCBpc1Byb3BlcnR5QXJyYXk6ITEsIGlzU2VyaWFsaXphYmxlOiExLCBpc1ZhbHVlQXJyYXk6ITF9fSwgb2JqZWN0czp7Y2xvdWRTdG9yYWdlTG9jYXRpb246bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5DbG91ZFN0b3JhZ2VMb2NhdGlvbiwgZXhwcmVzc2lvbjptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkV4cHJlc3Npb24sIGZlYXR1cmVWaWV3QXNzZXRMb2NhdGlvbjptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkZlYXR1cmVWaWV3TG9jYXRpb24sIGdjc0xvY2F0aW9uOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuR2NzTG9jYXRpb24sIFxuICBxdW90YTptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkZvbGRlclF1b3RhLCB0YWJsZUxvY2F0aW9uOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGFibGVMb2NhdGlvbiwgdGlsZXN0b3JlRW50cnk6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UaWxlc3RvcmVFbnRyeSwgdGlsZXN0b3JlTG9jYXRpb246bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UaWxlc3RvcmVMb2NhdGlvbn19O1xufTtcbiRqc2NvbXAuZ2xvYmFsLk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRWFydGhFbmdpbmVBc3NldC5wcm90b3R5cGUsIHtiYW5kczp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJiYW5kc1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImJhbmRzXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJiYW5kc1wiLCB2YWx1ZSk7XG59fSwgY2xvdWRTdG9yYWdlTG9jYXRpb246e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiY2xvdWRTdG9yYWdlTG9jYXRpb25cIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJjbG91ZFN0b3JhZ2VMb2NhdGlvblwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiY2xvdWRTdG9yYWdlTG9jYXRpb25cIiwgdmFsdWUpO1xufX0sIGRlc2NyaXB0aW9uOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImRlc2NyaXB0aW9uXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiZGVzY3JpcHRpb25cIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImRlc2NyaXB0aW9uXCIsIHZhbHVlKTtcbn19LCBlbmRUaW1lOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImVuZFRpbWVcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJlbmRUaW1lXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJlbmRUaW1lXCIsIHZhbHVlKTtcbn19LCBleHByZXNzaW9uOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImV4cHJlc3Npb25cIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJleHByZXNzaW9uXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJleHByZXNzaW9uXCIsIHZhbHVlKTtcbn19LCBmZWF0dXJlQ291bnQ6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiZmVhdHVyZUNvdW50XCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiZmVhdHVyZUNvdW50XCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJmZWF0dXJlQ291bnRcIiwgdmFsdWUpO1xufX0sIGZlYXR1cmVWaWV3QXNzZXRMb2NhdGlvbjp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJmZWF0dXJlVmlld0Fzc2V0TG9jYXRpb25cIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJmZWF0dXJlVmlld0Fzc2V0TG9jYXRpb25cIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImZlYXR1cmVWaWV3QXNzZXRMb2NhdGlvblwiLCB2YWx1ZSk7XG59fSwgZ2NzTG9jYXRpb246e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiZ2NzTG9jYXRpb25cIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJnY3NMb2NhdGlvblwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZ2NzTG9jYXRpb25cIiwgdmFsdWUpO1xufX0sIGdlb21ldHJ5Ontjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImdlb21ldHJ5XCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiZ2VvbWV0cnlcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImdlb21ldHJ5XCIsIHZhbHVlKTtcbn19LCBpZDp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJpZFwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImlkXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJpZFwiLCB2YWx1ZSk7XG59fSwgbmFtZTp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJuYW1lXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwibmFtZVwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwibmFtZVwiLCB2YWx1ZSk7XG59fSwgcHJvcGVydGllczp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJwcm9wZXJ0aWVzXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwicHJvcGVydGllc1wiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwicHJvcGVydGllc1wiLCB2YWx1ZSk7XG59fSwgcXVvdGE6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwicXVvdGFcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJxdW90YVwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwicXVvdGFcIiwgdmFsdWUpO1xufX0sIHNpemVCeXRlczp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJzaXplQnl0ZXNcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJzaXplQnl0ZXNcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInNpemVCeXRlc1wiLCB2YWx1ZSk7XG59fSwgc3RhcnRUaW1lOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcInN0YXJ0VGltZVwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInN0YXJ0VGltZVwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwic3RhcnRUaW1lXCIsIHZhbHVlKTtcbn19LCB0YWJsZUxvY2F0aW9uOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcInRhYmxlTG9jYXRpb25cIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJ0YWJsZUxvY2F0aW9uXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJ0YWJsZUxvY2F0aW9uXCIsIHZhbHVlKTtcbn19LCB0aWxlc3RvcmVFbnRyeTp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJ0aWxlc3RvcmVFbnRyeVwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInRpbGVzdG9yZUVudHJ5XCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJ0aWxlc3RvcmVFbnRyeVwiLCB2YWx1ZSk7XG59fSwgdGlsZXN0b3JlTG9jYXRpb246e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwidGlsZXN0b3JlTG9jYXRpb25cIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJ0aWxlc3RvcmVMb2NhdGlvblwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwidGlsZXN0b3JlTG9jYXRpb25cIiwgdmFsdWUpO1xufX0sIHRpdGxlOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcInRpdGxlXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwidGl0bGVcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInRpdGxlXCIsIHZhbHVlKTtcbn19LCB0eXBlOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcInR5cGVcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJ0eXBlXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJ0eXBlXCIsIHZhbHVlKTtcbn19LCB1cGRhdGVUaW1lOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcInVwZGF0ZVRpbWVcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJ1cGRhdGVUaW1lXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJ1cGRhdGVUaW1lXCIsIHZhbHVlKTtcbn19fSk7XG4kanNjb21wLmdsb2JhbC5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkVhcnRoRW5naW5lQXNzZXQsIHtUeXBlOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRWFydGhFbmdpbmVBc3NldFR5cGVFbnVtO1xufX19KTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRWFydGhFbmdpbmVEZXN0aW5hdGlvblBhcmFtZXRlcnMgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9FYXJ0aEVuZ2luZURlc3RpbmF0aW9uUGFyYW1ldGVycygpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkVhcnRoRW5naW5lRGVzdGluYXRpb24gPSBmdW5jdGlvbihwYXJhbWV0ZXJzKSB7XG4gIHBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IHBhcmFtZXRlcnMgPyB7fSA6IHBhcmFtZXRlcnM7XG4gIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlLmNhbGwodGhpcyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcIm5hbWVcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLm5hbWUgPyBudWxsIDogcGFyYW1ldGVycy5uYW1lKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwib3ZlcndyaXRlXCIsIG51bGwgPT0gcGFyYW1ldGVycy5vdmVyd3JpdGUgPyBudWxsIDogcGFyYW1ldGVycy5vdmVyd3JpdGUpO1xufTtcbiRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5FYXJ0aEVuZ2luZURlc3RpbmF0aW9uLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkVhcnRoRW5naW5lRGVzdGluYXRpb24ucHJvdG90eXBlLmdldENvbnN0cnVjdG9yID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkVhcnRoRW5naW5lRGVzdGluYXRpb247XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5FYXJ0aEVuZ2luZURlc3RpbmF0aW9uLnByb3RvdHlwZS5nZXRQYXJ0aWFsQ2xhc3NNZXRhZGF0YSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge2tleXM6W1wibmFtZVwiLCBcIm92ZXJ3cml0ZVwiXX07XG59O1xuJGpzY29tcC5nbG9iYWwuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5FYXJ0aEVuZ2luZURlc3RpbmF0aW9uLnByb3RvdHlwZSwge25hbWU6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwibmFtZVwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcIm5hbWVcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcIm5hbWVcIiwgdmFsdWUpO1xufX0sIG92ZXJ3cml0ZTp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJvdmVyd3JpdGVcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJvdmVyd3JpdGVcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcIm92ZXJ3cml0ZVwiLCB2YWx1ZSk7XG59fX0pO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5FYXJ0aEVuZ2luZU1hcFBhcmFtZXRlcnMgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9FYXJ0aEVuZ2luZU1hcFBhcmFtZXRlcnMoKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5FYXJ0aEVuZ2luZU1hcCA9IGZ1bmN0aW9uKHBhcmFtZXRlcnMpIHtcbiAgcGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFyYW1ldGVycyA/IHt9IDogcGFyYW1ldGVycztcbiAgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUuY2FsbCh0aGlzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwibmFtZVwiLCBudWxsID09IHBhcmFtZXRlcnMubmFtZSA/IG51bGwgOiBwYXJhbWV0ZXJzLm5hbWUpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJleHByZXNzaW9uXCIsIG51bGwgPT0gcGFyYW1ldGVycy5leHByZXNzaW9uID8gbnVsbCA6IHBhcmFtZXRlcnMuZXhwcmVzc2lvbik7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImZpbGVGb3JtYXRcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmZpbGVGb3JtYXQgPyBudWxsIDogcGFyYW1ldGVycy5maWxlRm9ybWF0KTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiYmFuZElkc1wiLCBudWxsID09IHBhcmFtZXRlcnMuYmFuZElkcyA/IG51bGwgOiBwYXJhbWV0ZXJzLmJhbmRJZHMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJ2aXN1YWxpemF0aW9uT3B0aW9uc1wiLCBudWxsID09IHBhcmFtZXRlcnMudmlzdWFsaXphdGlvbk9wdGlvbnMgPyBudWxsIDogcGFyYW1ldGVycy52aXN1YWxpemF0aW9uT3B0aW9ucyk7XG59O1xuJGpzY29tcC5pbmhlcml0cyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkVhcnRoRW5naW5lTWFwLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkVhcnRoRW5naW5lTWFwLnByb3RvdHlwZS5nZXRDb25zdHJ1Y3RvciA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5FYXJ0aEVuZ2luZU1hcDtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkVhcnRoRW5naW5lTWFwLnByb3RvdHlwZS5nZXRQYXJ0aWFsQ2xhc3NNZXRhZGF0YSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge2VudW1zOntmaWxlRm9ybWF0Om1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRWFydGhFbmdpbmVNYXBGaWxlRm9ybWF0RW51bX0sIGtleXM6W1wiYmFuZElkc1wiLCBcImV4cHJlc3Npb25cIiwgXCJmaWxlRm9ybWF0XCIsIFwibmFtZVwiLCBcInZpc3VhbGl6YXRpb25PcHRpb25zXCJdLCBvYmplY3RzOntleHByZXNzaW9uOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRXhwcmVzc2lvbiwgdmlzdWFsaXphdGlvbk9wdGlvbnM6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5WaXN1YWxpemF0aW9uT3B0aW9uc319O1xufTtcbiRqc2NvbXAuZ2xvYmFsLk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRWFydGhFbmdpbmVNYXAucHJvdG90eXBlLCB7YmFuZElkczp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJiYW5kSWRzXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiYmFuZElkc1wiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiYmFuZElkc1wiLCB2YWx1ZSk7XG59fSwgZXhwcmVzc2lvbjp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJleHByZXNzaW9uXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiZXhwcmVzc2lvblwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZXhwcmVzc2lvblwiLCB2YWx1ZSk7XG59fSwgZmlsZUZvcm1hdDp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJmaWxlRm9ybWF0XCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiZmlsZUZvcm1hdFwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZmlsZUZvcm1hdFwiLCB2YWx1ZSk7XG59fSwgbmFtZTp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJuYW1lXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwibmFtZVwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwibmFtZVwiLCB2YWx1ZSk7XG59fSwgdmlzdWFsaXphdGlvbk9wdGlvbnM6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwidmlzdWFsaXphdGlvbk9wdGlvbnNcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJ2aXN1YWxpemF0aW9uT3B0aW9uc1wiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwidmlzdWFsaXphdGlvbk9wdGlvbnNcIiwgdmFsdWUpO1xufX19KTtcbiRqc2NvbXAuZ2xvYmFsLk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRWFydGhFbmdpbmVNYXAsIHtGaWxlRm9ybWF0Ontjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRWFydGhFbmdpbmVNYXBGaWxlRm9ybWF0RW51bTtcbn19fSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkVtcHR5UGFyYW1ldGVycyA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0VtcHR5UGFyYW1ldGVycygpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkVtcHR5ID0gZnVuY3Rpb24ocGFyYW1ldGVycykge1xuICBwYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXJhbWV0ZXJzID8ge30gOiBwYXJhbWV0ZXJzO1xuICBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZS5jYWxsKHRoaXMpO1xufTtcbiRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5FbXB0eSwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUpO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5FbXB0eS5wcm90b3R5cGUuZ2V0Q29uc3RydWN0b3IgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRW1wdHk7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5FbXB0eS5wcm90b3R5cGUuZ2V0UGFydGlhbENsYXNzTWV0YWRhdGEgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtrZXlzOltdfTtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkV4cG9ydENsYXNzaWZpZXJSZXF1ZXN0UGFyYW1ldGVycyA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0V4cG9ydENsYXNzaWZpZXJSZXF1ZXN0UGFyYW1ldGVycygpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkV4cG9ydENsYXNzaWZpZXJSZXF1ZXN0ID0gZnVuY3Rpb24ocGFyYW1ldGVycykge1xuICBwYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXJhbWV0ZXJzID8ge30gOiBwYXJhbWV0ZXJzO1xuICBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZS5jYWxsKHRoaXMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJleHByZXNzaW9uXCIsIG51bGwgPT0gcGFyYW1ldGVycy5leHByZXNzaW9uID8gbnVsbCA6IHBhcmFtZXRlcnMuZXhwcmVzc2lvbik7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImRlc2NyaXB0aW9uXCIsIG51bGwgPT0gcGFyYW1ldGVycy5kZXNjcmlwdGlvbiA/IG51bGwgOiBwYXJhbWV0ZXJzLmRlc2NyaXB0aW9uKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwicmVxdWVzdElkXCIsIG51bGwgPT0gcGFyYW1ldGVycy5yZXF1ZXN0SWQgPyBudWxsIDogcGFyYW1ldGVycy5yZXF1ZXN0SWQpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJhc3NldEV4cG9ydE9wdGlvbnNcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmFzc2V0RXhwb3J0T3B0aW9ucyA/IG51bGwgOiBwYXJhbWV0ZXJzLmFzc2V0RXhwb3J0T3B0aW9ucyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcIm1heFdvcmtlcnNcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLm1heFdvcmtlcnMgPyBudWxsIDogcGFyYW1ldGVycy5tYXhXb3JrZXJzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwibWF4V29ya2VyQ291bnRcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLm1heFdvcmtlckNvdW50ID8gbnVsbCA6IHBhcmFtZXRlcnMubWF4V29ya2VyQ291bnQpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJ3b3JrbG9hZFRhZ1wiLCBudWxsID09IHBhcmFtZXRlcnMud29ya2xvYWRUYWcgPyBudWxsIDogcGFyYW1ldGVycy53b3JrbG9hZFRhZyk7XG59O1xuJGpzY29tcC5pbmhlcml0cyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkV4cG9ydENsYXNzaWZpZXJSZXF1ZXN0LCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkV4cG9ydENsYXNzaWZpZXJSZXF1ZXN0LnByb3RvdHlwZS5nZXRDb25zdHJ1Y3RvciA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5FeHBvcnRDbGFzc2lmaWVyUmVxdWVzdDtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkV4cG9ydENsYXNzaWZpZXJSZXF1ZXN0LnByb3RvdHlwZS5nZXRQYXJ0aWFsQ2xhc3NNZXRhZGF0YSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge2tleXM6XCJhc3NldEV4cG9ydE9wdGlvbnMgZGVzY3JpcHRpb24gZXhwcmVzc2lvbiBtYXhXb3JrZXJDb3VudCBtYXhXb3JrZXJzIHJlcXVlc3RJZCB3b3JrbG9hZFRhZ1wiLnNwbGl0KFwiIFwiKSwgb2JqZWN0czp7YXNzZXRFeHBvcnRPcHRpb25zOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ2xhc3NpZmllckFzc2V0RXhwb3J0T3B0aW9ucywgZXhwcmVzc2lvbjptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkV4cHJlc3Npb259fTtcbn07XG4kanNjb21wLmdsb2JhbC5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkV4cG9ydENsYXNzaWZpZXJSZXF1ZXN0LnByb3RvdHlwZSwge2Fzc2V0RXhwb3J0T3B0aW9uczp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJhc3NldEV4cG9ydE9wdGlvbnNcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJhc3NldEV4cG9ydE9wdGlvbnNcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImFzc2V0RXhwb3J0T3B0aW9uc1wiLCB2YWx1ZSk7XG59fSwgZGVzY3JpcHRpb246e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiZGVzY3JpcHRpb25cIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJkZXNjcmlwdGlvblwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZGVzY3JpcHRpb25cIiwgdmFsdWUpO1xufX0sIGV4cHJlc3Npb246e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiZXhwcmVzc2lvblwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImV4cHJlc3Npb25cIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImV4cHJlc3Npb25cIiwgdmFsdWUpO1xufX0sIG1heFdvcmtlckNvdW50Ontjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcIm1heFdvcmtlckNvdW50XCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwibWF4V29ya2VyQ291bnRcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcIm1heFdvcmtlckNvdW50XCIsIHZhbHVlKTtcbn19LCBtYXhXb3JrZXJzOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcIm1heFdvcmtlcnNcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJtYXhXb3JrZXJzXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJtYXhXb3JrZXJzXCIsIHZhbHVlKTtcbn19LCByZXF1ZXN0SWQ6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwicmVxdWVzdElkXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwicmVxdWVzdElkXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJyZXF1ZXN0SWRcIiwgdmFsdWUpO1xufX0sIHdvcmtsb2FkVGFnOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcIndvcmtsb2FkVGFnXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwid29ya2xvYWRUYWdcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcIndvcmtsb2FkVGFnXCIsIHZhbHVlKTtcbn19fSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkV4cG9ydEltYWdlUmVxdWVzdFBhcmFtZXRlcnMgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9FeHBvcnRJbWFnZVJlcXVlc3RQYXJhbWV0ZXJzKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRXhwb3J0SW1hZ2VSZXF1ZXN0ID0gZnVuY3Rpb24ocGFyYW1ldGVycykge1xuICBwYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXJhbWV0ZXJzID8ge30gOiBwYXJhbWV0ZXJzO1xuICBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZS5jYWxsKHRoaXMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJmaWxlRXhwb3J0T3B0aW9uc1wiLCBudWxsID09IHBhcmFtZXRlcnMuZmlsZUV4cG9ydE9wdGlvbnMgPyBudWxsIDogcGFyYW1ldGVycy5maWxlRXhwb3J0T3B0aW9ucyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImFzc2V0RXhwb3J0T3B0aW9uc1wiLCBudWxsID09IHBhcmFtZXRlcnMuYXNzZXRFeHBvcnRPcHRpb25zID8gbnVsbCA6IHBhcmFtZXRlcnMuYXNzZXRFeHBvcnRPcHRpb25zKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZXhwcmVzc2lvblwiLCBudWxsID09IHBhcmFtZXRlcnMuZXhwcmVzc2lvbiA/IG51bGwgOiBwYXJhbWV0ZXJzLmV4cHJlc3Npb24pO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJkZXNjcmlwdGlvblwiLCBudWxsID09IHBhcmFtZXRlcnMuZGVzY3JpcHRpb24gPyBudWxsIDogcGFyYW1ldGVycy5kZXNjcmlwdGlvbik7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcIm1heFBpeGVsc1wiLCBudWxsID09IHBhcmFtZXRlcnMubWF4UGl4ZWxzID8gbnVsbCA6IHBhcmFtZXRlcnMubWF4UGl4ZWxzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZ3JpZFwiLCBudWxsID09IHBhcmFtZXRlcnMuZ3JpZCA/IG51bGwgOiBwYXJhbWV0ZXJzLmdyaWQpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJyZXF1ZXN0SWRcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLnJlcXVlc3RJZCA/IG51bGwgOiBwYXJhbWV0ZXJzLnJlcXVlc3RJZCk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcIm1heFdvcmtlcnNcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLm1heFdvcmtlcnMgPyBudWxsIDogcGFyYW1ldGVycy5tYXhXb3JrZXJzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwibWF4V29ya2VyQ291bnRcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLm1heFdvcmtlckNvdW50ID8gbnVsbCA6IHBhcmFtZXRlcnMubWF4V29ya2VyQ291bnQpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJ3b3JrbG9hZFRhZ1wiLCBudWxsID09IHBhcmFtZXRlcnMud29ya2xvYWRUYWcgPyBudWxsIDogcGFyYW1ldGVycy53b3JrbG9hZFRhZyk7XG59O1xuJGpzY29tcC5pbmhlcml0cyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkV4cG9ydEltYWdlUmVxdWVzdCwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUpO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5FeHBvcnRJbWFnZVJlcXVlc3QucHJvdG90eXBlLmdldENvbnN0cnVjdG9yID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkV4cG9ydEltYWdlUmVxdWVzdDtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkV4cG9ydEltYWdlUmVxdWVzdC5wcm90b3R5cGUuZ2V0UGFydGlhbENsYXNzTWV0YWRhdGEgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtrZXlzOlwiYXNzZXRFeHBvcnRPcHRpb25zIGRlc2NyaXB0aW9uIGV4cHJlc3Npb24gZmlsZUV4cG9ydE9wdGlvbnMgZ3JpZCBtYXhQaXhlbHMgbWF4V29ya2VyQ291bnQgbWF4V29ya2VycyByZXF1ZXN0SWQgd29ya2xvYWRUYWdcIi5zcGxpdChcIiBcIiksIG9iamVjdHM6e2Fzc2V0RXhwb3J0T3B0aW9uczptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkltYWdlQXNzZXRFeHBvcnRPcHRpb25zLCBleHByZXNzaW9uOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRXhwcmVzc2lvbiwgZmlsZUV4cG9ydE9wdGlvbnM6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JbWFnZUZpbGVFeHBvcnRPcHRpb25zLCBncmlkOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUGl4ZWxHcmlkfX07XG59O1xuJGpzY29tcC5nbG9iYWwuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5FeHBvcnRJbWFnZVJlcXVlc3QucHJvdG90eXBlLCB7YXNzZXRFeHBvcnRPcHRpb25zOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImFzc2V0RXhwb3J0T3B0aW9uc1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImFzc2V0RXhwb3J0T3B0aW9uc1wiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiYXNzZXRFeHBvcnRPcHRpb25zXCIsIHZhbHVlKTtcbn19LCBkZXNjcmlwdGlvbjp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJkZXNjcmlwdGlvblwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImRlc2NyaXB0aW9uXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJkZXNjcmlwdGlvblwiLCB2YWx1ZSk7XG59fSwgZXhwcmVzc2lvbjp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJleHByZXNzaW9uXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiZXhwcmVzc2lvblwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZXhwcmVzc2lvblwiLCB2YWx1ZSk7XG59fSwgZmlsZUV4cG9ydE9wdGlvbnM6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiZmlsZUV4cG9ydE9wdGlvbnNcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJmaWxlRXhwb3J0T3B0aW9uc1wiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZmlsZUV4cG9ydE9wdGlvbnNcIiwgdmFsdWUpO1xufX0sIGdyaWQ6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiZ3JpZFwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImdyaWRcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImdyaWRcIiwgdmFsdWUpO1xufX0sIG1heFBpeGVsczp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJtYXhQaXhlbHNcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJtYXhQaXhlbHNcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcIm1heFBpeGVsc1wiLCB2YWx1ZSk7XG59fSwgbWF4V29ya2VyQ291bnQ6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwibWF4V29ya2VyQ291bnRcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJtYXhXb3JrZXJDb3VudFwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwibWF4V29ya2VyQ291bnRcIiwgdmFsdWUpO1xufX0sIG1heFdvcmtlcnM6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwibWF4V29ya2Vyc1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcIm1heFdvcmtlcnNcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcIm1heFdvcmtlcnNcIiwgdmFsdWUpO1xufX0sIHJlcXVlc3RJZDp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJyZXF1ZXN0SWRcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJyZXF1ZXN0SWRcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInJlcXVlc3RJZFwiLCB2YWx1ZSk7XG59fSwgd29ya2xvYWRUYWc6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwid29ya2xvYWRUYWdcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJ3b3JrbG9hZFRhZ1wiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwid29ya2xvYWRUYWdcIiwgdmFsdWUpO1xufX19KTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRXhwb3J0TWFwUmVxdWVzdFBhcmFtZXRlcnMgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9FeHBvcnRNYXBSZXF1ZXN0UGFyYW1ldGVycygpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkV4cG9ydE1hcFJlcXVlc3QgPSBmdW5jdGlvbihwYXJhbWV0ZXJzKSB7XG4gIHBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IHBhcmFtZXRlcnMgPyB7fSA6IHBhcmFtZXRlcnM7XG4gIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlLmNhbGwodGhpcyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImV4cHJlc3Npb25cIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmV4cHJlc3Npb24gPyBudWxsIDogcGFyYW1ldGVycy5leHByZXNzaW9uKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZGVzY3JpcHRpb25cIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmRlc2NyaXB0aW9uID8gbnVsbCA6IHBhcmFtZXRlcnMuZGVzY3JpcHRpb24pO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJ0aWxlT3B0aW9uc1wiLCBudWxsID09IHBhcmFtZXRlcnMudGlsZU9wdGlvbnMgPyBudWxsIDogcGFyYW1ldGVycy50aWxlT3B0aW9ucyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInRpbGVFeHBvcnRPcHRpb25zXCIsIG51bGwgPT0gcGFyYW1ldGVycy50aWxlRXhwb3J0T3B0aW9ucyA/IG51bGwgOiBwYXJhbWV0ZXJzLnRpbGVFeHBvcnRPcHRpb25zKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwicmVxdWVzdElkXCIsIG51bGwgPT0gcGFyYW1ldGVycy5yZXF1ZXN0SWQgPyBudWxsIDogcGFyYW1ldGVycy5yZXF1ZXN0SWQpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJtYXhXb3JrZXJzXCIsIG51bGwgPT0gcGFyYW1ldGVycy5tYXhXb3JrZXJzID8gbnVsbCA6IHBhcmFtZXRlcnMubWF4V29ya2Vycyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcIm1heFdvcmtlckNvdW50XCIsIG51bGwgPT0gcGFyYW1ldGVycy5tYXhXb3JrZXJDb3VudCA/IG51bGwgOiBwYXJhbWV0ZXJzLm1heFdvcmtlckNvdW50KTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwid29ya2xvYWRUYWdcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLndvcmtsb2FkVGFnID8gbnVsbCA6IHBhcmFtZXRlcnMud29ya2xvYWRUYWcpO1xufTtcbiRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5FeHBvcnRNYXBSZXF1ZXN0LCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkV4cG9ydE1hcFJlcXVlc3QucHJvdG90eXBlLmdldENvbnN0cnVjdG9yID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkV4cG9ydE1hcFJlcXVlc3Q7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5FeHBvcnRNYXBSZXF1ZXN0LnByb3RvdHlwZS5nZXRQYXJ0aWFsQ2xhc3NNZXRhZGF0YSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge2tleXM6XCJkZXNjcmlwdGlvbiBleHByZXNzaW9uIG1heFdvcmtlckNvdW50IG1heFdvcmtlcnMgcmVxdWVzdElkIHRpbGVFeHBvcnRPcHRpb25zIHRpbGVPcHRpb25zIHdvcmtsb2FkVGFnXCIuc3BsaXQoXCIgXCIpLCBvYmplY3RzOntleHByZXNzaW9uOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRXhwcmVzc2lvbiwgdGlsZUV4cG9ydE9wdGlvbnM6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JbWFnZUZpbGVFeHBvcnRPcHRpb25zLCB0aWxlT3B0aW9uczptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRpbGVPcHRpb25zfX07XG59O1xuJGpzY29tcC5nbG9iYWwuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5FeHBvcnRNYXBSZXF1ZXN0LnByb3RvdHlwZSwge2Rlc2NyaXB0aW9uOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImRlc2NyaXB0aW9uXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiZGVzY3JpcHRpb25cIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImRlc2NyaXB0aW9uXCIsIHZhbHVlKTtcbn19LCBleHByZXNzaW9uOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImV4cHJlc3Npb25cIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJleHByZXNzaW9uXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJleHByZXNzaW9uXCIsIHZhbHVlKTtcbn19LCBtYXhXb3JrZXJDb3VudDp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJtYXhXb3JrZXJDb3VudFwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcIm1heFdvcmtlckNvdW50XCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJtYXhXb3JrZXJDb3VudFwiLCB2YWx1ZSk7XG59fSwgbWF4V29ya2Vyczp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJtYXhXb3JrZXJzXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwibWF4V29ya2Vyc1wiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwibWF4V29ya2Vyc1wiLCB2YWx1ZSk7XG59fSwgcmVxdWVzdElkOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcInJlcXVlc3RJZFwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInJlcXVlc3RJZFwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwicmVxdWVzdElkXCIsIHZhbHVlKTtcbn19LCB0aWxlRXhwb3J0T3B0aW9uczp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJ0aWxlRXhwb3J0T3B0aW9uc1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInRpbGVFeHBvcnRPcHRpb25zXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJ0aWxlRXhwb3J0T3B0aW9uc1wiLCB2YWx1ZSk7XG59fSwgdGlsZU9wdGlvbnM6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwidGlsZU9wdGlvbnNcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJ0aWxlT3B0aW9uc1wiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwidGlsZU9wdGlvbnNcIiwgdmFsdWUpO1xufX0sIHdvcmtsb2FkVGFnOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcIndvcmtsb2FkVGFnXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwid29ya2xvYWRUYWdcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcIndvcmtsb2FkVGFnXCIsIHZhbHVlKTtcbn19fSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkV4cG9ydFRhYmxlUmVxdWVzdFBhcmFtZXRlcnMgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9FeHBvcnRUYWJsZVJlcXVlc3RQYXJhbWV0ZXJzKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRXhwb3J0VGFibGVSZXF1ZXN0ID0gZnVuY3Rpb24ocGFyYW1ldGVycykge1xuICBwYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXJhbWV0ZXJzID8ge30gOiBwYXJhbWV0ZXJzO1xuICBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZS5jYWxsKHRoaXMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJmaWxlRXhwb3J0T3B0aW9uc1wiLCBudWxsID09IHBhcmFtZXRlcnMuZmlsZUV4cG9ydE9wdGlvbnMgPyBudWxsIDogcGFyYW1ldGVycy5maWxlRXhwb3J0T3B0aW9ucyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImFzc2V0RXhwb3J0T3B0aW9uc1wiLCBudWxsID09IHBhcmFtZXRlcnMuYXNzZXRFeHBvcnRPcHRpb25zID8gbnVsbCA6IHBhcmFtZXRlcnMuYXNzZXRFeHBvcnRPcHRpb25zKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZmVhdHVyZVZpZXdFeHBvcnRPcHRpb25zXCIsIG51bGwgPT0gcGFyYW1ldGVycy5mZWF0dXJlVmlld0V4cG9ydE9wdGlvbnMgPyBudWxsIDogcGFyYW1ldGVycy5mZWF0dXJlVmlld0V4cG9ydE9wdGlvbnMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJiaWdxdWVyeUV4cG9ydE9wdGlvbnNcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmJpZ3F1ZXJ5RXhwb3J0T3B0aW9ucyA/IG51bGwgOiBwYXJhbWV0ZXJzLmJpZ3F1ZXJ5RXhwb3J0T3B0aW9ucyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImV4cHJlc3Npb25cIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmV4cHJlc3Npb24gPyBudWxsIDogcGFyYW1ldGVycy5leHByZXNzaW9uKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZGVzY3JpcHRpb25cIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmRlc2NyaXB0aW9uID8gbnVsbCA6IHBhcmFtZXRlcnMuZGVzY3JpcHRpb24pO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJzZWxlY3RvcnNcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLnNlbGVjdG9ycyA/IG51bGwgOiBwYXJhbWV0ZXJzLnNlbGVjdG9ycyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInJlcXVlc3RJZFwiLCBudWxsID09IHBhcmFtZXRlcnMucmVxdWVzdElkID8gbnVsbCA6IHBhcmFtZXRlcnMucmVxdWVzdElkKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwibWF4RXJyb3JNZXRlcnNcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLm1heEVycm9yTWV0ZXJzID8gbnVsbCA6IHBhcmFtZXRlcnMubWF4RXJyb3JNZXRlcnMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJtYXhXb3JrZXJzXCIsIG51bGwgPT0gcGFyYW1ldGVycy5tYXhXb3JrZXJzID8gbnVsbCA6IHBhcmFtZXRlcnMubWF4V29ya2Vycyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcIm1heFdvcmtlckNvdW50XCIsIG51bGwgPT0gcGFyYW1ldGVycy5tYXhXb3JrZXJDb3VudCA/IG51bGwgOiBwYXJhbWV0ZXJzLm1heFdvcmtlckNvdW50KTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwibWF4VmVydGljZXNcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLm1heFZlcnRpY2VzID8gbnVsbCA6IHBhcmFtZXRlcnMubWF4VmVydGljZXMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJ3b3JrbG9hZFRhZ1wiLCBudWxsID09IHBhcmFtZXRlcnMud29ya2xvYWRUYWcgPyBudWxsIDogcGFyYW1ldGVycy53b3JrbG9hZFRhZyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInBvbGljeVwiLCBudWxsID09IHBhcmFtZXRlcnMucG9saWN5ID8gbnVsbCA6IHBhcmFtZXRlcnMucG9saWN5KTtcbn07XG4kanNjb21wLmluaGVyaXRzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRXhwb3J0VGFibGVSZXF1ZXN0LCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkV4cG9ydFRhYmxlUmVxdWVzdC5wcm90b3R5cGUuZ2V0Q29uc3RydWN0b3IgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRXhwb3J0VGFibGVSZXF1ZXN0O1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRXhwb3J0VGFibGVSZXF1ZXN0LnByb3RvdHlwZS5nZXRQYXJ0aWFsQ2xhc3NNZXRhZGF0YSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge2tleXM6XCJhc3NldEV4cG9ydE9wdGlvbnMgYmlncXVlcnlFeHBvcnRPcHRpb25zIGRlc2NyaXB0aW9uIGV4cHJlc3Npb24gZmVhdHVyZVZpZXdFeHBvcnRPcHRpb25zIGZpbGVFeHBvcnRPcHRpb25zIG1heEVycm9yTWV0ZXJzIG1heFZlcnRpY2VzIG1heFdvcmtlckNvdW50IG1heFdvcmtlcnMgcG9saWN5IHJlcXVlc3RJZCBzZWxlY3RvcnMgd29ya2xvYWRUYWdcIi5zcGxpdChcIiBcIiksIG9iamVjdHM6e2Fzc2V0RXhwb3J0T3B0aW9uczptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRhYmxlQXNzZXRFeHBvcnRPcHRpb25zLCBiaWdxdWVyeUV4cG9ydE9wdGlvbnM6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5CaWdRdWVyeUV4cG9ydE9wdGlvbnMsIGV4cHJlc3Npb246bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5FeHByZXNzaW9uLCBcbiAgZmVhdHVyZVZpZXdFeHBvcnRPcHRpb25zOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRmVhdHVyZVZpZXdBc3NldEV4cG9ydE9wdGlvbnMsIGZpbGVFeHBvcnRPcHRpb25zOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGFibGVGaWxlRXhwb3J0T3B0aW9ucywgcG9saWN5Om1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUG9saWN5fX07XG59O1xuJGpzY29tcC5nbG9iYWwuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5FeHBvcnRUYWJsZVJlcXVlc3QucHJvdG90eXBlLCB7YXNzZXRFeHBvcnRPcHRpb25zOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImFzc2V0RXhwb3J0T3B0aW9uc1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImFzc2V0RXhwb3J0T3B0aW9uc1wiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiYXNzZXRFeHBvcnRPcHRpb25zXCIsIHZhbHVlKTtcbn19LCBiaWdxdWVyeUV4cG9ydE9wdGlvbnM6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiYmlncXVlcnlFeHBvcnRPcHRpb25zXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiYmlncXVlcnlFeHBvcnRPcHRpb25zXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJiaWdxdWVyeUV4cG9ydE9wdGlvbnNcIiwgdmFsdWUpO1xufX0sIGRlc2NyaXB0aW9uOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImRlc2NyaXB0aW9uXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiZGVzY3JpcHRpb25cIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImRlc2NyaXB0aW9uXCIsIHZhbHVlKTtcbn19LCBleHByZXNzaW9uOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImV4cHJlc3Npb25cIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJleHByZXNzaW9uXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJleHByZXNzaW9uXCIsIHZhbHVlKTtcbn19LCBmZWF0dXJlVmlld0V4cG9ydE9wdGlvbnM6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiZmVhdHVyZVZpZXdFeHBvcnRPcHRpb25zXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiZmVhdHVyZVZpZXdFeHBvcnRPcHRpb25zXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJmZWF0dXJlVmlld0V4cG9ydE9wdGlvbnNcIiwgdmFsdWUpO1xufX0sIGZpbGVFeHBvcnRPcHRpb25zOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImZpbGVFeHBvcnRPcHRpb25zXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiZmlsZUV4cG9ydE9wdGlvbnNcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImZpbGVFeHBvcnRPcHRpb25zXCIsIHZhbHVlKTtcbn19LCBtYXhFcnJvck1ldGVyczp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJtYXhFcnJvck1ldGVyc1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcIm1heEVycm9yTWV0ZXJzXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJtYXhFcnJvck1ldGVyc1wiLCB2YWx1ZSk7XG59fSwgbWF4VmVydGljZXM6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwibWF4VmVydGljZXNcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJtYXhWZXJ0aWNlc1wiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwibWF4VmVydGljZXNcIiwgdmFsdWUpO1xufX0sIG1heFdvcmtlckNvdW50Ontjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcIm1heFdvcmtlckNvdW50XCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwibWF4V29ya2VyQ291bnRcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcIm1heFdvcmtlckNvdW50XCIsIHZhbHVlKTtcbn19LCBtYXhXb3JrZXJzOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcIm1heFdvcmtlcnNcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJtYXhXb3JrZXJzXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJtYXhXb3JrZXJzXCIsIHZhbHVlKTtcbn19LCBwb2xpY3k6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwicG9saWN5XCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwicG9saWN5XCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJwb2xpY3lcIiwgdmFsdWUpO1xufX0sIHJlcXVlc3RJZDp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJyZXF1ZXN0SWRcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJyZXF1ZXN0SWRcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInJlcXVlc3RJZFwiLCB2YWx1ZSk7XG59fSwgc2VsZWN0b3JzOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcInNlbGVjdG9yc1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInNlbGVjdG9yc1wiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwic2VsZWN0b3JzXCIsIHZhbHVlKTtcbn19LCB3b3JrbG9hZFRhZzp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJ3b3JrbG9hZFRhZ1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcIndvcmtsb2FkVGFnXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJ3b3JrbG9hZFRhZ1wiLCB2YWx1ZSk7XG59fX0pO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5FeHBvcnRWaWRlb01hcFJlcXVlc3RQYXJhbWV0ZXJzID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfRXhwb3J0VmlkZW9NYXBSZXF1ZXN0UGFyYW1ldGVycygpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkV4cG9ydFZpZGVvTWFwUmVxdWVzdCA9IGZ1bmN0aW9uKHBhcmFtZXRlcnMpIHtcbiAgcGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFyYW1ldGVycyA/IHt9IDogcGFyYW1ldGVycztcbiAgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUuY2FsbCh0aGlzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZXhwcmVzc2lvblwiLCBudWxsID09IHBhcmFtZXRlcnMuZXhwcmVzc2lvbiA/IG51bGwgOiBwYXJhbWV0ZXJzLmV4cHJlc3Npb24pO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJkZXNjcmlwdGlvblwiLCBudWxsID09IHBhcmFtZXRlcnMuZGVzY3JpcHRpb24gPyBudWxsIDogcGFyYW1ldGVycy5kZXNjcmlwdGlvbik7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInZpZGVvT3B0aW9uc1wiLCBudWxsID09IHBhcmFtZXRlcnMudmlkZW9PcHRpb25zID8gbnVsbCA6IHBhcmFtZXRlcnMudmlkZW9PcHRpb25zKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwidGlsZU9wdGlvbnNcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLnRpbGVPcHRpb25zID8gbnVsbCA6IHBhcmFtZXRlcnMudGlsZU9wdGlvbnMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJ0aWxlRXhwb3J0T3B0aW9uc1wiLCBudWxsID09IHBhcmFtZXRlcnMudGlsZUV4cG9ydE9wdGlvbnMgPyBudWxsIDogcGFyYW1ldGVycy50aWxlRXhwb3J0T3B0aW9ucyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInJlcXVlc3RJZFwiLCBudWxsID09IHBhcmFtZXRlcnMucmVxdWVzdElkID8gbnVsbCA6IHBhcmFtZXRlcnMucmVxdWVzdElkKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwidmVyc2lvblwiLCBudWxsID09IHBhcmFtZXRlcnMudmVyc2lvbiA/IG51bGwgOiBwYXJhbWV0ZXJzLnZlcnNpb24pO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJtYXhXb3JrZXJzXCIsIG51bGwgPT0gcGFyYW1ldGVycy5tYXhXb3JrZXJzID8gbnVsbCA6IHBhcmFtZXRlcnMubWF4V29ya2Vycyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcIm1heFdvcmtlckNvdW50XCIsIG51bGwgPT0gcGFyYW1ldGVycy5tYXhXb3JrZXJDb3VudCA/IG51bGwgOiBwYXJhbWV0ZXJzLm1heFdvcmtlckNvdW50KTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwid29ya2xvYWRUYWdcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLndvcmtsb2FkVGFnID8gbnVsbCA6IHBhcmFtZXRlcnMud29ya2xvYWRUYWcpO1xufTtcbiRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5FeHBvcnRWaWRlb01hcFJlcXVlc3QsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlKTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRXhwb3J0VmlkZW9NYXBSZXF1ZXN0LnByb3RvdHlwZS5nZXRDb25zdHJ1Y3RvciA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5FeHBvcnRWaWRlb01hcFJlcXVlc3Q7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5FeHBvcnRWaWRlb01hcFJlcXVlc3QucHJvdG90eXBlLmdldFBhcnRpYWxDbGFzc01ldGFkYXRhID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7ZW51bXM6e3ZlcnNpb246bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5FeHBvcnRWaWRlb01hcFJlcXVlc3RWZXJzaW9uRW51bX0sIGtleXM6XCJkZXNjcmlwdGlvbiBleHByZXNzaW9uIG1heFdvcmtlckNvdW50IG1heFdvcmtlcnMgcmVxdWVzdElkIHRpbGVFeHBvcnRPcHRpb25zIHRpbGVPcHRpb25zIHZlcnNpb24gdmlkZW9PcHRpb25zIHdvcmtsb2FkVGFnXCIuc3BsaXQoXCIgXCIpLCBvYmplY3RzOntleHByZXNzaW9uOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRXhwcmVzc2lvbiwgdGlsZUV4cG9ydE9wdGlvbnM6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5WaWRlb0ZpbGVFeHBvcnRPcHRpb25zLCB0aWxlT3B0aW9uczptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRpbGVPcHRpb25zLCBcbiAgdmlkZW9PcHRpb25zOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVmlkZW9PcHRpb25zfX07XG59O1xuJGpzY29tcC5nbG9iYWwuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5FeHBvcnRWaWRlb01hcFJlcXVlc3QucHJvdG90eXBlLCB7ZGVzY3JpcHRpb246e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiZGVzY3JpcHRpb25cIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJkZXNjcmlwdGlvblwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZGVzY3JpcHRpb25cIiwgdmFsdWUpO1xufX0sIGV4cHJlc3Npb246e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiZXhwcmVzc2lvblwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImV4cHJlc3Npb25cIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImV4cHJlc3Npb25cIiwgdmFsdWUpO1xufX0sIG1heFdvcmtlckNvdW50Ontjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcIm1heFdvcmtlckNvdW50XCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwibWF4V29ya2VyQ291bnRcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcIm1heFdvcmtlckNvdW50XCIsIHZhbHVlKTtcbn19LCBtYXhXb3JrZXJzOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcIm1heFdvcmtlcnNcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJtYXhXb3JrZXJzXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJtYXhXb3JrZXJzXCIsIHZhbHVlKTtcbn19LCByZXF1ZXN0SWQ6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwicmVxdWVzdElkXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwicmVxdWVzdElkXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJyZXF1ZXN0SWRcIiwgdmFsdWUpO1xufX0sIHRpbGVFeHBvcnRPcHRpb25zOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcInRpbGVFeHBvcnRPcHRpb25zXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwidGlsZUV4cG9ydE9wdGlvbnNcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInRpbGVFeHBvcnRPcHRpb25zXCIsIHZhbHVlKTtcbn19LCB0aWxlT3B0aW9uczp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJ0aWxlT3B0aW9uc1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInRpbGVPcHRpb25zXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJ0aWxlT3B0aW9uc1wiLCB2YWx1ZSk7XG59fSwgdmVyc2lvbjp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJ2ZXJzaW9uXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwidmVyc2lvblwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwidmVyc2lvblwiLCB2YWx1ZSk7XG59fSwgdmlkZW9PcHRpb25zOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcInZpZGVvT3B0aW9uc1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInZpZGVvT3B0aW9uc1wiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwidmlkZW9PcHRpb25zXCIsIHZhbHVlKTtcbn19LCB3b3JrbG9hZFRhZzp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJ3b3JrbG9hZFRhZ1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcIndvcmtsb2FkVGFnXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJ3b3JrbG9hZFRhZ1wiLCB2YWx1ZSk7XG59fX0pO1xuJGpzY29tcC5nbG9iYWwuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5FeHBvcnRWaWRlb01hcFJlcXVlc3QsIHtWZXJzaW9uOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRXhwb3J0VmlkZW9NYXBSZXF1ZXN0VmVyc2lvbkVudW07XG59fX0pO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5FeHBvcnRWaWRlb1JlcXVlc3RQYXJhbWV0ZXJzID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfRXhwb3J0VmlkZW9SZXF1ZXN0UGFyYW1ldGVycygpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkV4cG9ydFZpZGVvUmVxdWVzdCA9IGZ1bmN0aW9uKHBhcmFtZXRlcnMpIHtcbiAgcGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFyYW1ldGVycyA/IHt9IDogcGFyYW1ldGVycztcbiAgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUuY2FsbCh0aGlzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZXhwcmVzc2lvblwiLCBudWxsID09IHBhcmFtZXRlcnMuZXhwcmVzc2lvbiA/IG51bGwgOiBwYXJhbWV0ZXJzLmV4cHJlc3Npb24pO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJkZXNjcmlwdGlvblwiLCBudWxsID09IHBhcmFtZXRlcnMuZGVzY3JpcHRpb24gPyBudWxsIDogcGFyYW1ldGVycy5kZXNjcmlwdGlvbik7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInZpZGVvT3B0aW9uc1wiLCBudWxsID09IHBhcmFtZXRlcnMudmlkZW9PcHRpb25zID8gbnVsbCA6IHBhcmFtZXRlcnMudmlkZW9PcHRpb25zKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZmlsZUV4cG9ydE9wdGlvbnNcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmZpbGVFeHBvcnRPcHRpb25zID8gbnVsbCA6IHBhcmFtZXRlcnMuZmlsZUV4cG9ydE9wdGlvbnMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJyZXF1ZXN0SWRcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLnJlcXVlc3RJZCA/IG51bGwgOiBwYXJhbWV0ZXJzLnJlcXVlc3RJZCk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcIm1heFdvcmtlcnNcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLm1heFdvcmtlcnMgPyBudWxsIDogcGFyYW1ldGVycy5tYXhXb3JrZXJzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwibWF4V29ya2VyQ291bnRcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLm1heFdvcmtlckNvdW50ID8gbnVsbCA6IHBhcmFtZXRlcnMubWF4V29ya2VyQ291bnQpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJ3b3JrbG9hZFRhZ1wiLCBudWxsID09IHBhcmFtZXRlcnMud29ya2xvYWRUYWcgPyBudWxsIDogcGFyYW1ldGVycy53b3JrbG9hZFRhZyk7XG59O1xuJGpzY29tcC5pbmhlcml0cyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkV4cG9ydFZpZGVvUmVxdWVzdCwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUpO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5FeHBvcnRWaWRlb1JlcXVlc3QucHJvdG90eXBlLmdldENvbnN0cnVjdG9yID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkV4cG9ydFZpZGVvUmVxdWVzdDtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkV4cG9ydFZpZGVvUmVxdWVzdC5wcm90b3R5cGUuZ2V0UGFydGlhbENsYXNzTWV0YWRhdGEgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtrZXlzOlwiZGVzY3JpcHRpb24gZXhwcmVzc2lvbiBmaWxlRXhwb3J0T3B0aW9ucyBtYXhXb3JrZXJDb3VudCBtYXhXb3JrZXJzIHJlcXVlc3RJZCB2aWRlb09wdGlvbnMgd29ya2xvYWRUYWdcIi5zcGxpdChcIiBcIiksIG9iamVjdHM6e2V4cHJlc3Npb246bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5FeHByZXNzaW9uLCBmaWxlRXhwb3J0T3B0aW9uczptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlZpZGVvRmlsZUV4cG9ydE9wdGlvbnMsIHZpZGVvT3B0aW9uczptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlZpZGVvT3B0aW9uc319O1xufTtcbiRqc2NvbXAuZ2xvYmFsLk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRXhwb3J0VmlkZW9SZXF1ZXN0LnByb3RvdHlwZSwge2Rlc2NyaXB0aW9uOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImRlc2NyaXB0aW9uXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiZGVzY3JpcHRpb25cIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImRlc2NyaXB0aW9uXCIsIHZhbHVlKTtcbn19LCBleHByZXNzaW9uOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImV4cHJlc3Npb25cIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJleHByZXNzaW9uXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJleHByZXNzaW9uXCIsIHZhbHVlKTtcbn19LCBmaWxlRXhwb3J0T3B0aW9uczp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJmaWxlRXhwb3J0T3B0aW9uc1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImZpbGVFeHBvcnRPcHRpb25zXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJmaWxlRXhwb3J0T3B0aW9uc1wiLCB2YWx1ZSk7XG59fSwgbWF4V29ya2VyQ291bnQ6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwibWF4V29ya2VyQ291bnRcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJtYXhXb3JrZXJDb3VudFwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwibWF4V29ya2VyQ291bnRcIiwgdmFsdWUpO1xufX0sIG1heFdvcmtlcnM6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwibWF4V29ya2Vyc1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcIm1heFdvcmtlcnNcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcIm1heFdvcmtlcnNcIiwgdmFsdWUpO1xufX0sIHJlcXVlc3RJZDp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJyZXF1ZXN0SWRcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJyZXF1ZXN0SWRcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInJlcXVlc3RJZFwiLCB2YWx1ZSk7XG59fSwgdmlkZW9PcHRpb25zOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcInZpZGVvT3B0aW9uc1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInZpZGVvT3B0aW9uc1wiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwidmlkZW9PcHRpb25zXCIsIHZhbHVlKTtcbn19LCB3b3JrbG9hZFRhZzp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJ3b3JrbG9hZFRhZ1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcIndvcmtsb2FkVGFnXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJ3b3JrbG9hZFRhZ1wiLCB2YWx1ZSk7XG59fX0pO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5FeHByUGFyYW1ldGVycyA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0V4cHJQYXJhbWV0ZXJzKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRXhwciA9IGZ1bmN0aW9uKHBhcmFtZXRlcnMpIHtcbiAgcGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFyYW1ldGVycyA/IHt9IDogcGFyYW1ldGVycztcbiAgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUuY2FsbCh0aGlzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZXhwcmVzc2lvblwiLCBudWxsID09IHBhcmFtZXRlcnMuZXhwcmVzc2lvbiA/IG51bGwgOiBwYXJhbWV0ZXJzLmV4cHJlc3Npb24pO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJ0aXRsZVwiLCBudWxsID09IHBhcmFtZXRlcnMudGl0bGUgPyBudWxsIDogcGFyYW1ldGVycy50aXRsZSk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImRlc2NyaXB0aW9uXCIsIG51bGwgPT0gcGFyYW1ldGVycy5kZXNjcmlwdGlvbiA/IG51bGwgOiBwYXJhbWV0ZXJzLmRlc2NyaXB0aW9uKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwibG9jYXRpb25cIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmxvY2F0aW9uID8gbnVsbCA6IHBhcmFtZXRlcnMubG9jYXRpb24pO1xufTtcbiRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5FeHByLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkV4cHIucHJvdG90eXBlLmdldENvbnN0cnVjdG9yID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkV4cHI7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5FeHByLnByb3RvdHlwZS5nZXRQYXJ0aWFsQ2xhc3NNZXRhZGF0YSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge2tleXM6W1wiZGVzY3JpcHRpb25cIiwgXCJleHByZXNzaW9uXCIsIFwibG9jYXRpb25cIiwgXCJ0aXRsZVwiXX07XG59O1xuJGpzY29tcC5nbG9iYWwuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5FeHByLnByb3RvdHlwZSwge2Rlc2NyaXB0aW9uOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImRlc2NyaXB0aW9uXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiZGVzY3JpcHRpb25cIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImRlc2NyaXB0aW9uXCIsIHZhbHVlKTtcbn19LCBleHByZXNzaW9uOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImV4cHJlc3Npb25cIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJleHByZXNzaW9uXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJleHByZXNzaW9uXCIsIHZhbHVlKTtcbn19LCBsb2NhdGlvbjp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJsb2NhdGlvblwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImxvY2F0aW9uXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJsb2NhdGlvblwiLCB2YWx1ZSk7XG59fSwgdGl0bGU6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwidGl0bGVcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJ0aXRsZVwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwidGl0bGVcIiwgdmFsdWUpO1xufX19KTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRXhwcmVzc2lvblBhcmFtZXRlcnMgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9FeHByZXNzaW9uUGFyYW1ldGVycygpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkV4cHJlc3Npb24gPSBmdW5jdGlvbihwYXJhbWV0ZXJzKSB7XG4gIHBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IHBhcmFtZXRlcnMgPyB7fSA6IHBhcmFtZXRlcnM7XG4gIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlLmNhbGwodGhpcyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInZhbHVlc1wiLCBudWxsID09IHBhcmFtZXRlcnMudmFsdWVzID8gbnVsbCA6IHBhcmFtZXRlcnMudmFsdWVzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwicmVzdWx0XCIsIG51bGwgPT0gcGFyYW1ldGVycy5yZXN1bHQgPyBudWxsIDogcGFyYW1ldGVycy5yZXN1bHQpO1xufTtcbiRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5FeHByZXNzaW9uLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkV4cHJlc3Npb24ucHJvdG90eXBlLmdldENvbnN0cnVjdG9yID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkV4cHJlc3Npb247XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5FeHByZXNzaW9uLnByb3RvdHlwZS5nZXRQYXJ0aWFsQ2xhc3NNZXRhZGF0YSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge2tleXM6W1wicmVzdWx0XCIsIFwidmFsdWVzXCJdLCBvYmplY3RNYXBzOnt2YWx1ZXM6e2N0b3I6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5WYWx1ZU5vZGUsIGlzUHJvcGVydHlBcnJheTohMSwgaXNTZXJpYWxpemFibGU6ITAsIGlzVmFsdWVBcnJheTohMX19fTtcbn07XG4kanNjb21wLmdsb2JhbC5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkV4cHJlc3Npb24ucHJvdG90eXBlLCB7cmVzdWx0Ontjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcInJlc3VsdFwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInJlc3VsdFwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwicmVzdWx0XCIsIHZhbHVlKTtcbn19LCB2YWx1ZXM6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwidmFsdWVzXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwidmFsdWVzXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJ2YWx1ZXNcIiwgdmFsdWUpO1xufX19KTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRmVhdHVyZVBhcmFtZXRlcnMgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9GZWF0dXJlUGFyYW1ldGVycygpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkZlYXR1cmUgPSBmdW5jdGlvbihwYXJhbWV0ZXJzKSB7XG4gIHBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IHBhcmFtZXRlcnMgPyB7fSA6IHBhcmFtZXRlcnM7XG4gIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlLmNhbGwodGhpcyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInR5cGVcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLnR5cGUgPyBudWxsIDogcGFyYW1ldGVycy50eXBlKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZ2VvbWV0cnlcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmdlb21ldHJ5ID8gbnVsbCA6IHBhcmFtZXRlcnMuZ2VvbWV0cnkpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJwcm9wZXJ0aWVzXCIsIG51bGwgPT0gcGFyYW1ldGVycy5wcm9wZXJ0aWVzID8gbnVsbCA6IHBhcmFtZXRlcnMucHJvcGVydGllcyk7XG59O1xuJGpzY29tcC5pbmhlcml0cyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkZlYXR1cmUsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlKTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRmVhdHVyZS5wcm90b3R5cGUuZ2V0Q29uc3RydWN0b3IgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRmVhdHVyZTtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkZlYXR1cmUucHJvdG90eXBlLmdldFBhcnRpYWxDbGFzc01ldGFkYXRhID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7a2V5czpbXCJnZW9tZXRyeVwiLCBcInByb3BlcnRpZXNcIiwgXCJ0eXBlXCJdfTtcbn07XG4kanNjb21wLmdsb2JhbC5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkZlYXR1cmUucHJvdG90eXBlLCB7Z2VvbWV0cnk6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiZ2VvbWV0cnlcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJnZW9tZXRyeVwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZ2VvbWV0cnlcIiwgdmFsdWUpO1xufX0sIHByb3BlcnRpZXM6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwicHJvcGVydGllc1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInByb3BlcnRpZXNcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInByb3BlcnRpZXNcIiwgdmFsdWUpO1xufX0sIHR5cGU6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwidHlwZVwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInR5cGVcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInR5cGVcIiwgdmFsdWUpO1xufX19KTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRmVhdHVyZVZpZXdQYXJhbWV0ZXJzID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfRmVhdHVyZVZpZXdQYXJhbWV0ZXJzKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRmVhdHVyZVZpZXcgPSBmdW5jdGlvbihwYXJhbWV0ZXJzKSB7XG4gIHBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IHBhcmFtZXRlcnMgPyB7fSA6IHBhcmFtZXRlcnM7XG4gIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlLmNhbGwodGhpcyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImFzc2V0XCIsIG51bGwgPT0gcGFyYW1ldGVycy5hc3NldCA/IG51bGwgOiBwYXJhbWV0ZXJzLmFzc2V0KTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwibWFwTmFtZVwiLCBudWxsID09IHBhcmFtZXRlcnMubWFwTmFtZSA/IG51bGwgOiBwYXJhbWV0ZXJzLm1hcE5hbWUpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJuYW1lXCIsIG51bGwgPT0gcGFyYW1ldGVycy5uYW1lID8gbnVsbCA6IHBhcmFtZXRlcnMubmFtZSk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInZpc3VhbGl6YXRpb25FeHByZXNzaW9uXCIsIG51bGwgPT0gcGFyYW1ldGVycy52aXN1YWxpemF0aW9uRXhwcmVzc2lvbiA/IG51bGwgOiBwYXJhbWV0ZXJzLnZpc3VhbGl6YXRpb25FeHByZXNzaW9uKTtcbn07XG4kanNjb21wLmluaGVyaXRzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRmVhdHVyZVZpZXcsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlKTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRmVhdHVyZVZpZXcucHJvdG90eXBlLmdldENvbnN0cnVjdG9yID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkZlYXR1cmVWaWV3O1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRmVhdHVyZVZpZXcucHJvdG90eXBlLmdldFBhcnRpYWxDbGFzc01ldGFkYXRhID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7a2V5czpbXCJhc3NldFwiLCBcIm1hcE5hbWVcIiwgXCJuYW1lXCIsIFwidmlzdWFsaXphdGlvbkV4cHJlc3Npb25cIl0sIG9iamVjdHM6e3Zpc3VhbGl6YXRpb25FeHByZXNzaW9uOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRXhwcmVzc2lvbn19O1xufTtcbiRqc2NvbXAuZ2xvYmFsLk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRmVhdHVyZVZpZXcucHJvdG90eXBlLCB7YXNzZXQ6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiYXNzZXRcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJhc3NldFwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiYXNzZXRcIiwgdmFsdWUpO1xufX0sIG1hcE5hbWU6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwibWFwTmFtZVwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcIm1hcE5hbWVcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcIm1hcE5hbWVcIiwgdmFsdWUpO1xufX0sIG5hbWU6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwibmFtZVwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcIm5hbWVcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcIm5hbWVcIiwgdmFsdWUpO1xufX0sIHZpc3VhbGl6YXRpb25FeHByZXNzaW9uOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcInZpc3VhbGl6YXRpb25FeHByZXNzaW9uXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwidmlzdWFsaXphdGlvbkV4cHJlc3Npb25cIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInZpc3VhbGl6YXRpb25FeHByZXNzaW9uXCIsIHZhbHVlKTtcbn19fSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkZlYXR1cmVWaWV3QXNzZXRFeHBvcnRPcHRpb25zUGFyYW1ldGVycyA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0ZlYXR1cmVWaWV3QXNzZXRFeHBvcnRPcHRpb25zUGFyYW1ldGVycygpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkZlYXR1cmVWaWV3QXNzZXRFeHBvcnRPcHRpb25zID0gZnVuY3Rpb24ocGFyYW1ldGVycykge1xuICBwYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXJhbWV0ZXJzID8ge30gOiBwYXJhbWV0ZXJzO1xuICBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZS5jYWxsKHRoaXMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJmZWF0dXJlVmlld0Rlc3RpbmF0aW9uXCIsIG51bGwgPT0gcGFyYW1ldGVycy5mZWF0dXJlVmlld0Rlc3RpbmF0aW9uID8gbnVsbCA6IHBhcmFtZXRlcnMuZmVhdHVyZVZpZXdEZXN0aW5hdGlvbik7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImluZ2VzdGlvblRpbWVQYXJhbWV0ZXJzXCIsIG51bGwgPT0gcGFyYW1ldGVycy5pbmdlc3Rpb25UaW1lUGFyYW1ldGVycyA/IG51bGwgOiBwYXJhbWV0ZXJzLmluZ2VzdGlvblRpbWVQYXJhbWV0ZXJzKTtcbn07XG4kanNjb21wLmluaGVyaXRzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRmVhdHVyZVZpZXdBc3NldEV4cG9ydE9wdGlvbnMsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlKTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRmVhdHVyZVZpZXdBc3NldEV4cG9ydE9wdGlvbnMucHJvdG90eXBlLmdldENvbnN0cnVjdG9yID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkZlYXR1cmVWaWV3QXNzZXRFeHBvcnRPcHRpb25zO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRmVhdHVyZVZpZXdBc3NldEV4cG9ydE9wdGlvbnMucHJvdG90eXBlLmdldFBhcnRpYWxDbGFzc01ldGFkYXRhID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7a2V5czpbXCJmZWF0dXJlVmlld0Rlc3RpbmF0aW9uXCIsIFwiaW5nZXN0aW9uVGltZVBhcmFtZXRlcnNcIl0sIG9iamVjdHM6e2ZlYXR1cmVWaWV3RGVzdGluYXRpb246bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5GZWF0dXJlVmlld0Rlc3RpbmF0aW9uLCBpbmdlc3Rpb25UaW1lUGFyYW1ldGVyczptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkZlYXR1cmVWaWV3SW5nZXN0aW9uVGltZVBhcmFtZXRlcnN9fTtcbn07XG4kanNjb21wLmdsb2JhbC5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkZlYXR1cmVWaWV3QXNzZXRFeHBvcnRPcHRpb25zLnByb3RvdHlwZSwge2ZlYXR1cmVWaWV3RGVzdGluYXRpb246e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiZmVhdHVyZVZpZXdEZXN0aW5hdGlvblwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImZlYXR1cmVWaWV3RGVzdGluYXRpb25cIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImZlYXR1cmVWaWV3RGVzdGluYXRpb25cIiwgdmFsdWUpO1xufX0sIGluZ2VzdGlvblRpbWVQYXJhbWV0ZXJzOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImluZ2VzdGlvblRpbWVQYXJhbWV0ZXJzXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiaW5nZXN0aW9uVGltZVBhcmFtZXRlcnNcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImluZ2VzdGlvblRpbWVQYXJhbWV0ZXJzXCIsIHZhbHVlKTtcbn19fSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkZlYXR1cmVWaWV3QXR0cmlidXRlUGFyYW1ldGVycyA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0ZlYXR1cmVWaWV3QXR0cmlidXRlUGFyYW1ldGVycygpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkZlYXR1cmVWaWV3QXR0cmlidXRlID0gZnVuY3Rpb24ocGFyYW1ldGVycykge1xuICBwYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXJhbWV0ZXJzID8ge30gOiBwYXJhbWV0ZXJzO1xuICBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZS5jYWxsKHRoaXMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJuYW1lXCIsIG51bGwgPT0gcGFyYW1ldGVycy5uYW1lID8gbnVsbCA6IHBhcmFtZXRlcnMubmFtZSk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInR5cGVcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLnR5cGUgPyBudWxsIDogcGFyYW1ldGVycy50eXBlKTtcbn07XG4kanNjb21wLmluaGVyaXRzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRmVhdHVyZVZpZXdBdHRyaWJ1dGUsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlKTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRmVhdHVyZVZpZXdBdHRyaWJ1dGUucHJvdG90eXBlLmdldENvbnN0cnVjdG9yID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkZlYXR1cmVWaWV3QXR0cmlidXRlO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRmVhdHVyZVZpZXdBdHRyaWJ1dGUucHJvdG90eXBlLmdldFBhcnRpYWxDbGFzc01ldGFkYXRhID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7ZW51bXM6e3R5cGU6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5GZWF0dXJlVmlld0F0dHJpYnV0ZVR5cGVFbnVtfSwga2V5czpbXCJuYW1lXCIsIFwidHlwZVwiXX07XG59O1xuJGpzY29tcC5nbG9iYWwuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5GZWF0dXJlVmlld0F0dHJpYnV0ZS5wcm90b3R5cGUsIHtuYW1lOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcIm5hbWVcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJuYW1lXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJuYW1lXCIsIHZhbHVlKTtcbn19LCB0eXBlOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcInR5cGVcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJ0eXBlXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJ0eXBlXCIsIHZhbHVlKTtcbn19fSk7XG4kanNjb21wLmdsb2JhbC5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkZlYXR1cmVWaWV3QXR0cmlidXRlLCB7VHlwZTp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkZlYXR1cmVWaWV3QXR0cmlidXRlVHlwZUVudW07XG59fX0pO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5GZWF0dXJlVmlld0Rlc3RpbmF0aW9uUGFyYW1ldGVycyA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0ZlYXR1cmVWaWV3RGVzdGluYXRpb25QYXJhbWV0ZXJzKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRmVhdHVyZVZpZXdEZXN0aW5hdGlvbiA9IGZ1bmN0aW9uKHBhcmFtZXRlcnMpIHtcbiAgcGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFyYW1ldGVycyA/IHt9IDogcGFyYW1ldGVycztcbiAgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUuY2FsbCh0aGlzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwibmFtZVwiLCBudWxsID09IHBhcmFtZXRlcnMubmFtZSA/IG51bGwgOiBwYXJhbWV0ZXJzLm5hbWUpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJhc3NldFZlcnNpb25cIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmFzc2V0VmVyc2lvbiA/IG51bGwgOiBwYXJhbWV0ZXJzLmFzc2V0VmVyc2lvbik7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInBlcm1pc3Npb25zXCIsIG51bGwgPT0gcGFyYW1ldGVycy5wZXJtaXNzaW9ucyA/IG51bGwgOiBwYXJhbWV0ZXJzLnBlcm1pc3Npb25zKTtcbn07XG4kanNjb21wLmluaGVyaXRzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRmVhdHVyZVZpZXdEZXN0aW5hdGlvbiwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUpO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5GZWF0dXJlVmlld0Rlc3RpbmF0aW9uLnByb3RvdHlwZS5nZXRDb25zdHJ1Y3RvciA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5GZWF0dXJlVmlld0Rlc3RpbmF0aW9uO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRmVhdHVyZVZpZXdEZXN0aW5hdGlvbi5wcm90b3R5cGUuZ2V0UGFydGlhbENsYXNzTWV0YWRhdGEgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtlbnVtczp7cGVybWlzc2lvbnM6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5GZWF0dXJlVmlld0Rlc3RpbmF0aW9uUGVybWlzc2lvbnNFbnVtfSwga2V5czpbXCJhc3NldFZlcnNpb25cIiwgXCJuYW1lXCIsIFwicGVybWlzc2lvbnNcIl19O1xufTtcbiRqc2NvbXAuZ2xvYmFsLk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRmVhdHVyZVZpZXdEZXN0aW5hdGlvbi5wcm90b3R5cGUsIHthc3NldFZlcnNpb246e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiYXNzZXRWZXJzaW9uXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiYXNzZXRWZXJzaW9uXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJhc3NldFZlcnNpb25cIiwgdmFsdWUpO1xufX0sIG5hbWU6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwibmFtZVwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcIm5hbWVcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcIm5hbWVcIiwgdmFsdWUpO1xufX0sIHBlcm1pc3Npb25zOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcInBlcm1pc3Npb25zXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwicGVybWlzc2lvbnNcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInBlcm1pc3Npb25zXCIsIHZhbHVlKTtcbn19fSk7XG4kanNjb21wLmdsb2JhbC5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkZlYXR1cmVWaWV3RGVzdGluYXRpb24sIHtQZXJtaXNzaW9uczp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkZlYXR1cmVWaWV3RGVzdGluYXRpb25QZXJtaXNzaW9uc0VudW07XG59fX0pO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5GZWF0dXJlVmlld0luZ2VzdGlvblRpbWVQYXJhbWV0ZXJzUGFyYW1ldGVycyA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0ZlYXR1cmVWaWV3SW5nZXN0aW9uVGltZVBhcmFtZXRlcnNQYXJhbWV0ZXJzKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRmVhdHVyZVZpZXdJbmdlc3Rpb25UaW1lUGFyYW1ldGVycyA9IGZ1bmN0aW9uKHBhcmFtZXRlcnMpIHtcbiAgcGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFyYW1ldGVycyA/IHt9IDogcGFyYW1ldGVycztcbiAgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUuY2FsbCh0aGlzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwidGhpbm5pbmdPcHRpb25zXCIsIG51bGwgPT0gcGFyYW1ldGVycy50aGlubmluZ09wdGlvbnMgPyBudWxsIDogcGFyYW1ldGVycy50aGlubmluZ09wdGlvbnMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJyYW5raW5nT3B0aW9uc1wiLCBudWxsID09IHBhcmFtZXRlcnMucmFua2luZ09wdGlvbnMgPyBudWxsIDogcGFyYW1ldGVycy5yYW5raW5nT3B0aW9ucyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInByZXJlbmRlcmluZ09wdGlvbnNcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLnByZXJlbmRlcmluZ09wdGlvbnMgPyBudWxsIDogcGFyYW1ldGVycy5wcmVyZW5kZXJpbmdPcHRpb25zKTtcbn07XG4kanNjb21wLmluaGVyaXRzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRmVhdHVyZVZpZXdJbmdlc3Rpb25UaW1lUGFyYW1ldGVycywgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUpO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5GZWF0dXJlVmlld0luZ2VzdGlvblRpbWVQYXJhbWV0ZXJzLnByb3RvdHlwZS5nZXRDb25zdHJ1Y3RvciA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5GZWF0dXJlVmlld0luZ2VzdGlvblRpbWVQYXJhbWV0ZXJzO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRmVhdHVyZVZpZXdJbmdlc3Rpb25UaW1lUGFyYW1ldGVycy5wcm90b3R5cGUuZ2V0UGFydGlhbENsYXNzTWV0YWRhdGEgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtrZXlzOltcInByZXJlbmRlcmluZ09wdGlvbnNcIiwgXCJyYW5raW5nT3B0aW9uc1wiLCBcInRoaW5uaW5nT3B0aW9uc1wiXSwgb2JqZWN0czp7cHJlcmVuZGVyaW5nT3B0aW9uczptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByZXJlbmRlcmluZ09wdGlvbnMsIHJhbmtpbmdPcHRpb25zOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUmFua2luZ09wdGlvbnMsIHRoaW5uaW5nT3B0aW9uczptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRoaW5uaW5nT3B0aW9uc319O1xufTtcbiRqc2NvbXAuZ2xvYmFsLk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRmVhdHVyZVZpZXdJbmdlc3Rpb25UaW1lUGFyYW1ldGVycy5wcm90b3R5cGUsIHtwcmVyZW5kZXJpbmdPcHRpb25zOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcInByZXJlbmRlcmluZ09wdGlvbnNcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJwcmVyZW5kZXJpbmdPcHRpb25zXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJwcmVyZW5kZXJpbmdPcHRpb25zXCIsIHZhbHVlKTtcbn19LCByYW5raW5nT3B0aW9uczp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJyYW5raW5nT3B0aW9uc1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInJhbmtpbmdPcHRpb25zXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJyYW5raW5nT3B0aW9uc1wiLCB2YWx1ZSk7XG59fSwgdGhpbm5pbmdPcHRpb25zOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcInRoaW5uaW5nT3B0aW9uc1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInRoaW5uaW5nT3B0aW9uc1wiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwidGhpbm5pbmdPcHRpb25zXCIsIHZhbHVlKTtcbn19fSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkZlYXR1cmVWaWV3TG9jYXRpb25QYXJhbWV0ZXJzID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfRmVhdHVyZVZpZXdMb2NhdGlvblBhcmFtZXRlcnMoKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5GZWF0dXJlVmlld0xvY2F0aW9uID0gZnVuY3Rpb24ocGFyYW1ldGVycykge1xuICBwYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXJhbWV0ZXJzID8ge30gOiBwYXJhbWV0ZXJzO1xuICBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZS5jYWxsKHRoaXMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJsb2NhdGlvblwiLCBudWxsID09IHBhcmFtZXRlcnMubG9jYXRpb24gPyBudWxsIDogcGFyYW1ldGVycy5sb2NhdGlvbik7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImFzc2V0T3B0aW9uc1wiLCBudWxsID09IHBhcmFtZXRlcnMuYXNzZXRPcHRpb25zID8gbnVsbCA6IHBhcmFtZXRlcnMuYXNzZXRPcHRpb25zKTtcbn07XG4kanNjb21wLmluaGVyaXRzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRmVhdHVyZVZpZXdMb2NhdGlvbiwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUpO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5GZWF0dXJlVmlld0xvY2F0aW9uLnByb3RvdHlwZS5nZXRDb25zdHJ1Y3RvciA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5GZWF0dXJlVmlld0xvY2F0aW9uO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRmVhdHVyZVZpZXdMb2NhdGlvbi5wcm90b3R5cGUuZ2V0UGFydGlhbENsYXNzTWV0YWRhdGEgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtrZXlzOltcImFzc2V0T3B0aW9uc1wiLCBcImxvY2F0aW9uXCJdLCBvYmplY3RzOnthc3NldE9wdGlvbnM6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5GZWF0dXJlVmlld09wdGlvbnN9fTtcbn07XG4kanNjb21wLmdsb2JhbC5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkZlYXR1cmVWaWV3TG9jYXRpb24ucHJvdG90eXBlLCB7YXNzZXRPcHRpb25zOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImFzc2V0T3B0aW9uc1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImFzc2V0T3B0aW9uc1wiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiYXNzZXRPcHRpb25zXCIsIHZhbHVlKTtcbn19LCBsb2NhdGlvbjp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJsb2NhdGlvblwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImxvY2F0aW9uXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJsb2NhdGlvblwiLCB2YWx1ZSk7XG59fX0pO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5GZWF0dXJlVmlld09wdGlvbnNQYXJhbWV0ZXJzID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfRmVhdHVyZVZpZXdPcHRpb25zUGFyYW1ldGVycygpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkZlYXR1cmVWaWV3T3B0aW9ucyA9IGZ1bmN0aW9uKHBhcmFtZXRlcnMpIHtcbiAgcGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFyYW1ldGVycyA/IHt9IDogcGFyYW1ldGVycztcbiAgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUuY2FsbCh0aGlzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZmVhdHVyZVZpZXdBdHRyaWJ1dGVzXCIsIG51bGwgPT0gcGFyYW1ldGVycy5mZWF0dXJlVmlld0F0dHJpYnV0ZXMgPyBudWxsIDogcGFyYW1ldGVycy5mZWF0dXJlVmlld0F0dHJpYnV0ZXMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJpbmdlc3Rpb25UaW1lUGFyYW1ldGVyc1wiLCBudWxsID09IHBhcmFtZXRlcnMuaW5nZXN0aW9uVGltZVBhcmFtZXRlcnMgPyBudWxsIDogcGFyYW1ldGVycy5pbmdlc3Rpb25UaW1lUGFyYW1ldGVycyk7XG59O1xuJGpzY29tcC5pbmhlcml0cyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkZlYXR1cmVWaWV3T3B0aW9ucywgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUpO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5GZWF0dXJlVmlld09wdGlvbnMucHJvdG90eXBlLmdldENvbnN0cnVjdG9yID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkZlYXR1cmVWaWV3T3B0aW9ucztcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkZlYXR1cmVWaWV3T3B0aW9ucy5wcm90b3R5cGUuZ2V0UGFydGlhbENsYXNzTWV0YWRhdGEgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHthcnJheXM6e2ZlYXR1cmVWaWV3QXR0cmlidXRlczptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkZlYXR1cmVWaWV3QXR0cmlidXRlfSwga2V5czpbXCJmZWF0dXJlVmlld0F0dHJpYnV0ZXNcIiwgXCJpbmdlc3Rpb25UaW1lUGFyYW1ldGVyc1wiXSwgb2JqZWN0czp7aW5nZXN0aW9uVGltZVBhcmFtZXRlcnM6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5GZWF0dXJlVmlld0luZ2VzdGlvblRpbWVQYXJhbWV0ZXJzfX07XG59O1xuJGpzY29tcC5nbG9iYWwuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5GZWF0dXJlVmlld09wdGlvbnMucHJvdG90eXBlLCB7ZmVhdHVyZVZpZXdBdHRyaWJ1dGVzOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImZlYXR1cmVWaWV3QXR0cmlidXRlc1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImZlYXR1cmVWaWV3QXR0cmlidXRlc1wiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZmVhdHVyZVZpZXdBdHRyaWJ1dGVzXCIsIHZhbHVlKTtcbn19LCBpbmdlc3Rpb25UaW1lUGFyYW1ldGVyczp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJpbmdlc3Rpb25UaW1lUGFyYW1ldGVyc1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImluZ2VzdGlvblRpbWVQYXJhbWV0ZXJzXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJpbmdlc3Rpb25UaW1lUGFyYW1ldGVyc1wiLCB2YWx1ZSk7XG59fX0pO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5GaWxtc3RyaXBUaHVtYm5haWxQYXJhbWV0ZXJzID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfRmlsbXN0cmlwVGh1bWJuYWlsUGFyYW1ldGVycygpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkZpbG1zdHJpcFRodW1ibmFpbCA9IGZ1bmN0aW9uKHBhcmFtZXRlcnMpIHtcbiAgcGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFyYW1ldGVycyA/IHt9IDogcGFyYW1ldGVycztcbiAgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUuY2FsbCh0aGlzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwibmFtZVwiLCBudWxsID09IHBhcmFtZXRlcnMubmFtZSA/IG51bGwgOiBwYXJhbWV0ZXJzLm5hbWUpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJleHByZXNzaW9uXCIsIG51bGwgPT0gcGFyYW1ldGVycy5leHByZXNzaW9uID8gbnVsbCA6IHBhcmFtZXRlcnMuZXhwcmVzc2lvbik7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcIm9yaWVudGF0aW9uXCIsIG51bGwgPT0gcGFyYW1ldGVycy5vcmllbnRhdGlvbiA/IG51bGwgOiBwYXJhbWV0ZXJzLm9yaWVudGF0aW9uKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZmlsZUZvcm1hdFwiLCBudWxsID09IHBhcmFtZXRlcnMuZmlsZUZvcm1hdCA/IG51bGwgOiBwYXJhbWV0ZXJzLmZpbGVGb3JtYXQpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJncmlkXCIsIG51bGwgPT0gcGFyYW1ldGVycy5ncmlkID8gbnVsbCA6IHBhcmFtZXRlcnMuZ3JpZCk7XG59O1xuJGpzY29tcC5pbmhlcml0cyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkZpbG1zdHJpcFRodW1ibmFpbCwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUpO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5GaWxtc3RyaXBUaHVtYm5haWwucHJvdG90eXBlLmdldENvbnN0cnVjdG9yID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkZpbG1zdHJpcFRodW1ibmFpbDtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkZpbG1zdHJpcFRodW1ibmFpbC5wcm90b3R5cGUuZ2V0UGFydGlhbENsYXNzTWV0YWRhdGEgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtlbnVtczp7ZmlsZUZvcm1hdDptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkZpbG1zdHJpcFRodW1ibmFpbEZpbGVGb3JtYXRFbnVtLCBvcmllbnRhdGlvbjptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkZpbG1zdHJpcFRodW1ibmFpbE9yaWVudGF0aW9uRW51bX0sIGtleXM6W1wiZXhwcmVzc2lvblwiLCBcImZpbGVGb3JtYXRcIiwgXCJncmlkXCIsIFwibmFtZVwiLCBcIm9yaWVudGF0aW9uXCJdLCBvYmplY3RzOntleHByZXNzaW9uOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRXhwcmVzc2lvbiwgZ3JpZDptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlBpeGVsR3JpZH19O1xufTtcbiRqc2NvbXAuZ2xvYmFsLk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRmlsbXN0cmlwVGh1bWJuYWlsLnByb3RvdHlwZSwge2V4cHJlc3Npb246e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiZXhwcmVzc2lvblwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImV4cHJlc3Npb25cIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImV4cHJlc3Npb25cIiwgdmFsdWUpO1xufX0sIGZpbGVGb3JtYXQ6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiZmlsZUZvcm1hdFwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImZpbGVGb3JtYXRcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImZpbGVGb3JtYXRcIiwgdmFsdWUpO1xufX0sIGdyaWQ6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiZ3JpZFwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImdyaWRcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImdyaWRcIiwgdmFsdWUpO1xufX0sIG5hbWU6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwibmFtZVwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcIm5hbWVcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcIm5hbWVcIiwgdmFsdWUpO1xufX0sIG9yaWVudGF0aW9uOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcIm9yaWVudGF0aW9uXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwib3JpZW50YXRpb25cIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcIm9yaWVudGF0aW9uXCIsIHZhbHVlKTtcbn19fSk7XG4kanNjb21wLmdsb2JhbC5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkZpbG1zdHJpcFRodW1ibmFpbCwge0ZpbGVGb3JtYXQ6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5GaWxtc3RyaXBUaHVtYm5haWxGaWxlRm9ybWF0RW51bTtcbn19LCBPcmllbnRhdGlvbjp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkZpbG1zdHJpcFRodW1ibmFpbE9yaWVudGF0aW9uRW51bTtcbn19fSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkZvbGRlclF1b3RhUGFyYW1ldGVycyA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0ZvbGRlclF1b3RhUGFyYW1ldGVycygpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkZvbGRlclF1b3RhID0gZnVuY3Rpb24ocGFyYW1ldGVycykge1xuICBwYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXJhbWV0ZXJzID8ge30gOiBwYXJhbWV0ZXJzO1xuICBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZS5jYWxsKHRoaXMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJzaXplQnl0ZXNcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLnNpemVCeXRlcyA/IG51bGwgOiBwYXJhbWV0ZXJzLnNpemVCeXRlcyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcIm1heFNpemVCeXRlc1wiLCBudWxsID09IHBhcmFtZXRlcnMubWF4U2l6ZUJ5dGVzID8gbnVsbCA6IHBhcmFtZXRlcnMubWF4U2l6ZUJ5dGVzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiYXNzZXRDb3VudFwiLCBudWxsID09IHBhcmFtZXRlcnMuYXNzZXRDb3VudCA/IG51bGwgOiBwYXJhbWV0ZXJzLmFzc2V0Q291bnQpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJtYXhBc3NldHNcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLm1heEFzc2V0cyA/IG51bGwgOiBwYXJhbWV0ZXJzLm1heEFzc2V0cyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcIm1heEFzc2V0Q291bnRcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLm1heEFzc2V0Q291bnQgPyBudWxsIDogcGFyYW1ldGVycy5tYXhBc3NldENvdW50KTtcbn07XG4kanNjb21wLmluaGVyaXRzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRm9sZGVyUXVvdGEsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlKTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRm9sZGVyUXVvdGEucHJvdG90eXBlLmdldENvbnN0cnVjdG9yID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkZvbGRlclF1b3RhO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRm9sZGVyUXVvdGEucHJvdG90eXBlLmdldFBhcnRpYWxDbGFzc01ldGFkYXRhID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7a2V5czpbXCJhc3NldENvdW50XCIsIFwibWF4QXNzZXRDb3VudFwiLCBcIm1heEFzc2V0c1wiLCBcIm1heFNpemVCeXRlc1wiLCBcInNpemVCeXRlc1wiXX07XG59O1xuJGpzY29tcC5nbG9iYWwuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Gb2xkZXJRdW90YS5wcm90b3R5cGUsIHthc3NldENvdW50Ontjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImFzc2V0Q291bnRcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJhc3NldENvdW50XCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJhc3NldENvdW50XCIsIHZhbHVlKTtcbn19LCBtYXhBc3NldENvdW50Ontjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcIm1heEFzc2V0Q291bnRcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJtYXhBc3NldENvdW50XCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJtYXhBc3NldENvdW50XCIsIHZhbHVlKTtcbn19LCBtYXhBc3NldHM6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwibWF4QXNzZXRzXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwibWF4QXNzZXRzXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJtYXhBc3NldHNcIiwgdmFsdWUpO1xufX0sIG1heFNpemVCeXRlczp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJtYXhTaXplQnl0ZXNcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJtYXhTaXplQnl0ZXNcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcIm1heFNpemVCeXRlc1wiLCB2YWx1ZSk7XG59fSwgc2l6ZUJ5dGVzOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcInNpemVCeXRlc1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInNpemVCeXRlc1wiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwic2l6ZUJ5dGVzXCIsIHZhbHVlKTtcbn19fSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkZ1bmN0aW9uRGVmaW5pdGlvblBhcmFtZXRlcnMgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9GdW5jdGlvbkRlZmluaXRpb25QYXJhbWV0ZXJzKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRnVuY3Rpb25EZWZpbml0aW9uID0gZnVuY3Rpb24ocGFyYW1ldGVycykge1xuICBwYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXJhbWV0ZXJzID8ge30gOiBwYXJhbWV0ZXJzO1xuICBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZS5jYWxsKHRoaXMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJhcmd1bWVudE5hbWVzXCIsIG51bGwgPT0gcGFyYW1ldGVycy5hcmd1bWVudE5hbWVzID8gbnVsbCA6IHBhcmFtZXRlcnMuYXJndW1lbnROYW1lcyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImJvZHlcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmJvZHkgPyBudWxsIDogcGFyYW1ldGVycy5ib2R5KTtcbn07XG4kanNjb21wLmluaGVyaXRzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRnVuY3Rpb25EZWZpbml0aW9uLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkZ1bmN0aW9uRGVmaW5pdGlvbi5wcm90b3R5cGUuZ2V0Q29uc3RydWN0b3IgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRnVuY3Rpb25EZWZpbml0aW9uO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRnVuY3Rpb25EZWZpbml0aW9uLnByb3RvdHlwZS5nZXRQYXJ0aWFsQ2xhc3NNZXRhZGF0YSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge2tleXM6W1wiYXJndW1lbnROYW1lc1wiLCBcImJvZHlcIl19O1xufTtcbiRqc2NvbXAuZ2xvYmFsLk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRnVuY3Rpb25EZWZpbml0aW9uLnByb3RvdHlwZSwge2FyZ3VtZW50TmFtZXM6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiYXJndW1lbnROYW1lc1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImFyZ3VtZW50TmFtZXNcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImFyZ3VtZW50TmFtZXNcIiwgdmFsdWUpO1xufX0sIGJvZHk6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiYm9keVwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImJvZHlcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImJvZHlcIiwgdmFsdWUpO1xufX19KTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRnVuY3Rpb25JbnZvY2F0aW9uUGFyYW1ldGVycyA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0Z1bmN0aW9uSW52b2NhdGlvblBhcmFtZXRlcnMoKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5GdW5jdGlvbkludm9jYXRpb24gPSBmdW5jdGlvbihwYXJhbWV0ZXJzKSB7XG4gIHBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IHBhcmFtZXRlcnMgPyB7fSA6IHBhcmFtZXRlcnM7XG4gIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlLmNhbGwodGhpcyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImZ1bmN0aW9uTmFtZVwiLCBudWxsID09IHBhcmFtZXRlcnMuZnVuY3Rpb25OYW1lID8gbnVsbCA6IHBhcmFtZXRlcnMuZnVuY3Rpb25OYW1lKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZnVuY3Rpb25SZWZlcmVuY2VcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmZ1bmN0aW9uUmVmZXJlbmNlID8gbnVsbCA6IHBhcmFtZXRlcnMuZnVuY3Rpb25SZWZlcmVuY2UpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJhcmd1bWVudHNcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmFyZ3VtZW50cyA/IG51bGwgOiBwYXJhbWV0ZXJzLmFyZ3VtZW50cyk7XG59O1xuJGpzY29tcC5pbmhlcml0cyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkZ1bmN0aW9uSW52b2NhdGlvbiwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUpO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5GdW5jdGlvbkludm9jYXRpb24ucHJvdG90eXBlLmdldENvbnN0cnVjdG9yID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkZ1bmN0aW9uSW52b2NhdGlvbjtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkZ1bmN0aW9uSW52b2NhdGlvbi5wcm90b3R5cGUuZ2V0UGFydGlhbENsYXNzTWV0YWRhdGEgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtrZXlzOltcImFyZ3VtZW50c1wiLCBcImZ1bmN0aW9uTmFtZVwiLCBcImZ1bmN0aW9uUmVmZXJlbmNlXCJdLCBvYmplY3RNYXBzOnthcmd1bWVudHM6e2N0b3I6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5WYWx1ZU5vZGUsIGlzUHJvcGVydHlBcnJheTohMSwgaXNTZXJpYWxpemFibGU6ITAsIGlzVmFsdWVBcnJheTohMX19fTtcbn07XG4kanNjb21wLmdsb2JhbC5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkZ1bmN0aW9uSW52b2NhdGlvbi5wcm90b3R5cGUsIHthcmd1bWVudHM6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiYXJndW1lbnRzXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiYXJndW1lbnRzXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJhcmd1bWVudHNcIiwgdmFsdWUpO1xufX0sIGZ1bmN0aW9uTmFtZTp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJmdW5jdGlvbk5hbWVcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJmdW5jdGlvbk5hbWVcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImZ1bmN0aW9uTmFtZVwiLCB2YWx1ZSk7XG59fSwgZnVuY3Rpb25SZWZlcmVuY2U6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiZnVuY3Rpb25SZWZlcmVuY2VcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJmdW5jdGlvblJlZmVyZW5jZVwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZnVuY3Rpb25SZWZlcmVuY2VcIiwgdmFsdWUpO1xufX19KTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuR2NzRGVzdGluYXRpb25QYXJhbWV0ZXJzID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfR2NzRGVzdGluYXRpb25QYXJhbWV0ZXJzKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuR2NzRGVzdGluYXRpb24gPSBmdW5jdGlvbihwYXJhbWV0ZXJzKSB7XG4gIHBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IHBhcmFtZXRlcnMgPyB7fSA6IHBhcmFtZXRlcnM7XG4gIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlLmNhbGwodGhpcyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImJ1Y2tldFwiLCBudWxsID09IHBhcmFtZXRlcnMuYnVja2V0ID8gbnVsbCA6IHBhcmFtZXRlcnMuYnVja2V0KTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZmlsZW5hbWVQcmVmaXhcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmZpbGVuYW1lUHJlZml4ID8gbnVsbCA6IHBhcmFtZXRlcnMuZmlsZW5hbWVQcmVmaXgpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJwZXJtaXNzaW9uc1wiLCBudWxsID09IHBhcmFtZXRlcnMucGVybWlzc2lvbnMgPyBudWxsIDogcGFyYW1ldGVycy5wZXJtaXNzaW9ucyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImJ1Y2tldENvcnNVcmlzXCIsIG51bGwgPT0gcGFyYW1ldGVycy5idWNrZXRDb3JzVXJpcyA/IG51bGwgOiBwYXJhbWV0ZXJzLmJ1Y2tldENvcnNVcmlzKTtcbn07XG4kanNjb21wLmluaGVyaXRzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuR2NzRGVzdGluYXRpb24sIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlKTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuR2NzRGVzdGluYXRpb24ucHJvdG90eXBlLmdldENvbnN0cnVjdG9yID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50Lkdjc0Rlc3RpbmF0aW9uO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuR2NzRGVzdGluYXRpb24ucHJvdG90eXBlLmdldFBhcnRpYWxDbGFzc01ldGFkYXRhID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7ZW51bXM6e3Blcm1pc3Npb25zOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuR2NzRGVzdGluYXRpb25QZXJtaXNzaW9uc0VudW19LCBrZXlzOltcImJ1Y2tldFwiLCBcImJ1Y2tldENvcnNVcmlzXCIsIFwiZmlsZW5hbWVQcmVmaXhcIiwgXCJwZXJtaXNzaW9uc1wiXX07XG59O1xuJGpzY29tcC5nbG9iYWwuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5HY3NEZXN0aW5hdGlvbi5wcm90b3R5cGUsIHtidWNrZXQ6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiYnVja2V0XCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiYnVja2V0XCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJidWNrZXRcIiwgdmFsdWUpO1xufX0sIGJ1Y2tldENvcnNVcmlzOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImJ1Y2tldENvcnNVcmlzXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiYnVja2V0Q29yc1VyaXNcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImJ1Y2tldENvcnNVcmlzXCIsIHZhbHVlKTtcbn19LCBmaWxlbmFtZVByZWZpeDp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJmaWxlbmFtZVByZWZpeFwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImZpbGVuYW1lUHJlZml4XCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJmaWxlbmFtZVByZWZpeFwiLCB2YWx1ZSk7XG59fSwgcGVybWlzc2lvbnM6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwicGVybWlzc2lvbnNcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJwZXJtaXNzaW9uc1wiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwicGVybWlzc2lvbnNcIiwgdmFsdWUpO1xufX19KTtcbiRqc2NvbXAuZ2xvYmFsLk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuR2NzRGVzdGluYXRpb24sIHtQZXJtaXNzaW9uczp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50Lkdjc0Rlc3RpbmF0aW9uUGVybWlzc2lvbnNFbnVtO1xufX19KTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuR2NzTG9jYXRpb25QYXJhbWV0ZXJzID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfR2NzTG9jYXRpb25QYXJhbWV0ZXJzKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuR2NzTG9jYXRpb24gPSBmdW5jdGlvbihwYXJhbWV0ZXJzKSB7XG4gIHBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IHBhcmFtZXRlcnMgPyB7fSA6IHBhcmFtZXRlcnM7XG4gIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlLmNhbGwodGhpcyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInVyaXNcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLnVyaXMgPyBudWxsIDogcGFyYW1ldGVycy51cmlzKTtcbn07XG4kanNjb21wLmluaGVyaXRzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuR2NzTG9jYXRpb24sIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlKTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuR2NzTG9jYXRpb24ucHJvdG90eXBlLmdldENvbnN0cnVjdG9yID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50Lkdjc0xvY2F0aW9uO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuR2NzTG9jYXRpb24ucHJvdG90eXBlLmdldFBhcnRpYWxDbGFzc01ldGFkYXRhID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7a2V5czpbXCJ1cmlzXCJdfTtcbn07XG4kanNjb21wLmdsb2JhbC5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50Lkdjc0xvY2F0aW9uLnByb3RvdHlwZSwge3VyaXM6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwidXJpc1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInVyaXNcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInVyaXNcIiwgdmFsdWUpO1xufX19KTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuR2VvVGlmZkltYWdlRXhwb3J0T3B0aW9uc1BhcmFtZXRlcnMgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9HZW9UaWZmSW1hZ2VFeHBvcnRPcHRpb25zUGFyYW1ldGVycygpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50Lkdlb1RpZmZJbWFnZUV4cG9ydE9wdGlvbnMgPSBmdW5jdGlvbihwYXJhbWV0ZXJzKSB7XG4gIHBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IHBhcmFtZXRlcnMgPyB7fSA6IHBhcmFtZXRlcnM7XG4gIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlLmNhbGwodGhpcyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImNsb3VkT3B0aW1pemVkXCIsIG51bGwgPT0gcGFyYW1ldGVycy5jbG91ZE9wdGltaXplZCA/IG51bGwgOiBwYXJhbWV0ZXJzLmNsb3VkT3B0aW1pemVkKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwidGlsZURpbWVuc2lvbnNcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLnRpbGVEaW1lbnNpb25zID8gbnVsbCA6IHBhcmFtZXRlcnMudGlsZURpbWVuc2lvbnMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJza2lwRW1wdHlGaWxlc1wiLCBudWxsID09IHBhcmFtZXRlcnMuc2tpcEVtcHR5RmlsZXMgPyBudWxsIDogcGFyYW1ldGVycy5za2lwRW1wdHlGaWxlcyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInRpbGVTaXplXCIsIG51bGwgPT0gcGFyYW1ldGVycy50aWxlU2l6ZSA/IG51bGwgOiBwYXJhbWV0ZXJzLnRpbGVTaXplKTtcbn07XG4kanNjb21wLmluaGVyaXRzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuR2VvVGlmZkltYWdlRXhwb3J0T3B0aW9ucywgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUpO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5HZW9UaWZmSW1hZ2VFeHBvcnRPcHRpb25zLnByb3RvdHlwZS5nZXRDb25zdHJ1Y3RvciA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5HZW9UaWZmSW1hZ2VFeHBvcnRPcHRpb25zO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuR2VvVGlmZkltYWdlRXhwb3J0T3B0aW9ucy5wcm90b3R5cGUuZ2V0UGFydGlhbENsYXNzTWV0YWRhdGEgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtrZXlzOltcImNsb3VkT3B0aW1pemVkXCIsIFwic2tpcEVtcHR5RmlsZXNcIiwgXCJ0aWxlRGltZW5zaW9uc1wiLCBcInRpbGVTaXplXCJdLCBvYmplY3RzOnt0aWxlRGltZW5zaW9uczptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkdyaWREaW1lbnNpb25zfX07XG59O1xuJGpzY29tcC5nbG9iYWwuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5HZW9UaWZmSW1hZ2VFeHBvcnRPcHRpb25zLnByb3RvdHlwZSwge2Nsb3VkT3B0aW1pemVkOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImNsb3VkT3B0aW1pemVkXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiY2xvdWRPcHRpbWl6ZWRcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImNsb3VkT3B0aW1pemVkXCIsIHZhbHVlKTtcbn19LCBza2lwRW1wdHlGaWxlczp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJza2lwRW1wdHlGaWxlc1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInNraXBFbXB0eUZpbGVzXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJza2lwRW1wdHlGaWxlc1wiLCB2YWx1ZSk7XG59fSwgdGlsZURpbWVuc2lvbnM6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwidGlsZURpbWVuc2lvbnNcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJ0aWxlRGltZW5zaW9uc1wiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwidGlsZURpbWVuc2lvbnNcIiwgdmFsdWUpO1xufX0sIHRpbGVTaXplOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcInRpbGVTaXplXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwidGlsZVNpemVcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInRpbGVTaXplXCIsIHZhbHVlKTtcbn19fSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkdldElhbVBvbGljeVJlcXVlc3RQYXJhbWV0ZXJzID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfR2V0SWFtUG9saWN5UmVxdWVzdFBhcmFtZXRlcnMoKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5HZXRJYW1Qb2xpY3lSZXF1ZXN0ID0gZnVuY3Rpb24ocGFyYW1ldGVycykge1xuICBwYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXJhbWV0ZXJzID8ge30gOiBwYXJhbWV0ZXJzO1xuICBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZS5jYWxsKHRoaXMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJvcHRpb25zXCIsIG51bGwgPT0gcGFyYW1ldGVycy5vcHRpb25zID8gbnVsbCA6IHBhcmFtZXRlcnMub3B0aW9ucyk7XG59O1xuJGpzY29tcC5pbmhlcml0cyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkdldElhbVBvbGljeVJlcXVlc3QsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlKTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuR2V0SWFtUG9saWN5UmVxdWVzdC5wcm90b3R5cGUuZ2V0Q29uc3RydWN0b3IgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuR2V0SWFtUG9saWN5UmVxdWVzdDtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkdldElhbVBvbGljeVJlcXVlc3QucHJvdG90eXBlLmdldFBhcnRpYWxDbGFzc01ldGFkYXRhID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7a2V5czpbXCJvcHRpb25zXCJdLCBvYmplY3RzOntvcHRpb25zOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuR2V0UG9saWN5T3B0aW9uc319O1xufTtcbiRqc2NvbXAuZ2xvYmFsLk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuR2V0SWFtUG9saWN5UmVxdWVzdC5wcm90b3R5cGUsIHtvcHRpb25zOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcIm9wdGlvbnNcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJvcHRpb25zXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJvcHRpb25zXCIsIHZhbHVlKTtcbn19fSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkdldExpbmtlZEFzc2V0UmVxdWVzdFBhcmFtZXRlcnMgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9HZXRMaW5rZWRBc3NldFJlcXVlc3RQYXJhbWV0ZXJzKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuR2V0TGlua2VkQXNzZXRSZXF1ZXN0ID0gZnVuY3Rpb24ocGFyYW1ldGVycykge1xuICBwYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXJhbWV0ZXJzID8ge30gOiBwYXJhbWV0ZXJzO1xuICBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZS5jYWxsKHRoaXMpO1xufTtcbiRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5HZXRMaW5rZWRBc3NldFJlcXVlc3QsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlKTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuR2V0TGlua2VkQXNzZXRSZXF1ZXN0LnByb3RvdHlwZS5nZXRDb25zdHJ1Y3RvciA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5HZXRMaW5rZWRBc3NldFJlcXVlc3Q7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5HZXRMaW5rZWRBc3NldFJlcXVlc3QucHJvdG90eXBlLmdldFBhcnRpYWxDbGFzc01ldGFkYXRhID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7a2V5czpbXX07XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5HZXRQaXhlbHNSZXF1ZXN0UGFyYW1ldGVycyA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0dldFBpeGVsc1JlcXVlc3RQYXJhbWV0ZXJzKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuR2V0UGl4ZWxzUmVxdWVzdCA9IGZ1bmN0aW9uKHBhcmFtZXRlcnMpIHtcbiAgcGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFyYW1ldGVycyA/IHt9IDogcGFyYW1ldGVycztcbiAgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUuY2FsbCh0aGlzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZmlsZUZvcm1hdFwiLCBudWxsID09IHBhcmFtZXRlcnMuZmlsZUZvcm1hdCA/IG51bGwgOiBwYXJhbWV0ZXJzLmZpbGVGb3JtYXQpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJncmlkXCIsIG51bGwgPT0gcGFyYW1ldGVycy5ncmlkID8gbnVsbCA6IHBhcmFtZXRlcnMuZ3JpZCk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInJlZ2lvblwiLCBudWxsID09IHBhcmFtZXRlcnMucmVnaW9uID8gbnVsbCA6IHBhcmFtZXRlcnMucmVnaW9uKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiYmFuZElkc1wiLCBudWxsID09IHBhcmFtZXRlcnMuYmFuZElkcyA/IG51bGwgOiBwYXJhbWV0ZXJzLmJhbmRJZHMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJ2aXN1YWxpemF0aW9uT3B0aW9uc1wiLCBudWxsID09IHBhcmFtZXRlcnMudmlzdWFsaXphdGlvbk9wdGlvbnMgPyBudWxsIDogcGFyYW1ldGVycy52aXN1YWxpemF0aW9uT3B0aW9ucyk7XG59O1xuJGpzY29tcC5pbmhlcml0cyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkdldFBpeGVsc1JlcXVlc3QsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlKTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuR2V0UGl4ZWxzUmVxdWVzdC5wcm90b3R5cGUuZ2V0Q29uc3RydWN0b3IgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuR2V0UGl4ZWxzUmVxdWVzdDtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkdldFBpeGVsc1JlcXVlc3QucHJvdG90eXBlLmdldFBhcnRpYWxDbGFzc01ldGFkYXRhID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7ZW51bXM6e2ZpbGVGb3JtYXQ6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5HZXRQaXhlbHNSZXF1ZXN0RmlsZUZvcm1hdEVudW19LCBrZXlzOltcImJhbmRJZHNcIiwgXCJmaWxlRm9ybWF0XCIsIFwiZ3JpZFwiLCBcInJlZ2lvblwiLCBcInZpc3VhbGl6YXRpb25PcHRpb25zXCJdLCBvYmplY3RNYXBzOntyZWdpb246e2N0b3I6bnVsbCwgaXNQcm9wZXJ0eUFycmF5OiExLCBpc1NlcmlhbGl6YWJsZTohMSwgaXNWYWx1ZUFycmF5OiExfX0sIG9iamVjdHM6e2dyaWQ6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5QaXhlbEdyaWQsIHZpc3VhbGl6YXRpb25PcHRpb25zOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVmlzdWFsaXphdGlvbk9wdGlvbnN9fTtcbn07XG4kanNjb21wLmdsb2JhbC5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkdldFBpeGVsc1JlcXVlc3QucHJvdG90eXBlLCB7YmFuZElkczp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJiYW5kSWRzXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiYmFuZElkc1wiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiYmFuZElkc1wiLCB2YWx1ZSk7XG59fSwgZmlsZUZvcm1hdDp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJmaWxlRm9ybWF0XCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiZmlsZUZvcm1hdFwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZmlsZUZvcm1hdFwiLCB2YWx1ZSk7XG59fSwgZ3JpZDp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJncmlkXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiZ3JpZFwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZ3JpZFwiLCB2YWx1ZSk7XG59fSwgcmVnaW9uOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcInJlZ2lvblwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInJlZ2lvblwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwicmVnaW9uXCIsIHZhbHVlKTtcbn19LCB2aXN1YWxpemF0aW9uT3B0aW9uczp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJ2aXN1YWxpemF0aW9uT3B0aW9uc1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInZpc3VhbGl6YXRpb25PcHRpb25zXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJ2aXN1YWxpemF0aW9uT3B0aW9uc1wiLCB2YWx1ZSk7XG59fX0pO1xuJGpzY29tcC5nbG9iYWwuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5HZXRQaXhlbHNSZXF1ZXN0LCB7RmlsZUZvcm1hdDp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkdldFBpeGVsc1JlcXVlc3RGaWxlRm9ybWF0RW51bTtcbn19fSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkdldFBvbGljeU9wdGlvbnNQYXJhbWV0ZXJzID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfR2V0UG9saWN5T3B0aW9uc1BhcmFtZXRlcnMoKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5HZXRQb2xpY3lPcHRpb25zID0gZnVuY3Rpb24ocGFyYW1ldGVycykge1xuICBwYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXJhbWV0ZXJzID8ge30gOiBwYXJhbWV0ZXJzO1xuICBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZS5jYWxsKHRoaXMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJyZXF1ZXN0ZWRQb2xpY3lWZXJzaW9uXCIsIG51bGwgPT0gcGFyYW1ldGVycy5yZXF1ZXN0ZWRQb2xpY3lWZXJzaW9uID8gbnVsbCA6IHBhcmFtZXRlcnMucmVxdWVzdGVkUG9saWN5VmVyc2lvbik7XG59O1xuJGpzY29tcC5pbmhlcml0cyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkdldFBvbGljeU9wdGlvbnMsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlKTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuR2V0UG9saWN5T3B0aW9ucy5wcm90b3R5cGUuZ2V0Q29uc3RydWN0b3IgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuR2V0UG9saWN5T3B0aW9ucztcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkdldFBvbGljeU9wdGlvbnMucHJvdG90eXBlLmdldFBhcnRpYWxDbGFzc01ldGFkYXRhID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7a2V5czpbXCJyZXF1ZXN0ZWRQb2xpY3lWZXJzaW9uXCJdfTtcbn07XG4kanNjb21wLmdsb2JhbC5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkdldFBvbGljeU9wdGlvbnMucHJvdG90eXBlLCB7cmVxdWVzdGVkUG9saWN5VmVyc2lvbjp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJyZXF1ZXN0ZWRQb2xpY3lWZXJzaW9uXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwicmVxdWVzdGVkUG9saWN5VmVyc2lvblwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwicmVxdWVzdGVkUG9saWN5VmVyc2lvblwiLCB2YWx1ZSk7XG59fX0pO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5HcmlkRGltZW5zaW9uc1BhcmFtZXRlcnMgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9HcmlkRGltZW5zaW9uc1BhcmFtZXRlcnMoKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5HcmlkRGltZW5zaW9ucyA9IGZ1bmN0aW9uKHBhcmFtZXRlcnMpIHtcbiAgcGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFyYW1ldGVycyA/IHt9IDogcGFyYW1ldGVycztcbiAgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUuY2FsbCh0aGlzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwid2lkdGhcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLndpZHRoID8gbnVsbCA6IHBhcmFtZXRlcnMud2lkdGgpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJoZWlnaHRcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmhlaWdodCA/IG51bGwgOiBwYXJhbWV0ZXJzLmhlaWdodCk7XG59O1xuJGpzY29tcC5pbmhlcml0cyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkdyaWREaW1lbnNpb25zLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkdyaWREaW1lbnNpb25zLnByb3RvdHlwZS5nZXRDb25zdHJ1Y3RvciA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5HcmlkRGltZW5zaW9ucztcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkdyaWREaW1lbnNpb25zLnByb3RvdHlwZS5nZXRQYXJ0aWFsQ2xhc3NNZXRhZGF0YSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge2tleXM6W1wiaGVpZ2h0XCIsIFwid2lkdGhcIl19O1xufTtcbiRqc2NvbXAuZ2xvYmFsLk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuR3JpZERpbWVuc2lvbnMucHJvdG90eXBlLCB7aGVpZ2h0Ontjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImhlaWdodFwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImhlaWdodFwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiaGVpZ2h0XCIsIHZhbHVlKTtcbn19LCB3aWR0aDp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJ3aWR0aFwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcIndpZHRoXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJ3aWR0aFwiLCB2YWx1ZSk7XG59fX0pO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5HcmlkUG9pbnRQYXJhbWV0ZXJzID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfR3JpZFBvaW50UGFyYW1ldGVycygpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkdyaWRQb2ludCA9IGZ1bmN0aW9uKHBhcmFtZXRlcnMpIHtcbiAgcGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFyYW1ldGVycyA/IHt9IDogcGFyYW1ldGVycztcbiAgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUuY2FsbCh0aGlzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwieFwiLCBudWxsID09IHBhcmFtZXRlcnMueCA/IG51bGwgOiBwYXJhbWV0ZXJzLngpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJ5XCIsIG51bGwgPT0gcGFyYW1ldGVycy55ID8gbnVsbCA6IHBhcmFtZXRlcnMueSk7XG59O1xuJGpzY29tcC5pbmhlcml0cyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkdyaWRQb2ludCwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUpO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5HcmlkUG9pbnQucHJvdG90eXBlLmdldENvbnN0cnVjdG9yID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkdyaWRQb2ludDtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkdyaWRQb2ludC5wcm90b3R5cGUuZ2V0UGFydGlhbENsYXNzTWV0YWRhdGEgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtrZXlzOltcInhcIiwgXCJ5XCJdfTtcbn07XG4kanNjb21wLmdsb2JhbC5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkdyaWRQb2ludC5wcm90b3R5cGUsIHt4Ontjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcInhcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJ4XCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJ4XCIsIHZhbHVlKTtcbn19LCB5Ontjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcInlcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJ5XCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJ5XCIsIHZhbHVlKTtcbn19fSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50Lkh0dHBCb2R5UGFyYW1ldGVycyA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0h0dHBCb2R5UGFyYW1ldGVycygpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50Lkh0dHBCb2R5ID0gZnVuY3Rpb24ocGFyYW1ldGVycykge1xuICBwYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXJhbWV0ZXJzID8ge30gOiBwYXJhbWV0ZXJzO1xuICBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZS5jYWxsKHRoaXMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJjb250ZW50VHlwZVwiLCBudWxsID09IHBhcmFtZXRlcnMuY29udGVudFR5cGUgPyBudWxsIDogcGFyYW1ldGVycy5jb250ZW50VHlwZSk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImRhdGFcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmRhdGEgPyBudWxsIDogcGFyYW1ldGVycy5kYXRhKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZXh0ZW5zaW9uc1wiLCBudWxsID09IHBhcmFtZXRlcnMuZXh0ZW5zaW9ucyA/IG51bGwgOiBwYXJhbWV0ZXJzLmV4dGVuc2lvbnMpO1xufTtcbiRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5IdHRwQm9keSwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUpO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5IdHRwQm9keS5wcm90b3R5cGUuZ2V0Q29uc3RydWN0b3IgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSHR0cEJvZHk7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5IdHRwQm9keS5wcm90b3R5cGUuZ2V0UGFydGlhbENsYXNzTWV0YWRhdGEgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtrZXlzOltcImNvbnRlbnRUeXBlXCIsIFwiZGF0YVwiLCBcImV4dGVuc2lvbnNcIl0sIG9iamVjdE1hcHM6e2V4dGVuc2lvbnM6e2N0b3I6bnVsbCwgaXNQcm9wZXJ0eUFycmF5OiEwLCBpc1NlcmlhbGl6YWJsZTohMSwgaXNWYWx1ZUFycmF5OiExfX19O1xufTtcbiRqc2NvbXAuZ2xvYmFsLk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSHR0cEJvZHkucHJvdG90eXBlLCB7Y29udGVudFR5cGU6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiY29udGVudFR5cGVcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJjb250ZW50VHlwZVwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiY29udGVudFR5cGVcIiwgdmFsdWUpO1xufX0sIGRhdGE6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiZGF0YVwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImRhdGFcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImRhdGFcIiwgdmFsdWUpO1xufX0sIGV4dGVuc2lvbnM6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiZXh0ZW5zaW9uc1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImV4dGVuc2lvbnNcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImV4dGVuc2lvbnNcIiwgdmFsdWUpO1xufX19KTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSW1hZ2VQYXJhbWV0ZXJzID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfSW1hZ2VQYXJhbWV0ZXJzKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSW1hZ2UgPSBmdW5jdGlvbihwYXJhbWV0ZXJzKSB7XG4gIHBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IHBhcmFtZXRlcnMgPyB7fSA6IHBhcmFtZXRlcnM7XG4gIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlLmNhbGwodGhpcyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcIm5hbWVcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLm5hbWUgPyBudWxsIDogcGFyYW1ldGVycy5uYW1lKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiaWRcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmlkID8gbnVsbCA6IHBhcmFtZXRlcnMuaWQpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJ1cGRhdGVUaW1lXCIsIG51bGwgPT0gcGFyYW1ldGVycy51cGRhdGVUaW1lID8gbnVsbCA6IHBhcmFtZXRlcnMudXBkYXRlVGltZSk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInRpdGxlXCIsIG51bGwgPT0gcGFyYW1ldGVycy50aXRsZSA/IG51bGwgOiBwYXJhbWV0ZXJzLnRpdGxlKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZGVzY3JpcHRpb25cIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmRlc2NyaXB0aW9uID8gbnVsbCA6IHBhcmFtZXRlcnMuZGVzY3JpcHRpb24pO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJwcm9wZXJ0aWVzXCIsIG51bGwgPT0gcGFyYW1ldGVycy5wcm9wZXJ0aWVzID8gbnVsbCA6IHBhcmFtZXRlcnMucHJvcGVydGllcyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInN0YXJ0VGltZVwiLCBudWxsID09IHBhcmFtZXRlcnMuc3RhcnRUaW1lID8gbnVsbCA6IHBhcmFtZXRlcnMuc3RhcnRUaW1lKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZW5kVGltZVwiLCBudWxsID09IHBhcmFtZXRlcnMuZW5kVGltZSA/IG51bGwgOiBwYXJhbWV0ZXJzLmVuZFRpbWUpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJnZW9tZXRyeVwiLCBudWxsID09IHBhcmFtZXRlcnMuZ2VvbWV0cnkgPyBudWxsIDogcGFyYW1ldGVycy5nZW9tZXRyeSk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImJhbmRzXCIsIG51bGwgPT0gcGFyYW1ldGVycy5iYW5kcyA/IG51bGwgOiBwYXJhbWV0ZXJzLmJhbmRzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwic2l6ZUJ5dGVzXCIsIG51bGwgPT0gcGFyYW1ldGVycy5zaXplQnl0ZXMgPyBudWxsIDogcGFyYW1ldGVycy5zaXplQnl0ZXMpO1xufTtcbiRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JbWFnZSwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUpO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JbWFnZS5wcm90b3R5cGUuZ2V0Q29uc3RydWN0b3IgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSW1hZ2U7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JbWFnZS5wcm90b3R5cGUuZ2V0UGFydGlhbENsYXNzTWV0YWRhdGEgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHthcnJheXM6e2JhbmRzOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSW1hZ2VCYW5kfSwga2V5czpcImJhbmRzIGRlc2NyaXB0aW9uIGVuZFRpbWUgZ2VvbWV0cnkgaWQgbmFtZSBwcm9wZXJ0aWVzIHNpemVCeXRlcyBzdGFydFRpbWUgdGl0bGUgdXBkYXRlVGltZVwiLnNwbGl0KFwiIFwiKSwgb2JqZWN0TWFwczp7Z2VvbWV0cnk6e2N0b3I6bnVsbCwgaXNQcm9wZXJ0eUFycmF5OiExLCBpc1NlcmlhbGl6YWJsZTohMSwgaXNWYWx1ZUFycmF5OiExfSwgcHJvcGVydGllczp7Y3RvcjpudWxsLCBpc1Byb3BlcnR5QXJyYXk6ITEsIGlzU2VyaWFsaXphYmxlOiExLCBpc1ZhbHVlQXJyYXk6ITF9fX07XG59O1xuJGpzY29tcC5nbG9iYWwuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JbWFnZS5wcm90b3R5cGUsIHtiYW5kczp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJiYW5kc1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImJhbmRzXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJiYW5kc1wiLCB2YWx1ZSk7XG59fSwgZGVzY3JpcHRpb246e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiZGVzY3JpcHRpb25cIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJkZXNjcmlwdGlvblwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZGVzY3JpcHRpb25cIiwgdmFsdWUpO1xufX0sIGVuZFRpbWU6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiZW5kVGltZVwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImVuZFRpbWVcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImVuZFRpbWVcIiwgdmFsdWUpO1xufX0sIGdlb21ldHJ5Ontjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImdlb21ldHJ5XCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiZ2VvbWV0cnlcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImdlb21ldHJ5XCIsIHZhbHVlKTtcbn19LCBpZDp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJpZFwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImlkXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJpZFwiLCB2YWx1ZSk7XG59fSwgbmFtZTp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJuYW1lXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwibmFtZVwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwibmFtZVwiLCB2YWx1ZSk7XG59fSwgcHJvcGVydGllczp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJwcm9wZXJ0aWVzXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwicHJvcGVydGllc1wiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwicHJvcGVydGllc1wiLCB2YWx1ZSk7XG59fSwgc2l6ZUJ5dGVzOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcInNpemVCeXRlc1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInNpemVCeXRlc1wiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwic2l6ZUJ5dGVzXCIsIHZhbHVlKTtcbn19LCBzdGFydFRpbWU6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwic3RhcnRUaW1lXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwic3RhcnRUaW1lXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJzdGFydFRpbWVcIiwgdmFsdWUpO1xufX0sIHRpdGxlOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcInRpdGxlXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwidGl0bGVcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInRpdGxlXCIsIHZhbHVlKTtcbn19LCB1cGRhdGVUaW1lOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcInVwZGF0ZVRpbWVcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJ1cGRhdGVUaW1lXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJ1cGRhdGVUaW1lXCIsIHZhbHVlKTtcbn19fSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkltYWdlQXNzZXRFeHBvcnRPcHRpb25zUGFyYW1ldGVycyA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0ltYWdlQXNzZXRFeHBvcnRPcHRpb25zUGFyYW1ldGVycygpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkltYWdlQXNzZXRFeHBvcnRPcHRpb25zID0gZnVuY3Rpb24ocGFyYW1ldGVycykge1xuICBwYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXJhbWV0ZXJzID8ge30gOiBwYXJhbWV0ZXJzO1xuICBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZS5jYWxsKHRoaXMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJlYXJ0aEVuZ2luZURlc3RpbmF0aW9uXCIsIG51bGwgPT0gcGFyYW1ldGVycy5lYXJ0aEVuZ2luZURlc3RpbmF0aW9uID8gbnVsbCA6IHBhcmFtZXRlcnMuZWFydGhFbmdpbmVEZXN0aW5hdGlvbik7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInB5cmFtaWRpbmdQb2xpY3lcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLnB5cmFtaWRpbmdQb2xpY3kgPyBudWxsIDogcGFyYW1ldGVycy5weXJhbWlkaW5nUG9saWN5KTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwicHlyYW1pZGluZ1BvbGljeU92ZXJyaWRlc1wiLCBudWxsID09IHBhcmFtZXRlcnMucHlyYW1pZGluZ1BvbGljeU92ZXJyaWRlcyA/IG51bGwgOiBwYXJhbWV0ZXJzLnB5cmFtaWRpbmdQb2xpY3lPdmVycmlkZXMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJ0aWxlU2l6ZVwiLCBudWxsID09IHBhcmFtZXRlcnMudGlsZVNpemUgPyBudWxsIDogcGFyYW1ldGVycy50aWxlU2l6ZSk7XG59O1xuJGpzY29tcC5pbmhlcml0cyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkltYWdlQXNzZXRFeHBvcnRPcHRpb25zLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkltYWdlQXNzZXRFeHBvcnRPcHRpb25zLnByb3RvdHlwZS5nZXRDb25zdHJ1Y3RvciA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JbWFnZUFzc2V0RXhwb3J0T3B0aW9ucztcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkltYWdlQXNzZXRFeHBvcnRPcHRpb25zLnByb3RvdHlwZS5nZXRQYXJ0aWFsQ2xhc3NNZXRhZGF0YSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge2VudW1zOntweXJhbWlkaW5nUG9saWN5Om1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSW1hZ2VBc3NldEV4cG9ydE9wdGlvbnNQeXJhbWlkaW5nUG9saWN5RW51bSwgcHlyYW1pZGluZ1BvbGljeU92ZXJyaWRlczptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkltYWdlQXNzZXRFeHBvcnRPcHRpb25zUHlyYW1pZGluZ1BvbGljeU92ZXJyaWRlc0VudW19LCBrZXlzOltcImVhcnRoRW5naW5lRGVzdGluYXRpb25cIiwgXCJweXJhbWlkaW5nUG9saWN5XCIsIFwicHlyYW1pZGluZ1BvbGljeU92ZXJyaWRlc1wiLCBcInRpbGVTaXplXCJdLCBvYmplY3RNYXBzOntweXJhbWlkaW5nUG9saWN5T3ZlcnJpZGVzOntjdG9yOm51bGwsIGlzUHJvcGVydHlBcnJheTohMSwgaXNTZXJpYWxpemFibGU6ITEsIGlzVmFsdWVBcnJheTohMX19LCBcbiAgb2JqZWN0czp7ZWFydGhFbmdpbmVEZXN0aW5hdGlvbjptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkVhcnRoRW5naW5lRGVzdGluYXRpb259fTtcbn07XG4kanNjb21wLmdsb2JhbC5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkltYWdlQXNzZXRFeHBvcnRPcHRpb25zLnByb3RvdHlwZSwge2VhcnRoRW5naW5lRGVzdGluYXRpb246e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiZWFydGhFbmdpbmVEZXN0aW5hdGlvblwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImVhcnRoRW5naW5lRGVzdGluYXRpb25cIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImVhcnRoRW5naW5lRGVzdGluYXRpb25cIiwgdmFsdWUpO1xufX0sIHB5cmFtaWRpbmdQb2xpY3k6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwicHlyYW1pZGluZ1BvbGljeVwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInB5cmFtaWRpbmdQb2xpY3lcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInB5cmFtaWRpbmdQb2xpY3lcIiwgdmFsdWUpO1xufX0sIHB5cmFtaWRpbmdQb2xpY3lPdmVycmlkZXM6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwicHlyYW1pZGluZ1BvbGljeU92ZXJyaWRlc1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInB5cmFtaWRpbmdQb2xpY3lPdmVycmlkZXNcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInB5cmFtaWRpbmdQb2xpY3lPdmVycmlkZXNcIiwgdmFsdWUpO1xufX0sIHRpbGVTaXplOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcInRpbGVTaXplXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwidGlsZVNpemVcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInRpbGVTaXplXCIsIHZhbHVlKTtcbn19fSk7XG4kanNjb21wLmdsb2JhbC5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkltYWdlQXNzZXRFeHBvcnRPcHRpb25zLCB7UHlyYW1pZGluZ1BvbGljeTp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkltYWdlQXNzZXRFeHBvcnRPcHRpb25zUHlyYW1pZGluZ1BvbGljeUVudW07XG59fSwgUHlyYW1pZGluZ1BvbGljeU92ZXJyaWRlczp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkltYWdlQXNzZXRFeHBvcnRPcHRpb25zUHlyYW1pZGluZ1BvbGljeU92ZXJyaWRlc0VudW07XG59fX0pO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JbWFnZUJhbmRQYXJhbWV0ZXJzID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfSW1hZ2VCYW5kUGFyYW1ldGVycygpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkltYWdlQmFuZCA9IGZ1bmN0aW9uKHBhcmFtZXRlcnMpIHtcbiAgcGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFyYW1ldGVycyA/IHt9IDogcGFyYW1ldGVycztcbiAgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUuY2FsbCh0aGlzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiaWRcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmlkID8gbnVsbCA6IHBhcmFtZXRlcnMuaWQpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJkYXRhVHlwZVwiLCBudWxsID09IHBhcmFtZXRlcnMuZGF0YVR5cGUgPyBudWxsIDogcGFyYW1ldGVycy5kYXRhVHlwZSk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImdyaWRcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmdyaWQgPyBudWxsIDogcGFyYW1ldGVycy5ncmlkKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwicHlyYW1pZGluZ1BvbGljeVwiLCBudWxsID09IHBhcmFtZXRlcnMucHlyYW1pZGluZ1BvbGljeSA/IG51bGwgOiBwYXJhbWV0ZXJzLnB5cmFtaWRpbmdQb2xpY3kpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJ0aWxlc2V0c1wiLCBudWxsID09IHBhcmFtZXRlcnMudGlsZXNldHMgPyBudWxsIDogcGFyYW1ldGVycy50aWxlc2V0cyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcIm1pc3NpbmdEYXRhXCIsIG51bGwgPT0gcGFyYW1ldGVycy5taXNzaW5nRGF0YSA/IG51bGwgOiBwYXJhbWV0ZXJzLm1pc3NpbmdEYXRhKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiY2xvdWRTdG9yYWdlTG9jYXRpb25cIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmNsb3VkU3RvcmFnZUxvY2F0aW9uID8gbnVsbCA6IHBhcmFtZXRlcnMuY2xvdWRTdG9yYWdlTG9jYXRpb24pO1xufTtcbiRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JbWFnZUJhbmQsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlKTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSW1hZ2VCYW5kLnByb3RvdHlwZS5nZXRDb25zdHJ1Y3RvciA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JbWFnZUJhbmQ7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JbWFnZUJhbmQucHJvdG90eXBlLmdldFBhcnRpYWxDbGFzc01ldGFkYXRhID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7YXJyYXlzOnt0aWxlc2V0czptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRpbGVzdG9yZVRpbGVzZXR9LCBlbnVtczp7cHlyYW1pZGluZ1BvbGljeTptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkltYWdlQmFuZFB5cmFtaWRpbmdQb2xpY3lFbnVtfSwga2V5czpcImNsb3VkU3RvcmFnZUxvY2F0aW9uIGRhdGFUeXBlIGdyaWQgaWQgbWlzc2luZ0RhdGEgcHlyYW1pZGluZ1BvbGljeSB0aWxlc2V0c1wiLnNwbGl0KFwiIFwiKSwgb2JqZWN0czp7Y2xvdWRTdG9yYWdlTG9jYXRpb246bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5DbG91ZFN0b3JhZ2VMb2NhdGlvbiwgZGF0YVR5cGU6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5QaXhlbERhdGFUeXBlLCBcbiAgZ3JpZDptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlBpeGVsR3JpZCwgbWlzc2luZ0RhdGE6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5NaXNzaW5nRGF0YX19O1xufTtcbiRqc2NvbXAuZ2xvYmFsLk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSW1hZ2VCYW5kLnByb3RvdHlwZSwge2Nsb3VkU3RvcmFnZUxvY2F0aW9uOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImNsb3VkU3RvcmFnZUxvY2F0aW9uXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiY2xvdWRTdG9yYWdlTG9jYXRpb25cIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImNsb3VkU3RvcmFnZUxvY2F0aW9uXCIsIHZhbHVlKTtcbn19LCBkYXRhVHlwZTp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJkYXRhVHlwZVwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImRhdGFUeXBlXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJkYXRhVHlwZVwiLCB2YWx1ZSk7XG59fSwgZ3JpZDp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJncmlkXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiZ3JpZFwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZ3JpZFwiLCB2YWx1ZSk7XG59fSwgaWQ6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiaWRcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJpZFwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiaWRcIiwgdmFsdWUpO1xufX0sIG1pc3NpbmdEYXRhOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcIm1pc3NpbmdEYXRhXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwibWlzc2luZ0RhdGFcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcIm1pc3NpbmdEYXRhXCIsIHZhbHVlKTtcbn19LCBweXJhbWlkaW5nUG9saWN5Ontjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcInB5cmFtaWRpbmdQb2xpY3lcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJweXJhbWlkaW5nUG9saWN5XCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJweXJhbWlkaW5nUG9saWN5XCIsIHZhbHVlKTtcbn19LCB0aWxlc2V0czp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJ0aWxlc2V0c1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInRpbGVzZXRzXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJ0aWxlc2V0c1wiLCB2YWx1ZSk7XG59fX0pO1xuJGpzY29tcC5nbG9iYWwuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JbWFnZUJhbmQsIHtQeXJhbWlkaW5nUG9saWN5Ontjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSW1hZ2VCYW5kUHlyYW1pZGluZ1BvbGljeUVudW07XG59fX0pO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JbWFnZUZpbGVFeHBvcnRPcHRpb25zUGFyYW1ldGVycyA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0ltYWdlRmlsZUV4cG9ydE9wdGlvbnNQYXJhbWV0ZXJzKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSW1hZ2VGaWxlRXhwb3J0T3B0aW9ucyA9IGZ1bmN0aW9uKHBhcmFtZXRlcnMpIHtcbiAgcGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFyYW1ldGVycyA/IHt9IDogcGFyYW1ldGVycztcbiAgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUuY2FsbCh0aGlzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZHJpdmVEZXN0aW5hdGlvblwiLCBudWxsID09IHBhcmFtZXRlcnMuZHJpdmVEZXN0aW5hdGlvbiA/IG51bGwgOiBwYXJhbWV0ZXJzLmRyaXZlRGVzdGluYXRpb24pO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJjbG91ZFN0b3JhZ2VEZXN0aW5hdGlvblwiLCBudWxsID09IHBhcmFtZXRlcnMuY2xvdWRTdG9yYWdlRGVzdGluYXRpb24gPyBudWxsIDogcGFyYW1ldGVycy5jbG91ZFN0b3JhZ2VEZXN0aW5hdGlvbik7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImdjc0Rlc3RpbmF0aW9uXCIsIG51bGwgPT0gcGFyYW1ldGVycy5nY3NEZXN0aW5hdGlvbiA/IG51bGwgOiBwYXJhbWV0ZXJzLmdjc0Rlc3RpbmF0aW9uKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZ2VvVGlmZk9wdGlvbnNcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmdlb1RpZmZPcHRpb25zID8gbnVsbCA6IHBhcmFtZXRlcnMuZ2VvVGlmZk9wdGlvbnMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJ0ZlJlY29yZE9wdGlvbnNcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLnRmUmVjb3JkT3B0aW9ucyA/IG51bGwgOiBwYXJhbWV0ZXJzLnRmUmVjb3JkT3B0aW9ucyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImZpbGVGb3JtYXRcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmZpbGVGb3JtYXQgPyBudWxsIDogcGFyYW1ldGVycy5maWxlRm9ybWF0KTtcbn07XG4kanNjb21wLmluaGVyaXRzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSW1hZ2VGaWxlRXhwb3J0T3B0aW9ucywgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUpO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JbWFnZUZpbGVFeHBvcnRPcHRpb25zLnByb3RvdHlwZS5nZXRDb25zdHJ1Y3RvciA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JbWFnZUZpbGVFeHBvcnRPcHRpb25zO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSW1hZ2VGaWxlRXhwb3J0T3B0aW9ucy5wcm90b3R5cGUuZ2V0UGFydGlhbENsYXNzTWV0YWRhdGEgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtlbnVtczp7ZmlsZUZvcm1hdDptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkltYWdlRmlsZUV4cG9ydE9wdGlvbnNGaWxlRm9ybWF0RW51bX0sIGtleXM6XCJjbG91ZFN0b3JhZ2VEZXN0aW5hdGlvbiBkcml2ZURlc3RpbmF0aW9uIGZpbGVGb3JtYXQgZ2NzRGVzdGluYXRpb24gZ2VvVGlmZk9wdGlvbnMgdGZSZWNvcmRPcHRpb25zXCIuc3BsaXQoXCIgXCIpLCBvYmplY3RzOntjbG91ZFN0b3JhZ2VEZXN0aW5hdGlvbjptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNsb3VkU3RvcmFnZURlc3RpbmF0aW9uLCBkcml2ZURlc3RpbmF0aW9uOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRHJpdmVEZXN0aW5hdGlvbiwgXG4gIGdjc0Rlc3RpbmF0aW9uOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuR2NzRGVzdGluYXRpb24sIGdlb1RpZmZPcHRpb25zOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuR2VvVGlmZkltYWdlRXhwb3J0T3B0aW9ucywgdGZSZWNvcmRPcHRpb25zOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGZSZWNvcmRJbWFnZUV4cG9ydE9wdGlvbnN9fTtcbn07XG4kanNjb21wLmdsb2JhbC5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkltYWdlRmlsZUV4cG9ydE9wdGlvbnMucHJvdG90eXBlLCB7Y2xvdWRTdG9yYWdlRGVzdGluYXRpb246e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiY2xvdWRTdG9yYWdlRGVzdGluYXRpb25cIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJjbG91ZFN0b3JhZ2VEZXN0aW5hdGlvblwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiY2xvdWRTdG9yYWdlRGVzdGluYXRpb25cIiwgdmFsdWUpO1xufX0sIGRyaXZlRGVzdGluYXRpb246e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiZHJpdmVEZXN0aW5hdGlvblwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImRyaXZlRGVzdGluYXRpb25cIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImRyaXZlRGVzdGluYXRpb25cIiwgdmFsdWUpO1xufX0sIGZpbGVGb3JtYXQ6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiZmlsZUZvcm1hdFwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImZpbGVGb3JtYXRcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImZpbGVGb3JtYXRcIiwgdmFsdWUpO1xufX0sIGdjc0Rlc3RpbmF0aW9uOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImdjc0Rlc3RpbmF0aW9uXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiZ2NzRGVzdGluYXRpb25cIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImdjc0Rlc3RpbmF0aW9uXCIsIHZhbHVlKTtcbn19LCBnZW9UaWZmT3B0aW9uczp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJnZW9UaWZmT3B0aW9uc1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImdlb1RpZmZPcHRpb25zXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJnZW9UaWZmT3B0aW9uc1wiLCB2YWx1ZSk7XG59fSwgdGZSZWNvcmRPcHRpb25zOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcInRmUmVjb3JkT3B0aW9uc1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInRmUmVjb3JkT3B0aW9uc1wiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwidGZSZWNvcmRPcHRpb25zXCIsIHZhbHVlKTtcbn19fSk7XG4kanNjb21wLmdsb2JhbC5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkltYWdlRmlsZUV4cG9ydE9wdGlvbnMsIHtGaWxlRm9ybWF0Ontjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSW1hZ2VGaWxlRXhwb3J0T3B0aW9uc0ZpbGVGb3JtYXRFbnVtO1xufX19KTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSW1hZ2VNYW5pZmVzdFBhcmFtZXRlcnMgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9JbWFnZU1hbmlmZXN0UGFyYW1ldGVycygpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkltYWdlTWFuaWZlc3QgPSBmdW5jdGlvbihwYXJhbWV0ZXJzKSB7XG4gIHBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IHBhcmFtZXRlcnMgPyB7fSA6IHBhcmFtZXRlcnM7XG4gIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlLmNhbGwodGhpcyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcIm5hbWVcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLm5hbWUgPyBudWxsIDogcGFyYW1ldGVycy5uYW1lKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwicHJvcGVydGllc1wiLCBudWxsID09IHBhcmFtZXRlcnMucHJvcGVydGllcyA/IG51bGwgOiBwYXJhbWV0ZXJzLnByb3BlcnRpZXMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJ1cmlQcmVmaXhcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLnVyaVByZWZpeCA/IG51bGwgOiBwYXJhbWV0ZXJzLnVyaVByZWZpeCk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInRpbGVzZXRzXCIsIG51bGwgPT0gcGFyYW1ldGVycy50aWxlc2V0cyA/IG51bGwgOiBwYXJhbWV0ZXJzLnRpbGVzZXRzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiYmFuZHNcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmJhbmRzID8gbnVsbCA6IHBhcmFtZXRlcnMuYmFuZHMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJtYXNrQmFuZHNcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLm1hc2tCYW5kcyA/IG51bGwgOiBwYXJhbWV0ZXJzLm1hc2tCYW5kcyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImZvb3RwcmludFwiLCBudWxsID09IHBhcmFtZXRlcnMuZm9vdHByaW50ID8gbnVsbCA6IHBhcmFtZXRlcnMuZm9vdHByaW50KTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwibWlzc2luZ0RhdGFcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLm1pc3NpbmdEYXRhID8gbnVsbCA6IHBhcmFtZXRlcnMubWlzc2luZ0RhdGEpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJweXJhbWlkaW5nUG9saWN5XCIsIG51bGwgPT0gcGFyYW1ldGVycy5weXJhbWlkaW5nUG9saWN5ID8gbnVsbCA6IHBhcmFtZXRlcnMucHlyYW1pZGluZ1BvbGljeSk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInN0YXJ0VGltZVwiLCBudWxsID09IHBhcmFtZXRlcnMuc3RhcnRUaW1lID8gbnVsbCA6IHBhcmFtZXRlcnMuc3RhcnRUaW1lKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZW5kVGltZVwiLCBudWxsID09IHBhcmFtZXRlcnMuZW5kVGltZSA/IG51bGwgOiBwYXJhbWV0ZXJzLmVuZFRpbWUpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJtaW5UaWxlQXJlYVJhdGlvXCIsIG51bGwgPT0gcGFyYW1ldGVycy5taW5UaWxlQXJlYVJhdGlvID8gbnVsbCA6IHBhcmFtZXRlcnMubWluVGlsZUFyZWFSYXRpbyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInNraXBNZXRhZGF0YVJlYWRcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLnNraXBNZXRhZGF0YVJlYWQgPyBudWxsIDogcGFyYW1ldGVycy5za2lwTWV0YWRhdGFSZWFkKTtcbn07XG4kanNjb21wLmluaGVyaXRzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSW1hZ2VNYW5pZmVzdCwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUpO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JbWFnZU1hbmlmZXN0LnByb3RvdHlwZS5nZXRDb25zdHJ1Y3RvciA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JbWFnZU1hbmlmZXN0O1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSW1hZ2VNYW5pZmVzdC5wcm90b3R5cGUuZ2V0UGFydGlhbENsYXNzTWV0YWRhdGEgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHthcnJheXM6e2JhbmRzOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGlsZXNldEJhbmQsIG1hc2tCYW5kczptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRpbGVzZXRNYXNrQmFuZCwgdGlsZXNldHM6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UaWxlc2V0fSwgZW51bXM6e3B5cmFtaWRpbmdQb2xpY3k6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JbWFnZU1hbmlmZXN0UHlyYW1pZGluZ1BvbGljeUVudW19LCBrZXlzOlwiYmFuZHMgZW5kVGltZSBmb290cHJpbnQgbWFza0JhbmRzIG1pblRpbGVBcmVhUmF0aW8gbWlzc2luZ0RhdGEgbmFtZSBwcm9wZXJ0aWVzIHB5cmFtaWRpbmdQb2xpY3kgc2tpcE1ldGFkYXRhUmVhZCBzdGFydFRpbWUgdGlsZXNldHMgdXJpUHJlZml4XCIuc3BsaXQoXCIgXCIpLCBcbiAgb2JqZWN0TWFwczp7cHJvcGVydGllczp7Y3RvcjpudWxsLCBpc1Byb3BlcnR5QXJyYXk6ITEsIGlzU2VyaWFsaXphYmxlOiExLCBpc1ZhbHVlQXJyYXk6ITF9fSwgb2JqZWN0czp7Zm9vdHByaW50Om1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUGl4ZWxGb290cHJpbnQsIG1pc3NpbmdEYXRhOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuTWlzc2luZ0RhdGF9fTtcbn07XG4kanNjb21wLmdsb2JhbC5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkltYWdlTWFuaWZlc3QucHJvdG90eXBlLCB7YmFuZHM6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiYmFuZHNcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJiYW5kc1wiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiYmFuZHNcIiwgdmFsdWUpO1xufX0sIGVuZFRpbWU6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiZW5kVGltZVwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImVuZFRpbWVcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImVuZFRpbWVcIiwgdmFsdWUpO1xufX0sIGZvb3RwcmludDp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJmb290cHJpbnRcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJmb290cHJpbnRcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImZvb3RwcmludFwiLCB2YWx1ZSk7XG59fSwgbWFza0JhbmRzOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcIm1hc2tCYW5kc1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcIm1hc2tCYW5kc1wiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwibWFza0JhbmRzXCIsIHZhbHVlKTtcbn19LCBtaW5UaWxlQXJlYVJhdGlvOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcIm1pblRpbGVBcmVhUmF0aW9cIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJtaW5UaWxlQXJlYVJhdGlvXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJtaW5UaWxlQXJlYVJhdGlvXCIsIHZhbHVlKTtcbn19LCBtaXNzaW5nRGF0YTp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJtaXNzaW5nRGF0YVwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcIm1pc3NpbmdEYXRhXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJtaXNzaW5nRGF0YVwiLCB2YWx1ZSk7XG59fSwgbmFtZTp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJuYW1lXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwibmFtZVwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwibmFtZVwiLCB2YWx1ZSk7XG59fSwgcHJvcGVydGllczp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJwcm9wZXJ0aWVzXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwicHJvcGVydGllc1wiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwicHJvcGVydGllc1wiLCB2YWx1ZSk7XG59fSwgcHlyYW1pZGluZ1BvbGljeTp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJweXJhbWlkaW5nUG9saWN5XCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwicHlyYW1pZGluZ1BvbGljeVwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwicHlyYW1pZGluZ1BvbGljeVwiLCB2YWx1ZSk7XG59fSwgc2tpcE1ldGFkYXRhUmVhZDp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJza2lwTWV0YWRhdGFSZWFkXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwic2tpcE1ldGFkYXRhUmVhZFwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwic2tpcE1ldGFkYXRhUmVhZFwiLCB2YWx1ZSk7XG59fSwgc3RhcnRUaW1lOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcInN0YXJ0VGltZVwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInN0YXJ0VGltZVwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwic3RhcnRUaW1lXCIsIHZhbHVlKTtcbn19LCB0aWxlc2V0czp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJ0aWxlc2V0c1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInRpbGVzZXRzXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJ0aWxlc2V0c1wiLCB2YWx1ZSk7XG59fSwgdXJpUHJlZml4Ontjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcInVyaVByZWZpeFwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInVyaVByZWZpeFwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwidXJpUHJlZml4XCIsIHZhbHVlKTtcbn19fSk7XG4kanNjb21wLmdsb2JhbC5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkltYWdlTWFuaWZlc3QsIHtQeXJhbWlkaW5nUG9saWN5Ontjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSW1hZ2VNYW5pZmVzdFB5cmFtaWRpbmdQb2xpY3lFbnVtO1xufX19KTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSW1hZ2VTb3VyY2VQYXJhbWV0ZXJzID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfSW1hZ2VTb3VyY2VQYXJhbWV0ZXJzKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSW1hZ2VTb3VyY2UgPSBmdW5jdGlvbihwYXJhbWV0ZXJzKSB7XG4gIHBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IHBhcmFtZXRlcnMgPyB7fSA6IHBhcmFtZXRlcnM7XG4gIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlLmNhbGwodGhpcyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInVyaXNcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLnVyaXMgPyBudWxsIDogcGFyYW1ldGVycy51cmlzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiYWZmaW5lVHJhbnNmb3JtXCIsIG51bGwgPT0gcGFyYW1ldGVycy5hZmZpbmVUcmFuc2Zvcm0gPyBudWxsIDogcGFyYW1ldGVycy5hZmZpbmVUcmFuc2Zvcm0pO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJkaW1lbnNpb25zXCIsIG51bGwgPT0gcGFyYW1ldGVycy5kaW1lbnNpb25zID8gbnVsbCA6IHBhcmFtZXRlcnMuZGltZW5zaW9ucyk7XG59O1xuJGpzY29tcC5pbmhlcml0cyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkltYWdlU291cmNlLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkltYWdlU291cmNlLnByb3RvdHlwZS5nZXRDb25zdHJ1Y3RvciA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JbWFnZVNvdXJjZTtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkltYWdlU291cmNlLnByb3RvdHlwZS5nZXRQYXJ0aWFsQ2xhc3NNZXRhZGF0YSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge2tleXM6W1wiYWZmaW5lVHJhbnNmb3JtXCIsIFwiZGltZW5zaW9uc1wiLCBcInVyaXNcIl0sIG9iamVjdHM6e2FmZmluZVRyYW5zZm9ybTptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkFmZmluZVRyYW5zZm9ybSwgZGltZW5zaW9uczptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkdyaWREaW1lbnNpb25zfX07XG59O1xuJGpzY29tcC5nbG9iYWwuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JbWFnZVNvdXJjZS5wcm90b3R5cGUsIHthZmZpbmVUcmFuc2Zvcm06e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiYWZmaW5lVHJhbnNmb3JtXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiYWZmaW5lVHJhbnNmb3JtXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJhZmZpbmVUcmFuc2Zvcm1cIiwgdmFsdWUpO1xufX0sIGRpbWVuc2lvbnM6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiZGltZW5zaW9uc1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImRpbWVuc2lvbnNcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImRpbWVuc2lvbnNcIiwgdmFsdWUpO1xufX0sIHVyaXM6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwidXJpc1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInVyaXNcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInVyaXNcIiwgdmFsdWUpO1xufX19KTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSW1wb3J0SW1hZ2VSZXF1ZXN0UGFyYW1ldGVycyA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0ltcG9ydEltYWdlUmVxdWVzdFBhcmFtZXRlcnMoKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JbXBvcnRJbWFnZVJlcXVlc3QgPSBmdW5jdGlvbihwYXJhbWV0ZXJzKSB7XG4gIHBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IHBhcmFtZXRlcnMgPyB7fSA6IHBhcmFtZXRlcnM7XG4gIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlLmNhbGwodGhpcyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImltYWdlTWFuaWZlc3RcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmltYWdlTWFuaWZlc3QgPyBudWxsIDogcGFyYW1ldGVycy5pbWFnZU1hbmlmZXN0KTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZGVzY3JpcHRpb25cIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmRlc2NyaXB0aW9uID8gbnVsbCA6IHBhcmFtZXRlcnMuZGVzY3JpcHRpb24pO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJvdmVyd3JpdGVcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLm92ZXJ3cml0ZSA/IG51bGwgOiBwYXJhbWV0ZXJzLm92ZXJ3cml0ZSk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInJlcXVlc3RJZFwiLCBudWxsID09IHBhcmFtZXRlcnMucmVxdWVzdElkID8gbnVsbCA6IHBhcmFtZXRlcnMucmVxdWVzdElkKTtcbn07XG4kanNjb21wLmluaGVyaXRzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSW1wb3J0SW1hZ2VSZXF1ZXN0LCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkltcG9ydEltYWdlUmVxdWVzdC5wcm90b3R5cGUuZ2V0Q29uc3RydWN0b3IgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSW1wb3J0SW1hZ2VSZXF1ZXN0O1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSW1wb3J0SW1hZ2VSZXF1ZXN0LnByb3RvdHlwZS5nZXRQYXJ0aWFsQ2xhc3NNZXRhZGF0YSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge2tleXM6W1wiZGVzY3JpcHRpb25cIiwgXCJpbWFnZU1hbmlmZXN0XCIsIFwib3ZlcndyaXRlXCIsIFwicmVxdWVzdElkXCJdLCBvYmplY3RzOntpbWFnZU1hbmlmZXN0Om1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSW1hZ2VNYW5pZmVzdH19O1xufTtcbiRqc2NvbXAuZ2xvYmFsLk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSW1wb3J0SW1hZ2VSZXF1ZXN0LnByb3RvdHlwZSwge2Rlc2NyaXB0aW9uOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImRlc2NyaXB0aW9uXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiZGVzY3JpcHRpb25cIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImRlc2NyaXB0aW9uXCIsIHZhbHVlKTtcbn19LCBpbWFnZU1hbmlmZXN0Ontjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImltYWdlTWFuaWZlc3RcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJpbWFnZU1hbmlmZXN0XCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJpbWFnZU1hbmlmZXN0XCIsIHZhbHVlKTtcbn19LCBvdmVyd3JpdGU6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwib3ZlcndyaXRlXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwib3ZlcndyaXRlXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJvdmVyd3JpdGVcIiwgdmFsdWUpO1xufX0sIHJlcXVlc3RJZDp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJyZXF1ZXN0SWRcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJyZXF1ZXN0SWRcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInJlcXVlc3RJZFwiLCB2YWx1ZSk7XG59fX0pO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JbXBvcnRUYWJsZVJlcXVlc3RQYXJhbWV0ZXJzID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfSW1wb3J0VGFibGVSZXF1ZXN0UGFyYW1ldGVycygpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkltcG9ydFRhYmxlUmVxdWVzdCA9IGZ1bmN0aW9uKHBhcmFtZXRlcnMpIHtcbiAgcGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFyYW1ldGVycyA/IHt9IDogcGFyYW1ldGVycztcbiAgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUuY2FsbCh0aGlzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwidGFibGVNYW5pZmVzdFwiLCBudWxsID09IHBhcmFtZXRlcnMudGFibGVNYW5pZmVzdCA/IG51bGwgOiBwYXJhbWV0ZXJzLnRhYmxlTWFuaWZlc3QpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJkZXNjcmlwdGlvblwiLCBudWxsID09IHBhcmFtZXRlcnMuZGVzY3JpcHRpb24gPyBudWxsIDogcGFyYW1ldGVycy5kZXNjcmlwdGlvbik7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcIm92ZXJ3cml0ZVwiLCBudWxsID09IHBhcmFtZXRlcnMub3ZlcndyaXRlID8gbnVsbCA6IHBhcmFtZXRlcnMub3ZlcndyaXRlKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwicmVxdWVzdElkXCIsIG51bGwgPT0gcGFyYW1ldGVycy5yZXF1ZXN0SWQgPyBudWxsIDogcGFyYW1ldGVycy5yZXF1ZXN0SWQpO1xufTtcbiRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JbXBvcnRUYWJsZVJlcXVlc3QsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlKTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSW1wb3J0VGFibGVSZXF1ZXN0LnByb3RvdHlwZS5nZXRDb25zdHJ1Y3RvciA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JbXBvcnRUYWJsZVJlcXVlc3Q7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JbXBvcnRUYWJsZVJlcXVlc3QucHJvdG90eXBlLmdldFBhcnRpYWxDbGFzc01ldGFkYXRhID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7a2V5czpbXCJkZXNjcmlwdGlvblwiLCBcIm92ZXJ3cml0ZVwiLCBcInJlcXVlc3RJZFwiLCBcInRhYmxlTWFuaWZlc3RcIl0sIG9iamVjdHM6e3RhYmxlTWFuaWZlc3Q6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UYWJsZU1hbmlmZXN0fX07XG59O1xuJGpzY29tcC5nbG9iYWwuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JbXBvcnRUYWJsZVJlcXVlc3QucHJvdG90eXBlLCB7ZGVzY3JpcHRpb246e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiZGVzY3JpcHRpb25cIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJkZXNjcmlwdGlvblwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZGVzY3JpcHRpb25cIiwgdmFsdWUpO1xufX0sIG92ZXJ3cml0ZTp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJvdmVyd3JpdGVcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJvdmVyd3JpdGVcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcIm92ZXJ3cml0ZVwiLCB2YWx1ZSk7XG59fSwgcmVxdWVzdElkOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcInJlcXVlc3RJZFwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInJlcXVlc3RJZFwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwicmVxdWVzdElkXCIsIHZhbHVlKTtcbn19LCB0YWJsZU1hbmlmZXN0Ontjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcInRhYmxlTWFuaWZlc3RcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJ0YWJsZU1hbmlmZXN0XCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJ0YWJsZU1hbmlmZXN0XCIsIHZhbHVlKTtcbn19fSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkxpbmtBc3NldFJlcXVlc3RQYXJhbWV0ZXJzID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfTGlua0Fzc2V0UmVxdWVzdFBhcmFtZXRlcnMoKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5MaW5rQXNzZXRSZXF1ZXN0ID0gZnVuY3Rpb24ocGFyYW1ldGVycykge1xuICBwYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXJhbWV0ZXJzID8ge30gOiBwYXJhbWV0ZXJzO1xuICBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZS5jYWxsKHRoaXMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJkZXN0aW5hdGlvbk5hbWVcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmRlc3RpbmF0aW9uTmFtZSA/IG51bGwgOiBwYXJhbWV0ZXJzLmRlc3RpbmF0aW9uTmFtZSk7XG59O1xuJGpzY29tcC5pbmhlcml0cyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkxpbmtBc3NldFJlcXVlc3QsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlKTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuTGlua0Fzc2V0UmVxdWVzdC5wcm90b3R5cGUuZ2V0Q29uc3RydWN0b3IgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuTGlua0Fzc2V0UmVxdWVzdDtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkxpbmtBc3NldFJlcXVlc3QucHJvdG90eXBlLmdldFBhcnRpYWxDbGFzc01ldGFkYXRhID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7a2V5czpbXCJkZXN0aW5hdGlvbk5hbWVcIl19O1xufTtcbiRqc2NvbXAuZ2xvYmFsLk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuTGlua0Fzc2V0UmVxdWVzdC5wcm90b3R5cGUsIHtkZXN0aW5hdGlvbk5hbWU6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiZGVzdGluYXRpb25OYW1lXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiZGVzdGluYXRpb25OYW1lXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJkZXN0aW5hdGlvbk5hbWVcIiwgdmFsdWUpO1xufX19KTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuTGlzdEFsZ29yaXRobXNSZXNwb25zZVBhcmFtZXRlcnMgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9MaXN0QWxnb3JpdGhtc1Jlc3BvbnNlUGFyYW1ldGVycygpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50Lkxpc3RBbGdvcml0aG1zUmVzcG9uc2UgPSBmdW5jdGlvbihwYXJhbWV0ZXJzKSB7XG4gIHBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IHBhcmFtZXRlcnMgPyB7fSA6IHBhcmFtZXRlcnM7XG4gIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlLmNhbGwodGhpcyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImFsZ29yaXRobXNcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmFsZ29yaXRobXMgPyBudWxsIDogcGFyYW1ldGVycy5hbGdvcml0aG1zKTtcbn07XG4kanNjb21wLmluaGVyaXRzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuTGlzdEFsZ29yaXRobXNSZXNwb25zZSwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUpO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5MaXN0QWxnb3JpdGhtc1Jlc3BvbnNlLnByb3RvdHlwZS5nZXRDb25zdHJ1Y3RvciA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5MaXN0QWxnb3JpdGhtc1Jlc3BvbnNlO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuTGlzdEFsZ29yaXRobXNSZXNwb25zZS5wcm90b3R5cGUuZ2V0UGFydGlhbENsYXNzTWV0YWRhdGEgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHthcnJheXM6e2FsZ29yaXRobXM6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5BbGdvcml0aG19LCBrZXlzOltcImFsZ29yaXRobXNcIl19O1xufTtcbiRqc2NvbXAuZ2xvYmFsLk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuTGlzdEFsZ29yaXRobXNSZXNwb25zZS5wcm90b3R5cGUsIHthbGdvcml0aG1zOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImFsZ29yaXRobXNcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJhbGdvcml0aG1zXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJhbGdvcml0aG1zXCIsIHZhbHVlKTtcbn19fSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50Lkxpc3RBc3NldHNSZXNwb25zZVBhcmFtZXRlcnMgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9MaXN0QXNzZXRzUmVzcG9uc2VQYXJhbWV0ZXJzKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuTGlzdEFzc2V0c1Jlc3BvbnNlID0gZnVuY3Rpb24ocGFyYW1ldGVycykge1xuICBwYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXJhbWV0ZXJzID8ge30gOiBwYXJhbWV0ZXJzO1xuICBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZS5jYWxsKHRoaXMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJhc3NldHNcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmFzc2V0cyA/IG51bGwgOiBwYXJhbWV0ZXJzLmFzc2V0cyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcIm5leHRQYWdlVG9rZW5cIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLm5leHRQYWdlVG9rZW4gPyBudWxsIDogcGFyYW1ldGVycy5uZXh0UGFnZVRva2VuKTtcbn07XG4kanNjb21wLmluaGVyaXRzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuTGlzdEFzc2V0c1Jlc3BvbnNlLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50Lkxpc3RBc3NldHNSZXNwb25zZS5wcm90b3R5cGUuZ2V0Q29uc3RydWN0b3IgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuTGlzdEFzc2V0c1Jlc3BvbnNlO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuTGlzdEFzc2V0c1Jlc3BvbnNlLnByb3RvdHlwZS5nZXRQYXJ0aWFsQ2xhc3NNZXRhZGF0YSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge2FycmF5czp7YXNzZXRzOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRWFydGhFbmdpbmVBc3NldH0sIGtleXM6W1wiYXNzZXRzXCIsIFwibmV4dFBhZ2VUb2tlblwiXX07XG59O1xuJGpzY29tcC5nbG9iYWwuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5MaXN0QXNzZXRzUmVzcG9uc2UucHJvdG90eXBlLCB7YXNzZXRzOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImFzc2V0c1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImFzc2V0c1wiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiYXNzZXRzXCIsIHZhbHVlKTtcbn19LCBuZXh0UGFnZVRva2VuOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcIm5leHRQYWdlVG9rZW5cIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJuZXh0UGFnZVRva2VuXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJuZXh0UGFnZVRva2VuXCIsIHZhbHVlKTtcbn19fSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50Lkxpc3RGZWF0dXJlc1Jlc3BvbnNlUGFyYW1ldGVycyA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0xpc3RGZWF0dXJlc1Jlc3BvbnNlUGFyYW1ldGVycygpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50Lkxpc3RGZWF0dXJlc1Jlc3BvbnNlID0gZnVuY3Rpb24ocGFyYW1ldGVycykge1xuICBwYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXJhbWV0ZXJzID8ge30gOiBwYXJhbWV0ZXJzO1xuICBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZS5jYWxsKHRoaXMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJ0eXBlXCIsIG51bGwgPT0gcGFyYW1ldGVycy50eXBlID8gbnVsbCA6IHBhcmFtZXRlcnMudHlwZSk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImZlYXR1cmVzXCIsIG51bGwgPT0gcGFyYW1ldGVycy5mZWF0dXJlcyA/IG51bGwgOiBwYXJhbWV0ZXJzLmZlYXR1cmVzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwibmV4dFBhZ2VUb2tlblwiLCBudWxsID09IHBhcmFtZXRlcnMubmV4dFBhZ2VUb2tlbiA/IG51bGwgOiBwYXJhbWV0ZXJzLm5leHRQYWdlVG9rZW4pO1xufTtcbiRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5MaXN0RmVhdHVyZXNSZXNwb25zZSwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUpO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5MaXN0RmVhdHVyZXNSZXNwb25zZS5wcm90b3R5cGUuZ2V0Q29uc3RydWN0b3IgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuTGlzdEZlYXR1cmVzUmVzcG9uc2U7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5MaXN0RmVhdHVyZXNSZXNwb25zZS5wcm90b3R5cGUuZ2V0UGFydGlhbENsYXNzTWV0YWRhdGEgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHthcnJheXM6e2ZlYXR1cmVzOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRmVhdHVyZX0sIGtleXM6W1wiZmVhdHVyZXNcIiwgXCJuZXh0UGFnZVRva2VuXCIsIFwidHlwZVwiXX07XG59O1xuJGpzY29tcC5nbG9iYWwuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5MaXN0RmVhdHVyZXNSZXNwb25zZS5wcm90b3R5cGUsIHtmZWF0dXJlczp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJmZWF0dXJlc1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImZlYXR1cmVzXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJmZWF0dXJlc1wiLCB2YWx1ZSk7XG59fSwgbmV4dFBhZ2VUb2tlbjp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJuZXh0UGFnZVRva2VuXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwibmV4dFBhZ2VUb2tlblwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwibmV4dFBhZ2VUb2tlblwiLCB2YWx1ZSk7XG59fSwgdHlwZTp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJ0eXBlXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwidHlwZVwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwidHlwZVwiLCB2YWx1ZSk7XG59fX0pO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5MaXN0SW1hZ2VzUmVzcG9uc2VQYXJhbWV0ZXJzID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfTGlzdEltYWdlc1Jlc3BvbnNlUGFyYW1ldGVycygpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50Lkxpc3RJbWFnZXNSZXNwb25zZSA9IGZ1bmN0aW9uKHBhcmFtZXRlcnMpIHtcbiAgcGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFyYW1ldGVycyA/IHt9IDogcGFyYW1ldGVycztcbiAgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUuY2FsbCh0aGlzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiaW1hZ2VzXCIsIG51bGwgPT0gcGFyYW1ldGVycy5pbWFnZXMgPyBudWxsIDogcGFyYW1ldGVycy5pbWFnZXMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJuZXh0UGFnZVRva2VuXCIsIG51bGwgPT0gcGFyYW1ldGVycy5uZXh0UGFnZVRva2VuID8gbnVsbCA6IHBhcmFtZXRlcnMubmV4dFBhZ2VUb2tlbik7XG59O1xuJGpzY29tcC5pbmhlcml0cyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50Lkxpc3RJbWFnZXNSZXNwb25zZSwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUpO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5MaXN0SW1hZ2VzUmVzcG9uc2UucHJvdG90eXBlLmdldENvbnN0cnVjdG9yID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50Lkxpc3RJbWFnZXNSZXNwb25zZTtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50Lkxpc3RJbWFnZXNSZXNwb25zZS5wcm90b3R5cGUuZ2V0UGFydGlhbENsYXNzTWV0YWRhdGEgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHthcnJheXM6e2ltYWdlczptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkltYWdlfSwga2V5czpbXCJpbWFnZXNcIiwgXCJuZXh0UGFnZVRva2VuXCJdfTtcbn07XG4kanNjb21wLmdsb2JhbC5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50Lkxpc3RJbWFnZXNSZXNwb25zZS5wcm90b3R5cGUsIHtpbWFnZXM6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiaW1hZ2VzXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiaW1hZ2VzXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJpbWFnZXNcIiwgdmFsdWUpO1xufX0sIG5leHRQYWdlVG9rZW46e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwibmV4dFBhZ2VUb2tlblwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcIm5leHRQYWdlVG9rZW5cIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcIm5leHRQYWdlVG9rZW5cIiwgdmFsdWUpO1xufX19KTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuTGlzdE9wZXJhdGlvbnNSZXNwb25zZVBhcmFtZXRlcnMgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9MaXN0T3BlcmF0aW9uc1Jlc3BvbnNlUGFyYW1ldGVycygpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50Lkxpc3RPcGVyYXRpb25zUmVzcG9uc2UgPSBmdW5jdGlvbihwYXJhbWV0ZXJzKSB7XG4gIHBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IHBhcmFtZXRlcnMgPyB7fSA6IHBhcmFtZXRlcnM7XG4gIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlLmNhbGwodGhpcyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcIm9wZXJhdGlvbnNcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLm9wZXJhdGlvbnMgPyBudWxsIDogcGFyYW1ldGVycy5vcGVyYXRpb25zKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwibmV4dFBhZ2VUb2tlblwiLCBudWxsID09IHBhcmFtZXRlcnMubmV4dFBhZ2VUb2tlbiA/IG51bGwgOiBwYXJhbWV0ZXJzLm5leHRQYWdlVG9rZW4pO1xufTtcbiRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5MaXN0T3BlcmF0aW9uc1Jlc3BvbnNlLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50Lkxpc3RPcGVyYXRpb25zUmVzcG9uc2UucHJvdG90eXBlLmdldENvbnN0cnVjdG9yID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50Lkxpc3RPcGVyYXRpb25zUmVzcG9uc2U7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5MaXN0T3BlcmF0aW9uc1Jlc3BvbnNlLnByb3RvdHlwZS5nZXRQYXJ0aWFsQ2xhc3NNZXRhZGF0YSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge2FycmF5czp7b3BlcmF0aW9uczptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50Lk9wZXJhdGlvbn0sIGtleXM6W1wibmV4dFBhZ2VUb2tlblwiLCBcIm9wZXJhdGlvbnNcIl19O1xufTtcbiRqc2NvbXAuZ2xvYmFsLk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuTGlzdE9wZXJhdGlvbnNSZXNwb25zZS5wcm90b3R5cGUsIHtuZXh0UGFnZVRva2VuOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcIm5leHRQYWdlVG9rZW5cIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJuZXh0UGFnZVRva2VuXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJuZXh0UGFnZVRva2VuXCIsIHZhbHVlKTtcbn19LCBvcGVyYXRpb25zOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcIm9wZXJhdGlvbnNcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJvcGVyYXRpb25zXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJvcGVyYXRpb25zXCIsIHZhbHVlKTtcbn19fSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50Lkxpc3RTdWJzY3JpcHRpb25zUmVzcG9uc2VQYXJhbWV0ZXJzID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfTGlzdFN1YnNjcmlwdGlvbnNSZXNwb25zZVBhcmFtZXRlcnMoKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5MaXN0U3Vic2NyaXB0aW9uc1Jlc3BvbnNlID0gZnVuY3Rpb24ocGFyYW1ldGVycykge1xuICBwYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXJhbWV0ZXJzID8ge30gOiBwYXJhbWV0ZXJzO1xuICBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZS5jYWxsKHRoaXMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJzdWJzY3JpcHRpb25zXCIsIG51bGwgPT0gcGFyYW1ldGVycy5zdWJzY3JpcHRpb25zID8gbnVsbCA6IHBhcmFtZXRlcnMuc3Vic2NyaXB0aW9ucyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcIm5leHRQYWdlVG9rZW5cIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLm5leHRQYWdlVG9rZW4gPyBudWxsIDogcGFyYW1ldGVycy5uZXh0UGFnZVRva2VuKTtcbn07XG4kanNjb21wLmluaGVyaXRzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuTGlzdFN1YnNjcmlwdGlvbnNSZXNwb25zZSwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUpO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5MaXN0U3Vic2NyaXB0aW9uc1Jlc3BvbnNlLnByb3RvdHlwZS5nZXRDb25zdHJ1Y3RvciA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5MaXN0U3Vic2NyaXB0aW9uc1Jlc3BvbnNlO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuTGlzdFN1YnNjcmlwdGlvbnNSZXNwb25zZS5wcm90b3R5cGUuZ2V0UGFydGlhbENsYXNzTWV0YWRhdGEgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHthcnJheXM6e3N1YnNjcmlwdGlvbnM6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5TdWJzY3JpcHRpb259LCBrZXlzOltcIm5leHRQYWdlVG9rZW5cIiwgXCJzdWJzY3JpcHRpb25zXCJdfTtcbn07XG4kanNjb21wLmdsb2JhbC5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50Lkxpc3RTdWJzY3JpcHRpb25zUmVzcG9uc2UucHJvdG90eXBlLCB7bmV4dFBhZ2VUb2tlbjp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJuZXh0UGFnZVRva2VuXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwibmV4dFBhZ2VUb2tlblwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwibmV4dFBhZ2VUb2tlblwiLCB2YWx1ZSk7XG59fSwgc3Vic2NyaXB0aW9uczp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJzdWJzY3JpcHRpb25zXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwic3Vic2NyaXB0aW9uc1wiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwic3Vic2NyaXB0aW9uc1wiLCB2YWx1ZSk7XG59fX0pO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Mb2dDb25maWdQYXJhbWV0ZXJzID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfTG9nQ29uZmlnUGFyYW1ldGVycygpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkxvZ0NvbmZpZyA9IGZ1bmN0aW9uKHBhcmFtZXRlcnMpIHtcbiAgcGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFyYW1ldGVycyA/IHt9IDogcGFyYW1ldGVycztcbiAgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUuY2FsbCh0aGlzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiY291bnRlclwiLCBudWxsID09IHBhcmFtZXRlcnMuY291bnRlciA/IG51bGwgOiBwYXJhbWV0ZXJzLmNvdW50ZXIpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJkYXRhQWNjZXNzXCIsIG51bGwgPT0gcGFyYW1ldGVycy5kYXRhQWNjZXNzID8gbnVsbCA6IHBhcmFtZXRlcnMuZGF0YUFjY2Vzcyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImNsb3VkQXVkaXRcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmNsb3VkQXVkaXQgPyBudWxsIDogcGFyYW1ldGVycy5jbG91ZEF1ZGl0KTtcbn07XG4kanNjb21wLmluaGVyaXRzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuTG9nQ29uZmlnLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkxvZ0NvbmZpZy5wcm90b3R5cGUuZ2V0Q29uc3RydWN0b3IgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuTG9nQ29uZmlnO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuTG9nQ29uZmlnLnByb3RvdHlwZS5nZXRQYXJ0aWFsQ2xhc3NNZXRhZGF0YSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge2tleXM6W1wiY2xvdWRBdWRpdFwiLCBcImNvdW50ZXJcIiwgXCJkYXRhQWNjZXNzXCJdLCBvYmplY3RzOntjbG91ZEF1ZGl0Om1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ2xvdWRBdWRpdE9wdGlvbnMsIGNvdW50ZXI6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Db3VudGVyT3B0aW9ucywgZGF0YUFjY2Vzczptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkRhdGFBY2Nlc3NPcHRpb25zfX07XG59O1xuJGpzY29tcC5nbG9iYWwuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Mb2dDb25maWcucHJvdG90eXBlLCB7Y2xvdWRBdWRpdDp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJjbG91ZEF1ZGl0XCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiY2xvdWRBdWRpdFwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiY2xvdWRBdWRpdFwiLCB2YWx1ZSk7XG59fSwgY291bnRlcjp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJjb3VudGVyXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiY291bnRlclwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiY291bnRlclwiLCB2YWx1ZSk7XG59fSwgZGF0YUFjY2Vzczp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJkYXRhQWNjZXNzXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiZGF0YUFjY2Vzc1wiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZGF0YUFjY2Vzc1wiLCB2YWx1ZSk7XG59fX0pO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5NaXNzaW5nRGF0YVBhcmFtZXRlcnMgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9NaXNzaW5nRGF0YVBhcmFtZXRlcnMoKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5NaXNzaW5nRGF0YSA9IGZ1bmN0aW9uKHBhcmFtZXRlcnMpIHtcbiAgcGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFyYW1ldGVycyA/IHt9IDogcGFyYW1ldGVycztcbiAgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUuY2FsbCh0aGlzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwidmFsdWVzXCIsIG51bGwgPT0gcGFyYW1ldGVycy52YWx1ZXMgPyBudWxsIDogcGFyYW1ldGVycy52YWx1ZXMpO1xufTtcbiRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5NaXNzaW5nRGF0YSwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUpO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5NaXNzaW5nRGF0YS5wcm90b3R5cGUuZ2V0Q29uc3RydWN0b3IgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuTWlzc2luZ0RhdGE7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5NaXNzaW5nRGF0YS5wcm90b3R5cGUuZ2V0UGFydGlhbENsYXNzTWV0YWRhdGEgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtrZXlzOltcInZhbHVlc1wiXX07XG59O1xuJGpzY29tcC5nbG9iYWwuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5NaXNzaW5nRGF0YS5wcm90b3R5cGUsIHt2YWx1ZXM6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwidmFsdWVzXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwidmFsdWVzXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJ2YWx1ZXNcIiwgdmFsdWUpO1xufX19KTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuTW92ZUFzc2V0UmVxdWVzdFBhcmFtZXRlcnMgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9Nb3ZlQXNzZXRSZXF1ZXN0UGFyYW1ldGVycygpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50Lk1vdmVBc3NldFJlcXVlc3QgPSBmdW5jdGlvbihwYXJhbWV0ZXJzKSB7XG4gIHBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IHBhcmFtZXRlcnMgPyB7fSA6IHBhcmFtZXRlcnM7XG4gIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlLmNhbGwodGhpcyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImRlc3RpbmF0aW9uTmFtZVwiLCBudWxsID09IHBhcmFtZXRlcnMuZGVzdGluYXRpb25OYW1lID8gbnVsbCA6IHBhcmFtZXRlcnMuZGVzdGluYXRpb25OYW1lKTtcbn07XG4kanNjb21wLmluaGVyaXRzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuTW92ZUFzc2V0UmVxdWVzdCwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUpO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Nb3ZlQXNzZXRSZXF1ZXN0LnByb3RvdHlwZS5nZXRDb25zdHJ1Y3RvciA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Nb3ZlQXNzZXRSZXF1ZXN0O1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuTW92ZUFzc2V0UmVxdWVzdC5wcm90b3R5cGUuZ2V0UGFydGlhbENsYXNzTWV0YWRhdGEgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtrZXlzOltcImRlc3RpbmF0aW9uTmFtZVwiXX07XG59O1xuJGpzY29tcC5nbG9iYWwuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Nb3ZlQXNzZXRSZXF1ZXN0LnByb3RvdHlwZSwge2Rlc3RpbmF0aW9uTmFtZTp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJkZXN0aW5hdGlvbk5hbWVcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJkZXN0aW5hdGlvbk5hbWVcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImRlc3RpbmF0aW9uTmFtZVwiLCB2YWx1ZSk7XG59fX0pO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5PcGVyYXRpb25QYXJhbWV0ZXJzID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfT3BlcmF0aW9uUGFyYW1ldGVycygpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50Lk9wZXJhdGlvbiA9IGZ1bmN0aW9uKHBhcmFtZXRlcnMpIHtcbiAgcGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFyYW1ldGVycyA/IHt9IDogcGFyYW1ldGVycztcbiAgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUuY2FsbCh0aGlzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwibmFtZVwiLCBudWxsID09IHBhcmFtZXRlcnMubmFtZSA/IG51bGwgOiBwYXJhbWV0ZXJzLm5hbWUpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJtZXRhZGF0YVwiLCBudWxsID09IHBhcmFtZXRlcnMubWV0YWRhdGEgPyBudWxsIDogcGFyYW1ldGVycy5tZXRhZGF0YSk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImRvbmVcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmRvbmUgPyBudWxsIDogcGFyYW1ldGVycy5kb25lKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZXJyb3JcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmVycm9yID8gbnVsbCA6IHBhcmFtZXRlcnMuZXJyb3IpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJyZXNwb25zZVwiLCBudWxsID09IHBhcmFtZXRlcnMucmVzcG9uc2UgPyBudWxsIDogcGFyYW1ldGVycy5yZXNwb25zZSk7XG59O1xuJGpzY29tcC5pbmhlcml0cyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50Lk9wZXJhdGlvbiwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUpO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5PcGVyYXRpb24ucHJvdG90eXBlLmdldENvbnN0cnVjdG9yID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50Lk9wZXJhdGlvbjtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50Lk9wZXJhdGlvbi5wcm90b3R5cGUuZ2V0UGFydGlhbENsYXNzTWV0YWRhdGEgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtrZXlzOltcImRvbmVcIiwgXCJlcnJvclwiLCBcIm1ldGFkYXRhXCIsIFwibmFtZVwiLCBcInJlc3BvbnNlXCJdLCBvYmplY3RNYXBzOnttZXRhZGF0YTp7Y3RvcjpudWxsLCBpc1Byb3BlcnR5QXJyYXk6ITEsIGlzU2VyaWFsaXphYmxlOiExLCBpc1ZhbHVlQXJyYXk6ITF9LCByZXNwb25zZTp7Y3RvcjpudWxsLCBpc1Byb3BlcnR5QXJyYXk6ITEsIGlzU2VyaWFsaXphYmxlOiExLCBpc1ZhbHVlQXJyYXk6ITF9fSwgb2JqZWN0czp7ZXJyb3I6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5TdGF0dXN9fTtcbn07XG4kanNjb21wLmdsb2JhbC5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50Lk9wZXJhdGlvbi5wcm90b3R5cGUsIHtkb25lOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImRvbmVcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJkb25lXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJkb25lXCIsIHZhbHVlKTtcbn19LCBlcnJvcjp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJlcnJvclwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImVycm9yXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJlcnJvclwiLCB2YWx1ZSk7XG59fSwgbWV0YWRhdGE6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwibWV0YWRhdGFcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJtZXRhZGF0YVwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwibWV0YWRhdGFcIiwgdmFsdWUpO1xufX0sIG5hbWU6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwibmFtZVwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcIm5hbWVcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcIm5hbWVcIiwgdmFsdWUpO1xufX0sIHJlc3BvbnNlOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcInJlc3BvbnNlXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwicmVzcG9uc2VcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInJlc3BvbnNlXCIsIHZhbHVlKTtcbn19fSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50Lk9wZXJhdGlvbk1ldGFkYXRhUGFyYW1ldGVycyA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X09wZXJhdGlvbk1ldGFkYXRhUGFyYW1ldGVycygpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50Lk9wZXJhdGlvbk1ldGFkYXRhID0gZnVuY3Rpb24ocGFyYW1ldGVycykge1xuICBwYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXJhbWV0ZXJzID8ge30gOiBwYXJhbWV0ZXJzO1xuICBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZS5jYWxsKHRoaXMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJzdGF0ZVwiLCBudWxsID09IHBhcmFtZXRlcnMuc3RhdGUgPyBudWxsIDogcGFyYW1ldGVycy5zdGF0ZSk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImRlc2NyaXB0aW9uXCIsIG51bGwgPT0gcGFyYW1ldGVycy5kZXNjcmlwdGlvbiA/IG51bGwgOiBwYXJhbWV0ZXJzLmRlc2NyaXB0aW9uKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwidHlwZVwiLCBudWxsID09IHBhcmFtZXRlcnMudHlwZSA/IG51bGwgOiBwYXJhbWV0ZXJzLnR5cGUpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJwcmlvcml0eVwiLCBudWxsID09IHBhcmFtZXRlcnMucHJpb3JpdHkgPyBudWxsIDogcGFyYW1ldGVycy5wcmlvcml0eSk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImNyZWF0ZVRpbWVcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmNyZWF0ZVRpbWUgPyBudWxsIDogcGFyYW1ldGVycy5jcmVhdGVUaW1lKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwidXBkYXRlVGltZVwiLCBudWxsID09IHBhcmFtZXRlcnMudXBkYXRlVGltZSA/IG51bGwgOiBwYXJhbWV0ZXJzLnVwZGF0ZVRpbWUpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJzdGFydFRpbWVcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLnN0YXJ0VGltZSA/IG51bGwgOiBwYXJhbWV0ZXJzLnN0YXJ0VGltZSk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImVuZFRpbWVcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmVuZFRpbWUgPyBudWxsIDogcGFyYW1ldGVycy5lbmRUaW1lKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwicHJvZ3Jlc3NcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLnByb2dyZXNzID8gbnVsbCA6IHBhcmFtZXRlcnMucHJvZ3Jlc3MpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJzdGFnZXNcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLnN0YWdlcyA/IG51bGwgOiBwYXJhbWV0ZXJzLnN0YWdlcyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImF0dGVtcHRcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmF0dGVtcHQgPyBudWxsIDogcGFyYW1ldGVycy5hdHRlbXB0KTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwic2NyaXB0VXJpXCIsIG51bGwgPT0gcGFyYW1ldGVycy5zY3JpcHRVcmkgPyBudWxsIDogcGFyYW1ldGVycy5zY3JpcHRVcmkpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJkZXN0aW5hdGlvblVyaXNcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmRlc3RpbmF0aW9uVXJpcyA/IG51bGwgOiBwYXJhbWV0ZXJzLmRlc3RpbmF0aW9uVXJpcyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcIm5vdGlmaWNhdGlvbnNcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLm5vdGlmaWNhdGlvbnMgPyBudWxsIDogcGFyYW1ldGVycy5ub3RpZmljYXRpb25zKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiYmF0Y2hFZWN1VXNhZ2VTZWNvbmRzXCIsIG51bGwgPT0gcGFyYW1ldGVycy5iYXRjaEVlY3VVc2FnZVNlY29uZHMgPyBudWxsIDogcGFyYW1ldGVycy5iYXRjaEVlY3VVc2FnZVNlY29uZHMpO1xufTtcbiRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5PcGVyYXRpb25NZXRhZGF0YSwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUpO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5PcGVyYXRpb25NZXRhZGF0YS5wcm90b3R5cGUuZ2V0Q29uc3RydWN0b3IgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuT3BlcmF0aW9uTWV0YWRhdGE7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5PcGVyYXRpb25NZXRhZGF0YS5wcm90b3R5cGUuZ2V0UGFydGlhbENsYXNzTWV0YWRhdGEgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHthcnJheXM6e25vdGlmaWNhdGlvbnM6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5PcGVyYXRpb25Ob3RpZmljYXRpb24sIHN0YWdlczptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50Lk9wZXJhdGlvblN0YWdlfSwgZW51bXM6e3N0YXRlOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuT3BlcmF0aW9uTWV0YWRhdGFTdGF0ZUVudW19LCBrZXlzOlwiYXR0ZW1wdCBiYXRjaEVlY3VVc2FnZVNlY29uZHMgY3JlYXRlVGltZSBkZXNjcmlwdGlvbiBkZXN0aW5hdGlvblVyaXMgZW5kVGltZSBub3RpZmljYXRpb25zIHByaW9yaXR5IHByb2dyZXNzIHNjcmlwdFVyaSBzdGFnZXMgc3RhcnRUaW1lIHN0YXRlIHR5cGUgdXBkYXRlVGltZVwiLnNwbGl0KFwiIFwiKX07XG59O1xuJGpzY29tcC5nbG9iYWwuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5PcGVyYXRpb25NZXRhZGF0YS5wcm90b3R5cGUsIHthdHRlbXB0Ontjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImF0dGVtcHRcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJhdHRlbXB0XCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJhdHRlbXB0XCIsIHZhbHVlKTtcbn19LCBiYXRjaEVlY3VVc2FnZVNlY29uZHM6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiYmF0Y2hFZWN1VXNhZ2VTZWNvbmRzXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiYmF0Y2hFZWN1VXNhZ2VTZWNvbmRzXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJiYXRjaEVlY3VVc2FnZVNlY29uZHNcIiwgdmFsdWUpO1xufX0sIGNyZWF0ZVRpbWU6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiY3JlYXRlVGltZVwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImNyZWF0ZVRpbWVcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImNyZWF0ZVRpbWVcIiwgdmFsdWUpO1xufX0sIGRlc2NyaXB0aW9uOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImRlc2NyaXB0aW9uXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiZGVzY3JpcHRpb25cIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImRlc2NyaXB0aW9uXCIsIHZhbHVlKTtcbn19LCBkZXN0aW5hdGlvblVyaXM6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiZGVzdGluYXRpb25VcmlzXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiZGVzdGluYXRpb25VcmlzXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJkZXN0aW5hdGlvblVyaXNcIiwgdmFsdWUpO1xufX0sIGVuZFRpbWU6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiZW5kVGltZVwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImVuZFRpbWVcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImVuZFRpbWVcIiwgdmFsdWUpO1xufX0sIG5vdGlmaWNhdGlvbnM6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwibm90aWZpY2F0aW9uc1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcIm5vdGlmaWNhdGlvbnNcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcIm5vdGlmaWNhdGlvbnNcIiwgdmFsdWUpO1xufX0sIHByaW9yaXR5Ontjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcInByaW9yaXR5XCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwicHJpb3JpdHlcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInByaW9yaXR5XCIsIHZhbHVlKTtcbn19LCBwcm9ncmVzczp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJwcm9ncmVzc1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInByb2dyZXNzXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJwcm9ncmVzc1wiLCB2YWx1ZSk7XG59fSwgc2NyaXB0VXJpOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcInNjcmlwdFVyaVwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInNjcmlwdFVyaVwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwic2NyaXB0VXJpXCIsIHZhbHVlKTtcbn19LCBzdGFnZXM6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwic3RhZ2VzXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwic3RhZ2VzXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJzdGFnZXNcIiwgdmFsdWUpO1xufX0sIHN0YXJ0VGltZTp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJzdGFydFRpbWVcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJzdGFydFRpbWVcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInN0YXJ0VGltZVwiLCB2YWx1ZSk7XG59fSwgc3RhdGU6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwic3RhdGVcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJzdGF0ZVwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwic3RhdGVcIiwgdmFsdWUpO1xufX0sIHR5cGU6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwidHlwZVwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInR5cGVcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInR5cGVcIiwgdmFsdWUpO1xufX0sIHVwZGF0ZVRpbWU6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwidXBkYXRlVGltZVwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInVwZGF0ZVRpbWVcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInVwZGF0ZVRpbWVcIiwgdmFsdWUpO1xufX19KTtcbiRqc2NvbXAuZ2xvYmFsLk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuT3BlcmF0aW9uTWV0YWRhdGEsIHtTdGF0ZTp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50Lk9wZXJhdGlvbk1ldGFkYXRhU3RhdGVFbnVtO1xufX19KTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuT3BlcmF0aW9uTm90aWZpY2F0aW9uUGFyYW1ldGVycyA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X09wZXJhdGlvbk5vdGlmaWNhdGlvblBhcmFtZXRlcnMoKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5PcGVyYXRpb25Ob3RpZmljYXRpb24gPSBmdW5jdGlvbihwYXJhbWV0ZXJzKSB7XG4gIHBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IHBhcmFtZXRlcnMgPyB7fSA6IHBhcmFtZXRlcnM7XG4gIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlLmNhbGwodGhpcyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInNldmVyaXR5XCIsIG51bGwgPT0gcGFyYW1ldGVycy5zZXZlcml0eSA/IG51bGwgOiBwYXJhbWV0ZXJzLnNldmVyaXR5KTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwidG9waWNcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLnRvcGljID8gbnVsbCA6IHBhcmFtZXRlcnMudG9waWMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJkZXRhaWxcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmRldGFpbCA/IG51bGwgOiBwYXJhbWV0ZXJzLmRldGFpbCk7XG59O1xuJGpzY29tcC5pbmhlcml0cyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50Lk9wZXJhdGlvbk5vdGlmaWNhdGlvbiwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUpO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5PcGVyYXRpb25Ob3RpZmljYXRpb24ucHJvdG90eXBlLmdldENvbnN0cnVjdG9yID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50Lk9wZXJhdGlvbk5vdGlmaWNhdGlvbjtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50Lk9wZXJhdGlvbk5vdGlmaWNhdGlvbi5wcm90b3R5cGUuZ2V0UGFydGlhbENsYXNzTWV0YWRhdGEgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtlbnVtczp7c2V2ZXJpdHk6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5PcGVyYXRpb25Ob3RpZmljYXRpb25TZXZlcml0eUVudW19LCBrZXlzOltcImRldGFpbFwiLCBcInNldmVyaXR5XCIsIFwidG9waWNcIl19O1xufTtcbiRqc2NvbXAuZ2xvYmFsLk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuT3BlcmF0aW9uTm90aWZpY2F0aW9uLnByb3RvdHlwZSwge2RldGFpbDp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJkZXRhaWxcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJkZXRhaWxcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImRldGFpbFwiLCB2YWx1ZSk7XG59fSwgc2V2ZXJpdHk6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwic2V2ZXJpdHlcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJzZXZlcml0eVwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwic2V2ZXJpdHlcIiwgdmFsdWUpO1xufX0sIHRvcGljOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcInRvcGljXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwidG9waWNcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInRvcGljXCIsIHZhbHVlKTtcbn19fSk7XG4kanNjb21wLmdsb2JhbC5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50Lk9wZXJhdGlvbk5vdGlmaWNhdGlvbiwge1NldmVyaXR5Ontjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuT3BlcmF0aW9uTm90aWZpY2F0aW9uU2V2ZXJpdHlFbnVtO1xufX19KTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuT3BlcmF0aW9uU3RhZ2VQYXJhbWV0ZXJzID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfT3BlcmF0aW9uU3RhZ2VQYXJhbWV0ZXJzKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuT3BlcmF0aW9uU3RhZ2UgPSBmdW5jdGlvbihwYXJhbWV0ZXJzKSB7XG4gIHBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IHBhcmFtZXRlcnMgPyB7fSA6IHBhcmFtZXRlcnM7XG4gIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlLmNhbGwodGhpcyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImRpc3BsYXlOYW1lXCIsIG51bGwgPT0gcGFyYW1ldGVycy5kaXNwbGF5TmFtZSA/IG51bGwgOiBwYXJhbWV0ZXJzLmRpc3BsYXlOYW1lKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiY29tcGxldGVXb3JrVW5pdHNcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmNvbXBsZXRlV29ya1VuaXRzID8gbnVsbCA6IHBhcmFtZXRlcnMuY29tcGxldGVXb3JrVW5pdHMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJ0b3RhbFdvcmtVbml0c1wiLCBudWxsID09IHBhcmFtZXRlcnMudG90YWxXb3JrVW5pdHMgPyBudWxsIDogcGFyYW1ldGVycy50b3RhbFdvcmtVbml0cyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImRlc2NyaXB0aW9uXCIsIG51bGwgPT0gcGFyYW1ldGVycy5kZXNjcmlwdGlvbiA/IG51bGwgOiBwYXJhbWV0ZXJzLmRlc2NyaXB0aW9uKTtcbn07XG4kanNjb21wLmluaGVyaXRzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuT3BlcmF0aW9uU3RhZ2UsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlKTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuT3BlcmF0aW9uU3RhZ2UucHJvdG90eXBlLmdldENvbnN0cnVjdG9yID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50Lk9wZXJhdGlvblN0YWdlO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuT3BlcmF0aW9uU3RhZ2UucHJvdG90eXBlLmdldFBhcnRpYWxDbGFzc01ldGFkYXRhID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7a2V5czpbXCJjb21wbGV0ZVdvcmtVbml0c1wiLCBcImRlc2NyaXB0aW9uXCIsIFwiZGlzcGxheU5hbWVcIiwgXCJ0b3RhbFdvcmtVbml0c1wiXX07XG59O1xuJGpzY29tcC5nbG9iYWwuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5PcGVyYXRpb25TdGFnZS5wcm90b3R5cGUsIHtjb21wbGV0ZVdvcmtVbml0czp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJjb21wbGV0ZVdvcmtVbml0c1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImNvbXBsZXRlV29ya1VuaXRzXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJjb21wbGV0ZVdvcmtVbml0c1wiLCB2YWx1ZSk7XG59fSwgZGVzY3JpcHRpb246e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiZGVzY3JpcHRpb25cIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJkZXNjcmlwdGlvblwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZGVzY3JpcHRpb25cIiwgdmFsdWUpO1xufX0sIGRpc3BsYXlOYW1lOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImRpc3BsYXlOYW1lXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiZGlzcGxheU5hbWVcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImRpc3BsYXlOYW1lXCIsIHZhbHVlKTtcbn19LCB0b3RhbFdvcmtVbml0czp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJ0b3RhbFdvcmtVbml0c1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInRvdGFsV29ya1VuaXRzXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJ0b3RhbFdvcmtVbml0c1wiLCB2YWx1ZSk7XG59fX0pO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5QaXhlbERhdGFUeXBlUGFyYW1ldGVycyA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X1BpeGVsRGF0YVR5cGVQYXJhbWV0ZXJzKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUGl4ZWxEYXRhVHlwZSA9IGZ1bmN0aW9uKHBhcmFtZXRlcnMpIHtcbiAgcGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFyYW1ldGVycyA/IHt9IDogcGFyYW1ldGVycztcbiAgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUuY2FsbCh0aGlzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwicHJlY2lzaW9uXCIsIG51bGwgPT0gcGFyYW1ldGVycy5wcmVjaXNpb24gPyBudWxsIDogcGFyYW1ldGVycy5wcmVjaXNpb24pO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJyYW5nZVwiLCBudWxsID09IHBhcmFtZXRlcnMucmFuZ2UgPyBudWxsIDogcGFyYW1ldGVycy5yYW5nZSk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImRpbWVuc2lvbnNDb3VudFwiLCBudWxsID09IHBhcmFtZXRlcnMuZGltZW5zaW9uc0NvdW50ID8gbnVsbCA6IHBhcmFtZXRlcnMuZGltZW5zaW9uc0NvdW50KTtcbn07XG4kanNjb21wLmluaGVyaXRzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUGl4ZWxEYXRhVHlwZSwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUpO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5QaXhlbERhdGFUeXBlLnByb3RvdHlwZS5nZXRDb25zdHJ1Y3RvciA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5QaXhlbERhdGFUeXBlO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUGl4ZWxEYXRhVHlwZS5wcm90b3R5cGUuZ2V0UGFydGlhbENsYXNzTWV0YWRhdGEgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtlbnVtczp7cHJlY2lzaW9uOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUGl4ZWxEYXRhVHlwZVByZWNpc2lvbkVudW19LCBrZXlzOltcImRpbWVuc2lvbnNDb3VudFwiLCBcInByZWNpc2lvblwiLCBcInJhbmdlXCJdLCBvYmplY3RzOntyYW5nZTptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkRvdWJsZVJhbmdlfX07XG59O1xuJGpzY29tcC5nbG9iYWwuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5QaXhlbERhdGFUeXBlLnByb3RvdHlwZSwge2RpbWVuc2lvbnNDb3VudDp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJkaW1lbnNpb25zQ291bnRcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJkaW1lbnNpb25zQ291bnRcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImRpbWVuc2lvbnNDb3VudFwiLCB2YWx1ZSk7XG59fSwgcHJlY2lzaW9uOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcInByZWNpc2lvblwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInByZWNpc2lvblwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwicHJlY2lzaW9uXCIsIHZhbHVlKTtcbn19LCByYW5nZTp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJyYW5nZVwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInJhbmdlXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJyYW5nZVwiLCB2YWx1ZSk7XG59fX0pO1xuJGpzY29tcC5nbG9iYWwuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5QaXhlbERhdGFUeXBlLCB7UHJlY2lzaW9uOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUGl4ZWxEYXRhVHlwZVByZWNpc2lvbkVudW07XG59fX0pO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5QaXhlbEZvb3RwcmludFBhcmFtZXRlcnMgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9QaXhlbEZvb3RwcmludFBhcmFtZXRlcnMoKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5QaXhlbEZvb3RwcmludCA9IGZ1bmN0aW9uKHBhcmFtZXRlcnMpIHtcbiAgcGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFyYW1ldGVycyA/IHt9IDogcGFyYW1ldGVycztcbiAgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUuY2FsbCh0aGlzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwicG9pbnRzXCIsIG51bGwgPT0gcGFyYW1ldGVycy5wb2ludHMgPyBudWxsIDogcGFyYW1ldGVycy5wb2ludHMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJiYW5kSWRcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmJhbmRJZCA/IG51bGwgOiBwYXJhbWV0ZXJzLmJhbmRJZCk7XG59O1xuJGpzY29tcC5pbmhlcml0cyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlBpeGVsRm9vdHByaW50LCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlBpeGVsRm9vdHByaW50LnByb3RvdHlwZS5nZXRDb25zdHJ1Y3RvciA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5QaXhlbEZvb3RwcmludDtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlBpeGVsRm9vdHByaW50LnByb3RvdHlwZS5nZXRQYXJ0aWFsQ2xhc3NNZXRhZGF0YSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge2FycmF5czp7cG9pbnRzOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuR3JpZFBvaW50fSwga2V5czpbXCJiYW5kSWRcIiwgXCJwb2ludHNcIl19O1xufTtcbiRqc2NvbXAuZ2xvYmFsLk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUGl4ZWxGb290cHJpbnQucHJvdG90eXBlLCB7YmFuZElkOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImJhbmRJZFwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImJhbmRJZFwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiYmFuZElkXCIsIHZhbHVlKTtcbn19LCBwb2ludHM6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwicG9pbnRzXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwicG9pbnRzXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJwb2ludHNcIiwgdmFsdWUpO1xufX19KTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUGl4ZWxHcmlkUGFyYW1ldGVycyA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X1BpeGVsR3JpZFBhcmFtZXRlcnMoKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5QaXhlbEdyaWQgPSBmdW5jdGlvbihwYXJhbWV0ZXJzKSB7XG4gIHBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IHBhcmFtZXRlcnMgPyB7fSA6IHBhcmFtZXRlcnM7XG4gIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlLmNhbGwodGhpcyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImNyc0NvZGVcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmNyc0NvZGUgPyBudWxsIDogcGFyYW1ldGVycy5jcnNDb2RlKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiY3JzV2t0XCIsIG51bGwgPT0gcGFyYW1ldGVycy5jcnNXa3QgPyBudWxsIDogcGFyYW1ldGVycy5jcnNXa3QpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJkaW1lbnNpb25zXCIsIG51bGwgPT0gcGFyYW1ldGVycy5kaW1lbnNpb25zID8gbnVsbCA6IHBhcmFtZXRlcnMuZGltZW5zaW9ucyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImFmZmluZVRyYW5zZm9ybVwiLCBudWxsID09IHBhcmFtZXRlcnMuYWZmaW5lVHJhbnNmb3JtID8gbnVsbCA6IHBhcmFtZXRlcnMuYWZmaW5lVHJhbnNmb3JtKTtcbn07XG4kanNjb21wLmluaGVyaXRzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUGl4ZWxHcmlkLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlBpeGVsR3JpZC5wcm90b3R5cGUuZ2V0Q29uc3RydWN0b3IgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUGl4ZWxHcmlkO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUGl4ZWxHcmlkLnByb3RvdHlwZS5nZXRQYXJ0aWFsQ2xhc3NNZXRhZGF0YSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge2tleXM6W1wiYWZmaW5lVHJhbnNmb3JtXCIsIFwiY3JzQ29kZVwiLCBcImNyc1drdFwiLCBcImRpbWVuc2lvbnNcIl0sIG9iamVjdHM6e2FmZmluZVRyYW5zZm9ybTptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkFmZmluZVRyYW5zZm9ybSwgZGltZW5zaW9uczptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkdyaWREaW1lbnNpb25zfX07XG59O1xuJGpzY29tcC5nbG9iYWwuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5QaXhlbEdyaWQucHJvdG90eXBlLCB7YWZmaW5lVHJhbnNmb3JtOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImFmZmluZVRyYW5zZm9ybVwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImFmZmluZVRyYW5zZm9ybVwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiYWZmaW5lVHJhbnNmb3JtXCIsIHZhbHVlKTtcbn19LCBjcnNDb2RlOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImNyc0NvZGVcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJjcnNDb2RlXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJjcnNDb2RlXCIsIHZhbHVlKTtcbn19LCBjcnNXa3Q6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiY3JzV2t0XCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiY3JzV2t0XCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJjcnNXa3RcIiwgdmFsdWUpO1xufX0sIGRpbWVuc2lvbnM6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiZGltZW5zaW9uc1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImRpbWVuc2lvbnNcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImRpbWVuc2lvbnNcIiwgdmFsdWUpO1xufX19KTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUG9saWN5UGFyYW1ldGVycyA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X1BvbGljeVBhcmFtZXRlcnMoKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qb2xpY3kgPSBmdW5jdGlvbihwYXJhbWV0ZXJzKSB7XG4gIHBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IHBhcmFtZXRlcnMgPyB7fSA6IHBhcmFtZXRlcnM7XG4gIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlLmNhbGwodGhpcyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInZlcnNpb25cIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLnZlcnNpb24gPyBudWxsIDogcGFyYW1ldGVycy52ZXJzaW9uKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiYmluZGluZ3NcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmJpbmRpbmdzID8gbnVsbCA6IHBhcmFtZXRlcnMuYmluZGluZ3MpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJhdWRpdENvbmZpZ3NcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmF1ZGl0Q29uZmlncyA/IG51bGwgOiBwYXJhbWV0ZXJzLmF1ZGl0Q29uZmlncyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInJ1bGVzXCIsIG51bGwgPT0gcGFyYW1ldGVycy5ydWxlcyA/IG51bGwgOiBwYXJhbWV0ZXJzLnJ1bGVzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZXRhZ1wiLCBudWxsID09IHBhcmFtZXRlcnMuZXRhZyA/IG51bGwgOiBwYXJhbWV0ZXJzLmV0YWcpO1xufTtcbiRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qb2xpY3ksIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlKTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUG9saWN5LnByb3RvdHlwZS5nZXRDb25zdHJ1Y3RvciA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qb2xpY3k7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qb2xpY3kucHJvdG90eXBlLmdldFBhcnRpYWxDbGFzc01ldGFkYXRhID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7YXJyYXlzOnthdWRpdENvbmZpZ3M6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5BdWRpdENvbmZpZywgYmluZGluZ3M6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5CaW5kaW5nLCBydWxlczptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlJ1bGV9LCBrZXlzOltcImF1ZGl0Q29uZmlnc1wiLCBcImJpbmRpbmdzXCIsIFwiZXRhZ1wiLCBcInJ1bGVzXCIsIFwidmVyc2lvblwiXX07XG59O1xuJGpzY29tcC5nbG9iYWwuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qb2xpY3kucHJvdG90eXBlLCB7YXVkaXRDb25maWdzOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImF1ZGl0Q29uZmlnc1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImF1ZGl0Q29uZmlnc1wiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiYXVkaXRDb25maWdzXCIsIHZhbHVlKTtcbn19LCBiaW5kaW5nczp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJiaW5kaW5nc1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImJpbmRpbmdzXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJiaW5kaW5nc1wiLCB2YWx1ZSk7XG59fSwgZXRhZzp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJldGFnXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiZXRhZ1wiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZXRhZ1wiLCB2YWx1ZSk7XG59fSwgcnVsZXM6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwicnVsZXNcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJydWxlc1wiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwicnVsZXNcIiwgdmFsdWUpO1xufX0sIHZlcnNpb246e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwidmVyc2lvblwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInZlcnNpb25cIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInZlcnNpb25cIiwgdmFsdWUpO1xufX19KTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJlcmVuZGVyaW5nT3B0aW9uc1BhcmFtZXRlcnMgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9QcmVyZW5kZXJpbmdPcHRpb25zUGFyYW1ldGVycygpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByZXJlbmRlcmluZ09wdGlvbnMgPSBmdW5jdGlvbihwYXJhbWV0ZXJzKSB7XG4gIHBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IHBhcmFtZXRlcnMgPyB7fSA6IHBhcmFtZXRlcnM7XG4gIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlLmNhbGwodGhpcyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInByZXJlbmRlclRpbGVzXCIsIG51bGwgPT0gcGFyYW1ldGVycy5wcmVyZW5kZXJUaWxlcyA/IG51bGwgOiBwYXJhbWV0ZXJzLnByZXJlbmRlclRpbGVzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwidGlsZUxpbWl0aW5nXCIsIG51bGwgPT0gcGFyYW1ldGVycy50aWxlTGltaXRpbmcgPyBudWxsIDogcGFyYW1ldGVycy50aWxlTGltaXRpbmcpO1xufTtcbiRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5QcmVyZW5kZXJpbmdPcHRpb25zLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByZXJlbmRlcmluZ09wdGlvbnMucHJvdG90eXBlLmdldENvbnN0cnVjdG9yID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByZXJlbmRlcmluZ09wdGlvbnM7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5QcmVyZW5kZXJpbmdPcHRpb25zLnByb3RvdHlwZS5nZXRQYXJ0aWFsQ2xhc3NNZXRhZGF0YSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge2tleXM6W1wicHJlcmVuZGVyVGlsZXNcIiwgXCJ0aWxlTGltaXRpbmdcIl0sIG9iamVjdHM6e3RpbGVMaW1pdGluZzptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRpbGVMaW1pdGluZ319O1xufTtcbiRqc2NvbXAuZ2xvYmFsLk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJlcmVuZGVyaW5nT3B0aW9ucy5wcm90b3R5cGUsIHtwcmVyZW5kZXJUaWxlczp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJwcmVyZW5kZXJUaWxlc1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInByZXJlbmRlclRpbGVzXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJwcmVyZW5kZXJUaWxlc1wiLCB2YWx1ZSk7XG59fSwgdGlsZUxpbWl0aW5nOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcInRpbGVMaW1pdGluZ1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInRpbGVMaW1pdGluZ1wiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwidGlsZUxpbWl0aW5nXCIsIHZhbHVlKTtcbn19fSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RDb25maWdQYXJhbWV0ZXJzID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfUHJvamVjdENvbmZpZ1BhcmFtZXRlcnMoKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0Q29uZmlnID0gZnVuY3Rpb24ocGFyYW1ldGVycykge1xuICBwYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXJhbWV0ZXJzID8ge30gOiBwYXJhbWV0ZXJzO1xuICBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZS5jYWxsKHRoaXMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJuYW1lXCIsIG51bGwgPT0gcGFyYW1ldGVycy5uYW1lID8gbnVsbCA6IHBhcmFtZXRlcnMubmFtZSk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInJlZ2lzdHJhdGlvblwiLCBudWxsID09IHBhcmFtZXRlcnMucmVnaXN0cmF0aW9uID8gbnVsbCA6IHBhcmFtZXRlcnMucmVnaXN0cmF0aW9uKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwidHJpYWxTdGF0dXNcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLnRyaWFsU3RhdHVzID8gbnVsbCA6IHBhcmFtZXRlcnMudHJpYWxTdGF0dXMpO1xufTtcbiRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0Q29uZmlnLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RDb25maWcucHJvdG90eXBlLmdldENvbnN0cnVjdG9yID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RDb25maWc7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0Q29uZmlnLnByb3RvdHlwZS5nZXRQYXJ0aWFsQ2xhc3NNZXRhZGF0YSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge2tleXM6W1wibmFtZVwiLCBcInJlZ2lzdHJhdGlvblwiLCBcInRyaWFsU3RhdHVzXCJdLCBvYmplY3RzOntyZWdpc3RyYXRpb246bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0UmVnaXN0cmF0aW9uLCB0cmlhbFN0YXR1czptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRyaWFsU3RhdHVzfX07XG59O1xuJGpzY29tcC5nbG9iYWwuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0Q29uZmlnLnByb3RvdHlwZSwge25hbWU6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwibmFtZVwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcIm5hbWVcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcIm5hbWVcIiwgdmFsdWUpO1xufX0sIHJlZ2lzdHJhdGlvbjp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJyZWdpc3RyYXRpb25cIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJyZWdpc3RyYXRpb25cIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInJlZ2lzdHJhdGlvblwiLCB2YWx1ZSk7XG59fSwgdHJpYWxTdGF0dXM6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwidHJpYWxTdGF0dXNcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJ0cmlhbFN0YXR1c1wiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwidHJpYWxTdGF0dXNcIiwgdmFsdWUpO1xufX19KTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdFJlZ2lzdHJhdGlvblBhcmFtZXRlcnMgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9Qcm9qZWN0UmVnaXN0cmF0aW9uUGFyYW1ldGVycygpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RSZWdpc3RyYXRpb24gPSBmdW5jdGlvbihwYXJhbWV0ZXJzKSB7XG4gIHBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IHBhcmFtZXRlcnMgPyB7fSA6IHBhcmFtZXRlcnM7XG4gIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlLmNhbGwodGhpcyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImJpbGxpbmdDb25zZW50XCIsIG51bGwgPT0gcGFyYW1ldGVycy5iaWxsaW5nQ29uc2VudCA/IG51bGwgOiBwYXJhbWV0ZXJzLmJpbGxpbmdDb25zZW50KTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZnJlZVF1b3RhXCIsIG51bGwgPT0gcGFyYW1ldGVycy5mcmVlUXVvdGEgPyBudWxsIDogcGFyYW1ldGVycy5mcmVlUXVvdGEpO1xufTtcbiRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0UmVnaXN0cmF0aW9uLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RSZWdpc3RyYXRpb24ucHJvdG90eXBlLmdldENvbnN0cnVjdG9yID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RSZWdpc3RyYXRpb247XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0UmVnaXN0cmF0aW9uLnByb3RvdHlwZS5nZXRQYXJ0aWFsQ2xhc3NNZXRhZGF0YSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge2VudW1zOntiaWxsaW5nQ29uc2VudDptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RSZWdpc3RyYXRpb25CaWxsaW5nQ29uc2VudEVudW0sIGZyZWVRdW90YTptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RSZWdpc3RyYXRpb25GcmVlUXVvdGFFbnVtfSwga2V5czpbXCJiaWxsaW5nQ29uc2VudFwiLCBcImZyZWVRdW90YVwiXX07XG59O1xuJGpzY29tcC5nbG9iYWwuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0UmVnaXN0cmF0aW9uLnByb3RvdHlwZSwge2JpbGxpbmdDb25zZW50Ontjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImJpbGxpbmdDb25zZW50XCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiYmlsbGluZ0NvbnNlbnRcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImJpbGxpbmdDb25zZW50XCIsIHZhbHVlKTtcbn19LCBmcmVlUXVvdGE6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiZnJlZVF1b3RhXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiZnJlZVF1b3RhXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJmcmVlUXVvdGFcIiwgdmFsdWUpO1xufX19KTtcbiRqc2NvbXAuZ2xvYmFsLk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdFJlZ2lzdHJhdGlvbiwge0JpbGxpbmdDb25zZW50Ontjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdFJlZ2lzdHJhdGlvbkJpbGxpbmdDb25zZW50RW51bTtcbn19LCBGcmVlUXVvdGE6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0UmVnaXN0cmF0aW9uRnJlZVF1b3RhRW51bTtcbn19fSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlJhbmtCeUF0dHJpYnV0ZVJ1bGVQYXJhbWV0ZXJzID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfUmFua0J5QXR0cmlidXRlUnVsZVBhcmFtZXRlcnMoKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5SYW5rQnlBdHRyaWJ1dGVSdWxlID0gZnVuY3Rpb24ocGFyYW1ldGVycykge1xuICBwYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXJhbWV0ZXJzID8ge30gOiBwYXJhbWV0ZXJzO1xuICBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZS5jYWxsKHRoaXMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJhdHRyaWJ1dGVOYW1lXCIsIG51bGwgPT0gcGFyYW1ldGVycy5hdHRyaWJ1dGVOYW1lID8gbnVsbCA6IHBhcmFtZXRlcnMuYXR0cmlidXRlTmFtZSk7XG59O1xuJGpzY29tcC5pbmhlcml0cyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlJhbmtCeUF0dHJpYnV0ZVJ1bGUsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlKTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUmFua0J5QXR0cmlidXRlUnVsZS5wcm90b3R5cGUuZ2V0Q29uc3RydWN0b3IgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUmFua0J5QXR0cmlidXRlUnVsZTtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlJhbmtCeUF0dHJpYnV0ZVJ1bGUucHJvdG90eXBlLmdldFBhcnRpYWxDbGFzc01ldGFkYXRhID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7a2V5czpbXCJhdHRyaWJ1dGVOYW1lXCJdfTtcbn07XG4kanNjb21wLmdsb2JhbC5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlJhbmtCeUF0dHJpYnV0ZVJ1bGUucHJvdG90eXBlLCB7YXR0cmlidXRlTmFtZTp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJhdHRyaWJ1dGVOYW1lXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiYXR0cmlidXRlTmFtZVwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiYXR0cmlidXRlTmFtZVwiLCB2YWx1ZSk7XG59fX0pO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5SYW5rQnlHZW9tZXRyeVR5cGVSdWxlUGFyYW1ldGVycyA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X1JhbmtCeUdlb21ldHJ5VHlwZVJ1bGVQYXJhbWV0ZXJzKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUmFua0J5R2VvbWV0cnlUeXBlUnVsZSA9IGZ1bmN0aW9uKHBhcmFtZXRlcnMpIHtcbiAgcGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFyYW1ldGVycyA/IHt9IDogcGFyYW1ldGVycztcbiAgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUuY2FsbCh0aGlzKTtcbn07XG4kanNjb21wLmluaGVyaXRzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUmFua0J5R2VvbWV0cnlUeXBlUnVsZSwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUpO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5SYW5rQnlHZW9tZXRyeVR5cGVSdWxlLnByb3RvdHlwZS5nZXRDb25zdHJ1Y3RvciA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5SYW5rQnlHZW9tZXRyeVR5cGVSdWxlO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUmFua0J5R2VvbWV0cnlUeXBlUnVsZS5wcm90b3R5cGUuZ2V0UGFydGlhbENsYXNzTWV0YWRhdGEgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtrZXlzOltdfTtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlJhbmtCeU1pblZpc2libGVMb2RSdWxlUGFyYW1ldGVycyA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X1JhbmtCeU1pblZpc2libGVMb2RSdWxlUGFyYW1ldGVycygpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlJhbmtCeU1pblZpc2libGVMb2RSdWxlID0gZnVuY3Rpb24ocGFyYW1ldGVycykge1xuICBwYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXJhbWV0ZXJzID8ge30gOiBwYXJhbWV0ZXJzO1xuICBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZS5jYWxsKHRoaXMpO1xufTtcbiRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5SYW5rQnlNaW5WaXNpYmxlTG9kUnVsZSwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUpO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5SYW5rQnlNaW5WaXNpYmxlTG9kUnVsZS5wcm90b3R5cGUuZ2V0Q29uc3RydWN0b3IgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUmFua0J5TWluVmlzaWJsZUxvZFJ1bGU7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5SYW5rQnlNaW5WaXNpYmxlTG9kUnVsZS5wcm90b3R5cGUuZ2V0UGFydGlhbENsYXNzTWV0YWRhdGEgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtrZXlzOltdfTtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlJhbmtCeU1pblpvb21MZXZlbFJ1bGVQYXJhbWV0ZXJzID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfUmFua0J5TWluWm9vbUxldmVsUnVsZVBhcmFtZXRlcnMoKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5SYW5rQnlNaW5ab29tTGV2ZWxSdWxlID0gZnVuY3Rpb24ocGFyYW1ldGVycykge1xuICBwYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXJhbWV0ZXJzID8ge30gOiBwYXJhbWV0ZXJzO1xuICBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZS5jYWxsKHRoaXMpO1xufTtcbiRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5SYW5rQnlNaW5ab29tTGV2ZWxSdWxlLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlJhbmtCeU1pblpvb21MZXZlbFJ1bGUucHJvdG90eXBlLmdldENvbnN0cnVjdG9yID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlJhbmtCeU1pblpvb21MZXZlbFJ1bGU7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5SYW5rQnlNaW5ab29tTGV2ZWxSdWxlLnByb3RvdHlwZS5nZXRQYXJ0aWFsQ2xhc3NNZXRhZGF0YSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge2tleXM6W119O1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUmFua0J5T25lVGhpbmdSdWxlUGFyYW1ldGVycyA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X1JhbmtCeU9uZVRoaW5nUnVsZVBhcmFtZXRlcnMoKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5SYW5rQnlPbmVUaGluZ1J1bGUgPSBmdW5jdGlvbihwYXJhbWV0ZXJzKSB7XG4gIHBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IHBhcmFtZXRlcnMgPyB7fSA6IHBhcmFtZXRlcnM7XG4gIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlLmNhbGwodGhpcyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInJhbmtCeUF0dHJpYnV0ZVJ1bGVcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLnJhbmtCeUF0dHJpYnV0ZVJ1bGUgPyBudWxsIDogcGFyYW1ldGVycy5yYW5rQnlBdHRyaWJ1dGVSdWxlKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwicmFua0J5TWluVmlzaWJsZUxvZFJ1bGVcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLnJhbmtCeU1pblZpc2libGVMb2RSdWxlID8gbnVsbCA6IHBhcmFtZXRlcnMucmFua0J5TWluVmlzaWJsZUxvZFJ1bGUpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJyYW5rQnlHZW9tZXRyeVR5cGVSdWxlXCIsIG51bGwgPT0gcGFyYW1ldGVycy5yYW5rQnlHZW9tZXRyeVR5cGVSdWxlID8gbnVsbCA6IHBhcmFtZXRlcnMucmFua0J5R2VvbWV0cnlUeXBlUnVsZSk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInJhbmtCeU1pblpvb21MZXZlbFJ1bGVcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLnJhbmtCeU1pblpvb21MZXZlbFJ1bGUgPyBudWxsIDogcGFyYW1ldGVycy5yYW5rQnlNaW5ab29tTGV2ZWxSdWxlKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZGlyZWN0aW9uXCIsIG51bGwgPT0gcGFyYW1ldGVycy5kaXJlY3Rpb24gPyBudWxsIDogcGFyYW1ldGVycy5kaXJlY3Rpb24pO1xufTtcbiRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5SYW5rQnlPbmVUaGluZ1J1bGUsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlKTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUmFua0J5T25lVGhpbmdSdWxlLnByb3RvdHlwZS5nZXRDb25zdHJ1Y3RvciA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5SYW5rQnlPbmVUaGluZ1J1bGU7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5SYW5rQnlPbmVUaGluZ1J1bGUucHJvdG90eXBlLmdldFBhcnRpYWxDbGFzc01ldGFkYXRhID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7ZW51bXM6e2RpcmVjdGlvbjptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlJhbmtCeU9uZVRoaW5nUnVsZURpcmVjdGlvbkVudW19LCBrZXlzOltcImRpcmVjdGlvblwiLCBcInJhbmtCeUF0dHJpYnV0ZVJ1bGVcIiwgXCJyYW5rQnlHZW9tZXRyeVR5cGVSdWxlXCIsIFwicmFua0J5TWluVmlzaWJsZUxvZFJ1bGVcIiwgXCJyYW5rQnlNaW5ab29tTGV2ZWxSdWxlXCJdLCBvYmplY3RzOntyYW5rQnlBdHRyaWJ1dGVSdWxlOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUmFua0J5QXR0cmlidXRlUnVsZSwgcmFua0J5R2VvbWV0cnlUeXBlUnVsZTptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlJhbmtCeUdlb21ldHJ5VHlwZVJ1bGUsIFxuICByYW5rQnlNaW5WaXNpYmxlTG9kUnVsZTptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlJhbmtCeU1pblZpc2libGVMb2RSdWxlLCByYW5rQnlNaW5ab29tTGV2ZWxSdWxlOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUmFua0J5TWluWm9vbUxldmVsUnVsZX19O1xufTtcbiRqc2NvbXAuZ2xvYmFsLk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUmFua0J5T25lVGhpbmdSdWxlLnByb3RvdHlwZSwge2RpcmVjdGlvbjp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJkaXJlY3Rpb25cIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJkaXJlY3Rpb25cIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImRpcmVjdGlvblwiLCB2YWx1ZSk7XG59fSwgcmFua0J5QXR0cmlidXRlUnVsZTp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJyYW5rQnlBdHRyaWJ1dGVSdWxlXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwicmFua0J5QXR0cmlidXRlUnVsZVwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwicmFua0J5QXR0cmlidXRlUnVsZVwiLCB2YWx1ZSk7XG59fSwgcmFua0J5R2VvbWV0cnlUeXBlUnVsZTp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJyYW5rQnlHZW9tZXRyeVR5cGVSdWxlXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwicmFua0J5R2VvbWV0cnlUeXBlUnVsZVwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwicmFua0J5R2VvbWV0cnlUeXBlUnVsZVwiLCB2YWx1ZSk7XG59fSwgcmFua0J5TWluVmlzaWJsZUxvZFJ1bGU6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwicmFua0J5TWluVmlzaWJsZUxvZFJ1bGVcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJyYW5rQnlNaW5WaXNpYmxlTG9kUnVsZVwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwicmFua0J5TWluVmlzaWJsZUxvZFJ1bGVcIiwgdmFsdWUpO1xufX0sIHJhbmtCeU1pblpvb21MZXZlbFJ1bGU6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwicmFua0J5TWluWm9vbUxldmVsUnVsZVwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInJhbmtCeU1pblpvb21MZXZlbFJ1bGVcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInJhbmtCeU1pblpvb21MZXZlbFJ1bGVcIiwgdmFsdWUpO1xufX19KTtcbiRqc2NvbXAuZ2xvYmFsLk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUmFua0J5T25lVGhpbmdSdWxlLCB7RGlyZWN0aW9uOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUmFua0J5T25lVGhpbmdSdWxlRGlyZWN0aW9uRW51bTtcbn19fSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlJhbmtpbmdPcHRpb25zUGFyYW1ldGVycyA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X1JhbmtpbmdPcHRpb25zUGFyYW1ldGVycygpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlJhbmtpbmdPcHRpb25zID0gZnVuY3Rpb24ocGFyYW1ldGVycykge1xuICBwYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXJhbWV0ZXJzID8ge30gOiBwYXJhbWV0ZXJzO1xuICBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZS5jYWxsKHRoaXMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJ6T3JkZXJSYW5raW5nUnVsZVwiLCBudWxsID09IHBhcmFtZXRlcnMuek9yZGVyUmFua2luZ1J1bGUgPyBudWxsIDogcGFyYW1ldGVycy56T3JkZXJSYW5raW5nUnVsZSk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInRoaW5uaW5nUmFua2luZ1J1bGVcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLnRoaW5uaW5nUmFua2luZ1J1bGUgPyBudWxsIDogcGFyYW1ldGVycy50aGlubmluZ1JhbmtpbmdSdWxlKTtcbn07XG4kanNjb21wLmluaGVyaXRzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUmFua2luZ09wdGlvbnMsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlKTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUmFua2luZ09wdGlvbnMucHJvdG90eXBlLmdldENvbnN0cnVjdG9yID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlJhbmtpbmdPcHRpb25zO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUmFua2luZ09wdGlvbnMucHJvdG90eXBlLmdldFBhcnRpYWxDbGFzc01ldGFkYXRhID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7a2V5czpbXCJ0aGlubmluZ1JhbmtpbmdSdWxlXCIsIFwiek9yZGVyUmFua2luZ1J1bGVcIl0sIG9iamVjdHM6e3RoaW5uaW5nUmFua2luZ1J1bGU6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5SYW5raW5nUnVsZSwgek9yZGVyUmFua2luZ1J1bGU6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5SYW5raW5nUnVsZX19O1xufTtcbiRqc2NvbXAuZ2xvYmFsLk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUmFua2luZ09wdGlvbnMucHJvdG90eXBlLCB7dGhpbm5pbmdSYW5raW5nUnVsZTp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJ0aGlubmluZ1JhbmtpbmdSdWxlXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwidGhpbm5pbmdSYW5raW5nUnVsZVwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwidGhpbm5pbmdSYW5raW5nUnVsZVwiLCB2YWx1ZSk7XG59fSwgek9yZGVyUmFua2luZ1J1bGU6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiek9yZGVyUmFua2luZ1J1bGVcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJ6T3JkZXJSYW5raW5nUnVsZVwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiek9yZGVyUmFua2luZ1J1bGVcIiwgdmFsdWUpO1xufX19KTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUmFua2luZ1J1bGVQYXJhbWV0ZXJzID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfUmFua2luZ1J1bGVQYXJhbWV0ZXJzKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUmFua2luZ1J1bGUgPSBmdW5jdGlvbihwYXJhbWV0ZXJzKSB7XG4gIHBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IHBhcmFtZXRlcnMgPyB7fSA6IHBhcmFtZXRlcnM7XG4gIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlLmNhbGwodGhpcyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInJhbmtCeU9uZVRoaW5nUnVsZVwiLCBudWxsID09IHBhcmFtZXRlcnMucmFua0J5T25lVGhpbmdSdWxlID8gbnVsbCA6IHBhcmFtZXRlcnMucmFua0J5T25lVGhpbmdSdWxlKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwicHNldWRvUmFuZG9tVGllYnJlYWtpbmdcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLnBzZXVkb1JhbmRvbVRpZWJyZWFraW5nID8gbnVsbCA6IHBhcmFtZXRlcnMucHNldWRvUmFuZG9tVGllYnJlYWtpbmcpO1xufTtcbiRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5SYW5raW5nUnVsZSwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUpO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5SYW5raW5nUnVsZS5wcm90b3R5cGUuZ2V0Q29uc3RydWN0b3IgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUmFua2luZ1J1bGU7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5SYW5raW5nUnVsZS5wcm90b3R5cGUuZ2V0UGFydGlhbENsYXNzTWV0YWRhdGEgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHthcnJheXM6e3JhbmtCeU9uZVRoaW5nUnVsZTptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlJhbmtCeU9uZVRoaW5nUnVsZX0sIGtleXM6W1wicHNldWRvUmFuZG9tVGllYnJlYWtpbmdcIiwgXCJyYW5rQnlPbmVUaGluZ1J1bGVcIl19O1xufTtcbiRqc2NvbXAuZ2xvYmFsLk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUmFua2luZ1J1bGUucHJvdG90eXBlLCB7cHNldWRvUmFuZG9tVGllYnJlYWtpbmc6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwicHNldWRvUmFuZG9tVGllYnJlYWtpbmdcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJwc2V1ZG9SYW5kb21UaWVicmVha2luZ1wiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwicHNldWRvUmFuZG9tVGllYnJlYWtpbmdcIiwgdmFsdWUpO1xufX0sIHJhbmtCeU9uZVRoaW5nUnVsZTp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJyYW5rQnlPbmVUaGluZ1J1bGVcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJyYW5rQnlPbmVUaGluZ1J1bGVcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInJhbmtCeU9uZVRoaW5nUnVsZVwiLCB2YWx1ZSk7XG59fX0pO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5SdWxlUGFyYW1ldGVycyA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X1J1bGVQYXJhbWV0ZXJzKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUnVsZSA9IGZ1bmN0aW9uKHBhcmFtZXRlcnMpIHtcbiAgcGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFyYW1ldGVycyA/IHt9IDogcGFyYW1ldGVycztcbiAgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUuY2FsbCh0aGlzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZGVzY3JpcHRpb25cIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmRlc2NyaXB0aW9uID8gbnVsbCA6IHBhcmFtZXRlcnMuZGVzY3JpcHRpb24pO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJwZXJtaXNzaW9uc1wiLCBudWxsID09IHBhcmFtZXRlcnMucGVybWlzc2lvbnMgPyBudWxsIDogcGFyYW1ldGVycy5wZXJtaXNzaW9ucyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImFjdGlvblwiLCBudWxsID09IHBhcmFtZXRlcnMuYWN0aW9uID8gbnVsbCA6IHBhcmFtZXRlcnMuYWN0aW9uKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiaW5cIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmluID8gbnVsbCA6IHBhcmFtZXRlcnMuaW4pO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJub3RJblwiLCBudWxsID09IHBhcmFtZXRlcnMubm90SW4gPyBudWxsIDogcGFyYW1ldGVycy5ub3RJbik7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImNvbmRpdGlvbnNcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmNvbmRpdGlvbnMgPyBudWxsIDogcGFyYW1ldGVycy5jb25kaXRpb25zKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwibG9nQ29uZmlnXCIsIG51bGwgPT0gcGFyYW1ldGVycy5sb2dDb25maWcgPyBudWxsIDogcGFyYW1ldGVycy5sb2dDb25maWcpO1xufTtcbiRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5SdWxlLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlJ1bGUucHJvdG90eXBlLmdldENvbnN0cnVjdG9yID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlJ1bGU7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5SdWxlLnByb3RvdHlwZS5nZXRQYXJ0aWFsQ2xhc3NNZXRhZGF0YSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge2FycmF5czp7Y29uZGl0aW9uczptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNvbmRpdGlvbiwgbG9nQ29uZmlnOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuTG9nQ29uZmlnfSwgZW51bXM6e2FjdGlvbjptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlJ1bGVBY3Rpb25FbnVtfSwga2V5czpcImFjdGlvbiBjb25kaXRpb25zIGRlc2NyaXB0aW9uIGluIGxvZ0NvbmZpZyBub3RJbiBwZXJtaXNzaW9uc1wiLnNwbGl0KFwiIFwiKX07XG59O1xuJGpzY29tcC5nbG9iYWwuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5SdWxlLnByb3RvdHlwZSwge2FjdGlvbjp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJhY3Rpb25cIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJhY3Rpb25cIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImFjdGlvblwiLCB2YWx1ZSk7XG59fSwgY29uZGl0aW9uczp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJjb25kaXRpb25zXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiY29uZGl0aW9uc1wiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiY29uZGl0aW9uc1wiLCB2YWx1ZSk7XG59fSwgZGVzY3JpcHRpb246e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiZGVzY3JpcHRpb25cIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJkZXNjcmlwdGlvblwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZGVzY3JpcHRpb25cIiwgdmFsdWUpO1xufX0sIGluOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImluXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiaW5cIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImluXCIsIHZhbHVlKTtcbn19LCBsb2dDb25maWc6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwibG9nQ29uZmlnXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwibG9nQ29uZmlnXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJsb2dDb25maWdcIiwgdmFsdWUpO1xufX0sIG5vdEluOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcIm5vdEluXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwibm90SW5cIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcIm5vdEluXCIsIHZhbHVlKTtcbn19LCBwZXJtaXNzaW9uczp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJwZXJtaXNzaW9uc1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInBlcm1pc3Npb25zXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJwZXJtaXNzaW9uc1wiLCB2YWx1ZSk7XG59fX0pO1xuJGpzY29tcC5nbG9iYWwuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5SdWxlLCB7QWN0aW9uOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUnVsZUFjdGlvbkVudW07XG59fX0pO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5TY2hlZHVsZWRVcGRhdGVQYXJhbWV0ZXJzID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfU2NoZWR1bGVkVXBkYXRlUGFyYW1ldGVycygpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlNjaGVkdWxlZFVwZGF0ZSA9IGZ1bmN0aW9uKHBhcmFtZXRlcnMpIHtcbiAgcGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFyYW1ldGVycyA/IHt9IDogcGFyYW1ldGVycztcbiAgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUuY2FsbCh0aGlzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwic3Vic2NyaXB0aW9uVXBkYXRlVHlwZVwiLCBudWxsID09IHBhcmFtZXRlcnMuc3Vic2NyaXB0aW9uVXBkYXRlVHlwZSA/IG51bGwgOiBwYXJhbWV0ZXJzLnN1YnNjcmlwdGlvblVwZGF0ZVR5cGUpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJ1cGRhdGVDaGFuZ2VUeXBlXCIsIG51bGwgPT0gcGFyYW1ldGVycy51cGRhdGVDaGFuZ2VUeXBlID8gbnVsbCA6IHBhcmFtZXRlcnMudXBkYXRlQ2hhbmdlVHlwZSk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInVwZGF0ZVRpbWVcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLnVwZGF0ZVRpbWUgPyBudWxsIDogcGFyYW1ldGVycy51cGRhdGVUaW1lKTtcbn07XG4kanNjb21wLmluaGVyaXRzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuU2NoZWR1bGVkVXBkYXRlLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlNjaGVkdWxlZFVwZGF0ZS5wcm90b3R5cGUuZ2V0Q29uc3RydWN0b3IgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuU2NoZWR1bGVkVXBkYXRlO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuU2NoZWR1bGVkVXBkYXRlLnByb3RvdHlwZS5nZXRQYXJ0aWFsQ2xhc3NNZXRhZGF0YSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge2VudW1zOntzdWJzY3JpcHRpb25VcGRhdGVUeXBlOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuU2NoZWR1bGVkVXBkYXRlU3Vic2NyaXB0aW9uVXBkYXRlVHlwZUVudW0sIHVwZGF0ZUNoYW5nZVR5cGU6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5TY2hlZHVsZWRVcGRhdGVVcGRhdGVDaGFuZ2VUeXBlRW51bX0sIGtleXM6W1wic3Vic2NyaXB0aW9uVXBkYXRlVHlwZVwiLCBcInVwZGF0ZUNoYW5nZVR5cGVcIiwgXCJ1cGRhdGVUaW1lXCJdfTtcbn07XG4kanNjb21wLmdsb2JhbC5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlNjaGVkdWxlZFVwZGF0ZS5wcm90b3R5cGUsIHtzdWJzY3JpcHRpb25VcGRhdGVUeXBlOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcInN1YnNjcmlwdGlvblVwZGF0ZVR5cGVcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJzdWJzY3JpcHRpb25VcGRhdGVUeXBlXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJzdWJzY3JpcHRpb25VcGRhdGVUeXBlXCIsIHZhbHVlKTtcbn19LCB1cGRhdGVDaGFuZ2VUeXBlOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcInVwZGF0ZUNoYW5nZVR5cGVcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJ1cGRhdGVDaGFuZ2VUeXBlXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJ1cGRhdGVDaGFuZ2VUeXBlXCIsIHZhbHVlKTtcbn19LCB1cGRhdGVUaW1lOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcInVwZGF0ZVRpbWVcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJ1cGRhdGVUaW1lXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJ1cGRhdGVUaW1lXCIsIHZhbHVlKTtcbn19fSk7XG4kanNjb21wLmdsb2JhbC5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlNjaGVkdWxlZFVwZGF0ZSwge1N1YnNjcmlwdGlvblVwZGF0ZVR5cGU6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5TY2hlZHVsZWRVcGRhdGVTdWJzY3JpcHRpb25VcGRhdGVUeXBlRW51bTtcbn19LCBVcGRhdGVDaGFuZ2VUeXBlOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuU2NoZWR1bGVkVXBkYXRlVXBkYXRlQ2hhbmdlVHlwZUVudW07XG59fX0pO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5TZXRJYW1Qb2xpY3lSZXF1ZXN0UGFyYW1ldGVycyA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X1NldElhbVBvbGljeVJlcXVlc3RQYXJhbWV0ZXJzKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuU2V0SWFtUG9saWN5UmVxdWVzdCA9IGZ1bmN0aW9uKHBhcmFtZXRlcnMpIHtcbiAgcGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFyYW1ldGVycyA/IHt9IDogcGFyYW1ldGVycztcbiAgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUuY2FsbCh0aGlzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwicG9saWN5XCIsIG51bGwgPT0gcGFyYW1ldGVycy5wb2xpY3kgPyBudWxsIDogcGFyYW1ldGVycy5wb2xpY3kpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJ1cGRhdGVNYXNrXCIsIG51bGwgPT0gcGFyYW1ldGVycy51cGRhdGVNYXNrID8gbnVsbCA6IHBhcmFtZXRlcnMudXBkYXRlTWFzayk7XG59O1xuJGpzY29tcC5pbmhlcml0cyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlNldElhbVBvbGljeVJlcXVlc3QsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlKTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuU2V0SWFtUG9saWN5UmVxdWVzdC5wcm90b3R5cGUuZ2V0Q29uc3RydWN0b3IgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuU2V0SWFtUG9saWN5UmVxdWVzdDtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlNldElhbVBvbGljeVJlcXVlc3QucHJvdG90eXBlLmdldFBhcnRpYWxDbGFzc01ldGFkYXRhID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7a2V5czpbXCJwb2xpY3lcIiwgXCJ1cGRhdGVNYXNrXCJdLCBvYmplY3RzOntwb2xpY3k6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qb2xpY3l9fTtcbn07XG4kanNjb21wLmdsb2JhbC5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlNldElhbVBvbGljeVJlcXVlc3QucHJvdG90eXBlLCB7cG9saWN5Ontjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcInBvbGljeVwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInBvbGljeVwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwicG9saWN5XCIsIHZhbHVlKTtcbn19LCB1cGRhdGVNYXNrOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcInVwZGF0ZU1hc2tcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJ1cGRhdGVNYXNrXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJ1cGRhdGVNYXNrXCIsIHZhbHVlKTtcbn19fSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlN0YXR1c1BhcmFtZXRlcnMgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9TdGF0dXNQYXJhbWV0ZXJzKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuU3RhdHVzID0gZnVuY3Rpb24ocGFyYW1ldGVycykge1xuICBwYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXJhbWV0ZXJzID8ge30gOiBwYXJhbWV0ZXJzO1xuICBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZS5jYWxsKHRoaXMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJjb2RlXCIsIG51bGwgPT0gcGFyYW1ldGVycy5jb2RlID8gbnVsbCA6IHBhcmFtZXRlcnMuY29kZSk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcIm1lc3NhZ2VcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLm1lc3NhZ2UgPyBudWxsIDogcGFyYW1ldGVycy5tZXNzYWdlKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZGV0YWlsc1wiLCBudWxsID09IHBhcmFtZXRlcnMuZGV0YWlscyA/IG51bGwgOiBwYXJhbWV0ZXJzLmRldGFpbHMpO1xufTtcbiRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5TdGF0dXMsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlKTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuU3RhdHVzLnByb3RvdHlwZS5nZXRDb25zdHJ1Y3RvciA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5TdGF0dXM7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5TdGF0dXMucHJvdG90eXBlLmdldFBhcnRpYWxDbGFzc01ldGFkYXRhID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7a2V5czpbXCJjb2RlXCIsIFwiZGV0YWlsc1wiLCBcIm1lc3NhZ2VcIl0sIG9iamVjdE1hcHM6e2RldGFpbHM6e2N0b3I6bnVsbCwgaXNQcm9wZXJ0eUFycmF5OiEwLCBpc1NlcmlhbGl6YWJsZTohMSwgaXNWYWx1ZUFycmF5OiExfX19O1xufTtcbiRqc2NvbXAuZ2xvYmFsLk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuU3RhdHVzLnByb3RvdHlwZSwge2NvZGU6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiY29kZVwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImNvZGVcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImNvZGVcIiwgdmFsdWUpO1xufX0sIGRldGFpbHM6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiZGV0YWlsc1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImRldGFpbHNcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImRldGFpbHNcIiwgdmFsdWUpO1xufX0sIG1lc3NhZ2U6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwibWVzc2FnZVwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcIm1lc3NhZ2VcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcIm1lc3NhZ2VcIiwgdmFsdWUpO1xufX19KTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuU3Vic2NyaXB0aW9uUGFyYW1ldGVycyA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X1N1YnNjcmlwdGlvblBhcmFtZXRlcnMoKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5TdWJzY3JpcHRpb24gPSBmdW5jdGlvbihwYXJhbWV0ZXJzKSB7XG4gIHBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IHBhcmFtZXRlcnMgPyB7fSA6IHBhcmFtZXRlcnM7XG4gIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlLmNhbGwodGhpcyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcIm5hbWVcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLm5hbWUgPyBudWxsIDogcGFyYW1ldGVycy5uYW1lKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZXRhZ1wiLCBudWxsID09IHBhcmFtZXRlcnMuZXRhZyA/IG51bGwgOiBwYXJhbWV0ZXJzLmV0YWcpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJ0eXBlXCIsIG51bGwgPT0gcGFyYW1ldGVycy50eXBlID8gbnVsbCA6IHBhcmFtZXRlcnMudHlwZSk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInN0YXRlXCIsIG51bGwgPT0gcGFyYW1ldGVycy5zdGF0ZSA/IG51bGwgOiBwYXJhbWV0ZXJzLnN0YXRlKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiY3JlYXRpb25UaW1lXCIsIG51bGwgPT0gcGFyYW1ldGVycy5jcmVhdGlvblRpbWUgPyBudWxsIDogcGFyYW1ldGVycy5jcmVhdGlvblRpbWUpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJzdGFydFRpbWVcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLnN0YXJ0VGltZSA/IG51bGwgOiBwYXJhbWV0ZXJzLnN0YXJ0VGltZSk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInBlcmlvZEVuZFRpbWVcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLnBlcmlvZEVuZFRpbWUgPyBudWxsIDogcGFyYW1ldGVycy5wZXJpb2RFbmRUaW1lKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZW5kVGltZVwiLCBudWxsID09IHBhcmFtZXRlcnMuZW5kVGltZSA/IG51bGwgOiBwYXJhbWV0ZXJzLmVuZFRpbWUpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJzY2hlZHVsZWRVcGRhdGVcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLnNjaGVkdWxlZFVwZGF0ZSA/IG51bGwgOiBwYXJhbWV0ZXJzLnNjaGVkdWxlZFVwZGF0ZSk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInRyaWFsU3RhdGVcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLnRyaWFsU3RhdGUgPyBudWxsIDogcGFyYW1ldGVycy50cmlhbFN0YXRlKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZXJyb3JEZXRhaWxcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmVycm9yRGV0YWlsID8gbnVsbCA6IHBhcmFtZXRlcnMuZXJyb3JEZXRhaWwpO1xufTtcbiRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5TdWJzY3JpcHRpb24sIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlKTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuU3Vic2NyaXB0aW9uLnByb3RvdHlwZS5nZXRDb25zdHJ1Y3RvciA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5TdWJzY3JpcHRpb247XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5TdWJzY3JpcHRpb24ucHJvdG90eXBlLmdldFBhcnRpYWxDbGFzc01ldGFkYXRhID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7ZW51bXM6e3N0YXRlOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuU3Vic2NyaXB0aW9uU3RhdGVFbnVtLCB0cmlhbFN0YXRlOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuU3Vic2NyaXB0aW9uVHJpYWxTdGF0ZUVudW0sIHR5cGU6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5TdWJzY3JpcHRpb25UeXBlRW51bX0sIGtleXM6XCJjcmVhdGlvblRpbWUgZW5kVGltZSBlcnJvckRldGFpbCBldGFnIG5hbWUgcGVyaW9kRW5kVGltZSBzY2hlZHVsZWRVcGRhdGUgc3RhcnRUaW1lIHN0YXRlIHRyaWFsU3RhdGUgdHlwZVwiLnNwbGl0KFwiIFwiKSwgb2JqZWN0czp7c2NoZWR1bGVkVXBkYXRlOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuU2NoZWR1bGVkVXBkYXRlfX07XG59O1xuJGpzY29tcC5nbG9iYWwuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5TdWJzY3JpcHRpb24ucHJvdG90eXBlLCB7Y3JlYXRpb25UaW1lOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImNyZWF0aW9uVGltZVwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImNyZWF0aW9uVGltZVwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiY3JlYXRpb25UaW1lXCIsIHZhbHVlKTtcbn19LCBlbmRUaW1lOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImVuZFRpbWVcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJlbmRUaW1lXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJlbmRUaW1lXCIsIHZhbHVlKTtcbn19LCBlcnJvckRldGFpbDp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJlcnJvckRldGFpbFwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImVycm9yRGV0YWlsXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJlcnJvckRldGFpbFwiLCB2YWx1ZSk7XG59fSwgZXRhZzp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJldGFnXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiZXRhZ1wiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZXRhZ1wiLCB2YWx1ZSk7XG59fSwgbmFtZTp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJuYW1lXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwibmFtZVwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwibmFtZVwiLCB2YWx1ZSk7XG59fSwgcGVyaW9kRW5kVGltZTp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJwZXJpb2RFbmRUaW1lXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwicGVyaW9kRW5kVGltZVwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwicGVyaW9kRW5kVGltZVwiLCB2YWx1ZSk7XG59fSwgc2NoZWR1bGVkVXBkYXRlOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcInNjaGVkdWxlZFVwZGF0ZVwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInNjaGVkdWxlZFVwZGF0ZVwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwic2NoZWR1bGVkVXBkYXRlXCIsIHZhbHVlKTtcbn19LCBzdGFydFRpbWU6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwic3RhcnRUaW1lXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwic3RhcnRUaW1lXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJzdGFydFRpbWVcIiwgdmFsdWUpO1xufX0sIHN0YXRlOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcInN0YXRlXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwic3RhdGVcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInN0YXRlXCIsIHZhbHVlKTtcbn19LCB0cmlhbFN0YXRlOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcInRyaWFsU3RhdGVcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJ0cmlhbFN0YXRlXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJ0cmlhbFN0YXRlXCIsIHZhbHVlKTtcbn19LCB0eXBlOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcInR5cGVcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJ0eXBlXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJ0eXBlXCIsIHZhbHVlKTtcbn19fSk7XG4kanNjb21wLmdsb2JhbC5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlN1YnNjcmlwdGlvbiwge1N0YXRlOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuU3Vic2NyaXB0aW9uU3RhdGVFbnVtO1xufX0sIFRyaWFsU3RhdGU6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5TdWJzY3JpcHRpb25UcmlhbFN0YXRlRW51bTtcbn19LCBUeXBlOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuU3Vic2NyaXB0aW9uVHlwZUVudW07XG59fX0pO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UYWJsZVBhcmFtZXRlcnMgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9UYWJsZVBhcmFtZXRlcnMoKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UYWJsZSA9IGZ1bmN0aW9uKHBhcmFtZXRlcnMpIHtcbiAgcGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFyYW1ldGVycyA/IHt9IDogcGFyYW1ldGVycztcbiAgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUuY2FsbCh0aGlzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwibmFtZVwiLCBudWxsID09IHBhcmFtZXRlcnMubmFtZSA/IG51bGwgOiBwYXJhbWV0ZXJzLm5hbWUpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJleHByZXNzaW9uXCIsIG51bGwgPT0gcGFyYW1ldGVycy5leHByZXNzaW9uID8gbnVsbCA6IHBhcmFtZXRlcnMuZXhwcmVzc2lvbik7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImZpbGVGb3JtYXRcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmZpbGVGb3JtYXQgPyBudWxsIDogcGFyYW1ldGVycy5maWxlRm9ybWF0KTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwic2VsZWN0b3JzXCIsIG51bGwgPT0gcGFyYW1ldGVycy5zZWxlY3RvcnMgPyBudWxsIDogcGFyYW1ldGVycy5zZWxlY3RvcnMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJmaWxlbmFtZVwiLCBudWxsID09IHBhcmFtZXRlcnMuZmlsZW5hbWUgPyBudWxsIDogcGFyYW1ldGVycy5maWxlbmFtZSk7XG59O1xuJGpzY29tcC5pbmhlcml0cyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRhYmxlLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRhYmxlLnByb3RvdHlwZS5nZXRDb25zdHJ1Y3RvciA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UYWJsZTtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRhYmxlLnByb3RvdHlwZS5nZXRQYXJ0aWFsQ2xhc3NNZXRhZGF0YSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge2VudW1zOntmaWxlRm9ybWF0Om1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGFibGVGaWxlRm9ybWF0RW51bX0sIGtleXM6W1wiZXhwcmVzc2lvblwiLCBcImZpbGVGb3JtYXRcIiwgXCJmaWxlbmFtZVwiLCBcIm5hbWVcIiwgXCJzZWxlY3RvcnNcIl0sIG9iamVjdHM6e2V4cHJlc3Npb246bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5FeHByZXNzaW9ufX07XG59O1xuJGpzY29tcC5nbG9iYWwuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UYWJsZS5wcm90b3R5cGUsIHtleHByZXNzaW9uOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImV4cHJlc3Npb25cIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJleHByZXNzaW9uXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJleHByZXNzaW9uXCIsIHZhbHVlKTtcbn19LCBmaWxlRm9ybWF0Ontjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImZpbGVGb3JtYXRcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJmaWxlRm9ybWF0XCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJmaWxlRm9ybWF0XCIsIHZhbHVlKTtcbn19LCBmaWxlbmFtZTp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJmaWxlbmFtZVwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImZpbGVuYW1lXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJmaWxlbmFtZVwiLCB2YWx1ZSk7XG59fSwgbmFtZTp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJuYW1lXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwibmFtZVwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwibmFtZVwiLCB2YWx1ZSk7XG59fSwgc2VsZWN0b3JzOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcInNlbGVjdG9yc1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInNlbGVjdG9yc1wiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwic2VsZWN0b3JzXCIsIHZhbHVlKTtcbn19fSk7XG4kanNjb21wLmdsb2JhbC5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRhYmxlLCB7RmlsZUZvcm1hdDp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRhYmxlRmlsZUZvcm1hdEVudW07XG59fX0pO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UYWJsZUFzc2V0RXhwb3J0T3B0aW9uc1BhcmFtZXRlcnMgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9UYWJsZUFzc2V0RXhwb3J0T3B0aW9uc1BhcmFtZXRlcnMoKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UYWJsZUFzc2V0RXhwb3J0T3B0aW9ucyA9IGZ1bmN0aW9uKHBhcmFtZXRlcnMpIHtcbiAgcGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFyYW1ldGVycyA/IHt9IDogcGFyYW1ldGVycztcbiAgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUuY2FsbCh0aGlzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZWFydGhFbmdpbmVEZXN0aW5hdGlvblwiLCBudWxsID09IHBhcmFtZXRlcnMuZWFydGhFbmdpbmVEZXN0aW5hdGlvbiA/IG51bGwgOiBwYXJhbWV0ZXJzLmVhcnRoRW5naW5lRGVzdGluYXRpb24pO1xufTtcbiRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UYWJsZUFzc2V0RXhwb3J0T3B0aW9ucywgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUpO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UYWJsZUFzc2V0RXhwb3J0T3B0aW9ucy5wcm90b3R5cGUuZ2V0Q29uc3RydWN0b3IgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGFibGVBc3NldEV4cG9ydE9wdGlvbnM7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UYWJsZUFzc2V0RXhwb3J0T3B0aW9ucy5wcm90b3R5cGUuZ2V0UGFydGlhbENsYXNzTWV0YWRhdGEgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtrZXlzOltcImVhcnRoRW5naW5lRGVzdGluYXRpb25cIl0sIG9iamVjdHM6e2VhcnRoRW5naW5lRGVzdGluYXRpb246bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5FYXJ0aEVuZ2luZURlc3RpbmF0aW9ufX07XG59O1xuJGpzY29tcC5nbG9iYWwuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UYWJsZUFzc2V0RXhwb3J0T3B0aW9ucy5wcm90b3R5cGUsIHtlYXJ0aEVuZ2luZURlc3RpbmF0aW9uOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImVhcnRoRW5naW5lRGVzdGluYXRpb25cIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJlYXJ0aEVuZ2luZURlc3RpbmF0aW9uXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJlYXJ0aEVuZ2luZURlc3RpbmF0aW9uXCIsIHZhbHVlKTtcbn19fSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRhYmxlRmlsZUV4cG9ydE9wdGlvbnNQYXJhbWV0ZXJzID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfVGFibGVGaWxlRXhwb3J0T3B0aW9uc1BhcmFtZXRlcnMoKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UYWJsZUZpbGVFeHBvcnRPcHRpb25zID0gZnVuY3Rpb24ocGFyYW1ldGVycykge1xuICBwYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXJhbWV0ZXJzID8ge30gOiBwYXJhbWV0ZXJzO1xuICBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZS5jYWxsKHRoaXMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJkcml2ZURlc3RpbmF0aW9uXCIsIG51bGwgPT0gcGFyYW1ldGVycy5kcml2ZURlc3RpbmF0aW9uID8gbnVsbCA6IHBhcmFtZXRlcnMuZHJpdmVEZXN0aW5hdGlvbik7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImNsb3VkU3RvcmFnZURlc3RpbmF0aW9uXCIsIG51bGwgPT0gcGFyYW1ldGVycy5jbG91ZFN0b3JhZ2VEZXN0aW5hdGlvbiA/IG51bGwgOiBwYXJhbWV0ZXJzLmNsb3VkU3RvcmFnZURlc3RpbmF0aW9uKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZ2NzRGVzdGluYXRpb25cIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmdjc0Rlc3RpbmF0aW9uID8gbnVsbCA6IHBhcmFtZXRlcnMuZ2NzRGVzdGluYXRpb24pO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJmaWxlRm9ybWF0XCIsIG51bGwgPT0gcGFyYW1ldGVycy5maWxlRm9ybWF0ID8gbnVsbCA6IHBhcmFtZXRlcnMuZmlsZUZvcm1hdCk7XG59O1xuJGpzY29tcC5pbmhlcml0cyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRhYmxlRmlsZUV4cG9ydE9wdGlvbnMsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlKTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGFibGVGaWxlRXhwb3J0T3B0aW9ucy5wcm90b3R5cGUuZ2V0Q29uc3RydWN0b3IgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGFibGVGaWxlRXhwb3J0T3B0aW9ucztcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRhYmxlRmlsZUV4cG9ydE9wdGlvbnMucHJvdG90eXBlLmdldFBhcnRpYWxDbGFzc01ldGFkYXRhID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7ZW51bXM6e2ZpbGVGb3JtYXQ6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UYWJsZUZpbGVFeHBvcnRPcHRpb25zRmlsZUZvcm1hdEVudW19LCBrZXlzOltcImNsb3VkU3RvcmFnZURlc3RpbmF0aW9uXCIsIFwiZHJpdmVEZXN0aW5hdGlvblwiLCBcImZpbGVGb3JtYXRcIiwgXCJnY3NEZXN0aW5hdGlvblwiXSwgb2JqZWN0czp7Y2xvdWRTdG9yYWdlRGVzdGluYXRpb246bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5DbG91ZFN0b3JhZ2VEZXN0aW5hdGlvbiwgZHJpdmVEZXN0aW5hdGlvbjptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkRyaXZlRGVzdGluYXRpb24sIGdjc0Rlc3RpbmF0aW9uOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuR2NzRGVzdGluYXRpb259fTtcbn07XG4kanNjb21wLmdsb2JhbC5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRhYmxlRmlsZUV4cG9ydE9wdGlvbnMucHJvdG90eXBlLCB7Y2xvdWRTdG9yYWdlRGVzdGluYXRpb246e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiY2xvdWRTdG9yYWdlRGVzdGluYXRpb25cIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJjbG91ZFN0b3JhZ2VEZXN0aW5hdGlvblwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiY2xvdWRTdG9yYWdlRGVzdGluYXRpb25cIiwgdmFsdWUpO1xufX0sIGRyaXZlRGVzdGluYXRpb246e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiZHJpdmVEZXN0aW5hdGlvblwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImRyaXZlRGVzdGluYXRpb25cIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImRyaXZlRGVzdGluYXRpb25cIiwgdmFsdWUpO1xufX0sIGZpbGVGb3JtYXQ6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiZmlsZUZvcm1hdFwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImZpbGVGb3JtYXRcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImZpbGVGb3JtYXRcIiwgdmFsdWUpO1xufX0sIGdjc0Rlc3RpbmF0aW9uOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImdjc0Rlc3RpbmF0aW9uXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiZ2NzRGVzdGluYXRpb25cIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImdjc0Rlc3RpbmF0aW9uXCIsIHZhbHVlKTtcbn19fSk7XG4kanNjb21wLmdsb2JhbC5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRhYmxlRmlsZUV4cG9ydE9wdGlvbnMsIHtGaWxlRm9ybWF0Ontjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGFibGVGaWxlRXhwb3J0T3B0aW9uc0ZpbGVGb3JtYXRFbnVtO1xufX19KTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGFibGVMb2NhdGlvblBhcmFtZXRlcnMgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9UYWJsZUxvY2F0aW9uUGFyYW1ldGVycygpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRhYmxlTG9jYXRpb24gPSBmdW5jdGlvbihwYXJhbWV0ZXJzKSB7XG4gIHBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IHBhcmFtZXRlcnMgPyB7fSA6IHBhcmFtZXRlcnM7XG4gIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlLmNhbGwodGhpcyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInBhdGhzXCIsIG51bGwgPT0gcGFyYW1ldGVycy5wYXRocyA/IG51bGwgOiBwYXJhbWV0ZXJzLnBhdGhzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwic2l6ZUJ5dGVzXCIsIG51bGwgPT0gcGFyYW1ldGVycy5zaXplQnl0ZXMgPyBudWxsIDogcGFyYW1ldGVycy5zaXplQnl0ZXMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJzaGFyZENvdW50XCIsIG51bGwgPT0gcGFyYW1ldGVycy5zaGFyZENvdW50ID8gbnVsbCA6IHBhcmFtZXRlcnMuc2hhcmRDb3VudCk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInByaW1hcnlHZW9tZXRyeUNvbHVtblwiLCBudWxsID09IHBhcmFtZXRlcnMucHJpbWFyeUdlb21ldHJ5Q29sdW1uID8gbnVsbCA6IHBhcmFtZXRlcnMucHJpbWFyeUdlb21ldHJ5Q29sdW1uKTtcbn07XG4kanNjb21wLmluaGVyaXRzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGFibGVMb2NhdGlvbiwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUpO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UYWJsZUxvY2F0aW9uLnByb3RvdHlwZS5nZXRDb25zdHJ1Y3RvciA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UYWJsZUxvY2F0aW9uO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGFibGVMb2NhdGlvbi5wcm90b3R5cGUuZ2V0UGFydGlhbENsYXNzTWV0YWRhdGEgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtrZXlzOltcInBhdGhzXCIsIFwicHJpbWFyeUdlb21ldHJ5Q29sdW1uXCIsIFwic2hhcmRDb3VudFwiLCBcInNpemVCeXRlc1wiXX07XG59O1xuJGpzY29tcC5nbG9iYWwuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UYWJsZUxvY2F0aW9uLnByb3RvdHlwZSwge3BhdGhzOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcInBhdGhzXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwicGF0aHNcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInBhdGhzXCIsIHZhbHVlKTtcbn19LCBwcmltYXJ5R2VvbWV0cnlDb2x1bW46e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwicHJpbWFyeUdlb21ldHJ5Q29sdW1uXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwicHJpbWFyeUdlb21ldHJ5Q29sdW1uXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJwcmltYXJ5R2VvbWV0cnlDb2x1bW5cIiwgdmFsdWUpO1xufX0sIHNoYXJkQ291bnQ6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwic2hhcmRDb3VudFwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInNoYXJkQ291bnRcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInNoYXJkQ291bnRcIiwgdmFsdWUpO1xufX0sIHNpemVCeXRlczp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJzaXplQnl0ZXNcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJzaXplQnl0ZXNcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInNpemVCeXRlc1wiLCB2YWx1ZSk7XG59fX0pO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UYWJsZU1hbmlmZXN0UGFyYW1ldGVycyA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X1RhYmxlTWFuaWZlc3RQYXJhbWV0ZXJzKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGFibGVNYW5pZmVzdCA9IGZ1bmN0aW9uKHBhcmFtZXRlcnMpIHtcbiAgcGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFyYW1ldGVycyA/IHt9IDogcGFyYW1ldGVycztcbiAgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUuY2FsbCh0aGlzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwibmFtZVwiLCBudWxsID09IHBhcmFtZXRlcnMubmFtZSA/IG51bGwgOiBwYXJhbWV0ZXJzLm5hbWUpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJwcm9wZXJ0aWVzXCIsIG51bGwgPT0gcGFyYW1ldGVycy5wcm9wZXJ0aWVzID8gbnVsbCA6IHBhcmFtZXRlcnMucHJvcGVydGllcyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInVyaVByZWZpeFwiLCBudWxsID09IHBhcmFtZXRlcnMudXJpUHJlZml4ID8gbnVsbCA6IHBhcmFtZXRlcnMudXJpUHJlZml4KTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwic291cmNlc1wiLCBudWxsID09IHBhcmFtZXRlcnMuc291cmNlcyA/IG51bGwgOiBwYXJhbWV0ZXJzLnNvdXJjZXMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJzdGFydFRpbWVcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLnN0YXJ0VGltZSA/IG51bGwgOiBwYXJhbWV0ZXJzLnN0YXJ0VGltZSk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImVuZFRpbWVcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmVuZFRpbWUgPyBudWxsIDogcGFyYW1ldGVycy5lbmRUaW1lKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiY3N2Q29sdW1uRGF0YVR5cGVPdmVycmlkZXNcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmNzdkNvbHVtbkRhdGFUeXBlT3ZlcnJpZGVzID8gbnVsbCA6IHBhcmFtZXRlcnMuY3N2Q29sdW1uRGF0YVR5cGVPdmVycmlkZXMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJwb2xpY3lcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLnBvbGljeSA/IG51bGwgOiBwYXJhbWV0ZXJzLnBvbGljeSk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImNvbHVtbkRhdGFUeXBlT3ZlcnJpZGVzXCIsIG51bGwgPT0gcGFyYW1ldGVycy5jb2x1bW5EYXRhVHlwZU92ZXJyaWRlcyA/IG51bGwgOiBwYXJhbWV0ZXJzLmNvbHVtbkRhdGFUeXBlT3ZlcnJpZGVzKTtcbn07XG4kanNjb21wLmluaGVyaXRzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGFibGVNYW5pZmVzdCwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUpO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UYWJsZU1hbmlmZXN0LnByb3RvdHlwZS5nZXRDb25zdHJ1Y3RvciA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UYWJsZU1hbmlmZXN0O1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGFibGVNYW5pZmVzdC5wcm90b3R5cGUuZ2V0UGFydGlhbENsYXNzTWV0YWRhdGEgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHthcnJheXM6e3NvdXJjZXM6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UYWJsZVNvdXJjZX0sIGVudW1zOntjb2x1bW5EYXRhVHlwZU92ZXJyaWRlczptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRhYmxlTWFuaWZlc3RDb2x1bW5EYXRhVHlwZU92ZXJyaWRlc0VudW0sIGNzdkNvbHVtbkRhdGFUeXBlT3ZlcnJpZGVzOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGFibGVNYW5pZmVzdENzdkNvbHVtbkRhdGFUeXBlT3ZlcnJpZGVzRW51bX0sIGtleXM6XCJjb2x1bW5EYXRhVHlwZU92ZXJyaWRlcyBjc3ZDb2x1bW5EYXRhVHlwZU92ZXJyaWRlcyBlbmRUaW1lIG5hbWUgcG9saWN5IHByb3BlcnRpZXMgc291cmNlcyBzdGFydFRpbWUgdXJpUHJlZml4XCIuc3BsaXQoXCIgXCIpLCBcbiAgb2JqZWN0TWFwczp7Y29sdW1uRGF0YVR5cGVPdmVycmlkZXM6e2N0b3I6bnVsbCwgaXNQcm9wZXJ0eUFycmF5OiExLCBpc1NlcmlhbGl6YWJsZTohMSwgaXNWYWx1ZUFycmF5OiExfSwgY3N2Q29sdW1uRGF0YVR5cGVPdmVycmlkZXM6e2N0b3I6bnVsbCwgaXNQcm9wZXJ0eUFycmF5OiExLCBpc1NlcmlhbGl6YWJsZTohMSwgaXNWYWx1ZUFycmF5OiExfSwgcHJvcGVydGllczp7Y3RvcjpudWxsLCBpc1Byb3BlcnR5QXJyYXk6ITEsIGlzU2VyaWFsaXphYmxlOiExLCBpc1ZhbHVlQXJyYXk6ITF9fSwgb2JqZWN0czp7cG9saWN5Om1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUG9saWN5fX07XG59O1xuJGpzY29tcC5nbG9iYWwuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UYWJsZU1hbmlmZXN0LnByb3RvdHlwZSwge2NvbHVtbkRhdGFUeXBlT3ZlcnJpZGVzOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImNvbHVtbkRhdGFUeXBlT3ZlcnJpZGVzXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiY29sdW1uRGF0YVR5cGVPdmVycmlkZXNcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImNvbHVtbkRhdGFUeXBlT3ZlcnJpZGVzXCIsIHZhbHVlKTtcbn19LCBjc3ZDb2x1bW5EYXRhVHlwZU92ZXJyaWRlczp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJjc3ZDb2x1bW5EYXRhVHlwZU92ZXJyaWRlc1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImNzdkNvbHVtbkRhdGFUeXBlT3ZlcnJpZGVzXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJjc3ZDb2x1bW5EYXRhVHlwZU92ZXJyaWRlc1wiLCB2YWx1ZSk7XG59fSwgZW5kVGltZTp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJlbmRUaW1lXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiZW5kVGltZVwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZW5kVGltZVwiLCB2YWx1ZSk7XG59fSwgbmFtZTp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJuYW1lXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwibmFtZVwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwibmFtZVwiLCB2YWx1ZSk7XG59fSwgcG9saWN5Ontjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcInBvbGljeVwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInBvbGljeVwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwicG9saWN5XCIsIHZhbHVlKTtcbn19LCBwcm9wZXJ0aWVzOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcInByb3BlcnRpZXNcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJwcm9wZXJ0aWVzXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJwcm9wZXJ0aWVzXCIsIHZhbHVlKTtcbn19LCBzb3VyY2VzOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcInNvdXJjZXNcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJzb3VyY2VzXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJzb3VyY2VzXCIsIHZhbHVlKTtcbn19LCBzdGFydFRpbWU6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwic3RhcnRUaW1lXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwic3RhcnRUaW1lXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJzdGFydFRpbWVcIiwgdmFsdWUpO1xufX0sIHVyaVByZWZpeDp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJ1cmlQcmVmaXhcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJ1cmlQcmVmaXhcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInVyaVByZWZpeFwiLCB2YWx1ZSk7XG59fX0pO1xuJGpzY29tcC5nbG9iYWwuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UYWJsZU1hbmlmZXN0LCB7Q29sdW1uRGF0YVR5cGVPdmVycmlkZXM6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UYWJsZU1hbmlmZXN0Q29sdW1uRGF0YVR5cGVPdmVycmlkZXNFbnVtO1xufX0sIENzdkNvbHVtbkRhdGFUeXBlT3ZlcnJpZGVzOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGFibGVNYW5pZmVzdENzdkNvbHVtbkRhdGFUeXBlT3ZlcnJpZGVzRW51bTtcbn19fSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRhYmxlU291cmNlUGFyYW1ldGVycyA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X1RhYmxlU291cmNlUGFyYW1ldGVycygpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRhYmxlU291cmNlID0gZnVuY3Rpb24ocGFyYW1ldGVycykge1xuICBwYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXJhbWV0ZXJzID8ge30gOiBwYXJhbWV0ZXJzO1xuICBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZS5jYWxsKHRoaXMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJ1cmlzXCIsIG51bGwgPT0gcGFyYW1ldGVycy51cmlzID8gbnVsbCA6IHBhcmFtZXRlcnMudXJpcyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImNoYXJzZXRcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmNoYXJzZXQgPyBudWxsIDogcGFyYW1ldGVycy5jaGFyc2V0KTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwibWF4RXJyb3JNZXRlcnNcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLm1heEVycm9yTWV0ZXJzID8gbnVsbCA6IHBhcmFtZXRlcnMubWF4RXJyb3JNZXRlcnMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJtYXhWZXJ0aWNlc1wiLCBudWxsID09IHBhcmFtZXRlcnMubWF4VmVydGljZXMgPyBudWxsIDogcGFyYW1ldGVycy5tYXhWZXJ0aWNlcyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImNyc1wiLCBudWxsID09IHBhcmFtZXRlcnMuY3JzID8gbnVsbCA6IHBhcmFtZXRlcnMuY3JzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZ2VvZGVzaWNcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmdlb2Rlc2ljID8gbnVsbCA6IHBhcmFtZXRlcnMuZ2VvZGVzaWMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJwcmltYXJ5R2VvbWV0cnlDb2x1bW5cIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLnByaW1hcnlHZW9tZXRyeUNvbHVtbiA/IG51bGwgOiBwYXJhbWV0ZXJzLnByaW1hcnlHZW9tZXRyeUNvbHVtbik7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInhDb2x1bW5cIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLnhDb2x1bW4gPyBudWxsIDogcGFyYW1ldGVycy54Q29sdW1uKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwieUNvbHVtblwiLCBudWxsID09IHBhcmFtZXRlcnMueUNvbHVtbiA/IG51bGwgOiBwYXJhbWV0ZXJzLnlDb2x1bW4pO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJkYXRlRm9ybWF0XCIsIG51bGwgPT0gcGFyYW1ldGVycy5kYXRlRm9ybWF0ID8gbnVsbCA6IHBhcmFtZXRlcnMuZGF0ZUZvcm1hdCk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImNzdkRlbGltaXRlclwiLCBudWxsID09IHBhcmFtZXRlcnMuY3N2RGVsaW1pdGVyID8gbnVsbCA6IHBhcmFtZXRlcnMuY3N2RGVsaW1pdGVyKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiY3N2UXVhbGlmaWVyXCIsIG51bGwgPT0gcGFyYW1ldGVycy5jc3ZRdWFsaWZpZXIgPyBudWxsIDogcGFyYW1ldGVycy5jc3ZRdWFsaWZpZXIpO1xufTtcbiRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UYWJsZVNvdXJjZSwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUpO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UYWJsZVNvdXJjZS5wcm90b3R5cGUuZ2V0Q29uc3RydWN0b3IgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGFibGVTb3VyY2U7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UYWJsZVNvdXJjZS5wcm90b3R5cGUuZ2V0UGFydGlhbENsYXNzTWV0YWRhdGEgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtrZXlzOlwiY2hhcnNldCBjcnMgY3N2RGVsaW1pdGVyIGNzdlF1YWxpZmllciBkYXRlRm9ybWF0IGdlb2Rlc2ljIG1heEVycm9yTWV0ZXJzIG1heFZlcnRpY2VzIHByaW1hcnlHZW9tZXRyeUNvbHVtbiB1cmlzIHhDb2x1bW4geUNvbHVtblwiLnNwbGl0KFwiIFwiKX07XG59O1xuJGpzY29tcC5nbG9iYWwuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UYWJsZVNvdXJjZS5wcm90b3R5cGUsIHtjaGFyc2V0Ontjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImNoYXJzZXRcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJjaGFyc2V0XCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJjaGFyc2V0XCIsIHZhbHVlKTtcbn19LCBjcnM6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiY3JzXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiY3JzXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJjcnNcIiwgdmFsdWUpO1xufX0sIGNzdkRlbGltaXRlcjp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJjc3ZEZWxpbWl0ZXJcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJjc3ZEZWxpbWl0ZXJcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImNzdkRlbGltaXRlclwiLCB2YWx1ZSk7XG59fSwgY3N2UXVhbGlmaWVyOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImNzdlF1YWxpZmllclwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImNzdlF1YWxpZmllclwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiY3N2UXVhbGlmaWVyXCIsIHZhbHVlKTtcbn19LCBkYXRlRm9ybWF0Ontjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImRhdGVGb3JtYXRcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJkYXRlRm9ybWF0XCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJkYXRlRm9ybWF0XCIsIHZhbHVlKTtcbn19LCBnZW9kZXNpYzp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJnZW9kZXNpY1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImdlb2Rlc2ljXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJnZW9kZXNpY1wiLCB2YWx1ZSk7XG59fSwgbWF4RXJyb3JNZXRlcnM6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwibWF4RXJyb3JNZXRlcnNcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJtYXhFcnJvck1ldGVyc1wiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwibWF4RXJyb3JNZXRlcnNcIiwgdmFsdWUpO1xufX0sIG1heFZlcnRpY2VzOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcIm1heFZlcnRpY2VzXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwibWF4VmVydGljZXNcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcIm1heFZlcnRpY2VzXCIsIHZhbHVlKTtcbn19LCBwcmltYXJ5R2VvbWV0cnlDb2x1bW46e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwicHJpbWFyeUdlb21ldHJ5Q29sdW1uXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwicHJpbWFyeUdlb21ldHJ5Q29sdW1uXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJwcmltYXJ5R2VvbWV0cnlDb2x1bW5cIiwgdmFsdWUpO1xufX0sIHVyaXM6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwidXJpc1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInVyaXNcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInVyaXNcIiwgdmFsdWUpO1xufX0sIHhDb2x1bW46e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwieENvbHVtblwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInhDb2x1bW5cIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInhDb2x1bW5cIiwgdmFsdWUpO1xufX0sIHlDb2x1bW46e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwieUNvbHVtblwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInlDb2x1bW5cIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInlDb2x1bW5cIiwgdmFsdWUpO1xufX19KTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGVybWluYXRlU3Vic2NyaXB0aW9uUmVxdWVzdFBhcmFtZXRlcnMgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9UZXJtaW5hdGVTdWJzY3JpcHRpb25SZXF1ZXN0UGFyYW1ldGVycygpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRlcm1pbmF0ZVN1YnNjcmlwdGlvblJlcXVlc3QgPSBmdW5jdGlvbihwYXJhbWV0ZXJzKSB7XG4gIHBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IHBhcmFtZXRlcnMgPyB7fSA6IHBhcmFtZXRlcnM7XG4gIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlLmNhbGwodGhpcyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInRlcm1pbmF0aW9uVHlwZVwiLCBudWxsID09IHBhcmFtZXRlcnMudGVybWluYXRpb25UeXBlID8gbnVsbCA6IHBhcmFtZXRlcnMudGVybWluYXRpb25UeXBlKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZXRhZ1wiLCBudWxsID09IHBhcmFtZXRlcnMuZXRhZyA/IG51bGwgOiBwYXJhbWV0ZXJzLmV0YWcpO1xufTtcbiRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UZXJtaW5hdGVTdWJzY3JpcHRpb25SZXF1ZXN0LCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRlcm1pbmF0ZVN1YnNjcmlwdGlvblJlcXVlc3QucHJvdG90eXBlLmdldENvbnN0cnVjdG9yID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRlcm1pbmF0ZVN1YnNjcmlwdGlvblJlcXVlc3Q7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UZXJtaW5hdGVTdWJzY3JpcHRpb25SZXF1ZXN0LnByb3RvdHlwZS5nZXRQYXJ0aWFsQ2xhc3NNZXRhZGF0YSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge2VudW1zOnt0ZXJtaW5hdGlvblR5cGU6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UZXJtaW5hdGVTdWJzY3JpcHRpb25SZXF1ZXN0VGVybWluYXRpb25UeXBlRW51bX0sIGtleXM6W1wiZXRhZ1wiLCBcInRlcm1pbmF0aW9uVHlwZVwiXX07XG59O1xuJGpzY29tcC5nbG9iYWwuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UZXJtaW5hdGVTdWJzY3JpcHRpb25SZXF1ZXN0LnByb3RvdHlwZSwge2V0YWc6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiZXRhZ1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImV0YWdcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImV0YWdcIiwgdmFsdWUpO1xufX0sIHRlcm1pbmF0aW9uVHlwZTp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJ0ZXJtaW5hdGlvblR5cGVcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJ0ZXJtaW5hdGlvblR5cGVcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInRlcm1pbmF0aW9uVHlwZVwiLCB2YWx1ZSk7XG59fX0pO1xuJGpzY29tcC5nbG9iYWwuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UZXJtaW5hdGVTdWJzY3JpcHRpb25SZXF1ZXN0LCB7VGVybWluYXRpb25UeXBlOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGVybWluYXRlU3Vic2NyaXB0aW9uUmVxdWVzdFRlcm1pbmF0aW9uVHlwZUVudW07XG59fX0pO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UZXN0SWFtUGVybWlzc2lvbnNSZXF1ZXN0UGFyYW1ldGVycyA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X1Rlc3RJYW1QZXJtaXNzaW9uc1JlcXVlc3RQYXJhbWV0ZXJzKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGVzdElhbVBlcm1pc3Npb25zUmVxdWVzdCA9IGZ1bmN0aW9uKHBhcmFtZXRlcnMpIHtcbiAgcGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFyYW1ldGVycyA/IHt9IDogcGFyYW1ldGVycztcbiAgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUuY2FsbCh0aGlzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwicGVybWlzc2lvbnNcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLnBlcm1pc3Npb25zID8gbnVsbCA6IHBhcmFtZXRlcnMucGVybWlzc2lvbnMpO1xufTtcbiRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UZXN0SWFtUGVybWlzc2lvbnNSZXF1ZXN0LCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRlc3RJYW1QZXJtaXNzaW9uc1JlcXVlc3QucHJvdG90eXBlLmdldENvbnN0cnVjdG9yID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRlc3RJYW1QZXJtaXNzaW9uc1JlcXVlc3Q7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UZXN0SWFtUGVybWlzc2lvbnNSZXF1ZXN0LnByb3RvdHlwZS5nZXRQYXJ0aWFsQ2xhc3NNZXRhZGF0YSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge2tleXM6W1wicGVybWlzc2lvbnNcIl19O1xufTtcbiRqc2NvbXAuZ2xvYmFsLk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGVzdElhbVBlcm1pc3Npb25zUmVxdWVzdC5wcm90b3R5cGUsIHtwZXJtaXNzaW9uczp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJwZXJtaXNzaW9uc1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInBlcm1pc3Npb25zXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJwZXJtaXNzaW9uc1wiLCB2YWx1ZSk7XG59fX0pO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UZXN0SWFtUGVybWlzc2lvbnNSZXNwb25zZVBhcmFtZXRlcnMgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9UZXN0SWFtUGVybWlzc2lvbnNSZXNwb25zZVBhcmFtZXRlcnMoKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UZXN0SWFtUGVybWlzc2lvbnNSZXNwb25zZSA9IGZ1bmN0aW9uKHBhcmFtZXRlcnMpIHtcbiAgcGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFyYW1ldGVycyA/IHt9IDogcGFyYW1ldGVycztcbiAgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUuY2FsbCh0aGlzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwicGVybWlzc2lvbnNcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLnBlcm1pc3Npb25zID8gbnVsbCA6IHBhcmFtZXRlcnMucGVybWlzc2lvbnMpO1xufTtcbiRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UZXN0SWFtUGVybWlzc2lvbnNSZXNwb25zZSwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUpO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UZXN0SWFtUGVybWlzc2lvbnNSZXNwb25zZS5wcm90b3R5cGUuZ2V0Q29uc3RydWN0b3IgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGVzdElhbVBlcm1pc3Npb25zUmVzcG9uc2U7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UZXN0SWFtUGVybWlzc2lvbnNSZXNwb25zZS5wcm90b3R5cGUuZ2V0UGFydGlhbENsYXNzTWV0YWRhdGEgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtrZXlzOltcInBlcm1pc3Npb25zXCJdfTtcbn07XG4kanNjb21wLmdsb2JhbC5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRlc3RJYW1QZXJtaXNzaW9uc1Jlc3BvbnNlLnByb3RvdHlwZSwge3Blcm1pc3Npb25zOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcInBlcm1pc3Npb25zXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwicGVybWlzc2lvbnNcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInBlcm1pc3Npb25zXCIsIHZhbHVlKTtcbn19fSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRmUmVjb3JkSW1hZ2VFeHBvcnRPcHRpb25zUGFyYW1ldGVycyA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X1RmUmVjb3JkSW1hZ2VFeHBvcnRPcHRpb25zUGFyYW1ldGVycygpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRmUmVjb3JkSW1hZ2VFeHBvcnRPcHRpb25zID0gZnVuY3Rpb24ocGFyYW1ldGVycykge1xuICBwYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXJhbWV0ZXJzID8ge30gOiBwYXJhbWV0ZXJzO1xuICBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZS5jYWxsKHRoaXMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJ0aWxlRGltZW5zaW9uc1wiLCBudWxsID09IHBhcmFtZXRlcnMudGlsZURpbWVuc2lvbnMgPyBudWxsIDogcGFyYW1ldGVycy50aWxlRGltZW5zaW9ucyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcIm1hcmdpbkRpbWVuc2lvbnNcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLm1hcmdpbkRpbWVuc2lvbnMgPyBudWxsIDogcGFyYW1ldGVycy5tYXJnaW5EaW1lbnNpb25zKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiY29tcHJlc3NcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmNvbXByZXNzID8gbnVsbCA6IHBhcmFtZXRlcnMuY29tcHJlc3MpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJtYXhTaXplQnl0ZXNcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLm1heFNpemVCeXRlcyA/IG51bGwgOiBwYXJhbWV0ZXJzLm1heFNpemVCeXRlcyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImRlZmF1bHRWYWx1ZVwiLCBudWxsID09IHBhcmFtZXRlcnMuZGVmYXVsdFZhbHVlID8gbnVsbCA6IHBhcmFtZXRlcnMuZGVmYXVsdFZhbHVlKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwidGVuc29yRGVwdGhzXCIsIG51bGwgPT0gcGFyYW1ldGVycy50ZW5zb3JEZXB0aHMgPyBudWxsIDogcGFyYW1ldGVycy50ZW5zb3JEZXB0aHMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJzZXF1ZW5jZURhdGFcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLnNlcXVlbmNlRGF0YSA/IG51bGwgOiBwYXJhbWV0ZXJzLnNlcXVlbmNlRGF0YSk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImNvbGxhcHNlQmFuZHNcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmNvbGxhcHNlQmFuZHMgPyBudWxsIDogcGFyYW1ldGVycy5jb2xsYXBzZUJhbmRzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwibWF4TWFza2VkUmF0aW9cIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLm1heE1hc2tlZFJhdGlvID8gbnVsbCA6IHBhcmFtZXRlcnMubWF4TWFza2VkUmF0aW8pO1xufTtcbiRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UZlJlY29yZEltYWdlRXhwb3J0T3B0aW9ucywgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUpO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UZlJlY29yZEltYWdlRXhwb3J0T3B0aW9ucy5wcm90b3R5cGUuZ2V0Q29uc3RydWN0b3IgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGZSZWNvcmRJbWFnZUV4cG9ydE9wdGlvbnM7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UZlJlY29yZEltYWdlRXhwb3J0T3B0aW9ucy5wcm90b3R5cGUuZ2V0UGFydGlhbENsYXNzTWV0YWRhdGEgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtrZXlzOlwiY29sbGFwc2VCYW5kcyBjb21wcmVzcyBkZWZhdWx0VmFsdWUgbWFyZ2luRGltZW5zaW9ucyBtYXhNYXNrZWRSYXRpbyBtYXhTaXplQnl0ZXMgc2VxdWVuY2VEYXRhIHRlbnNvckRlcHRocyB0aWxlRGltZW5zaW9uc1wiLnNwbGl0KFwiIFwiKSwgb2JqZWN0TWFwczp7dGVuc29yRGVwdGhzOntjdG9yOm51bGwsIGlzUHJvcGVydHlBcnJheTohMSwgaXNTZXJpYWxpemFibGU6ITEsIGlzVmFsdWVBcnJheTohMX19LCBvYmplY3RzOnttYXJnaW5EaW1lbnNpb25zOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuR3JpZERpbWVuc2lvbnMsIHRpbGVEaW1lbnNpb25zOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuR3JpZERpbWVuc2lvbnN9fTtcbn07XG4kanNjb21wLmdsb2JhbC5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRmUmVjb3JkSW1hZ2VFeHBvcnRPcHRpb25zLnByb3RvdHlwZSwge2NvbGxhcHNlQmFuZHM6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiY29sbGFwc2VCYW5kc1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImNvbGxhcHNlQmFuZHNcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImNvbGxhcHNlQmFuZHNcIiwgdmFsdWUpO1xufX0sIGNvbXByZXNzOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImNvbXByZXNzXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiY29tcHJlc3NcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImNvbXByZXNzXCIsIHZhbHVlKTtcbn19LCBkZWZhdWx0VmFsdWU6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiZGVmYXVsdFZhbHVlXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiZGVmYXVsdFZhbHVlXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJkZWZhdWx0VmFsdWVcIiwgdmFsdWUpO1xufX0sIG1hcmdpbkRpbWVuc2lvbnM6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwibWFyZ2luRGltZW5zaW9uc1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcIm1hcmdpbkRpbWVuc2lvbnNcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcIm1hcmdpbkRpbWVuc2lvbnNcIiwgdmFsdWUpO1xufX0sIG1heE1hc2tlZFJhdGlvOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcIm1heE1hc2tlZFJhdGlvXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwibWF4TWFza2VkUmF0aW9cIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcIm1heE1hc2tlZFJhdGlvXCIsIHZhbHVlKTtcbn19LCBtYXhTaXplQnl0ZXM6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwibWF4U2l6ZUJ5dGVzXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwibWF4U2l6ZUJ5dGVzXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJtYXhTaXplQnl0ZXNcIiwgdmFsdWUpO1xufX0sIHNlcXVlbmNlRGF0YTp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJzZXF1ZW5jZURhdGFcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJzZXF1ZW5jZURhdGFcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInNlcXVlbmNlRGF0YVwiLCB2YWx1ZSk7XG59fSwgdGVuc29yRGVwdGhzOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcInRlbnNvckRlcHRoc1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInRlbnNvckRlcHRoc1wiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwidGVuc29yRGVwdGhzXCIsIHZhbHVlKTtcbn19LCB0aWxlRGltZW5zaW9uczp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJ0aWxlRGltZW5zaW9uc1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInRpbGVEaW1lbnNpb25zXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJ0aWxlRGltZW5zaW9uc1wiLCB2YWx1ZSk7XG59fX0pO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UaGlubmluZ09wdGlvbnNQYXJhbWV0ZXJzID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfVGhpbm5pbmdPcHRpb25zUGFyYW1ldGVycygpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRoaW5uaW5nT3B0aW9ucyA9IGZ1bmN0aW9uKHBhcmFtZXRlcnMpIHtcbiAgcGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFyYW1ldGVycyA/IHt9IDogcGFyYW1ldGVycztcbiAgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUuY2FsbCh0aGlzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwibWF4RmVhdHVyZXNQZXJUaWxlXCIsIG51bGwgPT0gcGFyYW1ldGVycy5tYXhGZWF0dXJlc1BlclRpbGUgPyBudWxsIDogcGFyYW1ldGVycy5tYXhGZWF0dXJlc1BlclRpbGUpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJ0aGlubmluZ1N0cmF0ZWd5XCIsIG51bGwgPT0gcGFyYW1ldGVycy50aGlubmluZ1N0cmF0ZWd5ID8gbnVsbCA6IHBhcmFtZXRlcnMudGhpbm5pbmdTdHJhdGVneSk7XG59O1xuJGpzY29tcC5pbmhlcml0cyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRoaW5uaW5nT3B0aW9ucywgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUpO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UaGlubmluZ09wdGlvbnMucHJvdG90eXBlLmdldENvbnN0cnVjdG9yID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRoaW5uaW5nT3B0aW9ucztcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRoaW5uaW5nT3B0aW9ucy5wcm90b3R5cGUuZ2V0UGFydGlhbENsYXNzTWV0YWRhdGEgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtlbnVtczp7dGhpbm5pbmdTdHJhdGVneTptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRoaW5uaW5nT3B0aW9uc1RoaW5uaW5nU3RyYXRlZ3lFbnVtfSwga2V5czpbXCJtYXhGZWF0dXJlc1BlclRpbGVcIiwgXCJ0aGlubmluZ1N0cmF0ZWd5XCJdfTtcbn07XG4kanNjb21wLmdsb2JhbC5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRoaW5uaW5nT3B0aW9ucy5wcm90b3R5cGUsIHttYXhGZWF0dXJlc1BlclRpbGU6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwibWF4RmVhdHVyZXNQZXJUaWxlXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwibWF4RmVhdHVyZXNQZXJUaWxlXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJtYXhGZWF0dXJlc1BlclRpbGVcIiwgdmFsdWUpO1xufX0sIHRoaW5uaW5nU3RyYXRlZ3k6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwidGhpbm5pbmdTdHJhdGVneVwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInRoaW5uaW5nU3RyYXRlZ3lcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInRoaW5uaW5nU3RyYXRlZ3lcIiwgdmFsdWUpO1xufX19KTtcbiRqc2NvbXAuZ2xvYmFsLk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGhpbm5pbmdPcHRpb25zLCB7VGhpbm5pbmdTdHJhdGVneTp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRoaW5uaW5nT3B0aW9uc1RoaW5uaW5nU3RyYXRlZ3lFbnVtO1xufX19KTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGh1bWJuYWlsUGFyYW1ldGVycyA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X1RodW1ibmFpbFBhcmFtZXRlcnMoKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UaHVtYm5haWwgPSBmdW5jdGlvbihwYXJhbWV0ZXJzKSB7XG4gIHBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IHBhcmFtZXRlcnMgPyB7fSA6IHBhcmFtZXRlcnM7XG4gIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlLmNhbGwodGhpcyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcIm5hbWVcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLm5hbWUgPyBudWxsIDogcGFyYW1ldGVycy5uYW1lKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZXhwcmVzc2lvblwiLCBudWxsID09IHBhcmFtZXRlcnMuZXhwcmVzc2lvbiA/IG51bGwgOiBwYXJhbWV0ZXJzLmV4cHJlc3Npb24pO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJmaWxlRm9ybWF0XCIsIG51bGwgPT0gcGFyYW1ldGVycy5maWxlRm9ybWF0ID8gbnVsbCA6IHBhcmFtZXRlcnMuZmlsZUZvcm1hdCk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImJhbmRJZHNcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmJhbmRJZHMgPyBudWxsIDogcGFyYW1ldGVycy5iYW5kSWRzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwidmlzdWFsaXphdGlvbk9wdGlvbnNcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLnZpc3VhbGl6YXRpb25PcHRpb25zID8gbnVsbCA6IHBhcmFtZXRlcnMudmlzdWFsaXphdGlvbk9wdGlvbnMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJncmlkXCIsIG51bGwgPT0gcGFyYW1ldGVycy5ncmlkID8gbnVsbCA6IHBhcmFtZXRlcnMuZ3JpZCk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImZpbGVuYW1lUHJlZml4XCIsIG51bGwgPT0gcGFyYW1ldGVycy5maWxlbmFtZVByZWZpeCA/IG51bGwgOiBwYXJhbWV0ZXJzLmZpbGVuYW1lUHJlZml4KTtcbn07XG4kanNjb21wLmluaGVyaXRzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGh1bWJuYWlsLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRodW1ibmFpbC5wcm90b3R5cGUuZ2V0Q29uc3RydWN0b3IgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGh1bWJuYWlsO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGh1bWJuYWlsLnByb3RvdHlwZS5nZXRQYXJ0aWFsQ2xhc3NNZXRhZGF0YSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge2VudW1zOntmaWxlRm9ybWF0Om1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGh1bWJuYWlsRmlsZUZvcm1hdEVudW19LCBrZXlzOlwiYmFuZElkcyBleHByZXNzaW9uIGZpbGVGb3JtYXQgZmlsZW5hbWVQcmVmaXggZ3JpZCBuYW1lIHZpc3VhbGl6YXRpb25PcHRpb25zXCIuc3BsaXQoXCIgXCIpLCBvYmplY3RzOntleHByZXNzaW9uOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRXhwcmVzc2lvbiwgZ3JpZDptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlBpeGVsR3JpZCwgdmlzdWFsaXphdGlvbk9wdGlvbnM6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5WaXN1YWxpemF0aW9uT3B0aW9uc319O1xufTtcbiRqc2NvbXAuZ2xvYmFsLk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGh1bWJuYWlsLnByb3RvdHlwZSwge2JhbmRJZHM6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiYmFuZElkc1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImJhbmRJZHNcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImJhbmRJZHNcIiwgdmFsdWUpO1xufX0sIGV4cHJlc3Npb246e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiZXhwcmVzc2lvblwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImV4cHJlc3Npb25cIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImV4cHJlc3Npb25cIiwgdmFsdWUpO1xufX0sIGZpbGVGb3JtYXQ6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiZmlsZUZvcm1hdFwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImZpbGVGb3JtYXRcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImZpbGVGb3JtYXRcIiwgdmFsdWUpO1xufX0sIGZpbGVuYW1lUHJlZml4Ontjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImZpbGVuYW1lUHJlZml4XCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiZmlsZW5hbWVQcmVmaXhcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImZpbGVuYW1lUHJlZml4XCIsIHZhbHVlKTtcbn19LCBncmlkOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImdyaWRcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJncmlkXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJncmlkXCIsIHZhbHVlKTtcbn19LCBuYW1lOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcIm5hbWVcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJuYW1lXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJuYW1lXCIsIHZhbHVlKTtcbn19LCB2aXN1YWxpemF0aW9uT3B0aW9uczp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJ2aXN1YWxpemF0aW9uT3B0aW9uc1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInZpc3VhbGl6YXRpb25PcHRpb25zXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJ2aXN1YWxpemF0aW9uT3B0aW9uc1wiLCB2YWx1ZSk7XG59fX0pO1xuJGpzY29tcC5nbG9iYWwuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UaHVtYm5haWwsIHtGaWxlRm9ybWF0Ontjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGh1bWJuYWlsRmlsZUZvcm1hdEVudW07XG59fX0pO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UaWxlTGltaXRpbmdQYXJhbWV0ZXJzID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfVGlsZUxpbWl0aW5nUGFyYW1ldGVycygpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRpbGVMaW1pdGluZyA9IGZ1bmN0aW9uKHBhcmFtZXRlcnMpIHtcbiAgcGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFyYW1ldGVycyA/IHt9IDogcGFyYW1ldGVycztcbiAgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUuY2FsbCh0aGlzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwibWF4UHJlcmVuZGVyWm9vbVwiLCBudWxsID09IHBhcmFtZXRlcnMubWF4UHJlcmVuZGVyWm9vbSA/IG51bGwgOiBwYXJhbWV0ZXJzLm1heFByZXJlbmRlclpvb20pO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJtaW5WZXJ0aWNlc1BlclRpbGVcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLm1pblZlcnRpY2VzUGVyVGlsZSA/IG51bGwgOiBwYXJhbWV0ZXJzLm1pblZlcnRpY2VzUGVyVGlsZSk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcIm5laWdoYm9yRGVwdGhcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLm5laWdoYm9yRGVwdGggPyBudWxsIDogcGFyYW1ldGVycy5uZWlnaGJvckRlcHRoKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwibWluRmVhdHVyZXNQZXJUaWxlXCIsIG51bGwgPT0gcGFyYW1ldGVycy5taW5GZWF0dXJlc1BlclRpbGUgPyBudWxsIDogcGFyYW1ldGVycy5taW5GZWF0dXJlc1BlclRpbGUpO1xufTtcbiRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UaWxlTGltaXRpbmcsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlKTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGlsZUxpbWl0aW5nLnByb3RvdHlwZS5nZXRDb25zdHJ1Y3RvciA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UaWxlTGltaXRpbmc7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UaWxlTGltaXRpbmcucHJvdG90eXBlLmdldFBhcnRpYWxDbGFzc01ldGFkYXRhID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7a2V5czpbXCJtYXhQcmVyZW5kZXJab29tXCIsIFwibWluRmVhdHVyZXNQZXJUaWxlXCIsIFwibWluVmVydGljZXNQZXJUaWxlXCIsIFwibmVpZ2hib3JEZXB0aFwiXX07XG59O1xuJGpzY29tcC5nbG9iYWwuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UaWxlTGltaXRpbmcucHJvdG90eXBlLCB7bWF4UHJlcmVuZGVyWm9vbTp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJtYXhQcmVyZW5kZXJab29tXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwibWF4UHJlcmVuZGVyWm9vbVwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwibWF4UHJlcmVuZGVyWm9vbVwiLCB2YWx1ZSk7XG59fSwgbWluRmVhdHVyZXNQZXJUaWxlOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcIm1pbkZlYXR1cmVzUGVyVGlsZVwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcIm1pbkZlYXR1cmVzUGVyVGlsZVwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwibWluRmVhdHVyZXNQZXJUaWxlXCIsIHZhbHVlKTtcbn19LCBtaW5WZXJ0aWNlc1BlclRpbGU6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwibWluVmVydGljZXNQZXJUaWxlXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwibWluVmVydGljZXNQZXJUaWxlXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJtaW5WZXJ0aWNlc1BlclRpbGVcIiwgdmFsdWUpO1xufX0sIG5laWdoYm9yRGVwdGg6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwibmVpZ2hib3JEZXB0aFwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcIm5laWdoYm9yRGVwdGhcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcIm5laWdoYm9yRGVwdGhcIiwgdmFsdWUpO1xufX19KTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGlsZU9wdGlvbnNQYXJhbWV0ZXJzID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfVGlsZU9wdGlvbnNQYXJhbWV0ZXJzKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGlsZU9wdGlvbnMgPSBmdW5jdGlvbihwYXJhbWV0ZXJzKSB7XG4gIHBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IHBhcmFtZXRlcnMgPyB7fSA6IHBhcmFtZXRlcnM7XG4gIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlLmNhbGwodGhpcyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImVuZFpvb21cIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmVuZFpvb20gPyBudWxsIDogcGFyYW1ldGVycy5lbmRab29tKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwibWF4Wm9vbVwiLCBudWxsID09IHBhcmFtZXRlcnMubWF4Wm9vbSA/IG51bGwgOiBwYXJhbWV0ZXJzLm1heFpvb20pO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJzY2FsZVwiLCBudWxsID09IHBhcmFtZXRlcnMuc2NhbGUgPyBudWxsIDogcGFyYW1ldGVycy5zY2FsZSk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInN0YXJ0Wm9vbVwiLCBudWxsID09IHBhcmFtZXRlcnMuc3RhcnRab29tID8gbnVsbCA6IHBhcmFtZXRlcnMuc3RhcnRab29tKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwibWluWm9vbVwiLCBudWxsID09IHBhcmFtZXRlcnMubWluWm9vbSA/IG51bGwgOiBwYXJhbWV0ZXJzLm1pblpvb20pO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJza2lwRW1wdHlcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLnNraXBFbXB0eSA/IG51bGwgOiBwYXJhbWV0ZXJzLnNraXBFbXB0eSk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInNraXBFbXB0eVRpbGVzXCIsIG51bGwgPT0gcGFyYW1ldGVycy5za2lwRW1wdHlUaWxlcyA/IG51bGwgOiBwYXJhbWV0ZXJzLnNraXBFbXB0eVRpbGVzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwibWFwc0FwaUtleVwiLCBudWxsID09IHBhcmFtZXRlcnMubWFwc0FwaUtleSA/IG51bGwgOiBwYXJhbWV0ZXJzLm1hcHNBcGlLZXkpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJkaW1lbnNpb25zXCIsIG51bGwgPT0gcGFyYW1ldGVycy5kaW1lbnNpb25zID8gbnVsbCA6IHBhcmFtZXRlcnMuZGltZW5zaW9ucyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInRpbGVEaW1lbnNpb25zXCIsIG51bGwgPT0gcGFyYW1ldGVycy50aWxlRGltZW5zaW9ucyA/IG51bGwgOiBwYXJhbWV0ZXJzLnRpbGVEaW1lbnNpb25zKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwic3RyaWRlXCIsIG51bGwgPT0gcGFyYW1ldGVycy5zdHJpZGUgPyBudWxsIDogcGFyYW1ldGVycy5zdHJpZGUpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJ6b29tU3Vic2V0XCIsIG51bGwgPT0gcGFyYW1ldGVycy56b29tU3Vic2V0ID8gbnVsbCA6IHBhcmFtZXRlcnMuem9vbVN1YnNldCk7XG59O1xuJGpzY29tcC5pbmhlcml0cyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRpbGVPcHRpb25zLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRpbGVPcHRpb25zLnByb3RvdHlwZS5nZXRDb25zdHJ1Y3RvciA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UaWxlT3B0aW9ucztcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRpbGVPcHRpb25zLnByb3RvdHlwZS5nZXRQYXJ0aWFsQ2xhc3NNZXRhZGF0YSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge2tleXM6XCJkaW1lbnNpb25zIGVuZFpvb20gbWFwc0FwaUtleSBtYXhab29tIG1pblpvb20gc2NhbGUgc2tpcEVtcHR5IHNraXBFbXB0eVRpbGVzIHN0YXJ0Wm9vbSBzdHJpZGUgdGlsZURpbWVuc2lvbnMgem9vbVN1YnNldFwiLnNwbGl0KFwiIFwiKSwgb2JqZWN0czp7ZGltZW5zaW9uczptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkdyaWREaW1lbnNpb25zLCB0aWxlRGltZW5zaW9uczptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkdyaWREaW1lbnNpb25zLCB6b29tU3Vic2V0Om1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuWm9vbVN1YnNldH19O1xufTtcbiRqc2NvbXAuZ2xvYmFsLk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGlsZU9wdGlvbnMucHJvdG90eXBlLCB7ZGltZW5zaW9uczp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJkaW1lbnNpb25zXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiZGltZW5zaW9uc1wiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZGltZW5zaW9uc1wiLCB2YWx1ZSk7XG59fSwgZW5kWm9vbTp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJlbmRab29tXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiZW5kWm9vbVwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZW5kWm9vbVwiLCB2YWx1ZSk7XG59fSwgbWFwc0FwaUtleTp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJtYXBzQXBpS2V5XCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwibWFwc0FwaUtleVwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwibWFwc0FwaUtleVwiLCB2YWx1ZSk7XG59fSwgbWF4Wm9vbTp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJtYXhab29tXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwibWF4Wm9vbVwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwibWF4Wm9vbVwiLCB2YWx1ZSk7XG59fSwgbWluWm9vbTp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJtaW5ab29tXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwibWluWm9vbVwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwibWluWm9vbVwiLCB2YWx1ZSk7XG59fSwgc2NhbGU6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwic2NhbGVcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJzY2FsZVwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwic2NhbGVcIiwgdmFsdWUpO1xufX0sIHNraXBFbXB0eTp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJza2lwRW1wdHlcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJza2lwRW1wdHlcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInNraXBFbXB0eVwiLCB2YWx1ZSk7XG59fSwgc2tpcEVtcHR5VGlsZXM6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwic2tpcEVtcHR5VGlsZXNcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJza2lwRW1wdHlUaWxlc1wiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwic2tpcEVtcHR5VGlsZXNcIiwgdmFsdWUpO1xufX0sIHN0YXJ0Wm9vbTp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJzdGFydFpvb21cIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJzdGFydFpvb21cIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInN0YXJ0Wm9vbVwiLCB2YWx1ZSk7XG59fSwgc3RyaWRlOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcInN0cmlkZVwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInN0cmlkZVwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwic3RyaWRlXCIsIHZhbHVlKTtcbn19LCB0aWxlRGltZW5zaW9uczp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJ0aWxlRGltZW5zaW9uc1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInRpbGVEaW1lbnNpb25zXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJ0aWxlRGltZW5zaW9uc1wiLCB2YWx1ZSk7XG59fSwgem9vbVN1YnNldDp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJ6b29tU3Vic2V0XCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiem9vbVN1YnNldFwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiem9vbVN1YnNldFwiLCB2YWx1ZSk7XG59fX0pO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UaWxlc2V0UGFyYW1ldGVycyA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X1RpbGVzZXRQYXJhbWV0ZXJzKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGlsZXNldCA9IGZ1bmN0aW9uKHBhcmFtZXRlcnMpIHtcbiAgcGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFyYW1ldGVycyA/IHt9IDogcGFyYW1ldGVycztcbiAgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUuY2FsbCh0aGlzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiaWRcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmlkID8gbnVsbCA6IHBhcmFtZXRlcnMuaWQpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJzb3VyY2VzXCIsIG51bGwgPT0gcGFyYW1ldGVycy5zb3VyY2VzID8gbnVsbCA6IHBhcmFtZXRlcnMuc291cmNlcyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImRhdGFUeXBlXCIsIG51bGwgPT0gcGFyYW1ldGVycy5kYXRhVHlwZSA/IG51bGwgOiBwYXJhbWV0ZXJzLmRhdGFUeXBlKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiY3JzXCIsIG51bGwgPT0gcGFyYW1ldGVycy5jcnMgPyBudWxsIDogcGFyYW1ldGVycy5jcnMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJzdWJkYXRhc2V0UHJlZml4XCIsIG51bGwgPT0gcGFyYW1ldGVycy5zdWJkYXRhc2V0UHJlZml4ID8gbnVsbCA6IHBhcmFtZXRlcnMuc3ViZGF0YXNldFByZWZpeCk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInN1YmRhdGFzZXRTdWZmaXhcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLnN1YmRhdGFzZXRTdWZmaXggPyBudWxsIDogcGFyYW1ldGVycy5zdWJkYXRhc2V0U3VmZml4KTtcbn07XG4kanNjb21wLmluaGVyaXRzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGlsZXNldCwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUpO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UaWxlc2V0LnByb3RvdHlwZS5nZXRDb25zdHJ1Y3RvciA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UaWxlc2V0O1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGlsZXNldC5wcm90b3R5cGUuZ2V0UGFydGlhbENsYXNzTWV0YWRhdGEgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHthcnJheXM6e3NvdXJjZXM6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JbWFnZVNvdXJjZX0sIGVudW1zOntkYXRhVHlwZTptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRpbGVzZXREYXRhVHlwZUVudW19LCBrZXlzOlwiY3JzIGRhdGFUeXBlIGlkIHNvdXJjZXMgc3ViZGF0YXNldFByZWZpeCBzdWJkYXRhc2V0U3VmZml4XCIuc3BsaXQoXCIgXCIpfTtcbn07XG4kanNjb21wLmdsb2JhbC5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRpbGVzZXQucHJvdG90eXBlLCB7Y3JzOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImNyc1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImNyc1wiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiY3JzXCIsIHZhbHVlKTtcbn19LCBkYXRhVHlwZTp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJkYXRhVHlwZVwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImRhdGFUeXBlXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJkYXRhVHlwZVwiLCB2YWx1ZSk7XG59fSwgaWQ6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiaWRcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJpZFwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiaWRcIiwgdmFsdWUpO1xufX0sIHNvdXJjZXM6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwic291cmNlc1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInNvdXJjZXNcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInNvdXJjZXNcIiwgdmFsdWUpO1xufX0sIHN1YmRhdGFzZXRQcmVmaXg6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwic3ViZGF0YXNldFByZWZpeFwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInN1YmRhdGFzZXRQcmVmaXhcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInN1YmRhdGFzZXRQcmVmaXhcIiwgdmFsdWUpO1xufX0sIHN1YmRhdGFzZXRTdWZmaXg6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwic3ViZGF0YXNldFN1ZmZpeFwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInN1YmRhdGFzZXRTdWZmaXhcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInN1YmRhdGFzZXRTdWZmaXhcIiwgdmFsdWUpO1xufX19KTtcbiRqc2NvbXAuZ2xvYmFsLk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGlsZXNldCwge0RhdGFUeXBlOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGlsZXNldERhdGFUeXBlRW51bTtcbn19fSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRpbGVzZXRCYW5kUGFyYW1ldGVycyA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X1RpbGVzZXRCYW5kUGFyYW1ldGVycygpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRpbGVzZXRCYW5kID0gZnVuY3Rpb24ocGFyYW1ldGVycykge1xuICBwYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXJhbWV0ZXJzID8ge30gOiBwYXJhbWV0ZXJzO1xuICBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZS5jYWxsKHRoaXMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJpZFwiLCBudWxsID09IHBhcmFtZXRlcnMuaWQgPyBudWxsIDogcGFyYW1ldGVycy5pZCk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInRpbGVzZXRJZFwiLCBudWxsID09IHBhcmFtZXRlcnMudGlsZXNldElkID8gbnVsbCA6IHBhcmFtZXRlcnMudGlsZXNldElkKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwidGlsZXNldEJhbmRJbmRleFwiLCBudWxsID09IHBhcmFtZXRlcnMudGlsZXNldEJhbmRJbmRleCA/IG51bGwgOiBwYXJhbWV0ZXJzLnRpbGVzZXRCYW5kSW5kZXgpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJtaXNzaW5nRGF0YVwiLCBudWxsID09IHBhcmFtZXRlcnMubWlzc2luZ0RhdGEgPyBudWxsIDogcGFyYW1ldGVycy5taXNzaW5nRGF0YSk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInB5cmFtaWRpbmdQb2xpY3lcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLnB5cmFtaWRpbmdQb2xpY3kgPyBudWxsIDogcGFyYW1ldGVycy5weXJhbWlkaW5nUG9saWN5KTtcbn07XG4kanNjb21wLmluaGVyaXRzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGlsZXNldEJhbmQsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlKTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGlsZXNldEJhbmQucHJvdG90eXBlLmdldENvbnN0cnVjdG9yID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRpbGVzZXRCYW5kO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGlsZXNldEJhbmQucHJvdG90eXBlLmdldFBhcnRpYWxDbGFzc01ldGFkYXRhID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7ZW51bXM6e3B5cmFtaWRpbmdQb2xpY3k6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UaWxlc2V0QmFuZFB5cmFtaWRpbmdQb2xpY3lFbnVtfSwga2V5czpbXCJpZFwiLCBcIm1pc3NpbmdEYXRhXCIsIFwicHlyYW1pZGluZ1BvbGljeVwiLCBcInRpbGVzZXRCYW5kSW5kZXhcIiwgXCJ0aWxlc2V0SWRcIl0sIG9iamVjdHM6e21pc3NpbmdEYXRhOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuTWlzc2luZ0RhdGF9fTtcbn07XG4kanNjb21wLmdsb2JhbC5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRpbGVzZXRCYW5kLnByb3RvdHlwZSwge2lkOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImlkXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiaWRcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImlkXCIsIHZhbHVlKTtcbn19LCBtaXNzaW5nRGF0YTp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJtaXNzaW5nRGF0YVwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcIm1pc3NpbmdEYXRhXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJtaXNzaW5nRGF0YVwiLCB2YWx1ZSk7XG59fSwgcHlyYW1pZGluZ1BvbGljeTp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJweXJhbWlkaW5nUG9saWN5XCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwicHlyYW1pZGluZ1BvbGljeVwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwicHlyYW1pZGluZ1BvbGljeVwiLCB2YWx1ZSk7XG59fSwgdGlsZXNldEJhbmRJbmRleDp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJ0aWxlc2V0QmFuZEluZGV4XCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwidGlsZXNldEJhbmRJbmRleFwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwidGlsZXNldEJhbmRJbmRleFwiLCB2YWx1ZSk7XG59fSwgdGlsZXNldElkOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcInRpbGVzZXRJZFwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInRpbGVzZXRJZFwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwidGlsZXNldElkXCIsIHZhbHVlKTtcbn19fSk7XG4kanNjb21wLmdsb2JhbC5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRpbGVzZXRCYW5kLCB7UHlyYW1pZGluZ1BvbGljeTp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRpbGVzZXRCYW5kUHlyYW1pZGluZ1BvbGljeUVudW07XG59fX0pO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UaWxlc2V0TWFza0JhbmRQYXJhbWV0ZXJzID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfVGlsZXNldE1hc2tCYW5kUGFyYW1ldGVycygpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRpbGVzZXRNYXNrQmFuZCA9IGZ1bmN0aW9uKHBhcmFtZXRlcnMpIHtcbiAgcGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFyYW1ldGVycyA/IHt9IDogcGFyYW1ldGVycztcbiAgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUuY2FsbCh0aGlzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwidGlsZXNldElkXCIsIG51bGwgPT0gcGFyYW1ldGVycy50aWxlc2V0SWQgPyBudWxsIDogcGFyYW1ldGVycy50aWxlc2V0SWQpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJiYW5kSWRzXCIsIG51bGwgPT0gcGFyYW1ldGVycy5iYW5kSWRzID8gbnVsbCA6IHBhcmFtZXRlcnMuYmFuZElkcyk7XG59O1xuJGpzY29tcC5pbmhlcml0cyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRpbGVzZXRNYXNrQmFuZCwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUpO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UaWxlc2V0TWFza0JhbmQucHJvdG90eXBlLmdldENvbnN0cnVjdG9yID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRpbGVzZXRNYXNrQmFuZDtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRpbGVzZXRNYXNrQmFuZC5wcm90b3R5cGUuZ2V0UGFydGlhbENsYXNzTWV0YWRhdGEgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtrZXlzOltcImJhbmRJZHNcIiwgXCJ0aWxlc2V0SWRcIl19O1xufTtcbiRqc2NvbXAuZ2xvYmFsLk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGlsZXNldE1hc2tCYW5kLnByb3RvdHlwZSwge2JhbmRJZHM6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiYmFuZElkc1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImJhbmRJZHNcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImJhbmRJZHNcIiwgdmFsdWUpO1xufX0sIHRpbGVzZXRJZDp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJ0aWxlc2V0SWRcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJ0aWxlc2V0SWRcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInRpbGVzZXRJZFwiLCB2YWx1ZSk7XG59fX0pO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UaWxlc3RvcmVFbnRyeVBhcmFtZXRlcnMgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9UaWxlc3RvcmVFbnRyeVBhcmFtZXRlcnMoKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UaWxlc3RvcmVFbnRyeSA9IGZ1bmN0aW9uKHBhcmFtZXRlcnMpIHtcbiAgcGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFyYW1ldGVycyA/IHt9IDogcGFyYW1ldGVycztcbiAgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUuY2FsbCh0aGlzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwic291cmNlc1wiLCBudWxsID09IHBhcmFtZXRlcnMuc291cmNlcyA/IG51bGwgOiBwYXJhbWV0ZXJzLnNvdXJjZXMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJwYXRoUHJlZml4XCIsIG51bGwgPT0gcGFyYW1ldGVycy5wYXRoUHJlZml4ID8gbnVsbCA6IHBhcmFtZXRlcnMucGF0aFByZWZpeCk7XG59O1xuJGpzY29tcC5pbmhlcml0cyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRpbGVzdG9yZUVudHJ5LCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRpbGVzdG9yZUVudHJ5LnByb3RvdHlwZS5nZXRDb25zdHJ1Y3RvciA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UaWxlc3RvcmVFbnRyeTtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRpbGVzdG9yZUVudHJ5LnByb3RvdHlwZS5nZXRQYXJ0aWFsQ2xhc3NNZXRhZGF0YSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge2FycmF5czp7c291cmNlczptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRpbGVzdG9yZVNvdXJjZX0sIGtleXM6W1wicGF0aFByZWZpeFwiLCBcInNvdXJjZXNcIl19O1xufTtcbiRqc2NvbXAuZ2xvYmFsLk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGlsZXN0b3JlRW50cnkucHJvdG90eXBlLCB7cGF0aFByZWZpeDp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJwYXRoUHJlZml4XCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwicGF0aFByZWZpeFwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwicGF0aFByZWZpeFwiLCB2YWx1ZSk7XG59fSwgc291cmNlczp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJzb3VyY2VzXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwic291cmNlc1wiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwic291cmNlc1wiLCB2YWx1ZSk7XG59fX0pO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UaWxlc3RvcmVMb2NhdGlvblBhcmFtZXRlcnMgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9UaWxlc3RvcmVMb2NhdGlvblBhcmFtZXRlcnMoKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UaWxlc3RvcmVMb2NhdGlvbiA9IGZ1bmN0aW9uKHBhcmFtZXRlcnMpIHtcbiAgcGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFyYW1ldGVycyA/IHt9IDogcGFyYW1ldGVycztcbiAgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUuY2FsbCh0aGlzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwic291cmNlc1wiLCBudWxsID09IHBhcmFtZXRlcnMuc291cmNlcyA/IG51bGwgOiBwYXJhbWV0ZXJzLnNvdXJjZXMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJwYXRoUHJlZml4XCIsIG51bGwgPT0gcGFyYW1ldGVycy5wYXRoUHJlZml4ID8gbnVsbCA6IHBhcmFtZXRlcnMucGF0aFByZWZpeCk7XG59O1xuJGpzY29tcC5pbmhlcml0cyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRpbGVzdG9yZUxvY2F0aW9uLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRpbGVzdG9yZUxvY2F0aW9uLnByb3RvdHlwZS5nZXRDb25zdHJ1Y3RvciA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UaWxlc3RvcmVMb2NhdGlvbjtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRpbGVzdG9yZUxvY2F0aW9uLnByb3RvdHlwZS5nZXRQYXJ0aWFsQ2xhc3NNZXRhZGF0YSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge2FycmF5czp7c291cmNlczptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRpbGVzdG9yZVNvdXJjZX0sIGtleXM6W1wicGF0aFByZWZpeFwiLCBcInNvdXJjZXNcIl19O1xufTtcbiRqc2NvbXAuZ2xvYmFsLk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGlsZXN0b3JlTG9jYXRpb24ucHJvdG90eXBlLCB7cGF0aFByZWZpeDp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJwYXRoUHJlZml4XCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwicGF0aFByZWZpeFwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwicGF0aFByZWZpeFwiLCB2YWx1ZSk7XG59fSwgc291cmNlczp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJzb3VyY2VzXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwic291cmNlc1wiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwic291cmNlc1wiLCB2YWx1ZSk7XG59fX0pO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UaWxlc3RvcmVTb3VyY2VQYXJhbWV0ZXJzID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfVGlsZXN0b3JlU291cmNlUGFyYW1ldGVycygpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRpbGVzdG9yZVNvdXJjZSA9IGZ1bmN0aW9uKHBhcmFtZXRlcnMpIHtcbiAgcGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFyYW1ldGVycyA/IHt9IDogcGFyYW1ldGVycztcbiAgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUuY2FsbCh0aGlzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwicGF0aFN1ZmZpeFwiLCBudWxsID09IHBhcmFtZXRlcnMucGF0aFN1ZmZpeCA/IG51bGwgOiBwYXJhbWV0ZXJzLnBhdGhTdWZmaXgpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJoZWFkZXJTaXplQnl0ZXNcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmhlYWRlclNpemVCeXRlcyA/IG51bGwgOiBwYXJhbWV0ZXJzLmhlYWRlclNpemVCeXRlcyk7XG59O1xuJGpzY29tcC5pbmhlcml0cyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRpbGVzdG9yZVNvdXJjZSwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUpO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UaWxlc3RvcmVTb3VyY2UucHJvdG90eXBlLmdldENvbnN0cnVjdG9yID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRpbGVzdG9yZVNvdXJjZTtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRpbGVzdG9yZVNvdXJjZS5wcm90b3R5cGUuZ2V0UGFydGlhbENsYXNzTWV0YWRhdGEgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtrZXlzOltcImhlYWRlclNpemVCeXRlc1wiLCBcInBhdGhTdWZmaXhcIl19O1xufTtcbiRqc2NvbXAuZ2xvYmFsLk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGlsZXN0b3JlU291cmNlLnByb3RvdHlwZSwge2hlYWRlclNpemVCeXRlczp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJoZWFkZXJTaXplQnl0ZXNcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJoZWFkZXJTaXplQnl0ZXNcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImhlYWRlclNpemVCeXRlc1wiLCB2YWx1ZSk7XG59fSwgcGF0aFN1ZmZpeDp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJwYXRoU3VmZml4XCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwicGF0aFN1ZmZpeFwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwicGF0aFN1ZmZpeFwiLCB2YWx1ZSk7XG59fX0pO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UaWxlc3RvcmVUaWxlc2V0UGFyYW1ldGVycyA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X1RpbGVzdG9yZVRpbGVzZXRQYXJhbWV0ZXJzKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGlsZXN0b3JlVGlsZXNldCA9IGZ1bmN0aW9uKHBhcmFtZXRlcnMpIHtcbiAgcGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFyYW1ldGVycyA/IHt9IDogcGFyYW1ldGVycztcbiAgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUuY2FsbCh0aGlzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZmlsZUluZGV4ZXNcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmZpbGVJbmRleGVzID8gbnVsbCA6IHBhcmFtZXRlcnMuZmlsZUluZGV4ZXMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJmaXJzdFRpbGVJbmRleFwiLCBudWxsID09IHBhcmFtZXRlcnMuZmlyc3RUaWxlSW5kZXggPyBudWxsIDogcGFyYW1ldGVycy5maXJzdFRpbGVJbmRleCk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInRpbGVzUGVyRmlsZVwiLCBudWxsID09IHBhcmFtZXRlcnMudGlsZXNQZXJGaWxlID8gbnVsbCA6IHBhcmFtZXRlcnMudGlsZXNQZXJGaWxlKTtcbn07XG4kanNjb21wLmluaGVyaXRzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGlsZXN0b3JlVGlsZXNldCwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUpO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UaWxlc3RvcmVUaWxlc2V0LnByb3RvdHlwZS5nZXRDb25zdHJ1Y3RvciA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UaWxlc3RvcmVUaWxlc2V0O1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGlsZXN0b3JlVGlsZXNldC5wcm90b3R5cGUuZ2V0UGFydGlhbENsYXNzTWV0YWRhdGEgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtrZXlzOltcImZpbGVJbmRleGVzXCIsIFwiZmlyc3RUaWxlSW5kZXhcIiwgXCJ0aWxlc1BlckZpbGVcIl19O1xufTtcbiRqc2NvbXAuZ2xvYmFsLk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGlsZXN0b3JlVGlsZXNldC5wcm90b3R5cGUsIHtmaWxlSW5kZXhlczp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJmaWxlSW5kZXhlc1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImZpbGVJbmRleGVzXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJmaWxlSW5kZXhlc1wiLCB2YWx1ZSk7XG59fSwgZmlyc3RUaWxlSW5kZXg6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiZmlyc3RUaWxlSW5kZXhcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJmaXJzdFRpbGVJbmRleFwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZmlyc3RUaWxlSW5kZXhcIiwgdmFsdWUpO1xufX0sIHRpbGVzUGVyRmlsZTp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJ0aWxlc1BlckZpbGVcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJ0aWxlc1BlckZpbGVcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInRpbGVzUGVyRmlsZVwiLCB2YWx1ZSk7XG59fX0pO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UcmlhbFN0YXR1c1BhcmFtZXRlcnMgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9UcmlhbFN0YXR1c1BhcmFtZXRlcnMoKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UcmlhbFN0YXR1cyA9IGZ1bmN0aW9uKHBhcmFtZXRlcnMpIHtcbiAgcGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFyYW1ldGVycyA/IHt9IDogcGFyYW1ldGVycztcbiAgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUuY2FsbCh0aGlzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiYmlsbGluZ0FjY291bnRcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmJpbGxpbmdBY2NvdW50ID8gbnVsbCA6IHBhcmFtZXRlcnMuYmlsbGluZ0FjY291bnQpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJlbGlnaWJpbGl0eVwiLCBudWxsID09IHBhcmFtZXRlcnMuZWxpZ2liaWxpdHkgPyBudWxsIDogcGFyYW1ldGVycy5lbGlnaWJpbGl0eSk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInN0YXRlXCIsIG51bGwgPT0gcGFyYW1ldGVycy5zdGF0ZSA/IG51bGwgOiBwYXJhbWV0ZXJzLnN0YXRlKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwic3RhcnRUaW1lXCIsIG51bGwgPT0gcGFyYW1ldGVycy5zdGFydFRpbWUgPyBudWxsIDogcGFyYW1ldGVycy5zdGFydFRpbWUpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJleHBpcnlUaW1lXCIsIG51bGwgPT0gcGFyYW1ldGVycy5leHBpcnlUaW1lID8gbnVsbCA6IHBhcmFtZXRlcnMuZXhwaXJ5VGltZSk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInN1YnNjcmlwdGlvblwiLCBudWxsID09IHBhcmFtZXRlcnMuc3Vic2NyaXB0aW9uID8gbnVsbCA6IHBhcmFtZXRlcnMuc3Vic2NyaXB0aW9uKTtcbn07XG4kanNjb21wLmluaGVyaXRzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVHJpYWxTdGF0dXMsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlKTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVHJpYWxTdGF0dXMucHJvdG90eXBlLmdldENvbnN0cnVjdG9yID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRyaWFsU3RhdHVzO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVHJpYWxTdGF0dXMucHJvdG90eXBlLmdldFBhcnRpYWxDbGFzc01ldGFkYXRhID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7ZW51bXM6e2VsaWdpYmlsaXR5Om1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVHJpYWxTdGF0dXNFbGlnaWJpbGl0eUVudW0sIHN0YXRlOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVHJpYWxTdGF0dXNTdGF0ZUVudW19LCBrZXlzOlwiYmlsbGluZ0FjY291bnQgZWxpZ2liaWxpdHkgZXhwaXJ5VGltZSBzdGFydFRpbWUgc3RhdGUgc3Vic2NyaXB0aW9uXCIuc3BsaXQoXCIgXCIpfTtcbn07XG4kanNjb21wLmdsb2JhbC5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRyaWFsU3RhdHVzLnByb3RvdHlwZSwge2JpbGxpbmdBY2NvdW50Ontjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImJpbGxpbmdBY2NvdW50XCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiYmlsbGluZ0FjY291bnRcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImJpbGxpbmdBY2NvdW50XCIsIHZhbHVlKTtcbn19LCBlbGlnaWJpbGl0eTp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJlbGlnaWJpbGl0eVwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImVsaWdpYmlsaXR5XCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJlbGlnaWJpbGl0eVwiLCB2YWx1ZSk7XG59fSwgZXhwaXJ5VGltZTp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJleHBpcnlUaW1lXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiZXhwaXJ5VGltZVwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZXhwaXJ5VGltZVwiLCB2YWx1ZSk7XG59fSwgc3RhcnRUaW1lOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcInN0YXJ0VGltZVwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInN0YXJ0VGltZVwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwic3RhcnRUaW1lXCIsIHZhbHVlKTtcbn19LCBzdGF0ZTp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJzdGF0ZVwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInN0YXRlXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJzdGF0ZVwiLCB2YWx1ZSk7XG59fSwgc3Vic2NyaXB0aW9uOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcInN1YnNjcmlwdGlvblwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInN1YnNjcmlwdGlvblwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwic3Vic2NyaXB0aW9uXCIsIHZhbHVlKTtcbn19fSk7XG4kanNjb21wLmdsb2JhbC5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRyaWFsU3RhdHVzLCB7RWxpZ2liaWxpdHk6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UcmlhbFN0YXR1c0VsaWdpYmlsaXR5RW51bTtcbn19LCBTdGF0ZTp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRyaWFsU3RhdHVzU3RhdGVFbnVtO1xufX19KTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVXBkYXRlQXNzZXRSZXF1ZXN0UGFyYW1ldGVycyA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X1VwZGF0ZUFzc2V0UmVxdWVzdFBhcmFtZXRlcnMoKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5VcGRhdGVBc3NldFJlcXVlc3QgPSBmdW5jdGlvbihwYXJhbWV0ZXJzKSB7XG4gIHBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IHBhcmFtZXRlcnMgPyB7fSA6IHBhcmFtZXRlcnM7XG4gIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlLmNhbGwodGhpcyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImFzc2V0XCIsIG51bGwgPT0gcGFyYW1ldGVycy5hc3NldCA/IG51bGwgOiBwYXJhbWV0ZXJzLmFzc2V0KTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwidXBkYXRlTWFza1wiLCBudWxsID09IHBhcmFtZXRlcnMudXBkYXRlTWFzayA/IG51bGwgOiBwYXJhbWV0ZXJzLnVwZGF0ZU1hc2spO1xufTtcbiRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5VcGRhdGVBc3NldFJlcXVlc3QsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlKTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVXBkYXRlQXNzZXRSZXF1ZXN0LnByb3RvdHlwZS5nZXRDb25zdHJ1Y3RvciA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5VcGRhdGVBc3NldFJlcXVlc3Q7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5VcGRhdGVBc3NldFJlcXVlc3QucHJvdG90eXBlLmdldFBhcnRpYWxDbGFzc01ldGFkYXRhID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7a2V5czpbXCJhc3NldFwiLCBcInVwZGF0ZU1hc2tcIl0sIG9iamVjdHM6e2Fzc2V0Om1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRWFydGhFbmdpbmVBc3NldH19O1xufTtcbiRqc2NvbXAuZ2xvYmFsLk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVXBkYXRlQXNzZXRSZXF1ZXN0LnByb3RvdHlwZSwge2Fzc2V0Ontjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImFzc2V0XCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiYXNzZXRcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImFzc2V0XCIsIHZhbHVlKTtcbn19LCB1cGRhdGVNYXNrOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcInVwZGF0ZU1hc2tcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJ1cGRhdGVNYXNrXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJ1cGRhdGVNYXNrXCIsIHZhbHVlKTtcbn19fSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlZhbHVlTm9kZVBhcmFtZXRlcnMgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9WYWx1ZU5vZGVQYXJhbWV0ZXJzKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVmFsdWVOb2RlID0gZnVuY3Rpb24ocGFyYW1ldGVycykge1xuICBwYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXJhbWV0ZXJzID8ge30gOiBwYXJhbWV0ZXJzO1xuICBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZS5jYWxsKHRoaXMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJjb25zdGFudFZhbHVlXCIsIG51bGwgPT0gcGFyYW1ldGVycy5jb25zdGFudFZhbHVlID8gbnVsbCA6IHBhcmFtZXRlcnMuY29uc3RhbnRWYWx1ZSk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImludGVnZXJWYWx1ZVwiLCBudWxsID09IHBhcmFtZXRlcnMuaW50ZWdlclZhbHVlID8gbnVsbCA6IHBhcmFtZXRlcnMuaW50ZWdlclZhbHVlKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiYnl0ZXNWYWx1ZVwiLCBudWxsID09IHBhcmFtZXRlcnMuYnl0ZXNWYWx1ZSA/IG51bGwgOiBwYXJhbWV0ZXJzLmJ5dGVzVmFsdWUpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJhcnJheVZhbHVlXCIsIG51bGwgPT0gcGFyYW1ldGVycy5hcnJheVZhbHVlID8gbnVsbCA6IHBhcmFtZXRlcnMuYXJyYXlWYWx1ZSk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImRpY3Rpb25hcnlWYWx1ZVwiLCBudWxsID09IHBhcmFtZXRlcnMuZGljdGlvbmFyeVZhbHVlID8gbnVsbCA6IHBhcmFtZXRlcnMuZGljdGlvbmFyeVZhbHVlKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZnVuY3Rpb25EZWZpbml0aW9uVmFsdWVcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmZ1bmN0aW9uRGVmaW5pdGlvblZhbHVlID8gbnVsbCA6IHBhcmFtZXRlcnMuZnVuY3Rpb25EZWZpbml0aW9uVmFsdWUpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJmdW5jdGlvbkludm9jYXRpb25WYWx1ZVwiLCBudWxsID09IHBhcmFtZXRlcnMuZnVuY3Rpb25JbnZvY2F0aW9uVmFsdWUgPyBudWxsIDogcGFyYW1ldGVycy5mdW5jdGlvbkludm9jYXRpb25WYWx1ZSk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImFyZ3VtZW50UmVmZXJlbmNlXCIsIG51bGwgPT0gcGFyYW1ldGVycy5hcmd1bWVudFJlZmVyZW5jZSA/IG51bGwgOiBwYXJhbWV0ZXJzLmFyZ3VtZW50UmVmZXJlbmNlKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwidmFsdWVSZWZlcmVuY2VcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLnZhbHVlUmVmZXJlbmNlID8gbnVsbCA6IHBhcmFtZXRlcnMudmFsdWVSZWZlcmVuY2UpO1xufTtcbiRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5WYWx1ZU5vZGUsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlKTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVmFsdWVOb2RlLnByb3RvdHlwZS5nZXRDb25zdHJ1Y3RvciA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5WYWx1ZU5vZGU7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5WYWx1ZU5vZGUucHJvdG90eXBlLmdldFBhcnRpYWxDbGFzc01ldGFkYXRhID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7a2V5czpcImFyZ3VtZW50UmVmZXJlbmNlIGFycmF5VmFsdWUgYnl0ZXNWYWx1ZSBjb25zdGFudFZhbHVlIGRpY3Rpb25hcnlWYWx1ZSBmdW5jdGlvbkRlZmluaXRpb25WYWx1ZSBmdW5jdGlvbkludm9jYXRpb25WYWx1ZSBpbnRlZ2VyVmFsdWUgdmFsdWVSZWZlcmVuY2VcIi5zcGxpdChcIiBcIiksIG9iamVjdHM6e2FycmF5VmFsdWU6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5BcnJheVZhbHVlLCBkaWN0aW9uYXJ5VmFsdWU6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5EaWN0aW9uYXJ5VmFsdWUsIGZ1bmN0aW9uRGVmaW5pdGlvblZhbHVlOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRnVuY3Rpb25EZWZpbml0aW9uLCBcbiAgZnVuY3Rpb25JbnZvY2F0aW9uVmFsdWU6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5GdW5jdGlvbkludm9jYXRpb259fTtcbn07XG4kanNjb21wLmdsb2JhbC5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlZhbHVlTm9kZS5wcm90b3R5cGUsIHthcmd1bWVudFJlZmVyZW5jZTp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJhcmd1bWVudFJlZmVyZW5jZVwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImFyZ3VtZW50UmVmZXJlbmNlXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJhcmd1bWVudFJlZmVyZW5jZVwiLCB2YWx1ZSk7XG59fSwgYXJyYXlWYWx1ZTp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJhcnJheVZhbHVlXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiYXJyYXlWYWx1ZVwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiYXJyYXlWYWx1ZVwiLCB2YWx1ZSk7XG59fSwgYnl0ZXNWYWx1ZTp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJieXRlc1ZhbHVlXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiYnl0ZXNWYWx1ZVwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiYnl0ZXNWYWx1ZVwiLCB2YWx1ZSk7XG59fSwgY29uc3RhbnRWYWx1ZTp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJjb25zdGFudFZhbHVlXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiY29uc3RhbnRWYWx1ZVwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiY29uc3RhbnRWYWx1ZVwiLCB2YWx1ZSk7XG59fSwgZGljdGlvbmFyeVZhbHVlOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImRpY3Rpb25hcnlWYWx1ZVwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImRpY3Rpb25hcnlWYWx1ZVwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZGljdGlvbmFyeVZhbHVlXCIsIHZhbHVlKTtcbn19LCBmdW5jdGlvbkRlZmluaXRpb25WYWx1ZTp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJmdW5jdGlvbkRlZmluaXRpb25WYWx1ZVwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImZ1bmN0aW9uRGVmaW5pdGlvblZhbHVlXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJmdW5jdGlvbkRlZmluaXRpb25WYWx1ZVwiLCB2YWx1ZSk7XG59fSwgZnVuY3Rpb25JbnZvY2F0aW9uVmFsdWU6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiZnVuY3Rpb25JbnZvY2F0aW9uVmFsdWVcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJmdW5jdGlvbkludm9jYXRpb25WYWx1ZVwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZnVuY3Rpb25JbnZvY2F0aW9uVmFsdWVcIiwgdmFsdWUpO1xufX0sIGludGVnZXJWYWx1ZTp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJpbnRlZ2VyVmFsdWVcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJpbnRlZ2VyVmFsdWVcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImludGVnZXJWYWx1ZVwiLCB2YWx1ZSk7XG59fSwgdmFsdWVSZWZlcmVuY2U6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwidmFsdWVSZWZlcmVuY2VcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJ2YWx1ZVJlZmVyZW5jZVwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwidmFsdWVSZWZlcmVuY2VcIiwgdmFsdWUpO1xufX19KTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVmlkZW9GaWxlRXhwb3J0T3B0aW9uc1BhcmFtZXRlcnMgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9WaWRlb0ZpbGVFeHBvcnRPcHRpb25zUGFyYW1ldGVycygpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlZpZGVvRmlsZUV4cG9ydE9wdGlvbnMgPSBmdW5jdGlvbihwYXJhbWV0ZXJzKSB7XG4gIHBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IHBhcmFtZXRlcnMgPyB7fSA6IHBhcmFtZXRlcnM7XG4gIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlLmNhbGwodGhpcyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImRyaXZlRGVzdGluYXRpb25cIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmRyaXZlRGVzdGluYXRpb24gPyBudWxsIDogcGFyYW1ldGVycy5kcml2ZURlc3RpbmF0aW9uKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiY2xvdWRTdG9yYWdlRGVzdGluYXRpb25cIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmNsb3VkU3RvcmFnZURlc3RpbmF0aW9uID8gbnVsbCA6IHBhcmFtZXRlcnMuY2xvdWRTdG9yYWdlRGVzdGluYXRpb24pO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJnY3NEZXN0aW5hdGlvblwiLCBudWxsID09IHBhcmFtZXRlcnMuZ2NzRGVzdGluYXRpb24gPyBudWxsIDogcGFyYW1ldGVycy5nY3NEZXN0aW5hdGlvbik7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImZpbGVGb3JtYXRcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmZpbGVGb3JtYXQgPyBudWxsIDogcGFyYW1ldGVycy5maWxlRm9ybWF0KTtcbn07XG4kanNjb21wLmluaGVyaXRzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVmlkZW9GaWxlRXhwb3J0T3B0aW9ucywgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUpO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5WaWRlb0ZpbGVFeHBvcnRPcHRpb25zLnByb3RvdHlwZS5nZXRDb25zdHJ1Y3RvciA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5WaWRlb0ZpbGVFeHBvcnRPcHRpb25zO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVmlkZW9GaWxlRXhwb3J0T3B0aW9ucy5wcm90b3R5cGUuZ2V0UGFydGlhbENsYXNzTWV0YWRhdGEgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtlbnVtczp7ZmlsZUZvcm1hdDptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlZpZGVvRmlsZUV4cG9ydE9wdGlvbnNGaWxlRm9ybWF0RW51bX0sIGtleXM6W1wiY2xvdWRTdG9yYWdlRGVzdGluYXRpb25cIiwgXCJkcml2ZURlc3RpbmF0aW9uXCIsIFwiZmlsZUZvcm1hdFwiLCBcImdjc0Rlc3RpbmF0aW9uXCJdLCBvYmplY3RzOntjbG91ZFN0b3JhZ2VEZXN0aW5hdGlvbjptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNsb3VkU3RvcmFnZURlc3RpbmF0aW9uLCBkcml2ZURlc3RpbmF0aW9uOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRHJpdmVEZXN0aW5hdGlvbiwgZ2NzRGVzdGluYXRpb246bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5HY3NEZXN0aW5hdGlvbn19O1xufTtcbiRqc2NvbXAuZ2xvYmFsLk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVmlkZW9GaWxlRXhwb3J0T3B0aW9ucy5wcm90b3R5cGUsIHtjbG91ZFN0b3JhZ2VEZXN0aW5hdGlvbjp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJjbG91ZFN0b3JhZ2VEZXN0aW5hdGlvblwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImNsb3VkU3RvcmFnZURlc3RpbmF0aW9uXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJjbG91ZFN0b3JhZ2VEZXN0aW5hdGlvblwiLCB2YWx1ZSk7XG59fSwgZHJpdmVEZXN0aW5hdGlvbjp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJkcml2ZURlc3RpbmF0aW9uXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiZHJpdmVEZXN0aW5hdGlvblwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZHJpdmVEZXN0aW5hdGlvblwiLCB2YWx1ZSk7XG59fSwgZmlsZUZvcm1hdDp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJmaWxlRm9ybWF0XCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiZmlsZUZvcm1hdFwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZmlsZUZvcm1hdFwiLCB2YWx1ZSk7XG59fSwgZ2NzRGVzdGluYXRpb246e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiZ2NzRGVzdGluYXRpb25cIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJnY3NEZXN0aW5hdGlvblwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZ2NzRGVzdGluYXRpb25cIiwgdmFsdWUpO1xufX19KTtcbiRqc2NvbXAuZ2xvYmFsLk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVmlkZW9GaWxlRXhwb3J0T3B0aW9ucywge0ZpbGVGb3JtYXQ6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5WaWRlb0ZpbGVFeHBvcnRPcHRpb25zRmlsZUZvcm1hdEVudW07XG59fX0pO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5WaWRlb09wdGlvbnNQYXJhbWV0ZXJzID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfVmlkZW9PcHRpb25zUGFyYW1ldGVycygpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlZpZGVvT3B0aW9ucyA9IGZ1bmN0aW9uKHBhcmFtZXRlcnMpIHtcbiAgcGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFyYW1ldGVycyA/IHt9IDogcGFyYW1ldGVycztcbiAgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUuY2FsbCh0aGlzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZnJhbWVzUGVyU2Vjb25kXCIsIG51bGwgPT0gcGFyYW1ldGVycy5mcmFtZXNQZXJTZWNvbmQgPyBudWxsIDogcGFyYW1ldGVycy5mcmFtZXNQZXJTZWNvbmQpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJtYXhGcmFtZXNcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLm1heEZyYW1lcyA/IG51bGwgOiBwYXJhbWV0ZXJzLm1heEZyYW1lcyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcIm1heFBpeGVsc1BlckZyYW1lXCIsIG51bGwgPT0gcGFyYW1ldGVycy5tYXhQaXhlbHNQZXJGcmFtZSA/IG51bGwgOiBwYXJhbWV0ZXJzLm1heFBpeGVsc1BlckZyYW1lKTtcbn07XG4kanNjb21wLmluaGVyaXRzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVmlkZW9PcHRpb25zLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlZpZGVvT3B0aW9ucy5wcm90b3R5cGUuZ2V0Q29uc3RydWN0b3IgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVmlkZW9PcHRpb25zO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVmlkZW9PcHRpb25zLnByb3RvdHlwZS5nZXRQYXJ0aWFsQ2xhc3NNZXRhZGF0YSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge2tleXM6W1wiZnJhbWVzUGVyU2Vjb25kXCIsIFwibWF4RnJhbWVzXCIsIFwibWF4UGl4ZWxzUGVyRnJhbWVcIl19O1xufTtcbiRqc2NvbXAuZ2xvYmFsLk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVmlkZW9PcHRpb25zLnByb3RvdHlwZSwge2ZyYW1lc1BlclNlY29uZDp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJmcmFtZXNQZXJTZWNvbmRcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJmcmFtZXNQZXJTZWNvbmRcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImZyYW1lc1BlclNlY29uZFwiLCB2YWx1ZSk7XG59fSwgbWF4RnJhbWVzOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcIm1heEZyYW1lc1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcIm1heEZyYW1lc1wiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwibWF4RnJhbWVzXCIsIHZhbHVlKTtcbn19LCBtYXhQaXhlbHNQZXJGcmFtZTp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJtYXhQaXhlbHNQZXJGcmFtZVwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcIm1heFBpeGVsc1BlckZyYW1lXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJtYXhQaXhlbHNQZXJGcmFtZVwiLCB2YWx1ZSk7XG59fX0pO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5WaWRlb1RodW1ibmFpbFBhcmFtZXRlcnMgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9WaWRlb1RodW1ibmFpbFBhcmFtZXRlcnMoKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5WaWRlb1RodW1ibmFpbCA9IGZ1bmN0aW9uKHBhcmFtZXRlcnMpIHtcbiAgcGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFyYW1ldGVycyA/IHt9IDogcGFyYW1ldGVycztcbiAgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUuY2FsbCh0aGlzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwibmFtZVwiLCBudWxsID09IHBhcmFtZXRlcnMubmFtZSA/IG51bGwgOiBwYXJhbWV0ZXJzLm5hbWUpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJleHByZXNzaW9uXCIsIG51bGwgPT0gcGFyYW1ldGVycy5leHByZXNzaW9uID8gbnVsbCA6IHBhcmFtZXRlcnMuZXhwcmVzc2lvbik7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInZpZGVvT3B0aW9uc1wiLCBudWxsID09IHBhcmFtZXRlcnMudmlkZW9PcHRpb25zID8gbnVsbCA6IHBhcmFtZXRlcnMudmlkZW9PcHRpb25zKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZmlsZUZvcm1hdFwiLCBudWxsID09IHBhcmFtZXRlcnMuZmlsZUZvcm1hdCA/IG51bGwgOiBwYXJhbWV0ZXJzLmZpbGVGb3JtYXQpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJncmlkXCIsIG51bGwgPT0gcGFyYW1ldGVycy5ncmlkID8gbnVsbCA6IHBhcmFtZXRlcnMuZ3JpZCk7XG59O1xuJGpzY29tcC5pbmhlcml0cyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlZpZGVvVGh1bWJuYWlsLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlZpZGVvVGh1bWJuYWlsLnByb3RvdHlwZS5nZXRDb25zdHJ1Y3RvciA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5WaWRlb1RodW1ibmFpbDtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlZpZGVvVGh1bWJuYWlsLnByb3RvdHlwZS5nZXRQYXJ0aWFsQ2xhc3NNZXRhZGF0YSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge2VudW1zOntmaWxlRm9ybWF0Om1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVmlkZW9UaHVtYm5haWxGaWxlRm9ybWF0RW51bX0sIGtleXM6W1wiZXhwcmVzc2lvblwiLCBcImZpbGVGb3JtYXRcIiwgXCJncmlkXCIsIFwibmFtZVwiLCBcInZpZGVvT3B0aW9uc1wiXSwgb2JqZWN0czp7ZXhwcmVzc2lvbjptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkV4cHJlc3Npb24sIGdyaWQ6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5QaXhlbEdyaWQsIHZpZGVvT3B0aW9uczptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlZpZGVvT3B0aW9uc319O1xufTtcbiRqc2NvbXAuZ2xvYmFsLk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVmlkZW9UaHVtYm5haWwucHJvdG90eXBlLCB7ZXhwcmVzc2lvbjp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJleHByZXNzaW9uXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiZXhwcmVzc2lvblwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZXhwcmVzc2lvblwiLCB2YWx1ZSk7XG59fSwgZmlsZUZvcm1hdDp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJmaWxlRm9ybWF0XCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiZmlsZUZvcm1hdFwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZmlsZUZvcm1hdFwiLCB2YWx1ZSk7XG59fSwgZ3JpZDp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJncmlkXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiZ3JpZFwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZ3JpZFwiLCB2YWx1ZSk7XG59fSwgbmFtZTp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJuYW1lXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwibmFtZVwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwibmFtZVwiLCB2YWx1ZSk7XG59fSwgdmlkZW9PcHRpb25zOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcInZpZGVvT3B0aW9uc1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInZpZGVvT3B0aW9uc1wiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwidmlkZW9PcHRpb25zXCIsIHZhbHVlKTtcbn19fSk7XG4kanNjb21wLmdsb2JhbC5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlZpZGVvVGh1bWJuYWlsLCB7RmlsZUZvcm1hdDp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlZpZGVvVGh1bWJuYWlsRmlsZUZvcm1hdEVudW07XG59fX0pO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5WaXN1YWxpemF0aW9uT3B0aW9uc1BhcmFtZXRlcnMgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9WaXN1YWxpemF0aW9uT3B0aW9uc1BhcmFtZXRlcnMoKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5WaXN1YWxpemF0aW9uT3B0aW9ucyA9IGZ1bmN0aW9uKHBhcmFtZXRlcnMpIHtcbiAgcGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFyYW1ldGVycyA/IHt9IDogcGFyYW1ldGVycztcbiAgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUuY2FsbCh0aGlzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwicmFuZ2VzXCIsIG51bGwgPT0gcGFyYW1ldGVycy5yYW5nZXMgPyBudWxsIDogcGFyYW1ldGVycy5yYW5nZXMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJwYWxldHRlQ29sb3JzXCIsIG51bGwgPT0gcGFyYW1ldGVycy5wYWxldHRlQ29sb3JzID8gbnVsbCA6IHBhcmFtZXRlcnMucGFsZXR0ZUNvbG9ycyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImdhbW1hXCIsIG51bGwgPT0gcGFyYW1ldGVycy5nYW1tYSA/IG51bGwgOiBwYXJhbWV0ZXJzLmdhbW1hKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwib3BhY2l0eVwiLCBudWxsID09IHBhcmFtZXRlcnMub3BhY2l0eSA/IG51bGwgOiBwYXJhbWV0ZXJzLm9wYWNpdHkpO1xufTtcbiRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5WaXN1YWxpemF0aW9uT3B0aW9ucywgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUpO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5WaXN1YWxpemF0aW9uT3B0aW9ucy5wcm90b3R5cGUuZ2V0Q29uc3RydWN0b3IgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVmlzdWFsaXphdGlvbk9wdGlvbnM7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5WaXN1YWxpemF0aW9uT3B0aW9ucy5wcm90b3R5cGUuZ2V0UGFydGlhbENsYXNzTWV0YWRhdGEgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHthcnJheXM6e3Jhbmdlczptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkRvdWJsZVJhbmdlfSwga2V5czpbXCJnYW1tYVwiLCBcIm9wYWNpdHlcIiwgXCJwYWxldHRlQ29sb3JzXCIsIFwicmFuZ2VzXCJdfTtcbn07XG4kanNjb21wLmdsb2JhbC5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlZpc3VhbGl6YXRpb25PcHRpb25zLnByb3RvdHlwZSwge2dhbW1hOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImdhbW1hXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiZ2FtbWFcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImdhbW1hXCIsIHZhbHVlKTtcbn19LCBvcGFjaXR5Ontjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcIm9wYWNpdHlcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJvcGFjaXR5XCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJvcGFjaXR5XCIsIHZhbHVlKTtcbn19LCBwYWxldHRlQ29sb3JzOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcInBhbGV0dGVDb2xvcnNcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJwYWxldHRlQ29sb3JzXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJwYWxldHRlQ29sb3JzXCIsIHZhbHVlKTtcbn19LCByYW5nZXM6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwicmFuZ2VzXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwicmFuZ2VzXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJyYW5nZXNcIiwgdmFsdWUpO1xufX19KTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuV2FpdE9wZXJhdGlvblJlcXVlc3RQYXJhbWV0ZXJzID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfV2FpdE9wZXJhdGlvblJlcXVlc3RQYXJhbWV0ZXJzKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuV2FpdE9wZXJhdGlvblJlcXVlc3QgPSBmdW5jdGlvbihwYXJhbWV0ZXJzKSB7XG4gIHBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IHBhcmFtZXRlcnMgPyB7fSA6IHBhcmFtZXRlcnM7XG4gIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlLmNhbGwodGhpcyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInRpbWVvdXRcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLnRpbWVvdXQgPyBudWxsIDogcGFyYW1ldGVycy50aW1lb3V0KTtcbn07XG4kanNjb21wLmluaGVyaXRzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuV2FpdE9wZXJhdGlvblJlcXVlc3QsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlKTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuV2FpdE9wZXJhdGlvblJlcXVlc3QucHJvdG90eXBlLmdldENvbnN0cnVjdG9yID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LldhaXRPcGVyYXRpb25SZXF1ZXN0O1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuV2FpdE9wZXJhdGlvblJlcXVlc3QucHJvdG90eXBlLmdldFBhcnRpYWxDbGFzc01ldGFkYXRhID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7a2V5czpbXCJ0aW1lb3V0XCJdfTtcbn07XG4kanNjb21wLmdsb2JhbC5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LldhaXRPcGVyYXRpb25SZXF1ZXN0LnByb3RvdHlwZSwge3RpbWVvdXQ6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwidGltZW91dFwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInRpbWVvdXRcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInRpbWVvdXRcIiwgdmFsdWUpO1xufX19KTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuWm9vbVN1YnNldFBhcmFtZXRlcnMgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9ab29tU3Vic2V0UGFyYW1ldGVycygpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50Llpvb21TdWJzZXQgPSBmdW5jdGlvbihwYXJhbWV0ZXJzKSB7XG4gIHBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IHBhcmFtZXRlcnMgPyB7fSA6IHBhcmFtZXRlcnM7XG4gIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlLmNhbGwodGhpcyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInN0YXJ0XCIsIG51bGwgPT0gcGFyYW1ldGVycy5zdGFydCA/IG51bGwgOiBwYXJhbWV0ZXJzLnN0YXJ0KTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZW5kXCIsIG51bGwgPT0gcGFyYW1ldGVycy5lbmQgPyBudWxsIDogcGFyYW1ldGVycy5lbmQpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJtaW5cIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLm1pbiA/IG51bGwgOiBwYXJhbWV0ZXJzLm1pbik7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcIm1heFwiLCBudWxsID09IHBhcmFtZXRlcnMubWF4ID8gbnVsbCA6IHBhcmFtZXRlcnMubWF4KTtcbn07XG4kanNjb21wLmluaGVyaXRzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuWm9vbVN1YnNldCwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUpO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5ab29tU3Vic2V0LnByb3RvdHlwZS5nZXRDb25zdHJ1Y3RvciA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5ab29tU3Vic2V0O1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuWm9vbVN1YnNldC5wcm90b3R5cGUuZ2V0UGFydGlhbENsYXNzTWV0YWRhdGEgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtrZXlzOltcImVuZFwiLCBcIm1heFwiLCBcIm1pblwiLCBcInN0YXJ0XCJdfTtcbn07XG4kanNjb21wLmdsb2JhbC5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50Llpvb21TdWJzZXQucHJvdG90eXBlLCB7ZW5kOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImVuZFwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImVuZFwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZW5kXCIsIHZhbHVlKTtcbn19LCBtYXg6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwibWF4XCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwibWF4XCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJtYXhcIiwgdmFsdWUpO1xufX0sIG1pbjp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJtaW5cIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJtaW5cIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcIm1pblwiLCB2YWx1ZSk7XG59fSwgc3RhcnQ6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwic3RhcnRcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJzdGFydFwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwic3RhcnRcIiwgdmFsdWUpO1xufX19KTtcbnZhciBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9QQVJBTV9NQVBfMCA9IHskWGdhZnY6XCIkLnhnYWZ2XCIsIGFjY2Vzc190b2tlbjpcImFjY2Vzc190b2tlblwiLCBhbHQ6XCJhbHRcIiwgYXNzZXRJZDpcImFzc2V0SWRcIiwgYmlsbGluZ0FjY291bnQ6XCJiaWxsaW5nQWNjb3VudFwiLCBjYWxsYmFjazpcImNhbGxiYWNrXCIsIGVuZFRpbWU6XCJlbmRUaW1lXCIsIGZpZWxkczpcImZpZWxkc1wiLCBmaWx0ZXI6XCJmaWx0ZXJcIiwga2V5Olwia2V5XCIsIG9hdXRoX3Rva2VuOlwib2F1dGhfdG9rZW5cIiwgb3ZlcndyaXRlOlwib3ZlcndyaXRlXCIsIHBhZ2VTaXplOlwicGFnZVNpemVcIiwgcGFnZVRva2VuOlwicGFnZVRva2VuXCIsIHBhcmVudDpcInBhcmVudFwiLCBwcmV0dHlQcmludDpcInByZXR0eVByaW50XCIsIHF1b3RhVXNlcjpcInF1b3RhVXNlclwiLCByZWdpb246XCJyZWdpb25cIiwgc3RhcnRUaW1lOlwic3RhcnRUaW1lXCIsIHVwZGF0ZU1hc2s6XCJ1cGRhdGVNYXNrXCIsIFxudXBsb2FkVHlwZTpcInVwbG9hZFR5cGVcIiwgdXBsb2FkX3Byb3RvY29sOlwidXBsb2FkX3Byb3RvY29sXCIsIHZpZXc6XCJ2aWV3XCIsIHdvcmtsb2FkVGFnOlwid29ya2xvYWRUYWdcIn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LklCaWxsaW5nQWNjb3VudHNTdWJzY3JpcHRpb25zQXBpQ2xpZW50JFhnYWZ2RW51bSA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0lCaWxsaW5nQWNjb3VudHNTdWJzY3JpcHRpb25zQXBpQ2xpZW50JFhnYWZ2RW51bSgpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkJpbGxpbmdBY2NvdW50c1N1YnNjcmlwdGlvbnNBcGlDbGllbnQkWGdhZnZFbnVtID0gezE6XCIxXCIsIDI6XCIyXCIsIHZhbHVlczpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIFttb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkJpbGxpbmdBY2NvdW50c1N1YnNjcmlwdGlvbnNBcGlDbGllbnQkWGdhZnZFbnVtWzFdLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkJpbGxpbmdBY2NvdW50c1N1YnNjcmlwdGlvbnNBcGlDbGllbnQkWGdhZnZFbnVtWzJdXTtcbn19O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JQmlsbGluZ0FjY291bnRzU3Vic2NyaXB0aW9uc0FwaUNsaWVudEFsdEVudW0gPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9JQmlsbGluZ0FjY291bnRzU3Vic2NyaXB0aW9uc0FwaUNsaWVudEFsdEVudW0oKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5CaWxsaW5nQWNjb3VudHNTdWJzY3JpcHRpb25zQXBpQ2xpZW50QWx0RW51bSA9IHtKU09OOlwianNvblwiLCBNRURJQTpcIm1lZGlhXCIsIFBST1RPOlwicHJvdG9cIiwgdmFsdWVzOmZ1bmN0aW9uKCkge1xuICByZXR1cm4gW21vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQmlsbGluZ0FjY291bnRzU3Vic2NyaXB0aW9uc0FwaUNsaWVudEFsdEVudW0uSlNPTiwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5CaWxsaW5nQWNjb3VudHNTdWJzY3JpcHRpb25zQXBpQ2xpZW50QWx0RW51bS5NRURJQSwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5CaWxsaW5nQWNjb3VudHNTdWJzY3JpcHRpb25zQXBpQ2xpZW50QWx0RW51bS5QUk9UT107XG59fTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQmlsbGluZ0FjY291bnRzU3Vic2NyaXB0aW9uc0FwaUNsaWVudEltcGwgPSBmdW5jdGlvbihnYXBpVmVyc2lvbiwgZ2FwaVJlcXVlc3RTZXJ2aWNlLCBhcGlDbGllbnRIb29rRmFjdG9yeSkge1xuICB0aGlzLmdhcGlWZXJzaW9uID0gZ2FwaVZlcnNpb247XG4gIHRoaXMuJGFwaUNsaWVudCA9IG5ldyBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRwcm9taXNlX2FwaV9jbGllbnQuUHJvbWlzZUFwaUNsaWVudChnYXBpUmVxdWVzdFNlcnZpY2UsIHZvaWQgMCA9PT0gYXBpQ2xpZW50SG9va0ZhY3RvcnkgPyBudWxsIDogYXBpQ2xpZW50SG9va0ZhY3RvcnkpO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQmlsbGluZ0FjY291bnRzU3Vic2NyaXB0aW9uc0FwaUNsaWVudEltcGwucHJvdG90eXBlLmNoYW5nZVR5cGUgPSBmdW5jdGlvbihuYW1lLCAkcmVxdWVzdEJvZHksIG5hbWVkUGFyYW1ldGVycywgcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMpIHtcbiAgbmFtZWRQYXJhbWV0ZXJzID0gdm9pZCAwID09PSBuYW1lZFBhcmFtZXRlcnMgPyB7fSA6IG5hbWVkUGFyYW1ldGVycztcbiAgcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzID8ge30gOiBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycztcbiAgdGhpcy4kYXBpQ2xpZW50LiR2YWxpZGF0ZVBhcmFtZXRlcihuYW1lLCBSZWdFeHAoXCJeYmlsbGluZ0FjY291bnRzL1teL10rL3N1YnNjcmlwdGlvbnMvW14vXSskXCIpKTtcbiAgcmV0dXJuIHRoaXMuJGFwaUNsaWVudC4kcmVxdWVzdCh7Ym9keTokcmVxdWVzdEJvZHksIGh0dHBNZXRob2Q6XCJQT1NUXCIsIG1ldGhvZElkOlwiZWFydGhlbmdpbmUuYmlsbGluZ0FjY291bnRzLnN1YnNjcmlwdGlvbnMuY2hhbmdlVHlwZVwiLCBwYXRoOlwiL1wiICsgdGhpcy5nYXBpVmVyc2lvbiArIFwiL1wiICsgbmFtZSArIFwiOmNoYW5nZVR5cGVcIiwgcXVlcnlQYXJhbXM6bW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JHJlcXVlc3RfcGFyYW1zX2J1aWxkUXVlcnlQYXJhbXMobmFtZWRQYXJhbWV0ZXJzLCBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9QQVJBTV9NQVBfMCwgcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMpLCByZXNwb25zZUN0b3I6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5TdWJzY3JpcHRpb259KTtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkJpbGxpbmdBY2NvdW50c1N1YnNjcmlwdGlvbnNBcGlDbGllbnRJbXBsLnByb3RvdHlwZS5jcmVhdGUgPSBmdW5jdGlvbihwYXJlbnQsICRyZXF1ZXN0Qm9keSwgbmFtZWRQYXJhbWV0ZXJzLCBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycykge1xuICBuYW1lZFBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IG5hbWVkUGFyYW1ldGVycyA/IHt9IDogbmFtZWRQYXJhbWV0ZXJzO1xuICBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMgPyB7fSA6IHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzO1xuICB0aGlzLiRhcGlDbGllbnQuJHZhbGlkYXRlUGFyYW1ldGVyKHBhcmVudCwgUmVnRXhwKFwiXmJpbGxpbmdBY2NvdW50cy9bXi9dKyRcIikpO1xuICByZXR1cm4gdGhpcy4kYXBpQ2xpZW50LiRyZXF1ZXN0KHtib2R5OiRyZXF1ZXN0Qm9keSwgaHR0cE1ldGhvZDpcIlBPU1RcIiwgbWV0aG9kSWQ6XCJlYXJ0aGVuZ2luZS5iaWxsaW5nQWNjb3VudHMuc3Vic2NyaXB0aW9ucy5jcmVhdGVcIiwgcGF0aDpcIi9cIiArIHRoaXMuZ2FwaVZlcnNpb24gKyBcIi9cIiArIHBhcmVudCArIFwiL3N1YnNjcmlwdGlvbnNcIiwgcXVlcnlQYXJhbXM6bW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JHJlcXVlc3RfcGFyYW1zX2J1aWxkUXVlcnlQYXJhbXMobmFtZWRQYXJhbWV0ZXJzLCBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9QQVJBTV9NQVBfMCwgcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMpLCByZXNwb25zZUN0b3I6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5TdWJzY3JpcHRpb259KTtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkJpbGxpbmdBY2NvdW50c1N1YnNjcmlwdGlvbnNBcGlDbGllbnRJbXBsLnByb3RvdHlwZS5saXN0ID0gZnVuY3Rpb24ocGFyZW50LCBuYW1lZFBhcmFtZXRlcnMsIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzKSB7XG4gIG5hbWVkUGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gbmFtZWRQYXJhbWV0ZXJzID8ge30gOiBuYW1lZFBhcmFtZXRlcnM7XG4gIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycyA/IHt9IDogcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnM7XG4gIHRoaXMuJGFwaUNsaWVudC4kdmFsaWRhdGVQYXJhbWV0ZXIocGFyZW50LCBSZWdFeHAoXCJeYmlsbGluZ0FjY291bnRzL1teL10rJFwiKSk7XG4gIHJldHVybiB0aGlzLiRhcGlDbGllbnQuJHJlcXVlc3Qoe2JvZHk6bnVsbCwgaHR0cE1ldGhvZDpcIkdFVFwiLCBtZXRob2RJZDpcImVhcnRoZW5naW5lLmJpbGxpbmdBY2NvdW50cy5zdWJzY3JpcHRpb25zLmxpc3RcIiwgcGF0aDpcIi9cIiArIHRoaXMuZ2FwaVZlcnNpb24gKyBcIi9cIiArIHBhcmVudCArIFwiL3N1YnNjcmlwdGlvbnNcIiwgcXVlcnlQYXJhbXM6bW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JHJlcXVlc3RfcGFyYW1zX2J1aWxkUXVlcnlQYXJhbXMobmFtZWRQYXJhbWV0ZXJzLCBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9QQVJBTV9NQVBfMCwgcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMpLCByZXNwb25zZUN0b3I6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5MaXN0U3Vic2NyaXB0aW9uc1Jlc3BvbnNlfSk7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5CaWxsaW5nQWNjb3VudHNTdWJzY3JpcHRpb25zQXBpQ2xpZW50SW1wbC5wcm90b3R5cGUudGVybWluYXRlID0gZnVuY3Rpb24obmFtZSwgJHJlcXVlc3RCb2R5LCBuYW1lZFBhcmFtZXRlcnMsIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzKSB7XG4gIG5hbWVkUGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gbmFtZWRQYXJhbWV0ZXJzID8ge30gOiBuYW1lZFBhcmFtZXRlcnM7XG4gIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycyA/IHt9IDogcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnM7XG4gIHRoaXMuJGFwaUNsaWVudC4kdmFsaWRhdGVQYXJhbWV0ZXIobmFtZSwgUmVnRXhwKFwiXmJpbGxpbmdBY2NvdW50cy9bXi9dKy9zdWJzY3JpcHRpb25zL1teL10rJFwiKSk7XG4gIHJldHVybiB0aGlzLiRhcGlDbGllbnQuJHJlcXVlc3Qoe2JvZHk6JHJlcXVlc3RCb2R5LCBodHRwTWV0aG9kOlwiUE9TVFwiLCBtZXRob2RJZDpcImVhcnRoZW5naW5lLmJpbGxpbmdBY2NvdW50cy5zdWJzY3JpcHRpb25zLnRlcm1pbmF0ZVwiLCBwYXRoOlwiL1wiICsgdGhpcy5nYXBpVmVyc2lvbiArIFwiL1wiICsgbmFtZSArIFwiOnRlcm1pbmF0ZVwiLCBxdWVyeVBhcmFtczptb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkcmVxdWVzdF9wYXJhbXNfYnVpbGRRdWVyeVBhcmFtcyhuYW1lZFBhcmFtZXRlcnMsIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X1BBUkFNX01BUF8wLCBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycyksIHJlc3BvbnNlQ3Rvcjptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlN1YnNjcmlwdGlvbn0pO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQmlsbGluZ0FjY291bnRzU3Vic2NyaXB0aW9uc0FwaUNsaWVudCA9IGZ1bmN0aW9uKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSUNhcGFiaWxpdGllc0FwaUNsaWVudCRYZ2FmdkVudW0gPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9JQ2FwYWJpbGl0aWVzQXBpQ2xpZW50JFhnYWZ2RW51bSgpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNhcGFiaWxpdGllc0FwaUNsaWVudCRYZ2FmdkVudW0gPSB7MTpcIjFcIiwgMjpcIjJcIiwgdmFsdWVzOmZ1bmN0aW9uKCkge1xuICByZXR1cm4gW21vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ2FwYWJpbGl0aWVzQXBpQ2xpZW50JFhnYWZ2RW51bVsxXSwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5DYXBhYmlsaXRpZXNBcGlDbGllbnQkWGdhZnZFbnVtWzJdXTtcbn19O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JQ2FwYWJpbGl0aWVzQXBpQ2xpZW50QWx0RW51bSA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0lDYXBhYmlsaXRpZXNBcGlDbGllbnRBbHRFbnVtKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ2FwYWJpbGl0aWVzQXBpQ2xpZW50QWx0RW51bSA9IHtKU09OOlwianNvblwiLCBNRURJQTpcIm1lZGlhXCIsIFBST1RPOlwicHJvdG9cIiwgdmFsdWVzOmZ1bmN0aW9uKCkge1xuICByZXR1cm4gW21vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ2FwYWJpbGl0aWVzQXBpQ2xpZW50QWx0RW51bS5KU09OLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNhcGFiaWxpdGllc0FwaUNsaWVudEFsdEVudW0uTUVESUEsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ2FwYWJpbGl0aWVzQXBpQ2xpZW50QWx0RW51bS5QUk9UT107XG59fTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ2FwYWJpbGl0aWVzQXBpQ2xpZW50SW1wbCA9IGZ1bmN0aW9uKGdhcGlWZXJzaW9uLCBnYXBpUmVxdWVzdFNlcnZpY2UsIGFwaUNsaWVudEhvb2tGYWN0b3J5KSB7XG4gIHRoaXMuZ2FwaVZlcnNpb24gPSBnYXBpVmVyc2lvbjtcbiAgdGhpcy4kYXBpQ2xpZW50ID0gbmV3IG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JHByb21pc2VfYXBpX2NsaWVudC5Qcm9taXNlQXBpQ2xpZW50KGdhcGlSZXF1ZXN0U2VydmljZSwgdm9pZCAwID09PSBhcGlDbGllbnRIb29rRmFjdG9yeSA/IG51bGwgOiBhcGlDbGllbnRIb29rRmFjdG9yeSk7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5DYXBhYmlsaXRpZXNBcGlDbGllbnRJbXBsLnByb3RvdHlwZS5hcHBlYWxSZXN0cmljdGlvbiA9IGZ1bmN0aW9uKCRyZXF1ZXN0Qm9keSwgbmFtZWRQYXJhbWV0ZXJzLCBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycykge1xuICBuYW1lZFBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IG5hbWVkUGFyYW1ldGVycyA/IHt9IDogbmFtZWRQYXJhbWV0ZXJzO1xuICBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMgPyB7fSA6IHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzO1xuICByZXR1cm4gdGhpcy4kYXBpQ2xpZW50LiRyZXF1ZXN0KHtib2R5OiRyZXF1ZXN0Qm9keSwgaHR0cE1ldGhvZDpcIlBPU1RcIiwgbWV0aG9kSWQ6XCJlYXJ0aGVuZ2luZS5jYXBhYmlsaXRpZXMuYXBwZWFsUmVzdHJpY3Rpb25cIiwgcGF0aDpcIi9cIiArIHRoaXMuZ2FwaVZlcnNpb24gKyBcIi9jYXBhYmlsaXRpZXM6YXBwZWFsUmVzdHJpY3Rpb25cIiwgcXVlcnlQYXJhbXM6bW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JHJlcXVlc3RfcGFyYW1zX2J1aWxkUXVlcnlQYXJhbXMobmFtZWRQYXJhbWV0ZXJzLCBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9QQVJBTV9NQVBfMCwgcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMpLCByZXNwb25zZUN0b3I6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5FbXB0eX0pO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ2FwYWJpbGl0aWVzQXBpQ2xpZW50ID0gZnVuY3Rpb24oKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JUHJvamVjdHNBbGdvcml0aG1zQXBpQ2xpZW50JFhnYWZ2RW51bSA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0lQcm9qZWN0c0FsZ29yaXRobXNBcGlDbGllbnQkWGdhZnZFbnVtKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNBbGdvcml0aG1zQXBpQ2xpZW50JFhnYWZ2RW51bSA9IHsxOlwiMVwiLCAyOlwiMlwiLCB2YWx1ZXM6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiBbbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0FsZ29yaXRobXNBcGlDbGllbnQkWGdhZnZFbnVtWzFdLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzQWxnb3JpdGhtc0FwaUNsaWVudCRYZ2FmdkVudW1bMl1dO1xufX07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LklQcm9qZWN0c0FsZ29yaXRobXNBcGlDbGllbnRBbHRFbnVtID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfSVByb2plY3RzQWxnb3JpdGhtc0FwaUNsaWVudEFsdEVudW0oKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0FsZ29yaXRobXNBcGlDbGllbnRBbHRFbnVtID0ge0pTT046XCJqc29uXCIsIE1FRElBOlwibWVkaWFcIiwgUFJPVE86XCJwcm90b1wiLCB2YWx1ZXM6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiBbbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0FsZ29yaXRobXNBcGlDbGllbnRBbHRFbnVtLkpTT04sIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNBbGdvcml0aG1zQXBpQ2xpZW50QWx0RW51bS5NRURJQSwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0FsZ29yaXRobXNBcGlDbGllbnRBbHRFbnVtLlBST1RPXTtcbn19O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0FsZ29yaXRobXNBcGlDbGllbnRJbXBsID0gZnVuY3Rpb24oZ2FwaVZlcnNpb24sIGdhcGlSZXF1ZXN0U2VydmljZSwgYXBpQ2xpZW50SG9va0ZhY3RvcnkpIHtcbiAgdGhpcy5nYXBpVmVyc2lvbiA9IGdhcGlWZXJzaW9uO1xuICB0aGlzLiRhcGlDbGllbnQgPSBuZXcgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkcHJvbWlzZV9hcGlfY2xpZW50LlByb21pc2VBcGlDbGllbnQoZ2FwaVJlcXVlc3RTZXJ2aWNlLCB2b2lkIDAgPT09IGFwaUNsaWVudEhvb2tGYWN0b3J5ID8gbnVsbCA6IGFwaUNsaWVudEhvb2tGYWN0b3J5KTtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzQWxnb3JpdGhtc0FwaUNsaWVudEltcGwucHJvdG90eXBlLmxpc3QgPSBmdW5jdGlvbihwYXJlbnQsIG5hbWVkUGFyYW1ldGVycywgcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMpIHtcbiAgbmFtZWRQYXJhbWV0ZXJzID0gdm9pZCAwID09PSBuYW1lZFBhcmFtZXRlcnMgPyB7fSA6IG5hbWVkUGFyYW1ldGVycztcbiAgcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzID8ge30gOiBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycztcbiAgdGhpcy4kYXBpQ2xpZW50LiR2YWxpZGF0ZVBhcmFtZXRlcihwYXJlbnQsIFJlZ0V4cChcIl5wcm9qZWN0cy9bXi9dKyRcIikpO1xuICByZXR1cm4gdGhpcy4kYXBpQ2xpZW50LiRyZXF1ZXN0KHtib2R5Om51bGwsIGh0dHBNZXRob2Q6XCJHRVRcIiwgbWV0aG9kSWQ6XCJlYXJ0aGVuZ2luZS5wcm9qZWN0cy5hbGdvcml0aG1zLmxpc3RcIiwgcGF0aDpcIi9cIiArIHRoaXMuZ2FwaVZlcnNpb24gKyBcIi9cIiArIHBhcmVudCArIFwiL2FsZ29yaXRobXNcIiwgcXVlcnlQYXJhbXM6bW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JHJlcXVlc3RfcGFyYW1zX2J1aWxkUXVlcnlQYXJhbXMobmFtZWRQYXJhbWV0ZXJzLCBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9QQVJBTV9NQVBfMCwgcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMpLCByZXNwb25zZUN0b3I6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5MaXN0QWxnb3JpdGhtc1Jlc3BvbnNlfSk7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0FsZ29yaXRobXNBcGlDbGllbnQgPSBmdW5jdGlvbigpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LklQcm9qZWN0c0FwaUNsaWVudCRYZ2FmdkVudW0gPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9JUHJvamVjdHNBcGlDbGllbnQkWGdhZnZFbnVtKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNBcGlDbGllbnQkWGdhZnZFbnVtID0gezE6XCIxXCIsIDI6XCIyXCIsIHZhbHVlczpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIFttb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzQXBpQ2xpZW50JFhnYWZ2RW51bVsxXSwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0FwaUNsaWVudCRYZ2FmdkVudW1bMl1dO1xufX07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LklQcm9qZWN0c0FwaUNsaWVudEFsdEVudW0gPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9JUHJvamVjdHNBcGlDbGllbnRBbHRFbnVtKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNBcGlDbGllbnRBbHRFbnVtID0ge0pTT046XCJqc29uXCIsIE1FRElBOlwibWVkaWFcIiwgUFJPVE86XCJwcm90b1wiLCB2YWx1ZXM6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiBbbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0FwaUNsaWVudEFsdEVudW0uSlNPTiwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0FwaUNsaWVudEFsdEVudW0uTUVESUEsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNBcGlDbGllbnRBbHRFbnVtLlBST1RPXTtcbn19O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JUHJvamVjdHNBcGlDbGllbnRWaWV3RW51bSA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0lQcm9qZWN0c0FwaUNsaWVudFZpZXdFbnVtKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNBcGlDbGllbnRWaWV3RW51bSA9IHtCQVNJQzpcIkJBU0lDXCIsIEVBUlRIX0VOR0lORV9BU1NFVF9WSUVXX1VOU1BFQ0lGSUVEOlwiRUFSVEhfRU5HSU5FX0FTU0VUX1ZJRVdfVU5TUEVDSUZJRURcIiwgRlVMTDpcIkZVTExcIiwgdmFsdWVzOmZ1bmN0aW9uKCkge1xuICByZXR1cm4gW21vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNBcGlDbGllbnRWaWV3RW51bS5FQVJUSF9FTkdJTkVfQVNTRVRfVklFV19VTlNQRUNJRklFRCwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0FwaUNsaWVudFZpZXdFbnVtLkZVTEwsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNBcGlDbGllbnRWaWV3RW51bS5CQVNJQ107XG59fTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNBcGlDbGllbnRJbXBsID0gZnVuY3Rpb24oZ2FwaVZlcnNpb24sIGdhcGlSZXF1ZXN0U2VydmljZSwgYXBpQ2xpZW50SG9va0ZhY3RvcnkpIHtcbiAgdGhpcy5nYXBpVmVyc2lvbiA9IGdhcGlWZXJzaW9uO1xuICB0aGlzLiRhcGlDbGllbnQgPSBuZXcgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkcHJvbWlzZV9hcGlfY2xpZW50LlByb21pc2VBcGlDbGllbnQoZ2FwaVJlcXVlc3RTZXJ2aWNlLCB2b2lkIDAgPT09IGFwaUNsaWVudEhvb2tGYWN0b3J5ID8gbnVsbCA6IGFwaUNsaWVudEhvb2tGYWN0b3J5KTtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzQXBpQ2xpZW50SW1wbC5wcm90b3R5cGUuZ2V0Q2FwYWJpbGl0aWVzID0gZnVuY3Rpb24ocGFyZW50LCBuYW1lZFBhcmFtZXRlcnMsIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzKSB7XG4gIG5hbWVkUGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gbmFtZWRQYXJhbWV0ZXJzID8ge30gOiBuYW1lZFBhcmFtZXRlcnM7XG4gIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycyA/IHt9IDogcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnM7XG4gIHRoaXMuJGFwaUNsaWVudC4kdmFsaWRhdGVQYXJhbWV0ZXIocGFyZW50LCBSZWdFeHAoXCJecHJvamVjdHMvW14vXSskXCIpKTtcbiAgcmV0dXJuIHRoaXMuJGFwaUNsaWVudC4kcmVxdWVzdCh7Ym9keTpudWxsLCBodHRwTWV0aG9kOlwiR0VUXCIsIG1ldGhvZElkOlwiZWFydGhlbmdpbmUucHJvamVjdHMuZ2V0Q2FwYWJpbGl0aWVzXCIsIHBhdGg6XCIvXCIgKyB0aGlzLmdhcGlWZXJzaW9uICsgXCIvXCIgKyBwYXJlbnQgKyBcIi9jYXBhYmlsaXRpZXNcIiwgcXVlcnlQYXJhbXM6bW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JHJlcXVlc3RfcGFyYW1zX2J1aWxkUXVlcnlQYXJhbXMobmFtZWRQYXJhbWV0ZXJzLCBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9QQVJBTV9NQVBfMCwgcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMpLCByZXNwb25zZUN0b3I6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5DYXBhYmlsaXRpZXN9KTtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzQXBpQ2xpZW50SW1wbC5wcm90b3R5cGUuZ2V0Q29uZmlnID0gZnVuY3Rpb24obmFtZSwgbmFtZWRQYXJhbWV0ZXJzLCBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycykge1xuICBuYW1lZFBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IG5hbWVkUGFyYW1ldGVycyA/IHt9IDogbmFtZWRQYXJhbWV0ZXJzO1xuICBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMgPyB7fSA6IHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzO1xuICB0aGlzLiRhcGlDbGllbnQuJHZhbGlkYXRlUGFyYW1ldGVyKG5hbWUsIFJlZ0V4cChcIl5wcm9qZWN0cy9bXi9dKy9jb25maWckXCIpKTtcbiAgcmV0dXJuIHRoaXMuJGFwaUNsaWVudC4kcmVxdWVzdCh7Ym9keTpudWxsLCBodHRwTWV0aG9kOlwiR0VUXCIsIG1ldGhvZElkOlwiZWFydGhlbmdpbmUucHJvamVjdHMuZ2V0Q29uZmlnXCIsIHBhdGg6XCIvXCIgKyB0aGlzLmdhcGlWZXJzaW9uICsgXCIvXCIgKyBuYW1lLCBxdWVyeVBhcmFtczptb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkcmVxdWVzdF9wYXJhbXNfYnVpbGRRdWVyeVBhcmFtcyhuYW1lZFBhcmFtZXRlcnMsIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X1BBUkFNX01BUF8wLCBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycyksIHJlc3BvbnNlQ3Rvcjptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RDb25maWd9KTtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzQXBpQ2xpZW50SW1wbC5wcm90b3R5cGUubGlzdEFzc2V0cyA9IGZ1bmN0aW9uKHBhcmVudCwgbmFtZWRQYXJhbWV0ZXJzLCBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycykge1xuICBuYW1lZFBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IG5hbWVkUGFyYW1ldGVycyA/IHt9IDogbmFtZWRQYXJhbWV0ZXJzO1xuICBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMgPyB7fSA6IHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzO1xuICB0aGlzLiRhcGlDbGllbnQuJHZhbGlkYXRlUGFyYW1ldGVyKHBhcmVudCwgUmVnRXhwKFwiXnByb2plY3RzL1teL10rJFwiKSk7XG4gIHJldHVybiB0aGlzLiRhcGlDbGllbnQuJHJlcXVlc3Qoe2JvZHk6bnVsbCwgaHR0cE1ldGhvZDpcIkdFVFwiLCBtZXRob2RJZDpcImVhcnRoZW5naW5lLnByb2plY3RzLmxpc3RBc3NldHNcIiwgcGF0aDpcIi9cIiArIHRoaXMuZ2FwaVZlcnNpb24gKyBcIi9cIiArIHBhcmVudCArIFwiOmxpc3RBc3NldHNcIiwgcXVlcnlQYXJhbXM6bW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JHJlcXVlc3RfcGFyYW1zX2J1aWxkUXVlcnlQYXJhbXMobmFtZWRQYXJhbWV0ZXJzLCBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9QQVJBTV9NQVBfMCwgcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMpLCByZXNwb25zZUN0b3I6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5MaXN0QXNzZXRzUmVzcG9uc2V9KTtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzQXBpQ2xpZW50SW1wbC5wcm90b3R5cGUudXBkYXRlQ29uZmlnID0gZnVuY3Rpb24obmFtZSwgJHJlcXVlc3RCb2R5LCBuYW1lZFBhcmFtZXRlcnMsIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzKSB7XG4gIG5hbWVkUGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gbmFtZWRQYXJhbWV0ZXJzID8ge30gOiBuYW1lZFBhcmFtZXRlcnM7XG4gIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycyA/IHt9IDogcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnM7XG4gIHRoaXMuJGFwaUNsaWVudC4kdmFsaWRhdGVQYXJhbWV0ZXIobmFtZSwgUmVnRXhwKFwiXnByb2plY3RzL1teL10rL2NvbmZpZyRcIikpO1xuICByZXR1cm4gdGhpcy4kYXBpQ2xpZW50LiRyZXF1ZXN0KHtib2R5OiRyZXF1ZXN0Qm9keSwgaHR0cE1ldGhvZDpcIlBBVENIXCIsIG1ldGhvZElkOlwiZWFydGhlbmdpbmUucHJvamVjdHMudXBkYXRlQ29uZmlnXCIsIHBhdGg6XCIvXCIgKyB0aGlzLmdhcGlWZXJzaW9uICsgXCIvXCIgKyBuYW1lLCBxdWVyeVBhcmFtczptb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkcmVxdWVzdF9wYXJhbXNfYnVpbGRRdWVyeVBhcmFtcyhuYW1lZFBhcmFtZXRlcnMsIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X1BBUkFNX01BUF8wLCBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycyksIHJlc3BvbnNlQ3Rvcjptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RDb25maWd9KTtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzQXBpQ2xpZW50ID0gZnVuY3Rpb24oKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JUHJvamVjdHNBc3NldHNBcGlDbGllbnQkWGdhZnZFbnVtID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfSVByb2plY3RzQXNzZXRzQXBpQ2xpZW50JFhnYWZ2RW51bSgpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzQXNzZXRzQXBpQ2xpZW50JFhnYWZ2RW51bSA9IHsxOlwiMVwiLCAyOlwiMlwiLCB2YWx1ZXM6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiBbbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0Fzc2V0c0FwaUNsaWVudCRYZ2FmdkVudW1bMV0sIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNBc3NldHNBcGlDbGllbnQkWGdhZnZFbnVtWzJdXTtcbn19O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JUHJvamVjdHNBc3NldHNBcGlDbGllbnRBbHRFbnVtID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfSVByb2plY3RzQXNzZXRzQXBpQ2xpZW50QWx0RW51bSgpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzQXNzZXRzQXBpQ2xpZW50QWx0RW51bSA9IHtKU09OOlwianNvblwiLCBNRURJQTpcIm1lZGlhXCIsIFBST1RPOlwicHJvdG9cIiwgdmFsdWVzOmZ1bmN0aW9uKCkge1xuICByZXR1cm4gW21vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNBc3NldHNBcGlDbGllbnRBbHRFbnVtLkpTT04sIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNBc3NldHNBcGlDbGllbnRBbHRFbnVtLk1FRElBLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzQXNzZXRzQXBpQ2xpZW50QWx0RW51bS5QUk9UT107XG59fTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSVByb2plY3RzQXNzZXRzQXBpQ2xpZW50Vmlld0VudW0gPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9JUHJvamVjdHNBc3NldHNBcGlDbGllbnRWaWV3RW51bSgpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzQXNzZXRzQXBpQ2xpZW50Vmlld0VudW0gPSB7QkFTSUM6XCJCQVNJQ1wiLCBFQVJUSF9FTkdJTkVfQVNTRVRfVklFV19VTlNQRUNJRklFRDpcIkVBUlRIX0VOR0lORV9BU1NFVF9WSUVXX1VOU1BFQ0lGSUVEXCIsIEZVTEw6XCJGVUxMXCIsIHZhbHVlczpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIFttb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzQXNzZXRzQXBpQ2xpZW50Vmlld0VudW0uRUFSVEhfRU5HSU5FX0FTU0VUX1ZJRVdfVU5TUEVDSUZJRUQsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNBc3NldHNBcGlDbGllbnRWaWV3RW51bS5GVUxMLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzQXNzZXRzQXBpQ2xpZW50Vmlld0VudW0uQkFTSUNdO1xufX07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzQXNzZXRzQXBpQ2xpZW50SW1wbCA9IGZ1bmN0aW9uKGdhcGlWZXJzaW9uLCBnYXBpUmVxdWVzdFNlcnZpY2UsIGFwaUNsaWVudEhvb2tGYWN0b3J5KSB7XG4gIHRoaXMuZ2FwaVZlcnNpb24gPSBnYXBpVmVyc2lvbjtcbiAgdGhpcy4kYXBpQ2xpZW50ID0gbmV3IG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JHByb21pc2VfYXBpX2NsaWVudC5Qcm9taXNlQXBpQ2xpZW50KGdhcGlSZXF1ZXN0U2VydmljZSwgdm9pZCAwID09PSBhcGlDbGllbnRIb29rRmFjdG9yeSA/IG51bGwgOiBhcGlDbGllbnRIb29rRmFjdG9yeSk7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0Fzc2V0c0FwaUNsaWVudEltcGwucHJvdG90eXBlLmNvcHkgPSBmdW5jdGlvbihzb3VyY2VOYW1lLCAkcmVxdWVzdEJvZHksIG5hbWVkUGFyYW1ldGVycywgcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMpIHtcbiAgbmFtZWRQYXJhbWV0ZXJzID0gdm9pZCAwID09PSBuYW1lZFBhcmFtZXRlcnMgPyB7fSA6IG5hbWVkUGFyYW1ldGVycztcbiAgcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzID8ge30gOiBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycztcbiAgdGhpcy4kYXBpQ2xpZW50LiR2YWxpZGF0ZVBhcmFtZXRlcihzb3VyY2VOYW1lLCBSZWdFeHAoXCJecHJvamVjdHMvW14vXSsvYXNzZXRzLy4qJFwiKSk7XG4gIHJldHVybiB0aGlzLiRhcGlDbGllbnQuJHJlcXVlc3Qoe2JvZHk6JHJlcXVlc3RCb2R5LCBodHRwTWV0aG9kOlwiUE9TVFwiLCBtZXRob2RJZDpcImVhcnRoZW5naW5lLnByb2plY3RzLmFzc2V0cy5jb3B5XCIsIHBhdGg6XCIvXCIgKyB0aGlzLmdhcGlWZXJzaW9uICsgXCIvXCIgKyBzb3VyY2VOYW1lICsgXCI6Y29weVwiLCBxdWVyeVBhcmFtczptb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkcmVxdWVzdF9wYXJhbXNfYnVpbGRRdWVyeVBhcmFtcyhuYW1lZFBhcmFtZXRlcnMsIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X1BBUkFNX01BUF8wLCBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycyksIHJlc3BvbnNlQ3Rvcjptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkVhcnRoRW5naW5lQXNzZXR9KTtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzQXNzZXRzQXBpQ2xpZW50SW1wbC5wcm90b3R5cGUuY3JlYXRlID0gZnVuY3Rpb24ocGFyZW50LCAkcmVxdWVzdEJvZHksIG5hbWVkUGFyYW1ldGVycywgcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMpIHtcbiAgbmFtZWRQYXJhbWV0ZXJzID0gdm9pZCAwID09PSBuYW1lZFBhcmFtZXRlcnMgPyB7fSA6IG5hbWVkUGFyYW1ldGVycztcbiAgcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzID8ge30gOiBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycztcbiAgdGhpcy4kYXBpQ2xpZW50LiR2YWxpZGF0ZVBhcmFtZXRlcihwYXJlbnQsIFJlZ0V4cChcIl5wcm9qZWN0cy9bXi9dKyRcIikpO1xuICByZXR1cm4gdGhpcy4kYXBpQ2xpZW50LiRyZXF1ZXN0KHtib2R5OiRyZXF1ZXN0Qm9keSwgaHR0cE1ldGhvZDpcIlBPU1RcIiwgbWV0aG9kSWQ6XCJlYXJ0aGVuZ2luZS5wcm9qZWN0cy5hc3NldHMuY3JlYXRlXCIsIHBhdGg6XCIvXCIgKyB0aGlzLmdhcGlWZXJzaW9uICsgXCIvXCIgKyBwYXJlbnQgKyBcIi9hc3NldHNcIiwgcXVlcnlQYXJhbXM6bW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JHJlcXVlc3RfcGFyYW1zX2J1aWxkUXVlcnlQYXJhbXMobmFtZWRQYXJhbWV0ZXJzLCBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9QQVJBTV9NQVBfMCwgcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMpLCByZXNwb25zZUN0b3I6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5FYXJ0aEVuZ2luZUFzc2V0fSk7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0Fzc2V0c0FwaUNsaWVudEltcGwucHJvdG90eXBlLmNyZWF0ZUludGVybmFsID0gZnVuY3Rpb24ocGFyZW50LCAkcmVxdWVzdEJvZHksIG5hbWVkUGFyYW1ldGVycywgcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMpIHtcbiAgbmFtZWRQYXJhbWV0ZXJzID0gdm9pZCAwID09PSBuYW1lZFBhcmFtZXRlcnMgPyB7fSA6IG5hbWVkUGFyYW1ldGVycztcbiAgcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzID8ge30gOiBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycztcbiAgdGhpcy4kYXBpQ2xpZW50LiR2YWxpZGF0ZVBhcmFtZXRlcihwYXJlbnQsIFJlZ0V4cChcIl5wcm9qZWN0cy9bXi9dKyRcIikpO1xuICByZXR1cm4gdGhpcy4kYXBpQ2xpZW50LiRyZXF1ZXN0KHtib2R5OiRyZXF1ZXN0Qm9keSwgaHR0cE1ldGhvZDpcIlBPU1RcIiwgbWV0aG9kSWQ6XCJlYXJ0aGVuZ2luZS5wcm9qZWN0cy5hc3NldHMuY3JlYXRlSW50ZXJuYWxcIiwgcGF0aDpcIi9cIiArIHRoaXMuZ2FwaVZlcnNpb24gKyBcIi9cIiArIHBhcmVudCArIFwiL2Fzc2V0czpjcmVhdGVJbnRlcm5hbFwiLCBxdWVyeVBhcmFtczptb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkcmVxdWVzdF9wYXJhbXNfYnVpbGRRdWVyeVBhcmFtcyhuYW1lZFBhcmFtZXRlcnMsIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X1BBUkFNX01BUF8wLCBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycyksIHJlc3BvbnNlQ3Rvcjptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkVhcnRoRW5naW5lQXNzZXR9KTtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzQXNzZXRzQXBpQ2xpZW50SW1wbC5wcm90b3R5cGUuZGVsZXRlID0gZnVuY3Rpb24obmFtZSwgbmFtZWRQYXJhbWV0ZXJzLCBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycykge1xuICBuYW1lZFBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IG5hbWVkUGFyYW1ldGVycyA/IHt9IDogbmFtZWRQYXJhbWV0ZXJzO1xuICBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMgPyB7fSA6IHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzO1xuICB0aGlzLiRhcGlDbGllbnQuJHZhbGlkYXRlUGFyYW1ldGVyKG5hbWUsIFJlZ0V4cChcIl5wcm9qZWN0cy9bXi9dKy9hc3NldHMvLiokXCIpKTtcbiAgcmV0dXJuIHRoaXMuJGFwaUNsaWVudC4kcmVxdWVzdCh7Ym9keTpudWxsLCBodHRwTWV0aG9kOlwiREVMRVRFXCIsIG1ldGhvZElkOlwiZWFydGhlbmdpbmUucHJvamVjdHMuYXNzZXRzLmRlbGV0ZVwiLCBwYXRoOlwiL1wiICsgdGhpcy5nYXBpVmVyc2lvbiArIFwiL1wiICsgbmFtZSwgcXVlcnlQYXJhbXM6bW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JHJlcXVlc3RfcGFyYW1zX2J1aWxkUXVlcnlQYXJhbXMobmFtZWRQYXJhbWV0ZXJzLCBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9QQVJBTV9NQVBfMCwgcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMpLCByZXNwb25zZUN0b3I6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5FbXB0eX0pO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNBc3NldHNBcGlDbGllbnRJbXBsLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbihuYW1lLCBuYW1lZFBhcmFtZXRlcnMsIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzKSB7XG4gIG5hbWVkUGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gbmFtZWRQYXJhbWV0ZXJzID8ge30gOiBuYW1lZFBhcmFtZXRlcnM7XG4gIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycyA/IHt9IDogcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnM7XG4gIHRoaXMuJGFwaUNsaWVudC4kdmFsaWRhdGVQYXJhbWV0ZXIobmFtZSwgUmVnRXhwKFwiXnByb2plY3RzL1teL10rL2Fzc2V0cy8uKiRcIikpO1xuICByZXR1cm4gdGhpcy4kYXBpQ2xpZW50LiRyZXF1ZXN0KHtib2R5Om51bGwsIGh0dHBNZXRob2Q6XCJHRVRcIiwgbWV0aG9kSWQ6XCJlYXJ0aGVuZ2luZS5wcm9qZWN0cy5hc3NldHMuZ2V0XCIsIHBhdGg6XCIvXCIgKyB0aGlzLmdhcGlWZXJzaW9uICsgXCIvXCIgKyBuYW1lLCBxdWVyeVBhcmFtczptb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkcmVxdWVzdF9wYXJhbXNfYnVpbGRRdWVyeVBhcmFtcyhuYW1lZFBhcmFtZXRlcnMsIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X1BBUkFNX01BUF8wLCBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycyksIHJlc3BvbnNlQ3Rvcjptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkVhcnRoRW5naW5lQXNzZXR9KTtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzQXNzZXRzQXBpQ2xpZW50SW1wbC5wcm90b3R5cGUuZ2V0SWFtUG9saWN5ID0gZnVuY3Rpb24ocmVzb3VyY2UsICRyZXF1ZXN0Qm9keSwgbmFtZWRQYXJhbWV0ZXJzLCBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycykge1xuICBuYW1lZFBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IG5hbWVkUGFyYW1ldGVycyA/IHt9IDogbmFtZWRQYXJhbWV0ZXJzO1xuICBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMgPyB7fSA6IHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzO1xuICB0aGlzLiRhcGlDbGllbnQuJHZhbGlkYXRlUGFyYW1ldGVyKHJlc291cmNlLCBSZWdFeHAoXCJecHJvamVjdHMvW14vXSsvYXNzZXRzLy4qJFwiKSk7XG4gIHJldHVybiB0aGlzLiRhcGlDbGllbnQuJHJlcXVlc3Qoe2JvZHk6JHJlcXVlc3RCb2R5LCBodHRwTWV0aG9kOlwiUE9TVFwiLCBtZXRob2RJZDpcImVhcnRoZW5naW5lLnByb2plY3RzLmFzc2V0cy5nZXRJYW1Qb2xpY3lcIiwgcGF0aDpcIi9cIiArIHRoaXMuZ2FwaVZlcnNpb24gKyBcIi9cIiArIHJlc291cmNlICsgXCI6Z2V0SWFtUG9saWN5XCIsIHF1ZXJ5UGFyYW1zOm1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRyZXF1ZXN0X3BhcmFtc19idWlsZFF1ZXJ5UGFyYW1zKG5hbWVkUGFyYW1ldGVycywgbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfUEFSQU1fTUFQXzAsIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzKSwgcmVzcG9uc2VDdG9yOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUG9saWN5fSk7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0Fzc2V0c0FwaUNsaWVudEltcGwucHJvdG90eXBlLmdldExpbmtlZCA9IGZ1bmN0aW9uKG5hbWUsICRyZXF1ZXN0Qm9keSwgbmFtZWRQYXJhbWV0ZXJzLCBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycykge1xuICBuYW1lZFBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IG5hbWVkUGFyYW1ldGVycyA/IHt9IDogbmFtZWRQYXJhbWV0ZXJzO1xuICBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMgPyB7fSA6IHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzO1xuICB0aGlzLiRhcGlDbGllbnQuJHZhbGlkYXRlUGFyYW1ldGVyKG5hbWUsIFJlZ0V4cChcIl5wcm9qZWN0cy9bXi9dKy9hc3NldHMvLiokXCIpKTtcbiAgcmV0dXJuIHRoaXMuJGFwaUNsaWVudC4kcmVxdWVzdCh7Ym9keTokcmVxdWVzdEJvZHksIGh0dHBNZXRob2Q6XCJQT1NUXCIsIG1ldGhvZElkOlwiZWFydGhlbmdpbmUucHJvamVjdHMuYXNzZXRzLmdldExpbmtlZFwiLCBwYXRoOlwiL1wiICsgdGhpcy5nYXBpVmVyc2lvbiArIFwiL1wiICsgbmFtZSArIFwiOmdldExpbmtlZFwiLCBxdWVyeVBhcmFtczptb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkcmVxdWVzdF9wYXJhbXNfYnVpbGRRdWVyeVBhcmFtcyhuYW1lZFBhcmFtZXRlcnMsIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X1BBUkFNX01BUF8wLCBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycyksIHJlc3BvbnNlQ3Rvcjptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkVhcnRoRW5naW5lQXNzZXR9KTtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzQXNzZXRzQXBpQ2xpZW50SW1wbC5wcm90b3R5cGUuZ2V0UGl4ZWxzID0gZnVuY3Rpb24obmFtZSwgJHJlcXVlc3RCb2R5LCBuYW1lZFBhcmFtZXRlcnMsIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzKSB7XG4gIG5hbWVkUGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gbmFtZWRQYXJhbWV0ZXJzID8ge30gOiBuYW1lZFBhcmFtZXRlcnM7XG4gIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycyA/IHt9IDogcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnM7XG4gIHRoaXMuJGFwaUNsaWVudC4kdmFsaWRhdGVQYXJhbWV0ZXIobmFtZSwgUmVnRXhwKFwiXnByb2plY3RzL1teL10rL2Fzc2V0cy8uKiRcIikpO1xuICByZXR1cm4gdGhpcy4kYXBpQ2xpZW50LiRyZXF1ZXN0KHtib2R5OiRyZXF1ZXN0Qm9keSwgaHR0cE1ldGhvZDpcIlBPU1RcIiwgbWV0aG9kSWQ6XCJlYXJ0aGVuZ2luZS5wcm9qZWN0cy5hc3NldHMuZ2V0UGl4ZWxzXCIsIHBhdGg6XCIvXCIgKyB0aGlzLmdhcGlWZXJzaW9uICsgXCIvXCIgKyBuYW1lICsgXCI6Z2V0UGl4ZWxzXCIsIHF1ZXJ5UGFyYW1zOm1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRyZXF1ZXN0X3BhcmFtc19idWlsZFF1ZXJ5UGFyYW1zKG5hbWVkUGFyYW1ldGVycywgbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfUEFSQU1fTUFQXzAsIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzKSwgcmVzcG9uc2VDdG9yOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSHR0cEJvZHl9KTtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzQXNzZXRzQXBpQ2xpZW50SW1wbC5wcm90b3R5cGUubGluayA9IGZ1bmN0aW9uKHNvdXJjZU5hbWUsICRyZXF1ZXN0Qm9keSwgbmFtZWRQYXJhbWV0ZXJzLCBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycykge1xuICBuYW1lZFBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IG5hbWVkUGFyYW1ldGVycyA/IHt9IDogbmFtZWRQYXJhbWV0ZXJzO1xuICBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMgPyB7fSA6IHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzO1xuICB0aGlzLiRhcGlDbGllbnQuJHZhbGlkYXRlUGFyYW1ldGVyKHNvdXJjZU5hbWUsIFJlZ0V4cChcIl5wcm9qZWN0cy9bXi9dKy9hc3NldHMvLiokXCIpKTtcbiAgcmV0dXJuIHRoaXMuJGFwaUNsaWVudC4kcmVxdWVzdCh7Ym9keTokcmVxdWVzdEJvZHksIGh0dHBNZXRob2Q6XCJQT1NUXCIsIG1ldGhvZElkOlwiZWFydGhlbmdpbmUucHJvamVjdHMuYXNzZXRzLmxpbmtcIiwgcGF0aDpcIi9cIiArIHRoaXMuZ2FwaVZlcnNpb24gKyBcIi9cIiArIHNvdXJjZU5hbWUgKyBcIjpsaW5rXCIsIHF1ZXJ5UGFyYW1zOm1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRyZXF1ZXN0X3BhcmFtc19idWlsZFF1ZXJ5UGFyYW1zKG5hbWVkUGFyYW1ldGVycywgbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfUEFSQU1fTUFQXzAsIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzKSwgcmVzcG9uc2VDdG9yOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRWFydGhFbmdpbmVBc3NldH0pO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNBc3NldHNBcGlDbGllbnRJbXBsLnByb3RvdHlwZS5saXN0QXNzZXRzID0gZnVuY3Rpb24ocGFyZW50LCBuYW1lZFBhcmFtZXRlcnMsIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzKSB7XG4gIG5hbWVkUGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gbmFtZWRQYXJhbWV0ZXJzID8ge30gOiBuYW1lZFBhcmFtZXRlcnM7XG4gIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycyA/IHt9IDogcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnM7XG4gIHRoaXMuJGFwaUNsaWVudC4kdmFsaWRhdGVQYXJhbWV0ZXIocGFyZW50LCBSZWdFeHAoXCJecHJvamVjdHMvW14vXSsvYXNzZXRzLy4qJFwiKSk7XG4gIHJldHVybiB0aGlzLiRhcGlDbGllbnQuJHJlcXVlc3Qoe2JvZHk6bnVsbCwgaHR0cE1ldGhvZDpcIkdFVFwiLCBtZXRob2RJZDpcImVhcnRoZW5naW5lLnByb2plY3RzLmFzc2V0cy5saXN0QXNzZXRzXCIsIHBhdGg6XCIvXCIgKyB0aGlzLmdhcGlWZXJzaW9uICsgXCIvXCIgKyBwYXJlbnQgKyBcIjpsaXN0QXNzZXRzXCIsIHF1ZXJ5UGFyYW1zOm1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRyZXF1ZXN0X3BhcmFtc19idWlsZFF1ZXJ5UGFyYW1zKG5hbWVkUGFyYW1ldGVycywgbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfUEFSQU1fTUFQXzAsIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzKSwgcmVzcG9uc2VDdG9yOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuTGlzdEFzc2V0c1Jlc3BvbnNlfSk7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0Fzc2V0c0FwaUNsaWVudEltcGwucHJvdG90eXBlLmxpc3RGZWF0dXJlcyA9IGZ1bmN0aW9uKGFzc2V0LCBuYW1lZFBhcmFtZXRlcnMsIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzKSB7XG4gIG5hbWVkUGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gbmFtZWRQYXJhbWV0ZXJzID8ge30gOiBuYW1lZFBhcmFtZXRlcnM7XG4gIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycyA/IHt9IDogcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnM7XG4gIHRoaXMuJGFwaUNsaWVudC4kdmFsaWRhdGVQYXJhbWV0ZXIoYXNzZXQsIFJlZ0V4cChcIl5wcm9qZWN0cy9bXi9dKy9hc3NldHMvLiokXCIpKTtcbiAgcmV0dXJuIHRoaXMuJGFwaUNsaWVudC4kcmVxdWVzdCh7Ym9keTpudWxsLCBodHRwTWV0aG9kOlwiR0VUXCIsIG1ldGhvZElkOlwiZWFydGhlbmdpbmUucHJvamVjdHMuYXNzZXRzLmxpc3RGZWF0dXJlc1wiLCBwYXRoOlwiL1wiICsgdGhpcy5nYXBpVmVyc2lvbiArIFwiL1wiICsgYXNzZXQgKyBcIjpsaXN0RmVhdHVyZXNcIiwgcXVlcnlQYXJhbXM6bW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JHJlcXVlc3RfcGFyYW1zX2J1aWxkUXVlcnlQYXJhbXMobmFtZWRQYXJhbWV0ZXJzLCBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9QQVJBTV9NQVBfMCwgcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMpLCByZXNwb25zZUN0b3I6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5MaXN0RmVhdHVyZXNSZXNwb25zZX0pO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNBc3NldHNBcGlDbGllbnRJbXBsLnByb3RvdHlwZS5saXN0SW1hZ2VzID0gZnVuY3Rpb24ocGFyZW50LCBuYW1lZFBhcmFtZXRlcnMsIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzKSB7XG4gIG5hbWVkUGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gbmFtZWRQYXJhbWV0ZXJzID8ge30gOiBuYW1lZFBhcmFtZXRlcnM7XG4gIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycyA/IHt9IDogcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnM7XG4gIHRoaXMuJGFwaUNsaWVudC4kdmFsaWRhdGVQYXJhbWV0ZXIocGFyZW50LCBSZWdFeHAoXCJecHJvamVjdHMvW14vXSsvYXNzZXRzLy4qJFwiKSk7XG4gIHJldHVybiB0aGlzLiRhcGlDbGllbnQuJHJlcXVlc3Qoe2JvZHk6bnVsbCwgaHR0cE1ldGhvZDpcIkdFVFwiLCBtZXRob2RJZDpcImVhcnRoZW5naW5lLnByb2plY3RzLmFzc2V0cy5saXN0SW1hZ2VzXCIsIHBhdGg6XCIvXCIgKyB0aGlzLmdhcGlWZXJzaW9uICsgXCIvXCIgKyBwYXJlbnQgKyBcIjpsaXN0SW1hZ2VzXCIsIHF1ZXJ5UGFyYW1zOm1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRyZXF1ZXN0X3BhcmFtc19idWlsZFF1ZXJ5UGFyYW1zKG5hbWVkUGFyYW1ldGVycywgbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfUEFSQU1fTUFQXzAsIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzKSwgcmVzcG9uc2VDdG9yOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuTGlzdEltYWdlc1Jlc3BvbnNlfSk7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0Fzc2V0c0FwaUNsaWVudEltcGwucHJvdG90eXBlLm1vdmUgPSBmdW5jdGlvbihzb3VyY2VOYW1lLCAkcmVxdWVzdEJvZHksIG5hbWVkUGFyYW1ldGVycywgcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMpIHtcbiAgbmFtZWRQYXJhbWV0ZXJzID0gdm9pZCAwID09PSBuYW1lZFBhcmFtZXRlcnMgPyB7fSA6IG5hbWVkUGFyYW1ldGVycztcbiAgcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzID8ge30gOiBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycztcbiAgdGhpcy4kYXBpQ2xpZW50LiR2YWxpZGF0ZVBhcmFtZXRlcihzb3VyY2VOYW1lLCBSZWdFeHAoXCJecHJvamVjdHMvW14vXSsvYXNzZXRzLy4qJFwiKSk7XG4gIHJldHVybiB0aGlzLiRhcGlDbGllbnQuJHJlcXVlc3Qoe2JvZHk6JHJlcXVlc3RCb2R5LCBodHRwTWV0aG9kOlwiUE9TVFwiLCBtZXRob2RJZDpcImVhcnRoZW5naW5lLnByb2plY3RzLmFzc2V0cy5tb3ZlXCIsIHBhdGg6XCIvXCIgKyB0aGlzLmdhcGlWZXJzaW9uICsgXCIvXCIgKyBzb3VyY2VOYW1lICsgXCI6bW92ZVwiLCBxdWVyeVBhcmFtczptb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkcmVxdWVzdF9wYXJhbXNfYnVpbGRRdWVyeVBhcmFtcyhuYW1lZFBhcmFtZXRlcnMsIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X1BBUkFNX01BUF8wLCBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycyksIHJlc3BvbnNlQ3Rvcjptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkVhcnRoRW5naW5lQXNzZXR9KTtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzQXNzZXRzQXBpQ2xpZW50SW1wbC5wcm90b3R5cGUucGF0Y2ggPSBmdW5jdGlvbihuYW1lLCAkcmVxdWVzdEJvZHksIG5hbWVkUGFyYW1ldGVycywgcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMpIHtcbiAgbmFtZWRQYXJhbWV0ZXJzID0gdm9pZCAwID09PSBuYW1lZFBhcmFtZXRlcnMgPyB7fSA6IG5hbWVkUGFyYW1ldGVycztcbiAgcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzID8ge30gOiBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycztcbiAgdGhpcy4kYXBpQ2xpZW50LiR2YWxpZGF0ZVBhcmFtZXRlcihuYW1lLCBSZWdFeHAoXCJecHJvamVjdHMvW14vXSsvYXNzZXRzLy4qJFwiKSk7XG4gIHJldHVybiB0aGlzLiRhcGlDbGllbnQuJHJlcXVlc3Qoe2JvZHk6JHJlcXVlc3RCb2R5LCBodHRwTWV0aG9kOlwiUEFUQ0hcIiwgbWV0aG9kSWQ6XCJlYXJ0aGVuZ2luZS5wcm9qZWN0cy5hc3NldHMucGF0Y2hcIiwgcGF0aDpcIi9cIiArIHRoaXMuZ2FwaVZlcnNpb24gKyBcIi9cIiArIG5hbWUsIHF1ZXJ5UGFyYW1zOm1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRyZXF1ZXN0X3BhcmFtc19idWlsZFF1ZXJ5UGFyYW1zKG5hbWVkUGFyYW1ldGVycywgbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfUEFSQU1fTUFQXzAsIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzKSwgcmVzcG9uc2VDdG9yOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRWFydGhFbmdpbmVBc3NldH0pO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNBc3NldHNBcGlDbGllbnRJbXBsLnByb3RvdHlwZS5zZXRJYW1Qb2xpY3kgPSBmdW5jdGlvbihyZXNvdXJjZSwgJHJlcXVlc3RCb2R5LCBuYW1lZFBhcmFtZXRlcnMsIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzKSB7XG4gIG5hbWVkUGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gbmFtZWRQYXJhbWV0ZXJzID8ge30gOiBuYW1lZFBhcmFtZXRlcnM7XG4gIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycyA/IHt9IDogcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnM7XG4gIHRoaXMuJGFwaUNsaWVudC4kdmFsaWRhdGVQYXJhbWV0ZXIocmVzb3VyY2UsIFJlZ0V4cChcIl5wcm9qZWN0cy9bXi9dKy9hc3NldHMvLiokXCIpKTtcbiAgcmV0dXJuIHRoaXMuJGFwaUNsaWVudC4kcmVxdWVzdCh7Ym9keTokcmVxdWVzdEJvZHksIGh0dHBNZXRob2Q6XCJQT1NUXCIsIG1ldGhvZElkOlwiZWFydGhlbmdpbmUucHJvamVjdHMuYXNzZXRzLnNldElhbVBvbGljeVwiLCBwYXRoOlwiL1wiICsgdGhpcy5nYXBpVmVyc2lvbiArIFwiL1wiICsgcmVzb3VyY2UgKyBcIjpzZXRJYW1Qb2xpY3lcIiwgcXVlcnlQYXJhbXM6bW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JHJlcXVlc3RfcGFyYW1zX2J1aWxkUXVlcnlQYXJhbXMobmFtZWRQYXJhbWV0ZXJzLCBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9QQVJBTV9NQVBfMCwgcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMpLCByZXNwb25zZUN0b3I6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qb2xpY3l9KTtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzQXNzZXRzQXBpQ2xpZW50SW1wbC5wcm90b3R5cGUudGVzdElhbVBlcm1pc3Npb25zID0gZnVuY3Rpb24ocmVzb3VyY2UsICRyZXF1ZXN0Qm9keSwgbmFtZWRQYXJhbWV0ZXJzLCBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycykge1xuICBuYW1lZFBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IG5hbWVkUGFyYW1ldGVycyA/IHt9IDogbmFtZWRQYXJhbWV0ZXJzO1xuICBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMgPyB7fSA6IHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzO1xuICB0aGlzLiRhcGlDbGllbnQuJHZhbGlkYXRlUGFyYW1ldGVyKHJlc291cmNlLCBSZWdFeHAoXCJecHJvamVjdHMvW14vXSsvYXNzZXRzLy4qJFwiKSk7XG4gIHJldHVybiB0aGlzLiRhcGlDbGllbnQuJHJlcXVlc3Qoe2JvZHk6JHJlcXVlc3RCb2R5LCBodHRwTWV0aG9kOlwiUE9TVFwiLCBtZXRob2RJZDpcImVhcnRoZW5naW5lLnByb2plY3RzLmFzc2V0cy50ZXN0SWFtUGVybWlzc2lvbnNcIiwgcGF0aDpcIi9cIiArIHRoaXMuZ2FwaVZlcnNpb24gKyBcIi9cIiArIHJlc291cmNlICsgXCI6dGVzdElhbVBlcm1pc3Npb25zXCIsIHF1ZXJ5UGFyYW1zOm1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRyZXF1ZXN0X3BhcmFtc19idWlsZFF1ZXJ5UGFyYW1zKG5hbWVkUGFyYW1ldGVycywgbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfUEFSQU1fTUFQXzAsIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzKSwgcmVzcG9uc2VDdG9yOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGVzdElhbVBlcm1pc3Npb25zUmVzcG9uc2V9KTtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzQXNzZXRzQXBpQ2xpZW50ID0gZnVuY3Rpb24oKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JUHJvamVjdHNDbGFzc2lmaWVyQXBpQ2xpZW50JFhnYWZ2RW51bSA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0lQcm9qZWN0c0NsYXNzaWZpZXJBcGlDbGllbnQkWGdhZnZFbnVtKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNDbGFzc2lmaWVyQXBpQ2xpZW50JFhnYWZ2RW51bSA9IHsxOlwiMVwiLCAyOlwiMlwiLCB2YWx1ZXM6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiBbbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0NsYXNzaWZpZXJBcGlDbGllbnQkWGdhZnZFbnVtWzFdLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzQ2xhc3NpZmllckFwaUNsaWVudCRYZ2FmdkVudW1bMl1dO1xufX07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LklQcm9qZWN0c0NsYXNzaWZpZXJBcGlDbGllbnRBbHRFbnVtID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfSVByb2plY3RzQ2xhc3NpZmllckFwaUNsaWVudEFsdEVudW0oKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0NsYXNzaWZpZXJBcGlDbGllbnRBbHRFbnVtID0ge0pTT046XCJqc29uXCIsIE1FRElBOlwibWVkaWFcIiwgUFJPVE86XCJwcm90b1wiLCB2YWx1ZXM6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiBbbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0NsYXNzaWZpZXJBcGlDbGllbnRBbHRFbnVtLkpTT04sIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNDbGFzc2lmaWVyQXBpQ2xpZW50QWx0RW51bS5NRURJQSwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0NsYXNzaWZpZXJBcGlDbGllbnRBbHRFbnVtLlBST1RPXTtcbn19O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0NsYXNzaWZpZXJBcGlDbGllbnRJbXBsID0gZnVuY3Rpb24oZ2FwaVZlcnNpb24sIGdhcGlSZXF1ZXN0U2VydmljZSwgYXBpQ2xpZW50SG9va0ZhY3RvcnkpIHtcbiAgdGhpcy5nYXBpVmVyc2lvbiA9IGdhcGlWZXJzaW9uO1xuICB0aGlzLiRhcGlDbGllbnQgPSBuZXcgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkcHJvbWlzZV9hcGlfY2xpZW50LlByb21pc2VBcGlDbGllbnQoZ2FwaVJlcXVlc3RTZXJ2aWNlLCB2b2lkIDAgPT09IGFwaUNsaWVudEhvb2tGYWN0b3J5ID8gbnVsbCA6IGFwaUNsaWVudEhvb2tGYWN0b3J5KTtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzQ2xhc3NpZmllckFwaUNsaWVudEltcGwucHJvdG90eXBlLmV4cG9ydCA9IGZ1bmN0aW9uKHByb2plY3QsICRyZXF1ZXN0Qm9keSwgbmFtZWRQYXJhbWV0ZXJzLCBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycykge1xuICBuYW1lZFBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IG5hbWVkUGFyYW1ldGVycyA/IHt9IDogbmFtZWRQYXJhbWV0ZXJzO1xuICBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMgPyB7fSA6IHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzO1xuICB0aGlzLiRhcGlDbGllbnQuJHZhbGlkYXRlUGFyYW1ldGVyKHByb2plY3QsIFJlZ0V4cChcIl5wcm9qZWN0cy9bXi9dKyRcIikpO1xuICByZXR1cm4gdGhpcy4kYXBpQ2xpZW50LiRyZXF1ZXN0KHtib2R5OiRyZXF1ZXN0Qm9keSwgaHR0cE1ldGhvZDpcIlBPU1RcIiwgbWV0aG9kSWQ6XCJlYXJ0aGVuZ2luZS5wcm9qZWN0cy5jbGFzc2lmaWVyLmV4cG9ydFwiLCBwYXRoOlwiL1wiICsgdGhpcy5nYXBpVmVyc2lvbiArIFwiL1wiICsgcHJvamVjdCArIFwiL2NsYXNzaWZpZXI6ZXhwb3J0XCIsIHF1ZXJ5UGFyYW1zOm1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRyZXF1ZXN0X3BhcmFtc19idWlsZFF1ZXJ5UGFyYW1zKG5hbWVkUGFyYW1ldGVycywgbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfUEFSQU1fTUFQXzAsIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzKSwgcmVzcG9uc2VDdG9yOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuT3BlcmF0aW9ufSk7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0NsYXNzaWZpZXJBcGlDbGllbnQgPSBmdW5jdGlvbigpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LklQcm9qZWN0c0ZlYXR1cmVWaWV3QXBpQ2xpZW50JFhnYWZ2RW51bSA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0lQcm9qZWN0c0ZlYXR1cmVWaWV3QXBpQ2xpZW50JFhnYWZ2RW51bSgpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzRmVhdHVyZVZpZXdBcGlDbGllbnQkWGdhZnZFbnVtID0gezE6XCIxXCIsIDI6XCIyXCIsIHZhbHVlczpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIFttb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzRmVhdHVyZVZpZXdBcGlDbGllbnQkWGdhZnZFbnVtWzFdLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzRmVhdHVyZVZpZXdBcGlDbGllbnQkWGdhZnZFbnVtWzJdXTtcbn19O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JUHJvamVjdHNGZWF0dXJlVmlld0FwaUNsaWVudEFsdEVudW0gPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9JUHJvamVjdHNGZWF0dXJlVmlld0FwaUNsaWVudEFsdEVudW0oKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0ZlYXR1cmVWaWV3QXBpQ2xpZW50QWx0RW51bSA9IHtKU09OOlwianNvblwiLCBNRURJQTpcIm1lZGlhXCIsIFBST1RPOlwicHJvdG9cIiwgdmFsdWVzOmZ1bmN0aW9uKCkge1xuICByZXR1cm4gW21vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNGZWF0dXJlVmlld0FwaUNsaWVudEFsdEVudW0uSlNPTiwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0ZlYXR1cmVWaWV3QXBpQ2xpZW50QWx0RW51bS5NRURJQSwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0ZlYXR1cmVWaWV3QXBpQ2xpZW50QWx0RW51bS5QUk9UT107XG59fTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNGZWF0dXJlVmlld0FwaUNsaWVudEltcGwgPSBmdW5jdGlvbihnYXBpVmVyc2lvbiwgZ2FwaVJlcXVlc3RTZXJ2aWNlLCBhcGlDbGllbnRIb29rRmFjdG9yeSkge1xuICB0aGlzLmdhcGlWZXJzaW9uID0gZ2FwaVZlcnNpb247XG4gIHRoaXMuJGFwaUNsaWVudCA9IG5ldyBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRwcm9taXNlX2FwaV9jbGllbnQuUHJvbWlzZUFwaUNsaWVudChnYXBpUmVxdWVzdFNlcnZpY2UsIHZvaWQgMCA9PT0gYXBpQ2xpZW50SG9va0ZhY3RvcnkgPyBudWxsIDogYXBpQ2xpZW50SG9va0ZhY3RvcnkpO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNGZWF0dXJlVmlld0FwaUNsaWVudEltcGwucHJvdG90eXBlLmNyZWF0ZSA9IGZ1bmN0aW9uKHBhcmVudCwgJHJlcXVlc3RCb2R5LCBuYW1lZFBhcmFtZXRlcnMsIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzKSB7XG4gIG5hbWVkUGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gbmFtZWRQYXJhbWV0ZXJzID8ge30gOiBuYW1lZFBhcmFtZXRlcnM7XG4gIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycyA/IHt9IDogcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnM7XG4gIHRoaXMuJGFwaUNsaWVudC4kdmFsaWRhdGVQYXJhbWV0ZXIocGFyZW50LCBSZWdFeHAoXCJecHJvamVjdHMvW14vXSskXCIpKTtcbiAgcmV0dXJuIHRoaXMuJGFwaUNsaWVudC4kcmVxdWVzdCh7Ym9keTokcmVxdWVzdEJvZHksIGh0dHBNZXRob2Q6XCJQT1NUXCIsIG1ldGhvZElkOlwiZWFydGhlbmdpbmUucHJvamVjdHMuZmVhdHVyZVZpZXcuY3JlYXRlXCIsIHBhdGg6XCIvXCIgKyB0aGlzLmdhcGlWZXJzaW9uICsgXCIvXCIgKyBwYXJlbnQgKyBcIi9mZWF0dXJlVmlld1wiLCBxdWVyeVBhcmFtczptb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkcmVxdWVzdF9wYXJhbXNfYnVpbGRRdWVyeVBhcmFtcyhuYW1lZFBhcmFtZXRlcnMsIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X1BBUkFNX01BUF8wLCBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycyksIHJlc3BvbnNlQ3Rvcjptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkZlYXR1cmVWaWV3fSk7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0ZlYXR1cmVWaWV3QXBpQ2xpZW50ID0gZnVuY3Rpb24oKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JUHJvamVjdHNGZWF0dXJlVmlld3NBcGlDbGllbnQkWGdhZnZFbnVtID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfSVByb2plY3RzRmVhdHVyZVZpZXdzQXBpQ2xpZW50JFhnYWZ2RW51bSgpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzRmVhdHVyZVZpZXdzQXBpQ2xpZW50JFhnYWZ2RW51bSA9IHsxOlwiMVwiLCAyOlwiMlwiLCB2YWx1ZXM6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiBbbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0ZlYXR1cmVWaWV3c0FwaUNsaWVudCRYZ2FmdkVudW1bMV0sIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNGZWF0dXJlVmlld3NBcGlDbGllbnQkWGdhZnZFbnVtWzJdXTtcbn19O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JUHJvamVjdHNGZWF0dXJlVmlld3NBcGlDbGllbnRBbHRFbnVtID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfSVByb2plY3RzRmVhdHVyZVZpZXdzQXBpQ2xpZW50QWx0RW51bSgpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzRmVhdHVyZVZpZXdzQXBpQ2xpZW50QWx0RW51bSA9IHtKU09OOlwianNvblwiLCBNRURJQTpcIm1lZGlhXCIsIFBST1RPOlwicHJvdG9cIiwgdmFsdWVzOmZ1bmN0aW9uKCkge1xuICByZXR1cm4gW21vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNGZWF0dXJlVmlld3NBcGlDbGllbnRBbHRFbnVtLkpTT04sIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNGZWF0dXJlVmlld3NBcGlDbGllbnRBbHRFbnVtLk1FRElBLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzRmVhdHVyZVZpZXdzQXBpQ2xpZW50QWx0RW51bS5QUk9UT107XG59fTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNGZWF0dXJlVmlld3NBcGlDbGllbnRJbXBsID0gZnVuY3Rpb24oZ2FwaVZlcnNpb24sIGdhcGlSZXF1ZXN0U2VydmljZSwgYXBpQ2xpZW50SG9va0ZhY3RvcnkpIHtcbiAgdGhpcy5nYXBpVmVyc2lvbiA9IGdhcGlWZXJzaW9uO1xuICB0aGlzLiRhcGlDbGllbnQgPSBuZXcgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkcHJvbWlzZV9hcGlfY2xpZW50LlByb21pc2VBcGlDbGllbnQoZ2FwaVJlcXVlc3RTZXJ2aWNlLCB2b2lkIDAgPT09IGFwaUNsaWVudEhvb2tGYWN0b3J5ID8gbnVsbCA6IGFwaUNsaWVudEhvb2tGYWN0b3J5KTtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzRmVhdHVyZVZpZXdzQXBpQ2xpZW50SW1wbC5wcm90b3R5cGUuY3JlYXRlID0gZnVuY3Rpb24ocGFyZW50LCAkcmVxdWVzdEJvZHksIG5hbWVkUGFyYW1ldGVycywgcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMpIHtcbiAgbmFtZWRQYXJhbWV0ZXJzID0gdm9pZCAwID09PSBuYW1lZFBhcmFtZXRlcnMgPyB7fSA6IG5hbWVkUGFyYW1ldGVycztcbiAgcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzID8ge30gOiBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycztcbiAgdGhpcy4kYXBpQ2xpZW50LiR2YWxpZGF0ZVBhcmFtZXRlcihwYXJlbnQsIFJlZ0V4cChcIl5wcm9qZWN0cy9bXi9dKyRcIikpO1xuICByZXR1cm4gdGhpcy4kYXBpQ2xpZW50LiRyZXF1ZXN0KHtib2R5OiRyZXF1ZXN0Qm9keSwgaHR0cE1ldGhvZDpcIlBPU1RcIiwgbWV0aG9kSWQ6XCJlYXJ0aGVuZ2luZS5wcm9qZWN0cy5mZWF0dXJlVmlld3MuY3JlYXRlXCIsIHBhdGg6XCIvXCIgKyB0aGlzLmdhcGlWZXJzaW9uICsgXCIvXCIgKyBwYXJlbnQgKyBcIi9mZWF0dXJlVmlld3NcIiwgcXVlcnlQYXJhbXM6bW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JHJlcXVlc3RfcGFyYW1zX2J1aWxkUXVlcnlQYXJhbXMobmFtZWRQYXJhbWV0ZXJzLCBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9QQVJBTV9NQVBfMCwgcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMpLCByZXNwb25zZUN0b3I6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5GZWF0dXJlVmlld30pO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNGZWF0dXJlVmlld3NBcGlDbGllbnQgPSBmdW5jdGlvbigpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LklQcm9qZWN0c0ZlYXR1cmVWaWV3c1RpbGVzQXBpQ2xpZW50JFhnYWZ2RW51bSA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0lQcm9qZWN0c0ZlYXR1cmVWaWV3c1RpbGVzQXBpQ2xpZW50JFhnYWZ2RW51bSgpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzRmVhdHVyZVZpZXdzVGlsZXNBcGlDbGllbnQkWGdhZnZFbnVtID0gezE6XCIxXCIsIDI6XCIyXCIsIHZhbHVlczpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIFttb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzRmVhdHVyZVZpZXdzVGlsZXNBcGlDbGllbnQkWGdhZnZFbnVtWzFdLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzRmVhdHVyZVZpZXdzVGlsZXNBcGlDbGllbnQkWGdhZnZFbnVtWzJdXTtcbn19O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JUHJvamVjdHNGZWF0dXJlVmlld3NUaWxlc0FwaUNsaWVudEFsdEVudW0gPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9JUHJvamVjdHNGZWF0dXJlVmlld3NUaWxlc0FwaUNsaWVudEFsdEVudW0oKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0ZlYXR1cmVWaWV3c1RpbGVzQXBpQ2xpZW50QWx0RW51bSA9IHtKU09OOlwianNvblwiLCBNRURJQTpcIm1lZGlhXCIsIFBST1RPOlwicHJvdG9cIiwgdmFsdWVzOmZ1bmN0aW9uKCkge1xuICByZXR1cm4gW21vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNGZWF0dXJlVmlld3NUaWxlc0FwaUNsaWVudEFsdEVudW0uSlNPTiwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0ZlYXR1cmVWaWV3c1RpbGVzQXBpQ2xpZW50QWx0RW51bS5NRURJQSwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0ZlYXR1cmVWaWV3c1RpbGVzQXBpQ2xpZW50QWx0RW51bS5QUk9UT107XG59fTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNGZWF0dXJlVmlld3NUaWxlc0FwaUNsaWVudEltcGwgPSBmdW5jdGlvbihnYXBpVmVyc2lvbiwgZ2FwaVJlcXVlc3RTZXJ2aWNlLCBhcGlDbGllbnRIb29rRmFjdG9yeSkge1xuICB0aGlzLmdhcGlWZXJzaW9uID0gZ2FwaVZlcnNpb247XG4gIHRoaXMuJGFwaUNsaWVudCA9IG5ldyBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRwcm9taXNlX2FwaV9jbGllbnQuUHJvbWlzZUFwaUNsaWVudChnYXBpUmVxdWVzdFNlcnZpY2UsIHZvaWQgMCA9PT0gYXBpQ2xpZW50SG9va0ZhY3RvcnkgPyBudWxsIDogYXBpQ2xpZW50SG9va0ZhY3RvcnkpO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNGZWF0dXJlVmlld3NUaWxlc0FwaUNsaWVudEltcGwucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uKHBhcmVudCwgem9vbSwgeCwgeSwgbmFtZWRQYXJhbWV0ZXJzLCBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycykge1xuICBuYW1lZFBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IG5hbWVkUGFyYW1ldGVycyA/IHt9IDogbmFtZWRQYXJhbWV0ZXJzO1xuICBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMgPyB7fSA6IHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzO1xuICB0aGlzLiRhcGlDbGllbnQuJHZhbGlkYXRlUGFyYW1ldGVyKHBhcmVudCwgUmVnRXhwKFwiXnByb2plY3RzL1teL10rL2ZlYXR1cmVWaWV3cy9bXi9dKyRcIikpO1xuICByZXR1cm4gdGhpcy4kYXBpQ2xpZW50LiRyZXF1ZXN0KHtib2R5Om51bGwsIGh0dHBNZXRob2Q6XCJHRVRcIiwgbWV0aG9kSWQ6XCJlYXJ0aGVuZ2luZS5wcm9qZWN0cy5mZWF0dXJlVmlld3MudGlsZXMuZ2V0XCIsIHBhdGg6XCIvXCIgKyB0aGlzLmdhcGlWZXJzaW9uICsgXCIvXCIgKyBwYXJlbnQgKyBcIi90aWxlcy9cIiArIHpvb20gKyBcIi9cIiArIHggKyBcIi9cIiArIHksIHF1ZXJ5UGFyYW1zOm1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRyZXF1ZXN0X3BhcmFtc19idWlsZFF1ZXJ5UGFyYW1zKG5hbWVkUGFyYW1ldGVycywgbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfUEFSQU1fTUFQXzAsIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzKSwgcmVzcG9uc2VDdG9yOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSHR0cEJvZHl9KTtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzRmVhdHVyZVZpZXdzVGlsZXNBcGlDbGllbnQgPSBmdW5jdGlvbigpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LklQcm9qZWN0c0ZpbG1zdHJpcFRodW1ibmFpbHNBcGlDbGllbnQkWGdhZnZFbnVtID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfSVByb2plY3RzRmlsbXN0cmlwVGh1bWJuYWlsc0FwaUNsaWVudCRYZ2FmdkVudW0oKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0ZpbG1zdHJpcFRodW1ibmFpbHNBcGlDbGllbnQkWGdhZnZFbnVtID0gezE6XCIxXCIsIDI6XCIyXCIsIHZhbHVlczpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIFttb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzRmlsbXN0cmlwVGh1bWJuYWlsc0FwaUNsaWVudCRYZ2FmdkVudW1bMV0sIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNGaWxtc3RyaXBUaHVtYm5haWxzQXBpQ2xpZW50JFhnYWZ2RW51bVsyXV07XG59fTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSVByb2plY3RzRmlsbXN0cmlwVGh1bWJuYWlsc0FwaUNsaWVudEFsdEVudW0gPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9JUHJvamVjdHNGaWxtc3RyaXBUaHVtYm5haWxzQXBpQ2xpZW50QWx0RW51bSgpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzRmlsbXN0cmlwVGh1bWJuYWlsc0FwaUNsaWVudEFsdEVudW0gPSB7SlNPTjpcImpzb25cIiwgTUVESUE6XCJtZWRpYVwiLCBQUk9UTzpcInByb3RvXCIsIHZhbHVlczpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIFttb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzRmlsbXN0cmlwVGh1bWJuYWlsc0FwaUNsaWVudEFsdEVudW0uSlNPTiwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0ZpbG1zdHJpcFRodW1ibmFpbHNBcGlDbGllbnRBbHRFbnVtLk1FRElBLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzRmlsbXN0cmlwVGh1bWJuYWlsc0FwaUNsaWVudEFsdEVudW0uUFJPVE9dO1xufX07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzRmlsbXN0cmlwVGh1bWJuYWlsc0FwaUNsaWVudEltcGwgPSBmdW5jdGlvbihnYXBpVmVyc2lvbiwgZ2FwaVJlcXVlc3RTZXJ2aWNlLCBhcGlDbGllbnRIb29rRmFjdG9yeSkge1xuICB0aGlzLmdhcGlWZXJzaW9uID0gZ2FwaVZlcnNpb247XG4gIHRoaXMuJGFwaUNsaWVudCA9IG5ldyBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRwcm9taXNlX2FwaV9jbGllbnQuUHJvbWlzZUFwaUNsaWVudChnYXBpUmVxdWVzdFNlcnZpY2UsIHZvaWQgMCA9PT0gYXBpQ2xpZW50SG9va0ZhY3RvcnkgPyBudWxsIDogYXBpQ2xpZW50SG9va0ZhY3RvcnkpO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNGaWxtc3RyaXBUaHVtYm5haWxzQXBpQ2xpZW50SW1wbC5wcm90b3R5cGUuY3JlYXRlID0gZnVuY3Rpb24ocGFyZW50LCAkcmVxdWVzdEJvZHksIG5hbWVkUGFyYW1ldGVycywgcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMpIHtcbiAgbmFtZWRQYXJhbWV0ZXJzID0gdm9pZCAwID09PSBuYW1lZFBhcmFtZXRlcnMgPyB7fSA6IG5hbWVkUGFyYW1ldGVycztcbiAgcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzID8ge30gOiBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycztcbiAgdGhpcy4kYXBpQ2xpZW50LiR2YWxpZGF0ZVBhcmFtZXRlcihwYXJlbnQsIFJlZ0V4cChcIl5wcm9qZWN0cy9bXi9dKyRcIikpO1xuICByZXR1cm4gdGhpcy4kYXBpQ2xpZW50LiRyZXF1ZXN0KHtib2R5OiRyZXF1ZXN0Qm9keSwgaHR0cE1ldGhvZDpcIlBPU1RcIiwgbWV0aG9kSWQ6XCJlYXJ0aGVuZ2luZS5wcm9qZWN0cy5maWxtc3RyaXBUaHVtYm5haWxzLmNyZWF0ZVwiLCBwYXRoOlwiL1wiICsgdGhpcy5nYXBpVmVyc2lvbiArIFwiL1wiICsgcGFyZW50ICsgXCIvZmlsbXN0cmlwVGh1bWJuYWlsc1wiLCBxdWVyeVBhcmFtczptb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkcmVxdWVzdF9wYXJhbXNfYnVpbGRRdWVyeVBhcmFtcyhuYW1lZFBhcmFtZXRlcnMsIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X1BBUkFNX01BUF8wLCBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycyksIHJlc3BvbnNlQ3Rvcjptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkZpbG1zdHJpcFRodW1ibmFpbH0pO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNGaWxtc3RyaXBUaHVtYm5haWxzQXBpQ2xpZW50SW1wbC5wcm90b3R5cGUuZ2V0UGl4ZWxzID0gZnVuY3Rpb24obmFtZSwgbmFtZWRQYXJhbWV0ZXJzLCBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycykge1xuICBuYW1lZFBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IG5hbWVkUGFyYW1ldGVycyA/IHt9IDogbmFtZWRQYXJhbWV0ZXJzO1xuICBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMgPyB7fSA6IHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzO1xuICB0aGlzLiRhcGlDbGllbnQuJHZhbGlkYXRlUGFyYW1ldGVyKG5hbWUsIFJlZ0V4cChcIl5wcm9qZWN0cy9bXi9dKy9maWxtc3RyaXBUaHVtYm5haWxzL1teL10rJFwiKSk7XG4gIHJldHVybiB0aGlzLiRhcGlDbGllbnQuJHJlcXVlc3Qoe2JvZHk6bnVsbCwgaHR0cE1ldGhvZDpcIkdFVFwiLCBtZXRob2RJZDpcImVhcnRoZW5naW5lLnByb2plY3RzLmZpbG1zdHJpcFRodW1ibmFpbHMuZ2V0UGl4ZWxzXCIsIHBhdGg6XCIvXCIgKyB0aGlzLmdhcGlWZXJzaW9uICsgXCIvXCIgKyBuYW1lICsgXCI6Z2V0UGl4ZWxzXCIsIHF1ZXJ5UGFyYW1zOm1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRyZXF1ZXN0X3BhcmFtc19idWlsZFF1ZXJ5UGFyYW1zKG5hbWVkUGFyYW1ldGVycywgbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfUEFSQU1fTUFQXzAsIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzKSwgcmVzcG9uc2VDdG9yOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSHR0cEJvZHl9KTtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzRmlsbXN0cmlwVGh1bWJuYWlsc0FwaUNsaWVudCA9IGZ1bmN0aW9uKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSVByb2plY3RzSW1hZ2VBcGlDbGllbnQkWGdhZnZFbnVtID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfSVByb2plY3RzSW1hZ2VBcGlDbGllbnQkWGdhZnZFbnVtKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNJbWFnZUFwaUNsaWVudCRYZ2FmdkVudW0gPSB7MTpcIjFcIiwgMjpcIjJcIiwgdmFsdWVzOmZ1bmN0aW9uKCkge1xuICByZXR1cm4gW21vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNJbWFnZUFwaUNsaWVudCRYZ2FmdkVudW1bMV0sIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNJbWFnZUFwaUNsaWVudCRYZ2FmdkVudW1bMl1dO1xufX07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LklQcm9qZWN0c0ltYWdlQXBpQ2xpZW50QWx0RW51bSA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0lQcm9qZWN0c0ltYWdlQXBpQ2xpZW50QWx0RW51bSgpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzSW1hZ2VBcGlDbGllbnRBbHRFbnVtID0ge0pTT046XCJqc29uXCIsIE1FRElBOlwibWVkaWFcIiwgUFJPVE86XCJwcm90b1wiLCB2YWx1ZXM6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiBbbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0ltYWdlQXBpQ2xpZW50QWx0RW51bS5KU09OLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzSW1hZ2VBcGlDbGllbnRBbHRFbnVtLk1FRElBLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzSW1hZ2VBcGlDbGllbnRBbHRFbnVtLlBST1RPXTtcbn19O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0ltYWdlQXBpQ2xpZW50SW1wbCA9IGZ1bmN0aW9uKGdhcGlWZXJzaW9uLCBnYXBpUmVxdWVzdFNlcnZpY2UsIGFwaUNsaWVudEhvb2tGYWN0b3J5KSB7XG4gIHRoaXMuZ2FwaVZlcnNpb24gPSBnYXBpVmVyc2lvbjtcbiAgdGhpcy4kYXBpQ2xpZW50ID0gbmV3IG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JHByb21pc2VfYXBpX2NsaWVudC5Qcm9taXNlQXBpQ2xpZW50KGdhcGlSZXF1ZXN0U2VydmljZSwgdm9pZCAwID09PSBhcGlDbGllbnRIb29rRmFjdG9yeSA/IG51bGwgOiBhcGlDbGllbnRIb29rRmFjdG9yeSk7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0ltYWdlQXBpQ2xpZW50SW1wbC5wcm90b3R5cGUuY29tcHV0ZVBpeGVscyA9IGZ1bmN0aW9uKHByb2plY3QsICRyZXF1ZXN0Qm9keSwgbmFtZWRQYXJhbWV0ZXJzLCBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycykge1xuICBuYW1lZFBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IG5hbWVkUGFyYW1ldGVycyA/IHt9IDogbmFtZWRQYXJhbWV0ZXJzO1xuICBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMgPyB7fSA6IHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzO1xuICB0aGlzLiRhcGlDbGllbnQuJHZhbGlkYXRlUGFyYW1ldGVyKHByb2plY3QsIFJlZ0V4cChcIl5wcm9qZWN0cy9bXi9dKyRcIikpO1xuICByZXR1cm4gdGhpcy4kYXBpQ2xpZW50LiRyZXF1ZXN0KHtib2R5OiRyZXF1ZXN0Qm9keSwgaHR0cE1ldGhvZDpcIlBPU1RcIiwgbWV0aG9kSWQ6XCJlYXJ0aGVuZ2luZS5wcm9qZWN0cy5pbWFnZS5jb21wdXRlUGl4ZWxzXCIsIHBhdGg6XCIvXCIgKyB0aGlzLmdhcGlWZXJzaW9uICsgXCIvXCIgKyBwcm9qZWN0ICsgXCIvaW1hZ2U6Y29tcHV0ZVBpeGVsc1wiLCBxdWVyeVBhcmFtczptb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkcmVxdWVzdF9wYXJhbXNfYnVpbGRRdWVyeVBhcmFtcyhuYW1lZFBhcmFtZXRlcnMsIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X1BBUkFNX01BUF8wLCBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycyksIHJlc3BvbnNlQ3Rvcjptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50Lkh0dHBCb2R5fSk7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0ltYWdlQXBpQ2xpZW50SW1wbC5wcm90b3R5cGUuZXhwb3J0ID0gZnVuY3Rpb24ocHJvamVjdCwgJHJlcXVlc3RCb2R5LCBuYW1lZFBhcmFtZXRlcnMsIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzKSB7XG4gIG5hbWVkUGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gbmFtZWRQYXJhbWV0ZXJzID8ge30gOiBuYW1lZFBhcmFtZXRlcnM7XG4gIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycyA/IHt9IDogcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnM7XG4gIHRoaXMuJGFwaUNsaWVudC4kdmFsaWRhdGVQYXJhbWV0ZXIocHJvamVjdCwgUmVnRXhwKFwiXnByb2plY3RzL1teL10rJFwiKSk7XG4gIHJldHVybiB0aGlzLiRhcGlDbGllbnQuJHJlcXVlc3Qoe2JvZHk6JHJlcXVlc3RCb2R5LCBodHRwTWV0aG9kOlwiUE9TVFwiLCBtZXRob2RJZDpcImVhcnRoZW5naW5lLnByb2plY3RzLmltYWdlLmV4cG9ydFwiLCBwYXRoOlwiL1wiICsgdGhpcy5nYXBpVmVyc2lvbiArIFwiL1wiICsgcHJvamVjdCArIFwiL2ltYWdlOmV4cG9ydFwiLCBxdWVyeVBhcmFtczptb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkcmVxdWVzdF9wYXJhbXNfYnVpbGRRdWVyeVBhcmFtcyhuYW1lZFBhcmFtZXRlcnMsIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X1BBUkFNX01BUF8wLCBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycyksIHJlc3BvbnNlQ3Rvcjptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50Lk9wZXJhdGlvbn0pO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNJbWFnZUFwaUNsaWVudEltcGwucHJvdG90eXBlLmltcG9ydCA9IGZ1bmN0aW9uKHByb2plY3QsICRyZXF1ZXN0Qm9keSwgbmFtZWRQYXJhbWV0ZXJzLCBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycykge1xuICBuYW1lZFBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IG5hbWVkUGFyYW1ldGVycyA/IHt9IDogbmFtZWRQYXJhbWV0ZXJzO1xuICBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMgPyB7fSA6IHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzO1xuICB0aGlzLiRhcGlDbGllbnQuJHZhbGlkYXRlUGFyYW1ldGVyKHByb2plY3QsIFJlZ0V4cChcIl5wcm9qZWN0cy9bXi9dKyRcIikpO1xuICByZXR1cm4gdGhpcy4kYXBpQ2xpZW50LiRyZXF1ZXN0KHtib2R5OiRyZXF1ZXN0Qm9keSwgaHR0cE1ldGhvZDpcIlBPU1RcIiwgbWV0aG9kSWQ6XCJlYXJ0aGVuZ2luZS5wcm9qZWN0cy5pbWFnZS5pbXBvcnRcIiwgcGF0aDpcIi9cIiArIHRoaXMuZ2FwaVZlcnNpb24gKyBcIi9cIiArIHByb2plY3QgKyBcIi9pbWFnZTppbXBvcnRcIiwgcXVlcnlQYXJhbXM6bW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JHJlcXVlc3RfcGFyYW1zX2J1aWxkUXVlcnlQYXJhbXMobmFtZWRQYXJhbWV0ZXJzLCBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9QQVJBTV9NQVBfMCwgcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMpLCByZXNwb25zZUN0b3I6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5PcGVyYXRpb259KTtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzSW1hZ2VBcGlDbGllbnQgPSBmdW5jdGlvbigpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LklQcm9qZWN0c0ltYWdlQ29sbGVjdGlvbkFwaUNsaWVudCRYZ2FmdkVudW0gPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9JUHJvamVjdHNJbWFnZUNvbGxlY3Rpb25BcGlDbGllbnQkWGdhZnZFbnVtKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNJbWFnZUNvbGxlY3Rpb25BcGlDbGllbnQkWGdhZnZFbnVtID0gezE6XCIxXCIsIDI6XCIyXCIsIHZhbHVlczpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIFttb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzSW1hZ2VDb2xsZWN0aW9uQXBpQ2xpZW50JFhnYWZ2RW51bVsxXSwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0ltYWdlQ29sbGVjdGlvbkFwaUNsaWVudCRYZ2FmdkVudW1bMl1dO1xufX07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LklQcm9qZWN0c0ltYWdlQ29sbGVjdGlvbkFwaUNsaWVudEFsdEVudW0gPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9JUHJvamVjdHNJbWFnZUNvbGxlY3Rpb25BcGlDbGllbnRBbHRFbnVtKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNJbWFnZUNvbGxlY3Rpb25BcGlDbGllbnRBbHRFbnVtID0ge0pTT046XCJqc29uXCIsIE1FRElBOlwibWVkaWFcIiwgUFJPVE86XCJwcm90b1wiLCB2YWx1ZXM6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiBbbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0ltYWdlQ29sbGVjdGlvbkFwaUNsaWVudEFsdEVudW0uSlNPTiwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0ltYWdlQ29sbGVjdGlvbkFwaUNsaWVudEFsdEVudW0uTUVESUEsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNJbWFnZUNvbGxlY3Rpb25BcGlDbGllbnRBbHRFbnVtLlBST1RPXTtcbn19O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0ltYWdlQ29sbGVjdGlvbkFwaUNsaWVudEltcGwgPSBmdW5jdGlvbihnYXBpVmVyc2lvbiwgZ2FwaVJlcXVlc3RTZXJ2aWNlLCBhcGlDbGllbnRIb29rRmFjdG9yeSkge1xuICB0aGlzLmdhcGlWZXJzaW9uID0gZ2FwaVZlcnNpb247XG4gIHRoaXMuJGFwaUNsaWVudCA9IG5ldyBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRwcm9taXNlX2FwaV9jbGllbnQuUHJvbWlzZUFwaUNsaWVudChnYXBpUmVxdWVzdFNlcnZpY2UsIHZvaWQgMCA9PT0gYXBpQ2xpZW50SG9va0ZhY3RvcnkgPyBudWxsIDogYXBpQ2xpZW50SG9va0ZhY3RvcnkpO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNJbWFnZUNvbGxlY3Rpb25BcGlDbGllbnRJbXBsLnByb3RvdHlwZS5jb21wdXRlSW1hZ2VzID0gZnVuY3Rpb24ocHJvamVjdCwgJHJlcXVlc3RCb2R5LCBuYW1lZFBhcmFtZXRlcnMsIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzKSB7XG4gIG5hbWVkUGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gbmFtZWRQYXJhbWV0ZXJzID8ge30gOiBuYW1lZFBhcmFtZXRlcnM7XG4gIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycyA/IHt9IDogcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnM7XG4gIHRoaXMuJGFwaUNsaWVudC4kdmFsaWRhdGVQYXJhbWV0ZXIocHJvamVjdCwgUmVnRXhwKFwiXnByb2plY3RzL1teL10rJFwiKSk7XG4gIHJldHVybiB0aGlzLiRhcGlDbGllbnQuJHJlcXVlc3Qoe2JvZHk6JHJlcXVlc3RCb2R5LCBodHRwTWV0aG9kOlwiUE9TVFwiLCBtZXRob2RJZDpcImVhcnRoZW5naW5lLnByb2plY3RzLmltYWdlQ29sbGVjdGlvbi5jb21wdXRlSW1hZ2VzXCIsIHBhdGg6XCIvXCIgKyB0aGlzLmdhcGlWZXJzaW9uICsgXCIvXCIgKyBwcm9qZWN0ICsgXCIvaW1hZ2VDb2xsZWN0aW9uOmNvbXB1dGVJbWFnZXNcIiwgcXVlcnlQYXJhbXM6bW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JHJlcXVlc3RfcGFyYW1zX2J1aWxkUXVlcnlQYXJhbXMobmFtZWRQYXJhbWV0ZXJzLCBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9QQVJBTV9NQVBfMCwgcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMpLCByZXNwb25zZUN0b3I6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Db21wdXRlSW1hZ2VzUmVzcG9uc2V9KTtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzSW1hZ2VDb2xsZWN0aW9uQXBpQ2xpZW50ID0gZnVuY3Rpb24oKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JUHJvamVjdHNMb2NhdGlvbnNBc3NldHNBcGlDbGllbnQkWGdhZnZFbnVtID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfSVByb2plY3RzTG9jYXRpb25zQXNzZXRzQXBpQ2xpZW50JFhnYWZ2RW51bSgpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzTG9jYXRpb25zQXNzZXRzQXBpQ2xpZW50JFhnYWZ2RW51bSA9IHsxOlwiMVwiLCAyOlwiMlwiLCB2YWx1ZXM6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiBbbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0xvY2F0aW9uc0Fzc2V0c0FwaUNsaWVudCRYZ2FmdkVudW1bMV0sIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNMb2NhdGlvbnNBc3NldHNBcGlDbGllbnQkWGdhZnZFbnVtWzJdXTtcbn19O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JUHJvamVjdHNMb2NhdGlvbnNBc3NldHNBcGlDbGllbnRBbHRFbnVtID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfSVByb2plY3RzTG9jYXRpb25zQXNzZXRzQXBpQ2xpZW50QWx0RW51bSgpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzTG9jYXRpb25zQXNzZXRzQXBpQ2xpZW50QWx0RW51bSA9IHtKU09OOlwianNvblwiLCBNRURJQTpcIm1lZGlhXCIsIFBST1RPOlwicHJvdG9cIiwgdmFsdWVzOmZ1bmN0aW9uKCkge1xuICByZXR1cm4gW21vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNMb2NhdGlvbnNBc3NldHNBcGlDbGllbnRBbHRFbnVtLkpTT04sIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNMb2NhdGlvbnNBc3NldHNBcGlDbGllbnRBbHRFbnVtLk1FRElBLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzTG9jYXRpb25zQXNzZXRzQXBpQ2xpZW50QWx0RW51bS5QUk9UT107XG59fTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNMb2NhdGlvbnNBc3NldHNBcGlDbGllbnRJbXBsID0gZnVuY3Rpb24oZ2FwaVZlcnNpb24sIGdhcGlSZXF1ZXN0U2VydmljZSwgYXBpQ2xpZW50SG9va0ZhY3RvcnkpIHtcbiAgdGhpcy5nYXBpVmVyc2lvbiA9IGdhcGlWZXJzaW9uO1xuICB0aGlzLiRhcGlDbGllbnQgPSBuZXcgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkcHJvbWlzZV9hcGlfY2xpZW50LlByb21pc2VBcGlDbGllbnQoZ2FwaVJlcXVlc3RTZXJ2aWNlLCB2b2lkIDAgPT09IGFwaUNsaWVudEhvb2tGYWN0b3J5ID8gbnVsbCA6IGFwaUNsaWVudEhvb2tGYWN0b3J5KTtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzTG9jYXRpb25zQXNzZXRzQXBpQ2xpZW50SW1wbC5wcm90b3R5cGUuY3JlYXRlID0gZnVuY3Rpb24ocGFyZW50LCAkcmVxdWVzdEJvZHksIG5hbWVkUGFyYW1ldGVycywgcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMpIHtcbiAgbmFtZWRQYXJhbWV0ZXJzID0gdm9pZCAwID09PSBuYW1lZFBhcmFtZXRlcnMgPyB7fSA6IG5hbWVkUGFyYW1ldGVycztcbiAgcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzID8ge30gOiBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycztcbiAgdGhpcy4kYXBpQ2xpZW50LiR2YWxpZGF0ZVBhcmFtZXRlcihwYXJlbnQsIFJlZ0V4cChcIl5wcm9qZWN0cy9bXi9dKy9sb2NhdGlvbnMvW14vXSskXCIpKTtcbiAgcmV0dXJuIHRoaXMuJGFwaUNsaWVudC4kcmVxdWVzdCh7Ym9keTokcmVxdWVzdEJvZHksIGh0dHBNZXRob2Q6XCJQT1NUXCIsIG1ldGhvZElkOlwiZWFydGhlbmdpbmUucHJvamVjdHMubG9jYXRpb25zLmFzc2V0cy5jcmVhdGVcIiwgcGF0aDpcIi9cIiArIHRoaXMuZ2FwaVZlcnNpb24gKyBcIi9cIiArIHBhcmVudCArIFwiL2Fzc2V0c1wiLCBxdWVyeVBhcmFtczptb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkcmVxdWVzdF9wYXJhbXNfYnVpbGRRdWVyeVBhcmFtcyhuYW1lZFBhcmFtZXRlcnMsIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X1BBUkFNX01BUF8wLCBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycyksIHJlc3BvbnNlQ3Rvcjptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkVhcnRoRW5naW5lQXNzZXR9KTtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzTG9jYXRpb25zQXNzZXRzQXBpQ2xpZW50SW1wbC5wcm90b3R5cGUuY3JlYXRlSW5lcm5hbCA9IGZ1bmN0aW9uKHBhcmVudCwgJHJlcXVlc3RCb2R5LCBuYW1lZFBhcmFtZXRlcnMsIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzKSB7XG4gIG5hbWVkUGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gbmFtZWRQYXJhbWV0ZXJzID8ge30gOiBuYW1lZFBhcmFtZXRlcnM7XG4gIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycyA/IHt9IDogcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnM7XG4gIHRoaXMuJGFwaUNsaWVudC4kdmFsaWRhdGVQYXJhbWV0ZXIocGFyZW50LCBSZWdFeHAoXCJecHJvamVjdHMvW14vXSsvbG9jYXRpb25zL1teL10rJFwiKSk7XG4gIHJldHVybiB0aGlzLiRhcGlDbGllbnQuJHJlcXVlc3Qoe2JvZHk6JHJlcXVlc3RCb2R5LCBodHRwTWV0aG9kOlwiUE9TVFwiLCBtZXRob2RJZDpcImVhcnRoZW5naW5lLnByb2plY3RzLmxvY2F0aW9ucy5hc3NldHMuY3JlYXRlSW5lcm5hbFwiLCBwYXRoOlwiL1wiICsgdGhpcy5nYXBpVmVyc2lvbiArIFwiL1wiICsgcGFyZW50ICsgXCIvYXNzZXRzOmNyZWF0ZUluZXJuYWxcIiwgcXVlcnlQYXJhbXM6bW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JHJlcXVlc3RfcGFyYW1zX2J1aWxkUXVlcnlQYXJhbXMobmFtZWRQYXJhbWV0ZXJzLCBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9QQVJBTV9NQVBfMCwgcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMpLCByZXNwb25zZUN0b3I6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5FYXJ0aEVuZ2luZUFzc2V0fSk7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0xvY2F0aW9uc0Fzc2V0c0FwaUNsaWVudCA9IGZ1bmN0aW9uKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSVByb2plY3RzTG9jYXRpb25zRmlsbXN0cmlwVGh1bWJuYWlsc0FwaUNsaWVudCRYZ2FmdkVudW0gPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9JUHJvamVjdHNMb2NhdGlvbnNGaWxtc3RyaXBUaHVtYm5haWxzQXBpQ2xpZW50JFhnYWZ2RW51bSgpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzTG9jYXRpb25zRmlsbXN0cmlwVGh1bWJuYWlsc0FwaUNsaWVudCRYZ2FmdkVudW0gPSB7MTpcIjFcIiwgMjpcIjJcIiwgdmFsdWVzOmZ1bmN0aW9uKCkge1xuICByZXR1cm4gW21vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNMb2NhdGlvbnNGaWxtc3RyaXBUaHVtYm5haWxzQXBpQ2xpZW50JFhnYWZ2RW51bVsxXSwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0xvY2F0aW9uc0ZpbG1zdHJpcFRodW1ibmFpbHNBcGlDbGllbnQkWGdhZnZFbnVtWzJdXTtcbn19O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JUHJvamVjdHNMb2NhdGlvbnNGaWxtc3RyaXBUaHVtYm5haWxzQXBpQ2xpZW50QWx0RW51bSA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0lQcm9qZWN0c0xvY2F0aW9uc0ZpbG1zdHJpcFRodW1ibmFpbHNBcGlDbGllbnRBbHRFbnVtKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNMb2NhdGlvbnNGaWxtc3RyaXBUaHVtYm5haWxzQXBpQ2xpZW50QWx0RW51bSA9IHtKU09OOlwianNvblwiLCBNRURJQTpcIm1lZGlhXCIsIFBST1RPOlwicHJvdG9cIiwgdmFsdWVzOmZ1bmN0aW9uKCkge1xuICByZXR1cm4gW21vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNMb2NhdGlvbnNGaWxtc3RyaXBUaHVtYm5haWxzQXBpQ2xpZW50QWx0RW51bS5KU09OLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzTG9jYXRpb25zRmlsbXN0cmlwVGh1bWJuYWlsc0FwaUNsaWVudEFsdEVudW0uTUVESUEsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNMb2NhdGlvbnNGaWxtc3RyaXBUaHVtYm5haWxzQXBpQ2xpZW50QWx0RW51bS5QUk9UT107XG59fTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNMb2NhdGlvbnNGaWxtc3RyaXBUaHVtYm5haWxzQXBpQ2xpZW50SW1wbCA9IGZ1bmN0aW9uKGdhcGlWZXJzaW9uLCBnYXBpUmVxdWVzdFNlcnZpY2UsIGFwaUNsaWVudEhvb2tGYWN0b3J5KSB7XG4gIHRoaXMuZ2FwaVZlcnNpb24gPSBnYXBpVmVyc2lvbjtcbiAgdGhpcy4kYXBpQ2xpZW50ID0gbmV3IG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JHByb21pc2VfYXBpX2NsaWVudC5Qcm9taXNlQXBpQ2xpZW50KGdhcGlSZXF1ZXN0U2VydmljZSwgdm9pZCAwID09PSBhcGlDbGllbnRIb29rRmFjdG9yeSA/IG51bGwgOiBhcGlDbGllbnRIb29rRmFjdG9yeSk7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0xvY2F0aW9uc0ZpbG1zdHJpcFRodW1ibmFpbHNBcGlDbGllbnRJbXBsLnByb3RvdHlwZS5jcmVhdGUgPSBmdW5jdGlvbihwYXJlbnQsICRyZXF1ZXN0Qm9keSwgbmFtZWRQYXJhbWV0ZXJzLCBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycykge1xuICBuYW1lZFBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IG5hbWVkUGFyYW1ldGVycyA/IHt9IDogbmFtZWRQYXJhbWV0ZXJzO1xuICBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMgPyB7fSA6IHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzO1xuICB0aGlzLiRhcGlDbGllbnQuJHZhbGlkYXRlUGFyYW1ldGVyKHBhcmVudCwgUmVnRXhwKFwiXnByb2plY3RzL1teL10rL2xvY2F0aW9ucy9bXi9dKyRcIikpO1xuICByZXR1cm4gdGhpcy4kYXBpQ2xpZW50LiRyZXF1ZXN0KHtib2R5OiRyZXF1ZXN0Qm9keSwgaHR0cE1ldGhvZDpcIlBPU1RcIiwgbWV0aG9kSWQ6XCJlYXJ0aGVuZ2luZS5wcm9qZWN0cy5sb2NhdGlvbnMuZmlsbXN0cmlwVGh1bWJuYWlscy5jcmVhdGVcIiwgcGF0aDpcIi9cIiArIHRoaXMuZ2FwaVZlcnNpb24gKyBcIi9cIiArIHBhcmVudCArIFwiL2ZpbG1zdHJpcFRodW1ibmFpbHNcIiwgcXVlcnlQYXJhbXM6bW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JHJlcXVlc3RfcGFyYW1zX2J1aWxkUXVlcnlQYXJhbXMobmFtZWRQYXJhbWV0ZXJzLCBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9QQVJBTV9NQVBfMCwgcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMpLCByZXNwb25zZUN0b3I6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5GaWxtc3RyaXBUaHVtYm5haWx9KTtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzTG9jYXRpb25zRmlsbXN0cmlwVGh1bWJuYWlsc0FwaUNsaWVudCA9IGZ1bmN0aW9uKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSVByb2plY3RzTG9jYXRpb25zTWFwc0FwaUNsaWVudCRYZ2FmdkVudW0gPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9JUHJvamVjdHNMb2NhdGlvbnNNYXBzQXBpQ2xpZW50JFhnYWZ2RW51bSgpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzTG9jYXRpb25zTWFwc0FwaUNsaWVudCRYZ2FmdkVudW0gPSB7MTpcIjFcIiwgMjpcIjJcIiwgdmFsdWVzOmZ1bmN0aW9uKCkge1xuICByZXR1cm4gW21vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNMb2NhdGlvbnNNYXBzQXBpQ2xpZW50JFhnYWZ2RW51bVsxXSwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0xvY2F0aW9uc01hcHNBcGlDbGllbnQkWGdhZnZFbnVtWzJdXTtcbn19O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JUHJvamVjdHNMb2NhdGlvbnNNYXBzQXBpQ2xpZW50QWx0RW51bSA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0lQcm9qZWN0c0xvY2F0aW9uc01hcHNBcGlDbGllbnRBbHRFbnVtKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNMb2NhdGlvbnNNYXBzQXBpQ2xpZW50QWx0RW51bSA9IHtKU09OOlwianNvblwiLCBNRURJQTpcIm1lZGlhXCIsIFBST1RPOlwicHJvdG9cIiwgdmFsdWVzOmZ1bmN0aW9uKCkge1xuICByZXR1cm4gW21vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNMb2NhdGlvbnNNYXBzQXBpQ2xpZW50QWx0RW51bS5KU09OLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzTG9jYXRpb25zTWFwc0FwaUNsaWVudEFsdEVudW0uTUVESUEsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNMb2NhdGlvbnNNYXBzQXBpQ2xpZW50QWx0RW51bS5QUk9UT107XG59fTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNMb2NhdGlvbnNNYXBzQXBpQ2xpZW50SW1wbCA9IGZ1bmN0aW9uKGdhcGlWZXJzaW9uLCBnYXBpUmVxdWVzdFNlcnZpY2UsIGFwaUNsaWVudEhvb2tGYWN0b3J5KSB7XG4gIHRoaXMuZ2FwaVZlcnNpb24gPSBnYXBpVmVyc2lvbjtcbiAgdGhpcy4kYXBpQ2xpZW50ID0gbmV3IG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JHByb21pc2VfYXBpX2NsaWVudC5Qcm9taXNlQXBpQ2xpZW50KGdhcGlSZXF1ZXN0U2VydmljZSwgdm9pZCAwID09PSBhcGlDbGllbnRIb29rRmFjdG9yeSA/IG51bGwgOiBhcGlDbGllbnRIb29rRmFjdG9yeSk7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0xvY2F0aW9uc01hcHNBcGlDbGllbnRJbXBsLnByb3RvdHlwZS5jcmVhdGUgPSBmdW5jdGlvbihwYXJlbnQsICRyZXF1ZXN0Qm9keSwgbmFtZWRQYXJhbWV0ZXJzLCBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycykge1xuICBuYW1lZFBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IG5hbWVkUGFyYW1ldGVycyA/IHt9IDogbmFtZWRQYXJhbWV0ZXJzO1xuICBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMgPyB7fSA6IHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzO1xuICB0aGlzLiRhcGlDbGllbnQuJHZhbGlkYXRlUGFyYW1ldGVyKHBhcmVudCwgUmVnRXhwKFwiXnByb2plY3RzL1teL10rL2xvY2F0aW9ucy9bXi9dKyRcIikpO1xuICByZXR1cm4gdGhpcy4kYXBpQ2xpZW50LiRyZXF1ZXN0KHtib2R5OiRyZXF1ZXN0Qm9keSwgaHR0cE1ldGhvZDpcIlBPU1RcIiwgbWV0aG9kSWQ6XCJlYXJ0aGVuZ2luZS5wcm9qZWN0cy5sb2NhdGlvbnMubWFwcy5jcmVhdGVcIiwgcGF0aDpcIi9cIiArIHRoaXMuZ2FwaVZlcnNpb24gKyBcIi9cIiArIHBhcmVudCArIFwiL21hcHNcIiwgcXVlcnlQYXJhbXM6bW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JHJlcXVlc3RfcGFyYW1zX2J1aWxkUXVlcnlQYXJhbXMobmFtZWRQYXJhbWV0ZXJzLCBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9QQVJBTV9NQVBfMCwgcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMpLCByZXNwb25zZUN0b3I6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5FYXJ0aEVuZ2luZU1hcH0pO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNMb2NhdGlvbnNNYXBzQXBpQ2xpZW50ID0gZnVuY3Rpb24oKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JUHJvamVjdHNMb2NhdGlvbnNUYWJsZXNBcGlDbGllbnQkWGdhZnZFbnVtID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfSVByb2plY3RzTG9jYXRpb25zVGFibGVzQXBpQ2xpZW50JFhnYWZ2RW51bSgpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzTG9jYXRpb25zVGFibGVzQXBpQ2xpZW50JFhnYWZ2RW51bSA9IHsxOlwiMVwiLCAyOlwiMlwiLCB2YWx1ZXM6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiBbbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0xvY2F0aW9uc1RhYmxlc0FwaUNsaWVudCRYZ2FmdkVudW1bMV0sIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNMb2NhdGlvbnNUYWJsZXNBcGlDbGllbnQkWGdhZnZFbnVtWzJdXTtcbn19O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JUHJvamVjdHNMb2NhdGlvbnNUYWJsZXNBcGlDbGllbnRBbHRFbnVtID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfSVByb2plY3RzTG9jYXRpb25zVGFibGVzQXBpQ2xpZW50QWx0RW51bSgpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzTG9jYXRpb25zVGFibGVzQXBpQ2xpZW50QWx0RW51bSA9IHtKU09OOlwianNvblwiLCBNRURJQTpcIm1lZGlhXCIsIFBST1RPOlwicHJvdG9cIiwgdmFsdWVzOmZ1bmN0aW9uKCkge1xuICByZXR1cm4gW21vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNMb2NhdGlvbnNUYWJsZXNBcGlDbGllbnRBbHRFbnVtLkpTT04sIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNMb2NhdGlvbnNUYWJsZXNBcGlDbGllbnRBbHRFbnVtLk1FRElBLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzTG9jYXRpb25zVGFibGVzQXBpQ2xpZW50QWx0RW51bS5QUk9UT107XG59fTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNMb2NhdGlvbnNUYWJsZXNBcGlDbGllbnRJbXBsID0gZnVuY3Rpb24oZ2FwaVZlcnNpb24sIGdhcGlSZXF1ZXN0U2VydmljZSwgYXBpQ2xpZW50SG9va0ZhY3RvcnkpIHtcbiAgdGhpcy5nYXBpVmVyc2lvbiA9IGdhcGlWZXJzaW9uO1xuICB0aGlzLiRhcGlDbGllbnQgPSBuZXcgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkcHJvbWlzZV9hcGlfY2xpZW50LlByb21pc2VBcGlDbGllbnQoZ2FwaVJlcXVlc3RTZXJ2aWNlLCB2b2lkIDAgPT09IGFwaUNsaWVudEhvb2tGYWN0b3J5ID8gbnVsbCA6IGFwaUNsaWVudEhvb2tGYWN0b3J5KTtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzTG9jYXRpb25zVGFibGVzQXBpQ2xpZW50SW1wbC5wcm90b3R5cGUuY3JlYXRlID0gZnVuY3Rpb24ocGFyZW50LCAkcmVxdWVzdEJvZHksIG5hbWVkUGFyYW1ldGVycywgcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMpIHtcbiAgbmFtZWRQYXJhbWV0ZXJzID0gdm9pZCAwID09PSBuYW1lZFBhcmFtZXRlcnMgPyB7fSA6IG5hbWVkUGFyYW1ldGVycztcbiAgcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzID8ge30gOiBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycztcbiAgdGhpcy4kYXBpQ2xpZW50LiR2YWxpZGF0ZVBhcmFtZXRlcihwYXJlbnQsIFJlZ0V4cChcIl5wcm9qZWN0cy9bXi9dKy9sb2NhdGlvbnMvW14vXSskXCIpKTtcbiAgcmV0dXJuIHRoaXMuJGFwaUNsaWVudC4kcmVxdWVzdCh7Ym9keTokcmVxdWVzdEJvZHksIGh0dHBNZXRob2Q6XCJQT1NUXCIsIG1ldGhvZElkOlwiZWFydGhlbmdpbmUucHJvamVjdHMubG9jYXRpb25zLnRhYmxlcy5jcmVhdGVcIiwgcGF0aDpcIi9cIiArIHRoaXMuZ2FwaVZlcnNpb24gKyBcIi9cIiArIHBhcmVudCArIFwiL3RhYmxlc1wiLCBxdWVyeVBhcmFtczptb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkcmVxdWVzdF9wYXJhbXNfYnVpbGRRdWVyeVBhcmFtcyhuYW1lZFBhcmFtZXRlcnMsIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X1BBUkFNX01BUF8wLCBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycyksIHJlc3BvbnNlQ3Rvcjptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRhYmxlfSk7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0xvY2F0aW9uc1RhYmxlc0FwaUNsaWVudCA9IGZ1bmN0aW9uKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSVByb2plY3RzTG9jYXRpb25zVGh1bWJuYWlsc0FwaUNsaWVudCRYZ2FmdkVudW0gPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9JUHJvamVjdHNMb2NhdGlvbnNUaHVtYm5haWxzQXBpQ2xpZW50JFhnYWZ2RW51bSgpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzTG9jYXRpb25zVGh1bWJuYWlsc0FwaUNsaWVudCRYZ2FmdkVudW0gPSB7MTpcIjFcIiwgMjpcIjJcIiwgdmFsdWVzOmZ1bmN0aW9uKCkge1xuICByZXR1cm4gW21vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNMb2NhdGlvbnNUaHVtYm5haWxzQXBpQ2xpZW50JFhnYWZ2RW51bVsxXSwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0xvY2F0aW9uc1RodW1ibmFpbHNBcGlDbGllbnQkWGdhZnZFbnVtWzJdXTtcbn19O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JUHJvamVjdHNMb2NhdGlvbnNUaHVtYm5haWxzQXBpQ2xpZW50QWx0RW51bSA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0lQcm9qZWN0c0xvY2F0aW9uc1RodW1ibmFpbHNBcGlDbGllbnRBbHRFbnVtKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNMb2NhdGlvbnNUaHVtYm5haWxzQXBpQ2xpZW50QWx0RW51bSA9IHtKU09OOlwianNvblwiLCBNRURJQTpcIm1lZGlhXCIsIFBST1RPOlwicHJvdG9cIiwgdmFsdWVzOmZ1bmN0aW9uKCkge1xuICByZXR1cm4gW21vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNMb2NhdGlvbnNUaHVtYm5haWxzQXBpQ2xpZW50QWx0RW51bS5KU09OLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzTG9jYXRpb25zVGh1bWJuYWlsc0FwaUNsaWVudEFsdEVudW0uTUVESUEsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNMb2NhdGlvbnNUaHVtYm5haWxzQXBpQ2xpZW50QWx0RW51bS5QUk9UT107XG59fTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNMb2NhdGlvbnNUaHVtYm5haWxzQXBpQ2xpZW50SW1wbCA9IGZ1bmN0aW9uKGdhcGlWZXJzaW9uLCBnYXBpUmVxdWVzdFNlcnZpY2UsIGFwaUNsaWVudEhvb2tGYWN0b3J5KSB7XG4gIHRoaXMuZ2FwaVZlcnNpb24gPSBnYXBpVmVyc2lvbjtcbiAgdGhpcy4kYXBpQ2xpZW50ID0gbmV3IG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JHByb21pc2VfYXBpX2NsaWVudC5Qcm9taXNlQXBpQ2xpZW50KGdhcGlSZXF1ZXN0U2VydmljZSwgdm9pZCAwID09PSBhcGlDbGllbnRIb29rRmFjdG9yeSA/IG51bGwgOiBhcGlDbGllbnRIb29rRmFjdG9yeSk7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0xvY2F0aW9uc1RodW1ibmFpbHNBcGlDbGllbnRJbXBsLnByb3RvdHlwZS5jcmVhdGUgPSBmdW5jdGlvbihwYXJlbnQsICRyZXF1ZXN0Qm9keSwgbmFtZWRQYXJhbWV0ZXJzLCBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycykge1xuICBuYW1lZFBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IG5hbWVkUGFyYW1ldGVycyA/IHt9IDogbmFtZWRQYXJhbWV0ZXJzO1xuICBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMgPyB7fSA6IHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzO1xuICB0aGlzLiRhcGlDbGllbnQuJHZhbGlkYXRlUGFyYW1ldGVyKHBhcmVudCwgUmVnRXhwKFwiXnByb2plY3RzL1teL10rL2xvY2F0aW9ucy9bXi9dKyRcIikpO1xuICByZXR1cm4gdGhpcy4kYXBpQ2xpZW50LiRyZXF1ZXN0KHtib2R5OiRyZXF1ZXN0Qm9keSwgaHR0cE1ldGhvZDpcIlBPU1RcIiwgbWV0aG9kSWQ6XCJlYXJ0aGVuZ2luZS5wcm9qZWN0cy5sb2NhdGlvbnMudGh1bWJuYWlscy5jcmVhdGVcIiwgcGF0aDpcIi9cIiArIHRoaXMuZ2FwaVZlcnNpb24gKyBcIi9cIiArIHBhcmVudCArIFwiL3RodW1ibmFpbHNcIiwgcXVlcnlQYXJhbXM6bW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JHJlcXVlc3RfcGFyYW1zX2J1aWxkUXVlcnlQYXJhbXMobmFtZWRQYXJhbWV0ZXJzLCBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9QQVJBTV9NQVBfMCwgcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMpLCByZXNwb25zZUN0b3I6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UaHVtYm5haWx9KTtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzTG9jYXRpb25zVGh1bWJuYWlsc0FwaUNsaWVudCA9IGZ1bmN0aW9uKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSVByb2plY3RzTG9jYXRpb25zVmlkZW9UaHVtYm5haWxzQXBpQ2xpZW50JFhnYWZ2RW51bSA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0lQcm9qZWN0c0xvY2F0aW9uc1ZpZGVvVGh1bWJuYWlsc0FwaUNsaWVudCRYZ2FmdkVudW0oKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0xvY2F0aW9uc1ZpZGVvVGh1bWJuYWlsc0FwaUNsaWVudCRYZ2FmdkVudW0gPSB7MTpcIjFcIiwgMjpcIjJcIiwgdmFsdWVzOmZ1bmN0aW9uKCkge1xuICByZXR1cm4gW21vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNMb2NhdGlvbnNWaWRlb1RodW1ibmFpbHNBcGlDbGllbnQkWGdhZnZFbnVtWzFdLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzTG9jYXRpb25zVmlkZW9UaHVtYm5haWxzQXBpQ2xpZW50JFhnYWZ2RW51bVsyXV07XG59fTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSVByb2plY3RzTG9jYXRpb25zVmlkZW9UaHVtYm5haWxzQXBpQ2xpZW50QWx0RW51bSA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0lQcm9qZWN0c0xvY2F0aW9uc1ZpZGVvVGh1bWJuYWlsc0FwaUNsaWVudEFsdEVudW0oKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0xvY2F0aW9uc1ZpZGVvVGh1bWJuYWlsc0FwaUNsaWVudEFsdEVudW0gPSB7SlNPTjpcImpzb25cIiwgTUVESUE6XCJtZWRpYVwiLCBQUk9UTzpcInByb3RvXCIsIHZhbHVlczpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIFttb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzTG9jYXRpb25zVmlkZW9UaHVtYm5haWxzQXBpQ2xpZW50QWx0RW51bS5KU09OLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzTG9jYXRpb25zVmlkZW9UaHVtYm5haWxzQXBpQ2xpZW50QWx0RW51bS5NRURJQSwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0xvY2F0aW9uc1ZpZGVvVGh1bWJuYWlsc0FwaUNsaWVudEFsdEVudW0uUFJPVE9dO1xufX07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzTG9jYXRpb25zVmlkZW9UaHVtYm5haWxzQXBpQ2xpZW50SW1wbCA9IGZ1bmN0aW9uKGdhcGlWZXJzaW9uLCBnYXBpUmVxdWVzdFNlcnZpY2UsIGFwaUNsaWVudEhvb2tGYWN0b3J5KSB7XG4gIHRoaXMuZ2FwaVZlcnNpb24gPSBnYXBpVmVyc2lvbjtcbiAgdGhpcy4kYXBpQ2xpZW50ID0gbmV3IG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JHByb21pc2VfYXBpX2NsaWVudC5Qcm9taXNlQXBpQ2xpZW50KGdhcGlSZXF1ZXN0U2VydmljZSwgdm9pZCAwID09PSBhcGlDbGllbnRIb29rRmFjdG9yeSA/IG51bGwgOiBhcGlDbGllbnRIb29rRmFjdG9yeSk7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0xvY2F0aW9uc1ZpZGVvVGh1bWJuYWlsc0FwaUNsaWVudEltcGwucHJvdG90eXBlLmNyZWF0ZSA9IGZ1bmN0aW9uKHBhcmVudCwgJHJlcXVlc3RCb2R5LCBuYW1lZFBhcmFtZXRlcnMsIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzKSB7XG4gIG5hbWVkUGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gbmFtZWRQYXJhbWV0ZXJzID8ge30gOiBuYW1lZFBhcmFtZXRlcnM7XG4gIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycyA/IHt9IDogcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnM7XG4gIHRoaXMuJGFwaUNsaWVudC4kdmFsaWRhdGVQYXJhbWV0ZXIocGFyZW50LCBSZWdFeHAoXCJecHJvamVjdHMvW14vXSsvbG9jYXRpb25zL1teL10rJFwiKSk7XG4gIHJldHVybiB0aGlzLiRhcGlDbGllbnQuJHJlcXVlc3Qoe2JvZHk6JHJlcXVlc3RCb2R5LCBodHRwTWV0aG9kOlwiUE9TVFwiLCBtZXRob2RJZDpcImVhcnRoZW5naW5lLnByb2plY3RzLmxvY2F0aW9ucy52aWRlb1RodW1ibmFpbHMuY3JlYXRlXCIsIHBhdGg6XCIvXCIgKyB0aGlzLmdhcGlWZXJzaW9uICsgXCIvXCIgKyBwYXJlbnQgKyBcIi92aWRlb1RodW1ibmFpbHNcIiwgcXVlcnlQYXJhbXM6bW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JHJlcXVlc3RfcGFyYW1zX2J1aWxkUXVlcnlQYXJhbXMobmFtZWRQYXJhbWV0ZXJzLCBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9QQVJBTV9NQVBfMCwgcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMpLCByZXNwb25zZUN0b3I6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5WaWRlb1RodW1ibmFpbH0pO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNMb2NhdGlvbnNWaWRlb1RodW1ibmFpbHNBcGlDbGllbnQgPSBmdW5jdGlvbigpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LklQcm9qZWN0c01hcEFwaUNsaWVudCRYZ2FmdkVudW0gPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9JUHJvamVjdHNNYXBBcGlDbGllbnQkWGdhZnZFbnVtKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNNYXBBcGlDbGllbnQkWGdhZnZFbnVtID0gezE6XCIxXCIsIDI6XCIyXCIsIHZhbHVlczpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIFttb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzTWFwQXBpQ2xpZW50JFhnYWZ2RW51bVsxXSwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c01hcEFwaUNsaWVudCRYZ2FmdkVudW1bMl1dO1xufX07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LklQcm9qZWN0c01hcEFwaUNsaWVudEFsdEVudW0gPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9JUHJvamVjdHNNYXBBcGlDbGllbnRBbHRFbnVtKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNNYXBBcGlDbGllbnRBbHRFbnVtID0ge0pTT046XCJqc29uXCIsIE1FRElBOlwibWVkaWFcIiwgUFJPVE86XCJwcm90b1wiLCB2YWx1ZXM6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiBbbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c01hcEFwaUNsaWVudEFsdEVudW0uSlNPTiwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c01hcEFwaUNsaWVudEFsdEVudW0uTUVESUEsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNNYXBBcGlDbGllbnRBbHRFbnVtLlBST1RPXTtcbn19O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c01hcEFwaUNsaWVudEltcGwgPSBmdW5jdGlvbihnYXBpVmVyc2lvbiwgZ2FwaVJlcXVlc3RTZXJ2aWNlLCBhcGlDbGllbnRIb29rRmFjdG9yeSkge1xuICB0aGlzLmdhcGlWZXJzaW9uID0gZ2FwaVZlcnNpb247XG4gIHRoaXMuJGFwaUNsaWVudCA9IG5ldyBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRwcm9taXNlX2FwaV9jbGllbnQuUHJvbWlzZUFwaUNsaWVudChnYXBpUmVxdWVzdFNlcnZpY2UsIHZvaWQgMCA9PT0gYXBpQ2xpZW50SG9va0ZhY3RvcnkgPyBudWxsIDogYXBpQ2xpZW50SG9va0ZhY3RvcnkpO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNNYXBBcGlDbGllbnRJbXBsLnByb3RvdHlwZS5leHBvcnQgPSBmdW5jdGlvbihwcm9qZWN0LCAkcmVxdWVzdEJvZHksIG5hbWVkUGFyYW1ldGVycywgcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMpIHtcbiAgbmFtZWRQYXJhbWV0ZXJzID0gdm9pZCAwID09PSBuYW1lZFBhcmFtZXRlcnMgPyB7fSA6IG5hbWVkUGFyYW1ldGVycztcbiAgcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzID8ge30gOiBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycztcbiAgdGhpcy4kYXBpQ2xpZW50LiR2YWxpZGF0ZVBhcmFtZXRlcihwcm9qZWN0LCBSZWdFeHAoXCJecHJvamVjdHMvW14vXSskXCIpKTtcbiAgcmV0dXJuIHRoaXMuJGFwaUNsaWVudC4kcmVxdWVzdCh7Ym9keTokcmVxdWVzdEJvZHksIGh0dHBNZXRob2Q6XCJQT1NUXCIsIG1ldGhvZElkOlwiZWFydGhlbmdpbmUucHJvamVjdHMubWFwLmV4cG9ydFwiLCBwYXRoOlwiL1wiICsgdGhpcy5nYXBpVmVyc2lvbiArIFwiL1wiICsgcHJvamVjdCArIFwiL21hcDpleHBvcnRcIiwgcXVlcnlQYXJhbXM6bW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JHJlcXVlc3RfcGFyYW1zX2J1aWxkUXVlcnlQYXJhbXMobmFtZWRQYXJhbWV0ZXJzLCBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9QQVJBTV9NQVBfMCwgcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMpLCByZXNwb25zZUN0b3I6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5PcGVyYXRpb259KTtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzTWFwQXBpQ2xpZW50ID0gZnVuY3Rpb24oKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JUHJvamVjdHNNYXBzQXBpQ2xpZW50JFhnYWZ2RW51bSA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0lQcm9qZWN0c01hcHNBcGlDbGllbnQkWGdhZnZFbnVtKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNNYXBzQXBpQ2xpZW50JFhnYWZ2RW51bSA9IHsxOlwiMVwiLCAyOlwiMlwiLCB2YWx1ZXM6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiBbbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c01hcHNBcGlDbGllbnQkWGdhZnZFbnVtWzFdLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzTWFwc0FwaUNsaWVudCRYZ2FmdkVudW1bMl1dO1xufX07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LklQcm9qZWN0c01hcHNBcGlDbGllbnRBbHRFbnVtID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfSVByb2plY3RzTWFwc0FwaUNsaWVudEFsdEVudW0oKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c01hcHNBcGlDbGllbnRBbHRFbnVtID0ge0pTT046XCJqc29uXCIsIE1FRElBOlwibWVkaWFcIiwgUFJPVE86XCJwcm90b1wiLCB2YWx1ZXM6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiBbbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c01hcHNBcGlDbGllbnRBbHRFbnVtLkpTT04sIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNNYXBzQXBpQ2xpZW50QWx0RW51bS5NRURJQSwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c01hcHNBcGlDbGllbnRBbHRFbnVtLlBST1RPXTtcbn19O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c01hcHNBcGlDbGllbnRJbXBsID0gZnVuY3Rpb24oZ2FwaVZlcnNpb24sIGdhcGlSZXF1ZXN0U2VydmljZSwgYXBpQ2xpZW50SG9va0ZhY3RvcnkpIHtcbiAgdGhpcy5nYXBpVmVyc2lvbiA9IGdhcGlWZXJzaW9uO1xuICB0aGlzLiRhcGlDbGllbnQgPSBuZXcgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkcHJvbWlzZV9hcGlfY2xpZW50LlByb21pc2VBcGlDbGllbnQoZ2FwaVJlcXVlc3RTZXJ2aWNlLCB2b2lkIDAgPT09IGFwaUNsaWVudEhvb2tGYWN0b3J5ID8gbnVsbCA6IGFwaUNsaWVudEhvb2tGYWN0b3J5KTtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzTWFwc0FwaUNsaWVudEltcGwucHJvdG90eXBlLmNyZWF0ZSA9IGZ1bmN0aW9uKHBhcmVudCwgJHJlcXVlc3RCb2R5LCBuYW1lZFBhcmFtZXRlcnMsIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzKSB7XG4gIG5hbWVkUGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gbmFtZWRQYXJhbWV0ZXJzID8ge30gOiBuYW1lZFBhcmFtZXRlcnM7XG4gIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycyA/IHt9IDogcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnM7XG4gIHRoaXMuJGFwaUNsaWVudC4kdmFsaWRhdGVQYXJhbWV0ZXIocGFyZW50LCBSZWdFeHAoXCJecHJvamVjdHMvW14vXSskXCIpKTtcbiAgcmV0dXJuIHRoaXMuJGFwaUNsaWVudC4kcmVxdWVzdCh7Ym9keTokcmVxdWVzdEJvZHksIGh0dHBNZXRob2Q6XCJQT1NUXCIsIG1ldGhvZElkOlwiZWFydGhlbmdpbmUucHJvamVjdHMubWFwcy5jcmVhdGVcIiwgcGF0aDpcIi9cIiArIHRoaXMuZ2FwaVZlcnNpb24gKyBcIi9cIiArIHBhcmVudCArIFwiL21hcHNcIiwgcXVlcnlQYXJhbXM6bW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JHJlcXVlc3RfcGFyYW1zX2J1aWxkUXVlcnlQYXJhbXMobmFtZWRQYXJhbWV0ZXJzLCBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9QQVJBTV9NQVBfMCwgcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMpLCByZXNwb25zZUN0b3I6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5FYXJ0aEVuZ2luZU1hcH0pO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNNYXBzQXBpQ2xpZW50ID0gZnVuY3Rpb24oKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JUHJvamVjdHNNYXBzVGlsZXNBcGlDbGllbnQkWGdhZnZFbnVtID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfSVByb2plY3RzTWFwc1RpbGVzQXBpQ2xpZW50JFhnYWZ2RW51bSgpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzTWFwc1RpbGVzQXBpQ2xpZW50JFhnYWZ2RW51bSA9IHsxOlwiMVwiLCAyOlwiMlwiLCB2YWx1ZXM6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiBbbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c01hcHNUaWxlc0FwaUNsaWVudCRYZ2FmdkVudW1bMV0sIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNNYXBzVGlsZXNBcGlDbGllbnQkWGdhZnZFbnVtWzJdXTtcbn19O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JUHJvamVjdHNNYXBzVGlsZXNBcGlDbGllbnRBbHRFbnVtID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfSVByb2plY3RzTWFwc1RpbGVzQXBpQ2xpZW50QWx0RW51bSgpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzTWFwc1RpbGVzQXBpQ2xpZW50QWx0RW51bSA9IHtKU09OOlwianNvblwiLCBNRURJQTpcIm1lZGlhXCIsIFBST1RPOlwicHJvdG9cIiwgdmFsdWVzOmZ1bmN0aW9uKCkge1xuICByZXR1cm4gW21vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNNYXBzVGlsZXNBcGlDbGllbnRBbHRFbnVtLkpTT04sIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNNYXBzVGlsZXNBcGlDbGllbnRBbHRFbnVtLk1FRElBLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzTWFwc1RpbGVzQXBpQ2xpZW50QWx0RW51bS5QUk9UT107XG59fTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNNYXBzVGlsZXNBcGlDbGllbnRJbXBsID0gZnVuY3Rpb24oZ2FwaVZlcnNpb24sIGdhcGlSZXF1ZXN0U2VydmljZSwgYXBpQ2xpZW50SG9va0ZhY3RvcnkpIHtcbiAgdGhpcy5nYXBpVmVyc2lvbiA9IGdhcGlWZXJzaW9uO1xuICB0aGlzLiRhcGlDbGllbnQgPSBuZXcgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkcHJvbWlzZV9hcGlfY2xpZW50LlByb21pc2VBcGlDbGllbnQoZ2FwaVJlcXVlc3RTZXJ2aWNlLCB2b2lkIDAgPT09IGFwaUNsaWVudEhvb2tGYWN0b3J5ID8gbnVsbCA6IGFwaUNsaWVudEhvb2tGYWN0b3J5KTtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzTWFwc1RpbGVzQXBpQ2xpZW50SW1wbC5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24ocGFyZW50LCB6b29tLCB4LCB5LCBuYW1lZFBhcmFtZXRlcnMsIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzKSB7XG4gIG5hbWVkUGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gbmFtZWRQYXJhbWV0ZXJzID8ge30gOiBuYW1lZFBhcmFtZXRlcnM7XG4gIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycyA/IHt9IDogcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnM7XG4gIHRoaXMuJGFwaUNsaWVudC4kdmFsaWRhdGVQYXJhbWV0ZXIocGFyZW50LCBSZWdFeHAoXCJecHJvamVjdHMvW14vXSsvbWFwcy9bXi9dKyRcIikpO1xuICByZXR1cm4gdGhpcy4kYXBpQ2xpZW50LiRyZXF1ZXN0KHtib2R5Om51bGwsIGh0dHBNZXRob2Q6XCJHRVRcIiwgbWV0aG9kSWQ6XCJlYXJ0aGVuZ2luZS5wcm9qZWN0cy5tYXBzLnRpbGVzLmdldFwiLCBwYXRoOlwiL1wiICsgdGhpcy5nYXBpVmVyc2lvbiArIFwiL1wiICsgcGFyZW50ICsgXCIvdGlsZXMvXCIgKyB6b29tICsgXCIvXCIgKyB4ICsgXCIvXCIgKyB5LCBxdWVyeVBhcmFtczptb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkcmVxdWVzdF9wYXJhbXNfYnVpbGRRdWVyeVBhcmFtcyhuYW1lZFBhcmFtZXRlcnMsIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X1BBUkFNX01BUF8wLCBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycyksIHJlc3BvbnNlQ3Rvcjptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50Lkh0dHBCb2R5fSk7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c01hcHNUaWxlc0FwaUNsaWVudCA9IGZ1bmN0aW9uKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSVByb2plY3RzT3BlcmF0aW9uc0FwaUNsaWVudCRYZ2FmdkVudW0gPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9JUHJvamVjdHNPcGVyYXRpb25zQXBpQ2xpZW50JFhnYWZ2RW51bSgpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzT3BlcmF0aW9uc0FwaUNsaWVudCRYZ2FmdkVudW0gPSB7MTpcIjFcIiwgMjpcIjJcIiwgdmFsdWVzOmZ1bmN0aW9uKCkge1xuICByZXR1cm4gW21vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNPcGVyYXRpb25zQXBpQ2xpZW50JFhnYWZ2RW51bVsxXSwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c09wZXJhdGlvbnNBcGlDbGllbnQkWGdhZnZFbnVtWzJdXTtcbn19O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JUHJvamVjdHNPcGVyYXRpb25zQXBpQ2xpZW50QWx0RW51bSA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0lQcm9qZWN0c09wZXJhdGlvbnNBcGlDbGllbnRBbHRFbnVtKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNPcGVyYXRpb25zQXBpQ2xpZW50QWx0RW51bSA9IHtKU09OOlwianNvblwiLCBNRURJQTpcIm1lZGlhXCIsIFBST1RPOlwicHJvdG9cIiwgdmFsdWVzOmZ1bmN0aW9uKCkge1xuICByZXR1cm4gW21vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNPcGVyYXRpb25zQXBpQ2xpZW50QWx0RW51bS5KU09OLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzT3BlcmF0aW9uc0FwaUNsaWVudEFsdEVudW0uTUVESUEsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNPcGVyYXRpb25zQXBpQ2xpZW50QWx0RW51bS5QUk9UT107XG59fTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNPcGVyYXRpb25zQXBpQ2xpZW50SW1wbCA9IGZ1bmN0aW9uKGdhcGlWZXJzaW9uLCBnYXBpUmVxdWVzdFNlcnZpY2UsIGFwaUNsaWVudEhvb2tGYWN0b3J5KSB7XG4gIHRoaXMuZ2FwaVZlcnNpb24gPSBnYXBpVmVyc2lvbjtcbiAgdGhpcy4kYXBpQ2xpZW50ID0gbmV3IG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JHByb21pc2VfYXBpX2NsaWVudC5Qcm9taXNlQXBpQ2xpZW50KGdhcGlSZXF1ZXN0U2VydmljZSwgdm9pZCAwID09PSBhcGlDbGllbnRIb29rRmFjdG9yeSA/IG51bGwgOiBhcGlDbGllbnRIb29rRmFjdG9yeSk7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c09wZXJhdGlvbnNBcGlDbGllbnRJbXBsLnByb3RvdHlwZS5jYW5jZWwgPSBmdW5jdGlvbihuYW1lLCAkcmVxdWVzdEJvZHksIG5hbWVkUGFyYW1ldGVycywgcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMpIHtcbiAgbmFtZWRQYXJhbWV0ZXJzID0gdm9pZCAwID09PSBuYW1lZFBhcmFtZXRlcnMgPyB7fSA6IG5hbWVkUGFyYW1ldGVycztcbiAgcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzID8ge30gOiBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycztcbiAgdGhpcy4kYXBpQ2xpZW50LiR2YWxpZGF0ZVBhcmFtZXRlcihuYW1lLCBSZWdFeHAoXCJecHJvamVjdHMvW14vXSsvb3BlcmF0aW9ucy8uKiRcIikpO1xuICByZXR1cm4gdGhpcy4kYXBpQ2xpZW50LiRyZXF1ZXN0KHtib2R5OiRyZXF1ZXN0Qm9keSwgaHR0cE1ldGhvZDpcIlBPU1RcIiwgbWV0aG9kSWQ6XCJlYXJ0aGVuZ2luZS5wcm9qZWN0cy5vcGVyYXRpb25zLmNhbmNlbFwiLCBwYXRoOlwiL1wiICsgdGhpcy5nYXBpVmVyc2lvbiArIFwiL1wiICsgbmFtZSArIFwiOmNhbmNlbFwiLCBxdWVyeVBhcmFtczptb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkcmVxdWVzdF9wYXJhbXNfYnVpbGRRdWVyeVBhcmFtcyhuYW1lZFBhcmFtZXRlcnMsIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X1BBUkFNX01BUF8wLCBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycyksIHJlc3BvbnNlQ3Rvcjptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkVtcHR5fSk7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c09wZXJhdGlvbnNBcGlDbGllbnRJbXBsLnByb3RvdHlwZS5kZWxldGUgPSBmdW5jdGlvbihuYW1lLCBuYW1lZFBhcmFtZXRlcnMsIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzKSB7XG4gIG5hbWVkUGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gbmFtZWRQYXJhbWV0ZXJzID8ge30gOiBuYW1lZFBhcmFtZXRlcnM7XG4gIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycyA/IHt9IDogcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnM7XG4gIHRoaXMuJGFwaUNsaWVudC4kdmFsaWRhdGVQYXJhbWV0ZXIobmFtZSwgUmVnRXhwKFwiXnByb2plY3RzL1teL10rL29wZXJhdGlvbnMvLiokXCIpKTtcbiAgcmV0dXJuIHRoaXMuJGFwaUNsaWVudC4kcmVxdWVzdCh7Ym9keTpudWxsLCBodHRwTWV0aG9kOlwiREVMRVRFXCIsIG1ldGhvZElkOlwiZWFydGhlbmdpbmUucHJvamVjdHMub3BlcmF0aW9ucy5kZWxldGVcIiwgcGF0aDpcIi9cIiArIHRoaXMuZ2FwaVZlcnNpb24gKyBcIi9cIiArIG5hbWUsIHF1ZXJ5UGFyYW1zOm1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRyZXF1ZXN0X3BhcmFtc19idWlsZFF1ZXJ5UGFyYW1zKG5hbWVkUGFyYW1ldGVycywgbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfUEFSQU1fTUFQXzAsIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzKSwgcmVzcG9uc2VDdG9yOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRW1wdHl9KTtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzT3BlcmF0aW9uc0FwaUNsaWVudEltcGwucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uKG5hbWUsIG5hbWVkUGFyYW1ldGVycywgcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMpIHtcbiAgbmFtZWRQYXJhbWV0ZXJzID0gdm9pZCAwID09PSBuYW1lZFBhcmFtZXRlcnMgPyB7fSA6IG5hbWVkUGFyYW1ldGVycztcbiAgcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzID8ge30gOiBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycztcbiAgdGhpcy4kYXBpQ2xpZW50LiR2YWxpZGF0ZVBhcmFtZXRlcihuYW1lLCBSZWdFeHAoXCJecHJvamVjdHMvW14vXSsvb3BlcmF0aW9ucy8uKiRcIikpO1xuICByZXR1cm4gdGhpcy4kYXBpQ2xpZW50LiRyZXF1ZXN0KHtib2R5Om51bGwsIGh0dHBNZXRob2Q6XCJHRVRcIiwgbWV0aG9kSWQ6XCJlYXJ0aGVuZ2luZS5wcm9qZWN0cy5vcGVyYXRpb25zLmdldFwiLCBwYXRoOlwiL1wiICsgdGhpcy5nYXBpVmVyc2lvbiArIFwiL1wiICsgbmFtZSwgcXVlcnlQYXJhbXM6bW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JHJlcXVlc3RfcGFyYW1zX2J1aWxkUXVlcnlQYXJhbXMobmFtZWRQYXJhbWV0ZXJzLCBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9QQVJBTV9NQVBfMCwgcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMpLCByZXNwb25zZUN0b3I6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5PcGVyYXRpb259KTtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzT3BlcmF0aW9uc0FwaUNsaWVudEltcGwucHJvdG90eXBlLmxpc3QgPSBmdW5jdGlvbihuYW1lLCBuYW1lZFBhcmFtZXRlcnMsIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzKSB7XG4gIG5hbWVkUGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gbmFtZWRQYXJhbWV0ZXJzID8ge30gOiBuYW1lZFBhcmFtZXRlcnM7XG4gIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycyA/IHt9IDogcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnM7XG4gIHRoaXMuJGFwaUNsaWVudC4kdmFsaWRhdGVQYXJhbWV0ZXIobmFtZSwgUmVnRXhwKFwiXnByb2plY3RzL1teL10rJFwiKSk7XG4gIHJldHVybiB0aGlzLiRhcGlDbGllbnQuJHJlcXVlc3Qoe2JvZHk6bnVsbCwgaHR0cE1ldGhvZDpcIkdFVFwiLCBtZXRob2RJZDpcImVhcnRoZW5naW5lLnByb2plY3RzLm9wZXJhdGlvbnMubGlzdFwiLCBwYXRoOlwiL1wiICsgdGhpcy5nYXBpVmVyc2lvbiArIFwiL1wiICsgbmFtZSArIFwiL29wZXJhdGlvbnNcIiwgcXVlcnlQYXJhbXM6bW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JHJlcXVlc3RfcGFyYW1zX2J1aWxkUXVlcnlQYXJhbXMobmFtZWRQYXJhbWV0ZXJzLCBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9QQVJBTV9NQVBfMCwgcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMpLCByZXNwb25zZUN0b3I6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5MaXN0T3BlcmF0aW9uc1Jlc3BvbnNlfSk7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c09wZXJhdGlvbnNBcGlDbGllbnRJbXBsLnByb3RvdHlwZS53YWl0ID0gZnVuY3Rpb24obmFtZSwgJHJlcXVlc3RCb2R5LCBuYW1lZFBhcmFtZXRlcnMsIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzKSB7XG4gIG5hbWVkUGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gbmFtZWRQYXJhbWV0ZXJzID8ge30gOiBuYW1lZFBhcmFtZXRlcnM7XG4gIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycyA/IHt9IDogcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnM7XG4gIHRoaXMuJGFwaUNsaWVudC4kdmFsaWRhdGVQYXJhbWV0ZXIobmFtZSwgUmVnRXhwKFwiXnByb2plY3RzL1teL10rL29wZXJhdGlvbnMvLiokXCIpKTtcbiAgcmV0dXJuIHRoaXMuJGFwaUNsaWVudC4kcmVxdWVzdCh7Ym9keTokcmVxdWVzdEJvZHksIGh0dHBNZXRob2Q6XCJQT1NUXCIsIG1ldGhvZElkOlwiZWFydGhlbmdpbmUucHJvamVjdHMub3BlcmF0aW9ucy53YWl0XCIsIHBhdGg6XCIvXCIgKyB0aGlzLmdhcGlWZXJzaW9uICsgXCIvXCIgKyBuYW1lICsgXCI6d2FpdFwiLCBxdWVyeVBhcmFtczptb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkcmVxdWVzdF9wYXJhbXNfYnVpbGRRdWVyeVBhcmFtcyhuYW1lZFBhcmFtZXRlcnMsIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X1BBUkFNX01BUF8wLCBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycyksIHJlc3BvbnNlQ3Rvcjptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50Lk9wZXJhdGlvbn0pO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNPcGVyYXRpb25zQXBpQ2xpZW50ID0gZnVuY3Rpb24oKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JUHJvamVjdHNUYWJsZUFwaUNsaWVudCRYZ2FmdkVudW0gPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9JUHJvamVjdHNUYWJsZUFwaUNsaWVudCRYZ2FmdkVudW0oKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c1RhYmxlQXBpQ2xpZW50JFhnYWZ2RW51bSA9IHsxOlwiMVwiLCAyOlwiMlwiLCB2YWx1ZXM6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiBbbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c1RhYmxlQXBpQ2xpZW50JFhnYWZ2RW51bVsxXSwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c1RhYmxlQXBpQ2xpZW50JFhnYWZ2RW51bVsyXV07XG59fTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSVByb2plY3RzVGFibGVBcGlDbGllbnRBbHRFbnVtID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfSVByb2plY3RzVGFibGVBcGlDbGllbnRBbHRFbnVtKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNUYWJsZUFwaUNsaWVudEFsdEVudW0gPSB7SlNPTjpcImpzb25cIiwgTUVESUE6XCJtZWRpYVwiLCBQUk9UTzpcInByb3RvXCIsIHZhbHVlczpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIFttb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzVGFibGVBcGlDbGllbnRBbHRFbnVtLkpTT04sIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNUYWJsZUFwaUNsaWVudEFsdEVudW0uTUVESUEsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNUYWJsZUFwaUNsaWVudEFsdEVudW0uUFJPVE9dO1xufX07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzVGFibGVBcGlDbGllbnRJbXBsID0gZnVuY3Rpb24oZ2FwaVZlcnNpb24sIGdhcGlSZXF1ZXN0U2VydmljZSwgYXBpQ2xpZW50SG9va0ZhY3RvcnkpIHtcbiAgdGhpcy5nYXBpVmVyc2lvbiA9IGdhcGlWZXJzaW9uO1xuICB0aGlzLiRhcGlDbGllbnQgPSBuZXcgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkcHJvbWlzZV9hcGlfY2xpZW50LlByb21pc2VBcGlDbGllbnQoZ2FwaVJlcXVlc3RTZXJ2aWNlLCB2b2lkIDAgPT09IGFwaUNsaWVudEhvb2tGYWN0b3J5ID8gbnVsbCA6IGFwaUNsaWVudEhvb2tGYWN0b3J5KTtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzVGFibGVBcGlDbGllbnRJbXBsLnByb3RvdHlwZS5jb21wdXRlRmVhdHVyZXMgPSBmdW5jdGlvbihwcm9qZWN0LCAkcmVxdWVzdEJvZHksIG5hbWVkUGFyYW1ldGVycywgcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMpIHtcbiAgbmFtZWRQYXJhbWV0ZXJzID0gdm9pZCAwID09PSBuYW1lZFBhcmFtZXRlcnMgPyB7fSA6IG5hbWVkUGFyYW1ldGVycztcbiAgcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzID8ge30gOiBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycztcbiAgdGhpcy4kYXBpQ2xpZW50LiR2YWxpZGF0ZVBhcmFtZXRlcihwcm9qZWN0LCBSZWdFeHAoXCJecHJvamVjdHMvW14vXSskXCIpKTtcbiAgcmV0dXJuIHRoaXMuJGFwaUNsaWVudC4kcmVxdWVzdCh7Ym9keTokcmVxdWVzdEJvZHksIGh0dHBNZXRob2Q6XCJQT1NUXCIsIG1ldGhvZElkOlwiZWFydGhlbmdpbmUucHJvamVjdHMudGFibGUuY29tcHV0ZUZlYXR1cmVzXCIsIHBhdGg6XCIvXCIgKyB0aGlzLmdhcGlWZXJzaW9uICsgXCIvXCIgKyBwcm9qZWN0ICsgXCIvdGFibGU6Y29tcHV0ZUZlYXR1cmVzXCIsIHF1ZXJ5UGFyYW1zOm1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRyZXF1ZXN0X3BhcmFtc19idWlsZFF1ZXJ5UGFyYW1zKG5hbWVkUGFyYW1ldGVycywgbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfUEFSQU1fTUFQXzAsIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzKSwgcmVzcG9uc2VDdG9yOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ29tcHV0ZUZlYXR1cmVzUmVzcG9uc2V9KTtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzVGFibGVBcGlDbGllbnRJbXBsLnByb3RvdHlwZS5leHBvcnQgPSBmdW5jdGlvbihwcm9qZWN0LCAkcmVxdWVzdEJvZHksIG5hbWVkUGFyYW1ldGVycywgcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMpIHtcbiAgbmFtZWRQYXJhbWV0ZXJzID0gdm9pZCAwID09PSBuYW1lZFBhcmFtZXRlcnMgPyB7fSA6IG5hbWVkUGFyYW1ldGVycztcbiAgcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzID8ge30gOiBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycztcbiAgdGhpcy4kYXBpQ2xpZW50LiR2YWxpZGF0ZVBhcmFtZXRlcihwcm9qZWN0LCBSZWdFeHAoXCJecHJvamVjdHMvW14vXSskXCIpKTtcbiAgcmV0dXJuIHRoaXMuJGFwaUNsaWVudC4kcmVxdWVzdCh7Ym9keTokcmVxdWVzdEJvZHksIGh0dHBNZXRob2Q6XCJQT1NUXCIsIG1ldGhvZElkOlwiZWFydGhlbmdpbmUucHJvamVjdHMudGFibGUuZXhwb3J0XCIsIHBhdGg6XCIvXCIgKyB0aGlzLmdhcGlWZXJzaW9uICsgXCIvXCIgKyBwcm9qZWN0ICsgXCIvdGFibGU6ZXhwb3J0XCIsIHF1ZXJ5UGFyYW1zOm1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRyZXF1ZXN0X3BhcmFtc19idWlsZFF1ZXJ5UGFyYW1zKG5hbWVkUGFyYW1ldGVycywgbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfUEFSQU1fTUFQXzAsIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzKSwgcmVzcG9uc2VDdG9yOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuT3BlcmF0aW9ufSk7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c1RhYmxlQXBpQ2xpZW50SW1wbC5wcm90b3R5cGUuaW1wb3J0ID0gZnVuY3Rpb24ocHJvamVjdCwgJHJlcXVlc3RCb2R5LCBuYW1lZFBhcmFtZXRlcnMsIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzKSB7XG4gIG5hbWVkUGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gbmFtZWRQYXJhbWV0ZXJzID8ge30gOiBuYW1lZFBhcmFtZXRlcnM7XG4gIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycyA/IHt9IDogcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnM7XG4gIHRoaXMuJGFwaUNsaWVudC4kdmFsaWRhdGVQYXJhbWV0ZXIocHJvamVjdCwgUmVnRXhwKFwiXnByb2plY3RzL1teL10rJFwiKSk7XG4gIHJldHVybiB0aGlzLiRhcGlDbGllbnQuJHJlcXVlc3Qoe2JvZHk6JHJlcXVlc3RCb2R5LCBodHRwTWV0aG9kOlwiUE9TVFwiLCBtZXRob2RJZDpcImVhcnRoZW5naW5lLnByb2plY3RzLnRhYmxlLmltcG9ydFwiLCBwYXRoOlwiL1wiICsgdGhpcy5nYXBpVmVyc2lvbiArIFwiL1wiICsgcHJvamVjdCArIFwiL3RhYmxlOmltcG9ydFwiLCBxdWVyeVBhcmFtczptb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkcmVxdWVzdF9wYXJhbXNfYnVpbGRRdWVyeVBhcmFtcyhuYW1lZFBhcmFtZXRlcnMsIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X1BBUkFNX01BUF8wLCBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycyksIHJlc3BvbnNlQ3Rvcjptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50Lk9wZXJhdGlvbn0pO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNUYWJsZUFwaUNsaWVudCA9IGZ1bmN0aW9uKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSVByb2plY3RzVGFibGVzQXBpQ2xpZW50JFhnYWZ2RW51bSA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0lQcm9qZWN0c1RhYmxlc0FwaUNsaWVudCRYZ2FmdkVudW0oKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c1RhYmxlc0FwaUNsaWVudCRYZ2FmdkVudW0gPSB7MTpcIjFcIiwgMjpcIjJcIiwgdmFsdWVzOmZ1bmN0aW9uKCkge1xuICByZXR1cm4gW21vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNUYWJsZXNBcGlDbGllbnQkWGdhZnZFbnVtWzFdLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzVGFibGVzQXBpQ2xpZW50JFhnYWZ2RW51bVsyXV07XG59fTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSVByb2plY3RzVGFibGVzQXBpQ2xpZW50QWx0RW51bSA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0lQcm9qZWN0c1RhYmxlc0FwaUNsaWVudEFsdEVudW0oKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c1RhYmxlc0FwaUNsaWVudEFsdEVudW0gPSB7SlNPTjpcImpzb25cIiwgTUVESUE6XCJtZWRpYVwiLCBQUk9UTzpcInByb3RvXCIsIHZhbHVlczpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIFttb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzVGFibGVzQXBpQ2xpZW50QWx0RW51bS5KU09OLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzVGFibGVzQXBpQ2xpZW50QWx0RW51bS5NRURJQSwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c1RhYmxlc0FwaUNsaWVudEFsdEVudW0uUFJPVE9dO1xufX07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzVGFibGVzQXBpQ2xpZW50SW1wbCA9IGZ1bmN0aW9uKGdhcGlWZXJzaW9uLCBnYXBpUmVxdWVzdFNlcnZpY2UsIGFwaUNsaWVudEhvb2tGYWN0b3J5KSB7XG4gIHRoaXMuZ2FwaVZlcnNpb24gPSBnYXBpVmVyc2lvbjtcbiAgdGhpcy4kYXBpQ2xpZW50ID0gbmV3IG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JHByb21pc2VfYXBpX2NsaWVudC5Qcm9taXNlQXBpQ2xpZW50KGdhcGlSZXF1ZXN0U2VydmljZSwgdm9pZCAwID09PSBhcGlDbGllbnRIb29rRmFjdG9yeSA/IG51bGwgOiBhcGlDbGllbnRIb29rRmFjdG9yeSk7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c1RhYmxlc0FwaUNsaWVudEltcGwucHJvdG90eXBlLmNyZWF0ZSA9IGZ1bmN0aW9uKHBhcmVudCwgJHJlcXVlc3RCb2R5LCBuYW1lZFBhcmFtZXRlcnMsIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzKSB7XG4gIG5hbWVkUGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gbmFtZWRQYXJhbWV0ZXJzID8ge30gOiBuYW1lZFBhcmFtZXRlcnM7XG4gIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycyA/IHt9IDogcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnM7XG4gIHRoaXMuJGFwaUNsaWVudC4kdmFsaWRhdGVQYXJhbWV0ZXIocGFyZW50LCBSZWdFeHAoXCJecHJvamVjdHMvW14vXSskXCIpKTtcbiAgcmV0dXJuIHRoaXMuJGFwaUNsaWVudC4kcmVxdWVzdCh7Ym9keTokcmVxdWVzdEJvZHksIGh0dHBNZXRob2Q6XCJQT1NUXCIsIG1ldGhvZElkOlwiZWFydGhlbmdpbmUucHJvamVjdHMudGFibGVzLmNyZWF0ZVwiLCBwYXRoOlwiL1wiICsgdGhpcy5nYXBpVmVyc2lvbiArIFwiL1wiICsgcGFyZW50ICsgXCIvdGFibGVzXCIsIHF1ZXJ5UGFyYW1zOm1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRyZXF1ZXN0X3BhcmFtc19idWlsZFF1ZXJ5UGFyYW1zKG5hbWVkUGFyYW1ldGVycywgbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfUEFSQU1fTUFQXzAsIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzKSwgcmVzcG9uc2VDdG9yOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGFibGV9KTtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzVGFibGVzQXBpQ2xpZW50SW1wbC5wcm90b3R5cGUuZ2V0RmVhdHVyZXMgPSBmdW5jdGlvbihuYW1lLCBuYW1lZFBhcmFtZXRlcnMsIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzKSB7XG4gIG5hbWVkUGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gbmFtZWRQYXJhbWV0ZXJzID8ge30gOiBuYW1lZFBhcmFtZXRlcnM7XG4gIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycyA/IHt9IDogcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnM7XG4gIHRoaXMuJGFwaUNsaWVudC4kdmFsaWRhdGVQYXJhbWV0ZXIobmFtZSwgUmVnRXhwKFwiXnByb2plY3RzL1teL10rL3RhYmxlcy9bXi9dKyRcIikpO1xuICByZXR1cm4gdGhpcy4kYXBpQ2xpZW50LiRyZXF1ZXN0KHtib2R5Om51bGwsIGh0dHBNZXRob2Q6XCJHRVRcIiwgbWV0aG9kSWQ6XCJlYXJ0aGVuZ2luZS5wcm9qZWN0cy50YWJsZXMuZ2V0RmVhdHVyZXNcIiwgcGF0aDpcIi9cIiArIHRoaXMuZ2FwaVZlcnNpb24gKyBcIi9cIiArIG5hbWUgKyBcIjpnZXRGZWF0dXJlc1wiLCBxdWVyeVBhcmFtczptb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkcmVxdWVzdF9wYXJhbXNfYnVpbGRRdWVyeVBhcmFtcyhuYW1lZFBhcmFtZXRlcnMsIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X1BBUkFNX01BUF8wLCBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycyksIHJlc3BvbnNlQ3Rvcjptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50Lkh0dHBCb2R5fSk7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c1RhYmxlc0FwaUNsaWVudCA9IGZ1bmN0aW9uKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSVByb2plY3RzVGh1bWJuYWlsc0FwaUNsaWVudCRYZ2FmdkVudW0gPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9JUHJvamVjdHNUaHVtYm5haWxzQXBpQ2xpZW50JFhnYWZ2RW51bSgpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzVGh1bWJuYWlsc0FwaUNsaWVudCRYZ2FmdkVudW0gPSB7MTpcIjFcIiwgMjpcIjJcIiwgdmFsdWVzOmZ1bmN0aW9uKCkge1xuICByZXR1cm4gW21vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNUaHVtYm5haWxzQXBpQ2xpZW50JFhnYWZ2RW51bVsxXSwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c1RodW1ibmFpbHNBcGlDbGllbnQkWGdhZnZFbnVtWzJdXTtcbn19O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JUHJvamVjdHNUaHVtYm5haWxzQXBpQ2xpZW50QWx0RW51bSA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0lQcm9qZWN0c1RodW1ibmFpbHNBcGlDbGllbnRBbHRFbnVtKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNUaHVtYm5haWxzQXBpQ2xpZW50QWx0RW51bSA9IHtKU09OOlwianNvblwiLCBNRURJQTpcIm1lZGlhXCIsIFBST1RPOlwicHJvdG9cIiwgdmFsdWVzOmZ1bmN0aW9uKCkge1xuICByZXR1cm4gW21vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNUaHVtYm5haWxzQXBpQ2xpZW50QWx0RW51bS5KU09OLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzVGh1bWJuYWlsc0FwaUNsaWVudEFsdEVudW0uTUVESUEsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNUaHVtYm5haWxzQXBpQ2xpZW50QWx0RW51bS5QUk9UT107XG59fTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNUaHVtYm5haWxzQXBpQ2xpZW50SW1wbCA9IGZ1bmN0aW9uKGdhcGlWZXJzaW9uLCBnYXBpUmVxdWVzdFNlcnZpY2UsIGFwaUNsaWVudEhvb2tGYWN0b3J5KSB7XG4gIHRoaXMuZ2FwaVZlcnNpb24gPSBnYXBpVmVyc2lvbjtcbiAgdGhpcy4kYXBpQ2xpZW50ID0gbmV3IG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JHByb21pc2VfYXBpX2NsaWVudC5Qcm9taXNlQXBpQ2xpZW50KGdhcGlSZXF1ZXN0U2VydmljZSwgdm9pZCAwID09PSBhcGlDbGllbnRIb29rRmFjdG9yeSA/IG51bGwgOiBhcGlDbGllbnRIb29rRmFjdG9yeSk7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c1RodW1ibmFpbHNBcGlDbGllbnRJbXBsLnByb3RvdHlwZS5jcmVhdGUgPSBmdW5jdGlvbihwYXJlbnQsICRyZXF1ZXN0Qm9keSwgbmFtZWRQYXJhbWV0ZXJzLCBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycykge1xuICBuYW1lZFBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IG5hbWVkUGFyYW1ldGVycyA/IHt9IDogbmFtZWRQYXJhbWV0ZXJzO1xuICBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMgPyB7fSA6IHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzO1xuICB0aGlzLiRhcGlDbGllbnQuJHZhbGlkYXRlUGFyYW1ldGVyKHBhcmVudCwgUmVnRXhwKFwiXnByb2plY3RzL1teL10rJFwiKSk7XG4gIHJldHVybiB0aGlzLiRhcGlDbGllbnQuJHJlcXVlc3Qoe2JvZHk6JHJlcXVlc3RCb2R5LCBodHRwTWV0aG9kOlwiUE9TVFwiLCBtZXRob2RJZDpcImVhcnRoZW5naW5lLnByb2plY3RzLnRodW1ibmFpbHMuY3JlYXRlXCIsIHBhdGg6XCIvXCIgKyB0aGlzLmdhcGlWZXJzaW9uICsgXCIvXCIgKyBwYXJlbnQgKyBcIi90aHVtYm5haWxzXCIsIHF1ZXJ5UGFyYW1zOm1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRyZXF1ZXN0X3BhcmFtc19idWlsZFF1ZXJ5UGFyYW1zKG5hbWVkUGFyYW1ldGVycywgbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfUEFSQU1fTUFQXzAsIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzKSwgcmVzcG9uc2VDdG9yOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGh1bWJuYWlsfSk7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c1RodW1ibmFpbHNBcGlDbGllbnRJbXBsLnByb3RvdHlwZS5nZXRQaXhlbHMgPSBmdW5jdGlvbihuYW1lLCBuYW1lZFBhcmFtZXRlcnMsIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzKSB7XG4gIG5hbWVkUGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gbmFtZWRQYXJhbWV0ZXJzID8ge30gOiBuYW1lZFBhcmFtZXRlcnM7XG4gIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycyA/IHt9IDogcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnM7XG4gIHRoaXMuJGFwaUNsaWVudC4kdmFsaWRhdGVQYXJhbWV0ZXIobmFtZSwgUmVnRXhwKFwiXnByb2plY3RzL1teL10rL3RodW1ibmFpbHMvW14vXSskXCIpKTtcbiAgcmV0dXJuIHRoaXMuJGFwaUNsaWVudC4kcmVxdWVzdCh7Ym9keTpudWxsLCBodHRwTWV0aG9kOlwiR0VUXCIsIG1ldGhvZElkOlwiZWFydGhlbmdpbmUucHJvamVjdHMudGh1bWJuYWlscy5nZXRQaXhlbHNcIiwgcGF0aDpcIi9cIiArIHRoaXMuZ2FwaVZlcnNpb24gKyBcIi9cIiArIG5hbWUgKyBcIjpnZXRQaXhlbHNcIiwgcXVlcnlQYXJhbXM6bW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JHJlcXVlc3RfcGFyYW1zX2J1aWxkUXVlcnlQYXJhbXMobmFtZWRQYXJhbWV0ZXJzLCBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9QQVJBTV9NQVBfMCwgcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMpLCByZXNwb25zZUN0b3I6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5IdHRwQm9keX0pO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNUaHVtYm5haWxzQXBpQ2xpZW50ID0gZnVuY3Rpb24oKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JUHJvamVjdHNWYWx1ZUFwaUNsaWVudCRYZ2FmdkVudW0gPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9JUHJvamVjdHNWYWx1ZUFwaUNsaWVudCRYZ2FmdkVudW0oKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c1ZhbHVlQXBpQ2xpZW50JFhnYWZ2RW51bSA9IHsxOlwiMVwiLCAyOlwiMlwiLCB2YWx1ZXM6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiBbbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c1ZhbHVlQXBpQ2xpZW50JFhnYWZ2RW51bVsxXSwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c1ZhbHVlQXBpQ2xpZW50JFhnYWZ2RW51bVsyXV07XG59fTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSVByb2plY3RzVmFsdWVBcGlDbGllbnRBbHRFbnVtID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfSVByb2plY3RzVmFsdWVBcGlDbGllbnRBbHRFbnVtKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNWYWx1ZUFwaUNsaWVudEFsdEVudW0gPSB7SlNPTjpcImpzb25cIiwgTUVESUE6XCJtZWRpYVwiLCBQUk9UTzpcInByb3RvXCIsIHZhbHVlczpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIFttb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzVmFsdWVBcGlDbGllbnRBbHRFbnVtLkpTT04sIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNWYWx1ZUFwaUNsaWVudEFsdEVudW0uTUVESUEsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNWYWx1ZUFwaUNsaWVudEFsdEVudW0uUFJPVE9dO1xufX07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzVmFsdWVBcGlDbGllbnRJbXBsID0gZnVuY3Rpb24oZ2FwaVZlcnNpb24sIGdhcGlSZXF1ZXN0U2VydmljZSwgYXBpQ2xpZW50SG9va0ZhY3RvcnkpIHtcbiAgdGhpcy5nYXBpVmVyc2lvbiA9IGdhcGlWZXJzaW9uO1xuICB0aGlzLiRhcGlDbGllbnQgPSBuZXcgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkcHJvbWlzZV9hcGlfY2xpZW50LlByb21pc2VBcGlDbGllbnQoZ2FwaVJlcXVlc3RTZXJ2aWNlLCB2b2lkIDAgPT09IGFwaUNsaWVudEhvb2tGYWN0b3J5ID8gbnVsbCA6IGFwaUNsaWVudEhvb2tGYWN0b3J5KTtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzVmFsdWVBcGlDbGllbnRJbXBsLnByb3RvdHlwZS5jb21wdXRlID0gZnVuY3Rpb24ocHJvamVjdCwgJHJlcXVlc3RCb2R5LCBuYW1lZFBhcmFtZXRlcnMsIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzKSB7XG4gIG5hbWVkUGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gbmFtZWRQYXJhbWV0ZXJzID8ge30gOiBuYW1lZFBhcmFtZXRlcnM7XG4gIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycyA/IHt9IDogcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnM7XG4gIHRoaXMuJGFwaUNsaWVudC4kdmFsaWRhdGVQYXJhbWV0ZXIocHJvamVjdCwgUmVnRXhwKFwiXnByb2plY3RzL1teL10rJFwiKSk7XG4gIHJldHVybiB0aGlzLiRhcGlDbGllbnQuJHJlcXVlc3Qoe2JvZHk6JHJlcXVlc3RCb2R5LCBodHRwTWV0aG9kOlwiUE9TVFwiLCBtZXRob2RJZDpcImVhcnRoZW5naW5lLnByb2plY3RzLnZhbHVlLmNvbXB1dGVcIiwgcGF0aDpcIi9cIiArIHRoaXMuZ2FwaVZlcnNpb24gKyBcIi9cIiArIHByb2plY3QgKyBcIi92YWx1ZTpjb21wdXRlXCIsIHF1ZXJ5UGFyYW1zOm1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRyZXF1ZXN0X3BhcmFtc19idWlsZFF1ZXJ5UGFyYW1zKG5hbWVkUGFyYW1ldGVycywgbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfUEFSQU1fTUFQXzAsIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzKSwgcmVzcG9uc2VDdG9yOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ29tcHV0ZVZhbHVlUmVzcG9uc2V9KTtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzVmFsdWVBcGlDbGllbnQgPSBmdW5jdGlvbigpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LklQcm9qZWN0c1ZpZGVvQXBpQ2xpZW50JFhnYWZ2RW51bSA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0lQcm9qZWN0c1ZpZGVvQXBpQ2xpZW50JFhnYWZ2RW51bSgpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzVmlkZW9BcGlDbGllbnQkWGdhZnZFbnVtID0gezE6XCIxXCIsIDI6XCIyXCIsIHZhbHVlczpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIFttb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzVmlkZW9BcGlDbGllbnQkWGdhZnZFbnVtWzFdLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzVmlkZW9BcGlDbGllbnQkWGdhZnZFbnVtWzJdXTtcbn19O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JUHJvamVjdHNWaWRlb0FwaUNsaWVudEFsdEVudW0gPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9JUHJvamVjdHNWaWRlb0FwaUNsaWVudEFsdEVudW0oKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c1ZpZGVvQXBpQ2xpZW50QWx0RW51bSA9IHtKU09OOlwianNvblwiLCBNRURJQTpcIm1lZGlhXCIsIFBST1RPOlwicHJvdG9cIiwgdmFsdWVzOmZ1bmN0aW9uKCkge1xuICByZXR1cm4gW21vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNWaWRlb0FwaUNsaWVudEFsdEVudW0uSlNPTiwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c1ZpZGVvQXBpQ2xpZW50QWx0RW51bS5NRURJQSwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c1ZpZGVvQXBpQ2xpZW50QWx0RW51bS5QUk9UT107XG59fTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNWaWRlb0FwaUNsaWVudEltcGwgPSBmdW5jdGlvbihnYXBpVmVyc2lvbiwgZ2FwaVJlcXVlc3RTZXJ2aWNlLCBhcGlDbGllbnRIb29rRmFjdG9yeSkge1xuICB0aGlzLmdhcGlWZXJzaW9uID0gZ2FwaVZlcnNpb247XG4gIHRoaXMuJGFwaUNsaWVudCA9IG5ldyBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRwcm9taXNlX2FwaV9jbGllbnQuUHJvbWlzZUFwaUNsaWVudChnYXBpUmVxdWVzdFNlcnZpY2UsIHZvaWQgMCA9PT0gYXBpQ2xpZW50SG9va0ZhY3RvcnkgPyBudWxsIDogYXBpQ2xpZW50SG9va0ZhY3RvcnkpO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNWaWRlb0FwaUNsaWVudEltcGwucHJvdG90eXBlLmV4cG9ydCA9IGZ1bmN0aW9uKHByb2plY3QsICRyZXF1ZXN0Qm9keSwgbmFtZWRQYXJhbWV0ZXJzLCBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycykge1xuICBuYW1lZFBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IG5hbWVkUGFyYW1ldGVycyA/IHt9IDogbmFtZWRQYXJhbWV0ZXJzO1xuICBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMgPyB7fSA6IHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzO1xuICB0aGlzLiRhcGlDbGllbnQuJHZhbGlkYXRlUGFyYW1ldGVyKHByb2plY3QsIFJlZ0V4cChcIl5wcm9qZWN0cy9bXi9dKyRcIikpO1xuICByZXR1cm4gdGhpcy4kYXBpQ2xpZW50LiRyZXF1ZXN0KHtib2R5OiRyZXF1ZXN0Qm9keSwgaHR0cE1ldGhvZDpcIlBPU1RcIiwgbWV0aG9kSWQ6XCJlYXJ0aGVuZ2luZS5wcm9qZWN0cy52aWRlby5leHBvcnRcIiwgcGF0aDpcIi9cIiArIHRoaXMuZ2FwaVZlcnNpb24gKyBcIi9cIiArIHByb2plY3QgKyBcIi92aWRlbzpleHBvcnRcIiwgcXVlcnlQYXJhbXM6bW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JHJlcXVlc3RfcGFyYW1zX2J1aWxkUXVlcnlQYXJhbXMobmFtZWRQYXJhbWV0ZXJzLCBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9QQVJBTV9NQVBfMCwgcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMpLCByZXNwb25zZUN0b3I6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5PcGVyYXRpb259KTtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzVmlkZW9BcGlDbGllbnQgPSBmdW5jdGlvbigpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LklQcm9qZWN0c1ZpZGVvTWFwQXBpQ2xpZW50JFhnYWZ2RW51bSA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0lQcm9qZWN0c1ZpZGVvTWFwQXBpQ2xpZW50JFhnYWZ2RW51bSgpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzVmlkZW9NYXBBcGlDbGllbnQkWGdhZnZFbnVtID0gezE6XCIxXCIsIDI6XCIyXCIsIHZhbHVlczpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIFttb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzVmlkZW9NYXBBcGlDbGllbnQkWGdhZnZFbnVtWzFdLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzVmlkZW9NYXBBcGlDbGllbnQkWGdhZnZFbnVtWzJdXTtcbn19O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JUHJvamVjdHNWaWRlb01hcEFwaUNsaWVudEFsdEVudW0gPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9JUHJvamVjdHNWaWRlb01hcEFwaUNsaWVudEFsdEVudW0oKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c1ZpZGVvTWFwQXBpQ2xpZW50QWx0RW51bSA9IHtKU09OOlwianNvblwiLCBNRURJQTpcIm1lZGlhXCIsIFBST1RPOlwicHJvdG9cIiwgdmFsdWVzOmZ1bmN0aW9uKCkge1xuICByZXR1cm4gW21vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNWaWRlb01hcEFwaUNsaWVudEFsdEVudW0uSlNPTiwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c1ZpZGVvTWFwQXBpQ2xpZW50QWx0RW51bS5NRURJQSwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c1ZpZGVvTWFwQXBpQ2xpZW50QWx0RW51bS5QUk9UT107XG59fTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNWaWRlb01hcEFwaUNsaWVudEltcGwgPSBmdW5jdGlvbihnYXBpVmVyc2lvbiwgZ2FwaVJlcXVlc3RTZXJ2aWNlLCBhcGlDbGllbnRIb29rRmFjdG9yeSkge1xuICB0aGlzLmdhcGlWZXJzaW9uID0gZ2FwaVZlcnNpb247XG4gIHRoaXMuJGFwaUNsaWVudCA9IG5ldyBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRwcm9taXNlX2FwaV9jbGllbnQuUHJvbWlzZUFwaUNsaWVudChnYXBpUmVxdWVzdFNlcnZpY2UsIHZvaWQgMCA9PT0gYXBpQ2xpZW50SG9va0ZhY3RvcnkgPyBudWxsIDogYXBpQ2xpZW50SG9va0ZhY3RvcnkpO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNWaWRlb01hcEFwaUNsaWVudEltcGwucHJvdG90eXBlLmV4cG9ydCA9IGZ1bmN0aW9uKHByb2plY3QsICRyZXF1ZXN0Qm9keSwgbmFtZWRQYXJhbWV0ZXJzLCBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycykge1xuICBuYW1lZFBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IG5hbWVkUGFyYW1ldGVycyA/IHt9IDogbmFtZWRQYXJhbWV0ZXJzO1xuICBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMgPyB7fSA6IHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzO1xuICB0aGlzLiRhcGlDbGllbnQuJHZhbGlkYXRlUGFyYW1ldGVyKHByb2plY3QsIFJlZ0V4cChcIl5wcm9qZWN0cy9bXi9dKyRcIikpO1xuICByZXR1cm4gdGhpcy4kYXBpQ2xpZW50LiRyZXF1ZXN0KHtib2R5OiRyZXF1ZXN0Qm9keSwgaHR0cE1ldGhvZDpcIlBPU1RcIiwgbWV0aG9kSWQ6XCJlYXJ0aGVuZ2luZS5wcm9qZWN0cy52aWRlb01hcC5leHBvcnRcIiwgcGF0aDpcIi9cIiArIHRoaXMuZ2FwaVZlcnNpb24gKyBcIi9cIiArIHByb2plY3QgKyBcIi92aWRlb01hcDpleHBvcnRcIiwgcXVlcnlQYXJhbXM6bW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JHJlcXVlc3RfcGFyYW1zX2J1aWxkUXVlcnlQYXJhbXMobmFtZWRQYXJhbWV0ZXJzLCBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9QQVJBTV9NQVBfMCwgcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMpLCByZXNwb25zZUN0b3I6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5PcGVyYXRpb259KTtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzVmlkZW9NYXBBcGlDbGllbnQgPSBmdW5jdGlvbigpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LklQcm9qZWN0c1ZpZGVvVGh1bWJuYWlsc0FwaUNsaWVudCRYZ2FmdkVudW0gPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9JUHJvamVjdHNWaWRlb1RodW1ibmFpbHNBcGlDbGllbnQkWGdhZnZFbnVtKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNWaWRlb1RodW1ibmFpbHNBcGlDbGllbnQkWGdhZnZFbnVtID0gezE6XCIxXCIsIDI6XCIyXCIsIHZhbHVlczpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIFttb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzVmlkZW9UaHVtYm5haWxzQXBpQ2xpZW50JFhnYWZ2RW51bVsxXSwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c1ZpZGVvVGh1bWJuYWlsc0FwaUNsaWVudCRYZ2FmdkVudW1bMl1dO1xufX07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LklQcm9qZWN0c1ZpZGVvVGh1bWJuYWlsc0FwaUNsaWVudEFsdEVudW0gPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9JUHJvamVjdHNWaWRlb1RodW1ibmFpbHNBcGlDbGllbnRBbHRFbnVtKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNWaWRlb1RodW1ibmFpbHNBcGlDbGllbnRBbHRFbnVtID0ge0pTT046XCJqc29uXCIsIE1FRElBOlwibWVkaWFcIiwgUFJPVE86XCJwcm90b1wiLCB2YWx1ZXM6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiBbbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c1ZpZGVvVGh1bWJuYWlsc0FwaUNsaWVudEFsdEVudW0uSlNPTiwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c1ZpZGVvVGh1bWJuYWlsc0FwaUNsaWVudEFsdEVudW0uTUVESUEsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNWaWRlb1RodW1ibmFpbHNBcGlDbGllbnRBbHRFbnVtLlBST1RPXTtcbn19O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c1ZpZGVvVGh1bWJuYWlsc0FwaUNsaWVudEltcGwgPSBmdW5jdGlvbihnYXBpVmVyc2lvbiwgZ2FwaVJlcXVlc3RTZXJ2aWNlLCBhcGlDbGllbnRIb29rRmFjdG9yeSkge1xuICB0aGlzLmdhcGlWZXJzaW9uID0gZ2FwaVZlcnNpb247XG4gIHRoaXMuJGFwaUNsaWVudCA9IG5ldyBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRwcm9taXNlX2FwaV9jbGllbnQuUHJvbWlzZUFwaUNsaWVudChnYXBpUmVxdWVzdFNlcnZpY2UsIHZvaWQgMCA9PT0gYXBpQ2xpZW50SG9va0ZhY3RvcnkgPyBudWxsIDogYXBpQ2xpZW50SG9va0ZhY3RvcnkpO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNWaWRlb1RodW1ibmFpbHNBcGlDbGllbnRJbXBsLnByb3RvdHlwZS5jcmVhdGUgPSBmdW5jdGlvbihwYXJlbnQsICRyZXF1ZXN0Qm9keSwgbmFtZWRQYXJhbWV0ZXJzLCBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycykge1xuICBuYW1lZFBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IG5hbWVkUGFyYW1ldGVycyA/IHt9IDogbmFtZWRQYXJhbWV0ZXJzO1xuICBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMgPyB7fSA6IHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzO1xuICB0aGlzLiRhcGlDbGllbnQuJHZhbGlkYXRlUGFyYW1ldGVyKHBhcmVudCwgUmVnRXhwKFwiXnByb2plY3RzL1teL10rJFwiKSk7XG4gIHJldHVybiB0aGlzLiRhcGlDbGllbnQuJHJlcXVlc3Qoe2JvZHk6JHJlcXVlc3RCb2R5LCBodHRwTWV0aG9kOlwiUE9TVFwiLCBtZXRob2RJZDpcImVhcnRoZW5naW5lLnByb2plY3RzLnZpZGVvVGh1bWJuYWlscy5jcmVhdGVcIiwgcGF0aDpcIi9cIiArIHRoaXMuZ2FwaVZlcnNpb24gKyBcIi9cIiArIHBhcmVudCArIFwiL3ZpZGVvVGh1bWJuYWlsc1wiLCBxdWVyeVBhcmFtczptb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkcmVxdWVzdF9wYXJhbXNfYnVpbGRRdWVyeVBhcmFtcyhuYW1lZFBhcmFtZXRlcnMsIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X1BBUkFNX01BUF8wLCBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycyksIHJlc3BvbnNlQ3Rvcjptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlZpZGVvVGh1bWJuYWlsfSk7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c1ZpZGVvVGh1bWJuYWlsc0FwaUNsaWVudEltcGwucHJvdG90eXBlLmdldFBpeGVscyA9IGZ1bmN0aW9uKG5hbWUsIG5hbWVkUGFyYW1ldGVycywgcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMpIHtcbiAgbmFtZWRQYXJhbWV0ZXJzID0gdm9pZCAwID09PSBuYW1lZFBhcmFtZXRlcnMgPyB7fSA6IG5hbWVkUGFyYW1ldGVycztcbiAgcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzID8ge30gOiBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycztcbiAgdGhpcy4kYXBpQ2xpZW50LiR2YWxpZGF0ZVBhcmFtZXRlcihuYW1lLCBSZWdFeHAoXCJecHJvamVjdHMvW14vXSsvdmlkZW9UaHVtYm5haWxzL1teL10rJFwiKSk7XG4gIHJldHVybiB0aGlzLiRhcGlDbGllbnQuJHJlcXVlc3Qoe2JvZHk6bnVsbCwgaHR0cE1ldGhvZDpcIkdFVFwiLCBtZXRob2RJZDpcImVhcnRoZW5naW5lLnByb2plY3RzLnZpZGVvVGh1bWJuYWlscy5nZXRQaXhlbHNcIiwgcGF0aDpcIi9cIiArIHRoaXMuZ2FwaVZlcnNpb24gKyBcIi9cIiArIG5hbWUgKyBcIjpnZXRQaXhlbHNcIiwgcXVlcnlQYXJhbXM6bW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JHJlcXVlc3RfcGFyYW1zX2J1aWxkUXVlcnlQYXJhbXMobmFtZWRQYXJhbWV0ZXJzLCBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9QQVJBTV9NQVBfMCwgcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMpLCByZXNwb25zZUN0b3I6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5IdHRwQm9keX0pO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNWaWRlb1RodW1ibmFpbHNBcGlDbGllbnQgPSBmdW5jdGlvbigpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LklWMWFscGhhQXBpQ2xpZW50JFhnYWZ2RW51bSA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0lWMWFscGhhQXBpQ2xpZW50JFhnYWZ2RW51bSgpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlYxYWxwaGFBcGlDbGllbnQkWGdhZnZFbnVtID0gezE6XCIxXCIsIDI6XCIyXCIsIHZhbHVlczpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIFttb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlYxYWxwaGFBcGlDbGllbnQkWGdhZnZFbnVtWzFdLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlYxYWxwaGFBcGlDbGllbnQkWGdhZnZFbnVtWzJdXTtcbn19O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JVjFhbHBoYUFwaUNsaWVudEFsdEVudW0gPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9JVjFhbHBoYUFwaUNsaWVudEFsdEVudW0oKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5WMWFscGhhQXBpQ2xpZW50QWx0RW51bSA9IHtKU09OOlwianNvblwiLCBNRURJQTpcIm1lZGlhXCIsIFBST1RPOlwicHJvdG9cIiwgdmFsdWVzOmZ1bmN0aW9uKCkge1xuICByZXR1cm4gW21vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVjFhbHBoYUFwaUNsaWVudEFsdEVudW0uSlNPTiwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5WMWFscGhhQXBpQ2xpZW50QWx0RW51bS5NRURJQSwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5WMWFscGhhQXBpQ2xpZW50QWx0RW51bS5QUk9UT107XG59fTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVjFhbHBoYUFwaUNsaWVudEltcGwgPSBmdW5jdGlvbihnYXBpVmVyc2lvbiwgZ2FwaVJlcXVlc3RTZXJ2aWNlLCBhcGlDbGllbnRIb29rRmFjdG9yeSkge1xuICB0aGlzLmdhcGlWZXJzaW9uID0gZ2FwaVZlcnNpb247XG4gIHRoaXMuJGFwaUNsaWVudCA9IG5ldyBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRwcm9taXNlX2FwaV9jbGllbnQuUHJvbWlzZUFwaUNsaWVudChnYXBpUmVxdWVzdFNlcnZpY2UsIHZvaWQgMCA9PT0gYXBpQ2xpZW50SG9va0ZhY3RvcnkgPyBudWxsIDogYXBpQ2xpZW50SG9va0ZhY3RvcnkpO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVjFhbHBoYUFwaUNsaWVudEltcGwucHJvdG90eXBlLmdldENhcGFiaWxpdGllcyA9IGZ1bmN0aW9uKG5hbWVkUGFyYW1ldGVycywgcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMpIHtcbiAgbmFtZWRQYXJhbWV0ZXJzID0gdm9pZCAwID09PSBuYW1lZFBhcmFtZXRlcnMgPyB7fSA6IG5hbWVkUGFyYW1ldGVycztcbiAgcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzID8ge30gOiBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycztcbiAgcmV0dXJuIHRoaXMuJGFwaUNsaWVudC4kcmVxdWVzdCh7Ym9keTpudWxsLCBodHRwTWV0aG9kOlwiR0VUXCIsIG1ldGhvZElkOlwiZWFydGhlbmdpbmUuZ2V0Q2FwYWJpbGl0aWVzXCIsIHBhdGg6XCIvXCIgKyB0aGlzLmdhcGlWZXJzaW9uICsgXCIvY2FwYWJpbGl0aWVzXCIsIHF1ZXJ5UGFyYW1zOm1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRyZXF1ZXN0X3BhcmFtc19idWlsZFF1ZXJ5UGFyYW1zKG5hbWVkUGFyYW1ldGVycywgbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfUEFSQU1fTUFQXzAsIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzKSwgcmVzcG9uc2VDdG9yOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ2FwYWJpbGl0aWVzfSk7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5WMWFscGhhQXBpQ2xpZW50ID0gZnVuY3Rpb24oKSB7XG59O1xuZWUuYXBpID0gbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudDtcbnZhciBtb2R1bGUkZXhwb3J0cyRlZSRhcGlWZXJzaW9uID0ge1YxQUxQSEE6XCJ2MWFscGhhXCIsIFYxOlwidjFcIn07XG5tb2R1bGUkZXhwb3J0cyRlZSRhcGlWZXJzaW9uLlZFUlNJT04gPSBtb2R1bGUkZXhwb3J0cyRlZSRhcGlWZXJzaW9uLlYxQUxQSEE7XG52YXIgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkcHJvbWlzZV9yZXF1ZXN0X3NlcnZpY2UgPSB7fSwgbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JHByb21pc2VfcmVxdWVzdF9zZXJ2aWNlX21vZHVsZSA9IG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRwcm9taXNlX3JlcXVlc3Rfc2VydmljZV9tb2R1bGUgfHwge2lkOlwiamF2YXNjcmlwdC90eXBlc2NyaXB0L2NvbnRyaWIvYXBpY2xpZW50L3JlcXVlc3Rfc2VydmljZS9wcm9taXNlX3JlcXVlc3Rfc2VydmljZS5jbG9zdXJlLmpzXCJ9O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkcHJvbWlzZV9yZXF1ZXN0X3NlcnZpY2UuUHJvbWlzZVJlcXVlc3RTZXJ2aWNlID0gZnVuY3Rpb24oKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkcHJvbWlzZV9yZXF1ZXN0X3NlcnZpY2UuUHJvbWlzZVJlcXVlc3RTZXJ2aWNlLnByb3RvdHlwZS5zZW5kID0gZnVuY3Rpb24ocGFyYW1zLCByZXNwb25zZUN0b3IpIHtcbiAgbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JHJlcXVlc3RfcGFyYW1zX3Byb2Nlc3NQYXJhbXMocGFyYW1zKTtcbiAgcmV0dXJuIHRoaXMubWFrZVJlcXVlc3QocGFyYW1zKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgcmV0dXJuIHJlc3BvbnNlQ3RvciA/IG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0X2Rlc2VyaWFsaXplKHJlc3BvbnNlQ3RvciwgcmVzcG9uc2UpIDogcmVzcG9uc2U7XG4gIH0pO1xufTtcbmdvb2cuYXN5bmMgPSB7fTtcbnZhciBtb2R1bGUkY29udGVudHMkZ29vZyRhc3luYyRGcmVlTGlzdF9GcmVlTGlzdCA9IGZ1bmN0aW9uKGNyZWF0ZSwgcmVzZXQsIGxpbWl0KSB7XG4gIHRoaXMubGltaXRfID0gbGltaXQ7XG4gIHRoaXMuY3JlYXRlXyA9IGNyZWF0ZTtcbiAgdGhpcy5yZXNldF8gPSByZXNldDtcbiAgdGhpcy5vY2N1cGFudHNfID0gMDtcbiAgdGhpcy5oZWFkXyA9IG51bGw7XG59O1xubW9kdWxlJGNvbnRlbnRzJGdvb2ckYXN5bmMkRnJlZUxpc3RfRnJlZUxpc3QucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uKCkge1xuICBpZiAoMCA8IHRoaXMub2NjdXBhbnRzXykge1xuICAgIHRoaXMub2NjdXBhbnRzXy0tO1xuICAgIHZhciBpdGVtID0gdGhpcy5oZWFkXztcbiAgICB0aGlzLmhlYWRfID0gaXRlbS5uZXh0O1xuICAgIGl0ZW0ubmV4dCA9IG51bGw7XG4gIH0gZWxzZSB7XG4gICAgaXRlbSA9IHRoaXMuY3JlYXRlXygpO1xuICB9XG4gIHJldHVybiBpdGVtO1xufTtcbm1vZHVsZSRjb250ZW50cyRnb29nJGFzeW5jJEZyZWVMaXN0X0ZyZWVMaXN0LnByb3RvdHlwZS5wdXQgPSBmdW5jdGlvbihpdGVtKSB7XG4gIHRoaXMucmVzZXRfKGl0ZW0pO1xuICB0aGlzLm9jY3VwYW50c18gPCB0aGlzLmxpbWl0XyAmJiAodGhpcy5vY2N1cGFudHNfKyssIGl0ZW0ubmV4dCA9IHRoaXMuaGVhZF8sIHRoaXMuaGVhZF8gPSBpdGVtKTtcbn07XG5tb2R1bGUkY29udGVudHMkZ29vZyRhc3luYyRGcmVlTGlzdF9GcmVlTGlzdC5wcm90b3R5cGUub2NjdXBhbnRzID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLm9jY3VwYW50c187XG59O1xuZ29vZy5hc3luYy5GcmVlTGlzdCA9IG1vZHVsZSRjb250ZW50cyRnb29nJGFzeW5jJEZyZWVMaXN0X0ZyZWVMaXN0O1xuZ29vZy5kb20uQnJvd3NlckZlYXR1cmUgPSB7fTtcbmdvb2cuZG9tLkJyb3dzZXJGZWF0dXJlLkFTU1VNRV9OT19PRkZTQ1JFRU5fQ0FOVkFTID0gITE7XG5nb29nLmRvbS5Ccm93c2VyRmVhdHVyZS5BU1NVTUVfT0ZGU0NSRUVOX0NBTlZBUyA9ICExO1xuZ29vZy5kb20uQnJvd3NlckZlYXR1cmUuZGV0ZWN0T2Zmc2NyZWVuQ2FudmFzXyA9IGZ1bmN0aW9uKGNvbnRleHROYW1lKSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuICEhKG5ldyBzZWxmLk9mZnNjcmVlbkNhbnZhcygwLCAwKSkuZ2V0Q29udGV4dChjb250ZXh0TmFtZSk7XG4gIH0gY2F0Y2ggKGV4KSB7XG4gIH1cbiAgcmV0dXJuICExO1xufTtcbmdvb2cuZG9tLkJyb3dzZXJGZWF0dXJlLk9GRlNDUkVFTl9DQU5WQVNfMkQgPSAhZ29vZy5kb20uQnJvd3NlckZlYXR1cmUuQVNTVU1FX05PX09GRlNDUkVFTl9DQU5WQVMgJiYgKGdvb2cuZG9tLkJyb3dzZXJGZWF0dXJlLkFTU1VNRV9PRkZTQ1JFRU5fQ0FOVkFTIHx8IGdvb2cuZG9tLkJyb3dzZXJGZWF0dXJlLmRldGVjdE9mZnNjcmVlbkNhbnZhc18oXCIyZFwiKSk7XG5nb29nLmRvbS5Ccm93c2VyRmVhdHVyZS5DQU5fQUREX05BTUVfT1JfVFlQRV9BVFRSSUJVVEVTID0gITA7XG5nb29nLmRvbS5Ccm93c2VyRmVhdHVyZS5DQU5fVVNFX0NISUxEUkVOX0FUVFJJQlVURSA9ICEwO1xuZ29vZy5kb20uQnJvd3NlckZlYXR1cmUuQ0FOX1VTRV9JTk5FUl9URVhUID0gITE7XG5nb29nLmRvbS5Ccm93c2VyRmVhdHVyZS5DQU5fVVNFX1BBUkVOVF9FTEVNRU5UX1BST1BFUlRZID0gZ29vZy51c2VyQWdlbnQuSUUgfHwgZ29vZy51c2VyQWdlbnQuV0VCS0lUO1xuZ29vZy5kb20uQnJvd3NlckZlYXR1cmUuSU5ORVJfSFRNTF9ORUVEU19TQ09QRURfRUxFTUVOVCA9IGdvb2cudXNlckFnZW50LklFO1xuZ29vZy5tYXRoLkNvb3JkaW5hdGUgPSBmdW5jdGlvbihvcHRfeCwgb3B0X3kpIHtcbiAgdGhpcy54ID0gdm9pZCAwICE9PSBvcHRfeCA/IG9wdF94IDogMDtcbiAgdGhpcy55ID0gdm9pZCAwICE9PSBvcHRfeSA/IG9wdF95IDogMDtcbn07XG5nb29nLm1hdGguQ29vcmRpbmF0ZS5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG5ldyBnb29nLm1hdGguQ29vcmRpbmF0ZSh0aGlzLngsIHRoaXMueSk7XG59O1xuZ29vZy5ERUJVRyAmJiAoZ29vZy5tYXRoLkNvb3JkaW5hdGUucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBcIihcIiArIHRoaXMueCArIFwiLCBcIiArIHRoaXMueSArIFwiKVwiO1xufSk7XG5nb29nLm1hdGguQ29vcmRpbmF0ZS5wcm90b3R5cGUuZXF1YWxzID0gZnVuY3Rpb24ob3RoZXIpIHtcbiAgcmV0dXJuIG90aGVyIGluc3RhbmNlb2YgZ29vZy5tYXRoLkNvb3JkaW5hdGUgJiYgZ29vZy5tYXRoLkNvb3JkaW5hdGUuZXF1YWxzKHRoaXMsIG90aGVyKTtcbn07XG5nb29nLm1hdGguQ29vcmRpbmF0ZS5lcXVhbHMgPSBmdW5jdGlvbihhLCBiKSB7XG4gIHJldHVybiBhID09IGIgPyAhMCA6IGEgJiYgYiA/IGEueCA9PSBiLnggJiYgYS55ID09IGIueSA6ICExO1xufTtcbmdvb2cubWF0aC5Db29yZGluYXRlLmRpc3RhbmNlID0gZnVuY3Rpb24oYSwgYikge1xuICB2YXIgZHggPSBhLnggLSBiLngsIGR5ID0gYS55IC0gYi55O1xuICByZXR1cm4gTWF0aC5zcXJ0KGR4ICogZHggKyBkeSAqIGR5KTtcbn07XG5nb29nLm1hdGguQ29vcmRpbmF0ZS5tYWduaXR1ZGUgPSBmdW5jdGlvbihhKSB7XG4gIHJldHVybiBNYXRoLnNxcnQoYS54ICogYS54ICsgYS55ICogYS55KTtcbn07XG5nb29nLm1hdGguQ29vcmRpbmF0ZS5hemltdXRoID0gZnVuY3Rpb24oYSkge1xuICByZXR1cm4gZ29vZy5tYXRoLmFuZ2xlKDAsIDAsIGEueCwgYS55KTtcbn07XG5nb29nLm1hdGguQ29vcmRpbmF0ZS5zcXVhcmVkRGlzdGFuY2UgPSBmdW5jdGlvbihhLCBiKSB7XG4gIHZhciBkeCA9IGEueCAtIGIueCwgZHkgPSBhLnkgLSBiLnk7XG4gIHJldHVybiBkeCAqIGR4ICsgZHkgKiBkeTtcbn07XG5nb29nLm1hdGguQ29vcmRpbmF0ZS5kaWZmZXJlbmNlID0gZnVuY3Rpb24oYSwgYikge1xuICByZXR1cm4gbmV3IGdvb2cubWF0aC5Db29yZGluYXRlKGEueCAtIGIueCwgYS55IC0gYi55KTtcbn07XG5nb29nLm1hdGguQ29vcmRpbmF0ZS5zdW0gPSBmdW5jdGlvbihhLCBiKSB7XG4gIHJldHVybiBuZXcgZ29vZy5tYXRoLkNvb3JkaW5hdGUoYS54ICsgYi54LCBhLnkgKyBiLnkpO1xufTtcbmdvb2cubWF0aC5Db29yZGluYXRlLnByb3RvdHlwZS5jZWlsID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMueCA9IE1hdGguY2VpbCh0aGlzLngpO1xuICB0aGlzLnkgPSBNYXRoLmNlaWwodGhpcy55KTtcbiAgcmV0dXJuIHRoaXM7XG59O1xuZ29vZy5tYXRoLkNvb3JkaW5hdGUucHJvdG90eXBlLmZsb29yID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMueCA9IE1hdGguZmxvb3IodGhpcy54KTtcbiAgdGhpcy55ID0gTWF0aC5mbG9vcih0aGlzLnkpO1xuICByZXR1cm4gdGhpcztcbn07XG5nb29nLm1hdGguQ29vcmRpbmF0ZS5wcm90b3R5cGUucm91bmQgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy54ID0gTWF0aC5yb3VuZCh0aGlzLngpO1xuICB0aGlzLnkgPSBNYXRoLnJvdW5kKHRoaXMueSk7XG4gIHJldHVybiB0aGlzO1xufTtcbmdvb2cubWF0aC5Db29yZGluYXRlLnByb3RvdHlwZS50cmFuc2xhdGUgPSBmdW5jdGlvbih0eCwgb3B0X3R5KSB7XG4gIHR4IGluc3RhbmNlb2YgZ29vZy5tYXRoLkNvb3JkaW5hdGUgPyAodGhpcy54ICs9IHR4LngsIHRoaXMueSArPSB0eC55KSA6ICh0aGlzLnggKz0gTnVtYmVyKHR4KSwgXCJudW1iZXJcIiA9PT0gdHlwZW9mIG9wdF90eSAmJiAodGhpcy55ICs9IG9wdF90eSkpO1xuICByZXR1cm4gdGhpcztcbn07XG5nb29nLm1hdGguQ29vcmRpbmF0ZS5wcm90b3R5cGUuc2NhbGUgPSBmdW5jdGlvbihzeCwgb3B0X3N5KSB7XG4gIHZhciBzeTtcbiAgdGhpcy54ICo9IHN4O1xuICB0aGlzLnkgKj0gXCJudW1iZXJcIiA9PT0gdHlwZW9mIG9wdF9zeSA/IG9wdF9zeSA6IHN4O1xuICByZXR1cm4gdGhpcztcbn07XG5nb29nLm1hdGguQ29vcmRpbmF0ZS5wcm90b3R5cGUucm90YXRlUmFkaWFucyA9IGZ1bmN0aW9uKHJhZGlhbnMsIG9wdF9jZW50ZXIpIHtcbiAgdmFyIGNlbnRlciA9IG9wdF9jZW50ZXIgfHwgbmV3IGdvb2cubWF0aC5Db29yZGluYXRlKDAsIDApLCB4ID0gdGhpcy54LCB5ID0gdGhpcy55LCBjb3MgPSBNYXRoLmNvcyhyYWRpYW5zKSwgc2luID0gTWF0aC5zaW4ocmFkaWFucyk7XG4gIHRoaXMueCA9ICh4IC0gY2VudGVyLngpICogY29zIC0gKHkgLSBjZW50ZXIueSkgKiBzaW4gKyBjZW50ZXIueDtcbiAgdGhpcy55ID0gKHggLSBjZW50ZXIueCkgKiBzaW4gKyAoeSAtIGNlbnRlci55KSAqIGNvcyArIGNlbnRlci55O1xufTtcbmdvb2cubWF0aC5Db29yZGluYXRlLnByb3RvdHlwZS5yb3RhdGVEZWdyZWVzID0gZnVuY3Rpb24oZGVncmVlcywgb3B0X2NlbnRlcikge1xuICB0aGlzLnJvdGF0ZVJhZGlhbnMoZ29vZy5tYXRoLnRvUmFkaWFucyhkZWdyZWVzKSwgb3B0X2NlbnRlcik7XG59O1xuZ29vZy5tYXRoLlNpemUgPSBmdW5jdGlvbih3aWR0aCwgaGVpZ2h0KSB7XG4gIHRoaXMud2lkdGggPSB3aWR0aDtcbiAgdGhpcy5oZWlnaHQgPSBoZWlnaHQ7XG59O1xuZ29vZy5tYXRoLlNpemUuZXF1YWxzID0gZnVuY3Rpb24oYSwgYikge1xuICByZXR1cm4gYSA9PSBiID8gITAgOiBhICYmIGIgPyBhLndpZHRoID09IGIud2lkdGggJiYgYS5oZWlnaHQgPT0gYi5oZWlnaHQgOiAhMTtcbn07XG5nb29nLm1hdGguU2l6ZS5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG5ldyBnb29nLm1hdGguU2l6ZSh0aGlzLndpZHRoLCB0aGlzLmhlaWdodCk7XG59O1xuZ29vZy5ERUJVRyAmJiAoZ29vZy5tYXRoLlNpemUucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBcIihcIiArIHRoaXMud2lkdGggKyBcIiB4IFwiICsgdGhpcy5oZWlnaHQgKyBcIilcIjtcbn0pO1xuZ29vZy5tYXRoLlNpemUucHJvdG90eXBlLmdldExvbmdlc3QgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIE1hdGgubWF4KHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0KTtcbn07XG5nb29nLm1hdGguU2l6ZS5wcm90b3R5cGUuZ2V0U2hvcnRlc3QgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIE1hdGgubWluKHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0KTtcbn07XG5nb29nLm1hdGguU2l6ZS5wcm90b3R5cGUuYXJlYSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy53aWR0aCAqIHRoaXMuaGVpZ2h0O1xufTtcbmdvb2cubWF0aC5TaXplLnByb3RvdHlwZS5wZXJpbWV0ZXIgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIDIgKiAodGhpcy53aWR0aCArIHRoaXMuaGVpZ2h0KTtcbn07XG5nb29nLm1hdGguU2l6ZS5wcm90b3R5cGUuYXNwZWN0UmF0aW8gPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMud2lkdGggLyB0aGlzLmhlaWdodDtcbn07XG5nb29nLm1hdGguU2l6ZS5wcm90b3R5cGUuaXNFbXB0eSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gIXRoaXMuYXJlYSgpO1xufTtcbmdvb2cubWF0aC5TaXplLnByb3RvdHlwZS5jZWlsID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMud2lkdGggPSBNYXRoLmNlaWwodGhpcy53aWR0aCk7XG4gIHRoaXMuaGVpZ2h0ID0gTWF0aC5jZWlsKHRoaXMuaGVpZ2h0KTtcbiAgcmV0dXJuIHRoaXM7XG59O1xuZ29vZy5tYXRoLlNpemUucHJvdG90eXBlLmZpdHNJbnNpZGUgPSBmdW5jdGlvbih0YXJnZXQpIHtcbiAgcmV0dXJuIHRoaXMud2lkdGggPD0gdGFyZ2V0LndpZHRoICYmIHRoaXMuaGVpZ2h0IDw9IHRhcmdldC5oZWlnaHQ7XG59O1xuZ29vZy5tYXRoLlNpemUucHJvdG90eXBlLmZsb29yID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMud2lkdGggPSBNYXRoLmZsb29yKHRoaXMud2lkdGgpO1xuICB0aGlzLmhlaWdodCA9IE1hdGguZmxvb3IodGhpcy5oZWlnaHQpO1xuICByZXR1cm4gdGhpcztcbn07XG5nb29nLm1hdGguU2l6ZS5wcm90b3R5cGUucm91bmQgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy53aWR0aCA9IE1hdGgucm91bmQodGhpcy53aWR0aCk7XG4gIHRoaXMuaGVpZ2h0ID0gTWF0aC5yb3VuZCh0aGlzLmhlaWdodCk7XG4gIHJldHVybiB0aGlzO1xufTtcbmdvb2cubWF0aC5TaXplLnByb3RvdHlwZS5zY2FsZSA9IGZ1bmN0aW9uKHN4LCBvcHRfc3kpIHtcbiAgdmFyIHN5O1xuICB0aGlzLndpZHRoICo9IHN4O1xuICB0aGlzLmhlaWdodCAqPSBcIm51bWJlclwiID09PSB0eXBlb2Ygb3B0X3N5ID8gb3B0X3N5IDogc3g7XG4gIHJldHVybiB0aGlzO1xufTtcbmdvb2cubWF0aC5TaXplLnByb3RvdHlwZS5zY2FsZVRvQ292ZXIgPSBmdW5jdGlvbih0YXJnZXQpIHtcbiAgdmFyIHMgPSB0aGlzLmFzcGVjdFJhdGlvKCkgPD0gdGFyZ2V0LmFzcGVjdFJhdGlvKCkgPyB0YXJnZXQud2lkdGggLyB0aGlzLndpZHRoIDogdGFyZ2V0LmhlaWdodCAvIHRoaXMuaGVpZ2h0O1xuICByZXR1cm4gdGhpcy5zY2FsZShzKTtcbn07XG5nb29nLm1hdGguU2l6ZS5wcm90b3R5cGUuc2NhbGVUb0ZpdCA9IGZ1bmN0aW9uKHRhcmdldCkge1xuICB2YXIgcyA9IHRoaXMuYXNwZWN0UmF0aW8oKSA+IHRhcmdldC5hc3BlY3RSYXRpbygpID8gdGFyZ2V0LndpZHRoIC8gdGhpcy53aWR0aCA6IHRhcmdldC5oZWlnaHQgLyB0aGlzLmhlaWdodDtcbiAgcmV0dXJuIHRoaXMuc2NhbGUocyk7XG59O1xuZ29vZy5kb20uQXBwZW5kYWJsZSA9IHt9O1xuZ29vZy5kb20uQVNTVU1FX1FVSVJLU19NT0RFID0gITE7XG5nb29nLmRvbS5BU1NVTUVfU1RBTkRBUkRTX01PREUgPSAhMTtcbmdvb2cuZG9tLkNPTVBBVF9NT0RFX0tOT1dOXyA9IGdvb2cuZG9tLkFTU1VNRV9RVUlSS1NfTU9ERSB8fCBnb29nLmRvbS5BU1NVTUVfU1RBTkRBUkRTX01PREU7XG5nb29nLmRvbS5nZXREb21IZWxwZXIgPSBmdW5jdGlvbihvcHRfZWxlbWVudCkge1xuICByZXR1cm4gb3B0X2VsZW1lbnQgPyBuZXcgZ29vZy5kb20uRG9tSGVscGVyKGdvb2cuZG9tLmdldE93bmVyRG9jdW1lbnQob3B0X2VsZW1lbnQpKSA6IGdvb2cuZG9tLmRlZmF1bHREb21IZWxwZXJfIHx8IChnb29nLmRvbS5kZWZhdWx0RG9tSGVscGVyXyA9IG5ldyBnb29nLmRvbS5Eb21IZWxwZXIoKSk7XG59O1xuZ29vZy5kb20uZ2V0RG9jdW1lbnQgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIGRvY3VtZW50O1xufTtcbmdvb2cuZG9tLmdldEVsZW1lbnQgPSBmdW5jdGlvbihlbGVtZW50KSB7XG4gIHJldHVybiBnb29nLmRvbS5nZXRFbGVtZW50SGVscGVyXyhkb2N1bWVudCwgZWxlbWVudCk7XG59O1xuZ29vZy5kb20uZ2V0SFRNTEVsZW1lbnQgPSBmdW5jdGlvbihpZCkge1xuICB2YXIgZWxlbWVudCA9IGdvb2cuZG9tLmdldEVsZW1lbnQoaWQpO1xuICByZXR1cm4gZWxlbWVudCA/IG1vZHVsZSRjb250ZW50cyRnb29nJGFzc2VydHMkZG9tX2Fzc2VydElzSHRtbEVsZW1lbnQoZWxlbWVudCkgOiBudWxsO1xufTtcbmdvb2cuZG9tLmdldEVsZW1lbnRIZWxwZXJfID0gZnVuY3Rpb24oZG9jLCBlbGVtZW50KSB7XG4gIHJldHVybiBcInN0cmluZ1wiID09PSB0eXBlb2YgZWxlbWVudCA/IGRvYy5nZXRFbGVtZW50QnlJZChlbGVtZW50KSA6IGVsZW1lbnQ7XG59O1xuZ29vZy5kb20uZ2V0UmVxdWlyZWRFbGVtZW50ID0gZnVuY3Rpb24oaWQpIHtcbiAgcmV0dXJuIGdvb2cuZG9tLmdldFJlcXVpcmVkRWxlbWVudEhlbHBlcl8oZG9jdW1lbnQsIGlkKTtcbn07XG5nb29nLmRvbS5nZXRSZXF1aXJlZEhUTUxFbGVtZW50ID0gZnVuY3Rpb24oaWQpIHtcbiAgcmV0dXJuIG1vZHVsZSRjb250ZW50cyRnb29nJGFzc2VydHMkZG9tX2Fzc2VydElzSHRtbEVsZW1lbnQoZ29vZy5kb20uZ2V0UmVxdWlyZWRFbGVtZW50SGVscGVyXyhkb2N1bWVudCwgaWQpKTtcbn07XG5nb29nLmRvbS5nZXRSZXF1aXJlZEVsZW1lbnRIZWxwZXJfID0gZnVuY3Rpb24oZG9jLCBpZCkge1xuICBnb29nLmFzc2VydHMuYXNzZXJ0U3RyaW5nKGlkKTtcbiAgdmFyIGVsZW1lbnQgPSBnb29nLmRvbS5nZXRFbGVtZW50SGVscGVyXyhkb2MsIGlkKTtcbiAgcmV0dXJuIGdvb2cuYXNzZXJ0cy5hc3NlcnQoZWxlbWVudCwgXCJObyBlbGVtZW50IGZvdW5kIHdpdGggaWQ6IFwiICsgaWQpO1xufTtcbmdvb2cuZG9tLiQgPSBnb29nLmRvbS5nZXRFbGVtZW50O1xuZ29vZy5kb20uZ2V0RWxlbWVudHNCeVRhZ05hbWUgPSBmdW5jdGlvbih0YWdOYW1lLCBvcHRfcGFyZW50KSB7XG4gIHJldHVybiAob3B0X3BhcmVudCB8fCBkb2N1bWVudCkuZ2V0RWxlbWVudHNCeVRhZ05hbWUoU3RyaW5nKHRhZ05hbWUpKTtcbn07XG5nb29nLmRvbS5nZXRFbGVtZW50c0J5VGFnTmFtZUFuZENsYXNzID0gZnVuY3Rpb24ob3B0X3RhZywgb3B0X2NsYXNzLCBvcHRfZWwpIHtcbiAgcmV0dXJuIGdvb2cuZG9tLmdldEVsZW1lbnRzQnlUYWdOYW1lQW5kQ2xhc3NfKGRvY3VtZW50LCBvcHRfdGFnLCBvcHRfY2xhc3MsIG9wdF9lbCk7XG59O1xuZ29vZy5kb20uZ2V0RWxlbWVudEJ5VGFnTmFtZUFuZENsYXNzID0gZnVuY3Rpb24ob3B0X3RhZywgb3B0X2NsYXNzLCBvcHRfZWwpIHtcbiAgcmV0dXJuIGdvb2cuZG9tLmdldEVsZW1lbnRCeVRhZ05hbWVBbmRDbGFzc18oZG9jdW1lbnQsIG9wdF90YWcsIG9wdF9jbGFzcywgb3B0X2VsKTtcbn07XG5nb29nLmRvbS5nZXRFbGVtZW50c0J5Q2xhc3MgPSBmdW5jdGlvbihjbGFzc05hbWUsIG9wdF9lbCkge1xuICB2YXIgcGFyZW50ID0gb3B0X2VsIHx8IGRvY3VtZW50O1xuICByZXR1cm4gZ29vZy5kb20uY2FuVXNlUXVlcnlTZWxlY3Rvcl8ocGFyZW50KSA/IHBhcmVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLlwiICsgY2xhc3NOYW1lKSA6IGdvb2cuZG9tLmdldEVsZW1lbnRzQnlUYWdOYW1lQW5kQ2xhc3NfKGRvY3VtZW50LCBcIipcIiwgY2xhc3NOYW1lLCBvcHRfZWwpO1xufTtcbmdvb2cuZG9tLmdldEVsZW1lbnRCeUNsYXNzID0gZnVuY3Rpb24oY2xhc3NOYW1lLCBvcHRfZWwpIHtcbiAgdmFyIHBhcmVudCA9IG9wdF9lbCB8fCBkb2N1bWVudCwgcmV0VmFsID0gbnVsbDtcbiAgcmV0dXJuIChyZXRWYWwgPSBwYXJlbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSA/IHBhcmVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKGNsYXNzTmFtZSlbMF0gOiBnb29nLmRvbS5nZXRFbGVtZW50QnlUYWdOYW1lQW5kQ2xhc3NfKGRvY3VtZW50LCBcIipcIiwgY2xhc3NOYW1lLCBvcHRfZWwpKSB8fCBudWxsO1xufTtcbmdvb2cuZG9tLmdldEhUTUxFbGVtZW50QnlDbGFzcyA9IGZ1bmN0aW9uKGNsYXNzTmFtZSwgb3B0X3BhcmVudCkge1xuICB2YXIgZWxlbWVudCA9IGdvb2cuZG9tLmdldEVsZW1lbnRCeUNsYXNzKGNsYXNzTmFtZSwgb3B0X3BhcmVudCk7XG4gIHJldHVybiBlbGVtZW50ID8gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXNzZXJ0cyRkb21fYXNzZXJ0SXNIdG1sRWxlbWVudChlbGVtZW50KSA6IG51bGw7XG59O1xuZ29vZy5kb20uZ2V0UmVxdWlyZWRFbGVtZW50QnlDbGFzcyA9IGZ1bmN0aW9uKGNsYXNzTmFtZSwgb3B0X3Jvb3QpIHtcbiAgdmFyIHJldFZhbHVlID0gZ29vZy5kb20uZ2V0RWxlbWVudEJ5Q2xhc3MoY2xhc3NOYW1lLCBvcHRfcm9vdCk7XG4gIHJldHVybiBnb29nLmFzc2VydHMuYXNzZXJ0KHJldFZhbHVlLCBcIk5vIGVsZW1lbnQgZm91bmQgd2l0aCBjbGFzc05hbWU6IFwiICsgY2xhc3NOYW1lKTtcbn07XG5nb29nLmRvbS5nZXRSZXF1aXJlZEhUTUxFbGVtZW50QnlDbGFzcyA9IGZ1bmN0aW9uKGNsYXNzTmFtZSwgb3B0X3BhcmVudCkge1xuICB2YXIgcmV0VmFsdWUgPSBnb29nLmRvbS5nZXRFbGVtZW50QnlDbGFzcyhjbGFzc05hbWUsIG9wdF9wYXJlbnQpO1xuICBnb29nLmFzc2VydHMuYXNzZXJ0KHJldFZhbHVlLCBcIk5vIEhUTUxFbGVtZW50IGZvdW5kIHdpdGggY2xhc3NOYW1lOiBcIiArIGNsYXNzTmFtZSk7XG4gIHJldHVybiBtb2R1bGUkY29udGVudHMkZ29vZyRhc3NlcnRzJGRvbV9hc3NlcnRJc0h0bWxFbGVtZW50KHJldFZhbHVlKTtcbn07XG5nb29nLmRvbS5jYW5Vc2VRdWVyeVNlbGVjdG9yXyA9IGZ1bmN0aW9uKHBhcmVudCkge1xuICByZXR1cm4gISghcGFyZW50LnF1ZXJ5U2VsZWN0b3JBbGwgfHwgIXBhcmVudC5xdWVyeVNlbGVjdG9yKTtcbn07XG5nb29nLmRvbS5nZXRFbGVtZW50c0J5VGFnTmFtZUFuZENsYXNzXyA9IGZ1bmN0aW9uKGRvYywgb3B0X3RhZywgb3B0X2NsYXNzLCBvcHRfZWwpIHtcbiAgdmFyIHBhcmVudCA9IG9wdF9lbCB8fCBkb2MsIHRhZ05hbWUgPSBvcHRfdGFnICYmIFwiKlwiICE9IG9wdF90YWcgPyBTdHJpbmcob3B0X3RhZykudG9VcHBlckNhc2UoKSA6IFwiXCI7XG4gIGlmIChnb29nLmRvbS5jYW5Vc2VRdWVyeVNlbGVjdG9yXyhwYXJlbnQpICYmICh0YWdOYW1lIHx8IG9wdF9jbGFzcykpIHtcbiAgICByZXR1cm4gcGFyZW50LnF1ZXJ5U2VsZWN0b3JBbGwodGFnTmFtZSArIChvcHRfY2xhc3MgPyBcIi5cIiArIG9wdF9jbGFzcyA6IFwiXCIpKTtcbiAgfVxuICBpZiAob3B0X2NsYXNzICYmIHBhcmVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKSB7XG4gICAgdmFyIGVscyA9IHBhcmVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKG9wdF9jbGFzcyk7XG4gICAgaWYgKHRhZ05hbWUpIHtcbiAgICAgIGZvciAodmFyIGFycmF5TGlrZSA9IHt9LCBsZW4gPSAwLCBpID0gMCwgZWw7IGVsID0gZWxzW2ldOyBpKyspIHtcbiAgICAgICAgdGFnTmFtZSA9PSBlbC5ub2RlTmFtZSAmJiAoYXJyYXlMaWtlW2xlbisrXSA9IGVsKTtcbiAgICAgIH1cbiAgICAgIGFycmF5TGlrZS5sZW5ndGggPSBsZW47XG4gICAgICByZXR1cm4gYXJyYXlMaWtlO1xuICAgIH1cbiAgICByZXR1cm4gZWxzO1xuICB9XG4gIGVscyA9IHBhcmVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSh0YWdOYW1lIHx8IFwiKlwiKTtcbiAgaWYgKG9wdF9jbGFzcykge1xuICAgIGFycmF5TGlrZSA9IHt9O1xuICAgIGZvciAoaSA9IGxlbiA9IDA7IGVsID0gZWxzW2ldOyBpKyspIHtcbiAgICAgIHZhciBjbGFzc05hbWUgPSBlbC5jbGFzc05hbWU7XG4gICAgICBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIGNsYXNzTmFtZS5zcGxpdCAmJiBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9jb250YWlucyhjbGFzc05hbWUuc3BsaXQoL1xccysvKSwgb3B0X2NsYXNzKSAmJiAoYXJyYXlMaWtlW2xlbisrXSA9IGVsKTtcbiAgICB9XG4gICAgYXJyYXlMaWtlLmxlbmd0aCA9IGxlbjtcbiAgICByZXR1cm4gYXJyYXlMaWtlO1xuICB9XG4gIHJldHVybiBlbHM7XG59O1xuZ29vZy5kb20uZ2V0RWxlbWVudEJ5VGFnTmFtZUFuZENsYXNzXyA9IGZ1bmN0aW9uKGRvYywgb3B0X3RhZywgb3B0X2NsYXNzLCBvcHRfZWwpIHtcbiAgdmFyIHBhcmVudCA9IG9wdF9lbCB8fCBkb2MsIHRhZyA9IG9wdF90YWcgJiYgXCIqXCIgIT0gb3B0X3RhZyA/IFN0cmluZyhvcHRfdGFnKS50b1VwcGVyQ2FzZSgpIDogXCJcIjtcbiAgcmV0dXJuIGdvb2cuZG9tLmNhblVzZVF1ZXJ5U2VsZWN0b3JfKHBhcmVudCkgJiYgKHRhZyB8fCBvcHRfY2xhc3MpID8gcGFyZW50LnF1ZXJ5U2VsZWN0b3IodGFnICsgKG9wdF9jbGFzcyA/IFwiLlwiICsgb3B0X2NsYXNzIDogXCJcIikpIDogZ29vZy5kb20uZ2V0RWxlbWVudHNCeVRhZ05hbWVBbmRDbGFzc18oZG9jLCBvcHRfdGFnLCBvcHRfY2xhc3MsIG9wdF9lbClbMF0gfHwgbnVsbDtcbn07XG5nb29nLmRvbS4kJCA9IGdvb2cuZG9tLmdldEVsZW1lbnRzQnlUYWdOYW1lQW5kQ2xhc3M7XG5nb29nLmRvbS5zZXRQcm9wZXJ0aWVzID0gZnVuY3Rpb24oZWxlbWVudCwgcHJvcGVydGllcykge1xuICBtb2R1bGUkY29udGVudHMkZ29vZyRvYmplY3RfZm9yRWFjaChwcm9wZXJ0aWVzLCBmdW5jdGlvbih2YWwsIGtleSkge1xuICAgIHZhbCAmJiBcIm9iamVjdFwiID09IHR5cGVvZiB2YWwgJiYgdmFsLmltcGxlbWVudHNHb29nU3RyaW5nVHlwZWRTdHJpbmcgJiYgKHZhbCA9IHZhbC5nZXRUeXBlZFN0cmluZ1ZhbHVlKCkpO1xuICAgIFwic3R5bGVcIiA9PSBrZXkgPyBlbGVtZW50LnN0eWxlLmNzc1RleHQgPSB2YWwgOiBcImNsYXNzXCIgPT0ga2V5ID8gZWxlbWVudC5jbGFzc05hbWUgPSB2YWwgOiBcImZvclwiID09IGtleSA/IGVsZW1lbnQuaHRtbEZvciA9IHZhbCA6IGdvb2cuZG9tLkRJUkVDVF9BVFRSSUJVVEVfTUFQXy5oYXNPd25Qcm9wZXJ0eShrZXkpID8gZWxlbWVudC5zZXRBdHRyaWJ1dGUoZ29vZy5kb20uRElSRUNUX0FUVFJJQlVURV9NQVBfW2tleV0sIHZhbCkgOiBnb29nLnN0cmluZy5zdGFydHNXaXRoKGtleSwgXCJhcmlhLVwiKSB8fCBnb29nLnN0cmluZy5zdGFydHNXaXRoKGtleSwgXCJkYXRhLVwiKSA/IGVsZW1lbnQuc2V0QXR0cmlidXRlKGtleSwgdmFsKSA6IGVsZW1lbnRba2V5XSA9IHZhbDtcbiAgfSk7XG59O1xuZ29vZy5kb20uRElSRUNUX0FUVFJJQlVURV9NQVBfID0ge2NlbGxwYWRkaW5nOlwiY2VsbFBhZGRpbmdcIiwgY2VsbHNwYWNpbmc6XCJjZWxsU3BhY2luZ1wiLCBjb2xzcGFuOlwiY29sU3BhblwiLCBmcmFtZWJvcmRlcjpcImZyYW1lQm9yZGVyXCIsIGhlaWdodDpcImhlaWdodFwiLCBtYXhsZW5ndGg6XCJtYXhMZW5ndGhcIiwgbm9uY2U6XCJub25jZVwiLCByb2xlOlwicm9sZVwiLCByb3dzcGFuOlwicm93U3BhblwiLCB0eXBlOlwidHlwZVwiLCB1c2VtYXA6XCJ1c2VNYXBcIiwgdmFsaWduOlwidkFsaWduXCIsIHdpZHRoOlwid2lkdGhcIn07XG5nb29nLmRvbS5nZXRWaWV3cG9ydFNpemUgPSBmdW5jdGlvbihvcHRfd2luZG93KSB7XG4gIHJldHVybiBnb29nLmRvbS5nZXRWaWV3cG9ydFNpemVfKG9wdF93aW5kb3cgfHwgd2luZG93KTtcbn07XG5nb29nLmRvbS5nZXRWaWV3cG9ydFNpemVfID0gZnVuY3Rpb24od2luKSB7XG4gIHZhciBkb2MgPSB3aW4uZG9jdW1lbnQsIGVsID0gZ29vZy5kb20uaXNDc3MxQ29tcGF0TW9kZV8oZG9jKSA/IGRvYy5kb2N1bWVudEVsZW1lbnQgOiBkb2MuYm9keTtcbiAgcmV0dXJuIG5ldyBnb29nLm1hdGguU2l6ZShlbC5jbGllbnRXaWR0aCwgZWwuY2xpZW50SGVpZ2h0KTtcbn07XG5nb29nLmRvbS5nZXREb2N1bWVudEhlaWdodCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gZ29vZy5kb20uZ2V0RG9jdW1lbnRIZWlnaHRfKHdpbmRvdyk7XG59O1xuZ29vZy5kb20uZ2V0RG9jdW1lbnRIZWlnaHRGb3JXaW5kb3cgPSBmdW5jdGlvbih3aW4pIHtcbiAgcmV0dXJuIGdvb2cuZG9tLmdldERvY3VtZW50SGVpZ2h0Xyh3aW4pO1xufTtcbmdvb2cuZG9tLmdldERvY3VtZW50SGVpZ2h0XyA9IGZ1bmN0aW9uKHdpbikge1xuICB2YXIgZG9jID0gd2luLmRvY3VtZW50LCBoZWlnaHQgPSAwO1xuICBpZiAoZG9jKSB7XG4gICAgdmFyIGJvZHkgPSBkb2MuYm9keSwgZG9jRWwgPSBkb2MuZG9jdW1lbnRFbGVtZW50O1xuICAgIGlmICghZG9jRWwgfHwgIWJvZHkpIHtcbiAgICAgIHJldHVybiAwO1xuICAgIH1cbiAgICB2YXIgdmggPSBnb29nLmRvbS5nZXRWaWV3cG9ydFNpemVfKHdpbikuaGVpZ2h0O1xuICAgIGlmIChnb29nLmRvbS5pc0NzczFDb21wYXRNb2RlXyhkb2MpICYmIGRvY0VsLnNjcm9sbEhlaWdodCkge1xuICAgICAgaGVpZ2h0ID0gZG9jRWwuc2Nyb2xsSGVpZ2h0ICE9IHZoID8gZG9jRWwuc2Nyb2xsSGVpZ2h0IDogZG9jRWwub2Zmc2V0SGVpZ2h0O1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgc2ggPSBkb2NFbC5zY3JvbGxIZWlnaHQsIG9oID0gZG9jRWwub2Zmc2V0SGVpZ2h0O1xuICAgICAgZG9jRWwuY2xpZW50SGVpZ2h0ICE9IG9oICYmIChzaCA9IGJvZHkuc2Nyb2xsSGVpZ2h0LCBvaCA9IGJvZHkub2Zmc2V0SGVpZ2h0KTtcbiAgICAgIGhlaWdodCA9IHNoID4gdmggPyBzaCA+IG9oID8gc2ggOiBvaCA6IHNoIDwgb2ggPyBzaCA6IG9oO1xuICAgIH1cbiAgfVxuICByZXR1cm4gaGVpZ2h0O1xufTtcbmdvb2cuZG9tLmdldFBhZ2VTY3JvbGwgPSBmdW5jdGlvbihvcHRfd2luZG93KSB7XG4gIHJldHVybiBnb29nLmRvbS5nZXREb21IZWxwZXIoKG9wdF93aW5kb3cgfHwgZ29vZy5nbG9iYWwgfHwgd2luZG93KS5kb2N1bWVudCkuZ2V0RG9jdW1lbnRTY3JvbGwoKTtcbn07XG5nb29nLmRvbS5nZXREb2N1bWVudFNjcm9sbCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gZ29vZy5kb20uZ2V0RG9jdW1lbnRTY3JvbGxfKGRvY3VtZW50KTtcbn07XG5nb29nLmRvbS5nZXREb2N1bWVudFNjcm9sbF8gPSBmdW5jdGlvbihkb2MpIHtcbiAgdmFyIGVsID0gZ29vZy5kb20uZ2V0RG9jdW1lbnRTY3JvbGxFbGVtZW50Xyhkb2MpLCB3aW4gPSBnb29nLmRvbS5nZXRXaW5kb3dfKGRvYyk7XG4gIHJldHVybiBnb29nLnVzZXJBZ2VudC5JRSAmJiB3aW4ucGFnZVlPZmZzZXQgIT0gZWwuc2Nyb2xsVG9wID8gbmV3IGdvb2cubWF0aC5Db29yZGluYXRlKGVsLnNjcm9sbExlZnQsIGVsLnNjcm9sbFRvcCkgOiBuZXcgZ29vZy5tYXRoLkNvb3JkaW5hdGUod2luLnBhZ2VYT2Zmc2V0IHx8IGVsLnNjcm9sbExlZnQsIHdpbi5wYWdlWU9mZnNldCB8fCBlbC5zY3JvbGxUb3ApO1xufTtcbmdvb2cuZG9tLmdldERvY3VtZW50U2Nyb2xsRWxlbWVudCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gZ29vZy5kb20uZ2V0RG9jdW1lbnRTY3JvbGxFbGVtZW50Xyhkb2N1bWVudCk7XG59O1xuZ29vZy5kb20uZ2V0RG9jdW1lbnRTY3JvbGxFbGVtZW50XyA9IGZ1bmN0aW9uKGRvYykge1xuICByZXR1cm4gZG9jLnNjcm9sbGluZ0VsZW1lbnQgPyBkb2Muc2Nyb2xsaW5nRWxlbWVudCA6ICFnb29nLnVzZXJBZ2VudC5XRUJLSVQgJiYgZ29vZy5kb20uaXNDc3MxQ29tcGF0TW9kZV8oZG9jKSA/IGRvYy5kb2N1bWVudEVsZW1lbnQgOiBkb2MuYm9keSB8fCBkb2MuZG9jdW1lbnRFbGVtZW50O1xufTtcbmdvb2cuZG9tLmdldFdpbmRvdyA9IGZ1bmN0aW9uKG9wdF9kb2MpIHtcbiAgcmV0dXJuIG9wdF9kb2MgPyBnb29nLmRvbS5nZXRXaW5kb3dfKG9wdF9kb2MpIDogd2luZG93O1xufTtcbmdvb2cuZG9tLmdldFdpbmRvd18gPSBmdW5jdGlvbihkb2MpIHtcbiAgcmV0dXJuIGRvYy5wYXJlbnRXaW5kb3cgfHwgZG9jLmRlZmF1bHRWaWV3O1xufTtcbmdvb2cuZG9tLmNyZWF0ZURvbSA9IGZ1bmN0aW9uKHRhZ05hbWUsIG9wdF9hdHRyaWJ1dGVzLCB2YXJfYXJncykge1xuICByZXR1cm4gZ29vZy5kb20uY3JlYXRlRG9tXyhkb2N1bWVudCwgYXJndW1lbnRzKTtcbn07XG5nb29nLmRvbS5jcmVhdGVEb21fID0gZnVuY3Rpb24oZG9jLCBhcmdzKSB7XG4gIHZhciBhdHRyaWJ1dGVzID0gYXJnc1sxXSwgZWxlbWVudCA9IGdvb2cuZG9tLmNyZWF0ZUVsZW1lbnRfKGRvYywgU3RyaW5nKGFyZ3NbMF0pKTtcbiAgYXR0cmlidXRlcyAmJiAoXCJzdHJpbmdcIiA9PT0gdHlwZW9mIGF0dHJpYnV0ZXMgPyBlbGVtZW50LmNsYXNzTmFtZSA9IGF0dHJpYnV0ZXMgOiBBcnJheS5pc0FycmF5KGF0dHJpYnV0ZXMpID8gZWxlbWVudC5jbGFzc05hbWUgPSBhdHRyaWJ1dGVzLmpvaW4oXCIgXCIpIDogZ29vZy5kb20uc2V0UHJvcGVydGllcyhlbGVtZW50LCBhdHRyaWJ1dGVzKSk7XG4gIDIgPCBhcmdzLmxlbmd0aCAmJiBnb29nLmRvbS5hcHBlbmRfKGRvYywgZWxlbWVudCwgYXJncywgMik7XG4gIHJldHVybiBlbGVtZW50O1xufTtcbmdvb2cuZG9tLmFwcGVuZF8gPSBmdW5jdGlvbihkb2MsIHBhcmVudCwgYXJncywgc3RhcnRJbmRleCkge1xuICBmdW5jdGlvbiBjaGlsZEhhbmRsZXIoY2hpbGQpIHtcbiAgICBjaGlsZCAmJiBwYXJlbnQuYXBwZW5kQ2hpbGQoXCJzdHJpbmdcIiA9PT0gdHlwZW9mIGNoaWxkID8gZG9jLmNyZWF0ZVRleHROb2RlKGNoaWxkKSA6IGNoaWxkKTtcbiAgfVxuICBmb3IgKHZhciBpID0gc3RhcnRJbmRleDsgaSA8IGFyZ3MubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgYXJnID0gYXJnc1tpXTtcbiAgICBnb29nLmlzQXJyYXlMaWtlKGFyZykgJiYgIWdvb2cuZG9tLmlzTm9kZUxpa2UoYXJnKSA/IG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X2ZvckVhY2goZ29vZy5kb20uaXNOb2RlTGlzdChhcmcpID8gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfdG9BcnJheShhcmcpIDogYXJnLCBjaGlsZEhhbmRsZXIpIDogY2hpbGRIYW5kbGVyKGFyZyk7XG4gIH1cbn07XG5nb29nLmRvbS4kZG9tID0gZ29vZy5kb20uY3JlYXRlRG9tO1xuZ29vZy5kb20uY3JlYXRlRWxlbWVudCA9IGZ1bmN0aW9uKG5hbWUpIHtcbiAgcmV0dXJuIGdvb2cuZG9tLmNyZWF0ZUVsZW1lbnRfKGRvY3VtZW50LCBuYW1lKTtcbn07XG5nb29nLmRvbS5jcmVhdGVFbGVtZW50XyA9IGZ1bmN0aW9uKGRvYywgbmFtZSkge1xuICBuYW1lID0gU3RyaW5nKG5hbWUpO1xuICBcImFwcGxpY2F0aW9uL3hodG1sK3htbFwiID09PSBkb2MuY29udGVudFR5cGUgJiYgKG5hbWUgPSBuYW1lLnRvTG93ZXJDYXNlKCkpO1xuICByZXR1cm4gZG9jLmNyZWF0ZUVsZW1lbnQobmFtZSk7XG59O1xuZ29vZy5kb20uY3JlYXRlVGV4dE5vZGUgPSBmdW5jdGlvbihjb250ZW50KSB7XG4gIHJldHVybiBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShTdHJpbmcoY29udGVudCkpO1xufTtcbmdvb2cuZG9tLmNyZWF0ZVRhYmxlID0gZnVuY3Rpb24ocm93cywgY29sdW1ucywgb3B0X2ZpbGxXaXRoTmJzcCkge1xuICByZXR1cm4gZ29vZy5kb20uY3JlYXRlVGFibGVfKGRvY3VtZW50LCByb3dzLCBjb2x1bW5zLCAhIW9wdF9maWxsV2l0aE5ic3ApO1xufTtcbmdvb2cuZG9tLmNyZWF0ZVRhYmxlXyA9IGZ1bmN0aW9uKGRvYywgcm93cywgY29sdW1ucywgZmlsbFdpdGhOYnNwKSB7XG4gIGZvciAodmFyIHRhYmxlID0gZ29vZy5kb20uY3JlYXRlRWxlbWVudF8oZG9jLCBnb29nLmRvbS5UYWdOYW1lLlRBQkxFKSwgdGJvZHkgPSB0YWJsZS5hcHBlbmRDaGlsZChnb29nLmRvbS5jcmVhdGVFbGVtZW50Xyhkb2MsIGdvb2cuZG9tLlRhZ05hbWUuVEJPRFkpKSwgaSA9IDA7IGkgPCByb3dzOyBpKyspIHtcbiAgICBmb3IgKHZhciB0ciA9IGdvb2cuZG9tLmNyZWF0ZUVsZW1lbnRfKGRvYywgZ29vZy5kb20uVGFnTmFtZS5UUiksIGogPSAwOyBqIDwgY29sdW1uczsgaisrKSB7XG4gICAgICB2YXIgdGQgPSBnb29nLmRvbS5jcmVhdGVFbGVtZW50Xyhkb2MsIGdvb2cuZG9tLlRhZ05hbWUuVEQpO1xuICAgICAgZmlsbFdpdGhOYnNwICYmIGdvb2cuZG9tLnNldFRleHRDb250ZW50KHRkLCBnb29nLnN0cmluZy5Vbmljb2RlLk5CU1ApO1xuICAgICAgdHIuYXBwZW5kQ2hpbGQodGQpO1xuICAgIH1cbiAgICB0Ym9keS5hcHBlbmRDaGlsZCh0cik7XG4gIH1cbiAgcmV0dXJuIHRhYmxlO1xufTtcbmdvb2cuZG9tLmNvbnN0SHRtbFRvTm9kZSA9IGZ1bmN0aW9uKHZhcl9hcmdzKSB7XG4gIHZhciBzdHJpbmdBcnJheSA9IEFycmF5LnByb3RvdHlwZS5tYXAuY2FsbChhcmd1bWVudHMsIGdvb2cuc3RyaW5nLkNvbnN0LnVud3JhcCksIHNhZmVIdG1sID0gZ29vZy5odG1sLnVuY2hlY2tlZGNvbnZlcnNpb25zLnNhZmVIdG1sRnJvbVN0cmluZ0tub3duVG9TYXRpc2Z5VHlwZUNvbnRyYWN0KGdvb2cuc3RyaW5nLkNvbnN0LmZyb20oXCJDb25zdGFudCBIVE1MIHN0cmluZywgdGhhdCBnZXRzIHR1cm5lZCBpbnRvIGEgTm9kZSBsYXRlciwgc28gaXQgd2lsbCBiZSBhdXRvbWF0aWNhbGx5IGJhbGFuY2VkLlwiKSwgc3RyaW5nQXJyYXkuam9pbihcIlwiKSk7XG4gIHJldHVybiBnb29nLmRvbS5zYWZlSHRtbFRvTm9kZShzYWZlSHRtbCk7XG59O1xuZ29vZy5kb20uc2FmZUh0bWxUb05vZGUgPSBmdW5jdGlvbihodG1sKSB7XG4gIHJldHVybiBnb29nLmRvbS5zYWZlSHRtbFRvTm9kZV8oZG9jdW1lbnQsIGh0bWwpO1xufTtcbmdvb2cuZG9tLnNhZmVIdG1sVG9Ob2RlXyA9IGZ1bmN0aW9uKGRvYywgaHRtbCkge1xuICB2YXIgdGVtcERpdiA9IGdvb2cuZG9tLmNyZWF0ZUVsZW1lbnRfKGRvYywgZ29vZy5kb20uVGFnTmFtZS5ESVYpO1xuICBnb29nLnVzZXJBZ2VudC5JRSA/IChnb29nLmRvbS5zYWZlLnNldElubmVySHRtbCh0ZW1wRGl2LCBtb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVIdG1sX1NhZmVIdG1sLmNvbmNhdChtb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVIdG1sX1NhZmVIdG1sLkJSLCBodG1sKSksIHRlbXBEaXYucmVtb3ZlQ2hpbGQoZ29vZy5hc3NlcnRzLmFzc2VydCh0ZW1wRGl2LmZpcnN0Q2hpbGQpKSkgOiBnb29nLmRvbS5zYWZlLnNldElubmVySHRtbCh0ZW1wRGl2LCBodG1sKTtcbiAgcmV0dXJuIGdvb2cuZG9tLmNoaWxkcmVuVG9Ob2RlXyhkb2MsIHRlbXBEaXYpO1xufTtcbmdvb2cuZG9tLmNoaWxkcmVuVG9Ob2RlXyA9IGZ1bmN0aW9uKGRvYywgdGVtcERpdikge1xuICBpZiAoMSA9PSB0ZW1wRGl2LmNoaWxkTm9kZXMubGVuZ3RoKSB7XG4gICAgcmV0dXJuIHRlbXBEaXYucmVtb3ZlQ2hpbGQoZ29vZy5hc3NlcnRzLmFzc2VydCh0ZW1wRGl2LmZpcnN0Q2hpbGQpKTtcbiAgfVxuICBmb3IgKHZhciBmcmFnbWVudCA9IGRvYy5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7IHRlbXBEaXYuZmlyc3RDaGlsZDspIHtcbiAgICBmcmFnbWVudC5hcHBlbmRDaGlsZCh0ZW1wRGl2LmZpcnN0Q2hpbGQpO1xuICB9XG4gIHJldHVybiBmcmFnbWVudDtcbn07XG5nb29nLmRvbS5pc0NzczFDb21wYXRNb2RlID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBnb29nLmRvbS5pc0NzczFDb21wYXRNb2RlXyhkb2N1bWVudCk7XG59O1xuZ29vZy5kb20uaXNDc3MxQ29tcGF0TW9kZV8gPSBmdW5jdGlvbihkb2MpIHtcbiAgcmV0dXJuIGdvb2cuZG9tLkNPTVBBVF9NT0RFX0tOT1dOXyA/IGdvb2cuZG9tLkFTU1VNRV9TVEFOREFSRFNfTU9ERSA6IFwiQ1NTMUNvbXBhdFwiID09IGRvYy5jb21wYXRNb2RlO1xufTtcbmdvb2cuZG9tLmNhbkhhdmVDaGlsZHJlbiA9IGZ1bmN0aW9uKG5vZGUpIHtcbiAgaWYgKG5vZGUubm9kZVR5cGUgIT0gZ29vZy5kb20uTm9kZVR5cGUuRUxFTUVOVCkge1xuICAgIHJldHVybiAhMTtcbiAgfVxuICBzd2l0Y2gobm9kZS50YWdOYW1lKSB7XG4gICAgY2FzZSBTdHJpbmcoZ29vZy5kb20uVGFnTmFtZS5BUFBMRVQpOlxuICAgIGNhc2UgU3RyaW5nKGdvb2cuZG9tLlRhZ05hbWUuQVJFQSk6XG4gICAgY2FzZSBTdHJpbmcoZ29vZy5kb20uVGFnTmFtZS5CQVNFKTpcbiAgICBjYXNlIFN0cmluZyhnb29nLmRvbS5UYWdOYW1lLkJSKTpcbiAgICBjYXNlIFN0cmluZyhnb29nLmRvbS5UYWdOYW1lLkNPTCk6XG4gICAgY2FzZSBTdHJpbmcoZ29vZy5kb20uVGFnTmFtZS5DT01NQU5EKTpcbiAgICBjYXNlIFN0cmluZyhnb29nLmRvbS5UYWdOYW1lLkVNQkVEKTpcbiAgICBjYXNlIFN0cmluZyhnb29nLmRvbS5UYWdOYW1lLkZSQU1FKTpcbiAgICBjYXNlIFN0cmluZyhnb29nLmRvbS5UYWdOYW1lLkhSKTpcbiAgICBjYXNlIFN0cmluZyhnb29nLmRvbS5UYWdOYW1lLklNRyk6XG4gICAgY2FzZSBTdHJpbmcoZ29vZy5kb20uVGFnTmFtZS5JTlBVVCk6XG4gICAgY2FzZSBTdHJpbmcoZ29vZy5kb20uVGFnTmFtZS5JRlJBTUUpOlxuICAgIGNhc2UgU3RyaW5nKGdvb2cuZG9tLlRhZ05hbWUuSVNJTkRFWCk6XG4gICAgY2FzZSBTdHJpbmcoZ29vZy5kb20uVGFnTmFtZS5LRVlHRU4pOlxuICAgIGNhc2UgU3RyaW5nKGdvb2cuZG9tLlRhZ05hbWUuTElOSyk6XG4gICAgY2FzZSBTdHJpbmcoZ29vZy5kb20uVGFnTmFtZS5OT0ZSQU1FUyk6XG4gICAgY2FzZSBTdHJpbmcoZ29vZy5kb20uVGFnTmFtZS5OT1NDUklQVCk6XG4gICAgY2FzZSBTdHJpbmcoZ29vZy5kb20uVGFnTmFtZS5NRVRBKTpcbiAgICBjYXNlIFN0cmluZyhnb29nLmRvbS5UYWdOYW1lLk9CSkVDVCk6XG4gICAgY2FzZSBTdHJpbmcoZ29vZy5kb20uVGFnTmFtZS5QQVJBTSk6XG4gICAgY2FzZSBTdHJpbmcoZ29vZy5kb20uVGFnTmFtZS5TQ1JJUFQpOlxuICAgIGNhc2UgU3RyaW5nKGdvb2cuZG9tLlRhZ05hbWUuU09VUkNFKTpcbiAgICBjYXNlIFN0cmluZyhnb29nLmRvbS5UYWdOYW1lLlNUWUxFKTpcbiAgICBjYXNlIFN0cmluZyhnb29nLmRvbS5UYWdOYW1lLlRSQUNLKTpcbiAgICBjYXNlIFN0cmluZyhnb29nLmRvbS5UYWdOYW1lLldCUik6XG4gICAgICByZXR1cm4gITE7XG4gIH1cbiAgcmV0dXJuICEwO1xufTtcbmdvb2cuZG9tLmFwcGVuZENoaWxkID0gZnVuY3Rpb24ocGFyZW50LCBjaGlsZCkge1xuICBnb29nLmFzc2VydHMuYXNzZXJ0KG51bGwgIT0gcGFyZW50ICYmIG51bGwgIT0gY2hpbGQsIFwiZ29vZy5kb20uYXBwZW5kQ2hpbGQgZXhwZWN0cyBub24tbnVsbCBhcmd1bWVudHNcIik7XG4gIHBhcmVudC5hcHBlbmRDaGlsZChjaGlsZCk7XG59O1xuZ29vZy5kb20uYXBwZW5kID0gZnVuY3Rpb24ocGFyZW50LCB2YXJfYXJncykge1xuICBnb29nLmRvbS5hcHBlbmRfKGdvb2cuZG9tLmdldE93bmVyRG9jdW1lbnQocGFyZW50KSwgcGFyZW50LCBhcmd1bWVudHMsIDEpO1xufTtcbmdvb2cuZG9tLnJlbW92ZUNoaWxkcmVuID0gZnVuY3Rpb24obm9kZSkge1xuICBmb3IgKHZhciBjaGlsZDsgY2hpbGQgPSBub2RlLmZpcnN0Q2hpbGQ7KSB7XG4gICAgbm9kZS5yZW1vdmVDaGlsZChjaGlsZCk7XG4gIH1cbn07XG5nb29nLmRvbS5pbnNlcnRTaWJsaW5nQmVmb3JlID0gZnVuY3Rpb24obmV3Tm9kZSwgcmVmTm9kZSkge1xuICBnb29nLmFzc2VydHMuYXNzZXJ0KG51bGwgIT0gbmV3Tm9kZSAmJiBudWxsICE9IHJlZk5vZGUsIFwiZ29vZy5kb20uaW5zZXJ0U2libGluZ0JlZm9yZSBleHBlY3RzIG5vbi1udWxsIGFyZ3VtZW50c1wiKTtcbiAgcmVmTm9kZS5wYXJlbnROb2RlICYmIHJlZk5vZGUucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUobmV3Tm9kZSwgcmVmTm9kZSk7XG59O1xuZ29vZy5kb20uaW5zZXJ0U2libGluZ0FmdGVyID0gZnVuY3Rpb24obmV3Tm9kZSwgcmVmTm9kZSkge1xuICBnb29nLmFzc2VydHMuYXNzZXJ0KG51bGwgIT0gbmV3Tm9kZSAmJiBudWxsICE9IHJlZk5vZGUsIFwiZ29vZy5kb20uaW5zZXJ0U2libGluZ0FmdGVyIGV4cGVjdHMgbm9uLW51bGwgYXJndW1lbnRzXCIpO1xuICByZWZOb2RlLnBhcmVudE5vZGUgJiYgcmVmTm9kZS5wYXJlbnROb2RlLmluc2VydEJlZm9yZShuZXdOb2RlLCByZWZOb2RlLm5leHRTaWJsaW5nKTtcbn07XG5nb29nLmRvbS5pbnNlcnRDaGlsZEF0ID0gZnVuY3Rpb24ocGFyZW50LCBjaGlsZCwgaW5kZXgpIHtcbiAgZ29vZy5hc3NlcnRzLmFzc2VydChudWxsICE9IHBhcmVudCwgXCJnb29nLmRvbS5pbnNlcnRDaGlsZEF0IGV4cGVjdHMgYSBub24tbnVsbCBwYXJlbnRcIik7XG4gIHBhcmVudC5pbnNlcnRCZWZvcmUoY2hpbGQsIHBhcmVudC5jaGlsZE5vZGVzW2luZGV4XSB8fCBudWxsKTtcbn07XG5nb29nLmRvbS5yZW1vdmVOb2RlID0gZnVuY3Rpb24obm9kZSkge1xuICByZXR1cm4gbm9kZSAmJiBub2RlLnBhcmVudE5vZGUgPyBub2RlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobm9kZSkgOiBudWxsO1xufTtcbmdvb2cuZG9tLnJlcGxhY2VOb2RlID0gZnVuY3Rpb24obmV3Tm9kZSwgb2xkTm9kZSkge1xuICBnb29nLmFzc2VydHMuYXNzZXJ0KG51bGwgIT0gbmV3Tm9kZSAmJiBudWxsICE9IG9sZE5vZGUsIFwiZ29vZy5kb20ucmVwbGFjZU5vZGUgZXhwZWN0cyBub24tbnVsbCBhcmd1bWVudHNcIik7XG4gIHZhciBwYXJlbnQgPSBvbGROb2RlLnBhcmVudE5vZGU7XG4gIHBhcmVudCAmJiBwYXJlbnQucmVwbGFjZUNoaWxkKG5ld05vZGUsIG9sZE5vZGUpO1xufTtcbmdvb2cuZG9tLmNvcHlDb250ZW50cyA9IGZ1bmN0aW9uKHRhcmdldCwgc291cmNlKSB7XG4gIGdvb2cuYXNzZXJ0cy5hc3NlcnQobnVsbCAhPSB0YXJnZXQgJiYgbnVsbCAhPSBzb3VyY2UsIFwiZ29vZy5kb20uY29weUNvbnRlbnRzIGV4cGVjdHMgbm9uLW51bGwgYXJndW1lbnRzXCIpO1xuICB2YXIgY2hpbGROb2RlcyA9IHNvdXJjZS5jbG9uZU5vZGUoITApLmNoaWxkTm9kZXM7XG4gIGZvciAoZ29vZy5kb20ucmVtb3ZlQ2hpbGRyZW4odGFyZ2V0KTsgY2hpbGROb2Rlcy5sZW5ndGg7KSB7XG4gICAgdGFyZ2V0LmFwcGVuZENoaWxkKGNoaWxkTm9kZXNbMF0pO1xuICB9XG59O1xuZ29vZy5kb20uZmxhdHRlbkVsZW1lbnQgPSBmdW5jdGlvbihlbGVtZW50KSB7XG4gIHZhciBjaGlsZCwgcGFyZW50ID0gZWxlbWVudC5wYXJlbnROb2RlO1xuICBpZiAocGFyZW50ICYmIHBhcmVudC5ub2RlVHlwZSAhPSBnb29nLmRvbS5Ob2RlVHlwZS5ET0NVTUVOVF9GUkFHTUVOVCkge1xuICAgIGlmIChlbGVtZW50LnJlbW92ZU5vZGUpIHtcbiAgICAgIHJldHVybiBlbGVtZW50LnJlbW92ZU5vZGUoITEpO1xuICAgIH1cbiAgICBmb3IgKDsgY2hpbGQgPSBlbGVtZW50LmZpcnN0Q2hpbGQ7KSB7XG4gICAgICBwYXJlbnQuaW5zZXJ0QmVmb3JlKGNoaWxkLCBlbGVtZW50KTtcbiAgICB9XG4gICAgcmV0dXJuIGdvb2cuZG9tLnJlbW92ZU5vZGUoZWxlbWVudCk7XG4gIH1cbn07XG5nb29nLmRvbS5nZXRDaGlsZHJlbiA9IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgcmV0dXJuIHZvaWQgMCAhPSBlbGVtZW50LmNoaWxkcmVuID8gZWxlbWVudC5jaGlsZHJlbiA6IEFycmF5LnByb3RvdHlwZS5maWx0ZXIuY2FsbChlbGVtZW50LmNoaWxkTm9kZXMsIGZ1bmN0aW9uKG5vZGUpIHtcbiAgICByZXR1cm4gbm9kZS5ub2RlVHlwZSA9PSBnb29nLmRvbS5Ob2RlVHlwZS5FTEVNRU5UO1xuICB9KTtcbn07XG5nb29nLmRvbS5nZXRGaXJzdEVsZW1lbnRDaGlsZCA9IGZ1bmN0aW9uKG5vZGUpIHtcbiAgcmV0dXJuIHZvaWQgMCAhPT0gbm9kZS5maXJzdEVsZW1lbnRDaGlsZCA/IG5vZGUuZmlyc3RFbGVtZW50Q2hpbGQgOiBnb29nLmRvbS5nZXROZXh0RWxlbWVudE5vZGVfKG5vZGUuZmlyc3RDaGlsZCwgITApO1xufTtcbmdvb2cuZG9tLmdldExhc3RFbGVtZW50Q2hpbGQgPSBmdW5jdGlvbihub2RlKSB7XG4gIHJldHVybiB2b2lkIDAgIT09IG5vZGUubGFzdEVsZW1lbnRDaGlsZCA/IG5vZGUubGFzdEVsZW1lbnRDaGlsZCA6IGdvb2cuZG9tLmdldE5leHRFbGVtZW50Tm9kZV8obm9kZS5sYXN0Q2hpbGQsICExKTtcbn07XG5nb29nLmRvbS5nZXROZXh0RWxlbWVudFNpYmxpbmcgPSBmdW5jdGlvbihub2RlKSB7XG4gIHJldHVybiB2b2lkIDAgIT09IG5vZGUubmV4dEVsZW1lbnRTaWJsaW5nID8gbm9kZS5uZXh0RWxlbWVudFNpYmxpbmcgOiBnb29nLmRvbS5nZXROZXh0RWxlbWVudE5vZGVfKG5vZGUubmV4dFNpYmxpbmcsICEwKTtcbn07XG5nb29nLmRvbS5nZXRQcmV2aW91c0VsZW1lbnRTaWJsaW5nID0gZnVuY3Rpb24obm9kZSkge1xuICByZXR1cm4gdm9pZCAwICE9PSBub2RlLnByZXZpb3VzRWxlbWVudFNpYmxpbmcgPyBub2RlLnByZXZpb3VzRWxlbWVudFNpYmxpbmcgOiBnb29nLmRvbS5nZXROZXh0RWxlbWVudE5vZGVfKG5vZGUucHJldmlvdXNTaWJsaW5nLCAhMSk7XG59O1xuZ29vZy5kb20uZ2V0TmV4dEVsZW1lbnROb2RlXyA9IGZ1bmN0aW9uKG5vZGUsIGZvcndhcmQpIHtcbiAgZm9yICg7IG5vZGUgJiYgbm9kZS5ub2RlVHlwZSAhPSBnb29nLmRvbS5Ob2RlVHlwZS5FTEVNRU5UOykge1xuICAgIG5vZGUgPSBmb3J3YXJkID8gbm9kZS5uZXh0U2libGluZyA6IG5vZGUucHJldmlvdXNTaWJsaW5nO1xuICB9XG4gIHJldHVybiBub2RlO1xufTtcbmdvb2cuZG9tLmdldE5leHROb2RlID0gZnVuY3Rpb24obm9kZSkge1xuICBpZiAoIW5vZGUpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBpZiAobm9kZS5maXJzdENoaWxkKSB7XG4gICAgcmV0dXJuIG5vZGUuZmlyc3RDaGlsZDtcbiAgfVxuICBmb3IgKDsgbm9kZSAmJiAhbm9kZS5uZXh0U2libGluZzspIHtcbiAgICBub2RlID0gbm9kZS5wYXJlbnROb2RlO1xuICB9XG4gIHJldHVybiBub2RlID8gbm9kZS5uZXh0U2libGluZyA6IG51bGw7XG59O1xuZ29vZy5kb20uZ2V0UHJldmlvdXNOb2RlID0gZnVuY3Rpb24obm9kZSkge1xuICBpZiAoIW5vZGUpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBpZiAoIW5vZGUucHJldmlvdXNTaWJsaW5nKSB7XG4gICAgcmV0dXJuIG5vZGUucGFyZW50Tm9kZTtcbiAgfVxuICBmb3IgKG5vZGUgPSBub2RlLnByZXZpb3VzU2libGluZzsgbm9kZSAmJiBub2RlLmxhc3RDaGlsZDspIHtcbiAgICBub2RlID0gbm9kZS5sYXN0Q2hpbGQ7XG4gIH1cbiAgcmV0dXJuIG5vZGU7XG59O1xuZ29vZy5kb20uaXNOb2RlTGlrZSA9IGZ1bmN0aW9uKG9iaikge1xuICByZXR1cm4gZ29vZy5pc09iamVjdChvYmopICYmIDAgPCBvYmoubm9kZVR5cGU7XG59O1xuZ29vZy5kb20uaXNFbGVtZW50ID0gZnVuY3Rpb24ob2JqKSB7XG4gIHJldHVybiBnb29nLmlzT2JqZWN0KG9iaikgJiYgb2JqLm5vZGVUeXBlID09IGdvb2cuZG9tLk5vZGVUeXBlLkVMRU1FTlQ7XG59O1xuZ29vZy5kb20uaXNXaW5kb3cgPSBmdW5jdGlvbihvYmopIHtcbiAgcmV0dXJuIGdvb2cuaXNPYmplY3Qob2JqKSAmJiBvYmoud2luZG93ID09IG9iajtcbn07XG5nb29nLmRvbS5nZXRQYXJlbnRFbGVtZW50ID0gZnVuY3Rpb24oZWxlbWVudCkge1xuICB2YXIgcGFyZW50O1xuICBpZiAoZ29vZy5kb20uQnJvd3NlckZlYXR1cmUuQ0FOX1VTRV9QQVJFTlRfRUxFTUVOVF9QUk9QRVJUWSAmJiAocGFyZW50ID0gZWxlbWVudC5wYXJlbnRFbGVtZW50KSkge1xuICAgIHJldHVybiBwYXJlbnQ7XG4gIH1cbiAgcGFyZW50ID0gZWxlbWVudC5wYXJlbnROb2RlO1xuICByZXR1cm4gZ29vZy5kb20uaXNFbGVtZW50KHBhcmVudCkgPyBwYXJlbnQgOiBudWxsO1xufTtcbmdvb2cuZG9tLmNvbnRhaW5zID0gZnVuY3Rpb24ocGFyZW50LCBkZXNjZW5kYW50KSB7XG4gIGlmICghcGFyZW50IHx8ICFkZXNjZW5kYW50KSB7XG4gICAgcmV0dXJuICExO1xuICB9XG4gIGlmIChwYXJlbnQuY29udGFpbnMgJiYgZGVzY2VuZGFudC5ub2RlVHlwZSA9PSBnb29nLmRvbS5Ob2RlVHlwZS5FTEVNRU5UKSB7XG4gICAgcmV0dXJuIHBhcmVudCA9PSBkZXNjZW5kYW50IHx8IHBhcmVudC5jb250YWlucyhkZXNjZW5kYW50KTtcbiAgfVxuICBpZiAoXCJ1bmRlZmluZWRcIiAhPSB0eXBlb2YgcGFyZW50LmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKSB7XG4gICAgcmV0dXJuIHBhcmVudCA9PSBkZXNjZW5kYW50IHx8ICEhKHBhcmVudC5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihkZXNjZW5kYW50KSAmIDE2KTtcbiAgfVxuICBmb3IgKDsgZGVzY2VuZGFudCAmJiBwYXJlbnQgIT0gZGVzY2VuZGFudDspIHtcbiAgICBkZXNjZW5kYW50ID0gZGVzY2VuZGFudC5wYXJlbnROb2RlO1xuICB9XG4gIHJldHVybiBkZXNjZW5kYW50ID09IHBhcmVudDtcbn07XG5nb29nLmRvbS5jb21wYXJlTm9kZU9yZGVyID0gZnVuY3Rpb24obm9kZTEsIG5vZGUyKSB7XG4gIGlmIChub2RlMSA9PSBub2RlMikge1xuICAgIHJldHVybiAwO1xuICB9XG4gIGlmIChub2RlMS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbikge1xuICAgIHJldHVybiBub2RlMS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihub2RlMikgJiAyID8gMSA6IC0xO1xuICB9XG4gIGlmIChnb29nLnVzZXJBZ2VudC5JRSAmJiAhZ29vZy51c2VyQWdlbnQuaXNEb2N1bWVudE1vZGVPckhpZ2hlcig5KSkge1xuICAgIGlmIChub2RlMS5ub2RlVHlwZSA9PSBnb29nLmRvbS5Ob2RlVHlwZS5ET0NVTUVOVCkge1xuICAgICAgcmV0dXJuIC0xO1xuICAgIH1cbiAgICBpZiAobm9kZTIubm9kZVR5cGUgPT0gZ29vZy5kb20uTm9kZVR5cGUuRE9DVU1FTlQpIHtcbiAgICAgIHJldHVybiAxO1xuICAgIH1cbiAgfVxuICBpZiAoXCJzb3VyY2VJbmRleFwiIGluIG5vZGUxIHx8IG5vZGUxLnBhcmVudE5vZGUgJiYgXCJzb3VyY2VJbmRleFwiIGluIG5vZGUxLnBhcmVudE5vZGUpIHtcbiAgICB2YXIgaXNFbGVtZW50MSA9IG5vZGUxLm5vZGVUeXBlID09IGdvb2cuZG9tLk5vZGVUeXBlLkVMRU1FTlQsIGlzRWxlbWVudDIgPSBub2RlMi5ub2RlVHlwZSA9PSBnb29nLmRvbS5Ob2RlVHlwZS5FTEVNRU5UO1xuICAgIGlmIChpc0VsZW1lbnQxICYmIGlzRWxlbWVudDIpIHtcbiAgICAgIHJldHVybiBub2RlMS5zb3VyY2VJbmRleCAtIG5vZGUyLnNvdXJjZUluZGV4O1xuICAgIH1cbiAgICB2YXIgcGFyZW50MSA9IG5vZGUxLnBhcmVudE5vZGUsIHBhcmVudDIgPSBub2RlMi5wYXJlbnROb2RlO1xuICAgIHJldHVybiBwYXJlbnQxID09IHBhcmVudDIgPyBnb29nLmRvbS5jb21wYXJlU2libGluZ09yZGVyXyhub2RlMSwgbm9kZTIpIDogIWlzRWxlbWVudDEgJiYgZ29vZy5kb20uY29udGFpbnMocGFyZW50MSwgbm9kZTIpID8gLTEgKiBnb29nLmRvbS5jb21wYXJlUGFyZW50c0Rlc2NlbmRhbnROb2RlSWVfKG5vZGUxLCBub2RlMikgOiAhaXNFbGVtZW50MiAmJiBnb29nLmRvbS5jb250YWlucyhwYXJlbnQyLCBub2RlMSkgPyBnb29nLmRvbS5jb21wYXJlUGFyZW50c0Rlc2NlbmRhbnROb2RlSWVfKG5vZGUyLCBub2RlMSkgOiAoaXNFbGVtZW50MSA/IG5vZGUxLnNvdXJjZUluZGV4IDogcGFyZW50MS5zb3VyY2VJbmRleCkgLSAoaXNFbGVtZW50MiA/IG5vZGUyLnNvdXJjZUluZGV4IDogcGFyZW50Mi5zb3VyY2VJbmRleCk7XG4gIH1cbiAgdmFyIGRvYyA9IGdvb2cuZG9tLmdldE93bmVyRG9jdW1lbnQobm9kZTEpO1xuICB2YXIgcmFuZ2UxID0gZG9jLmNyZWF0ZVJhbmdlKCk7XG4gIHJhbmdlMS5zZWxlY3ROb2RlKG5vZGUxKTtcbiAgcmFuZ2UxLmNvbGxhcHNlKCEwKTtcbiAgdmFyIHJhbmdlMiA9IGRvYy5jcmVhdGVSYW5nZSgpO1xuICByYW5nZTIuc2VsZWN0Tm9kZShub2RlMik7XG4gIHJhbmdlMi5jb2xsYXBzZSghMCk7XG4gIHJldHVybiByYW5nZTEuY29tcGFyZUJvdW5kYXJ5UG9pbnRzKGdvb2cuZ2xvYmFsLlJhbmdlLlNUQVJUX1RPX0VORCwgcmFuZ2UyKTtcbn07XG5nb29nLmRvbS5jb21wYXJlUGFyZW50c0Rlc2NlbmRhbnROb2RlSWVfID0gZnVuY3Rpb24odGV4dE5vZGUsIG5vZGUpIHtcbiAgdmFyIHBhcmVudCA9IHRleHROb2RlLnBhcmVudE5vZGU7XG4gIGlmIChwYXJlbnQgPT0gbm9kZSkge1xuICAgIHJldHVybiAtMTtcbiAgfVxuICBmb3IgKHZhciBzaWJsaW5nID0gbm9kZTsgc2libGluZy5wYXJlbnROb2RlICE9IHBhcmVudDspIHtcbiAgICBzaWJsaW5nID0gc2libGluZy5wYXJlbnROb2RlO1xuICB9XG4gIHJldHVybiBnb29nLmRvbS5jb21wYXJlU2libGluZ09yZGVyXyhzaWJsaW5nLCB0ZXh0Tm9kZSk7XG59O1xuZ29vZy5kb20uY29tcGFyZVNpYmxpbmdPcmRlcl8gPSBmdW5jdGlvbihub2RlMSwgbm9kZTIpIHtcbiAgZm9yICh2YXIgcyA9IG5vZGUyOyBzID0gcy5wcmV2aW91c1NpYmxpbmc7KSB7XG4gICAgaWYgKHMgPT0gbm9kZTEpIHtcbiAgICAgIHJldHVybiAtMTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIDE7XG59O1xuZ29vZy5kb20uZmluZENvbW1vbkFuY2VzdG9yID0gZnVuY3Rpb24odmFyX2FyZ3MpIHtcbiAgdmFyIGksIGNvdW50ID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgaWYgKCFjb3VudCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIGlmICgxID09IGNvdW50KSB7XG4gICAgcmV0dXJuIGFyZ3VtZW50c1swXTtcbiAgfVxuICB2YXIgcGF0aHMgPSBbXSwgbWluTGVuZ3RoID0gSW5maW5pdHk7XG4gIGZvciAoaSA9IDA7IGkgPCBjb3VudDsgaSsrKSB7XG4gICAgZm9yICh2YXIgYW5jZXN0b3JzID0gW10sIG5vZGUgPSBhcmd1bWVudHNbaV07IG5vZGU7KSB7XG4gICAgICBhbmNlc3RvcnMudW5zaGlmdChub2RlKSwgbm9kZSA9IG5vZGUucGFyZW50Tm9kZTtcbiAgICB9XG4gICAgcGF0aHMucHVzaChhbmNlc3RvcnMpO1xuICAgIG1pbkxlbmd0aCA9IE1hdGgubWluKG1pbkxlbmd0aCwgYW5jZXN0b3JzLmxlbmd0aCk7XG4gIH1cbiAgdmFyIG91dHB1dCA9IG51bGw7XG4gIGZvciAoaSA9IDA7IGkgPCBtaW5MZW5ndGg7IGkrKykge1xuICAgIGZvciAodmFyIGZpcnN0ID0gcGF0aHNbMF1baV0sIGogPSAxOyBqIDwgY291bnQ7IGorKykge1xuICAgICAgaWYgKGZpcnN0ICE9IHBhdGhzW2pdW2ldKSB7XG4gICAgICAgIHJldHVybiBvdXRwdXQ7XG4gICAgICB9XG4gICAgfVxuICAgIG91dHB1dCA9IGZpcnN0O1xuICB9XG4gIHJldHVybiBvdXRwdXQ7XG59O1xuZ29vZy5kb20uaXNJbkRvY3VtZW50ID0gZnVuY3Rpb24obm9kZSkge1xuICByZXR1cm4gMTYgPT0gKG5vZGUub3duZXJEb2N1bWVudC5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihub2RlKSAmIDE2KTtcbn07XG5nb29nLmRvbS5nZXRPd25lckRvY3VtZW50ID0gZnVuY3Rpb24obm9kZSkge1xuICBnb29nLmFzc2VydHMuYXNzZXJ0KG5vZGUsIFwiTm9kZSBjYW5ub3QgYmUgbnVsbCBvciB1bmRlZmluZWQuXCIpO1xuICByZXR1cm4gbm9kZS5ub2RlVHlwZSA9PSBnb29nLmRvbS5Ob2RlVHlwZS5ET0NVTUVOVCA/IG5vZGUgOiBub2RlLm93bmVyRG9jdW1lbnQgfHwgbm9kZS5kb2N1bWVudDtcbn07XG5nb29nLmRvbS5nZXRGcmFtZUNvbnRlbnREb2N1bWVudCA9IGZ1bmN0aW9uKGZyYW1lKSB7XG4gIHJldHVybiBmcmFtZS5jb250ZW50RG9jdW1lbnQgfHwgZnJhbWUuY29udGVudFdpbmRvdy5kb2N1bWVudDtcbn07XG5nb29nLmRvbS5nZXRGcmFtZUNvbnRlbnRXaW5kb3cgPSBmdW5jdGlvbihmcmFtZSkge1xuICB0cnkge1xuICAgIHJldHVybiBmcmFtZS5jb250ZW50V2luZG93IHx8IChmcmFtZS5jb250ZW50RG9jdW1lbnQgPyBnb29nLmRvbS5nZXRXaW5kb3coZnJhbWUuY29udGVudERvY3VtZW50KSA6IG51bGwpO1xuICB9IGNhdGNoIChlKSB7XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59O1xuZ29vZy5kb20uc2V0VGV4dENvbnRlbnQgPSBmdW5jdGlvbihub2RlLCB0ZXh0KSB7XG4gIGdvb2cuYXNzZXJ0cy5hc3NlcnQobnVsbCAhPSBub2RlLCBcImdvb2cuZG9tLnNldFRleHRDb250ZW50IGV4cGVjdHMgYSBub24tbnVsbCB2YWx1ZSBmb3Igbm9kZVwiKTtcbiAgaWYgKFwidGV4dENvbnRlbnRcIiBpbiBub2RlKSB7XG4gICAgbm9kZS50ZXh0Q29udGVudCA9IHRleHQ7XG4gIH0gZWxzZSBpZiAobm9kZS5ub2RlVHlwZSA9PSBnb29nLmRvbS5Ob2RlVHlwZS5URVhUKSB7XG4gICAgbm9kZS5kYXRhID0gU3RyaW5nKHRleHQpO1xuICB9IGVsc2UgaWYgKG5vZGUuZmlyc3RDaGlsZCAmJiBub2RlLmZpcnN0Q2hpbGQubm9kZVR5cGUgPT0gZ29vZy5kb20uTm9kZVR5cGUuVEVYVCkge1xuICAgIGZvciAoOyBub2RlLmxhc3RDaGlsZCAhPSBub2RlLmZpcnN0Q2hpbGQ7KSB7XG4gICAgICBub2RlLnJlbW92ZUNoaWxkKGdvb2cuYXNzZXJ0cy5hc3NlcnQobm9kZS5sYXN0Q2hpbGQpKTtcbiAgICB9XG4gICAgbm9kZS5maXJzdENoaWxkLmRhdGEgPSBTdHJpbmcodGV4dCk7XG4gIH0gZWxzZSB7XG4gICAgZ29vZy5kb20ucmVtb3ZlQ2hpbGRyZW4obm9kZSk7XG4gICAgdmFyIGRvYyA9IGdvb2cuZG9tLmdldE93bmVyRG9jdW1lbnQobm9kZSk7XG4gICAgbm9kZS5hcHBlbmRDaGlsZChkb2MuY3JlYXRlVGV4dE5vZGUoU3RyaW5nKHRleHQpKSk7XG4gIH1cbn07XG5nb29nLmRvbS5nZXRPdXRlckh0bWwgPSBmdW5jdGlvbihlbGVtZW50KSB7XG4gIGdvb2cuYXNzZXJ0cy5hc3NlcnQobnVsbCAhPT0gZWxlbWVudCwgXCJnb29nLmRvbS5nZXRPdXRlckh0bWwgZXhwZWN0cyBhIG5vbi1udWxsIHZhbHVlIGZvciBlbGVtZW50XCIpO1xuICBpZiAoXCJvdXRlckhUTUxcIiBpbiBlbGVtZW50KSB7XG4gICAgcmV0dXJuIGVsZW1lbnQub3V0ZXJIVE1MO1xuICB9XG4gIHZhciBkb2MgPSBnb29nLmRvbS5nZXRPd25lckRvY3VtZW50KGVsZW1lbnQpLCBkaXYgPSBnb29nLmRvbS5jcmVhdGVFbGVtZW50Xyhkb2MsIGdvb2cuZG9tLlRhZ05hbWUuRElWKTtcbiAgZGl2LmFwcGVuZENoaWxkKGVsZW1lbnQuY2xvbmVOb2RlKCEwKSk7XG4gIHJldHVybiBkaXYuaW5uZXJIVE1MO1xufTtcbmdvb2cuZG9tLmZpbmROb2RlID0gZnVuY3Rpb24ocm9vdCwgcCkge1xuICB2YXIgcnYgPSBbXTtcbiAgcmV0dXJuIGdvb2cuZG9tLmZpbmROb2Rlc18ocm9vdCwgcCwgcnYsICEwKSA/IHJ2WzBdIDogdm9pZCAwO1xufTtcbmdvb2cuZG9tLmZpbmROb2RlcyA9IGZ1bmN0aW9uKHJvb3QsIHApIHtcbiAgdmFyIHJ2ID0gW107XG4gIGdvb2cuZG9tLmZpbmROb2Rlc18ocm9vdCwgcCwgcnYsICExKTtcbiAgcmV0dXJuIHJ2O1xufTtcbmdvb2cuZG9tLmZpbmROb2Rlc18gPSBmdW5jdGlvbihyb290LCBwLCBydiwgZmluZE9uZSkge1xuICBpZiAobnVsbCAhPSByb290KSB7XG4gICAgZm9yICh2YXIgY2hpbGQgPSByb290LmZpcnN0Q2hpbGQ7IGNoaWxkOykge1xuICAgICAgaWYgKHAoY2hpbGQpICYmIChydi5wdXNoKGNoaWxkKSwgZmluZE9uZSkgfHwgZ29vZy5kb20uZmluZE5vZGVzXyhjaGlsZCwgcCwgcnYsIGZpbmRPbmUpKSB7XG4gICAgICAgIHJldHVybiAhMDtcbiAgICAgIH1cbiAgICAgIGNoaWxkID0gY2hpbGQubmV4dFNpYmxpbmc7XG4gICAgfVxuICB9XG4gIHJldHVybiAhMTtcbn07XG5nb29nLmRvbS5maW5kRWxlbWVudCA9IGZ1bmN0aW9uKHJvb3QsIHByZWQpIHtcbiAgZm9yICh2YXIgc3RhY2sgPSBnb29nLmRvbS5nZXRDaGlsZHJlblJldmVyc2VfKHJvb3QpOyAwIDwgc3RhY2subGVuZ3RoOykge1xuICAgIHZhciBuZXh0ID0gc3RhY2sucG9wKCk7XG4gICAgaWYgKHByZWQobmV4dCkpIHtcbiAgICAgIHJldHVybiBuZXh0O1xuICAgIH1cbiAgICBmb3IgKHZhciBjID0gbmV4dC5sYXN0RWxlbWVudENoaWxkOyBjOyBjID0gYy5wcmV2aW91c0VsZW1lbnRTaWJsaW5nKSB7XG4gICAgICBzdGFjay5wdXNoKGMpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gbnVsbDtcbn07XG5nb29nLmRvbS5maW5kRWxlbWVudHMgPSBmdW5jdGlvbihyb290LCBwcmVkKSB7XG4gIGZvciAodmFyIHJlc3VsdCA9IFtdLCBzdGFjayA9IGdvb2cuZG9tLmdldENoaWxkcmVuUmV2ZXJzZV8ocm9vdCk7IDAgPCBzdGFjay5sZW5ndGg7KSB7XG4gICAgdmFyIG5leHQgPSBzdGFjay5wb3AoKTtcbiAgICBwcmVkKG5leHQpICYmIHJlc3VsdC5wdXNoKG5leHQpO1xuICAgIGZvciAodmFyIGMgPSBuZXh0Lmxhc3RFbGVtZW50Q2hpbGQ7IGM7IGMgPSBjLnByZXZpb3VzRWxlbWVudFNpYmxpbmcpIHtcbiAgICAgIHN0YWNrLnB1c2goYyk7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59O1xuZ29vZy5kb20uZ2V0Q2hpbGRyZW5SZXZlcnNlXyA9IGZ1bmN0aW9uKG5vZGUpIHtcbiAgaWYgKG5vZGUubm9kZVR5cGUgPT0gZ29vZy5kb20uTm9kZVR5cGUuRE9DVU1FTlQpIHtcbiAgICByZXR1cm4gW25vZGUuZG9jdW1lbnRFbGVtZW50XTtcbiAgfVxuICBmb3IgKHZhciBjaGlsZHJlbiA9IFtdLCBjID0gbm9kZS5sYXN0RWxlbWVudENoaWxkOyBjOyBjID0gYy5wcmV2aW91c0VsZW1lbnRTaWJsaW5nKSB7XG4gICAgY2hpbGRyZW4ucHVzaChjKTtcbiAgfVxuICByZXR1cm4gY2hpbGRyZW47XG59O1xuZ29vZy5kb20uVEFHU19UT19JR05PUkVfID0ge1NDUklQVDoxLCBTVFlMRToxLCBIRUFEOjEsIElGUkFNRToxLCBPQkpFQ1Q6MX07XG5nb29nLmRvbS5QUkVERUZJTkVEX1RBR19WQUxVRVNfID0ge0lNRzpcIiBcIiwgQlI6XCJcXG5cIn07XG5nb29nLmRvbS5pc0ZvY3VzYWJsZVRhYkluZGV4ID0gZnVuY3Rpb24oZWxlbWVudCkge1xuICByZXR1cm4gZ29vZy5kb20uaGFzU3BlY2lmaWVkVGFiSW5kZXhfKGVsZW1lbnQpICYmIGdvb2cuZG9tLmlzVGFiSW5kZXhGb2N1c2FibGVfKGVsZW1lbnQpO1xufTtcbmdvb2cuZG9tLnNldEZvY3VzYWJsZVRhYkluZGV4ID0gZnVuY3Rpb24oZWxlbWVudCwgZW5hYmxlKSB7XG4gIGVuYWJsZSA/IGVsZW1lbnQudGFiSW5kZXggPSAwIDogKGVsZW1lbnQudGFiSW5kZXggPSAtMSwgZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoXCJ0YWJJbmRleFwiKSk7XG59O1xuZ29vZy5kb20uaXNGb2N1c2FibGUgPSBmdW5jdGlvbihlbGVtZW50KSB7XG4gIHZhciBmb2N1c2FibGU7XG4gIHJldHVybiAoZm9jdXNhYmxlID0gZ29vZy5kb20ubmF0aXZlbHlTdXBwb3J0c0ZvY3VzXyhlbGVtZW50KSA/ICFlbGVtZW50LmRpc2FibGVkICYmICghZ29vZy5kb20uaGFzU3BlY2lmaWVkVGFiSW5kZXhfKGVsZW1lbnQpIHx8IGdvb2cuZG9tLmlzVGFiSW5kZXhGb2N1c2FibGVfKGVsZW1lbnQpKSA6IGdvb2cuZG9tLmlzRm9jdXNhYmxlVGFiSW5kZXgoZWxlbWVudCkpICYmIGdvb2cudXNlckFnZW50LklFID8gZ29vZy5kb20uaGFzTm9uWmVyb0JvdW5kaW5nUmVjdF8oZWxlbWVudCkgOiBmb2N1c2FibGU7XG59O1xuZ29vZy5kb20uaGFzU3BlY2lmaWVkVGFiSW5kZXhfID0gZnVuY3Rpb24oZWxlbWVudCkge1xuICByZXR1cm4gZWxlbWVudC5oYXNBdHRyaWJ1dGUoXCJ0YWJpbmRleFwiKTtcbn07XG5nb29nLmRvbS5pc1RhYkluZGV4Rm9jdXNhYmxlXyA9IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgdmFyIGluZGV4ID0gZWxlbWVudC50YWJJbmRleDtcbiAgcmV0dXJuIFwibnVtYmVyXCIgPT09IHR5cGVvZiBpbmRleCAmJiAwIDw9IGluZGV4ICYmIDMyNzY4ID4gaW5kZXg7XG59O1xuZ29vZy5kb20ubmF0aXZlbHlTdXBwb3J0c0ZvY3VzXyA9IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgcmV0dXJuIGVsZW1lbnQudGFnTmFtZSA9PSBnb29nLmRvbS5UYWdOYW1lLkEgJiYgZWxlbWVudC5oYXNBdHRyaWJ1dGUoXCJocmVmXCIpIHx8IGVsZW1lbnQudGFnTmFtZSA9PSBnb29nLmRvbS5UYWdOYW1lLklOUFVUIHx8IGVsZW1lbnQudGFnTmFtZSA9PSBnb29nLmRvbS5UYWdOYW1lLlRFWFRBUkVBIHx8IGVsZW1lbnQudGFnTmFtZSA9PSBnb29nLmRvbS5UYWdOYW1lLlNFTEVDVCB8fCBlbGVtZW50LnRhZ05hbWUgPT0gZ29vZy5kb20uVGFnTmFtZS5CVVRUT047XG59O1xuZ29vZy5kb20uaGFzTm9uWmVyb0JvdW5kaW5nUmVjdF8gPSBmdW5jdGlvbihlbGVtZW50KSB7XG4gIHZhciByZWN0ID0gXCJmdW5jdGlvblwiICE9PSB0eXBlb2YgZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QgfHwgZ29vZy51c2VyQWdlbnQuSUUgJiYgbnVsbCA9PSBlbGVtZW50LnBhcmVudEVsZW1lbnQgPyB7aGVpZ2h0OmVsZW1lbnQub2Zmc2V0SGVpZ2h0LCB3aWR0aDplbGVtZW50Lm9mZnNldFdpZHRofSA6IGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gIHJldHVybiBudWxsICE9IHJlY3QgJiYgMCA8IHJlY3QuaGVpZ2h0ICYmIDAgPCByZWN0LndpZHRoO1xufTtcbmdvb2cuZG9tLmdldFRleHRDb250ZW50ID0gZnVuY3Rpb24obm9kZSkge1xuICB2YXIgYnVmID0gW107XG4gIGdvb2cuZG9tLmdldFRleHRDb250ZW50Xyhub2RlLCBidWYsICEwKTtcbiAgdmFyIHRleHRDb250ZW50ID0gYnVmLmpvaW4oXCJcIik7XG4gIHRleHRDb250ZW50ID0gdGV4dENvbnRlbnQucmVwbGFjZSgvIFxceEFEIC9nLCBcIiBcIikucmVwbGFjZSgvXFx4QUQvZywgXCJcIik7XG4gIHRleHRDb250ZW50ID0gdGV4dENvbnRlbnQucmVwbGFjZSgvXFx1MjAwQi9nLCBcIlwiKTtcbiAgdGV4dENvbnRlbnQgPSB0ZXh0Q29udGVudC5yZXBsYWNlKC8gKy9nLCBcIiBcIik7XG4gIFwiIFwiICE9IHRleHRDb250ZW50ICYmICh0ZXh0Q29udGVudCA9IHRleHRDb250ZW50LnJlcGxhY2UoL15cXHMqLywgXCJcIikpO1xuICByZXR1cm4gdGV4dENvbnRlbnQ7XG59O1xuZ29vZy5kb20uZ2V0UmF3VGV4dENvbnRlbnQgPSBmdW5jdGlvbihub2RlKSB7XG4gIHZhciBidWYgPSBbXTtcbiAgZ29vZy5kb20uZ2V0VGV4dENvbnRlbnRfKG5vZGUsIGJ1ZiwgITEpO1xuICByZXR1cm4gYnVmLmpvaW4oXCJcIik7XG59O1xuZ29vZy5kb20uZ2V0VGV4dENvbnRlbnRfID0gZnVuY3Rpb24obm9kZSwgYnVmLCBub3JtYWxpemVXaGl0ZXNwYWNlKSB7XG4gIGlmICghKG5vZGUubm9kZU5hbWUgaW4gZ29vZy5kb20uVEFHU19UT19JR05PUkVfKSkge1xuICAgIGlmIChub2RlLm5vZGVUeXBlID09IGdvb2cuZG9tLk5vZGVUeXBlLlRFWFQpIHtcbiAgICAgIG5vcm1hbGl6ZVdoaXRlc3BhY2UgPyBidWYucHVzaChTdHJpbmcobm9kZS5ub2RlVmFsdWUpLnJlcGxhY2UoLyhcXHJcXG58XFxyfFxcbikvZywgXCJcIikpIDogYnVmLnB1c2gobm9kZS5ub2RlVmFsdWUpO1xuICAgIH0gZWxzZSBpZiAobm9kZS5ub2RlTmFtZSBpbiBnb29nLmRvbS5QUkVERUZJTkVEX1RBR19WQUxVRVNfKSB7XG4gICAgICBidWYucHVzaChnb29nLmRvbS5QUkVERUZJTkVEX1RBR19WQUxVRVNfW25vZGUubm9kZU5hbWVdKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZm9yICh2YXIgY2hpbGQgPSBub2RlLmZpcnN0Q2hpbGQ7IGNoaWxkOykge1xuICAgICAgICBnb29nLmRvbS5nZXRUZXh0Q29udGVudF8oY2hpbGQsIGJ1Ziwgbm9ybWFsaXplV2hpdGVzcGFjZSksIGNoaWxkID0gY2hpbGQubmV4dFNpYmxpbmc7XG4gICAgICB9XG4gICAgfVxuICB9XG59O1xuZ29vZy5kb20uZ2V0Tm9kZVRleHRMZW5ndGggPSBmdW5jdGlvbihub2RlKSB7XG4gIHJldHVybiBnb29nLmRvbS5nZXRUZXh0Q29udGVudChub2RlKS5sZW5ndGg7XG59O1xuZ29vZy5kb20uZ2V0Tm9kZVRleHRPZmZzZXQgPSBmdW5jdGlvbihub2RlLCBvcHRfb2Zmc2V0UGFyZW50KSB7XG4gIGZvciAodmFyIHJvb3QgPSBvcHRfb2Zmc2V0UGFyZW50IHx8IGdvb2cuZG9tLmdldE93bmVyRG9jdW1lbnQobm9kZSkuYm9keSwgYnVmID0gW107IG5vZGUgJiYgbm9kZSAhPSByb290Oykge1xuICAgIGZvciAodmFyIGN1ciA9IG5vZGU7IGN1ciA9IGN1ci5wcmV2aW91c1NpYmxpbmc7KSB7XG4gICAgICBidWYudW5zaGlmdChnb29nLmRvbS5nZXRUZXh0Q29udGVudChjdXIpKTtcbiAgICB9XG4gICAgbm9kZSA9IG5vZGUucGFyZW50Tm9kZTtcbiAgfVxuICByZXR1cm4gZ29vZy5zdHJpbmcudHJpbUxlZnQoYnVmLmpvaW4oXCJcIikpLnJlcGxhY2UoLyArL2csIFwiIFwiKS5sZW5ndGg7XG59O1xuZ29vZy5kb20uZ2V0Tm9kZUF0T2Zmc2V0ID0gZnVuY3Rpb24ocGFyZW50LCBvZmZzZXQsIG9wdF9yZXN1bHQpIHtcbiAgZm9yICh2YXIgc3RhY2sgPSBbcGFyZW50XSwgcG9zID0gMCwgY3VyID0gbnVsbDsgMCA8IHN0YWNrLmxlbmd0aCAmJiBwb3MgPCBvZmZzZXQ7KSB7XG4gICAgaWYgKGN1ciA9IHN0YWNrLnBvcCgpLCAhKGN1ci5ub2RlTmFtZSBpbiBnb29nLmRvbS5UQUdTX1RPX0lHTk9SRV8pKSB7XG4gICAgICBpZiAoY3VyLm5vZGVUeXBlID09IGdvb2cuZG9tLk5vZGVUeXBlLlRFWFQpIHtcbiAgICAgICAgdmFyIHRleHQgPSBjdXIubm9kZVZhbHVlLnJlcGxhY2UoLyhcXHJcXG58XFxyfFxcbikvZywgXCJcIikucmVwbGFjZSgvICsvZywgXCIgXCIpO1xuICAgICAgICBwb3MgKz0gdGV4dC5sZW5ndGg7XG4gICAgICB9IGVsc2UgaWYgKGN1ci5ub2RlTmFtZSBpbiBnb29nLmRvbS5QUkVERUZJTkVEX1RBR19WQUxVRVNfKSB7XG4gICAgICAgIHBvcyArPSBnb29nLmRvbS5QUkVERUZJTkVEX1RBR19WQUxVRVNfW2N1ci5ub2RlTmFtZV0ubGVuZ3RoO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IGN1ci5jaGlsZE5vZGVzLmxlbmd0aCAtIDE7IDAgPD0gaTsgaS0tKSB7XG4gICAgICAgICAgc3RhY2sucHVzaChjdXIuY2hpbGROb2Rlc1tpXSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgZ29vZy5pc09iamVjdChvcHRfcmVzdWx0KSAmJiAob3B0X3Jlc3VsdC5yZW1haW5kZXIgPSBjdXIgPyBjdXIubm9kZVZhbHVlLmxlbmd0aCArIG9mZnNldCAtIHBvcyAtIDEgOiAwLCBvcHRfcmVzdWx0Lm5vZGUgPSBjdXIpO1xuICByZXR1cm4gY3VyO1xufTtcbmdvb2cuZG9tLmlzTm9kZUxpc3QgPSBmdW5jdGlvbih2YWwpIHtcbiAgaWYgKHZhbCAmJiBcIm51bWJlclwiID09IHR5cGVvZiB2YWwubGVuZ3RoKSB7XG4gICAgaWYgKGdvb2cuaXNPYmplY3QodmFsKSkge1xuICAgICAgcmV0dXJuIFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgdmFsLml0ZW0gfHwgXCJzdHJpbmdcIiA9PSB0eXBlb2YgdmFsLml0ZW07XG4gICAgfVxuICAgIGlmIChcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiB2YWwpIHtcbiAgICAgIHJldHVybiBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIHZhbC5pdGVtO1xuICAgIH1cbiAgfVxuICByZXR1cm4gITE7XG59O1xuZ29vZy5kb20uZ2V0QW5jZXN0b3JCeVRhZ05hbWVBbmRDbGFzcyA9IGZ1bmN0aW9uKGVsZW1lbnQsIG9wdF90YWcsIG9wdF9jbGFzcywgb3B0X21heFNlYXJjaFN0ZXBzKSB7XG4gIGlmICghb3B0X3RhZyAmJiAhb3B0X2NsYXNzKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgdmFyIHRhZ05hbWUgPSBvcHRfdGFnID8gU3RyaW5nKG9wdF90YWcpLnRvVXBwZXJDYXNlKCkgOiBudWxsO1xuICByZXR1cm4gZ29vZy5kb20uZ2V0QW5jZXN0b3IoZWxlbWVudCwgZnVuY3Rpb24obm9kZSkge1xuICAgIHJldHVybiAoIXRhZ05hbWUgfHwgbm9kZS5ub2RlTmFtZSA9PSB0YWdOYW1lKSAmJiAoIW9wdF9jbGFzcyB8fCBcInN0cmluZ1wiID09PSB0eXBlb2Ygbm9kZS5jbGFzc05hbWUgJiYgbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfY29udGFpbnMobm9kZS5jbGFzc05hbWUuc3BsaXQoL1xccysvKSwgb3B0X2NsYXNzKSk7XG4gIH0sICEwLCBvcHRfbWF4U2VhcmNoU3RlcHMpO1xufTtcbmdvb2cuZG9tLmdldEFuY2VzdG9yQnlDbGFzcyA9IGZ1bmN0aW9uKGVsZW1lbnQsIGNsYXNzTmFtZSwgb3B0X21heFNlYXJjaFN0ZXBzKSB7XG4gIHJldHVybiBnb29nLmRvbS5nZXRBbmNlc3RvckJ5VGFnTmFtZUFuZENsYXNzKGVsZW1lbnQsIG51bGwsIGNsYXNzTmFtZSwgb3B0X21heFNlYXJjaFN0ZXBzKTtcbn07XG5nb29nLmRvbS5nZXRBbmNlc3RvciA9IGZ1bmN0aW9uKGVsZW1lbnQsIG1hdGNoZXIsIG9wdF9pbmNsdWRlTm9kZSwgb3B0X21heFNlYXJjaFN0ZXBzKSB7XG4gIGVsZW1lbnQgJiYgIW9wdF9pbmNsdWRlTm9kZSAmJiAoZWxlbWVudCA9IGVsZW1lbnQucGFyZW50Tm9kZSk7XG4gIGZvciAodmFyIHN0ZXBzID0gMDsgZWxlbWVudCAmJiAobnVsbCA9PSBvcHRfbWF4U2VhcmNoU3RlcHMgfHwgc3RlcHMgPD0gb3B0X21heFNlYXJjaFN0ZXBzKTspIHtcbiAgICBnb29nLmFzc2VydHMuYXNzZXJ0KFwicGFyZW50Tm9kZVwiICE9IGVsZW1lbnQubmFtZSk7XG4gICAgaWYgKG1hdGNoZXIoZWxlbWVudCkpIHtcbiAgICAgIHJldHVybiBlbGVtZW50O1xuICAgIH1cbiAgICBlbGVtZW50ID0gZWxlbWVudC5wYXJlbnROb2RlO1xuICAgIHN0ZXBzKys7XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59O1xuZ29vZy5kb20uZ2V0QWN0aXZlRWxlbWVudCA9IGZ1bmN0aW9uKGRvYykge1xuICB0cnkge1xuICAgIHZhciBhY3RpdmVFbGVtZW50ID0gZG9jICYmIGRvYy5hY3RpdmVFbGVtZW50O1xuICAgIHJldHVybiBhY3RpdmVFbGVtZW50ICYmIGFjdGl2ZUVsZW1lbnQubm9kZU5hbWUgPyBhY3RpdmVFbGVtZW50IDogbnVsbDtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG59O1xuZ29vZy5kb20uZ2V0UGl4ZWxSYXRpbyA9IGZ1bmN0aW9uKCkge1xuICB2YXIgd2luID0gZ29vZy5kb20uZ2V0V2luZG93KCk7XG4gIHJldHVybiB2b2lkIDAgIT09IHdpbi5kZXZpY2VQaXhlbFJhdGlvID8gd2luLmRldmljZVBpeGVsUmF0aW8gOiB3aW4ubWF0Y2hNZWRpYSA/IGdvb2cuZG9tLm1hdGNoZXNQaXhlbFJhdGlvXygzKSB8fCBnb29nLmRvbS5tYXRjaGVzUGl4ZWxSYXRpb18oMikgfHwgZ29vZy5kb20ubWF0Y2hlc1BpeGVsUmF0aW9fKDEuNSkgfHwgZ29vZy5kb20ubWF0Y2hlc1BpeGVsUmF0aW9fKDEpIHx8IC43NSA6IDE7XG59O1xuZ29vZy5kb20ubWF0Y2hlc1BpeGVsUmF0aW9fID0gZnVuY3Rpb24ocGl4ZWxSYXRpbykge1xuICByZXR1cm4gZ29vZy5kb20uZ2V0V2luZG93KCkubWF0Y2hNZWRpYShcIihtaW4tcmVzb2x1dGlvbjogXCIgKyBwaXhlbFJhdGlvICsgXCJkcHB4KSwobWluLS1tb3otZGV2aWNlLXBpeGVsLXJhdGlvOiBcIiArIHBpeGVsUmF0aW8gKyBcIiksKG1pbi1yZXNvbHV0aW9uOiBcIiArIDk2ICogcGl4ZWxSYXRpbyArIFwiZHBpKVwiKS5tYXRjaGVzID8gcGl4ZWxSYXRpbyA6IDA7XG59O1xuZ29vZy5kb20uZ2V0Q2FudmFzQ29udGV4dDJEID0gZnVuY3Rpb24oY2FudmFzKSB7XG4gIHJldHVybiBjYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO1xufTtcbmdvb2cuZG9tLkRvbUhlbHBlciA9IGZ1bmN0aW9uKG9wdF9kb2N1bWVudCkge1xuICB0aGlzLmRvY3VtZW50XyA9IG9wdF9kb2N1bWVudCB8fCBnb29nLmdsb2JhbC5kb2N1bWVudCB8fCBkb2N1bWVudDtcbn07XG5nb29nLmRvbS5Eb21IZWxwZXIucHJvdG90eXBlLmdldERvbUhlbHBlciA9IGdvb2cuZG9tLmdldERvbUhlbHBlcjtcbmdvb2cuZG9tLkRvbUhlbHBlci5wcm90b3R5cGUuc2V0RG9jdW1lbnQgPSBmdW5jdGlvbihkb2N1bWVudCkge1xuICB0aGlzLmRvY3VtZW50XyA9IGRvY3VtZW50O1xufTtcbmdvb2cuZG9tLkRvbUhlbHBlci5wcm90b3R5cGUuZ2V0RG9jdW1lbnQgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuZG9jdW1lbnRfO1xufTtcbmdvb2cuZG9tLkRvbUhlbHBlci5wcm90b3R5cGUuZ2V0RWxlbWVudCA9IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgcmV0dXJuIGdvb2cuZG9tLmdldEVsZW1lbnRIZWxwZXJfKHRoaXMuZG9jdW1lbnRfLCBlbGVtZW50KTtcbn07XG5nb29nLmRvbS5Eb21IZWxwZXIucHJvdG90eXBlLmdldFJlcXVpcmVkRWxlbWVudCA9IGZ1bmN0aW9uKGlkKSB7XG4gIHJldHVybiBnb29nLmRvbS5nZXRSZXF1aXJlZEVsZW1lbnRIZWxwZXJfKHRoaXMuZG9jdW1lbnRfLCBpZCk7XG59O1xuZ29vZy5kb20uRG9tSGVscGVyLnByb3RvdHlwZS4kID0gZ29vZy5kb20uRG9tSGVscGVyLnByb3RvdHlwZS5nZXRFbGVtZW50O1xuZ29vZy5kb20uRG9tSGVscGVyLnByb3RvdHlwZS5nZXRFbGVtZW50c0J5VGFnTmFtZSA9IGZ1bmN0aW9uKHRhZ05hbWUsIG9wdF9wYXJlbnQpIHtcbiAgcmV0dXJuIChvcHRfcGFyZW50IHx8IHRoaXMuZG9jdW1lbnRfKS5nZXRFbGVtZW50c0J5VGFnTmFtZShTdHJpbmcodGFnTmFtZSkpO1xufTtcbmdvb2cuZG9tLkRvbUhlbHBlci5wcm90b3R5cGUuZ2V0RWxlbWVudHNCeVRhZ05hbWVBbmRDbGFzcyA9IGZ1bmN0aW9uKG9wdF90YWcsIG9wdF9jbGFzcywgb3B0X2VsKSB7XG4gIHJldHVybiBnb29nLmRvbS5nZXRFbGVtZW50c0J5VGFnTmFtZUFuZENsYXNzXyh0aGlzLmRvY3VtZW50Xywgb3B0X3RhZywgb3B0X2NsYXNzLCBvcHRfZWwpO1xufTtcbmdvb2cuZG9tLkRvbUhlbHBlci5wcm90b3R5cGUuZ2V0RWxlbWVudEJ5VGFnTmFtZUFuZENsYXNzID0gZnVuY3Rpb24ob3B0X3RhZywgb3B0X2NsYXNzLCBvcHRfZWwpIHtcbiAgcmV0dXJuIGdvb2cuZG9tLmdldEVsZW1lbnRCeVRhZ05hbWVBbmRDbGFzc18odGhpcy5kb2N1bWVudF8sIG9wdF90YWcsIG9wdF9jbGFzcywgb3B0X2VsKTtcbn07XG5nb29nLmRvbS5Eb21IZWxwZXIucHJvdG90eXBlLmdldEVsZW1lbnRzQnlDbGFzcyA9IGZ1bmN0aW9uKGNsYXNzTmFtZSwgb3B0X2VsKSB7XG4gIHJldHVybiBnb29nLmRvbS5nZXRFbGVtZW50c0J5Q2xhc3MoY2xhc3NOYW1lLCBvcHRfZWwgfHwgdGhpcy5kb2N1bWVudF8pO1xufTtcbmdvb2cuZG9tLkRvbUhlbHBlci5wcm90b3R5cGUuZ2V0RWxlbWVudEJ5Q2xhc3MgPSBmdW5jdGlvbihjbGFzc05hbWUsIG9wdF9lbCkge1xuICByZXR1cm4gZ29vZy5kb20uZ2V0RWxlbWVudEJ5Q2xhc3MoY2xhc3NOYW1lLCBvcHRfZWwgfHwgdGhpcy5kb2N1bWVudF8pO1xufTtcbmdvb2cuZG9tLkRvbUhlbHBlci5wcm90b3R5cGUuZ2V0UmVxdWlyZWRFbGVtZW50QnlDbGFzcyA9IGZ1bmN0aW9uKGNsYXNzTmFtZSwgb3B0X3Jvb3QpIHtcbiAgcmV0dXJuIGdvb2cuZG9tLmdldFJlcXVpcmVkRWxlbWVudEJ5Q2xhc3MoY2xhc3NOYW1lLCBvcHRfcm9vdCB8fCB0aGlzLmRvY3VtZW50Xyk7XG59O1xuZ29vZy5kb20uRG9tSGVscGVyLnByb3RvdHlwZS4kJCA9IGdvb2cuZG9tLkRvbUhlbHBlci5wcm90b3R5cGUuZ2V0RWxlbWVudHNCeVRhZ05hbWVBbmRDbGFzcztcbmdvb2cuZG9tLkRvbUhlbHBlci5wcm90b3R5cGUuc2V0UHJvcGVydGllcyA9IGdvb2cuZG9tLnNldFByb3BlcnRpZXM7XG5nb29nLmRvbS5Eb21IZWxwZXIucHJvdG90eXBlLmdldFZpZXdwb3J0U2l6ZSA9IGZ1bmN0aW9uKG9wdF93aW5kb3cpIHtcbiAgcmV0dXJuIGdvb2cuZG9tLmdldFZpZXdwb3J0U2l6ZShvcHRfd2luZG93IHx8IHRoaXMuZ2V0V2luZG93KCkpO1xufTtcbmdvb2cuZG9tLkRvbUhlbHBlci5wcm90b3R5cGUuZ2V0RG9jdW1lbnRIZWlnaHQgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIGdvb2cuZG9tLmdldERvY3VtZW50SGVpZ2h0Xyh0aGlzLmdldFdpbmRvdygpKTtcbn07XG5nb29nLmRvbS5Eb21IZWxwZXIucHJvdG90eXBlLmNyZWF0ZURvbSA9IGZ1bmN0aW9uKHRhZ05hbWUsIG9wdF9hdHRyaWJ1dGVzLCB2YXJfYXJncykge1xuICByZXR1cm4gZ29vZy5kb20uY3JlYXRlRG9tXyh0aGlzLmRvY3VtZW50XywgYXJndW1lbnRzKTtcbn07XG5nb29nLmRvbS5Eb21IZWxwZXIucHJvdG90eXBlLiRkb20gPSBnb29nLmRvbS5Eb21IZWxwZXIucHJvdG90eXBlLmNyZWF0ZURvbTtcbmdvb2cuZG9tLkRvbUhlbHBlci5wcm90b3R5cGUuY3JlYXRlRWxlbWVudCA9IGZ1bmN0aW9uKG5hbWUpIHtcbiAgcmV0dXJuIGdvb2cuZG9tLmNyZWF0ZUVsZW1lbnRfKHRoaXMuZG9jdW1lbnRfLCBuYW1lKTtcbn07XG5nb29nLmRvbS5Eb21IZWxwZXIucHJvdG90eXBlLmNyZWF0ZVRleHROb2RlID0gZnVuY3Rpb24oY29udGVudCkge1xuICByZXR1cm4gdGhpcy5kb2N1bWVudF8uY3JlYXRlVGV4dE5vZGUoU3RyaW5nKGNvbnRlbnQpKTtcbn07XG5nb29nLmRvbS5Eb21IZWxwZXIucHJvdG90eXBlLmNyZWF0ZVRhYmxlID0gZnVuY3Rpb24ocm93cywgY29sdW1ucywgb3B0X2ZpbGxXaXRoTmJzcCkge1xuICByZXR1cm4gZ29vZy5kb20uY3JlYXRlVGFibGVfKHRoaXMuZG9jdW1lbnRfLCByb3dzLCBjb2x1bW5zLCAhIW9wdF9maWxsV2l0aE5ic3ApO1xufTtcbmdvb2cuZG9tLkRvbUhlbHBlci5wcm90b3R5cGUuc2FmZUh0bWxUb05vZGUgPSBmdW5jdGlvbihodG1sKSB7XG4gIHJldHVybiBnb29nLmRvbS5zYWZlSHRtbFRvTm9kZV8odGhpcy5kb2N1bWVudF8sIGh0bWwpO1xufTtcbmdvb2cuZG9tLkRvbUhlbHBlci5wcm90b3R5cGUuaXNDc3MxQ29tcGF0TW9kZSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gZ29vZy5kb20uaXNDc3MxQ29tcGF0TW9kZV8odGhpcy5kb2N1bWVudF8pO1xufTtcbmdvb2cuZG9tLkRvbUhlbHBlci5wcm90b3R5cGUuZ2V0V2luZG93ID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBnb29nLmRvbS5nZXRXaW5kb3dfKHRoaXMuZG9jdW1lbnRfKTtcbn07XG5nb29nLmRvbS5Eb21IZWxwZXIucHJvdG90eXBlLmdldERvY3VtZW50U2Nyb2xsRWxlbWVudCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gZ29vZy5kb20uZ2V0RG9jdW1lbnRTY3JvbGxFbGVtZW50Xyh0aGlzLmRvY3VtZW50Xyk7XG59O1xuZ29vZy5kb20uRG9tSGVscGVyLnByb3RvdHlwZS5nZXREb2N1bWVudFNjcm9sbCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gZ29vZy5kb20uZ2V0RG9jdW1lbnRTY3JvbGxfKHRoaXMuZG9jdW1lbnRfKTtcbn07XG5nb29nLmRvbS5Eb21IZWxwZXIucHJvdG90eXBlLmdldEFjdGl2ZUVsZW1lbnQgPSBmdW5jdGlvbihvcHRfZG9jKSB7XG4gIHJldHVybiBnb29nLmRvbS5nZXRBY3RpdmVFbGVtZW50KG9wdF9kb2MgfHwgdGhpcy5kb2N1bWVudF8pO1xufTtcbmdvb2cuZG9tLkRvbUhlbHBlci5wcm90b3R5cGUuYXBwZW5kQ2hpbGQgPSBnb29nLmRvbS5hcHBlbmRDaGlsZDtcbmdvb2cuZG9tLkRvbUhlbHBlci5wcm90b3R5cGUuYXBwZW5kID0gZ29vZy5kb20uYXBwZW5kO1xuZ29vZy5kb20uRG9tSGVscGVyLnByb3RvdHlwZS5jYW5IYXZlQ2hpbGRyZW4gPSBnb29nLmRvbS5jYW5IYXZlQ2hpbGRyZW47XG5nb29nLmRvbS5Eb21IZWxwZXIucHJvdG90eXBlLnJlbW92ZUNoaWxkcmVuID0gZ29vZy5kb20ucmVtb3ZlQ2hpbGRyZW47XG5nb29nLmRvbS5Eb21IZWxwZXIucHJvdG90eXBlLmluc2VydFNpYmxpbmdCZWZvcmUgPSBnb29nLmRvbS5pbnNlcnRTaWJsaW5nQmVmb3JlO1xuZ29vZy5kb20uRG9tSGVscGVyLnByb3RvdHlwZS5pbnNlcnRTaWJsaW5nQWZ0ZXIgPSBnb29nLmRvbS5pbnNlcnRTaWJsaW5nQWZ0ZXI7XG5nb29nLmRvbS5Eb21IZWxwZXIucHJvdG90eXBlLmluc2VydENoaWxkQXQgPSBnb29nLmRvbS5pbnNlcnRDaGlsZEF0O1xuZ29vZy5kb20uRG9tSGVscGVyLnByb3RvdHlwZS5yZW1vdmVOb2RlID0gZ29vZy5kb20ucmVtb3ZlTm9kZTtcbmdvb2cuZG9tLkRvbUhlbHBlci5wcm90b3R5cGUucmVwbGFjZU5vZGUgPSBnb29nLmRvbS5yZXBsYWNlTm9kZTtcbmdvb2cuZG9tLkRvbUhlbHBlci5wcm90b3R5cGUuY29weUNvbnRlbnRzID0gZ29vZy5kb20uY29weUNvbnRlbnRzO1xuZ29vZy5kb20uRG9tSGVscGVyLnByb3RvdHlwZS5mbGF0dGVuRWxlbWVudCA9IGdvb2cuZG9tLmZsYXR0ZW5FbGVtZW50O1xuZ29vZy5kb20uRG9tSGVscGVyLnByb3RvdHlwZS5nZXRDaGlsZHJlbiA9IGdvb2cuZG9tLmdldENoaWxkcmVuO1xuZ29vZy5kb20uRG9tSGVscGVyLnByb3RvdHlwZS5nZXRGaXJzdEVsZW1lbnRDaGlsZCA9IGdvb2cuZG9tLmdldEZpcnN0RWxlbWVudENoaWxkO1xuZ29vZy5kb20uRG9tSGVscGVyLnByb3RvdHlwZS5nZXRMYXN0RWxlbWVudENoaWxkID0gZ29vZy5kb20uZ2V0TGFzdEVsZW1lbnRDaGlsZDtcbmdvb2cuZG9tLkRvbUhlbHBlci5wcm90b3R5cGUuZ2V0TmV4dEVsZW1lbnRTaWJsaW5nID0gZ29vZy5kb20uZ2V0TmV4dEVsZW1lbnRTaWJsaW5nO1xuZ29vZy5kb20uRG9tSGVscGVyLnByb3RvdHlwZS5nZXRQcmV2aW91c0VsZW1lbnRTaWJsaW5nID0gZ29vZy5kb20uZ2V0UHJldmlvdXNFbGVtZW50U2libGluZztcbmdvb2cuZG9tLkRvbUhlbHBlci5wcm90b3R5cGUuZ2V0TmV4dE5vZGUgPSBnb29nLmRvbS5nZXROZXh0Tm9kZTtcbmdvb2cuZG9tLkRvbUhlbHBlci5wcm90b3R5cGUuZ2V0UHJldmlvdXNOb2RlID0gZ29vZy5kb20uZ2V0UHJldmlvdXNOb2RlO1xuZ29vZy5kb20uRG9tSGVscGVyLnByb3RvdHlwZS5pc05vZGVMaWtlID0gZ29vZy5kb20uaXNOb2RlTGlrZTtcbmdvb2cuZG9tLkRvbUhlbHBlci5wcm90b3R5cGUuaXNFbGVtZW50ID0gZ29vZy5kb20uaXNFbGVtZW50O1xuZ29vZy5kb20uRG9tSGVscGVyLnByb3RvdHlwZS5pc1dpbmRvdyA9IGdvb2cuZG9tLmlzV2luZG93O1xuZ29vZy5kb20uRG9tSGVscGVyLnByb3RvdHlwZS5nZXRQYXJlbnRFbGVtZW50ID0gZ29vZy5kb20uZ2V0UGFyZW50RWxlbWVudDtcbmdvb2cuZG9tLkRvbUhlbHBlci5wcm90b3R5cGUuY29udGFpbnMgPSBnb29nLmRvbS5jb250YWlucztcbmdvb2cuZG9tLkRvbUhlbHBlci5wcm90b3R5cGUuY29tcGFyZU5vZGVPcmRlciA9IGdvb2cuZG9tLmNvbXBhcmVOb2RlT3JkZXI7XG5nb29nLmRvbS5Eb21IZWxwZXIucHJvdG90eXBlLmZpbmRDb21tb25BbmNlc3RvciA9IGdvb2cuZG9tLmZpbmRDb21tb25BbmNlc3Rvcjtcbmdvb2cuZG9tLkRvbUhlbHBlci5wcm90b3R5cGUuZ2V0T3duZXJEb2N1bWVudCA9IGdvb2cuZG9tLmdldE93bmVyRG9jdW1lbnQ7XG5nb29nLmRvbS5Eb21IZWxwZXIucHJvdG90eXBlLmdldEZyYW1lQ29udGVudERvY3VtZW50ID0gZ29vZy5kb20uZ2V0RnJhbWVDb250ZW50RG9jdW1lbnQ7XG5nb29nLmRvbS5Eb21IZWxwZXIucHJvdG90eXBlLmdldEZyYW1lQ29udGVudFdpbmRvdyA9IGdvb2cuZG9tLmdldEZyYW1lQ29udGVudFdpbmRvdztcbmdvb2cuZG9tLkRvbUhlbHBlci5wcm90b3R5cGUuc2V0VGV4dENvbnRlbnQgPSBnb29nLmRvbS5zZXRUZXh0Q29udGVudDtcbmdvb2cuZG9tLkRvbUhlbHBlci5wcm90b3R5cGUuZ2V0T3V0ZXJIdG1sID0gZ29vZy5kb20uZ2V0T3V0ZXJIdG1sO1xuZ29vZy5kb20uRG9tSGVscGVyLnByb3RvdHlwZS5maW5kTm9kZSA9IGdvb2cuZG9tLmZpbmROb2RlO1xuZ29vZy5kb20uRG9tSGVscGVyLnByb3RvdHlwZS5maW5kTm9kZXMgPSBnb29nLmRvbS5maW5kTm9kZXM7XG5nb29nLmRvbS5Eb21IZWxwZXIucHJvdG90eXBlLmlzRm9jdXNhYmxlVGFiSW5kZXggPSBnb29nLmRvbS5pc0ZvY3VzYWJsZVRhYkluZGV4O1xuZ29vZy5kb20uRG9tSGVscGVyLnByb3RvdHlwZS5zZXRGb2N1c2FibGVUYWJJbmRleCA9IGdvb2cuZG9tLnNldEZvY3VzYWJsZVRhYkluZGV4O1xuZ29vZy5kb20uRG9tSGVscGVyLnByb3RvdHlwZS5pc0ZvY3VzYWJsZSA9IGdvb2cuZG9tLmlzRm9jdXNhYmxlO1xuZ29vZy5kb20uRG9tSGVscGVyLnByb3RvdHlwZS5nZXRUZXh0Q29udGVudCA9IGdvb2cuZG9tLmdldFRleHRDb250ZW50O1xuZ29vZy5kb20uRG9tSGVscGVyLnByb3RvdHlwZS5nZXROb2RlVGV4dExlbmd0aCA9IGdvb2cuZG9tLmdldE5vZGVUZXh0TGVuZ3RoO1xuZ29vZy5kb20uRG9tSGVscGVyLnByb3RvdHlwZS5nZXROb2RlVGV4dE9mZnNldCA9IGdvb2cuZG9tLmdldE5vZGVUZXh0T2Zmc2V0O1xuZ29vZy5kb20uRG9tSGVscGVyLnByb3RvdHlwZS5nZXROb2RlQXRPZmZzZXQgPSBnb29nLmRvbS5nZXROb2RlQXRPZmZzZXQ7XG5nb29nLmRvbS5Eb21IZWxwZXIucHJvdG90eXBlLmlzTm9kZUxpc3QgPSBnb29nLmRvbS5pc05vZGVMaXN0O1xuZ29vZy5kb20uRG9tSGVscGVyLnByb3RvdHlwZS5nZXRBbmNlc3RvckJ5VGFnTmFtZUFuZENsYXNzID0gZ29vZy5kb20uZ2V0QW5jZXN0b3JCeVRhZ05hbWVBbmRDbGFzcztcbmdvb2cuZG9tLkRvbUhlbHBlci5wcm90b3R5cGUuZ2V0QW5jZXN0b3JCeUNsYXNzID0gZ29vZy5kb20uZ2V0QW5jZXN0b3JCeUNsYXNzO1xuZ29vZy5kb20uRG9tSGVscGVyLnByb3RvdHlwZS5nZXRBbmNlc3RvciA9IGdvb2cuZG9tLmdldEFuY2VzdG9yO1xuZ29vZy5kb20uRG9tSGVscGVyLnByb3RvdHlwZS5nZXRDYW52YXNDb250ZXh0MkQgPSBnb29nLmRvbS5nZXRDYW52YXNDb250ZXh0MkQ7XG5nb29nLmFzeW5jLm5leHRUaWNrID0gZnVuY3Rpb24oY2FsbGJhY2ssIG9wdF9jb250ZXh0LCBvcHRfdXNlU2V0SW1tZWRpYXRlKSB7XG4gIHZhciBjYiA9IGNhbGxiYWNrO1xuICBvcHRfY29udGV4dCAmJiAoY2IgPSBnb29nLmJpbmQoY2FsbGJhY2ssIG9wdF9jb250ZXh0KSk7XG4gIGNiID0gZ29vZy5hc3luYy5uZXh0VGljay53cmFwQ2FsbGJhY2tfKGNiKTtcbiAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgZ29vZy5nbG9iYWwuc2V0SW1tZWRpYXRlICYmIChvcHRfdXNlU2V0SW1tZWRpYXRlIHx8IGdvb2cuYXN5bmMubmV4dFRpY2sudXNlU2V0SW1tZWRpYXRlXygpKSA/IGdvb2cuZ2xvYmFsLnNldEltbWVkaWF0ZShjYikgOiAoZ29vZy5hc3luYy5uZXh0VGljay5uZXh0VGlja0ltcGwgfHwgKGdvb2cuYXN5bmMubmV4dFRpY2submV4dFRpY2tJbXBsID0gZ29vZy5hc3luYy5uZXh0VGljay5nZXROZXh0VGlja0ltcGxfKCkpLCBnb29nLmFzeW5jLm5leHRUaWNrLm5leHRUaWNrSW1wbChjYikpO1xufTtcbmdvb2cuYXN5bmMubmV4dFRpY2sudXNlU2V0SW1tZWRpYXRlXyA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gZ29vZy5nbG9iYWwuV2luZG93ICYmIGdvb2cuZ2xvYmFsLldpbmRvdy5wcm90b3R5cGUgJiYgIW1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JGJyb3dzZXJfbWF0Y2hFZGdlSHRtbCgpICYmIGdvb2cuZ2xvYmFsLldpbmRvdy5wcm90b3R5cGUuc2V0SW1tZWRpYXRlID09IGdvb2cuZ2xvYmFsLnNldEltbWVkaWF0ZSA/ICExIDogITA7XG59O1xuZ29vZy5hc3luYy5uZXh0VGljay5nZXROZXh0VGlja0ltcGxfID0gZnVuY3Rpb24oKSB7XG4gIHZhciBDaGFubmVsID0gZ29vZy5nbG9iYWwuTWVzc2FnZUNoYW5uZWw7XG4gIFwidW5kZWZpbmVkXCIgPT09IHR5cGVvZiBDaGFubmVsICYmIFwidW5kZWZpbmVkXCIgIT09IHR5cGVvZiB3aW5kb3cgJiYgd2luZG93LnBvc3RNZXNzYWdlICYmIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyICYmICFtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRlbmdpbmVfaXNQcmVzdG8oKSAmJiAoQ2hhbm5lbCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBpZnJhbWUgPSBnb29nLmRvbS5jcmVhdGVFbGVtZW50KGdvb2cuZG9tLlRhZ05hbWUuSUZSQU1FKTtcbiAgICBpZnJhbWUuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5hcHBlbmRDaGlsZChpZnJhbWUpO1xuICAgIHZhciB3aW4gPSBpZnJhbWUuY29udGVudFdpbmRvdywgZG9jID0gd2luLmRvY3VtZW50O1xuICAgIGRvYy5vcGVuKCk7XG4gICAgZG9jLmNsb3NlKCk7XG4gICAgdmFyIG1lc3NhZ2UgPSBcImNhbGxJbW1lZGlhdGVcIiArIE1hdGgucmFuZG9tKCksIG9yaWdpbiA9IFwiZmlsZTpcIiA9PSB3aW4ubG9jYXRpb24ucHJvdG9jb2wgPyBcIipcIiA6IHdpbi5sb2NhdGlvbi5wcm90b2NvbCArIFwiLy9cIiArIHdpbi5sb2NhdGlvbi5ob3N0LCBvbm1lc3NhZ2UgPSBnb29nLmJpbmQoZnVuY3Rpb24oZSkge1xuICAgICAgaWYgKChcIipcIiA9PSBvcmlnaW4gfHwgZS5vcmlnaW4gPT0gb3JpZ2luKSAmJiBlLmRhdGEgPT0gbWVzc2FnZSkge1xuICAgICAgICB0aGlzLnBvcnQxLm9ubWVzc2FnZSgpO1xuICAgICAgfVxuICAgIH0sIHRoaXMpO1xuICAgIHdpbi5hZGRFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLCBvbm1lc3NhZ2UsICExKTtcbiAgICB0aGlzLnBvcnQxID0ge307XG4gICAgdGhpcy5wb3J0MiA9IHtwb3N0TWVzc2FnZTpmdW5jdGlvbigpIHtcbiAgICAgIHdpbi5wb3N0TWVzc2FnZShtZXNzYWdlLCBvcmlnaW4pO1xuICAgIH19O1xuICB9KTtcbiAgaWYgKFwidW5kZWZpbmVkXCIgIT09IHR5cGVvZiBDaGFubmVsICYmICFtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRicm93c2VyX21hdGNoSUUoKSkge1xuICAgIHZhciBjaGFubmVsID0gbmV3IENoYW5uZWwoKSwgaGVhZCA9IHt9LCB0YWlsID0gaGVhZDtcbiAgICBjaGFubmVsLnBvcnQxLm9ubWVzc2FnZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKHZvaWQgMCAhPT0gaGVhZC5uZXh0KSB7XG4gICAgICAgIGhlYWQgPSBoZWFkLm5leHQ7XG4gICAgICAgIHZhciBjYiA9IGhlYWQuY2I7XG4gICAgICAgIGhlYWQuY2IgPSBudWxsO1xuICAgICAgICBjYigpO1xuICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uKGNiKSB7XG4gICAgICB0YWlsLm5leHQgPSB7Y2I6Y2J9O1xuICAgICAgdGFpbCA9IHRhaWwubmV4dDtcbiAgICAgIGNoYW5uZWwucG9ydDIucG9zdE1lc3NhZ2UoMCk7XG4gICAgfTtcbiAgfVxuICByZXR1cm4gZnVuY3Rpb24oY2IpIHtcbiAgICBnb29nLmdsb2JhbC5zZXRUaW1lb3V0KGNiLCAwKTtcbiAgfTtcbn07XG5nb29nLmFzeW5jLm5leHRUaWNrLndyYXBDYWxsYmFja18gPSBnb29nLmZ1bmN0aW9ucy5pZGVudGl0eTtcbmdvb2cuZGVidWcuZW50cnlQb2ludFJlZ2lzdHJ5LnJlZ2lzdGVyKGZ1bmN0aW9uKHRyYW5zZm9ybWVyKSB7XG4gIGdvb2cuYXN5bmMubmV4dFRpY2sud3JhcENhbGxiYWNrXyA9IHRyYW5zZm9ybWVyO1xufSk7XG5mdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRhc3luYyR0aHJvd0V4Y2VwdGlvbl90aHJvd0V4Y2VwdGlvbihleGNlcHRpb24pIHtcbiAgZ29vZy5nbG9iYWwuc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICB0aHJvdyBleGNlcHRpb247XG4gIH0sIDApO1xufVxuZ29vZy5hc3luYy50aHJvd0V4Y2VwdGlvbiA9IG1vZHVsZSRjb250ZW50cyRnb29nJGFzeW5jJHRocm93RXhjZXB0aW9uX3Rocm93RXhjZXB0aW9uO1xudmFyIG1vZHVsZSRjb250ZW50cyRnb29nJGFzeW5jJFdvcmtRdWV1ZV9Xb3JrUXVldWUgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy53b3JrVGFpbF8gPSB0aGlzLndvcmtIZWFkXyA9IG51bGw7XG59O1xubW9kdWxlJGNvbnRlbnRzJGdvb2ckYXN5bmMkV29ya1F1ZXVlX1dvcmtRdWV1ZS5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24oZm4sIHNjb3BlKSB7XG4gIHZhciBpdGVtID0gdGhpcy5nZXRVbnVzZWRJdGVtXygpO1xuICBpdGVtLnNldChmbiwgc2NvcGUpO1xuICB0aGlzLndvcmtUYWlsXyA/IHRoaXMud29ya1RhaWxfLm5leHQgPSBpdGVtIDogKCgwLGdvb2cuYXNzZXJ0cy5hc3NlcnQpKCF0aGlzLndvcmtIZWFkXyksIHRoaXMud29ya0hlYWRfID0gaXRlbSk7XG4gIHRoaXMud29ya1RhaWxfID0gaXRlbTtcbn07XG5tb2R1bGUkY29udGVudHMkZ29vZyRhc3luYyRXb3JrUXVldWVfV29ya1F1ZXVlLnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbigpIHtcbiAgdmFyIGl0ZW0gPSBudWxsO1xuICB0aGlzLndvcmtIZWFkXyAmJiAoaXRlbSA9IHRoaXMud29ya0hlYWRfLCB0aGlzLndvcmtIZWFkXyA9IHRoaXMud29ya0hlYWRfLm5leHQsIHRoaXMud29ya0hlYWRfIHx8ICh0aGlzLndvcmtUYWlsXyA9IG51bGwpLCBpdGVtLm5leHQgPSBudWxsKTtcbiAgcmV0dXJuIGl0ZW07XG59O1xubW9kdWxlJGNvbnRlbnRzJGdvb2ckYXN5bmMkV29ya1F1ZXVlX1dvcmtRdWV1ZS5wcm90b3R5cGUucmV0dXJuVW51c2VkID0gZnVuY3Rpb24oaXRlbSkge1xuICBtb2R1bGUkY29udGVudHMkZ29vZyRhc3luYyRXb3JrUXVldWVfV29ya1F1ZXVlLmZyZWVsaXN0Xy5wdXQoaXRlbSk7XG59O1xubW9kdWxlJGNvbnRlbnRzJGdvb2ckYXN5bmMkV29ya1F1ZXVlX1dvcmtRdWV1ZS5wcm90b3R5cGUuZ2V0VW51c2VkSXRlbV8gPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRjb250ZW50cyRnb29nJGFzeW5jJFdvcmtRdWV1ZV9Xb3JrUXVldWUuZnJlZWxpc3RfLmdldCgpO1xufTtcbm1vZHVsZSRjb250ZW50cyRnb29nJGFzeW5jJFdvcmtRdWV1ZV9Xb3JrUXVldWUuREVGQVVMVF9NQVhfVU5VU0VEID0gMTAwO1xubW9kdWxlJGNvbnRlbnRzJGdvb2ckYXN5bmMkV29ya1F1ZXVlX1dvcmtRdWV1ZS5mcmVlbGlzdF8gPSBuZXcgbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXN5bmMkRnJlZUxpc3RfRnJlZUxpc3QoZnVuY3Rpb24oKSB7XG4gIHJldHVybiBuZXcgbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXN5bmMkV29ya1F1ZXVlX1dvcmtJdGVtKCk7XG59LCBmdW5jdGlvbihpdGVtKSB7XG4gIHJldHVybiBpdGVtLnJlc2V0KCk7XG59LCBtb2R1bGUkY29udGVudHMkZ29vZyRhc3luYyRXb3JrUXVldWVfV29ya1F1ZXVlLkRFRkFVTFRfTUFYX1VOVVNFRCk7XG52YXIgbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXN5bmMkV29ya1F1ZXVlX1dvcmtJdGVtID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMubmV4dCA9IHRoaXMuc2NvcGUgPSB0aGlzLmZuID0gbnVsbDtcbn07XG5tb2R1bGUkY29udGVudHMkZ29vZyRhc3luYyRXb3JrUXVldWVfV29ya0l0ZW0ucHJvdG90eXBlLnNldCA9IGZ1bmN0aW9uKGZuLCBzY29wZSkge1xuICB0aGlzLmZuID0gZm47XG4gIHRoaXMuc2NvcGUgPSBzY29wZTtcbiAgdGhpcy5uZXh0ID0gbnVsbDtcbn07XG5tb2R1bGUkY29udGVudHMkZ29vZyRhc3luYyRXb3JrUXVldWVfV29ya0l0ZW0ucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMubmV4dCA9IHRoaXMuc2NvcGUgPSB0aGlzLmZuID0gbnVsbDtcbn07XG5nb29nLmFzeW5jLldvcmtRdWV1ZSA9IG1vZHVsZSRjb250ZW50cyRnb29nJGFzeW5jJFdvcmtRdWV1ZV9Xb3JrUXVldWU7XG5nb29nLmRlYnVnLmFzeW5jU3RhY2tUYWcgPSB7fTtcbnZhciBtb2R1bGUkY29udGVudHMkZ29vZyRkZWJ1ZyRhc3luY1N0YWNrVGFnX2NyZWF0ZVRhc2sgPSBnb29nLkRFQlVHICYmIGdvb2cuZ2xvYmFsLmNvbnNvbGUgJiYgZ29vZy5nbG9iYWwuY29uc29sZS5jcmVhdGVUYXNrID8gZ29vZy5nbG9iYWwuY29uc29sZS5jcmVhdGVUYXNrLmJpbmQoZ29vZy5nbG9iYWwuY29uc29sZSkgOiB2b2lkIDAsIG1vZHVsZSRjb250ZW50cyRnb29nJGRlYnVnJGFzeW5jU3RhY2tUYWdfQ09OU09MRV9UQVNLX1NZTUJPTCA9IG1vZHVsZSRjb250ZW50cyRnb29nJGRlYnVnJGFzeW5jU3RhY2tUYWdfY3JlYXRlVGFzayA/IFN5bWJvbChcImNvbnNvbGVUYXNrXCIpIDogdm9pZCAwO1xuZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2ckZGVidWckYXN5bmNTdGFja1RhZ193cmFwKGZuLCBuYW1lKSB7XG4gIGZ1bmN0aW9uIHdyYXBwZWRGbigpIHtcbiAgICB2YXIgYXJncyA9ICRqc2NvbXAuZ2V0UmVzdEFyZ3VtZW50cy5hcHBseSgwLCBhcmd1bWVudHMpLCAkanNjb21wJHRoaXMgPSB0aGlzO1xuICAgIHJldHVybiBjb25zb2xlVGFzay5ydW4oZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gZm4uY2FsbC5hcHBseShmbiwgWyRqc2NvbXAkdGhpc10uY29uY2F0KCRqc2NvbXAuYXJyYXlGcm9tSXRlcmFibGUoYXJncykpKTtcbiAgICB9KTtcbiAgfVxuICBuYW1lID0gdm9pZCAwID09PSBuYW1lID8gXCJhbm9ueW1vdXNcIiA6IG5hbWU7XG4gIGlmICghZ29vZy5ERUJVRyB8fCAhbW9kdWxlJGNvbnRlbnRzJGdvb2ckZGVidWckYXN5bmNTdGFja1RhZ19jcmVhdGVUYXNrIHx8IGZuWygwLGdvb2cuYXNzZXJ0cy5hc3NlcnRFeGlzdHMpKG1vZHVsZSRjb250ZW50cyRnb29nJGRlYnVnJGFzeW5jU3RhY2tUYWdfQ09OU09MRV9UQVNLX1NZTUJPTCldKSB7XG4gICAgcmV0dXJuIGZuO1xuICB9XG4gIHZhciBjb25zb2xlVGFzayA9IG1vZHVsZSRjb250ZW50cyRnb29nJGRlYnVnJGFzeW5jU3RhY2tUYWdfY3JlYXRlVGFzayhmbi5uYW1lIHx8IG5hbWUpO1xuICB3cmFwcGVkRm5bKDAsZ29vZy5hc3NlcnRzLmFzc2VydEV4aXN0cykobW9kdWxlJGNvbnRlbnRzJGdvb2ckZGVidWckYXN5bmNTdGFja1RhZ19DT05TT0xFX1RBU0tfU1lNQk9MKV0gPSBjb25zb2xlVGFzaztcbiAgcmV0dXJuIHdyYXBwZWRGbjtcbn1cbmdvb2cuZGVidWcuYXN5bmNTdGFja1RhZy53cmFwID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckZGVidWckYXN5bmNTdGFja1RhZ193cmFwO1xuZ29vZy5BU1NVTUVfTkFUSVZFX1BST01JU0UgPSAhMTtcbnZhciBtb2R1bGUkY29udGVudHMkZ29vZyRhc3luYyRydW5fc2NoZWR1bGUsIG1vZHVsZSRjb250ZW50cyRnb29nJGFzeW5jJHJ1bl93b3JrUXVldWVTY2hlZHVsZWQgPSAhMSwgbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXN5bmMkcnVuX3dvcmtRdWV1ZSA9IG5ldyBtb2R1bGUkY29udGVudHMkZ29vZyRhc3luYyRXb3JrUXVldWVfV29ya1F1ZXVlKCksIG1vZHVsZSRjb250ZW50cyRnb29nJGFzeW5jJHJ1bl9ydW4gPSBmdW5jdGlvbihjYWxsYmFjaywgY29udGV4dCkge1xuICBtb2R1bGUkY29udGVudHMkZ29vZyRhc3luYyRydW5fc2NoZWR1bGUgfHwgbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXN5bmMkcnVuX2luaXRpYWxpemVSdW5uZXIoKTtcbiAgbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXN5bmMkcnVuX3dvcmtRdWV1ZVNjaGVkdWxlZCB8fCAobW9kdWxlJGNvbnRlbnRzJGdvb2ckYXN5bmMkcnVuX3NjaGVkdWxlKCksIG1vZHVsZSRjb250ZW50cyRnb29nJGFzeW5jJHJ1bl93b3JrUXVldWVTY2hlZHVsZWQgPSAhMCk7XG4gIGNhbGxiYWNrID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckZGVidWckYXN5bmNTdGFja1RhZ193cmFwKGNhbGxiYWNrLCBcImdvb2cuYXN5bmMucnVuXCIpO1xuICBtb2R1bGUkY29udGVudHMkZ29vZyRhc3luYyRydW5fd29ya1F1ZXVlLmFkZChjYWxsYmFjaywgY29udGV4dCk7XG59LCBtb2R1bGUkY29udGVudHMkZ29vZyRhc3luYyRydW5faW5pdGlhbGl6ZVJ1bm5lciA9IGZ1bmN0aW9uKCkge1xuICBpZiAoZ29vZy5BU1NVTUVfTkFUSVZFX1BST01JU0UgfHwgZ29vZy5nbG9iYWwuUHJvbWlzZSAmJiBnb29nLmdsb2JhbC5Qcm9taXNlLnJlc29sdmUpIHtcbiAgICB2YXIgcHJvbWlzZSA9IGdvb2cuZ2xvYmFsLlByb21pc2UucmVzb2x2ZSh2b2lkIDApO1xuICAgIG1vZHVsZSRjb250ZW50cyRnb29nJGFzeW5jJHJ1bl9zY2hlZHVsZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgcHJvbWlzZS50aGVuKG1vZHVsZSRjb250ZW50cyRnb29nJGFzeW5jJHJ1bl9ydW4ucHJvY2Vzc1dvcmtRdWV1ZSk7XG4gICAgfTtcbiAgfSBlbHNlIHtcbiAgICBtb2R1bGUkY29udGVudHMkZ29vZyRhc3luYyRydW5fc2NoZWR1bGUgPSBmdW5jdGlvbigpIHtcbiAgICAgICgwLGdvb2cuYXN5bmMubmV4dFRpY2spKG1vZHVsZSRjb250ZW50cyRnb29nJGFzeW5jJHJ1bl9ydW4ucHJvY2Vzc1dvcmtRdWV1ZSk7XG4gICAgfTtcbiAgfVxufTtcbm1vZHVsZSRjb250ZW50cyRnb29nJGFzeW5jJHJ1bl9ydW4uZm9yY2VOZXh0VGljayA9IGZ1bmN0aW9uKHJlYWxTZXRUaW1lb3V0KSB7XG4gIG1vZHVsZSRjb250ZW50cyRnb29nJGFzeW5jJHJ1bl9zY2hlZHVsZSA9IGZ1bmN0aW9uKCkge1xuICAgICgwLGdvb2cuYXN5bmMubmV4dFRpY2spKG1vZHVsZSRjb250ZW50cyRnb29nJGFzeW5jJHJ1bl9ydW4ucHJvY2Vzc1dvcmtRdWV1ZSk7XG4gICAgcmVhbFNldFRpbWVvdXQgJiYgcmVhbFNldFRpbWVvdXQobW9kdWxlJGNvbnRlbnRzJGdvb2ckYXN5bmMkcnVuX3J1bi5wcm9jZXNzV29ya1F1ZXVlKTtcbiAgfTtcbn07XG5nb29nLkRFQlVHICYmIChtb2R1bGUkY29udGVudHMkZ29vZyRhc3luYyRydW5fcnVuLnJlc2V0UXVldWUgPSBmdW5jdGlvbigpIHtcbiAgbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXN5bmMkcnVuX3dvcmtRdWV1ZVNjaGVkdWxlZCA9ICExO1xuICBtb2R1bGUkY29udGVudHMkZ29vZyRhc3luYyRydW5fd29ya1F1ZXVlID0gbmV3IG1vZHVsZSRjb250ZW50cyRnb29nJGFzeW5jJFdvcmtRdWV1ZV9Xb3JrUXVldWUoKTtcbn0sIG1vZHVsZSRjb250ZW50cyRnb29nJGFzeW5jJHJ1bl9ydW4ucmVzZXRTY2hlZHVsZXJGb3JUZXN0ID0gZnVuY3Rpb24oKSB7XG4gIG1vZHVsZSRjb250ZW50cyRnb29nJGFzeW5jJHJ1bl9pbml0aWFsaXplUnVubmVyKCk7XG59KTtcbm1vZHVsZSRjb250ZW50cyRnb29nJGFzeW5jJHJ1bl9ydW4ucHJvY2Vzc1dvcmtRdWV1ZSA9IGZ1bmN0aW9uKCkge1xuICBmb3IgKHZhciBpdGVtID0gbnVsbDsgaXRlbSA9IG1vZHVsZSRjb250ZW50cyRnb29nJGFzeW5jJHJ1bl93b3JrUXVldWUucmVtb3ZlKCk7KSB7XG4gICAgdHJ5IHtcbiAgICAgIGl0ZW0uZm4uY2FsbChpdGVtLnNjb3BlKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBtb2R1bGUkY29udGVudHMkZ29vZyRhc3luYyR0aHJvd0V4Y2VwdGlvbl90aHJvd0V4Y2VwdGlvbihlKTtcbiAgICB9XG4gICAgbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXN5bmMkcnVuX3dvcmtRdWV1ZS5yZXR1cm5VbnVzZWQoaXRlbSk7XG4gIH1cbiAgbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXN5bmMkcnVuX3dvcmtRdWV1ZVNjaGVkdWxlZCA9ICExO1xufTtcbmdvb2cuYXN5bmMucnVuID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXN5bmMkcnVuX3J1bjtcbmdvb2cucHJvbWlzZSA9IHt9O1xuZ29vZy5wcm9taXNlLlJlc29sdmVyID0gZnVuY3Rpb24oKSB7XG59O1xuZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2ckVGhlbmFibGVfVGhlbmFibGUoKSB7XG59XG5tb2R1bGUkY29udGVudHMkZ29vZyRUaGVuYWJsZV9UaGVuYWJsZS5wcm90b3R5cGUudGhlbiA9IGZ1bmN0aW9uKG9wdF9vbkZ1bGZpbGxlZCwgb3B0X29uUmVqZWN0ZWQsIG9wdF9jb250ZXh0KSB7XG59O1xubW9kdWxlJGNvbnRlbnRzJGdvb2ckVGhlbmFibGVfVGhlbmFibGUuSU1QTEVNRU5URURfQllfUFJPUCA9IFwiJGdvb2dfVGhlbmFibGVcIjtcbm1vZHVsZSRjb250ZW50cyRnb29nJFRoZW5hYmxlX1RoZW5hYmxlLmFkZEltcGxlbWVudGF0aW9uID0gZnVuY3Rpb24oY3Rvcikge1xuICBjdG9yLnByb3RvdHlwZVttb2R1bGUkY29udGVudHMkZ29vZyRUaGVuYWJsZV9UaGVuYWJsZS5JTVBMRU1FTlRFRF9CWV9QUk9QXSA9ICEwO1xufTtcbm1vZHVsZSRjb250ZW50cyRnb29nJFRoZW5hYmxlX1RoZW5hYmxlLmlzSW1wbGVtZW50ZWRCeSA9IGZ1bmN0aW9uKG9iamVjdCkge1xuICBpZiAoIW9iamVjdCkge1xuICAgIHJldHVybiAhMTtcbiAgfVxuICB0cnkge1xuICAgIHJldHVybiAhIW9iamVjdFttb2R1bGUkY29udGVudHMkZ29vZyRUaGVuYWJsZV9UaGVuYWJsZS5JTVBMRU1FTlRFRF9CWV9QUk9QXTtcbiAgICByZXR1cm4gISFvYmplY3QuJGdvb2dfVGhlbmFibGU7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4gITE7XG4gIH1cbn07XG5nb29nLlRoZW5hYmxlID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckVGhlbmFibGVfVGhlbmFibGU7XG5nb29nLlByb21pc2UgPSBmdW5jdGlvbihyZXNvbHZlciwgb3B0X2NvbnRleHQpIHtcbiAgdGhpcy5zdGF0ZV8gPSBnb29nLlByb21pc2UuU3RhdGVfLlBFTkRJTkc7XG4gIHRoaXMucmVzdWx0XyA9IHZvaWQgMDtcbiAgdGhpcy5jYWxsYmFja0VudHJpZXNUYWlsXyA9IHRoaXMuY2FsbGJhY2tFbnRyaWVzXyA9IHRoaXMucGFyZW50XyA9IG51bGw7XG4gIHRoaXMuZXhlY3V0aW5nXyA9ICExO1xuICAwIDwgZ29vZy5Qcm9taXNlLlVOSEFORExFRF9SRUpFQ1RJT05fREVMQVkgPyB0aGlzLnVuaGFuZGxlZFJlamVjdGlvbklkXyA9IDAgOiAwID09IGdvb2cuUHJvbWlzZS5VTkhBTkRMRURfUkVKRUNUSU9OX0RFTEFZICYmICh0aGlzLmhhZFVuaGFuZGxlZFJlamVjdGlvbl8gPSAhMSk7XG4gIGdvb2cuUHJvbWlzZS5MT05HX1NUQUNLX1RSQUNFUyAmJiAodGhpcy5zdGFja18gPSBbXSwgdGhpcy5hZGRTdGFja1RyYWNlXyhFcnJvcihcImNyZWF0ZWRcIikpLCB0aGlzLmN1cnJlbnRTdGVwXyA9IDApO1xuICBpZiAocmVzb2x2ZXIgIT0gZ29vZy5mdW5jdGlvbnMuVU5ERUZJTkVEKSB7XG4gICAgdHJ5IHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgIHJlc29sdmVyLmNhbGwob3B0X2NvbnRleHQsIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIHNlbGYucmVzb2x2ZV8oZ29vZy5Qcm9taXNlLlN0YXRlXy5GVUxGSUxMRUQsIHZhbHVlKTtcbiAgICAgIH0sIGZ1bmN0aW9uKHJlYXNvbikge1xuICAgICAgICBpZiAoZ29vZy5ERUJVRyAmJiAhKHJlYXNvbiBpbnN0YW5jZW9mIGdvb2cuUHJvbWlzZS5DYW5jZWxsYXRpb25FcnJvcikpIHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKHJlYXNvbiBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgICAgICAgIHRocm93IHJlYXNvbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRocm93IEVycm9yKFwiUHJvbWlzZSByZWplY3RlZC5cIik7XG4gICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBzZWxmLnJlc29sdmVfKGdvb2cuUHJvbWlzZS5TdGF0ZV8uUkVKRUNURUQsIHJlYXNvbik7XG4gICAgICB9KTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICB0aGlzLnJlc29sdmVfKGdvb2cuUHJvbWlzZS5TdGF0ZV8uUkVKRUNURUQsIGUpO1xuICAgIH1cbiAgfVxufTtcbmdvb2cuUHJvbWlzZS5MT05HX1NUQUNLX1RSQUNFUyA9ICExO1xuZ29vZy5Qcm9taXNlLlVOSEFORExFRF9SRUpFQ1RJT05fREVMQVkgPSAwO1xuZ29vZy5Qcm9taXNlLlN0YXRlXyA9IHtQRU5ESU5HOjAsIEJMT0NLRUQ6MSwgRlVMRklMTEVEOjIsIFJFSkVDVEVEOjN9O1xuZ29vZy5Qcm9taXNlLkNhbGxiYWNrRW50cnlfID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMubmV4dCA9IHRoaXMuY29udGV4dCA9IHRoaXMub25SZWplY3RlZCA9IHRoaXMub25GdWxmaWxsZWQgPSB0aGlzLmNoaWxkID0gbnVsbDtcbiAgdGhpcy5hbHdheXMgPSAhMTtcbn07XG5nb29nLlByb21pc2UuQ2FsbGJhY2tFbnRyeV8ucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMuY29udGV4dCA9IHRoaXMub25SZWplY3RlZCA9IHRoaXMub25GdWxmaWxsZWQgPSB0aGlzLmNoaWxkID0gbnVsbDtcbiAgdGhpcy5hbHdheXMgPSAhMTtcbn07XG5nb29nLlByb21pc2UuREVGQVVMVF9NQVhfVU5VU0VEID0gMTAwO1xuZ29vZy5Qcm9taXNlLmZyZWVsaXN0XyA9IG5ldyBtb2R1bGUkY29udGVudHMkZ29vZyRhc3luYyRGcmVlTGlzdF9GcmVlTGlzdChmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG5ldyBnb29nLlByb21pc2UuQ2FsbGJhY2tFbnRyeV8oKTtcbn0sIGZ1bmN0aW9uKGl0ZW0pIHtcbiAgaXRlbS5yZXNldCgpO1xufSwgZ29vZy5Qcm9taXNlLkRFRkFVTFRfTUFYX1VOVVNFRCk7XG5nb29nLlByb21pc2UuZ2V0Q2FsbGJhY2tFbnRyeV8gPSBmdW5jdGlvbihvbkZ1bGZpbGxlZCwgb25SZWplY3RlZCwgY29udGV4dCkge1xuICB2YXIgZW50cnkgPSBnb29nLlByb21pc2UuZnJlZWxpc3RfLmdldCgpO1xuICBlbnRyeS5vbkZ1bGZpbGxlZCA9IG9uRnVsZmlsbGVkO1xuICBlbnRyeS5vblJlamVjdGVkID0gb25SZWplY3RlZDtcbiAgZW50cnkuY29udGV4dCA9IGNvbnRleHQ7XG4gIHJldHVybiBlbnRyeTtcbn07XG5nb29nLlByb21pc2UucmV0dXJuRW50cnlfID0gZnVuY3Rpb24oZW50cnkpIHtcbiAgZ29vZy5Qcm9taXNlLmZyZWVsaXN0Xy5wdXQoZW50cnkpO1xufTtcbmdvb2cuUHJvbWlzZS5yZXNvbHZlID0gZnVuY3Rpb24ob3B0X3ZhbHVlKSB7XG4gIGlmIChvcHRfdmFsdWUgaW5zdGFuY2VvZiBnb29nLlByb21pc2UpIHtcbiAgICByZXR1cm4gb3B0X3ZhbHVlO1xuICB9XG4gIHZhciBwcm9taXNlID0gbmV3IGdvb2cuUHJvbWlzZShnb29nLmZ1bmN0aW9ucy5VTkRFRklORUQpO1xuICBwcm9taXNlLnJlc29sdmVfKGdvb2cuUHJvbWlzZS5TdGF0ZV8uRlVMRklMTEVELCBvcHRfdmFsdWUpO1xuICByZXR1cm4gcHJvbWlzZTtcbn07XG5nb29nLlByb21pc2UucmVqZWN0ID0gZnVuY3Rpb24ob3B0X3JlYXNvbikge1xuICByZXR1cm4gbmV3IGdvb2cuUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICByZWplY3Qob3B0X3JlYXNvbik7XG4gIH0pO1xufTtcbmdvb2cuUHJvbWlzZS5yZXNvbHZlVGhlbl8gPSBmdW5jdGlvbih2YWx1ZSwgb25GdWxmaWxsZWQsIG9uUmVqZWN0ZWQpIHtcbiAgZ29vZy5Qcm9taXNlLm1heWJlVGhlbl8odmFsdWUsIG9uRnVsZmlsbGVkLCBvblJlamVjdGVkLCBudWxsKSB8fCBtb2R1bGUkY29udGVudHMkZ29vZyRhc3luYyRydW5fcnVuKGdvb2cucGFydGlhbChvbkZ1bGZpbGxlZCwgdmFsdWUpKTtcbn07XG5nb29nLlByb21pc2UucmFjZSA9IGZ1bmN0aW9uKHByb21pc2VzKSB7XG4gIHJldHVybiBuZXcgZ29vZy5Qcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgIHByb21pc2VzLmxlbmd0aCB8fCByZXNvbHZlKHZvaWQgMCk7XG4gICAgZm9yICh2YXIgaSA9IDAsIHByb21pc2U7IGkgPCBwcm9taXNlcy5sZW5ndGg7IGkrKykge1xuICAgICAgcHJvbWlzZSA9IHByb21pc2VzW2ldLCBnb29nLlByb21pc2UucmVzb2x2ZVRoZW5fKHByb21pc2UsIHJlc29sdmUsIHJlamVjdCk7XG4gICAgfVxuICB9KTtcbn07XG5nb29nLlByb21pc2UuYWxsID0gZnVuY3Rpb24ocHJvbWlzZXMpIHtcbiAgcmV0dXJuIG5ldyBnb29nLlByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgdmFyIHRvRnVsZmlsbCA9IHByb21pc2VzLmxlbmd0aCwgdmFsdWVzID0gW107XG4gICAgaWYgKHRvRnVsZmlsbCkge1xuICAgICAgZm9yICh2YXIgb25GdWxmaWxsID0gZnVuY3Rpb24oaW5kZXgsIHZhbHVlKSB7XG4gICAgICAgIHRvRnVsZmlsbC0tO1xuICAgICAgICB2YWx1ZXNbaW5kZXhdID0gdmFsdWU7XG4gICAgICAgIDAgPT0gdG9GdWxmaWxsICYmIHJlc29sdmUodmFsdWVzKTtcbiAgICAgIH0sIG9uUmVqZWN0ID0gZnVuY3Rpb24ocmVhc29uKSB7XG4gICAgICAgIHJlamVjdChyZWFzb24pO1xuICAgICAgfSwgaSA9IDAsIHByb21pc2U7IGkgPCBwcm9taXNlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBwcm9taXNlID0gcHJvbWlzZXNbaV0sIGdvb2cuUHJvbWlzZS5yZXNvbHZlVGhlbl8ocHJvbWlzZSwgZ29vZy5wYXJ0aWFsKG9uRnVsZmlsbCwgaSksIG9uUmVqZWN0KTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcmVzb2x2ZSh2YWx1ZXMpO1xuICAgIH1cbiAgfSk7XG59O1xuZ29vZy5Qcm9taXNlLmFsbFNldHRsZWQgPSBmdW5jdGlvbihwcm9taXNlcykge1xuICByZXR1cm4gbmV3IGdvb2cuUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICB2YXIgdG9TZXR0bGUgPSBwcm9taXNlcy5sZW5ndGgsIHJlc3VsdHMgPSBbXTtcbiAgICBpZiAodG9TZXR0bGUpIHtcbiAgICAgIGZvciAodmFyIG9uU2V0dGxlZCA9IGZ1bmN0aW9uKGluZGV4LCBmdWxmaWxsZWQsIHJlc3VsdCkge1xuICAgICAgICB0b1NldHRsZS0tO1xuICAgICAgICByZXN1bHRzW2luZGV4XSA9IGZ1bGZpbGxlZCA/IHtmdWxmaWxsZWQ6ITAsIHZhbHVlOnJlc3VsdH0gOiB7ZnVsZmlsbGVkOiExLCByZWFzb246cmVzdWx0fTtcbiAgICAgICAgMCA9PSB0b1NldHRsZSAmJiByZXNvbHZlKHJlc3VsdHMpO1xuICAgICAgfSwgaSA9IDAsIHByb21pc2U7IGkgPCBwcm9taXNlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBwcm9taXNlID0gcHJvbWlzZXNbaV0sIGdvb2cuUHJvbWlzZS5yZXNvbHZlVGhlbl8ocHJvbWlzZSwgZ29vZy5wYXJ0aWFsKG9uU2V0dGxlZCwgaSwgITApLCBnb29nLnBhcnRpYWwob25TZXR0bGVkLCBpLCAhMSkpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZXNvbHZlKHJlc3VsdHMpO1xuICAgIH1cbiAgfSk7XG59O1xuZ29vZy5Qcm9taXNlLmZpcnN0RnVsZmlsbGVkID0gZnVuY3Rpb24ocHJvbWlzZXMpIHtcbiAgcmV0dXJuIG5ldyBnb29nLlByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgdmFyIHRvUmVqZWN0ID0gcHJvbWlzZXMubGVuZ3RoLCByZWFzb25zID0gW107XG4gICAgaWYgKHRvUmVqZWN0KSB7XG4gICAgICBmb3IgKHZhciBvbkZ1bGZpbGwgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICByZXNvbHZlKHZhbHVlKTtcbiAgICAgIH0sIG9uUmVqZWN0ID0gZnVuY3Rpb24oaW5kZXgsIHJlYXNvbikge1xuICAgICAgICB0b1JlamVjdC0tO1xuICAgICAgICByZWFzb25zW2luZGV4XSA9IHJlYXNvbjtcbiAgICAgICAgMCA9PSB0b1JlamVjdCAmJiByZWplY3QocmVhc29ucyk7XG4gICAgICB9LCBpID0gMCwgcHJvbWlzZTsgaSA8IHByb21pc2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHByb21pc2UgPSBwcm9taXNlc1tpXSwgZ29vZy5Qcm9taXNlLnJlc29sdmVUaGVuXyhwcm9taXNlLCBvbkZ1bGZpbGwsIGdvb2cucGFydGlhbChvblJlamVjdCwgaSkpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZXNvbHZlKHZvaWQgMCk7XG4gICAgfVxuICB9KTtcbn07XG5nb29nLlByb21pc2Uud2l0aFJlc29sdmVyID0gZnVuY3Rpb24oKSB7XG4gIHZhciByZXNvbHZlLCByZWplY3QsIHByb21pc2UgPSBuZXcgZ29vZy5Qcm9taXNlKGZ1bmN0aW9uKHJzLCByaikge1xuICAgIHJlc29sdmUgPSBycztcbiAgICByZWplY3QgPSByajtcbiAgfSk7XG4gIHJldHVybiBuZXcgZ29vZy5Qcm9taXNlLlJlc29sdmVyXyhwcm9taXNlLCByZXNvbHZlLCByZWplY3QpO1xufTtcbmdvb2cuUHJvbWlzZS5wcm90b3R5cGUudGhlbiA9IGZ1bmN0aW9uKG9wdF9vbkZ1bGZpbGxlZCwgb3B0X29uUmVqZWN0ZWQsIG9wdF9jb250ZXh0KSB7XG4gIG51bGwgIT0gb3B0X29uRnVsZmlsbGVkICYmIGdvb2cuYXNzZXJ0cy5hc3NlcnRGdW5jdGlvbihvcHRfb25GdWxmaWxsZWQsIFwib3B0X29uRnVsZmlsbGVkIHNob3VsZCBiZSBhIGZ1bmN0aW9uLlwiKTtcbiAgbnVsbCAhPSBvcHRfb25SZWplY3RlZCAmJiBnb29nLmFzc2VydHMuYXNzZXJ0RnVuY3Rpb24ob3B0X29uUmVqZWN0ZWQsIFwib3B0X29uUmVqZWN0ZWQgc2hvdWxkIGJlIGEgZnVuY3Rpb24uIERpZCB5b3UgcGFzcyBvcHRfY29udGV4dCBhcyB0aGUgc2Vjb25kIGFyZ3VtZW50IGluc3RlYWQgb2YgdGhlIHRoaXJkP1wiKTtcbiAgZ29vZy5Qcm9taXNlLkxPTkdfU1RBQ0tfVFJBQ0VTICYmIHRoaXMuYWRkU3RhY2tUcmFjZV8oRXJyb3IoXCJ0aGVuXCIpKTtcbiAgcmV0dXJuIHRoaXMuYWRkQ2hpbGRQcm9taXNlXyhcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBvcHRfb25GdWxmaWxsZWQgPyBvcHRfb25GdWxmaWxsZWQgOiBudWxsLCBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBvcHRfb25SZWplY3RlZCA/IG9wdF9vblJlamVjdGVkIDogbnVsbCwgb3B0X2NvbnRleHQpO1xufTtcbm1vZHVsZSRjb250ZW50cyRnb29nJFRoZW5hYmxlX1RoZW5hYmxlLmFkZEltcGxlbWVudGF0aW9uKGdvb2cuUHJvbWlzZSk7XG5nb29nLlByb21pc2UucHJvdG90eXBlLnRoZW5Wb2lkID0gZnVuY3Rpb24ob3B0X29uRnVsZmlsbGVkLCBvcHRfb25SZWplY3RlZCwgb3B0X2NvbnRleHQpIHtcbiAgbnVsbCAhPSBvcHRfb25GdWxmaWxsZWQgJiYgZ29vZy5hc3NlcnRzLmFzc2VydEZ1bmN0aW9uKG9wdF9vbkZ1bGZpbGxlZCwgXCJvcHRfb25GdWxmaWxsZWQgc2hvdWxkIGJlIGEgZnVuY3Rpb24uXCIpO1xuICBudWxsICE9IG9wdF9vblJlamVjdGVkICYmIGdvb2cuYXNzZXJ0cy5hc3NlcnRGdW5jdGlvbihvcHRfb25SZWplY3RlZCwgXCJvcHRfb25SZWplY3RlZCBzaG91bGQgYmUgYSBmdW5jdGlvbi4gRGlkIHlvdSBwYXNzIG9wdF9jb250ZXh0IGFzIHRoZSBzZWNvbmQgYXJndW1lbnQgaW5zdGVhZCBvZiB0aGUgdGhpcmQ/XCIpO1xuICBnb29nLlByb21pc2UuTE9OR19TVEFDS19UUkFDRVMgJiYgdGhpcy5hZGRTdGFja1RyYWNlXyhFcnJvcihcInRoZW5cIikpO1xuICB0aGlzLmFkZENhbGxiYWNrRW50cnlfKGdvb2cuUHJvbWlzZS5nZXRDYWxsYmFja0VudHJ5XyhvcHRfb25GdWxmaWxsZWQgfHwgZ29vZy5mdW5jdGlvbnMuVU5ERUZJTkVELCBvcHRfb25SZWplY3RlZCB8fCBudWxsLCBvcHRfY29udGV4dCkpO1xufTtcbmdvb2cuUHJvbWlzZS5wcm90b3R5cGUudGhlbkFsd2F5cyA9IGZ1bmN0aW9uKG9uU2V0dGxlZCwgb3B0X2NvbnRleHQpIHtcbiAgZ29vZy5Qcm9taXNlLkxPTkdfU1RBQ0tfVFJBQ0VTICYmIHRoaXMuYWRkU3RhY2tUcmFjZV8oRXJyb3IoXCJ0aGVuQWx3YXlzXCIpKTtcbiAgdmFyIGVudHJ5ID0gZ29vZy5Qcm9taXNlLmdldENhbGxiYWNrRW50cnlfKG9uU2V0dGxlZCwgb25TZXR0bGVkLCBvcHRfY29udGV4dCk7XG4gIGVudHJ5LmFsd2F5cyA9ICEwO1xuICB0aGlzLmFkZENhbGxiYWNrRW50cnlfKGVudHJ5KTtcbiAgcmV0dXJuIHRoaXM7XG59O1xuZ29vZy5Qcm9taXNlLnByb3RvdHlwZS50aGVuQ2F0Y2ggPSBmdW5jdGlvbihvblJlamVjdGVkLCBvcHRfY29udGV4dCkge1xuICBnb29nLlByb21pc2UuTE9OR19TVEFDS19UUkFDRVMgJiYgdGhpcy5hZGRTdGFja1RyYWNlXyhFcnJvcihcInRoZW5DYXRjaFwiKSk7XG4gIHJldHVybiB0aGlzLmFkZENoaWxkUHJvbWlzZV8obnVsbCwgb25SZWplY3RlZCwgb3B0X2NvbnRleHQpO1xufTtcbmdvb2cuUHJvbWlzZS5wcm90b3R5cGUuY2F0Y2ggPSBnb29nLlByb21pc2UucHJvdG90eXBlLnRoZW5DYXRjaDtcbmdvb2cuUHJvbWlzZS5wcm90b3R5cGUuY2FuY2VsID0gZnVuY3Rpb24ob3B0X21lc3NhZ2UpIHtcbiAgaWYgKHRoaXMuc3RhdGVfID09IGdvb2cuUHJvbWlzZS5TdGF0ZV8uUEVORElORykge1xuICAgIHZhciBlcnIgPSBuZXcgZ29vZy5Qcm9taXNlLkNhbmNlbGxhdGlvbkVycm9yKG9wdF9tZXNzYWdlKTtcbiAgICBtb2R1bGUkY29udGVudHMkZ29vZyRhc3luYyRydW5fcnVuKGZ1bmN0aW9uKCkge1xuICAgICAgdGhpcy5jYW5jZWxJbnRlcm5hbF8oZXJyKTtcbiAgICB9LCB0aGlzKTtcbiAgfVxufTtcbmdvb2cuUHJvbWlzZS5wcm90b3R5cGUuY2FuY2VsSW50ZXJuYWxfID0gZnVuY3Rpb24oZXJyKSB7XG4gIHRoaXMuc3RhdGVfID09IGdvb2cuUHJvbWlzZS5TdGF0ZV8uUEVORElORyAmJiAodGhpcy5wYXJlbnRfID8gKHRoaXMucGFyZW50Xy5jYW5jZWxDaGlsZF8odGhpcywgZXJyKSwgdGhpcy5wYXJlbnRfID0gbnVsbCkgOiB0aGlzLnJlc29sdmVfKGdvb2cuUHJvbWlzZS5TdGF0ZV8uUkVKRUNURUQsIGVycikpO1xufTtcbmdvb2cuUHJvbWlzZS5wcm90b3R5cGUuY2FuY2VsQ2hpbGRfID0gZnVuY3Rpb24oY2hpbGRQcm9taXNlLCBlcnIpIHtcbiAgaWYgKHRoaXMuY2FsbGJhY2tFbnRyaWVzXykge1xuICAgIGZvciAodmFyIGNoaWxkQ291bnQgPSAwLCBjaGlsZEVudHJ5ID0gbnVsbCwgYmVmb3JlQ2hpbGRFbnRyeSA9IG51bGwsIGVudHJ5ID0gdGhpcy5jYWxsYmFja0VudHJpZXNfOyBlbnRyeSAmJiAoZW50cnkuYWx3YXlzIHx8IChjaGlsZENvdW50KyssIGVudHJ5LmNoaWxkID09IGNoaWxkUHJvbWlzZSAmJiAoY2hpbGRFbnRyeSA9IGVudHJ5KSwgIShjaGlsZEVudHJ5ICYmIDEgPCBjaGlsZENvdW50KSkpOyBlbnRyeSA9IGVudHJ5Lm5leHQpIHtcbiAgICAgIGNoaWxkRW50cnkgfHwgKGJlZm9yZUNoaWxkRW50cnkgPSBlbnRyeSk7XG4gICAgfVxuICAgIGNoaWxkRW50cnkgJiYgKHRoaXMuc3RhdGVfID09IGdvb2cuUHJvbWlzZS5TdGF0ZV8uUEVORElORyAmJiAxID09IGNoaWxkQ291bnQgPyB0aGlzLmNhbmNlbEludGVybmFsXyhlcnIpIDogKGJlZm9yZUNoaWxkRW50cnkgPyB0aGlzLnJlbW92ZUVudHJ5QWZ0ZXJfKGJlZm9yZUNoaWxkRW50cnkpIDogdGhpcy5wb3BFbnRyeV8oKSwgdGhpcy5leGVjdXRlQ2FsbGJhY2tfKGNoaWxkRW50cnksIGdvb2cuUHJvbWlzZS5TdGF0ZV8uUkVKRUNURUQsIGVycikpKTtcbiAgfVxufTtcbmdvb2cuUHJvbWlzZS5wcm90b3R5cGUuYWRkQ2FsbGJhY2tFbnRyeV8gPSBmdW5jdGlvbihjYWxsYmFja0VudHJ5KSB7XG4gIHRoaXMuaGFzRW50cnlfKCkgfHwgdGhpcy5zdGF0ZV8gIT0gZ29vZy5Qcm9taXNlLlN0YXRlXy5GVUxGSUxMRUQgJiYgdGhpcy5zdGF0ZV8gIT0gZ29vZy5Qcm9taXNlLlN0YXRlXy5SRUpFQ1RFRCB8fCB0aGlzLnNjaGVkdWxlQ2FsbGJhY2tzXygpO1xuICB0aGlzLnF1ZXVlRW50cnlfKGNhbGxiYWNrRW50cnkpO1xufTtcbmdvb2cuUHJvbWlzZS5wcm90b3R5cGUuYWRkQ2hpbGRQcm9taXNlXyA9IGZ1bmN0aW9uKG9uRnVsZmlsbGVkLCBvblJlamVjdGVkLCBvcHRfY29udGV4dCkge1xuICBvbkZ1bGZpbGxlZCAmJiAob25GdWxmaWxsZWQgPSBtb2R1bGUkY29udGVudHMkZ29vZyRkZWJ1ZyRhc3luY1N0YWNrVGFnX3dyYXAob25GdWxmaWxsZWQsIFwiZ29vZy5Qcm9taXNlLnRoZW5cIikpO1xuICBvblJlamVjdGVkICYmIChvblJlamVjdGVkID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckZGVidWckYXN5bmNTdGFja1RhZ193cmFwKG9uUmVqZWN0ZWQsIFwiZ29vZy5Qcm9taXNlLnRoZW5cIikpO1xuICB2YXIgY2FsbGJhY2tFbnRyeSA9IGdvb2cuUHJvbWlzZS5nZXRDYWxsYmFja0VudHJ5XyhudWxsLCBudWxsLCBudWxsKTtcbiAgY2FsbGJhY2tFbnRyeS5jaGlsZCA9IG5ldyBnb29nLlByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgY2FsbGJhY2tFbnRyeS5vbkZ1bGZpbGxlZCA9IG9uRnVsZmlsbGVkID8gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHZhciByZXN1bHQgPSBvbkZ1bGZpbGxlZC5jYWxsKG9wdF9jb250ZXh0LCB2YWx1ZSk7XG4gICAgICAgIHJlc29sdmUocmVzdWx0KTtcbiAgICAgIH0gY2F0Y2ggKGVyciQ1Mykge1xuICAgICAgICByZWplY3QoZXJyJDUzKTtcbiAgICAgIH1cbiAgICB9IDogcmVzb2x2ZTtcbiAgICBjYWxsYmFja0VudHJ5Lm9uUmVqZWN0ZWQgPSBvblJlamVjdGVkID8gZnVuY3Rpb24ocmVhc29uKSB7XG4gICAgICB0cnkge1xuICAgICAgICB2YXIgcmVzdWx0ID0gb25SZWplY3RlZC5jYWxsKG9wdF9jb250ZXh0LCByZWFzb24pO1xuICAgICAgICB2b2lkIDAgPT09IHJlc3VsdCAmJiByZWFzb24gaW5zdGFuY2VvZiBnb29nLlByb21pc2UuQ2FuY2VsbGF0aW9uRXJyb3IgPyByZWplY3QocmVhc29uKSA6IHJlc29sdmUocmVzdWx0KTtcbiAgICAgIH0gY2F0Y2ggKGVyciQ1NCkge1xuICAgICAgICByZWplY3QoZXJyJDU0KTtcbiAgICAgIH1cbiAgICB9IDogcmVqZWN0O1xuICB9KTtcbiAgY2FsbGJhY2tFbnRyeS5jaGlsZC5wYXJlbnRfID0gdGhpcztcbiAgdGhpcy5hZGRDYWxsYmFja0VudHJ5XyhjYWxsYmFja0VudHJ5KTtcbiAgcmV0dXJuIGNhbGxiYWNrRW50cnkuY2hpbGQ7XG59O1xuZ29vZy5Qcm9taXNlLnByb3RvdHlwZS51bmJsb2NrQW5kRnVsZmlsbF8gPSBmdW5jdGlvbih2YWx1ZSkge1xuICBnb29nLmFzc2VydHMuYXNzZXJ0KHRoaXMuc3RhdGVfID09IGdvb2cuUHJvbWlzZS5TdGF0ZV8uQkxPQ0tFRCk7XG4gIHRoaXMuc3RhdGVfID0gZ29vZy5Qcm9taXNlLlN0YXRlXy5QRU5ESU5HO1xuICB0aGlzLnJlc29sdmVfKGdvb2cuUHJvbWlzZS5TdGF0ZV8uRlVMRklMTEVELCB2YWx1ZSk7XG59O1xuZ29vZy5Qcm9taXNlLnByb3RvdHlwZS51bmJsb2NrQW5kUmVqZWN0XyA9IGZ1bmN0aW9uKHJlYXNvbikge1xuICBnb29nLmFzc2VydHMuYXNzZXJ0KHRoaXMuc3RhdGVfID09IGdvb2cuUHJvbWlzZS5TdGF0ZV8uQkxPQ0tFRCk7XG4gIHRoaXMuc3RhdGVfID0gZ29vZy5Qcm9taXNlLlN0YXRlXy5QRU5ESU5HO1xuICB0aGlzLnJlc29sdmVfKGdvb2cuUHJvbWlzZS5TdGF0ZV8uUkVKRUNURUQsIHJlYXNvbik7XG59O1xuZ29vZy5Qcm9taXNlLnByb3RvdHlwZS5yZXNvbHZlXyA9IGZ1bmN0aW9uKHN0YXRlLCB4KSB7XG4gIHRoaXMuc3RhdGVfID09IGdvb2cuUHJvbWlzZS5TdGF0ZV8uUEVORElORyAmJiAodGhpcyA9PT0geCAmJiAoc3RhdGUgPSBnb29nLlByb21pc2UuU3RhdGVfLlJFSkVDVEVELCB4ID0gbmV3IFR5cGVFcnJvcihcIlByb21pc2UgY2Fubm90IHJlc29sdmUgdG8gaXRzZWxmXCIpKSwgdGhpcy5zdGF0ZV8gPSBnb29nLlByb21pc2UuU3RhdGVfLkJMT0NLRUQsIGdvb2cuUHJvbWlzZS5tYXliZVRoZW5fKHgsIHRoaXMudW5ibG9ja0FuZEZ1bGZpbGxfLCB0aGlzLnVuYmxvY2tBbmRSZWplY3RfLCB0aGlzKSB8fCAodGhpcy5yZXN1bHRfID0geCwgdGhpcy5zdGF0ZV8gPSBzdGF0ZSwgdGhpcy5wYXJlbnRfID0gbnVsbCwgdGhpcy5zY2hlZHVsZUNhbGxiYWNrc18oKSwgc3RhdGUgIT0gZ29vZy5Qcm9taXNlLlN0YXRlXy5SRUpFQ1RFRCB8fCB4IGluc3RhbmNlb2YgZ29vZy5Qcm9taXNlLkNhbmNlbGxhdGlvbkVycm9yIHx8IGdvb2cuUHJvbWlzZS5hZGRVbmhhbmRsZWRSZWplY3Rpb25fKHRoaXMsIFxuICB4KSkpO1xufTtcbmdvb2cuUHJvbWlzZS5tYXliZVRoZW5fID0gZnVuY3Rpb24odmFsdWUsIG9uRnVsZmlsbGVkLCBvblJlamVjdGVkLCBjb250ZXh0KSB7XG4gIGlmICh2YWx1ZSBpbnN0YW5jZW9mIGdvb2cuUHJvbWlzZSkge1xuICAgIHJldHVybiB2YWx1ZS50aGVuVm9pZChvbkZ1bGZpbGxlZCwgb25SZWplY3RlZCwgY29udGV4dCksICEwO1xuICB9XG4gIGlmIChtb2R1bGUkY29udGVudHMkZ29vZyRUaGVuYWJsZV9UaGVuYWJsZS5pc0ltcGxlbWVudGVkQnkodmFsdWUpKSB7XG4gICAgcmV0dXJuIHZhbHVlLnRoZW4ob25GdWxmaWxsZWQsIG9uUmVqZWN0ZWQsIGNvbnRleHQpLCAhMDtcbiAgfVxuICBpZiAoZ29vZy5pc09iamVjdCh2YWx1ZSkpIHtcbiAgICB0cnkge1xuICAgICAgdmFyIHRoZW4gPSB2YWx1ZS50aGVuO1xuICAgICAgaWYgKFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIHRoZW4pIHtcbiAgICAgICAgcmV0dXJuIGdvb2cuUHJvbWlzZS50cnlUaGVuXyh2YWx1ZSwgdGhlbiwgb25GdWxmaWxsZWQsIG9uUmVqZWN0ZWQsIGNvbnRleHQpLCAhMDtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICByZXR1cm4gb25SZWplY3RlZC5jYWxsKGNvbnRleHQsIGUpLCAhMDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuICExO1xufTtcbmdvb2cuUHJvbWlzZS50cnlUaGVuXyA9IGZ1bmN0aW9uKHRoZW5hYmxlLCB0aGVuLCBvbkZ1bGZpbGxlZCwgb25SZWplY3RlZCwgY29udGV4dCkge1xuICB2YXIgY2FsbGVkID0gITEsIHJlc29sdmUgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgIGNhbGxlZCB8fCAoY2FsbGVkID0gITAsIG9uRnVsZmlsbGVkLmNhbGwoY29udGV4dCwgdmFsdWUpKTtcbiAgfSwgcmVqZWN0ID0gZnVuY3Rpb24ocmVhc29uKSB7XG4gICAgY2FsbGVkIHx8IChjYWxsZWQgPSAhMCwgb25SZWplY3RlZC5jYWxsKGNvbnRleHQsIHJlYXNvbikpO1xuICB9O1xuICB0cnkge1xuICAgIHRoZW4uY2FsbCh0aGVuYWJsZSwgcmVzb2x2ZSwgcmVqZWN0KTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHJlamVjdChlKTtcbiAgfVxufTtcbmdvb2cuUHJvbWlzZS5wcm90b3R5cGUuc2NoZWR1bGVDYWxsYmFja3NfID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMuZXhlY3V0aW5nXyB8fCAodGhpcy5leGVjdXRpbmdfID0gITAsIG1vZHVsZSRjb250ZW50cyRnb29nJGFzeW5jJHJ1bl9ydW4odGhpcy5leGVjdXRlQ2FsbGJhY2tzXywgdGhpcykpO1xufTtcbmdvb2cuUHJvbWlzZS5wcm90b3R5cGUuaGFzRW50cnlfID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiAhIXRoaXMuY2FsbGJhY2tFbnRyaWVzXztcbn07XG5nb29nLlByb21pc2UucHJvdG90eXBlLnF1ZXVlRW50cnlfID0gZnVuY3Rpb24oZW50cnkpIHtcbiAgZ29vZy5hc3NlcnRzLmFzc2VydChudWxsICE9IGVudHJ5Lm9uRnVsZmlsbGVkKTtcbiAgdGhpcy5jYWxsYmFja0VudHJpZXNUYWlsXyA/IHRoaXMuY2FsbGJhY2tFbnRyaWVzVGFpbF8ubmV4dCA9IGVudHJ5IDogdGhpcy5jYWxsYmFja0VudHJpZXNfID0gZW50cnk7XG4gIHRoaXMuY2FsbGJhY2tFbnRyaWVzVGFpbF8gPSBlbnRyeTtcbn07XG5nb29nLlByb21pc2UucHJvdG90eXBlLnBvcEVudHJ5XyA9IGZ1bmN0aW9uKCkge1xuICB2YXIgZW50cnkgPSBudWxsO1xuICB0aGlzLmNhbGxiYWNrRW50cmllc18gJiYgKGVudHJ5ID0gdGhpcy5jYWxsYmFja0VudHJpZXNfLCB0aGlzLmNhbGxiYWNrRW50cmllc18gPSBlbnRyeS5uZXh0LCBlbnRyeS5uZXh0ID0gbnVsbCk7XG4gIHRoaXMuY2FsbGJhY2tFbnRyaWVzXyB8fCAodGhpcy5jYWxsYmFja0VudHJpZXNUYWlsXyA9IG51bGwpO1xuICBudWxsICE9IGVudHJ5ICYmIGdvb2cuYXNzZXJ0cy5hc3NlcnQobnVsbCAhPSBlbnRyeS5vbkZ1bGZpbGxlZCk7XG4gIHJldHVybiBlbnRyeTtcbn07XG5nb29nLlByb21pc2UucHJvdG90eXBlLnJlbW92ZUVudHJ5QWZ0ZXJfID0gZnVuY3Rpb24ocHJldmlvdXMpIHtcbiAgZ29vZy5hc3NlcnRzLmFzc2VydCh0aGlzLmNhbGxiYWNrRW50cmllc18pO1xuICBnb29nLmFzc2VydHMuYXNzZXJ0KG51bGwgIT0gcHJldmlvdXMpO1xuICBwcmV2aW91cy5uZXh0ID09IHRoaXMuY2FsbGJhY2tFbnRyaWVzVGFpbF8gJiYgKHRoaXMuY2FsbGJhY2tFbnRyaWVzVGFpbF8gPSBwcmV2aW91cyk7XG4gIHByZXZpb3VzLm5leHQgPSBwcmV2aW91cy5uZXh0Lm5leHQ7XG59O1xuZ29vZy5Qcm9taXNlLnByb3RvdHlwZS5leGVjdXRlQ2FsbGJhY2tzXyA9IGZ1bmN0aW9uKCkge1xuICBmb3IgKHZhciBlbnRyeSA9IG51bGw7IGVudHJ5ID0gdGhpcy5wb3BFbnRyeV8oKTspIHtcbiAgICBnb29nLlByb21pc2UuTE9OR19TVEFDS19UUkFDRVMgJiYgdGhpcy5jdXJyZW50U3RlcF8rKywgdGhpcy5leGVjdXRlQ2FsbGJhY2tfKGVudHJ5LCB0aGlzLnN0YXRlXywgdGhpcy5yZXN1bHRfKTtcbiAgfVxuICB0aGlzLmV4ZWN1dGluZ18gPSAhMTtcbn07XG5nb29nLlByb21pc2UucHJvdG90eXBlLmV4ZWN1dGVDYWxsYmFja18gPSBmdW5jdGlvbihjYWxsYmFja0VudHJ5LCBzdGF0ZSwgcmVzdWx0KSB7XG4gIHN0YXRlID09IGdvb2cuUHJvbWlzZS5TdGF0ZV8uUkVKRUNURUQgJiYgY2FsbGJhY2tFbnRyeS5vblJlamVjdGVkICYmICFjYWxsYmFja0VudHJ5LmFsd2F5cyAmJiB0aGlzLnJlbW92ZVVuaGFuZGxlZFJlamVjdGlvbl8oKTtcbiAgaWYgKGNhbGxiYWNrRW50cnkuY2hpbGQpIHtcbiAgICBjYWxsYmFja0VudHJ5LmNoaWxkLnBhcmVudF8gPSBudWxsLCBnb29nLlByb21pc2UuaW52b2tlQ2FsbGJhY2tfKGNhbGxiYWNrRW50cnksIHN0YXRlLCByZXN1bHQpO1xuICB9IGVsc2Uge1xuICAgIHRyeSB7XG4gICAgICBjYWxsYmFja0VudHJ5LmFsd2F5cyA/IGNhbGxiYWNrRW50cnkub25GdWxmaWxsZWQuY2FsbChjYWxsYmFja0VudHJ5LmNvbnRleHQpIDogZ29vZy5Qcm9taXNlLmludm9rZUNhbGxiYWNrXyhjYWxsYmFja0VudHJ5LCBzdGF0ZSwgcmVzdWx0KTtcbiAgICB9IGNhdGNoIChlcnIkNTUpIHtcbiAgICAgIGdvb2cuUHJvbWlzZS5oYW5kbGVSZWplY3Rpb25fLmNhbGwobnVsbCwgZXJyJDU1KTtcbiAgICB9XG4gIH1cbiAgZ29vZy5Qcm9taXNlLnJldHVybkVudHJ5XyhjYWxsYmFja0VudHJ5KTtcbn07XG5nb29nLlByb21pc2UuaW52b2tlQ2FsbGJhY2tfID0gZnVuY3Rpb24oY2FsbGJhY2tFbnRyeSwgc3RhdGUsIHJlc3VsdCkge1xuICBzdGF0ZSA9PSBnb29nLlByb21pc2UuU3RhdGVfLkZVTEZJTExFRCA/IGNhbGxiYWNrRW50cnkub25GdWxmaWxsZWQuY2FsbChjYWxsYmFja0VudHJ5LmNvbnRleHQsIHJlc3VsdCkgOiBjYWxsYmFja0VudHJ5Lm9uUmVqZWN0ZWQgJiYgY2FsbGJhY2tFbnRyeS5vblJlamVjdGVkLmNhbGwoY2FsbGJhY2tFbnRyeS5jb250ZXh0LCByZXN1bHQpO1xufTtcbmdvb2cuUHJvbWlzZS5wcm90b3R5cGUuYWRkU3RhY2tUcmFjZV8gPSBmdW5jdGlvbihlcnIpIHtcbiAgaWYgKGdvb2cuUHJvbWlzZS5MT05HX1NUQUNLX1RSQUNFUyAmJiBcInN0cmluZ1wiID09PSB0eXBlb2YgZXJyLnN0YWNrKSB7XG4gICAgdmFyIHRyYWNlID0gZXJyLnN0YWNrLnNwbGl0KFwiXFxuXCIsIDQpWzNdLCBtZXNzYWdlID0gZXJyLm1lc3NhZ2U7XG4gICAgbWVzc2FnZSArPSBBcnJheSgxMSAtIG1lc3NhZ2UubGVuZ3RoKS5qb2luKFwiIFwiKTtcbiAgICB0aGlzLnN0YWNrXy5wdXNoKG1lc3NhZ2UgKyB0cmFjZSk7XG4gIH1cbn07XG5nb29nLlByb21pc2UucHJvdG90eXBlLmFwcGVuZExvbmdTdGFja18gPSBmdW5jdGlvbihlcnIpIHtcbiAgaWYgKGdvb2cuUHJvbWlzZS5MT05HX1NUQUNLX1RSQUNFUyAmJiBlcnIgJiYgXCJzdHJpbmdcIiA9PT0gdHlwZW9mIGVyci5zdGFjayAmJiB0aGlzLnN0YWNrXy5sZW5ndGgpIHtcbiAgICBmb3IgKHZhciBsb25nVHJhY2UgPSBbXCJQcm9taXNlIHRyYWNlOlwiXSwgcHJvbWlzZSA9IHRoaXM7IHByb21pc2U7IHByb21pc2UgPSBwcm9taXNlLnBhcmVudF8pIHtcbiAgICAgIGZvciAodmFyIGkgPSB0aGlzLmN1cnJlbnRTdGVwXzsgMCA8PSBpOyBpLS0pIHtcbiAgICAgICAgbG9uZ1RyYWNlLnB1c2gocHJvbWlzZS5zdGFja19baV0pO1xuICAgICAgfVxuICAgICAgbG9uZ1RyYWNlLnB1c2goXCJWYWx1ZTogW1wiICsgKHByb21pc2Uuc3RhdGVfID09IGdvb2cuUHJvbWlzZS5TdGF0ZV8uUkVKRUNURUQgPyBcIlJFSkVDVEVEXCIgOiBcIkZVTEZJTExFRFwiKSArIFwiXSA8XCIgKyBTdHJpbmcocHJvbWlzZS5yZXN1bHRfKSArIFwiPlwiKTtcbiAgICB9XG4gICAgZXJyLnN0YWNrICs9IFwiXFxuXFxuXCIgKyBsb25nVHJhY2Uuam9pbihcIlxcblwiKTtcbiAgfVxufTtcbmdvb2cuUHJvbWlzZS5wcm90b3R5cGUucmVtb3ZlVW5oYW5kbGVkUmVqZWN0aW9uXyA9IGZ1bmN0aW9uKCkge1xuICBpZiAoMCA8IGdvb2cuUHJvbWlzZS5VTkhBTkRMRURfUkVKRUNUSU9OX0RFTEFZKSB7XG4gICAgZm9yICh2YXIgcCA9IHRoaXM7IHAgJiYgcC51bmhhbmRsZWRSZWplY3Rpb25JZF87IHAgPSBwLnBhcmVudF8pIHtcbiAgICAgIGdvb2cuZ2xvYmFsLmNsZWFyVGltZW91dChwLnVuaGFuZGxlZFJlamVjdGlvbklkXyksIHAudW5oYW5kbGVkUmVqZWN0aW9uSWRfID0gMDtcbiAgICB9XG4gIH0gZWxzZSBpZiAoMCA9PSBnb29nLlByb21pc2UuVU5IQU5ETEVEX1JFSkVDVElPTl9ERUxBWSkge1xuICAgIGZvciAocCA9IHRoaXM7IHAgJiYgcC5oYWRVbmhhbmRsZWRSZWplY3Rpb25fOyBwID0gcC5wYXJlbnRfKSB7XG4gICAgICBwLmhhZFVuaGFuZGxlZFJlamVjdGlvbl8gPSAhMTtcbiAgICB9XG4gIH1cbn07XG5nb29nLlByb21pc2UuYWRkVW5oYW5kbGVkUmVqZWN0aW9uXyA9IGZ1bmN0aW9uKHByb21pc2UsIHJlYXNvbikge1xuICAwIDwgZ29vZy5Qcm9taXNlLlVOSEFORExFRF9SRUpFQ1RJT05fREVMQVkgPyBwcm9taXNlLnVuaGFuZGxlZFJlamVjdGlvbklkXyA9IGdvb2cuZ2xvYmFsLnNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgcHJvbWlzZS5hcHBlbmRMb25nU3RhY2tfKHJlYXNvbik7XG4gICAgZ29vZy5Qcm9taXNlLmhhbmRsZVJlamVjdGlvbl8uY2FsbChudWxsLCByZWFzb24pO1xuICB9LCBnb29nLlByb21pc2UuVU5IQU5ETEVEX1JFSkVDVElPTl9ERUxBWSkgOiAwID09IGdvb2cuUHJvbWlzZS5VTkhBTkRMRURfUkVKRUNUSU9OX0RFTEFZICYmIChwcm9taXNlLmhhZFVuaGFuZGxlZFJlamVjdGlvbl8gPSAhMCwgbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXN5bmMkcnVuX3J1bihmdW5jdGlvbigpIHtcbiAgICBwcm9taXNlLmhhZFVuaGFuZGxlZFJlamVjdGlvbl8gJiYgKHByb21pc2UuYXBwZW5kTG9uZ1N0YWNrXyhyZWFzb24pLCBnb29nLlByb21pc2UuaGFuZGxlUmVqZWN0aW9uXy5jYWxsKG51bGwsIHJlYXNvbikpO1xuICB9KSk7XG59O1xuZ29vZy5Qcm9taXNlLmhhbmRsZVJlamVjdGlvbl8gPSBtb2R1bGUkY29udGVudHMkZ29vZyRhc3luYyR0aHJvd0V4Y2VwdGlvbl90aHJvd0V4Y2VwdGlvbjtcbmdvb2cuUHJvbWlzZS5zZXRVbmhhbmRsZWRSZWplY3Rpb25IYW5kbGVyID0gZnVuY3Rpb24oaGFuZGxlcikge1xuICBnb29nLlByb21pc2UuaGFuZGxlUmVqZWN0aW9uXyA9IGhhbmRsZXI7XG59O1xuZ29vZy5Qcm9taXNlLkNhbmNlbGxhdGlvbkVycm9yID0gZnVuY3Rpb24ob3B0X21lc3NhZ2UpIHtcbiAgbW9kdWxlJGNvbnRlbnRzJGdvb2ckZGVidWckRXJyb3JfRGVidWdFcnJvci5jYWxsKHRoaXMsIG9wdF9tZXNzYWdlKTtcbiAgdGhpcy5yZXBvcnRFcnJvclRvU2VydmVyID0gITE7XG59O1xuZ29vZy5pbmhlcml0cyhnb29nLlByb21pc2UuQ2FuY2VsbGF0aW9uRXJyb3IsIG1vZHVsZSRjb250ZW50cyRnb29nJGRlYnVnJEVycm9yX0RlYnVnRXJyb3IpO1xuZ29vZy5Qcm9taXNlLkNhbmNlbGxhdGlvbkVycm9yLnByb3RvdHlwZS5uYW1lID0gXCJjYW5jZWxcIjtcbmdvb2cuUHJvbWlzZS5SZXNvbHZlcl8gPSBmdW5jdGlvbihwcm9taXNlLCByZXNvbHZlLCByZWplY3QpIHtcbiAgdGhpcy5wcm9taXNlID0gcHJvbWlzZTtcbiAgdGhpcy5yZXNvbHZlID0gcmVzb2x2ZTtcbiAgdGhpcy5yZWplY3QgPSByZWplY3Q7XG59O1xuZ29vZy5UaW1lciA9IGZ1bmN0aW9uKG9wdF9pbnRlcnZhbCwgb3B0X3RpbWVyT2JqZWN0KSB7XG4gIGdvb2cuZXZlbnRzLkV2ZW50VGFyZ2V0LmNhbGwodGhpcyk7XG4gIHRoaXMuaW50ZXJ2YWxfID0gb3B0X2ludGVydmFsIHx8IDE7XG4gIHRoaXMudGltZXJPYmplY3RfID0gb3B0X3RpbWVyT2JqZWN0IHx8IGdvb2cuVGltZXIuZGVmYXVsdFRpbWVyT2JqZWN0O1xuICB0aGlzLmJvdW5kVGlja18gPSBnb29nLmJpbmQodGhpcy50aWNrXywgdGhpcyk7XG4gIHRoaXMubGFzdF8gPSBnb29nLm5vdygpO1xufTtcbmdvb2cuaW5oZXJpdHMoZ29vZy5UaW1lciwgZ29vZy5ldmVudHMuRXZlbnRUYXJnZXQpO1xuZ29vZy5UaW1lci5NQVhfVElNRU9VVF8gPSAyMTQ3NDgzNjQ3O1xuZ29vZy5UaW1lci5JTlZBTElEX1RJTUVPVVRfSURfID0gLTE7XG5nb29nLlRpbWVyLnByb3RvdHlwZS5lbmFibGVkID0gITE7XG5nb29nLlRpbWVyLmRlZmF1bHRUaW1lck9iamVjdCA9IGdvb2cuZ2xvYmFsO1xuZ29vZy5UaW1lci5pbnRlcnZhbFNjYWxlID0gLjg7XG5nb29nLlRpbWVyLnByb3RvdHlwZS50aW1lcl8gPSBudWxsO1xuZ29vZy5UaW1lci5wcm90b3R5cGUuZ2V0SW50ZXJ2YWwgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuaW50ZXJ2YWxfO1xufTtcbmdvb2cuVGltZXIucHJvdG90eXBlLnNldEludGVydmFsID0gZnVuY3Rpb24oaW50ZXJ2YWwpIHtcbiAgdGhpcy5pbnRlcnZhbF8gPSBpbnRlcnZhbDtcbiAgdGhpcy50aW1lcl8gJiYgdGhpcy5lbmFibGVkID8gKHRoaXMuc3RvcCgpLCB0aGlzLnN0YXJ0KCkpIDogdGhpcy50aW1lcl8gJiYgdGhpcy5zdG9wKCk7XG59O1xuZ29vZy5UaW1lci5wcm90b3R5cGUudGlja18gPSBmdW5jdGlvbigpIHtcbiAgaWYgKHRoaXMuZW5hYmxlZCkge1xuICAgIHZhciBlbGFwc2VkID0gZ29vZy5ub3coKSAtIHRoaXMubGFzdF87XG4gICAgMCA8IGVsYXBzZWQgJiYgZWxhcHNlZCA8IHRoaXMuaW50ZXJ2YWxfICogZ29vZy5UaW1lci5pbnRlcnZhbFNjYWxlID8gdGhpcy50aW1lcl8gPSB0aGlzLnRpbWVyT2JqZWN0Xy5zZXRUaW1lb3V0KHRoaXMuYm91bmRUaWNrXywgdGhpcy5pbnRlcnZhbF8gLSBlbGFwc2VkKSA6ICh0aGlzLnRpbWVyXyAmJiAodGhpcy50aW1lck9iamVjdF8uY2xlYXJUaW1lb3V0KHRoaXMudGltZXJfKSwgdGhpcy50aW1lcl8gPSBudWxsKSwgdGhpcy5kaXNwYXRjaFRpY2soKSwgdGhpcy5lbmFibGVkICYmICh0aGlzLnN0b3AoKSwgdGhpcy5zdGFydCgpKSk7XG4gIH1cbn07XG5nb29nLlRpbWVyLnByb3RvdHlwZS5kaXNwYXRjaFRpY2sgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5kaXNwYXRjaEV2ZW50KGdvb2cuVGltZXIuVElDSyk7XG59O1xuZ29vZy5UaW1lci5wcm90b3R5cGUuc3RhcnQgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5lbmFibGVkID0gITA7XG4gIHRoaXMudGltZXJfIHx8ICh0aGlzLnRpbWVyXyA9IHRoaXMudGltZXJPYmplY3RfLnNldFRpbWVvdXQodGhpcy5ib3VuZFRpY2tfLCB0aGlzLmludGVydmFsXyksIHRoaXMubGFzdF8gPSBnb29nLm5vdygpKTtcbn07XG5nb29nLlRpbWVyLnByb3RvdHlwZS5zdG9wID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMuZW5hYmxlZCA9ICExO1xuICB0aGlzLnRpbWVyXyAmJiAodGhpcy50aW1lck9iamVjdF8uY2xlYXJUaW1lb3V0KHRoaXMudGltZXJfKSwgdGhpcy50aW1lcl8gPSBudWxsKTtcbn07XG5nb29nLlRpbWVyLnByb3RvdHlwZS5kaXNwb3NlSW50ZXJuYWwgPSBmdW5jdGlvbigpIHtcbiAgZ29vZy5UaW1lci5zdXBlckNsYXNzXy5kaXNwb3NlSW50ZXJuYWwuY2FsbCh0aGlzKTtcbiAgdGhpcy5zdG9wKCk7XG4gIGRlbGV0ZSB0aGlzLnRpbWVyT2JqZWN0Xztcbn07XG5nb29nLlRpbWVyLlRJQ0sgPSBcInRpY2tcIjtcbmdvb2cuVGltZXIuY2FsbE9uY2UgPSBmdW5jdGlvbihsaXN0ZW5lciwgb3B0X2RlbGF5LCBvcHRfaGFuZGxlcikge1xuICBpZiAoXCJmdW5jdGlvblwiID09PSB0eXBlb2YgbGlzdGVuZXIpIHtcbiAgICBvcHRfaGFuZGxlciAmJiAobGlzdGVuZXIgPSBnb29nLmJpbmQobGlzdGVuZXIsIG9wdF9oYW5kbGVyKSk7XG4gIH0gZWxzZSBpZiAobGlzdGVuZXIgJiYgXCJmdW5jdGlvblwiID09IHR5cGVvZiBsaXN0ZW5lci5oYW5kbGVFdmVudCkge1xuICAgIGxpc3RlbmVyID0gZ29vZy5iaW5kKGxpc3RlbmVyLmhhbmRsZUV2ZW50LCBsaXN0ZW5lcik7XG4gIH0gZWxzZSB7XG4gICAgdGhyb3cgRXJyb3IoXCJJbnZhbGlkIGxpc3RlbmVyIGFyZ3VtZW50XCIpO1xuICB9XG4gIHJldHVybiBOdW1iZXIob3B0X2RlbGF5KSA+IGdvb2cuVGltZXIuTUFYX1RJTUVPVVRfID8gZ29vZy5UaW1lci5JTlZBTElEX1RJTUVPVVRfSURfIDogZ29vZy5UaW1lci5kZWZhdWx0VGltZXJPYmplY3Quc2V0VGltZW91dChsaXN0ZW5lciwgb3B0X2RlbGF5IHx8IDApO1xufTtcbmdvb2cuVGltZXIuY2xlYXIgPSBmdW5jdGlvbih0aW1lcklkKSB7XG4gIGdvb2cuVGltZXIuZGVmYXVsdFRpbWVyT2JqZWN0LmNsZWFyVGltZW91dCh0aW1lcklkKTtcbn07XG5nb29nLlRpbWVyLnByb21pc2UgPSBmdW5jdGlvbihkZWxheSwgb3B0X3Jlc3VsdCkge1xuICB2YXIgdGltZXJLZXkgPSBudWxsO1xuICByZXR1cm4gKG5ldyBnb29nLlByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgdGltZXJLZXkgPSBnb29nLlRpbWVyLmNhbGxPbmNlKGZ1bmN0aW9uKCkge1xuICAgICAgcmVzb2x2ZShvcHRfcmVzdWx0KTtcbiAgICB9LCBkZWxheSk7XG4gICAgdGltZXJLZXkgPT0gZ29vZy5UaW1lci5JTlZBTElEX1RJTUVPVVRfSURfICYmIHJlamVjdChFcnJvcihcIkZhaWxlZCB0byBzY2hlZHVsZSB0aW1lci5cIikpO1xuICB9KSkudGhlbkNhdGNoKGZ1bmN0aW9uKGVycm9yKSB7XG4gICAgZ29vZy5UaW1lci5jbGVhcih0aW1lcktleSk7XG4gICAgdGhyb3cgZXJyb3I7XG4gIH0pO1xufTtcbnZhciBtb2R1bGUkY29udGVudHMkZ29vZyRhc3luYyRUaHJvdHRsZV9UaHJvdHRsZSA9IGZ1bmN0aW9uKGxpc3RlbmVyLCBpbnRlcnZhbCwgaGFuZGxlcikge1xuICBnb29nLkRpc3Bvc2FibGUuY2FsbCh0aGlzKTtcbiAgdGhpcy5saXN0ZW5lcl8gPSBudWxsICE9IGhhbmRsZXIgPyBsaXN0ZW5lci5iaW5kKGhhbmRsZXIpIDogbGlzdGVuZXI7XG4gIHRoaXMuaW50ZXJ2YWxfID0gaW50ZXJ2YWw7XG4gIHRoaXMuYXJnc18gPSBudWxsO1xuICB0aGlzLnNob3VsZEZpcmVfID0gITE7XG4gIHRoaXMucGF1c2VDb3VudF8gPSAwO1xuICB0aGlzLnRpbWVyXyA9IG51bGw7XG59O1xuJGpzY29tcC5pbmhlcml0cyhtb2R1bGUkY29udGVudHMkZ29vZyRhc3luYyRUaHJvdHRsZV9UaHJvdHRsZSwgZ29vZy5EaXNwb3NhYmxlKTtcbm1vZHVsZSRjb250ZW50cyRnb29nJGFzeW5jJFRocm90dGxlX1Rocm90dGxlLnByb3RvdHlwZS5maXJlID0gZnVuY3Rpb24odmFyX2FyZ3MpIHtcbiAgdGhpcy5hcmdzXyA9IGFyZ3VtZW50cztcbiAgdGhpcy50aW1lcl8gfHwgdGhpcy5wYXVzZUNvdW50XyA/IHRoaXMuc2hvdWxkRmlyZV8gPSAhMCA6IHRoaXMuZG9BY3Rpb25fKCk7XG59O1xubW9kdWxlJGNvbnRlbnRzJGdvb2ckYXN5bmMkVGhyb3R0bGVfVGhyb3R0bGUucHJvdG90eXBlLnN0b3AgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy50aW1lcl8gJiYgKGdvb2cuVGltZXIuY2xlYXIodGhpcy50aW1lcl8pLCB0aGlzLnRpbWVyXyA9IG51bGwsIHRoaXMuc2hvdWxkRmlyZV8gPSAhMSwgdGhpcy5hcmdzXyA9IG51bGwpO1xufTtcbm1vZHVsZSRjb250ZW50cyRnb29nJGFzeW5jJFRocm90dGxlX1Rocm90dGxlLnByb3RvdHlwZS5wYXVzZSA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLnBhdXNlQ291bnRfKys7XG59O1xubW9kdWxlJGNvbnRlbnRzJGdvb2ckYXN5bmMkVGhyb3R0bGVfVGhyb3R0bGUucHJvdG90eXBlLnJlc3VtZSA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLnBhdXNlQ291bnRfLS07XG4gIHRoaXMucGF1c2VDb3VudF8gfHwgIXRoaXMuc2hvdWxkRmlyZV8gfHwgdGhpcy50aW1lcl8gfHwgKHRoaXMuc2hvdWxkRmlyZV8gPSAhMSwgdGhpcy5kb0FjdGlvbl8oKSk7XG59O1xubW9kdWxlJGNvbnRlbnRzJGdvb2ckYXN5bmMkVGhyb3R0bGVfVGhyb3R0bGUucHJvdG90eXBlLmRpc3Bvc2VJbnRlcm5hbCA9IGZ1bmN0aW9uKCkge1xuICBnb29nLkRpc3Bvc2FibGUucHJvdG90eXBlLmRpc3Bvc2VJbnRlcm5hbC5jYWxsKHRoaXMpO1xuICB0aGlzLnN0b3AoKTtcbn07XG5tb2R1bGUkY29udGVudHMkZ29vZyRhc3luYyRUaHJvdHRsZV9UaHJvdHRsZS5wcm90b3R5cGUub25UaW1lcl8gPSBmdW5jdGlvbigpIHtcbiAgdGhpcy50aW1lcl8gPSBudWxsO1xuICB0aGlzLnNob3VsZEZpcmVfICYmICF0aGlzLnBhdXNlQ291bnRfICYmICh0aGlzLnNob3VsZEZpcmVfID0gITEsIHRoaXMuZG9BY3Rpb25fKCkpO1xufTtcbm1vZHVsZSRjb250ZW50cyRnb29nJGFzeW5jJFRocm90dGxlX1Rocm90dGxlLnByb3RvdHlwZS5kb0FjdGlvbl8gPSBmdW5jdGlvbigpIHtcbiAgdmFyICRqc2NvbXAkdGhpcyA9IHRoaXM7XG4gIHRoaXMudGltZXJfID0gZ29vZy5UaW1lci5jYWxsT25jZShmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gJGpzY29tcCR0aGlzLm9uVGltZXJfKCk7XG4gIH0sIHRoaXMuaW50ZXJ2YWxfKTtcbiAgdmFyIGFyZ3MgPSB0aGlzLmFyZ3NfO1xuICB0aGlzLmFyZ3NfID0gbnVsbDtcbiAgdGhpcy5saXN0ZW5lcl8uYXBwbHkobnVsbCwgYXJncyk7XG59O1xuZ29vZy5hc3luYy5UaHJvdHRsZSA9IG1vZHVsZSRjb250ZW50cyRnb29nJGFzeW5jJFRocm90dGxlX1Rocm90dGxlO1xuZ29vZy5wcm9taXNlLmRlZmVycmVkQmFzZSA9IHt9O1xuZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2ckcHJvbWlzZSRkZWZlcnJlZEJhc2VfRGVmZXJyZWRCYXNlRG9Ob3RVc2UoKSB7XG59XG5nb29nLnByb21pc2UuZGVmZXJyZWRCYXNlLkRlZmVycmVkQmFzZURvTm90VXNlID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckcHJvbWlzZSRkZWZlcnJlZEJhc2VfRGVmZXJyZWRCYXNlRG9Ob3RVc2U7XG4vKlxuXG4gQ29weXJpZ2h0IDIwMDUsIDIwMDcgQm9iIElwcG9saXRvLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuIENvcHlyaWdodCBUaGUgQ2xvc3VyZSBMaWJyYXJ5IEF1dGhvcnMuXG4gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IE1JVFxuKi9cbmdvb2cuYXN5bmMuRGVmZXJyZWQgPSBmdW5jdGlvbihvcHRfb25DYW5jZWxGdW5jdGlvbiwgb3B0X2RlZmF1bHRTY29wZSkge1xuICB0aGlzLnNlcXVlbmNlXyA9IFtdO1xuICB0aGlzLm9uQ2FuY2VsRnVuY3Rpb25fID0gb3B0X29uQ2FuY2VsRnVuY3Rpb247XG4gIHRoaXMuZGVmYXVsdFNjb3BlXyA9IG9wdF9kZWZhdWx0U2NvcGUgfHwgbnVsbDtcbiAgdGhpcy5oYWRFcnJvcl8gPSB0aGlzLmZpcmVkXyA9ICExO1xuICB0aGlzLnJlc3VsdF8gPSB2b2lkIDA7XG4gIHRoaXMuc2lsZW50bHlDYW5jZWxlZF8gPSB0aGlzLmJsb2NraW5nXyA9IHRoaXMuYmxvY2tlZF8gPSAhMTtcbiAgdGhpcy51bmhhbmRsZWRFcnJvcklkXyA9IDA7XG4gIHRoaXMucGFyZW50XyA9IG51bGw7XG4gIHRoaXMuYnJhbmNoZXNfID0gMDtcbiAgaWYgKGdvb2cuYXN5bmMuRGVmZXJyZWQuTE9OR19TVEFDS19UUkFDRVMgJiYgKHRoaXMuY29uc3RydWN0b3JTdGFja18gPSBudWxsLCBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSkpIHtcbiAgICB2YXIgdGFyZ2V0ID0ge3N0YWNrOlwiXCJ9O1xuICAgIEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKHRhcmdldCwgZ29vZy5hc3luYy5EZWZlcnJlZCk7XG4gICAgXCJzdHJpbmdcIiA9PSB0eXBlb2YgdGFyZ2V0LnN0YWNrICYmICh0aGlzLmNvbnN0cnVjdG9yU3RhY2tfID0gdGFyZ2V0LnN0YWNrLnJlcGxhY2UoL15bXlxcbl0qXFxuLywgXCJcIikpO1xuICB9XG59O1xuZ29vZy5pbmhlcml0cyhnb29nLmFzeW5jLkRlZmVycmVkLCBtb2R1bGUkY29udGVudHMkZ29vZyRwcm9taXNlJGRlZmVycmVkQmFzZV9EZWZlcnJlZEJhc2VEb05vdFVzZSk7XG5nb29nLmFzeW5jLkRlZmVycmVkLlNUUklDVF9FUlJPUlMgPSAhMTtcbmdvb2cuYXN5bmMuRGVmZXJyZWQuTE9OR19TVEFDS19UUkFDRVMgPSAhMTtcbmdvb2cuYXN5bmMuRGVmZXJyZWQucHJvdG90eXBlLmNhbmNlbCA9IGZ1bmN0aW9uKG9wdF9kZWVwQ2FuY2VsKSB7XG4gIGlmICh0aGlzLmhhc0ZpcmVkKCkpIHtcbiAgICB0aGlzLnJlc3VsdF8gaW5zdGFuY2VvZiBnb29nLmFzeW5jLkRlZmVycmVkICYmIHRoaXMucmVzdWx0Xy5jYW5jZWwoKTtcbiAgfSBlbHNlIHtcbiAgICBpZiAodGhpcy5wYXJlbnRfKSB7XG4gICAgICB2YXIgcGFyZW50ID0gdGhpcy5wYXJlbnRfO1xuICAgICAgZGVsZXRlIHRoaXMucGFyZW50XztcbiAgICAgIG9wdF9kZWVwQ2FuY2VsID8gcGFyZW50LmNhbmNlbChvcHRfZGVlcENhbmNlbCkgOiBwYXJlbnQuYnJhbmNoQ2FuY2VsXygpO1xuICAgIH1cbiAgICB0aGlzLm9uQ2FuY2VsRnVuY3Rpb25fID8gdGhpcy5vbkNhbmNlbEZ1bmN0aW9uXy5jYWxsKHRoaXMuZGVmYXVsdFNjb3BlXywgdGhpcykgOiB0aGlzLnNpbGVudGx5Q2FuY2VsZWRfID0gITA7XG4gICAgdGhpcy5oYXNGaXJlZCgpIHx8IHRoaXMuZXJyYmFjayhuZXcgZ29vZy5hc3luYy5EZWZlcnJlZC5DYW5jZWxlZEVycm9yKHRoaXMpKTtcbiAgfVxufTtcbmdvb2cuYXN5bmMuRGVmZXJyZWQucHJvdG90eXBlLmJyYW5jaENhbmNlbF8gPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5icmFuY2hlc18tLTtcbiAgMCA+PSB0aGlzLmJyYW5jaGVzXyAmJiB0aGlzLmNhbmNlbCgpO1xufTtcbmdvb2cuYXN5bmMuRGVmZXJyZWQucHJvdG90eXBlLmNvbnRpbnVlXyA9IGZ1bmN0aW9uKGlzU3VjY2VzcywgcmVzKSB7XG4gIHRoaXMuYmxvY2tlZF8gPSAhMTtcbiAgdGhpcy51cGRhdGVSZXN1bHRfKGlzU3VjY2VzcywgcmVzKTtcbn07XG5nb29nLmFzeW5jLkRlZmVycmVkLnByb3RvdHlwZS51cGRhdGVSZXN1bHRfID0gZnVuY3Rpb24oaXNTdWNjZXNzLCByZXMpIHtcbiAgdGhpcy5maXJlZF8gPSAhMDtcbiAgdGhpcy5yZXN1bHRfID0gcmVzO1xuICB0aGlzLmhhZEVycm9yXyA9ICFpc1N1Y2Nlc3M7XG4gIHRoaXMuZmlyZV8oKTtcbn07XG5nb29nLmFzeW5jLkRlZmVycmVkLnByb3RvdHlwZS5jaGVja18gPSBmdW5jdGlvbigpIHtcbiAgaWYgKHRoaXMuaGFzRmlyZWQoKSkge1xuICAgIGlmICghdGhpcy5zaWxlbnRseUNhbmNlbGVkXykge1xuICAgICAgdGhyb3cgbmV3IGdvb2cuYXN5bmMuRGVmZXJyZWQuQWxyZWFkeUNhbGxlZEVycm9yKHRoaXMpO1xuICAgIH1cbiAgICB0aGlzLnNpbGVudGx5Q2FuY2VsZWRfID0gITE7XG4gIH1cbn07XG5nb29nLmFzeW5jLkRlZmVycmVkLnByb3RvdHlwZS5jYWxsYmFjayA9IGZ1bmN0aW9uKG9wdF9yZXN1bHQpIHtcbiAgdGhpcy5jaGVja18oKTtcbiAgdGhpcy5hc3NlcnROb3REZWZlcnJlZF8ob3B0X3Jlc3VsdCk7XG4gIHRoaXMudXBkYXRlUmVzdWx0XyghMCwgb3B0X3Jlc3VsdCk7XG59O1xuZ29vZy5hc3luYy5EZWZlcnJlZC5wcm90b3R5cGUuZXJyYmFjayA9IGZ1bmN0aW9uKG9wdF9yZXN1bHQpIHtcbiAgdGhpcy5jaGVja18oKTtcbiAgdGhpcy5hc3NlcnROb3REZWZlcnJlZF8ob3B0X3Jlc3VsdCk7XG4gIHRoaXMubWFrZVN0YWNrVHJhY2VMb25nXyhvcHRfcmVzdWx0KTtcbiAgdGhpcy51cGRhdGVSZXN1bHRfKCExLCBvcHRfcmVzdWx0KTtcbn07XG5nb29nLmFzeW5jLkRlZmVycmVkLnVuaGFuZGxlZEVycm9ySGFuZGxlcl8gPSBmdW5jdGlvbihlKSB7XG4gIHRocm93IGU7XG59O1xuZ29vZy5hc3luYy5EZWZlcnJlZC5zZXRVbmhhbmRsZWRFcnJvckhhbmRsZXIgPSBmdW5jdGlvbihoYW5kbGVyKSB7XG4gIGdvb2cuYXN5bmMuRGVmZXJyZWQudW5oYW5kbGVkRXJyb3JIYW5kbGVyXyA9IGhhbmRsZXI7XG59O1xuZ29vZy5hc3luYy5EZWZlcnJlZC5wcm90b3R5cGUubWFrZVN0YWNrVHJhY2VMb25nXyA9IGZ1bmN0aW9uKGVycm9yKSB7XG4gIGdvb2cuYXN5bmMuRGVmZXJyZWQuTE9OR19TVEFDS19UUkFDRVMgJiYgdGhpcy5jb25zdHJ1Y3RvclN0YWNrXyAmJiBnb29nLmlzT2JqZWN0KGVycm9yKSAmJiBlcnJvci5zdGFjayAmJiAvXlteXFxuXSsoXFxuICAgW15cXG5dKykrLy50ZXN0KGVycm9yLnN0YWNrKSAmJiAoZXJyb3Iuc3RhY2sgPSBlcnJvci5zdGFjayArIFwiXFxuREVGRVJSRUQgT1BFUkFUSU9OOlxcblwiICsgdGhpcy5jb25zdHJ1Y3RvclN0YWNrXyk7XG59O1xuZ29vZy5hc3luYy5EZWZlcnJlZC5wcm90b3R5cGUuYXNzZXJ0Tm90RGVmZXJyZWRfID0gZnVuY3Rpb24ob2JqKSB7XG4gIGdvb2cuYXNzZXJ0cy5hc3NlcnQoIShvYmogaW5zdGFuY2VvZiBnb29nLmFzeW5jLkRlZmVycmVkKSwgXCJBbiBleGVjdXRpb24gc2VxdWVuY2UgbWF5IG5vdCBiZSBpbml0aWF0ZWQgd2l0aCBhIGJsb2NraW5nIERlZmVycmVkLlwiKTtcbn07XG5nb29nLmFzeW5jLkRlZmVycmVkLnByb3RvdHlwZS5hZGRDYWxsYmFjayA9IGZ1bmN0aW9uKGNiLCBvcHRfc2NvcGUpIHtcbiAgcmV0dXJuIHRoaXMuYWRkQ2FsbGJhY2tzKGNiLCBudWxsLCBvcHRfc2NvcGUpO1xufTtcbmdvb2cuYXN5bmMuRGVmZXJyZWQucHJvdG90eXBlLmFkZEVycmJhY2sgPSBmdW5jdGlvbihlYiwgb3B0X3Njb3BlKSB7XG4gIHJldHVybiB0aGlzLmFkZENhbGxiYWNrcyhudWxsLCBlYiwgb3B0X3Njb3BlKTtcbn07XG5nb29nLmFzeW5jLkRlZmVycmVkLnByb3RvdHlwZS5hZGRCb3RoID0gZnVuY3Rpb24oZiwgb3B0X3Njb3BlKSB7XG4gIHJldHVybiB0aGlzLmFkZENhbGxiYWNrcyhmLCBmLCBvcHRfc2NvcGUpO1xufTtcbmdvb2cuYXN5bmMuRGVmZXJyZWQucHJvdG90eXBlLmFkZEZpbmFsbHkgPSBmdW5jdGlvbihmLCBvcHRfc2NvcGUpIHtcbiAgcmV0dXJuIHRoaXMuYWRkQ2FsbGJhY2tzKGYsIGZ1bmN0aW9uKGVycikge1xuICAgIHZhciByZXN1bHQgPSBmLmNhbGwodGhpcywgZXJyKTtcbiAgICBpZiAodm9pZCAwID09PSByZXN1bHQpIHtcbiAgICAgIHRocm93IGVycjtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfSwgb3B0X3Njb3BlKTtcbn07XG5nb29nLmFzeW5jLkRlZmVycmVkLnByb3RvdHlwZS5hZGRDYWxsYmFja3MgPSBmdW5jdGlvbihjYiwgZWIsIG9wdF9zY29wZSkge1xuICBnb29nLmFzc2VydHMuYXNzZXJ0KCF0aGlzLmJsb2NraW5nXywgXCJCbG9ja2luZyBEZWZlcnJlZHMgY2FuIG5vdCBiZSByZS11c2VkXCIpO1xuICB0aGlzLnNlcXVlbmNlXy5wdXNoKFtjYiwgZWIsIG9wdF9zY29wZV0pO1xuICB0aGlzLmhhc0ZpcmVkKCkgJiYgdGhpcy5maXJlXygpO1xuICByZXR1cm4gdGhpcztcbn07XG5nb29nLmFzeW5jLkRlZmVycmVkLnByb3RvdHlwZS50aGVuID0gZnVuY3Rpb24ob3B0X29uRnVsZmlsbGVkLCBvcHRfb25SZWplY3RlZCwgb3B0X2NvbnRleHQpIHtcbiAgdmFyIHJlamVjdCwgcmVzb2x2ZSwgcHJvbWlzZSA9IG5ldyBnb29nLlByb21pc2UoZnVuY3Rpb24ocmVzLCByZWopIHtcbiAgICByZXNvbHZlID0gcmVzO1xuICAgIHJlamVjdCA9IHJlajtcbiAgfSk7XG4gIHRoaXMuYWRkQ2FsbGJhY2tzKHJlc29sdmUsIGZ1bmN0aW9uKHJlYXNvbikge1xuICAgIHJlYXNvbiBpbnN0YW5jZW9mIGdvb2cuYXN5bmMuRGVmZXJyZWQuQ2FuY2VsZWRFcnJvciA/IHByb21pc2UuY2FuY2VsKCkgOiByZWplY3QocmVhc29uKTtcbiAgICByZXR1cm4gZ29vZy5hc3luYy5EZWZlcnJlZC5DT05WRVJURURfVE9fUFJPTUlTRV87XG4gIH0sIHRoaXMpO1xuICByZXR1cm4gcHJvbWlzZS50aGVuKG9wdF9vbkZ1bGZpbGxlZCwgb3B0X29uUmVqZWN0ZWQsIG9wdF9jb250ZXh0KTtcbn07XG5tb2R1bGUkY29udGVudHMkZ29vZyRUaGVuYWJsZV9UaGVuYWJsZS5hZGRJbXBsZW1lbnRhdGlvbihnb29nLmFzeW5jLkRlZmVycmVkKTtcbmdvb2cuYXN5bmMuRGVmZXJyZWQucHJvdG90eXBlLmNoYWluRGVmZXJyZWQgPSBmdW5jdGlvbihvdGhlckRlZmVycmVkKSB7XG4gIHRoaXMuYWRkQ2FsbGJhY2tzKG90aGVyRGVmZXJyZWQuY2FsbGJhY2ssIG90aGVyRGVmZXJyZWQuZXJyYmFjaywgb3RoZXJEZWZlcnJlZCk7XG4gIHJldHVybiB0aGlzO1xufTtcbmdvb2cuYXN5bmMuRGVmZXJyZWQucHJvdG90eXBlLmF3YWl0RGVmZXJyZWQgPSBmdW5jdGlvbihvdGhlckRlZmVycmVkKSB7XG4gIHJldHVybiBvdGhlckRlZmVycmVkIGluc3RhbmNlb2YgZ29vZy5hc3luYy5EZWZlcnJlZCA/IHRoaXMuYWRkQ2FsbGJhY2soZ29vZy5iaW5kKG90aGVyRGVmZXJyZWQuYnJhbmNoLCBvdGhlckRlZmVycmVkKSkgOiB0aGlzLmFkZENhbGxiYWNrKGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBvdGhlckRlZmVycmVkO1xuICB9KTtcbn07XG5nb29nLmFzeW5jLkRlZmVycmVkLnByb3RvdHlwZS5icmFuY2ggPSBmdW5jdGlvbihvcHRfcHJvcGFnYXRlQ2FuY2VsKSB7XG4gIHZhciBkID0gbmV3IGdvb2cuYXN5bmMuRGVmZXJyZWQoKTtcbiAgdGhpcy5jaGFpbkRlZmVycmVkKGQpO1xuICBvcHRfcHJvcGFnYXRlQ2FuY2VsICYmIChkLnBhcmVudF8gPSB0aGlzLCB0aGlzLmJyYW5jaGVzXysrKTtcbiAgcmV0dXJuIGQ7XG59O1xuZ29vZy5hc3luYy5EZWZlcnJlZC5wcm90b3R5cGUuaGFzRmlyZWQgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuZmlyZWRfO1xufTtcbmdvb2cuYXN5bmMuRGVmZXJyZWQucHJvdG90eXBlLmlzRXJyb3IgPSBmdW5jdGlvbihyZXMpIHtcbiAgcmV0dXJuIHJlcyBpbnN0YW5jZW9mIEVycm9yO1xufTtcbmdvb2cuYXN5bmMuRGVmZXJyZWQucHJvdG90eXBlLmhhc0VycmJhY2tfID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9zb21lKHRoaXMuc2VxdWVuY2VfLCBmdW5jdGlvbihzZXF1ZW5jZVJvdykge1xuICAgIHJldHVybiBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBzZXF1ZW5jZVJvd1sxXTtcbiAgfSk7XG59O1xuZ29vZy5hc3luYy5EZWZlcnJlZC5wcm90b3R5cGUuZ2V0TGFzdFZhbHVlRm9yTWlncmF0aW9uID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLmhhc0ZpcmVkKCkgJiYgIXRoaXMuaGFkRXJyb3JfID8gdGhpcy5yZXN1bHRfIDogdm9pZCAwO1xufTtcbmdvb2cuYXN5bmMuRGVmZXJyZWQuQ09OVkVSVEVEX1RPX1BST01JU0VfID0ge307XG5nb29nLmFzeW5jLkRlZmVycmVkLnByb3RvdHlwZS5maXJlXyA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLnVuaGFuZGxlZEVycm9ySWRfICYmIHRoaXMuaGFzRmlyZWQoKSAmJiB0aGlzLmhhc0VycmJhY2tfKCkgJiYgKGdvb2cuYXN5bmMuRGVmZXJyZWQudW5zY2hlZHVsZUVycm9yXyh0aGlzLnVuaGFuZGxlZEVycm9ySWRfKSwgdGhpcy51bmhhbmRsZWRFcnJvcklkXyA9IDApO1xuICB0aGlzLnBhcmVudF8gJiYgKHRoaXMucGFyZW50Xy5icmFuY2hlc18tLSwgZGVsZXRlIHRoaXMucGFyZW50Xyk7XG4gIGZvciAodmFyIHJlcyA9IHRoaXMucmVzdWx0XywgdW5oYW5kbGVkRXhjZXB0aW9uID0gITEsIGlzTmV3bHlCbG9ja2VkID0gITEsIHdhc0NvbnZlcnRlZFRvUHJvbWlzZSA9ICExOyB0aGlzLnNlcXVlbmNlXy5sZW5ndGggJiYgIXRoaXMuYmxvY2tlZF87KSB7XG4gICAgd2FzQ29udmVydGVkVG9Qcm9taXNlID0gITE7XG4gICAgdmFyIHNlcXVlbmNlRW50cnkgPSB0aGlzLnNlcXVlbmNlXy5zaGlmdCgpLCBjYWxsYmFjayA9IHNlcXVlbmNlRW50cnlbMF0sIGVycmJhY2sgPSBzZXF1ZW5jZUVudHJ5WzFdLCBzY29wZSA9IHNlcXVlbmNlRW50cnlbMl0sIGYgPSB0aGlzLmhhZEVycm9yXyA/IGVycmJhY2sgOiBjYWxsYmFjaztcbiAgICBpZiAoZikge1xuICAgICAgdHJ5IHtcbiAgICAgICAgdmFyIHJldCA9IGYuY2FsbChzY29wZSB8fCB0aGlzLmRlZmF1bHRTY29wZV8sIHJlcyk7XG4gICAgICAgIHJldCA9PT0gZ29vZy5hc3luYy5EZWZlcnJlZC5DT05WRVJURURfVE9fUFJPTUlTRV8gJiYgKHdhc0NvbnZlcnRlZFRvUHJvbWlzZSA9ICEwLCByZXQgPSB2b2lkIDApO1xuICAgICAgICB2b2lkIDAgIT09IHJldCAmJiAodGhpcy5oYWRFcnJvcl8gPSB0aGlzLmhhZEVycm9yXyAmJiAocmV0ID09IHJlcyB8fCB0aGlzLmlzRXJyb3IocmV0KSksIHRoaXMucmVzdWx0XyA9IHJlcyA9IHJldCk7XG4gICAgICAgIGlmIChtb2R1bGUkY29udGVudHMkZ29vZyRUaGVuYWJsZV9UaGVuYWJsZS5pc0ltcGxlbWVudGVkQnkocmVzKSB8fCBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBnb29nLmdsb2JhbC5Qcm9taXNlICYmIHJlcyBpbnN0YW5jZW9mIGdvb2cuZ2xvYmFsLlByb21pc2UpIHtcbiAgICAgICAgICB0aGlzLmJsb2NrZWRfID0gaXNOZXdseUJsb2NrZWQgPSAhMDtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXgpIHtcbiAgICAgICAgcmVzID0gZXgsIHRoaXMuaGFkRXJyb3JfID0gITAsIHRoaXMubWFrZVN0YWNrVHJhY2VMb25nXyhyZXMpLCB0aGlzLmhhc0VycmJhY2tfKCkgfHwgKHVuaGFuZGxlZEV4Y2VwdGlvbiA9ICEwKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgdGhpcy5yZXN1bHRfID0gcmVzO1xuICBpZiAoaXNOZXdseUJsb2NrZWQpIHtcbiAgICB2YXIgb25DYWxsYmFjayA9IGdvb2cuYmluZCh0aGlzLmNvbnRpbnVlXywgdGhpcywgITApLCBvbkVycmJhY2sgPSBnb29nLmJpbmQodGhpcy5jb250aW51ZV8sIHRoaXMsICExKTtcbiAgICByZXMgaW5zdGFuY2VvZiBnb29nLmFzeW5jLkRlZmVycmVkID8gKHJlcy5hZGRDYWxsYmFja3Mob25DYWxsYmFjaywgb25FcnJiYWNrKSwgcmVzLmJsb2NraW5nXyA9ICEwKSA6IHJlcy50aGVuKG9uQ2FsbGJhY2ssIG9uRXJyYmFjayk7XG4gIH0gZWxzZSB7XG4gICAgIWdvb2cuYXN5bmMuRGVmZXJyZWQuU1RSSUNUX0VSUk9SUyB8fCB3YXNDb252ZXJ0ZWRUb1Byb21pc2UgfHwgIXRoaXMuaXNFcnJvcihyZXMpIHx8IHJlcyBpbnN0YW5jZW9mIGdvb2cuYXN5bmMuRGVmZXJyZWQuQ2FuY2VsZWRFcnJvciB8fCAodW5oYW5kbGVkRXhjZXB0aW9uID0gdGhpcy5oYWRFcnJvcl8gPSAhMCk7XG4gIH1cbiAgdW5oYW5kbGVkRXhjZXB0aW9uICYmICh0aGlzLnVuaGFuZGxlZEVycm9ySWRfID0gZ29vZy5hc3luYy5EZWZlcnJlZC5zY2hlZHVsZUVycm9yXyhyZXMpKTtcbn07XG5nb29nLmFzeW5jLkRlZmVycmVkLnN1Y2NlZWQgPSBmdW5jdGlvbihvcHRfcmVzdWx0KSB7XG4gIHZhciBkID0gbmV3IGdvb2cuYXN5bmMuRGVmZXJyZWQoKTtcbiAgZC5jYWxsYmFjayhvcHRfcmVzdWx0KTtcbiAgcmV0dXJuIGQ7XG59O1xuZ29vZy5hc3luYy5EZWZlcnJlZC5mcm9tUHJvbWlzZSA9IGZ1bmN0aW9uKHByb21pc2UpIHtcbiAgdmFyIGQgPSBuZXcgZ29vZy5hc3luYy5EZWZlcnJlZCgpO1xuICBwcm9taXNlLnRoZW4oZnVuY3Rpb24odmFsdWUpIHtcbiAgICBkLmNhbGxiYWNrKHZhbHVlKTtcbiAgfSwgZnVuY3Rpb24oZXJyb3IpIHtcbiAgICBkLmVycmJhY2soZXJyb3IpO1xuICB9KTtcbiAgcmV0dXJuIGQ7XG59O1xuZ29vZy5hc3luYy5EZWZlcnJlZC5mYWlsID0gZnVuY3Rpb24ocmVzKSB7XG4gIHZhciBkID0gbmV3IGdvb2cuYXN5bmMuRGVmZXJyZWQoKTtcbiAgZC5lcnJiYWNrKHJlcyk7XG4gIHJldHVybiBkO1xufTtcbmdvb2cuYXN5bmMuRGVmZXJyZWQuY2FuY2VsZWQgPSBmdW5jdGlvbigpIHtcbiAgdmFyIGQgPSBuZXcgZ29vZy5hc3luYy5EZWZlcnJlZCgpO1xuICBkLmNhbmNlbCgpO1xuICByZXR1cm4gZDtcbn07XG5nb29nLmFzeW5jLkRlZmVycmVkLndoZW4gPSBmdW5jdGlvbih2YWx1ZSwgY2FsbGJhY2ssIG9wdF9zY29wZSkge1xuICByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBnb29nLmFzeW5jLkRlZmVycmVkID8gdmFsdWUuYnJhbmNoKCEwKS5hZGRDYWxsYmFjayhjYWxsYmFjaywgb3B0X3Njb3BlKSA6IGdvb2cuYXN5bmMuRGVmZXJyZWQuc3VjY2VlZCh2YWx1ZSkuYWRkQ2FsbGJhY2soY2FsbGJhY2ssIG9wdF9zY29wZSk7XG59O1xuZ29vZy5hc3luYy5EZWZlcnJlZC5BbHJlYWR5Q2FsbGVkRXJyb3IgPSBmdW5jdGlvbihkZWZlcnJlZCkge1xuICBtb2R1bGUkY29udGVudHMkZ29vZyRkZWJ1ZyRFcnJvcl9EZWJ1Z0Vycm9yLmNhbGwodGhpcyk7XG4gIHRoaXMuZGVmZXJyZWQgPSBkZWZlcnJlZDtcbn07XG5nb29nLmluaGVyaXRzKGdvb2cuYXN5bmMuRGVmZXJyZWQuQWxyZWFkeUNhbGxlZEVycm9yLCBtb2R1bGUkY29udGVudHMkZ29vZyRkZWJ1ZyRFcnJvcl9EZWJ1Z0Vycm9yKTtcbmdvb2cuYXN5bmMuRGVmZXJyZWQuQWxyZWFkeUNhbGxlZEVycm9yLnByb3RvdHlwZS5tZXNzYWdlID0gXCJEZWZlcnJlZCBoYXMgYWxyZWFkeSBmaXJlZFwiO1xuZ29vZy5hc3luYy5EZWZlcnJlZC5BbHJlYWR5Q2FsbGVkRXJyb3IucHJvdG90eXBlLm5hbWUgPSBcIkFscmVhZHlDYWxsZWRFcnJvclwiO1xuZ29vZy5hc3luYy5EZWZlcnJlZC5DYW5jZWxlZEVycm9yID0gZnVuY3Rpb24oZGVmZXJyZWQpIHtcbiAgbW9kdWxlJGNvbnRlbnRzJGdvb2ckZGVidWckRXJyb3JfRGVidWdFcnJvci5jYWxsKHRoaXMpO1xuICB0aGlzLmRlZmVycmVkID0gZGVmZXJyZWQ7XG59O1xuZ29vZy5pbmhlcml0cyhnb29nLmFzeW5jLkRlZmVycmVkLkNhbmNlbGVkRXJyb3IsIG1vZHVsZSRjb250ZW50cyRnb29nJGRlYnVnJEVycm9yX0RlYnVnRXJyb3IpO1xuZ29vZy5hc3luYy5EZWZlcnJlZC5DYW5jZWxlZEVycm9yLnByb3RvdHlwZS5tZXNzYWdlID0gXCJEZWZlcnJlZCB3YXMgY2FuY2VsZWRcIjtcbmdvb2cuYXN5bmMuRGVmZXJyZWQuQ2FuY2VsZWRFcnJvci5wcm90b3R5cGUubmFtZSA9IFwiQ2FuY2VsZWRFcnJvclwiO1xuZ29vZy5hc3luYy5EZWZlcnJlZC5FcnJvcl8gPSBmdW5jdGlvbihlcnJvcikge1xuICB0aGlzLmlkXyA9IGdvb2cuZ2xvYmFsLnNldFRpbWVvdXQoZ29vZy5iaW5kKHRoaXMudGhyb3dFcnJvciwgdGhpcyksIDApO1xuICB0aGlzLmVycm9yXyA9IGVycm9yO1xufTtcbmdvb2cuYXN5bmMuRGVmZXJyZWQuRXJyb3JfLnByb3RvdHlwZS50aHJvd0Vycm9yID0gZnVuY3Rpb24oKSB7XG4gIGdvb2cuYXNzZXJ0cy5hc3NlcnQoZ29vZy5hc3luYy5EZWZlcnJlZC5lcnJvck1hcF9bdGhpcy5pZF9dLCBcIkNhbm5vdCB0aHJvdyBhbiBlcnJvciB0aGF0IGlzIG5vdCBzY2hlZHVsZWQuXCIpO1xuICBkZWxldGUgZ29vZy5hc3luYy5EZWZlcnJlZC5lcnJvck1hcF9bdGhpcy5pZF9dO1xuICBnb29nLmFzeW5jLkRlZmVycmVkLnVuaGFuZGxlZEVycm9ySGFuZGxlcl8odGhpcy5lcnJvcl8pO1xufTtcbmdvb2cuYXN5bmMuRGVmZXJyZWQuRXJyb3JfLnByb3RvdHlwZS5yZXNldFRpbWVyID0gZnVuY3Rpb24oKSB7XG4gIGdvb2cuZ2xvYmFsLmNsZWFyVGltZW91dCh0aGlzLmlkXyk7XG59O1xuZ29vZy5hc3luYy5EZWZlcnJlZC5lcnJvck1hcF8gPSB7fTtcbmdvb2cuYXN5bmMuRGVmZXJyZWQuc2NoZWR1bGVFcnJvcl8gPSBmdW5jdGlvbihlcnJvcikge1xuICB2YXIgZGVmZXJyZWRFcnJvciA9IG5ldyBnb29nLmFzeW5jLkRlZmVycmVkLkVycm9yXyhlcnJvcik7XG4gIGdvb2cuYXN5bmMuRGVmZXJyZWQuZXJyb3JNYXBfW2RlZmVycmVkRXJyb3IuaWRfXSA9IGRlZmVycmVkRXJyb3I7XG4gIHJldHVybiBkZWZlcnJlZEVycm9yLmlkXztcbn07XG5nb29nLmFzeW5jLkRlZmVycmVkLnVuc2NoZWR1bGVFcnJvcl8gPSBmdW5jdGlvbihpZCkge1xuICB2YXIgZXJyb3IgPSBnb29nLmFzeW5jLkRlZmVycmVkLmVycm9yTWFwX1tpZF07XG4gIGVycm9yICYmIChlcnJvci5yZXNldFRpbWVyKCksIGRlbGV0ZSBnb29nLmFzeW5jLkRlZmVycmVkLmVycm9yTWFwX1tpZF0pO1xufTtcbmdvb2cuYXN5bmMuRGVmZXJyZWQuYXNzZXJ0Tm9FcnJvcnMgPSBmdW5jdGlvbigpIHtcbiAgdmFyIG1hcCA9IGdvb2cuYXN5bmMuRGVmZXJyZWQuZXJyb3JNYXBfLCBrZXk7XG4gIGZvciAoa2V5IGluIG1hcCkge1xuICAgIHZhciBlcnJvciA9IG1hcFtrZXldO1xuICAgIGVycm9yLnJlc2V0VGltZXIoKTtcbiAgICBlcnJvci50aHJvd0Vycm9yKCk7XG4gIH1cbn07XG5nb29nLm5ldCA9IHt9O1xuZ29vZy5uZXQuanNsb2FkZXIgPSB7fTtcbmdvb2cubmV0LmpzbG9hZGVyLk9wdGlvbnMgPSB7fTtcbmdvb2cubmV0LmpzbG9hZGVyLkdMT0JBTF9WRVJJRllfT0JKU18gPSBcImNsb3N1cmVfdmVyaWZpY2F0aW9uXCI7XG5nb29nLm5ldC5qc2xvYWRlci5ERUZBVUxUX1RJTUVPVVQgPSA1RTM7XG5nb29nLm5ldC5qc2xvYWRlci5zY3JpcHRzVG9Mb2FkXyA9IFtdO1xuZ29vZy5uZXQuanNsb2FkZXIuc2FmZUxvYWRNYW55ID0gZnVuY3Rpb24odHJ1c3RlZFVyaXMsIG9wdF9vcHRpb25zKSB7XG4gIGlmICghdHJ1c3RlZFVyaXMubGVuZ3RoKSB7XG4gICAgcmV0dXJuIGdvb2cuYXN5bmMuRGVmZXJyZWQuc3VjY2VlZChudWxsKTtcbiAgfVxuICB2YXIgaXNBbm90aGVyTW9kdWxlTG9hZGluZyA9IGdvb2cubmV0LmpzbG9hZGVyLnNjcmlwdHNUb0xvYWRfLmxlbmd0aDtcbiAgbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfZXh0ZW5kKGdvb2cubmV0LmpzbG9hZGVyLnNjcmlwdHNUb0xvYWRfLCB0cnVzdGVkVXJpcyk7XG4gIGlmIChpc0Fub3RoZXJNb2R1bGVMb2FkaW5nKSB7XG4gICAgcmV0dXJuIGdvb2cubmV0LmpzbG9hZGVyLnNjcmlwdExvYWRpbmdEZWZlcnJlZF87XG4gIH1cbiAgdHJ1c3RlZFVyaXMgPSBnb29nLm5ldC5qc2xvYWRlci5zY3JpcHRzVG9Mb2FkXztcbiAgdmFyIHBvcEFuZExvYWROZXh0U2NyaXB0ID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHRydXN0ZWRVcmkgPSB0cnVzdGVkVXJpcy5zaGlmdCgpLCBkZWZlcnJlZCA9IGdvb2cubmV0LmpzbG9hZGVyLnNhZmVMb2FkKHRydXN0ZWRVcmksIG9wdF9vcHRpb25zKTtcbiAgICB0cnVzdGVkVXJpcy5sZW5ndGggJiYgZGVmZXJyZWQuYWRkQm90aChwb3BBbmRMb2FkTmV4dFNjcmlwdCk7XG4gICAgcmV0dXJuIGRlZmVycmVkO1xuICB9O1xuICBnb29nLm5ldC5qc2xvYWRlci5zY3JpcHRMb2FkaW5nRGVmZXJyZWRfID0gcG9wQW5kTG9hZE5leHRTY3JpcHQoKTtcbiAgcmV0dXJuIGdvb2cubmV0LmpzbG9hZGVyLnNjcmlwdExvYWRpbmdEZWZlcnJlZF87XG59O1xuZ29vZy5uZXQuanNsb2FkZXIuc2FmZUxvYWQgPSBmdW5jdGlvbih0cnVzdGVkVXJpLCBvcHRfb3B0aW9ucykge1xuICB2YXIgb3B0aW9ucyA9IG9wdF9vcHRpb25zIHx8IHt9LCBkb2MgPSBvcHRpb25zLmRvY3VtZW50IHx8IGRvY3VtZW50LCB1cmkgPSBnb29nLmh0bWwuVHJ1c3RlZFJlc291cmNlVXJsLnVud3JhcCh0cnVzdGVkVXJpKSwgc2NyaXB0ID0gKG5ldyBnb29nLmRvbS5Eb21IZWxwZXIoZG9jKSkuY3JlYXRlRWxlbWVudChnb29nLmRvbS5UYWdOYW1lLlNDUklQVCksIHJlcXVlc3QgPSB7c2NyaXB0XzpzY3JpcHQsIHRpbWVvdXRfOnZvaWQgMH0sIGRlZmVycmVkID0gbmV3IGdvb2cuYXN5bmMuRGVmZXJyZWQoZ29vZy5uZXQuanNsb2FkZXIuY2FuY2VsXywgcmVxdWVzdCksIHRpbWVvdXQgPSBudWxsLCB0aW1lb3V0RHVyYXRpb24gPSBudWxsICE9IG9wdGlvbnMudGltZW91dCA/IG9wdGlvbnMudGltZW91dCA6IGdvb2cubmV0LmpzbG9hZGVyLkRFRkFVTFRfVElNRU9VVDtcbiAgMCA8IHRpbWVvdXREdXJhdGlvbiAmJiAodGltZW91dCA9IHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgIGdvb2cubmV0LmpzbG9hZGVyLmNsZWFudXBfKHNjcmlwdCwgITApO1xuICAgIGRlZmVycmVkLmVycmJhY2sobmV3IGdvb2cubmV0LmpzbG9hZGVyLkVycm9yKGdvb2cubmV0LmpzbG9hZGVyLkVycm9yQ29kZS5USU1FT1VULCBcIlRpbWVvdXQgcmVhY2hlZCBmb3IgbG9hZGluZyBzY3JpcHQgXCIgKyB1cmkpKTtcbiAgfSwgdGltZW91dER1cmF0aW9uKSwgcmVxdWVzdC50aW1lb3V0XyA9IHRpbWVvdXQpO1xuICBzY3JpcHQub25sb2FkID0gc2NyaXB0Lm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uKCkge1xuICAgIHNjcmlwdC5yZWFkeVN0YXRlICYmIFwibG9hZGVkXCIgIT0gc2NyaXB0LnJlYWR5U3RhdGUgJiYgXCJjb21wbGV0ZVwiICE9IHNjcmlwdC5yZWFkeVN0YXRlIHx8IChnb29nLm5ldC5qc2xvYWRlci5jbGVhbnVwXyhzY3JpcHQsIG9wdGlvbnMuY2xlYW51cFdoZW5Eb25lIHx8ICExLCB0aW1lb3V0KSwgZGVmZXJyZWQuY2FsbGJhY2sobnVsbCkpO1xuICB9O1xuICBzY3JpcHQub25lcnJvciA9IGZ1bmN0aW9uKCkge1xuICAgIGdvb2cubmV0LmpzbG9hZGVyLmNsZWFudXBfKHNjcmlwdCwgITAsIHRpbWVvdXQpO1xuICAgIGRlZmVycmVkLmVycmJhY2sobmV3IGdvb2cubmV0LmpzbG9hZGVyLkVycm9yKGdvb2cubmV0LmpzbG9hZGVyLkVycm9yQ29kZS5MT0FEX0VSUk9SLCBcIkVycm9yIHdoaWxlIGxvYWRpbmcgc2NyaXB0IFwiICsgdXJpKSk7XG4gIH07XG4gIHZhciBwcm9wZXJ0aWVzID0gb3B0aW9ucy5hdHRyaWJ1dGVzIHx8IHt9O1xuICBtb2R1bGUkY29udGVudHMkZ29vZyRvYmplY3RfZXh0ZW5kKHByb3BlcnRpZXMsIHt0eXBlOlwidGV4dC9qYXZhc2NyaXB0XCIsIGNoYXJzZXQ6XCJVVEYtOFwifSk7XG4gIGdvb2cuZG9tLnNldFByb3BlcnRpZXMoc2NyaXB0LCBwcm9wZXJ0aWVzKTtcbiAgZ29vZy5kb20uc2FmZS5zZXRTY3JpcHRTcmMoc2NyaXB0LCB0cnVzdGVkVXJpKTtcbiAgZ29vZy5uZXQuanNsb2FkZXIuZ2V0U2NyaXB0UGFyZW50RWxlbWVudF8oZG9jKS5hcHBlbmRDaGlsZChzY3JpcHQpO1xuICByZXR1cm4gZGVmZXJyZWQ7XG59O1xuZ29vZy5uZXQuanNsb2FkZXIuc2FmZUxvYWRBbmRWZXJpZnkgPSBmdW5jdGlvbih0cnVzdGVkVXJpLCB2ZXJpZmljYXRpb25PYmpOYW1lLCBvcHRpb25zKSB7XG4gIGdvb2cuZ2xvYmFsW2dvb2cubmV0LmpzbG9hZGVyLkdMT0JBTF9WRVJJRllfT0JKU19dIHx8IChnb29nLmdsb2JhbFtnb29nLm5ldC5qc2xvYWRlci5HTE9CQUxfVkVSSUZZX09CSlNfXSA9IHt9KTtcbiAgdmFyIHZlcmlmeU9ianMgPSBnb29nLmdsb2JhbFtnb29nLm5ldC5qc2xvYWRlci5HTE9CQUxfVkVSSUZZX09CSlNfXSwgdXJpID0gZ29vZy5odG1sLlRydXN0ZWRSZXNvdXJjZVVybC51bndyYXAodHJ1c3RlZFVyaSk7XG4gIGlmICh2b2lkIDAgIT09IHZlcmlmeU9ianNbdmVyaWZpY2F0aW9uT2JqTmFtZV0pIHtcbiAgICByZXR1cm4gZ29vZy5hc3luYy5EZWZlcnJlZC5mYWlsKG5ldyBnb29nLm5ldC5qc2xvYWRlci5FcnJvcihnb29nLm5ldC5qc2xvYWRlci5FcnJvckNvZGUuVkVSSUZZX09CSkVDVF9BTFJFQURZX0VYSVNUUywgXCJWZXJpZmljYXRpb24gb2JqZWN0IFwiICsgdmVyaWZpY2F0aW9uT2JqTmFtZSArIFwiIGFscmVhZHkgZGVmaW5lZC5cIikpO1xuICB9XG4gIHZhciBzZW5kRGVmZXJyZWQgPSBnb29nLm5ldC5qc2xvYWRlci5zYWZlTG9hZCh0cnVzdGVkVXJpLCBvcHRpb25zKSwgZGVmZXJyZWQgPSBuZXcgZ29vZy5hc3luYy5EZWZlcnJlZChnb29nLmJpbmQoc2VuZERlZmVycmVkLmNhbmNlbCwgc2VuZERlZmVycmVkKSk7XG4gIHNlbmREZWZlcnJlZC5hZGRDYWxsYmFjayhmdW5jdGlvbigpIHtcbiAgICB2YXIgcmVzdWx0ID0gdmVyaWZ5T2Jqc1t2ZXJpZmljYXRpb25PYmpOYW1lXTtcbiAgICB2b2lkIDAgIT09IHJlc3VsdCA/IChkZWZlcnJlZC5jYWxsYmFjayhyZXN1bHQpLCBkZWxldGUgdmVyaWZ5T2Jqc1t2ZXJpZmljYXRpb25PYmpOYW1lXSkgOiBkZWZlcnJlZC5lcnJiYWNrKG5ldyBnb29nLm5ldC5qc2xvYWRlci5FcnJvcihnb29nLm5ldC5qc2xvYWRlci5FcnJvckNvZGUuVkVSSUZZX0VSUk9SLCBcIlNjcmlwdCBcIiArIHVyaSArIFwiIGxvYWRlZCwgYnV0IHZlcmlmaWNhdGlvbiBvYmplY3QgXCIgKyB2ZXJpZmljYXRpb25PYmpOYW1lICsgXCIgd2FzIG5vdCBkZWZpbmVkLlwiKSk7XG4gIH0pO1xuICBzZW5kRGVmZXJyZWQuYWRkRXJyYmFjayhmdW5jdGlvbihlcnJvcikge1xuICAgIHZvaWQgMCAhPT0gdmVyaWZ5T2Jqc1t2ZXJpZmljYXRpb25PYmpOYW1lXSAmJiBkZWxldGUgdmVyaWZ5T2Jqc1t2ZXJpZmljYXRpb25PYmpOYW1lXTtcbiAgICBkZWZlcnJlZC5lcnJiYWNrKGVycm9yKTtcbiAgfSk7XG4gIHJldHVybiBkZWZlcnJlZDtcbn07XG5nb29nLm5ldC5qc2xvYWRlci5nZXRTY3JpcHRQYXJlbnRFbGVtZW50XyA9IGZ1bmN0aW9uKGRvYykge1xuICB2YXIgaGVhZEVsZW1lbnRzID0gZ29vZy5kb20uZ2V0RWxlbWVudHNCeVRhZ05hbWUoZ29vZy5kb20uVGFnTmFtZS5IRUFELCBkb2MpO1xuICByZXR1cm4gaGVhZEVsZW1lbnRzICYmIDAgIT09IGhlYWRFbGVtZW50cy5sZW5ndGggPyBoZWFkRWxlbWVudHNbMF0gOiBkb2MuZG9jdW1lbnRFbGVtZW50O1xufTtcbmdvb2cubmV0LmpzbG9hZGVyLmNhbmNlbF8gPSBmdW5jdGlvbigpIHtcbiAgaWYgKHRoaXMgJiYgdGhpcy5zY3JpcHRfKSB7XG4gICAgdmFyIHNjcmlwdE5vZGUgPSB0aGlzLnNjcmlwdF87XG4gICAgc2NyaXB0Tm9kZSAmJiBzY3JpcHROb2RlLnRhZ05hbWUgPT0gZ29vZy5kb20uVGFnTmFtZS5TQ1JJUFQgJiYgZ29vZy5uZXQuanNsb2FkZXIuY2xlYW51cF8oc2NyaXB0Tm9kZSwgITAsIHRoaXMudGltZW91dF8pO1xuICB9XG59O1xuZ29vZy5uZXQuanNsb2FkZXIuY2xlYW51cF8gPSBmdW5jdGlvbihzY3JpcHROb2RlLCByZW1vdmVTY3JpcHROb2RlLCBvcHRfdGltZW91dCkge1xuICBudWxsICE9IG9wdF90aW1lb3V0ICYmIGdvb2cuZ2xvYmFsLmNsZWFyVGltZW91dChvcHRfdGltZW91dCk7XG4gIHNjcmlwdE5vZGUub25sb2FkID0gZnVuY3Rpb24oKSB7XG4gIH07XG4gIHNjcmlwdE5vZGUub25lcnJvciA9IGZ1bmN0aW9uKCkge1xuICB9O1xuICBzY3JpcHROb2RlLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uKCkge1xuICB9O1xuICByZW1vdmVTY3JpcHROb2RlICYmIHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgIGdvb2cuZG9tLnJlbW92ZU5vZGUoc2NyaXB0Tm9kZSk7XG4gIH0sIDApO1xufTtcbmdvb2cubmV0LmpzbG9hZGVyLkVycm9yQ29kZSA9IHtMT0FEX0VSUk9SOjAsIFRJTUVPVVQ6MSwgVkVSSUZZX0VSUk9SOjIsIFZFUklGWV9PQkpFQ1RfQUxSRUFEWV9FWElTVFM6Myx9O1xuZ29vZy5uZXQuanNsb2FkZXIuRXJyb3IgPSBmdW5jdGlvbihjb2RlLCBvcHRfbWVzc2FnZSkge1xuICB2YXIgbXNnID0gXCJKc2xvYWRlciBlcnJvciAoY29kZSAjXCIgKyBjb2RlICsgXCIpXCI7XG4gIG9wdF9tZXNzYWdlICYmIChtc2cgKz0gXCI6IFwiICsgb3B0X21lc3NhZ2UpO1xuICBtb2R1bGUkY29udGVudHMkZ29vZyRkZWJ1ZyRFcnJvcl9EZWJ1Z0Vycm9yLmNhbGwodGhpcywgbXNnKTtcbiAgdGhpcy5jb2RlID0gY29kZTtcbn07XG5nb29nLmluaGVyaXRzKGdvb2cubmV0LmpzbG9hZGVyLkVycm9yLCBtb2R1bGUkY29udGVudHMkZ29vZyRkZWJ1ZyRFcnJvcl9EZWJ1Z0Vycm9yKTtcbmdvb2cuanNvbiA9IHt9O1xuZ29vZy5qc29uLlJlcGxhY2VyID0ge307XG5nb29nLmpzb24uUmV2aXZlciA9IHt9O1xuZ29vZy5qc29uLlVTRV9OQVRJVkVfSlNPTiA9ICExO1xuZ29vZy5qc29uLmlzVmFsaWQgPSBmdW5jdGlvbihzKSB7XG4gIHJldHVybiAvXlxccyokLy50ZXN0KHMpID8gITEgOiAvXltcXF0sOnt9XFxzXFx1MjAyOFxcdTIwMjldKiQvLnRlc3Qocy5yZXBsYWNlKC9cXFxcW1wiXFxcXFxcL2JmbnJ0dV0vZywgXCJAXCIpLnJlcGxhY2UoLyg/OlwiW15cIlxcXFxcXG5cXHJcXHUyMDI4XFx1MjAyOVxceDAwLVxceDA4XFx4MGEtXFx4MWZdKlwifHRydWV8ZmFsc2V8bnVsbHwtP1xcZCsoPzpcXC5cXGQqKT8oPzpbZUVdWytcXC1dP1xcZCspPylbXFxzXFx1MjAyOFxcdTIwMjldKig/PTp8LHxdfH18JCkvZywgXCJdXCIpLnJlcGxhY2UoLyg/Ol58OnwsKSg/OltcXHNcXHUyMDI4XFx1MjAyOV0qXFxbKSsvZywgXCJcIikpO1xufTtcbmdvb2cuanNvbi5lcnJvckxvZ2dlcl8gPSBmdW5jdGlvbigpIHtcbn07XG5nb29nLmpzb24uc2V0RXJyb3JMb2dnZXIgPSBmdW5jdGlvbihlcnJvckxvZ2dlcikge1xuICBnb29nLmpzb24uZXJyb3JMb2dnZXJfID0gZXJyb3JMb2dnZXI7XG59O1xuZ29vZy5qc29uLnBhcnNlID0gZ29vZy5qc29uLlVTRV9OQVRJVkVfSlNPTiA/IGdvb2cuZ2xvYmFsLkpTT04ucGFyc2UgOiBmdW5jdGlvbihzKSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIGdvb2cuZ2xvYmFsLkpTT04ucGFyc2Uocyk7XG4gIH0gY2F0Y2ggKGV4KSB7XG4gICAgdmFyIGVycm9yID0gZXg7XG4gIH1cbiAgdmFyIG8gPSBTdHJpbmcocyk7XG4gIGlmIChnb29nLmpzb24uaXNWYWxpZChvKSkge1xuICAgIHRyeSB7XG4gICAgICB2YXIgcmVzdWx0ID0gZXZhbChcIihcIiArIG8gKyBcIilcIik7XG4gICAgICBlcnJvciAmJiBnb29nLmpzb24uZXJyb3JMb2dnZXJfKFwiSW52YWxpZCBKU09OOiBcIiArIG8sIGVycm9yKTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSBjYXRjaCAoZXgkNTYpIHtcbiAgICB9XG4gIH1cbiAgdGhyb3cgRXJyb3IoXCJJbnZhbGlkIEpTT04gc3RyaW5nOiBcIiArIG8pO1xufTtcbmdvb2cuanNvbi5zZXJpYWxpemUgPSBnb29nLmpzb24uVVNFX05BVElWRV9KU09OID8gZ29vZy5nbG9iYWwuSlNPTi5zdHJpbmdpZnkgOiBmdW5jdGlvbihvYmplY3QsIG9wdF9yZXBsYWNlcikge1xuICByZXR1cm4gKG5ldyBnb29nLmpzb24uU2VyaWFsaXplcihvcHRfcmVwbGFjZXIpKS5zZXJpYWxpemUob2JqZWN0KTtcbn07XG5nb29nLmpzb24uU2VyaWFsaXplciA9IGZ1bmN0aW9uKG9wdF9yZXBsYWNlcikge1xuICB0aGlzLnJlcGxhY2VyXyA9IG9wdF9yZXBsYWNlcjtcbn07XG5nb29nLmpzb24uU2VyaWFsaXplci5wcm90b3R5cGUuc2VyaWFsaXplID0gZnVuY3Rpb24ob2JqZWN0KSB7XG4gIHZhciBzYiA9IFtdO1xuICB0aGlzLnNlcmlhbGl6ZUludGVybmFsKG9iamVjdCwgc2IpO1xuICByZXR1cm4gc2Iuam9pbihcIlwiKTtcbn07XG5nb29nLmpzb24uU2VyaWFsaXplci5wcm90b3R5cGUuc2VyaWFsaXplSW50ZXJuYWwgPSBmdW5jdGlvbihvYmplY3QsIHNiKSB7XG4gIGlmIChudWxsID09IG9iamVjdCkge1xuICAgIHNiLnB1c2goXCJudWxsXCIpO1xuICB9IGVsc2Uge1xuICAgIGlmIChcIm9iamVjdFwiID09IHR5cGVvZiBvYmplY3QpIHtcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KG9iamVjdCkpIHtcbiAgICAgICAgdGhpcy5zZXJpYWxpemVBcnJheShvYmplY3QsIHNiKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKG9iamVjdCBpbnN0YW5jZW9mIFN0cmluZyB8fCBvYmplY3QgaW5zdGFuY2VvZiBOdW1iZXIgfHwgb2JqZWN0IGluc3RhbmNlb2YgQm9vbGVhbikge1xuICAgICAgICBvYmplY3QgPSBvYmplY3QudmFsdWVPZigpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5zZXJpYWxpemVPYmplY3RfKG9iamVjdCwgc2IpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuICAgIHN3aXRjaCh0eXBlb2Ygb2JqZWN0KSB7XG4gICAgICBjYXNlIFwic3RyaW5nXCI6XG4gICAgICAgIHRoaXMuc2VyaWFsaXplU3RyaW5nXyhvYmplY3QsIHNiKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwibnVtYmVyXCI6XG4gICAgICAgIHRoaXMuc2VyaWFsaXplTnVtYmVyXyhvYmplY3QsIHNiKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiYm9vbGVhblwiOlxuICAgICAgICBzYi5wdXNoKFN0cmluZyhvYmplY3QpKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiZnVuY3Rpb25cIjpcbiAgICAgICAgc2IucHVzaChcIm51bGxcIik7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgdGhyb3cgRXJyb3IoXCJVbmtub3duIHR5cGU6IFwiICsgdHlwZW9mIG9iamVjdCk7XG4gICAgfVxuICB9XG59O1xuZ29vZy5qc29uLlNlcmlhbGl6ZXIuY2hhclRvSnNvbkNoYXJDYWNoZV8gPSB7J1wiJzonXFxcXFwiJywgXCJcXFxcXCI6XCJcXFxcXFxcXFwiLCBcIi9cIjpcIlxcXFwvXCIsIFwiXFxiXCI6XCJcXFxcYlwiLCBcIlxcZlwiOlwiXFxcXGZcIiwgXCJcXG5cIjpcIlxcXFxuXCIsIFwiXFxyXCI6XCJcXFxcclwiLCBcIlxcdFwiOlwiXFxcXHRcIiwgXCJcXHZcIjpcIlxcXFx1MDAwYlwifTtcbmdvb2cuanNvbi5TZXJpYWxpemVyLmNoYXJzVG9SZXBsYWNlXyA9IC9cXHVmZmZmLy50ZXN0KFwiXFx1ZmZmZlwiKSA/IC9bXFxcXFwiXFx4MDAtXFx4MWZcXHg3Zi1cXHVmZmZmXS9nIDogL1tcXFxcXCJcXHgwMC1cXHgxZlxceDdmLVxceGZmXS9nO1xuZ29vZy5qc29uLlNlcmlhbGl6ZXIucHJvdG90eXBlLnNlcmlhbGl6ZVN0cmluZ18gPSBmdW5jdGlvbihzLCBzYikge1xuICBzYi5wdXNoKCdcIicsIHMucmVwbGFjZShnb29nLmpzb24uU2VyaWFsaXplci5jaGFyc1RvUmVwbGFjZV8sIGZ1bmN0aW9uKGMpIHtcbiAgICB2YXIgcnYgPSBnb29nLmpzb24uU2VyaWFsaXplci5jaGFyVG9Kc29uQ2hhckNhY2hlX1tjXTtcbiAgICBydiB8fCAocnYgPSBcIlxcXFx1XCIgKyAoYy5jaGFyQ29kZUF0KDApIHwgNjU1MzYpLnRvU3RyaW5nKDE2KS5zbGljZSgxKSwgZ29vZy5qc29uLlNlcmlhbGl6ZXIuY2hhclRvSnNvbkNoYXJDYWNoZV9bY10gPSBydik7XG4gICAgcmV0dXJuIHJ2O1xuICB9KSwgJ1wiJyk7XG59O1xuZ29vZy5qc29uLlNlcmlhbGl6ZXIucHJvdG90eXBlLnNlcmlhbGl6ZU51bWJlcl8gPSBmdW5jdGlvbihuLCBzYikge1xuICBzYi5wdXNoKGlzRmluaXRlKG4pICYmICFpc05hTihuKSA/IFN0cmluZyhuKSA6IFwibnVsbFwiKTtcbn07XG5nb29nLmpzb24uU2VyaWFsaXplci5wcm90b3R5cGUuc2VyaWFsaXplQXJyYXkgPSBmdW5jdGlvbihhcnIsIHNiKSB7XG4gIHZhciBsID0gYXJyLmxlbmd0aDtcbiAgc2IucHVzaChcIltcIik7XG4gIGZvciAodmFyIHNlcCA9IFwiXCIsIGkgPSAwOyBpIDwgbDsgaSsrKSB7XG4gICAgc2IucHVzaChzZXApO1xuICAgIHZhciB2YWx1ZSA9IGFycltpXTtcbiAgICB0aGlzLnNlcmlhbGl6ZUludGVybmFsKHRoaXMucmVwbGFjZXJfID8gdGhpcy5yZXBsYWNlcl8uY2FsbChhcnIsIFN0cmluZyhpKSwgdmFsdWUpIDogdmFsdWUsIHNiKTtcbiAgICBzZXAgPSBcIixcIjtcbiAgfVxuICBzYi5wdXNoKFwiXVwiKTtcbn07XG5nb29nLmpzb24uU2VyaWFsaXplci5wcm90b3R5cGUuc2VyaWFsaXplT2JqZWN0XyA9IGZ1bmN0aW9uKG9iaiwgc2IpIHtcbiAgc2IucHVzaChcIntcIik7XG4gIHZhciBzZXAgPSBcIlwiLCBrZXk7XG4gIGZvciAoa2V5IGluIG9iaikge1xuICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSB7XG4gICAgICB2YXIgdmFsdWUgPSBvYmpba2V5XTtcbiAgICAgIFwiZnVuY3Rpb25cIiAhPSB0eXBlb2YgdmFsdWUgJiYgKHNiLnB1c2goc2VwKSwgdGhpcy5zZXJpYWxpemVTdHJpbmdfKGtleSwgc2IpLCBzYi5wdXNoKFwiOlwiKSwgdGhpcy5zZXJpYWxpemVJbnRlcm5hbCh0aGlzLnJlcGxhY2VyXyA/IHRoaXMucmVwbGFjZXJfLmNhbGwob2JqLCBrZXksIHZhbHVlKSA6IHZhbHVlLCBzYiksIHNlcCA9IFwiLFwiKTtcbiAgICB9XG4gIH1cbiAgc2IucHVzaChcIn1cIik7XG59O1xuZ29vZy5qc29uLmh5YnJpZCA9IHt9O1xuZ29vZy5qc29uLmh5YnJpZC5zdHJpbmdpZnkgPSBnb29nLmpzb24uVVNFX05BVElWRV9KU09OID8gZ29vZy5nbG9iYWwuSlNPTi5zdHJpbmdpZnkgOiBmdW5jdGlvbihvYmopIHtcbiAgaWYgKGdvb2cuZ2xvYmFsLkpTT04pIHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIGdvb2cuZ2xvYmFsLkpTT04uc3RyaW5naWZ5KG9iaik7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgIH1cbiAgfVxuICByZXR1cm4gZ29vZy5qc29uLnNlcmlhbGl6ZShvYmopO1xufTtcbmdvb2cuanNvbi5oeWJyaWQucGFyc2VfID0gZnVuY3Rpb24oanNvblN0cmluZywgZmFsbGJhY2tQYXJzZXIpIHtcbiAgaWYgKGdvb2cuZ2xvYmFsLkpTT04pIHtcbiAgICB0cnkge1xuICAgICAgdmFyIG9iaiA9IGdvb2cuZ2xvYmFsLkpTT04ucGFyc2UoanNvblN0cmluZyk7XG4gICAgICBnb29nLmFzc2VydHMuYXNzZXJ0KFwib2JqZWN0XCIgPT0gdHlwZW9mIG9iaik7XG4gICAgICByZXR1cm4gb2JqO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGZhbGxiYWNrUGFyc2VyKGpzb25TdHJpbmcpO1xufTtcbmdvb2cuanNvbi5oeWJyaWQucGFyc2UgPSBnb29nLmpzb24uVVNFX05BVElWRV9KU09OID8gZ29vZy5nbG9iYWwuSlNPTi5wYXJzZSA6IGZ1bmN0aW9uKGpzb25TdHJpbmcpIHtcbiAgcmV0dXJuIGdvb2cuanNvbi5oeWJyaWQucGFyc2VfKGpzb25TdHJpbmcsIGdvb2cuanNvbi5wYXJzZSk7XG59O1xuZ29vZy5sb2cgPSB7fTtcbmdvb2cubG9nLkVOQUJMRUQgPSBnb29nLmRlYnVnLkxPR0dJTkdfRU5BQkxFRDtcbmdvb2cubG9nLlJPT1RfTE9HR0VSX05BTUUgPSBcIlwiO1xudmFyIHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkY2xvc3VyZSRsb2ckbG9nJGNsYXNzZGVjbCR2YXIwID0gZnVuY3Rpb24obmFtZSwgdmFsdWUpIHtcbiAgdGhpcy5uYW1lID0gbmFtZTtcbiAgdGhpcy52YWx1ZSA9IHZhbHVlO1xufTtcbnRoaXJkX3BhcnR5JGphdmFzY3JpcHQkY2xvc3VyZSRsb2ckbG9nJGNsYXNzZGVjbCR2YXIwLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5uYW1lO1xufTtcbmdvb2cubG9nLkxldmVsID0gdGhpcmRfcGFydHkkamF2YXNjcmlwdCRjbG9zdXJlJGxvZyRsb2ckY2xhc3NkZWNsJHZhcjA7XG5nb29nLmxvZy5MZXZlbC5PRkYgPSBuZXcgZ29vZy5sb2cuTGV2ZWwoXCJPRkZcIiwgSW5maW5pdHkpO1xuZ29vZy5sb2cuTGV2ZWwuU0hPVVQgPSBuZXcgZ29vZy5sb2cuTGV2ZWwoXCJTSE9VVFwiLCAxMjAwKTtcbmdvb2cubG9nLkxldmVsLlNFVkVSRSA9IG5ldyBnb29nLmxvZy5MZXZlbChcIlNFVkVSRVwiLCAxRTMpO1xuZ29vZy5sb2cuTGV2ZWwuV0FSTklORyA9IG5ldyBnb29nLmxvZy5MZXZlbChcIldBUk5JTkdcIiwgOTAwKTtcbmdvb2cubG9nLkxldmVsLklORk8gPSBuZXcgZ29vZy5sb2cuTGV2ZWwoXCJJTkZPXCIsIDgwMCk7XG5nb29nLmxvZy5MZXZlbC5DT05GSUcgPSBuZXcgZ29vZy5sb2cuTGV2ZWwoXCJDT05GSUdcIiwgNzAwKTtcbmdvb2cubG9nLkxldmVsLkZJTkUgPSBuZXcgZ29vZy5sb2cuTGV2ZWwoXCJGSU5FXCIsIDUwMCk7XG5nb29nLmxvZy5MZXZlbC5GSU5FUiA9IG5ldyBnb29nLmxvZy5MZXZlbChcIkZJTkVSXCIsIDQwMCk7XG5nb29nLmxvZy5MZXZlbC5GSU5FU1QgPSBuZXcgZ29vZy5sb2cuTGV2ZWwoXCJGSU5FU1RcIiwgMzAwKTtcbmdvb2cubG9nLkxldmVsLkFMTCA9IG5ldyBnb29nLmxvZy5MZXZlbChcIkFMTFwiLCAwKTtcbmdvb2cubG9nLkxldmVsLlBSRURFRklORURfTEVWRUxTID0gW2dvb2cubG9nLkxldmVsLk9GRiwgZ29vZy5sb2cuTGV2ZWwuU0hPVVQsIGdvb2cubG9nLkxldmVsLlNFVkVSRSwgZ29vZy5sb2cuTGV2ZWwuV0FSTklORywgZ29vZy5sb2cuTGV2ZWwuSU5GTywgZ29vZy5sb2cuTGV2ZWwuQ09ORklHLCBnb29nLmxvZy5MZXZlbC5GSU5FLCBnb29nLmxvZy5MZXZlbC5GSU5FUiwgZ29vZy5sb2cuTGV2ZWwuRklORVNULCBnb29nLmxvZy5MZXZlbC5BTExdO1xuZ29vZy5sb2cuTGV2ZWwucHJlZGVmaW5lZExldmVsc0NhY2hlXyA9IG51bGw7XG5nb29nLmxvZy5MZXZlbC5jcmVhdGVQcmVkZWZpbmVkTGV2ZWxzQ2FjaGVfID0gZnVuY3Rpb24oKSB7XG4gIGdvb2cubG9nLkxldmVsLnByZWRlZmluZWRMZXZlbHNDYWNoZV8gPSB7fTtcbiAgZm9yICh2YXIgaSA9IDAsIGxldmVsID0gdm9pZCAwOyBsZXZlbCA9IGdvb2cubG9nLkxldmVsLlBSRURFRklORURfTEVWRUxTW2ldOyBpKyspIHtcbiAgICBnb29nLmxvZy5MZXZlbC5wcmVkZWZpbmVkTGV2ZWxzQ2FjaGVfW2xldmVsLnZhbHVlXSA9IGxldmVsLCBnb29nLmxvZy5MZXZlbC5wcmVkZWZpbmVkTGV2ZWxzQ2FjaGVfW2xldmVsLm5hbWVdID0gbGV2ZWw7XG4gIH1cbn07XG5nb29nLmxvZy5MZXZlbC5nZXRQcmVkZWZpbmVkTGV2ZWwgPSBmdW5jdGlvbihuYW1lKSB7XG4gIGdvb2cubG9nLkxldmVsLnByZWRlZmluZWRMZXZlbHNDYWNoZV8gfHwgZ29vZy5sb2cuTGV2ZWwuY3JlYXRlUHJlZGVmaW5lZExldmVsc0NhY2hlXygpO1xuICByZXR1cm4gZ29vZy5sb2cuTGV2ZWwucHJlZGVmaW5lZExldmVsc0NhY2hlX1tuYW1lXSB8fCBudWxsO1xufTtcbmdvb2cubG9nLkxldmVsLmdldFByZWRlZmluZWRMZXZlbEJ5VmFsdWUgPSBmdW5jdGlvbih2YWx1ZSkge1xuICBnb29nLmxvZy5MZXZlbC5wcmVkZWZpbmVkTGV2ZWxzQ2FjaGVfIHx8IGdvb2cubG9nLkxldmVsLmNyZWF0ZVByZWRlZmluZWRMZXZlbHNDYWNoZV8oKTtcbiAgaWYgKHZhbHVlIGluIGdvb2cubG9nLkxldmVsLnByZWRlZmluZWRMZXZlbHNDYWNoZV8pIHtcbiAgICByZXR1cm4gZ29vZy5sb2cuTGV2ZWwucHJlZGVmaW5lZExldmVsc0NhY2hlX1t2YWx1ZV07XG4gIH1cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBnb29nLmxvZy5MZXZlbC5QUkVERUZJTkVEX0xFVkVMUy5sZW5ndGg7ICsraSkge1xuICAgIHZhciBsZXZlbCA9IGdvb2cubG9nLkxldmVsLlBSRURFRklORURfTEVWRUxTW2ldO1xuICAgIGlmIChsZXZlbC52YWx1ZSA8PSB2YWx1ZSkge1xuICAgICAgcmV0dXJuIGxldmVsO1xuICAgIH1cbiAgfVxuICByZXR1cm4gbnVsbDtcbn07XG52YXIgdGhpcmRfcGFydHkkamF2YXNjcmlwdCRjbG9zdXJlJGxvZyRsb2ckY2xhc3NkZWNsJHZhcjEgPSBmdW5jdGlvbigpIHtcbn07XG50aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JGNsb3N1cmUkbG9nJGxvZyRjbGFzc2RlY2wkdmFyMS5wcm90b3R5cGUuZ2V0TmFtZSA9IGZ1bmN0aW9uKCkge1xufTtcbmdvb2cubG9nLkxvZ2dlciA9IHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkY2xvc3VyZSRsb2ckbG9nJGNsYXNzZGVjbCR2YXIxO1xuZ29vZy5sb2cuTG9nZ2VyLkxldmVsID0gZ29vZy5sb2cuTGV2ZWw7XG52YXIgdGhpcmRfcGFydHkkamF2YXNjcmlwdCRjbG9zdXJlJGxvZyRsb2ckY2xhc3NkZWNsJHZhcjIgPSBmdW5jdGlvbihjYXBhY2l0eSkge1xuICB0aGlzLmNhcGFjaXR5XyA9IFwibnVtYmVyXCIgPT09IHR5cGVvZiBjYXBhY2l0eSA/IGNhcGFjaXR5IDogZ29vZy5sb2cuTG9nQnVmZmVyLkNBUEFDSVRZO1xuICB0aGlzLmNsZWFyKCk7XG59O1xudGhpcmRfcGFydHkkamF2YXNjcmlwdCRjbG9zdXJlJGxvZyRsb2ckY2xhc3NkZWNsJHZhcjIucHJvdG90eXBlLmFkZFJlY29yZCA9IGZ1bmN0aW9uKGxldmVsLCBtc2csIGxvZ2dlck5hbWUpIHtcbiAgaWYgKCF0aGlzLmlzQnVmZmVyaW5nRW5hYmxlZCgpKSB7XG4gICAgcmV0dXJuIG5ldyBnb29nLmxvZy5Mb2dSZWNvcmQobGV2ZWwsIG1zZywgbG9nZ2VyTmFtZSk7XG4gIH1cbiAgdmFyIGN1ckluZGV4ID0gKHRoaXMuY3VySW5kZXhfICsgMSkgJSB0aGlzLmNhcGFjaXR5XztcbiAgdGhpcy5jdXJJbmRleF8gPSBjdXJJbmRleDtcbiAgaWYgKHRoaXMuaXNGdWxsXykge1xuICAgIHZhciByZXQgPSB0aGlzLmJ1ZmZlcl9bY3VySW5kZXhdO1xuICAgIHJldC5yZXNldChsZXZlbCwgbXNnLCBsb2dnZXJOYW1lKTtcbiAgICByZXR1cm4gcmV0O1xuICB9XG4gIHRoaXMuaXNGdWxsXyA9IGN1ckluZGV4ID09IHRoaXMuY2FwYWNpdHlfIC0gMTtcbiAgcmV0dXJuIHRoaXMuYnVmZmVyX1tjdXJJbmRleF0gPSBuZXcgZ29vZy5sb2cuTG9nUmVjb3JkKGxldmVsLCBtc2csIGxvZ2dlck5hbWUpO1xufTtcbnRoaXJkX3BhcnR5JGphdmFzY3JpcHQkY2xvc3VyZSRsb2ckbG9nJGNsYXNzZGVjbCR2YXIyLnByb3RvdHlwZS5mb3JFYWNoUmVjb3JkID0gZnVuY3Rpb24oZnVuYykge1xuICB2YXIgYnVmZmVyID0gdGhpcy5idWZmZXJfO1xuICBpZiAoYnVmZmVyWzBdKSB7XG4gICAgdmFyIGN1ckluZGV4ID0gdGhpcy5jdXJJbmRleF8sIGkgPSB0aGlzLmlzRnVsbF8gPyBjdXJJbmRleCA6IC0xO1xuICAgIGRvIHtcbiAgICAgIGkgPSAoaSArIDEpICUgdGhpcy5jYXBhY2l0eV8sIGZ1bmMoYnVmZmVyW2ldKTtcbiAgICB9IHdoaWxlIChpICE9PSBjdXJJbmRleCk7XG4gIH1cbn07XG50aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JGNsb3N1cmUkbG9nJGxvZyRjbGFzc2RlY2wkdmFyMi5wcm90b3R5cGUuaXNCdWZmZXJpbmdFbmFibGVkID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiAwIDwgdGhpcy5jYXBhY2l0eV87XG59O1xudGhpcmRfcGFydHkkamF2YXNjcmlwdCRjbG9zdXJlJGxvZyRsb2ckY2xhc3NkZWNsJHZhcjIucHJvdG90eXBlLmlzRnVsbCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5pc0Z1bGxfO1xufTtcbnRoaXJkX3BhcnR5JGphdmFzY3JpcHQkY2xvc3VyZSRsb2ckbG9nJGNsYXNzZGVjbCR2YXIyLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLmJ1ZmZlcl8gPSBBcnJheSh0aGlzLmNhcGFjaXR5Xyk7XG4gIHRoaXMuY3VySW5kZXhfID0gLTE7XG4gIHRoaXMuaXNGdWxsXyA9ICExO1xufTtcbmdvb2cubG9nLkxvZ0J1ZmZlciA9IHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkY2xvc3VyZSRsb2ckbG9nJGNsYXNzZGVjbCR2YXIyO1xuZ29vZy5sb2cuTG9nQnVmZmVyLkNBUEFDSVRZID0gMDtcbmdvb2cubG9nLkxvZ0J1ZmZlci5nZXRJbnN0YW5jZSA9IGZ1bmN0aW9uKCkge1xuICBnb29nLmxvZy5Mb2dCdWZmZXIuaW5zdGFuY2VfIHx8IChnb29nLmxvZy5Mb2dCdWZmZXIuaW5zdGFuY2VfID0gbmV3IGdvb2cubG9nLkxvZ0J1ZmZlcihnb29nLmxvZy5Mb2dCdWZmZXIuQ0FQQUNJVFkpKTtcbiAgcmV0dXJuIGdvb2cubG9nLkxvZ0J1ZmZlci5pbnN0YW5jZV87XG59O1xuZ29vZy5sb2cuTG9nQnVmZmVyLmlzQnVmZmVyaW5nRW5hYmxlZCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gZ29vZy5sb2cuTG9nQnVmZmVyLmdldEluc3RhbmNlKCkuaXNCdWZmZXJpbmdFbmFibGVkKCk7XG59O1xudmFyIHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkY2xvc3VyZSRsb2ckbG9nJGNsYXNzZGVjbCR2YXIzID0gZnVuY3Rpb24obGV2ZWwsIG1zZywgbG9nZ2VyTmFtZSwgdGltZSwgc2VxdWVuY2VOdW1iZXIpIHtcbiAgdGhpcy5leGNlcHRpb25fID0gdm9pZCAwO1xuICB0aGlzLnJlc2V0KGxldmVsIHx8IGdvb2cubG9nLkxldmVsLk9GRiwgbXNnLCBsb2dnZXJOYW1lLCB0aW1lLCBzZXF1ZW5jZU51bWJlcik7XG59O1xudGhpcmRfcGFydHkkamF2YXNjcmlwdCRjbG9zdXJlJGxvZyRsb2ckY2xhc3NkZWNsJHZhcjMucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24obGV2ZWwsIG1zZywgbG9nZ2VyTmFtZSwgdGltZSwgc2VxdWVuY2VOdW1iZXIpIHtcbiAgdGhpcy50aW1lXyA9IHRpbWUgfHwgZ29vZy5ub3coKTtcbiAgdGhpcy5sZXZlbF8gPSBsZXZlbDtcbiAgdGhpcy5tc2dfID0gbXNnO1xuICB0aGlzLmxvZ2dlck5hbWVfID0gbG9nZ2VyTmFtZTtcbiAgdGhpcy5leGNlcHRpb25fID0gdm9pZCAwO1xuICB0aGlzLnNlcXVlbmNlTnVtYmVyXyA9IFwibnVtYmVyXCIgPT09IHR5cGVvZiBzZXF1ZW5jZU51bWJlciA/IHNlcXVlbmNlTnVtYmVyIDogZ29vZy5sb2cuTG9nUmVjb3JkLm5leHRTZXF1ZW5jZU51bWJlcl87XG59O1xudGhpcmRfcGFydHkkamF2YXNjcmlwdCRjbG9zdXJlJGxvZyRsb2ckY2xhc3NkZWNsJHZhcjMucHJvdG90eXBlLmdldExvZ2dlck5hbWUgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMubG9nZ2VyTmFtZV87XG59O1xudGhpcmRfcGFydHkkamF2YXNjcmlwdCRjbG9zdXJlJGxvZyRsb2ckY2xhc3NkZWNsJHZhcjMucHJvdG90eXBlLnNldExvZ2dlck5hbWUgPSBmdW5jdGlvbihuYW1lKSB7XG4gIHRoaXMubG9nZ2VyTmFtZV8gPSBuYW1lO1xufTtcbnRoaXJkX3BhcnR5JGphdmFzY3JpcHQkY2xvc3VyZSRsb2ckbG9nJGNsYXNzZGVjbCR2YXIzLnByb3RvdHlwZS5nZXRFeGNlcHRpb24gPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuZXhjZXB0aW9uXztcbn07XG50aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JGNsb3N1cmUkbG9nJGxvZyRjbGFzc2RlY2wkdmFyMy5wcm90b3R5cGUuc2V0RXhjZXB0aW9uID0gZnVuY3Rpb24oZXhjZXB0aW9uKSB7XG4gIHRoaXMuZXhjZXB0aW9uXyA9IGV4Y2VwdGlvbjtcbn07XG50aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JGNsb3N1cmUkbG9nJGxvZyRjbGFzc2RlY2wkdmFyMy5wcm90b3R5cGUuZ2V0TGV2ZWwgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMubGV2ZWxfO1xufTtcbnRoaXJkX3BhcnR5JGphdmFzY3JpcHQkY2xvc3VyZSRsb2ckbG9nJGNsYXNzZGVjbCR2YXIzLnByb3RvdHlwZS5zZXRMZXZlbCA9IGZ1bmN0aW9uKGxldmVsKSB7XG4gIHRoaXMubGV2ZWxfID0gbGV2ZWw7XG59O1xudGhpcmRfcGFydHkkamF2YXNjcmlwdCRjbG9zdXJlJGxvZyRsb2ckY2xhc3NkZWNsJHZhcjMucHJvdG90eXBlLmdldE1lc3NhZ2UgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMubXNnXztcbn07XG50aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JGNsb3N1cmUkbG9nJGxvZyRjbGFzc2RlY2wkdmFyMy5wcm90b3R5cGUuc2V0TWVzc2FnZSA9IGZ1bmN0aW9uKG1zZykge1xuICB0aGlzLm1zZ18gPSBtc2c7XG59O1xudGhpcmRfcGFydHkkamF2YXNjcmlwdCRjbG9zdXJlJGxvZyRsb2ckY2xhc3NkZWNsJHZhcjMucHJvdG90eXBlLmdldE1pbGxpcyA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy50aW1lXztcbn07XG50aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JGNsb3N1cmUkbG9nJGxvZyRjbGFzc2RlY2wkdmFyMy5wcm90b3R5cGUuc2V0TWlsbGlzID0gZnVuY3Rpb24odGltZSkge1xuICB0aGlzLnRpbWVfID0gdGltZTtcbn07XG50aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JGNsb3N1cmUkbG9nJGxvZyRjbGFzc2RlY2wkdmFyMy5wcm90b3R5cGUuZ2V0U2VxdWVuY2VOdW1iZXIgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuc2VxdWVuY2VOdW1iZXJfO1xufTtcbmdvb2cubG9nLkxvZ1JlY29yZCA9IHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkY2xvc3VyZSRsb2ckbG9nJGNsYXNzZGVjbCR2YXIzO1xuZ29vZy5sb2cuTG9nUmVjb3JkLm5leHRTZXF1ZW5jZU51bWJlcl8gPSAwO1xudmFyIHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkY2xvc3VyZSRsb2ckbG9nJGNsYXNzZGVjbCR2YXI0ID0gZnVuY3Rpb24obmFtZSwgcGFyZW50KSB7XG4gIHRoaXMubGV2ZWwgPSBudWxsO1xuICB0aGlzLmhhbmRsZXJzID0gW107XG4gIHRoaXMucGFyZW50ID0gKHZvaWQgMCA9PT0gcGFyZW50ID8gbnVsbCA6IHBhcmVudCkgfHwgbnVsbDtcbiAgdGhpcy5jaGlsZHJlbiA9IFtdO1xuICB0aGlzLmxvZ2dlciA9IHtnZXROYW1lOmZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBuYW1lO1xuICB9fTtcbn07XG50aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JGNsb3N1cmUkbG9nJGxvZyRjbGFzc2RlY2wkdmFyNC5wcm90b3R5cGUuZ2V0RWZmZWN0aXZlTGV2ZWwgPSBmdW5jdGlvbigpIHtcbiAgaWYgKHRoaXMubGV2ZWwpIHtcbiAgICByZXR1cm4gdGhpcy5sZXZlbDtcbiAgfVxuICBpZiAodGhpcy5wYXJlbnQpIHtcbiAgICByZXR1cm4gdGhpcy5wYXJlbnQuZ2V0RWZmZWN0aXZlTGV2ZWwoKTtcbiAgfVxuICBnb29nLmFzc2VydHMuZmFpbChcIlJvb3QgbG9nZ2VyIGhhcyBubyBsZXZlbCBzZXQuXCIpO1xuICByZXR1cm4gZ29vZy5sb2cuTGV2ZWwuT0ZGO1xufTtcbnRoaXJkX3BhcnR5JGphdmFzY3JpcHQkY2xvc3VyZSRsb2ckbG9nJGNsYXNzZGVjbCR2YXI0LnByb3RvdHlwZS5wdWJsaXNoID0gZnVuY3Rpb24obG9nUmVjb3JkKSB7XG4gIGZvciAodmFyIHRhcmdldCA9IHRoaXM7IHRhcmdldDspIHtcbiAgICB0YXJnZXQuaGFuZGxlcnMuZm9yRWFjaChmdW5jdGlvbihoYW5kbGVyKSB7XG4gICAgICBoYW5kbGVyKGxvZ1JlY29yZCk7XG4gICAgfSksIHRhcmdldCA9IHRhcmdldC5wYXJlbnQ7XG4gIH1cbn07XG5nb29nLmxvZy5Mb2dSZWdpc3RyeUVudHJ5XyA9IHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkY2xvc3VyZSRsb2ckbG9nJGNsYXNzZGVjbCR2YXI0O1xudmFyIHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkY2xvc3VyZSRsb2ckbG9nJGNsYXNzZGVjbCR2YXI1ID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMuZW50cmllcyA9IHt9O1xuICB2YXIgcm9vdExvZ1JlZ2lzdHJ5RW50cnkgPSBuZXcgZ29vZy5sb2cuTG9nUmVnaXN0cnlFbnRyeV8oZ29vZy5sb2cuUk9PVF9MT0dHRVJfTkFNRSk7XG4gIHJvb3RMb2dSZWdpc3RyeUVudHJ5LmxldmVsID0gZ29vZy5sb2cuTGV2ZWwuQ09ORklHO1xuICB0aGlzLmVudHJpZXNbZ29vZy5sb2cuUk9PVF9MT0dHRVJfTkFNRV0gPSByb290TG9nUmVnaXN0cnlFbnRyeTtcbn07XG50aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JGNsb3N1cmUkbG9nJGxvZyRjbGFzc2RlY2wkdmFyNS5wcm90b3R5cGUuZ2V0TG9nUmVnaXN0cnlFbnRyeSA9IGZ1bmN0aW9uKG5hbWUsIGxldmVsKSB7XG4gIHZhciBlbnRyeSA9IHRoaXMuZW50cmllc1tuYW1lXTtcbiAgaWYgKGVudHJ5KSB7XG4gICAgcmV0dXJuIHZvaWQgMCAhPT0gbGV2ZWwgJiYgKGVudHJ5LmxldmVsID0gbGV2ZWwpLCBlbnRyeTtcbiAgfVxuICB2YXIgbGFzdERvdEluZGV4ID0gbmFtZS5sYXN0SW5kZXhPZihcIi5cIiksIHBhcmVudE5hbWUgPSBuYW1lLnNsaWNlKDAsIE1hdGgubWF4KGxhc3REb3RJbmRleCwgMCkpLCBwYXJlbnRMb2dSZWdpc3RyeUVudHJ5ID0gdGhpcy5nZXRMb2dSZWdpc3RyeUVudHJ5KHBhcmVudE5hbWUpLCBsb2dSZWdpc3RyeUVudHJ5ID0gbmV3IGdvb2cubG9nLkxvZ1JlZ2lzdHJ5RW50cnlfKG5hbWUsIHBhcmVudExvZ1JlZ2lzdHJ5RW50cnkpO1xuICB0aGlzLmVudHJpZXNbbmFtZV0gPSBsb2dSZWdpc3RyeUVudHJ5O1xuICBwYXJlbnRMb2dSZWdpc3RyeUVudHJ5LmNoaWxkcmVuLnB1c2gobG9nUmVnaXN0cnlFbnRyeSk7XG4gIHZvaWQgMCAhPT0gbGV2ZWwgJiYgKGxvZ1JlZ2lzdHJ5RW50cnkubGV2ZWwgPSBsZXZlbCk7XG4gIHJldHVybiBsb2dSZWdpc3RyeUVudHJ5O1xufTtcbnRoaXJkX3BhcnR5JGphdmFzY3JpcHQkY2xvc3VyZSRsb2ckbG9nJGNsYXNzZGVjbCR2YXI1LnByb3RvdHlwZS5nZXRBbGxMb2dnZXJzID0gZnVuY3Rpb24oKSB7XG4gIHZhciAkanNjb21wJHRoaXMgPSB0aGlzO1xuICByZXR1cm4gT2JqZWN0LmtleXModGhpcy5lbnRyaWVzKS5tYXAoZnVuY3Rpb24obG9nZ2VyTmFtZSkge1xuICAgIHJldHVybiAkanNjb21wJHRoaXMuZW50cmllc1tsb2dnZXJOYW1lXS5sb2dnZXI7XG4gIH0pO1xufTtcbmdvb2cubG9nLkxvZ1JlZ2lzdHJ5XyA9IHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkY2xvc3VyZSRsb2ckbG9nJGNsYXNzZGVjbCR2YXI1O1xuZ29vZy5sb2cuTG9nUmVnaXN0cnlfLmdldEluc3RhbmNlID0gZnVuY3Rpb24oKSB7XG4gIGdvb2cubG9nLkxvZ1JlZ2lzdHJ5Xy5pbnN0YW5jZV8gfHwgKGdvb2cubG9nLkxvZ1JlZ2lzdHJ5Xy5pbnN0YW5jZV8gPSBuZXcgZ29vZy5sb2cuTG9nUmVnaXN0cnlfKCkpO1xuICByZXR1cm4gZ29vZy5sb2cuTG9nUmVnaXN0cnlfLmluc3RhbmNlXztcbn07XG5nb29nLmxvZy5nZXRMb2dnZXIgPSBmdW5jdGlvbihuYW1lLCBsZXZlbCkge1xuICByZXR1cm4gZ29vZy5sb2cuRU5BQkxFRCA/IGdvb2cubG9nLkxvZ1JlZ2lzdHJ5Xy5nZXRJbnN0YW5jZSgpLmdldExvZ1JlZ2lzdHJ5RW50cnkobmFtZSwgbGV2ZWwpLmxvZ2dlciA6IG51bGw7XG59O1xuZ29vZy5sb2cuZ2V0Um9vdExvZ2dlciA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gZ29vZy5sb2cuRU5BQkxFRCA/IGdvb2cubG9nLkxvZ1JlZ2lzdHJ5Xy5nZXRJbnN0YW5jZSgpLmdldExvZ1JlZ2lzdHJ5RW50cnkoZ29vZy5sb2cuUk9PVF9MT0dHRVJfTkFNRSkubG9nZ2VyIDogbnVsbDtcbn07XG5nb29nLmxvZy5hZGRIYW5kbGVyID0gZnVuY3Rpb24obG9nZ2VyLCBoYW5kbGVyKSB7XG4gIGdvb2cubG9nLkVOQUJMRUQgJiYgbG9nZ2VyICYmIGdvb2cubG9nLkxvZ1JlZ2lzdHJ5Xy5nZXRJbnN0YW5jZSgpLmdldExvZ1JlZ2lzdHJ5RW50cnkobG9nZ2VyLmdldE5hbWUoKSkuaGFuZGxlcnMucHVzaChoYW5kbGVyKTtcbn07XG5nb29nLmxvZy5yZW1vdmVIYW5kbGVyID0gZnVuY3Rpb24obG9nZ2VyLCBoYW5kbGVyKSB7XG4gIGlmIChnb29nLmxvZy5FTkFCTEVEICYmIGxvZ2dlcikge1xuICAgIHZhciBsb2dnZXJFbnRyeSA9IGdvb2cubG9nLkxvZ1JlZ2lzdHJ5Xy5nZXRJbnN0YW5jZSgpLmdldExvZ1JlZ2lzdHJ5RW50cnkobG9nZ2VyLmdldE5hbWUoKSksIGluZGV4T2ZIYW5kbGVyID0gbG9nZ2VyRW50cnkuaGFuZGxlcnMuaW5kZXhPZihoYW5kbGVyKTtcbiAgICBpZiAoLTEgIT09IGluZGV4T2ZIYW5kbGVyKSB7XG4gICAgICByZXR1cm4gbG9nZ2VyRW50cnkuaGFuZGxlcnMuc3BsaWNlKGluZGV4T2ZIYW5kbGVyLCAxKSwgITA7XG4gICAgfVxuICB9XG4gIHJldHVybiAhMTtcbn07XG5nb29nLmxvZy5zZXRMZXZlbCA9IGZ1bmN0aW9uKGxvZ2dlciwgbGV2ZWwpIHtcbiAgZ29vZy5sb2cuRU5BQkxFRCAmJiBsb2dnZXIgJiYgKGdvb2cubG9nLkxvZ1JlZ2lzdHJ5Xy5nZXRJbnN0YW5jZSgpLmdldExvZ1JlZ2lzdHJ5RW50cnkobG9nZ2VyLmdldE5hbWUoKSkubGV2ZWwgPSBsZXZlbCk7XG59O1xuZ29vZy5sb2cuZ2V0TGV2ZWwgPSBmdW5jdGlvbihsb2dnZXIpIHtcbiAgcmV0dXJuIGdvb2cubG9nLkVOQUJMRUQgJiYgbG9nZ2VyID8gZ29vZy5sb2cuTG9nUmVnaXN0cnlfLmdldEluc3RhbmNlKCkuZ2V0TG9nUmVnaXN0cnlFbnRyeShsb2dnZXIuZ2V0TmFtZSgpKS5sZXZlbCA6IG51bGw7XG59O1xuZ29vZy5sb2cuZ2V0RWZmZWN0aXZlTGV2ZWwgPSBmdW5jdGlvbihsb2dnZXIpIHtcbiAgcmV0dXJuIGdvb2cubG9nLkVOQUJMRUQgJiYgbG9nZ2VyID8gZ29vZy5sb2cuTG9nUmVnaXN0cnlfLmdldEluc3RhbmNlKCkuZ2V0TG9nUmVnaXN0cnlFbnRyeShsb2dnZXIuZ2V0TmFtZSgpKS5nZXRFZmZlY3RpdmVMZXZlbCgpIDogZ29vZy5sb2cuTGV2ZWwuT0ZGO1xufTtcbmdvb2cubG9nLmlzTG9nZ2FibGUgPSBmdW5jdGlvbihsb2dnZXIsIGxldmVsKSB7XG4gIHJldHVybiBnb29nLmxvZy5FTkFCTEVEICYmIGxvZ2dlciAmJiBsZXZlbCA/IGxldmVsLnZhbHVlID49IGdvb2cubG9nLmdldEVmZmVjdGl2ZUxldmVsKGxvZ2dlcikudmFsdWUgOiAhMTtcbn07XG5nb29nLmxvZy5nZXRBbGxMb2dnZXJzID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBnb29nLmxvZy5FTkFCTEVEID8gZ29vZy5sb2cuTG9nUmVnaXN0cnlfLmdldEluc3RhbmNlKCkuZ2V0QWxsTG9nZ2VycygpIDogW107XG59O1xuZ29vZy5sb2cuZ2V0TG9nUmVjb3JkID0gZnVuY3Rpb24obG9nZ2VyLCBsZXZlbCwgbXNnLCBleGNlcHRpb24pIHtcbiAgdmFyIGxvZ1JlY29yZCA9IGdvb2cubG9nLkxvZ0J1ZmZlci5nZXRJbnN0YW5jZSgpLmFkZFJlY29yZChsZXZlbCB8fCBnb29nLmxvZy5MZXZlbC5PRkYsIG1zZywgbG9nZ2VyLmdldE5hbWUoKSk7XG4gIGxvZ1JlY29yZC5zZXRFeGNlcHRpb24oZXhjZXB0aW9uKTtcbiAgcmV0dXJuIGxvZ1JlY29yZDtcbn07XG5nb29nLmxvZy5wdWJsaXNoTG9nUmVjb3JkID0gZnVuY3Rpb24obG9nZ2VyLCBsb2dSZWNvcmQpIHtcbiAgZ29vZy5sb2cuRU5BQkxFRCAmJiBsb2dnZXIgJiYgZ29vZy5sb2cuaXNMb2dnYWJsZShsb2dnZXIsIGxvZ1JlY29yZC5nZXRMZXZlbCgpKSAmJiBnb29nLmxvZy5Mb2dSZWdpc3RyeV8uZ2V0SW5zdGFuY2UoKS5nZXRMb2dSZWdpc3RyeUVudHJ5KGxvZ2dlci5nZXROYW1lKCkpLnB1Ymxpc2gobG9nUmVjb3JkKTtcbn07XG5nb29nLmxvZy5sb2cgPSBmdW5jdGlvbihsb2dnZXIsIGxldmVsLCBtc2csIGV4Y2VwdGlvbikge1xuICBpZiAoZ29vZy5sb2cuRU5BQkxFRCAmJiBsb2dnZXIgJiYgZ29vZy5sb2cuaXNMb2dnYWJsZShsb2dnZXIsIGxldmVsKSkge1xuICAgIGxldmVsID0gbGV2ZWwgfHwgZ29vZy5sb2cuTGV2ZWwuT0ZGO1xuICAgIHZhciBsb2dnZXJFbnRyeSA9IGdvb2cubG9nLkxvZ1JlZ2lzdHJ5Xy5nZXRJbnN0YW5jZSgpLmdldExvZ1JlZ2lzdHJ5RW50cnkobG9nZ2VyLmdldE5hbWUoKSk7XG4gICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgbXNnICYmIChtc2cgPSBtc2coKSk7XG4gICAgdmFyIGxvZ1JlY29yZCA9IGdvb2cubG9nLkxvZ0J1ZmZlci5nZXRJbnN0YW5jZSgpLmFkZFJlY29yZChsZXZlbCwgbXNnLCBsb2dnZXIuZ2V0TmFtZSgpKTtcbiAgICBsb2dSZWNvcmQuc2V0RXhjZXB0aW9uKGV4Y2VwdGlvbik7XG4gICAgbG9nZ2VyRW50cnkucHVibGlzaChsb2dSZWNvcmQpO1xuICB9XG59O1xuZ29vZy5sb2cuZXJyb3IgPSBmdW5jdGlvbihsb2dnZXIsIG1zZywgZXhjZXB0aW9uKSB7XG4gIGdvb2cubG9nLkVOQUJMRUQgJiYgbG9nZ2VyICYmIGdvb2cubG9nLmxvZyhsb2dnZXIsIGdvb2cubG9nLkxldmVsLlNFVkVSRSwgbXNnLCBleGNlcHRpb24pO1xufTtcbmdvb2cubG9nLndhcm5pbmcgPSBmdW5jdGlvbihsb2dnZXIsIG1zZywgZXhjZXB0aW9uKSB7XG4gIGdvb2cubG9nLkVOQUJMRUQgJiYgbG9nZ2VyICYmIGdvb2cubG9nLmxvZyhsb2dnZXIsIGdvb2cubG9nLkxldmVsLldBUk5JTkcsIG1zZywgZXhjZXB0aW9uKTtcbn07XG5nb29nLmxvZy5pbmZvID0gZnVuY3Rpb24obG9nZ2VyLCBtc2csIGV4Y2VwdGlvbikge1xuICBnb29nLmxvZy5FTkFCTEVEICYmIGxvZ2dlciAmJiBnb29nLmxvZy5sb2cobG9nZ2VyLCBnb29nLmxvZy5MZXZlbC5JTkZPLCBtc2csIGV4Y2VwdGlvbik7XG59O1xuZ29vZy5sb2cuZmluZSA9IGZ1bmN0aW9uKGxvZ2dlciwgbXNnLCBleGNlcHRpb24pIHtcbiAgZ29vZy5sb2cuRU5BQkxFRCAmJiBsb2dnZXIgJiYgZ29vZy5sb2cubG9nKGxvZ2dlciwgZ29vZy5sb2cuTGV2ZWwuRklORSwgbXNnLCBleGNlcHRpb24pO1xufTtcbmdvb2cubmV0LkVycm9yQ29kZSA9IHtOT19FUlJPUjowLCBBQ0NFU1NfREVOSUVEOjEsIEZJTEVfTk9UX0ZPVU5EOjIsIEZGX1NJTEVOVF9FUlJPUjozLCBDVVNUT01fRVJST1I6NCwgRVhDRVBUSU9OOjUsIEhUVFBfRVJST1I6NiwgQUJPUlQ6NywgVElNRU9VVDo4LCBPRkZMSU5FOjksfTtcbmdvb2cubmV0LkVycm9yQ29kZS5nZXREZWJ1Z01lc3NhZ2UgPSBmdW5jdGlvbihlcnJvckNvZGUpIHtcbiAgc3dpdGNoKGVycm9yQ29kZSkge1xuICAgIGNhc2UgZ29vZy5uZXQuRXJyb3JDb2RlLk5PX0VSUk9SOlxuICAgICAgcmV0dXJuIFwiTm8gRXJyb3JcIjtcbiAgICBjYXNlIGdvb2cubmV0LkVycm9yQ29kZS5BQ0NFU1NfREVOSUVEOlxuICAgICAgcmV0dXJuIFwiQWNjZXNzIGRlbmllZCB0byBjb250ZW50IGRvY3VtZW50XCI7XG4gICAgY2FzZSBnb29nLm5ldC5FcnJvckNvZGUuRklMRV9OT1RfRk9VTkQ6XG4gICAgICByZXR1cm4gXCJGaWxlIG5vdCBmb3VuZFwiO1xuICAgIGNhc2UgZ29vZy5uZXQuRXJyb3JDb2RlLkZGX1NJTEVOVF9FUlJPUjpcbiAgICAgIHJldHVybiBcIkZpcmVmb3ggc2lsZW50bHkgZXJyb3JlZFwiO1xuICAgIGNhc2UgZ29vZy5uZXQuRXJyb3JDb2RlLkNVU1RPTV9FUlJPUjpcbiAgICAgIHJldHVybiBcIkFwcGxpY2F0aW9uIGN1c3RvbSBlcnJvclwiO1xuICAgIGNhc2UgZ29vZy5uZXQuRXJyb3JDb2RlLkVYQ0VQVElPTjpcbiAgICAgIHJldHVybiBcIkFuIGV4Y2VwdGlvbiBvY2N1cnJlZFwiO1xuICAgIGNhc2UgZ29vZy5uZXQuRXJyb3JDb2RlLkhUVFBfRVJST1I6XG4gICAgICByZXR1cm4gXCJIdHRwIHJlc3BvbnNlIGF0IDQwMCBvciA1MDAgbGV2ZWxcIjtcbiAgICBjYXNlIGdvb2cubmV0LkVycm9yQ29kZS5BQk9SVDpcbiAgICAgIHJldHVybiBcIlJlcXVlc3Qgd2FzIGFib3J0ZWRcIjtcbiAgICBjYXNlIGdvb2cubmV0LkVycm9yQ29kZS5USU1FT1VUOlxuICAgICAgcmV0dXJuIFwiUmVxdWVzdCB0aW1lZCBvdXRcIjtcbiAgICBjYXNlIGdvb2cubmV0LkVycm9yQ29kZS5PRkZMSU5FOlxuICAgICAgcmV0dXJuIFwiVGhlIHJlc291cmNlIGlzIG5vdCBhdmFpbGFibGUgb2ZmbGluZVwiO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gXCJVbnJlY29nbml6ZWQgZXJyb3IgY29kZVwiO1xuICB9XG59O1xuZ29vZy5uZXQuRXZlbnRUeXBlID0ge0NPTVBMRVRFOlwiY29tcGxldGVcIiwgU1VDQ0VTUzpcInN1Y2Nlc3NcIiwgRVJST1I6XCJlcnJvclwiLCBBQk9SVDpcImFib3J0XCIsIFJFQURZOlwicmVhZHlcIiwgUkVBRFlfU1RBVEVfQ0hBTkdFOlwicmVhZHlzdGF0ZWNoYW5nZVwiLCBUSU1FT1VUOlwidGltZW91dFwiLCBJTkNSRU1FTlRBTF9EQVRBOlwiaW5jcmVtZW50YWxkYXRhXCIsIFBST0dSRVNTOlwicHJvZ3Jlc3NcIiwgRE9XTkxPQURfUFJPR1JFU1M6XCJkb3dubG9hZHByb2dyZXNzXCIsIFVQTE9BRF9QUk9HUkVTUzpcInVwbG9hZHByb2dyZXNzXCIsfTtcbmdvb2cubmV0Lkh0dHBTdGF0dXMgPSB7Q09OVElOVUU6MTAwLCBTV0lUQ0hJTkdfUFJPVE9DT0xTOjEwMSwgT0s6MjAwLCBDUkVBVEVEOjIwMSwgQUNDRVBURUQ6MjAyLCBOT05fQVVUSE9SSVRBVElWRV9JTkZPUk1BVElPTjoyMDMsIE5PX0NPTlRFTlQ6MjA0LCBSRVNFVF9DT05URU5UOjIwNSwgUEFSVElBTF9DT05URU5UOjIwNiwgTVVMVElfU1RBVFVTOjIwNywgTVVMVElQTEVfQ0hPSUNFUzozMDAsIE1PVkVEX1BFUk1BTkVOVExZOjMwMSwgRk9VTkQ6MzAyLCBTRUVfT1RIRVI6MzAzLCBOT1RfTU9ESUZJRUQ6MzA0LCBVU0VfUFJPWFk6MzA1LCBURU1QT1JBUllfUkVESVJFQ1Q6MzA3LCBQRVJNQU5FTlRfUkVESVJFQ1Q6MzA4LCBCQURfUkVRVUVTVDo0MDAsIFVOQVVUSE9SSVpFRDo0MDEsIFBBWU1FTlRfUkVRVUlSRUQ6NDAyLCBGT1JCSURERU46NDAzLCBOT1RfRk9VTkQ6NDA0LCBNRVRIT0RfTk9UX0FMTE9XRUQ6NDA1LCBOT1RfQUNDRVBUQUJMRTo0MDYsIFBST1hZX0FVVEhFTlRJQ0FUSU9OX1JFUVVJUkVEOjQwNywgXG5SRVFVRVNUX1RJTUVPVVQ6NDA4LCBDT05GTElDVDo0MDksIEdPTkU6NDEwLCBMRU5HVEhfUkVRVUlSRUQ6NDExLCBQUkVDT05ESVRJT05fRkFJTEVEOjQxMiwgUkVRVUVTVF9FTlRJVFlfVE9PX0xBUkdFOjQxMywgUkVRVUVTVF9VUklfVE9PX0xPTkc6NDE0LCBVTlNVUFBPUlRFRF9NRURJQV9UWVBFOjQxNSwgUkVRVUVTVF9SQU5HRV9OT1RfU0FUSVNGSUFCTEU6NDE2LCBFWFBFQ1RBVElPTl9GQUlMRUQ6NDE3LCBVTlBST0NFU1NBQkxFX0VOVElUWTo0MjIsIExPQ0tFRDo0MjMsIEZBSUxFRF9ERVBFTkRFTkNZOjQyNCwgUFJFQ09ORElUSU9OX1JFUVVJUkVEOjQyOCwgVE9PX01BTllfUkVRVUVTVFM6NDI5LCBSRVFVRVNUX0hFQURFUl9GSUVMRFNfVE9PX0xBUkdFOjQzMSwgQ0xJRU5UX0NMT1NFRF9SRVFVRVNUOjQ5OSwgSU5URVJOQUxfU0VSVkVSX0VSUk9SOjUwMCwgTk9UX0lNUExFTUVOVEVEOjUwMSwgQkFEX0dBVEVXQVk6NTAyLCBTRVJWSUNFX1VOQVZBSUxBQkxFOjUwMywgR0FURVdBWV9USU1FT1VUOjUwNCwgXG5IVFRQX1ZFUlNJT05fTk9UX1NVUFBPUlRFRDo1MDUsIElOU1VGRklDSUVOVF9TVE9SQUdFOjUwNywgTkVUV09SS19BVVRIRU5USUNBVElPTl9SRVFVSVJFRDo1MTEsIFFVSVJLX0lFX05PX0NPTlRFTlQ6MTIyMyx9O1xuZ29vZy5uZXQuSHR0cFN0YXR1cy5pc1N1Y2Nlc3MgPSBmdW5jdGlvbihzdGF0dXMpIHtcbiAgc3dpdGNoKHN0YXR1cykge1xuICAgIGNhc2UgZ29vZy5uZXQuSHR0cFN0YXR1cy5PSzpcbiAgICBjYXNlIGdvb2cubmV0Lkh0dHBTdGF0dXMuQ1JFQVRFRDpcbiAgICBjYXNlIGdvb2cubmV0Lkh0dHBTdGF0dXMuQUNDRVBURUQ6XG4gICAgY2FzZSBnb29nLm5ldC5IdHRwU3RhdHVzLk5PX0NPTlRFTlQ6XG4gICAgY2FzZSBnb29nLm5ldC5IdHRwU3RhdHVzLlBBUlRJQUxfQ09OVEVOVDpcbiAgICBjYXNlIGdvb2cubmV0Lkh0dHBTdGF0dXMuTk9UX01PRElGSUVEOlxuICAgIGNhc2UgZ29vZy5uZXQuSHR0cFN0YXR1cy5RVUlSS19JRV9OT19DT05URU5UOlxuICAgICAgcmV0dXJuICEwO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gITE7XG4gIH1cbn07XG5nb29nLm5ldC5YaHJMaWtlID0gZnVuY3Rpb24oKSB7XG59O1xuZ29vZy5uZXQuWGhyTGlrZS5wcm90b3R5cGUub3BlbiA9IGZ1bmN0aW9uKG1ldGhvZCwgdXJsLCBvcHRfYXN5bmMsIG9wdF91c2VyLCBvcHRfcGFzc3dvcmQpIHtcbn07XG5nb29nLm5ldC5YaHJMaWtlLnByb3RvdHlwZS5zZW5kID0gZnVuY3Rpb24ob3B0X2RhdGEpIHtcbn07XG5nb29nLm5ldC5YaHJMaWtlLnByb3RvdHlwZS5hYm9ydCA9IGZ1bmN0aW9uKCkge1xufTtcbmdvb2cubmV0Llhockxpa2UucHJvdG90eXBlLnNldFJlcXVlc3RIZWFkZXIgPSBmdW5jdGlvbihoZWFkZXIsIHZhbHVlKSB7XG59O1xuZ29vZy5uZXQuWGhyTGlrZS5wcm90b3R5cGUuZ2V0UmVzcG9uc2VIZWFkZXIgPSBmdW5jdGlvbihoZWFkZXIpIHtcbn07XG5nb29nLm5ldC5YaHJMaWtlLnByb3RvdHlwZS5nZXRBbGxSZXNwb25zZUhlYWRlcnMgPSBmdW5jdGlvbigpIHtcbn07XG5nb29nLm5ldC5YaHJMaWtlLnByb3RvdHlwZS5zZXRUcnVzdFRva2VuID0gZnVuY3Rpb24odHJ1c3RUb2tlbkF0dHJpYnV0ZSkge1xufTtcbmdvb2cubmV0LlhtbEh0dHBGYWN0b3J5ID0gZnVuY3Rpb24oKSB7XG59O1xuZ29vZy5uZXQuWG1sSHR0cEZhY3RvcnkucHJvdG90eXBlLmNhY2hlZE9wdGlvbnNfID0gbnVsbDtcbmdvb2cubmV0LlhtbEh0dHBGYWN0b3J5LnByb3RvdHlwZS5nZXRPcHRpb25zID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLmNhY2hlZE9wdGlvbnNfIHx8ICh0aGlzLmNhY2hlZE9wdGlvbnNfID0gdGhpcy5pbnRlcm5hbEdldE9wdGlvbnMoKSk7XG59O1xuZ29vZy5uZXQuV3JhcHBlclhtbEh0dHBGYWN0b3J5ID0gZnVuY3Rpb24oeGhyRmFjdG9yeSwgb3B0aW9uc0ZhY3RvcnkpIHtcbiAgdGhpcy54aHJGYWN0b3J5XyA9IHhockZhY3Rvcnk7XG4gIHRoaXMub3B0aW9uc0ZhY3RvcnlfID0gb3B0aW9uc0ZhY3Rvcnk7XG59O1xuZ29vZy5pbmhlcml0cyhnb29nLm5ldC5XcmFwcGVyWG1sSHR0cEZhY3RvcnksIGdvb2cubmV0LlhtbEh0dHBGYWN0b3J5KTtcbmdvb2cubmV0LldyYXBwZXJYbWxIdHRwRmFjdG9yeS5wcm90b3R5cGUuY3JlYXRlSW5zdGFuY2UgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMueGhyRmFjdG9yeV8oKTtcbn07XG5nb29nLm5ldC5XcmFwcGVyWG1sSHR0cEZhY3RvcnkucHJvdG90eXBlLmdldE9wdGlvbnMgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMub3B0aW9uc0ZhY3RvcnlfKCk7XG59O1xuZ29vZy5uZXQuWG1sSHR0cCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gZ29vZy5uZXQuWG1sSHR0cC5mYWN0b3J5Xy5jcmVhdGVJbnN0YW5jZSgpO1xufTtcbmdvb2cubmV0LlhtbEh0dHAuQVNTVU1FX05BVElWRV9YSFIgPSAhMTtcbmdvb2cubmV0LlhtbEh0dHBEZWZpbmVzID0ge307XG5nb29nLm5ldC5YbWxIdHRwRGVmaW5lcy5BU1NVTUVfTkFUSVZFX1hIUiA9ICExO1xuZ29vZy5uZXQuWG1sSHR0cC5nZXRPcHRpb25zID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBnb29nLm5ldC5YbWxIdHRwLmZhY3RvcnlfLmdldE9wdGlvbnMoKTtcbn07XG5nb29nLm5ldC5YbWxIdHRwLk9wdGlvblR5cGUgPSB7VVNFX05VTExfRlVOQ1RJT046MCwgTE9DQUxfUkVRVUVTVF9FUlJPUjoxLH07XG5nb29nLm5ldC5YbWxIdHRwLlJlYWR5U3RhdGUgPSB7VU5JTklUSUFMSVpFRDowLCBMT0FESU5HOjEsIExPQURFRDoyLCBJTlRFUkFDVElWRTozLCBDT01QTEVURTo0LH07XG5nb29nLm5ldC5YbWxIdHRwLnNldEZhY3RvcnkgPSBmdW5jdGlvbihmYWN0b3J5LCBvcHRpb25zRmFjdG9yeSkge1xuICBnb29nLm5ldC5YbWxIdHRwLnNldEdsb2JhbEZhY3RvcnkobmV3IGdvb2cubmV0LldyYXBwZXJYbWxIdHRwRmFjdG9yeShnb29nLmFzc2VydHMuYXNzZXJ0KGZhY3RvcnkpLCBnb29nLmFzc2VydHMuYXNzZXJ0KG9wdGlvbnNGYWN0b3J5KSkpO1xufTtcbmdvb2cubmV0LlhtbEh0dHAuc2V0R2xvYmFsRmFjdG9yeSA9IGZ1bmN0aW9uKGZhY3RvcnkpIHtcbiAgZ29vZy5uZXQuWG1sSHR0cC5mYWN0b3J5XyA9IGZhY3Rvcnk7XG59O1xuZ29vZy5uZXQuRGVmYXVsdFhtbEh0dHBGYWN0b3J5ID0gZnVuY3Rpb24oKSB7XG59O1xuZ29vZy5pbmhlcml0cyhnb29nLm5ldC5EZWZhdWx0WG1sSHR0cEZhY3RvcnksIGdvb2cubmV0LlhtbEh0dHBGYWN0b3J5KTtcbmdvb2cubmV0LkRlZmF1bHRYbWxIdHRwRmFjdG9yeS5wcm90b3R5cGUuY3JlYXRlSW5zdGFuY2UgPSBmdW5jdGlvbigpIHtcbiAgdmFyIHByb2dJZCA9IHRoaXMuZ2V0UHJvZ0lkXygpO1xuICByZXR1cm4gcHJvZ0lkID8gbmV3IEFjdGl2ZVhPYmplY3QocHJvZ0lkKSA6IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xufTtcbmdvb2cubmV0LkRlZmF1bHRYbWxIdHRwRmFjdG9yeS5wcm90b3R5cGUuaW50ZXJuYWxHZXRPcHRpb25zID0gZnVuY3Rpb24oKSB7XG4gIHZhciBvcHRpb25zID0ge307XG4gIHRoaXMuZ2V0UHJvZ0lkXygpICYmIChvcHRpb25zW2dvb2cubmV0LlhtbEh0dHAuT3B0aW9uVHlwZS5VU0VfTlVMTF9GVU5DVElPTl0gPSAhMCwgb3B0aW9uc1tnb29nLm5ldC5YbWxIdHRwLk9wdGlvblR5cGUuTE9DQUxfUkVRVUVTVF9FUlJPUl0gPSAhMCk7XG4gIHJldHVybiBvcHRpb25zO1xufTtcbmdvb2cubmV0LkRlZmF1bHRYbWxIdHRwRmFjdG9yeS5wcm90b3R5cGUuZ2V0UHJvZ0lkXyA9IGZ1bmN0aW9uKCkge1xuICBpZiAoZ29vZy5uZXQuWG1sSHR0cC5BU1NVTUVfTkFUSVZFX1hIUiB8fCBnb29nLm5ldC5YbWxIdHRwRGVmaW5lcy5BU1NVTUVfTkFUSVZFX1hIUikge1xuICAgIHJldHVybiBcIlwiO1xuICB9XG4gIGlmICghdGhpcy5pZVByb2dJZF8gJiYgXCJ1bmRlZmluZWRcIiA9PSB0eXBlb2YgWE1MSHR0cFJlcXVlc3QgJiYgXCJ1bmRlZmluZWRcIiAhPSB0eXBlb2YgQWN0aXZlWE9iamVjdCkge1xuICAgIGZvciAodmFyIEFDVElWRV9YX0lERU5UUyA9IFtcIk1TWE1MMi5YTUxIVFRQLjYuMFwiLCBcIk1TWE1MMi5YTUxIVFRQLjMuMFwiLCBcIk1TWE1MMi5YTUxIVFRQXCIsIFwiTWljcm9zb2Z0LlhNTEhUVFBcIixdLCBpID0gMDsgaSA8IEFDVElWRV9YX0lERU5UUy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGNhbmRpZGF0ZSA9IEFDVElWRV9YX0lERU5UU1tpXTtcbiAgICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBuZXcgQWN0aXZlWE9iamVjdChjYW5kaWRhdGUpLCB0aGlzLmllUHJvZ0lkXyA9IGNhbmRpZGF0ZTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIH1cbiAgICB9XG4gICAgdGhyb3cgRXJyb3IoXCJDb3VsZCBub3QgY3JlYXRlIEFjdGl2ZVhPYmplY3QuIEFjdGl2ZVggbWlnaHQgYmUgZGlzYWJsZWQsIG9yIE1TWE1MIG1pZ2h0IG5vdCBiZSBpbnN0YWxsZWRcIik7XG4gIH1cbiAgcmV0dXJuIHRoaXMuaWVQcm9nSWRfO1xufTtcbmdvb2cubmV0LlhtbEh0dHAuc2V0R2xvYmFsRmFjdG9yeShuZXcgZ29vZy5uZXQuRGVmYXVsdFhtbEh0dHBGYWN0b3J5KCkpO1xuZ29vZy5uZXQuWGhySW8gPSBmdW5jdGlvbihvcHRfeG1sSHR0cEZhY3RvcnkpIHtcbiAgZ29vZy5ldmVudHMuRXZlbnRUYXJnZXQuY2FsbCh0aGlzKTtcbiAgdGhpcy5oZWFkZXJzID0gbmV3IE1hcCgpO1xuICB0aGlzLnhtbEh0dHBGYWN0b3J5XyA9IG9wdF94bWxIdHRwRmFjdG9yeSB8fCBudWxsO1xuICB0aGlzLmFjdGl2ZV8gPSAhMTtcbiAgdGhpcy54aHJPcHRpb25zXyA9IHRoaXMueGhyXyA9IG51bGw7XG4gIHRoaXMubGFzdE1ldGhvZF8gPSB0aGlzLmxhc3RVcmlfID0gXCJcIjtcbiAgdGhpcy5sYXN0RXJyb3JDb2RlXyA9IGdvb2cubmV0LkVycm9yQ29kZS5OT19FUlJPUjtcbiAgdGhpcy5sYXN0RXJyb3JfID0gXCJcIjtcbiAgdGhpcy5pbkFib3J0XyA9IHRoaXMuaW5PcGVuXyA9IHRoaXMuaW5TZW5kXyA9IHRoaXMuZXJyb3JEaXNwYXRjaGVkXyA9ICExO1xuICB0aGlzLnRpbWVvdXRJbnRlcnZhbF8gPSAwO1xuICB0aGlzLnRpbWVvdXRJZF8gPSBudWxsO1xuICB0aGlzLnJlc3BvbnNlVHlwZV8gPSBnb29nLm5ldC5YaHJJby5SZXNwb25zZVR5cGUuREVGQVVMVDtcbiAgdGhpcy51c2VYaHIyVGltZW91dF8gPSB0aGlzLnByb2dyZXNzRXZlbnRzRW5hYmxlZF8gPSB0aGlzLndpdGhDcmVkZW50aWFsc18gPSAhMTtcbiAgdGhpcy50cnVzdFRva2VuXyA9IG51bGw7XG59O1xuZ29vZy5pbmhlcml0cyhnb29nLm5ldC5YaHJJbywgZ29vZy5ldmVudHMuRXZlbnRUYXJnZXQpO1xuZ29vZy5uZXQuWGhySW8uUmVzcG9uc2VUeXBlID0ge0RFRkFVTFQ6XCJcIiwgVEVYVDpcInRleHRcIiwgRE9DVU1FTlQ6XCJkb2N1bWVudFwiLCBCTE9COlwiYmxvYlwiLCBBUlJBWV9CVUZGRVI6XCJhcnJheWJ1ZmZlclwiLH07XG5nb29nLm5ldC5YaHJJby5wcm90b3R5cGUubG9nZ2VyXyA9IGdvb2cubG9nLmdldExvZ2dlcihcImdvb2cubmV0LlhocklvXCIpO1xuZ29vZy5uZXQuWGhySW8uQ09OVEVOVF9UWVBFX0hFQURFUiA9IFwiQ29udGVudC1UeXBlXCI7XG5nb29nLm5ldC5YaHJJby5DT05URU5UX1RSQU5TRkVSX0VOQ09ESU5HID0gXCJDb250ZW50LVRyYW5zZmVyLUVuY29kaW5nXCI7XG5nb29nLm5ldC5YaHJJby5IVFRQX1NDSEVNRV9QQVRURVJOID0gL15odHRwcz8kL2k7XG5nb29nLm5ldC5YaHJJby5NRVRIT0RTX1dJVEhfRk9STV9EQVRBID0gW1wiUE9TVFwiLCBcIlBVVFwiXTtcbmdvb2cubmV0LlhocklvLkZPUk1fQ09OVEVOVF9UWVBFID0gXCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQ7Y2hhcnNldD11dGYtOFwiO1xuZ29vZy5uZXQuWGhySW8uWEhSMl9USU1FT1VUXyA9IFwidGltZW91dFwiO1xuZ29vZy5uZXQuWGhySW8uWEhSMl9PTl9USU1FT1VUXyA9IFwib250aW1lb3V0XCI7XG5nb29nLm5ldC5YaHJJby5zZW5kSW5zdGFuY2VzXyA9IFtdO1xuZ29vZy5uZXQuWGhySW8uc2VuZCA9IGZ1bmN0aW9uKHVybCwgb3B0X2NhbGxiYWNrLCBvcHRfbWV0aG9kLCBvcHRfY29udGVudCwgb3B0X2hlYWRlcnMsIG9wdF90aW1lb3V0SW50ZXJ2YWwsIG9wdF93aXRoQ3JlZGVudGlhbHMpIHtcbiAgdmFyIHggPSBuZXcgZ29vZy5uZXQuWGhySW8oKTtcbiAgZ29vZy5uZXQuWGhySW8uc2VuZEluc3RhbmNlc18ucHVzaCh4KTtcbiAgb3B0X2NhbGxiYWNrICYmIHgubGlzdGVuKGdvb2cubmV0LkV2ZW50VHlwZS5DT01QTEVURSwgb3B0X2NhbGxiYWNrKTtcbiAgeC5saXN0ZW5PbmNlKGdvb2cubmV0LkV2ZW50VHlwZS5SRUFEWSwgeC5jbGVhbnVwU2VuZF8pO1xuICBvcHRfdGltZW91dEludGVydmFsICYmIHguc2V0VGltZW91dEludGVydmFsKG9wdF90aW1lb3V0SW50ZXJ2YWwpO1xuICBvcHRfd2l0aENyZWRlbnRpYWxzICYmIHguc2V0V2l0aENyZWRlbnRpYWxzKG9wdF93aXRoQ3JlZGVudGlhbHMpO1xuICB4LnNlbmQodXJsLCBvcHRfbWV0aG9kLCBvcHRfY29udGVudCwgb3B0X2hlYWRlcnMpO1xuICByZXR1cm4geDtcbn07XG5nb29nLm5ldC5YaHJJby5jbGVhbnVwID0gZnVuY3Rpb24oKSB7XG4gIGZvciAodmFyIGluc3RhbmNlcyA9IGdvb2cubmV0LlhocklvLnNlbmRJbnN0YW5jZXNfOyBpbnN0YW5jZXMubGVuZ3RoOykge1xuICAgIGluc3RhbmNlcy5wb3AoKS5kaXNwb3NlKCk7XG4gIH1cbn07XG5nb29nLm5ldC5YaHJJby5wcm90ZWN0RW50cnlQb2ludHMgPSBmdW5jdGlvbihlcnJvckhhbmRsZXIpIHtcbiAgZ29vZy5uZXQuWGhySW8ucHJvdG90eXBlLm9uUmVhZHlTdGF0ZUNoYW5nZUVudHJ5UG9pbnRfID0gZXJyb3JIYW5kbGVyLnByb3RlY3RFbnRyeVBvaW50KGdvb2cubmV0LlhocklvLnByb3RvdHlwZS5vblJlYWR5U3RhdGVDaGFuZ2VFbnRyeVBvaW50Xyk7XG59O1xuZ29vZy5uZXQuWGhySW8ucHJvdG90eXBlLmNsZWFudXBTZW5kXyA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLmRpc3Bvc2UoKTtcbiAgbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfcmVtb3ZlKGdvb2cubmV0LlhocklvLnNlbmRJbnN0YW5jZXNfLCB0aGlzKTtcbn07XG5nb29nLm5ldC5YaHJJby5wcm90b3R5cGUuZ2V0VGltZW91dEludGVydmFsID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLnRpbWVvdXRJbnRlcnZhbF87XG59O1xuZ29vZy5uZXQuWGhySW8ucHJvdG90eXBlLnNldFRpbWVvdXRJbnRlcnZhbCA9IGZ1bmN0aW9uKG1zKSB7XG4gIHRoaXMudGltZW91dEludGVydmFsXyA9IE1hdGgubWF4KDAsIG1zKTtcbn07XG5nb29nLm5ldC5YaHJJby5wcm90b3R5cGUuc2V0UmVzcG9uc2VUeXBlID0gZnVuY3Rpb24odHlwZSkge1xuICB0aGlzLnJlc3BvbnNlVHlwZV8gPSB0eXBlO1xufTtcbmdvb2cubmV0LlhocklvLnByb3RvdHlwZS5nZXRSZXNwb25zZVR5cGUgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMucmVzcG9uc2VUeXBlXztcbn07XG5nb29nLm5ldC5YaHJJby5wcm90b3R5cGUuc2V0V2l0aENyZWRlbnRpYWxzID0gZnVuY3Rpb24od2l0aENyZWRlbnRpYWxzKSB7XG4gIHRoaXMud2l0aENyZWRlbnRpYWxzXyA9IHdpdGhDcmVkZW50aWFscztcbn07XG5nb29nLm5ldC5YaHJJby5wcm90b3R5cGUuZ2V0V2l0aENyZWRlbnRpYWxzID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLndpdGhDcmVkZW50aWFsc187XG59O1xuZ29vZy5uZXQuWGhySW8ucHJvdG90eXBlLnNldFByb2dyZXNzRXZlbnRzRW5hYmxlZCA9IGZ1bmN0aW9uKGVuYWJsZWQpIHtcbiAgdGhpcy5wcm9ncmVzc0V2ZW50c0VuYWJsZWRfID0gZW5hYmxlZDtcbn07XG5nb29nLm5ldC5YaHJJby5wcm90b3R5cGUuZ2V0UHJvZ3Jlc3NFdmVudHNFbmFibGVkID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLnByb2dyZXNzRXZlbnRzRW5hYmxlZF87XG59O1xuZ29vZy5uZXQuWGhySW8ucHJvdG90eXBlLnNldFRydXN0VG9rZW4gPSBmdW5jdGlvbih0cnVzdFRva2VuKSB7XG4gIHRoaXMudHJ1c3RUb2tlbl8gPSB0cnVzdFRva2VuO1xufTtcbmdvb2cubmV0LlhocklvLnByb3RvdHlwZS5zZW5kID0gZnVuY3Rpb24odXJsLCBvcHRfbWV0aG9kLCBvcHRfY29udGVudCwgb3B0X2hlYWRlcnMpIHtcbiAgaWYgKHRoaXMueGhyXykge1xuICAgIHRocm93IEVycm9yKFwiW2dvb2cubmV0LlhocklvXSBPYmplY3QgaXMgYWN0aXZlIHdpdGggYW5vdGhlciByZXF1ZXN0PVwiICsgdGhpcy5sYXN0VXJpXyArIFwiOyBuZXdVcmk9XCIgKyB1cmwpO1xuICB9XG4gIHZhciBtZXRob2QgPSBvcHRfbWV0aG9kID8gb3B0X21ldGhvZC50b1VwcGVyQ2FzZSgpIDogXCJHRVRcIjtcbiAgdGhpcy5sYXN0VXJpXyA9IHVybDtcbiAgdGhpcy5sYXN0RXJyb3JfID0gXCJcIjtcbiAgdGhpcy5sYXN0RXJyb3JDb2RlXyA9IGdvb2cubmV0LkVycm9yQ29kZS5OT19FUlJPUjtcbiAgdGhpcy5sYXN0TWV0aG9kXyA9IG1ldGhvZDtcbiAgdGhpcy5lcnJvckRpc3BhdGNoZWRfID0gITE7XG4gIHRoaXMuYWN0aXZlXyA9ICEwO1xuICB0aGlzLnhocl8gPSB0aGlzLmNyZWF0ZVhocigpO1xuICB0aGlzLnhock9wdGlvbnNfID0gdGhpcy54bWxIdHRwRmFjdG9yeV8gPyB0aGlzLnhtbEh0dHBGYWN0b3J5Xy5nZXRPcHRpb25zKCkgOiBnb29nLm5ldC5YbWxIdHRwLmdldE9wdGlvbnMoKTtcbiAgdGhpcy54aHJfLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGdvb2cuYmluZCh0aGlzLm9uUmVhZHlTdGF0ZUNoYW5nZV8sIHRoaXMpO1xuICB0aGlzLmdldFByb2dyZXNzRXZlbnRzRW5hYmxlZCgpICYmIFwib25wcm9ncmVzc1wiIGluIHRoaXMueGhyXyAmJiAodGhpcy54aHJfLm9ucHJvZ3Jlc3MgPSBnb29nLmJpbmQoZnVuY3Rpb24oZSkge1xuICAgIHRoaXMub25Qcm9ncmVzc0hhbmRsZXJfKGUsICEwKTtcbiAgfSwgdGhpcyksIHRoaXMueGhyXy51cGxvYWQgJiYgKHRoaXMueGhyXy51cGxvYWQub25wcm9ncmVzcyA9IGdvb2cuYmluZCh0aGlzLm9uUHJvZ3Jlc3NIYW5kbGVyXywgdGhpcykpKTtcbiAgdHJ5IHtcbiAgICBnb29nLmxvZy5maW5lKHRoaXMubG9nZ2VyXywgdGhpcy5mb3JtYXRNc2dfKFwiT3BlbmluZyBYaHJcIikpLCB0aGlzLmluT3Blbl8gPSAhMCwgdGhpcy54aHJfLm9wZW4obWV0aG9kLCBTdHJpbmcodXJsKSwgITApLCB0aGlzLmluT3Blbl8gPSAhMTtcbiAgfSBjYXRjaCAoZXJyJDU3KSB7XG4gICAgZ29vZy5sb2cuZmluZSh0aGlzLmxvZ2dlcl8sIHRoaXMuZm9ybWF0TXNnXyhcIkVycm9yIG9wZW5pbmcgWGhyOiBcIiArIGVyciQ1Ny5tZXNzYWdlKSk7XG4gICAgdGhpcy5lcnJvcl8oZ29vZy5uZXQuRXJyb3JDb2RlLkVYQ0VQVElPTiwgZXJyJDU3KTtcbiAgICByZXR1cm47XG4gIH1cbiAgdmFyIGNvbnRlbnQgPSBvcHRfY29udGVudCB8fCBcIlwiLCBoZWFkZXJzID0gbmV3IE1hcCh0aGlzLmhlYWRlcnMpO1xuICBpZiAob3B0X2hlYWRlcnMpIHtcbiAgICBpZiAoT2JqZWN0LmdldFByb3RvdHlwZU9mKG9wdF9oZWFkZXJzKSA9PT0gT2JqZWN0LnByb3RvdHlwZSkge1xuICAgICAgZm9yICh2YXIga2V5IGluIG9wdF9oZWFkZXJzKSB7XG4gICAgICAgIGhlYWRlcnMuc2V0KGtleSwgb3B0X2hlYWRlcnNba2V5XSk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBvcHRfaGVhZGVycy5rZXlzICYmIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIG9wdF9oZWFkZXJzLmdldCkge1xuICAgICAgZm9yICh2YXIgJGpzY29tcCRpdGVyJDI0ID0gJGpzY29tcC5tYWtlSXRlcmF0b3Iob3B0X2hlYWRlcnMua2V5cygpKSwgJGpzY29tcCRrZXkka2V5ID0gJGpzY29tcCRpdGVyJDI0Lm5leHQoKTsgISRqc2NvbXAka2V5JGtleS5kb25lOyAkanNjb21wJGtleSRrZXkgPSAkanNjb21wJGl0ZXIkMjQubmV4dCgpKSB7XG4gICAgICAgIHZhciBrZXkkNTggPSAkanNjb21wJGtleSRrZXkudmFsdWU7XG4gICAgICAgIGhlYWRlcnMuc2V0KGtleSQ1OCwgb3B0X2hlYWRlcnMuZ2V0KGtleSQ1OCkpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBFcnJvcihcIlVua25vd24gaW5wdXQgdHlwZSBmb3Igb3B0X2hlYWRlcnM6IFwiICsgU3RyaW5nKG9wdF9oZWFkZXJzKSk7XG4gICAgfVxuICB9XG4gIHZhciBjb250ZW50VHlwZUtleSA9IEFycmF5LmZyb20oaGVhZGVycy5rZXlzKCkpLmZpbmQoZnVuY3Rpb24oaGVhZGVyKSB7XG4gICAgcmV0dXJuIGdvb2cuc3RyaW5nLmNhc2VJbnNlbnNpdGl2ZUVxdWFscyhnb29nLm5ldC5YaHJJby5DT05URU5UX1RZUEVfSEVBREVSLCBoZWFkZXIpO1xuICB9KSwgY29udGVudElzRm9ybURhdGEgPSBnb29nLmdsb2JhbC5Gb3JtRGF0YSAmJiBjb250ZW50IGluc3RhbmNlb2YgZ29vZy5nbG9iYWwuRm9ybURhdGE7XG4gICFtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9jb250YWlucyhnb29nLm5ldC5YaHJJby5NRVRIT0RTX1dJVEhfRk9STV9EQVRBLCBtZXRob2QpIHx8IGNvbnRlbnRUeXBlS2V5IHx8IGNvbnRlbnRJc0Zvcm1EYXRhIHx8IGhlYWRlcnMuc2V0KGdvb2cubmV0LlhocklvLkNPTlRFTlRfVFlQRV9IRUFERVIsIGdvb2cubmV0LlhocklvLkZPUk1fQ09OVEVOVF9UWVBFKTtcbiAgZm9yICh2YXIgJGpzY29tcCRpdGVyJDI1ID0gJGpzY29tcC5tYWtlSXRlcmF0b3IoaGVhZGVycyksICRqc2NvbXAka2V5JCA9ICRqc2NvbXAkaXRlciQyNS5uZXh0KCk7ICEkanNjb21wJGtleSQuZG9uZTsgJGpzY29tcCRrZXkkID0gJGpzY29tcCRpdGVyJDI1Lm5leHQoKSkge1xuICAgIHZhciAkanNjb21wJGRlc3RydWN0dXJpbmckdmFyMzEgPSAkanNjb21wLm1ha2VJdGVyYXRvcigkanNjb21wJGtleSQudmFsdWUpLCBrZXkkNTkgPSAkanNjb21wJGRlc3RydWN0dXJpbmckdmFyMzEubmV4dCgpLnZhbHVlLCB2YWx1ZSA9ICRqc2NvbXAkZGVzdHJ1Y3R1cmluZyR2YXIzMS5uZXh0KCkudmFsdWU7XG4gICAgdGhpcy54aHJfLnNldFJlcXVlc3RIZWFkZXIoa2V5JDU5LCB2YWx1ZSk7XG4gIH1cbiAgdGhpcy5yZXNwb25zZVR5cGVfICYmICh0aGlzLnhocl8ucmVzcG9uc2VUeXBlID0gdGhpcy5yZXNwb25zZVR5cGVfKTtcbiAgXCJ3aXRoQ3JlZGVudGlhbHNcIiBpbiB0aGlzLnhocl8gJiYgdGhpcy54aHJfLndpdGhDcmVkZW50aWFscyAhPT0gdGhpcy53aXRoQ3JlZGVudGlhbHNfICYmICh0aGlzLnhocl8ud2l0aENyZWRlbnRpYWxzID0gdGhpcy53aXRoQ3JlZGVudGlhbHNfKTtcbiAgaWYgKFwic2V0VHJ1c3RUb2tlblwiIGluIHRoaXMueGhyXyAmJiB0aGlzLnRydXN0VG9rZW5fKSB7XG4gICAgdHJ5IHtcbiAgICAgIHRoaXMueGhyXy5zZXRUcnVzdFRva2VuKHRoaXMudHJ1c3RUb2tlbl8pO1xuICAgIH0gY2F0Y2ggKGVyciQ2MCkge1xuICAgICAgZ29vZy5sb2cuZmluZSh0aGlzLmxvZ2dlcl8sIHRoaXMuZm9ybWF0TXNnXyhcIkVycm9yIFNldFRydXN0VG9rZW46IFwiICsgZXJyJDYwLm1lc3NhZ2UpKTtcbiAgICB9XG4gIH1cbiAgdHJ5IHtcbiAgICB0aGlzLmNsZWFuVXBUaW1lb3V0VGltZXJfKCksIDAgPCB0aGlzLnRpbWVvdXRJbnRlcnZhbF8gJiYgKHRoaXMudXNlWGhyMlRpbWVvdXRfID0gZ29vZy5uZXQuWGhySW8uc2hvdWxkVXNlWGhyMlRpbWVvdXRfKHRoaXMueGhyXyksIGdvb2cubG9nLmZpbmUodGhpcy5sb2dnZXJfLCB0aGlzLmZvcm1hdE1zZ18oXCJXaWxsIGFib3J0IGFmdGVyIFwiICsgdGhpcy50aW1lb3V0SW50ZXJ2YWxfICsgXCJtcyBpZiBpbmNvbXBsZXRlLCB4aHIyIFwiICsgdGhpcy51c2VYaHIyVGltZW91dF8pKSwgdGhpcy51c2VYaHIyVGltZW91dF8gPyAodGhpcy54aHJfW2dvb2cubmV0LlhocklvLlhIUjJfVElNRU9VVF9dID0gdGhpcy50aW1lb3V0SW50ZXJ2YWxfLCB0aGlzLnhocl9bZ29vZy5uZXQuWGhySW8uWEhSMl9PTl9USU1FT1VUX10gPSBnb29nLmJpbmQodGhpcy50aW1lb3V0XywgdGhpcykpIDogdGhpcy50aW1lb3V0SWRfID0gZ29vZy5UaW1lci5jYWxsT25jZSh0aGlzLnRpbWVvdXRfLCB0aGlzLnRpbWVvdXRJbnRlcnZhbF8sIFxuICAgIHRoaXMpKSwgZ29vZy5sb2cuZmluZSh0aGlzLmxvZ2dlcl8sIHRoaXMuZm9ybWF0TXNnXyhcIlNlbmRpbmcgcmVxdWVzdFwiKSksIHRoaXMuaW5TZW5kXyA9ICEwLCB0aGlzLnhocl8uc2VuZChjb250ZW50KSwgdGhpcy5pblNlbmRfID0gITE7XG4gIH0gY2F0Y2ggKGVyciQ2MSkge1xuICAgIGdvb2cubG9nLmZpbmUodGhpcy5sb2dnZXJfLCB0aGlzLmZvcm1hdE1zZ18oXCJTZW5kIGVycm9yOiBcIiArIGVyciQ2MS5tZXNzYWdlKSksIHRoaXMuZXJyb3JfKGdvb2cubmV0LkVycm9yQ29kZS5FWENFUFRJT04sIGVyciQ2MSk7XG4gIH1cbn07XG5nb29nLm5ldC5YaHJJby5zaG91bGRVc2VYaHIyVGltZW91dF8gPSBmdW5jdGlvbih4aHIpIHtcbiAgcmV0dXJuIGdvb2cudXNlckFnZW50LklFICYmIFwibnVtYmVyXCIgPT09IHR5cGVvZiB4aHJbZ29vZy5uZXQuWGhySW8uWEhSMl9USU1FT1VUX10gJiYgdm9pZCAwICE9PSB4aHJbZ29vZy5uZXQuWGhySW8uWEhSMl9PTl9USU1FT1VUX107XG59O1xuZ29vZy5uZXQuWGhySW8ucHJvdG90eXBlLmNyZWF0ZVhociA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy54bWxIdHRwRmFjdG9yeV8gPyB0aGlzLnhtbEh0dHBGYWN0b3J5Xy5jcmVhdGVJbnN0YW5jZSgpIDogZ29vZy5uZXQuWG1sSHR0cCgpO1xufTtcbmdvb2cubmV0LlhocklvLnByb3RvdHlwZS50aW1lb3V0XyA9IGZ1bmN0aW9uKCkge1xuICBcInVuZGVmaW5lZFwiICE9IHR5cGVvZiBnb29nICYmIHRoaXMueGhyXyAmJiAodGhpcy5sYXN0RXJyb3JfID0gXCJUaW1lZCBvdXQgYWZ0ZXIgXCIgKyB0aGlzLnRpbWVvdXRJbnRlcnZhbF8gKyBcIm1zLCBhYm9ydGluZ1wiLCB0aGlzLmxhc3RFcnJvckNvZGVfID0gZ29vZy5uZXQuRXJyb3JDb2RlLlRJTUVPVVQsIGdvb2cubG9nLmZpbmUodGhpcy5sb2dnZXJfLCB0aGlzLmZvcm1hdE1zZ18odGhpcy5sYXN0RXJyb3JfKSksIHRoaXMuZGlzcGF0Y2hFdmVudChnb29nLm5ldC5FdmVudFR5cGUuVElNRU9VVCksIHRoaXMuYWJvcnQoZ29vZy5uZXQuRXJyb3JDb2RlLlRJTUVPVVQpKTtcbn07XG5nb29nLm5ldC5YaHJJby5wcm90b3R5cGUuZXJyb3JfID0gZnVuY3Rpb24oZXJyb3JDb2RlLCBlcnIpIHtcbiAgdGhpcy5hY3RpdmVfID0gITE7XG4gIHRoaXMueGhyXyAmJiAodGhpcy5pbkFib3J0XyA9ICEwLCB0aGlzLnhocl8uYWJvcnQoKSwgdGhpcy5pbkFib3J0XyA9ICExKTtcbiAgdGhpcy5sYXN0RXJyb3JfID0gZXJyO1xuICB0aGlzLmxhc3RFcnJvckNvZGVfID0gZXJyb3JDb2RlO1xuICB0aGlzLmRpc3BhdGNoRXJyb3JzXygpO1xuICB0aGlzLmNsZWFuVXBYaHJfKCk7XG59O1xuZ29vZy5uZXQuWGhySW8ucHJvdG90eXBlLmRpc3BhdGNoRXJyb3JzXyA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLmVycm9yRGlzcGF0Y2hlZF8gfHwgKHRoaXMuZXJyb3JEaXNwYXRjaGVkXyA9ICEwLCB0aGlzLmRpc3BhdGNoRXZlbnQoZ29vZy5uZXQuRXZlbnRUeXBlLkNPTVBMRVRFKSwgdGhpcy5kaXNwYXRjaEV2ZW50KGdvb2cubmV0LkV2ZW50VHlwZS5FUlJPUikpO1xufTtcbmdvb2cubmV0LlhocklvLnByb3RvdHlwZS5hYm9ydCA9IGZ1bmN0aW9uKG9wdF9mYWlsdXJlQ29kZSkge1xuICB0aGlzLnhocl8gJiYgdGhpcy5hY3RpdmVfICYmIChnb29nLmxvZy5maW5lKHRoaXMubG9nZ2VyXywgdGhpcy5mb3JtYXRNc2dfKFwiQWJvcnRpbmdcIikpLCB0aGlzLmFjdGl2ZV8gPSAhMSwgdGhpcy5pbkFib3J0XyA9ICEwLCB0aGlzLnhocl8uYWJvcnQoKSwgdGhpcy5pbkFib3J0XyA9ICExLCB0aGlzLmxhc3RFcnJvckNvZGVfID0gb3B0X2ZhaWx1cmVDb2RlIHx8IGdvb2cubmV0LkVycm9yQ29kZS5BQk9SVCwgdGhpcy5kaXNwYXRjaEV2ZW50KGdvb2cubmV0LkV2ZW50VHlwZS5DT01QTEVURSksIHRoaXMuZGlzcGF0Y2hFdmVudChnb29nLm5ldC5FdmVudFR5cGUuQUJPUlQpLCB0aGlzLmNsZWFuVXBYaHJfKCkpO1xufTtcbmdvb2cubmV0LlhocklvLnByb3RvdHlwZS5kaXNwb3NlSW50ZXJuYWwgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy54aHJfICYmICh0aGlzLmFjdGl2ZV8gJiYgKHRoaXMuYWN0aXZlXyA9ICExLCB0aGlzLmluQWJvcnRfID0gITAsIHRoaXMueGhyXy5hYm9ydCgpLCB0aGlzLmluQWJvcnRfID0gITEpLCB0aGlzLmNsZWFuVXBYaHJfKCEwKSk7XG4gIGdvb2cubmV0LlhocklvLnN1cGVyQ2xhc3NfLmRpc3Bvc2VJbnRlcm5hbC5jYWxsKHRoaXMpO1xufTtcbmdvb2cubmV0LlhocklvLnByb3RvdHlwZS5vblJlYWR5U3RhdGVDaGFuZ2VfID0gZnVuY3Rpb24oKSB7XG4gIGlmICghdGhpcy5pc0Rpc3Bvc2VkKCkpIHtcbiAgICBpZiAodGhpcy5pbk9wZW5fIHx8IHRoaXMuaW5TZW5kXyB8fCB0aGlzLmluQWJvcnRfKSB7XG4gICAgICB0aGlzLm9uUmVhZHlTdGF0ZUNoYW5nZUhlbHBlcl8oKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5vblJlYWR5U3RhdGVDaGFuZ2VFbnRyeVBvaW50XygpO1xuICAgIH1cbiAgfVxufTtcbmdvb2cubmV0LlhocklvLnByb3RvdHlwZS5vblJlYWR5U3RhdGVDaGFuZ2VFbnRyeVBvaW50XyA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLm9uUmVhZHlTdGF0ZUNoYW5nZUhlbHBlcl8oKTtcbn07XG5nb29nLm5ldC5YaHJJby5wcm90b3R5cGUub25SZWFkeVN0YXRlQ2hhbmdlSGVscGVyXyA9IGZ1bmN0aW9uKCkge1xuICBpZiAodGhpcy5hY3RpdmVfICYmIFwidW5kZWZpbmVkXCIgIT0gdHlwZW9mIGdvb2cpIHtcbiAgICBpZiAodGhpcy54aHJPcHRpb25zX1tnb29nLm5ldC5YbWxIdHRwLk9wdGlvblR5cGUuTE9DQUxfUkVRVUVTVF9FUlJPUl0gJiYgdGhpcy5nZXRSZWFkeVN0YXRlKCkgPT0gZ29vZy5uZXQuWG1sSHR0cC5SZWFkeVN0YXRlLkNPTVBMRVRFICYmIDIgPT0gdGhpcy5nZXRTdGF0dXMoKSkge1xuICAgICAgZ29vZy5sb2cuZmluZSh0aGlzLmxvZ2dlcl8sIHRoaXMuZm9ybWF0TXNnXyhcIkxvY2FsIHJlcXVlc3QgZXJyb3IgZGV0ZWN0ZWQgYW5kIGlnbm9yZWRcIikpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAodGhpcy5pblNlbmRfICYmIHRoaXMuZ2V0UmVhZHlTdGF0ZSgpID09IGdvb2cubmV0LlhtbEh0dHAuUmVhZHlTdGF0ZS5DT01QTEVURSkge1xuICAgICAgICBnb29nLlRpbWVyLmNhbGxPbmNlKHRoaXMub25SZWFkeVN0YXRlQ2hhbmdlXywgMCwgdGhpcyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAodGhpcy5kaXNwYXRjaEV2ZW50KGdvb2cubmV0LkV2ZW50VHlwZS5SRUFEWV9TVEFURV9DSEFOR0UpLCB0aGlzLmlzQ29tcGxldGUoKSkge1xuICAgICAgICAgIGdvb2cubG9nLmZpbmUodGhpcy5sb2dnZXJfLCB0aGlzLmZvcm1hdE1zZ18oXCJSZXF1ZXN0IGNvbXBsZXRlXCIpKTtcbiAgICAgICAgICB0aGlzLmFjdGl2ZV8gPSAhMTtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgdGhpcy5pc1N1Y2Nlc3MoKSA/ICh0aGlzLmRpc3BhdGNoRXZlbnQoZ29vZy5uZXQuRXZlbnRUeXBlLkNPTVBMRVRFKSwgdGhpcy5kaXNwYXRjaEV2ZW50KGdvb2cubmV0LkV2ZW50VHlwZS5TVUNDRVNTKSkgOiAodGhpcy5sYXN0RXJyb3JDb2RlXyA9IGdvb2cubmV0LkVycm9yQ29kZS5IVFRQX0VSUk9SLCB0aGlzLmxhc3RFcnJvcl8gPSB0aGlzLmdldFN0YXR1c1RleHQoKSArIFwiIFtcIiArIHRoaXMuZ2V0U3RhdHVzKCkgKyBcIl1cIiwgdGhpcy5kaXNwYXRjaEVycm9yc18oKSk7XG4gICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgIHRoaXMuY2xlYW5VcFhocl8oKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbn07XG5nb29nLm5ldC5YaHJJby5wcm90b3R5cGUub25Qcm9ncmVzc0hhbmRsZXJfID0gZnVuY3Rpb24oZSwgb3B0X2lzRG93bmxvYWQpIHtcbiAgZ29vZy5hc3NlcnRzLmFzc2VydChlLnR5cGUgPT09IGdvb2cubmV0LkV2ZW50VHlwZS5QUk9HUkVTUywgXCJnb29nLm5ldC5FdmVudFR5cGUuUFJPR1JFU1MgaXMgb2YgdGhlIHNhbWUgdHlwZSBhcyByYXcgWEhSIHByb2dyZXNzLlwiKTtcbiAgdGhpcy5kaXNwYXRjaEV2ZW50KGdvb2cubmV0LlhocklvLmJ1aWxkUHJvZ3Jlc3NFdmVudF8oZSwgZ29vZy5uZXQuRXZlbnRUeXBlLlBST0dSRVNTKSk7XG4gIHRoaXMuZGlzcGF0Y2hFdmVudChnb29nLm5ldC5YaHJJby5idWlsZFByb2dyZXNzRXZlbnRfKGUsIG9wdF9pc0Rvd25sb2FkID8gZ29vZy5uZXQuRXZlbnRUeXBlLkRPV05MT0FEX1BST0dSRVNTIDogZ29vZy5uZXQuRXZlbnRUeXBlLlVQTE9BRF9QUk9HUkVTUykpO1xufTtcbmdvb2cubmV0LlhocklvLmJ1aWxkUHJvZ3Jlc3NFdmVudF8gPSBmdW5jdGlvbihlLCBldmVudFR5cGUpIHtcbiAgcmV0dXJuIHt0eXBlOmV2ZW50VHlwZSwgbGVuZ3RoQ29tcHV0YWJsZTplLmxlbmd0aENvbXB1dGFibGUsIGxvYWRlZDplLmxvYWRlZCwgdG90YWw6ZS50b3RhbCx9O1xufTtcbmdvb2cubmV0LlhocklvLnByb3RvdHlwZS5jbGVhblVwWGhyXyA9IGZ1bmN0aW9uKG9wdF9mcm9tRGlzcG9zZSkge1xuICBpZiAodGhpcy54aHJfKSB7XG4gICAgdGhpcy5jbGVhblVwVGltZW91dFRpbWVyXygpO1xuICAgIHZhciB4aHIgPSB0aGlzLnhocl8sIGNsZWFyZWRPblJlYWR5U3RhdGVDaGFuZ2UgPSB0aGlzLnhock9wdGlvbnNfW2dvb2cubmV0LlhtbEh0dHAuT3B0aW9uVHlwZS5VU0VfTlVMTF9GVU5DVElPTl0gPyBmdW5jdGlvbigpIHtcbiAgICB9IDogbnVsbDtcbiAgICB0aGlzLnhock9wdGlvbnNfID0gdGhpcy54aHJfID0gbnVsbDtcbiAgICBvcHRfZnJvbURpc3Bvc2UgfHwgdGhpcy5kaXNwYXRjaEV2ZW50KGdvb2cubmV0LkV2ZW50VHlwZS5SRUFEWSk7XG4gICAgdHJ5IHtcbiAgICAgIHhoci5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBjbGVhcmVkT25SZWFkeVN0YXRlQ2hhbmdlO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGdvb2cubG9nLmVycm9yKHRoaXMubG9nZ2VyXywgXCJQcm9ibGVtIGVuY291bnRlcmVkIHJlc2V0dGluZyBvbnJlYWR5c3RhdGVjaGFuZ2U6IFwiICsgZS5tZXNzYWdlKTtcbiAgICB9XG4gIH1cbn07XG5nb29nLm5ldC5YaHJJby5wcm90b3R5cGUuY2xlYW5VcFRpbWVvdXRUaW1lcl8gPSBmdW5jdGlvbigpIHtcbiAgdGhpcy54aHJfICYmIHRoaXMudXNlWGhyMlRpbWVvdXRfICYmICh0aGlzLnhocl9bZ29vZy5uZXQuWGhySW8uWEhSMl9PTl9USU1FT1VUX10gPSBudWxsKTtcbiAgdGhpcy50aW1lb3V0SWRfICYmIChnb29nLlRpbWVyLmNsZWFyKHRoaXMudGltZW91dElkXyksIHRoaXMudGltZW91dElkXyA9IG51bGwpO1xufTtcbmdvb2cubmV0LlhocklvLnByb3RvdHlwZS5pc0FjdGl2ZSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gISF0aGlzLnhocl87XG59O1xuZ29vZy5uZXQuWGhySW8ucHJvdG90eXBlLmlzQ29tcGxldGUgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuZ2V0UmVhZHlTdGF0ZSgpID09IGdvb2cubmV0LlhtbEh0dHAuUmVhZHlTdGF0ZS5DT01QTEVURTtcbn07XG5nb29nLm5ldC5YaHJJby5wcm90b3R5cGUuaXNTdWNjZXNzID0gZnVuY3Rpb24oKSB7XG4gIHZhciBzdGF0dXMgPSB0aGlzLmdldFN0YXR1cygpO1xuICByZXR1cm4gZ29vZy5uZXQuSHR0cFN0YXR1cy5pc1N1Y2Nlc3Moc3RhdHVzKSB8fCAwID09PSBzdGF0dXMgJiYgIXRoaXMuaXNMYXN0VXJpRWZmZWN0aXZlU2NoZW1lSHR0cF8oKTtcbn07XG5nb29nLm5ldC5YaHJJby5wcm90b3R5cGUuaXNMYXN0VXJpRWZmZWN0aXZlU2NoZW1lSHR0cF8gPSBmdW5jdGlvbigpIHtcbiAgdmFyIHNjaGVtZSA9IGdvb2cudXJpLnV0aWxzLmdldEVmZmVjdGl2ZVNjaGVtZShTdHJpbmcodGhpcy5sYXN0VXJpXykpO1xuICByZXR1cm4gZ29vZy5uZXQuWGhySW8uSFRUUF9TQ0hFTUVfUEFUVEVSTi50ZXN0KHNjaGVtZSk7XG59O1xuZ29vZy5uZXQuWGhySW8ucHJvdG90eXBlLmdldFJlYWR5U3RhdGUgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMueGhyXyA/IHRoaXMueGhyXy5yZWFkeVN0YXRlIDogZ29vZy5uZXQuWG1sSHR0cC5SZWFkeVN0YXRlLlVOSU5JVElBTElaRUQ7XG59O1xuZ29vZy5uZXQuWGhySW8ucHJvdG90eXBlLmdldFN0YXR1cyA9IGZ1bmN0aW9uKCkge1xuICB0cnkge1xuICAgIHJldHVybiB0aGlzLmdldFJlYWR5U3RhdGUoKSA+IGdvb2cubmV0LlhtbEh0dHAuUmVhZHlTdGF0ZS5MT0FERUQgPyB0aGlzLnhocl8uc3RhdHVzIDogLTE7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4gLTE7XG4gIH1cbn07XG5nb29nLm5ldC5YaHJJby5wcm90b3R5cGUuZ2V0U3RhdHVzVGV4dCA9IGZ1bmN0aW9uKCkge1xuICB0cnkge1xuICAgIHJldHVybiB0aGlzLmdldFJlYWR5U3RhdGUoKSA+IGdvb2cubmV0LlhtbEh0dHAuUmVhZHlTdGF0ZS5MT0FERUQgPyB0aGlzLnhocl8uc3RhdHVzVGV4dCA6IFwiXCI7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4gZ29vZy5sb2cuZmluZSh0aGlzLmxvZ2dlcl8sIFwiQ2FuIG5vdCBnZXQgc3RhdHVzOiBcIiArIGUubWVzc2FnZSksIFwiXCI7XG4gIH1cbn07XG5nb29nLm5ldC5YaHJJby5wcm90b3R5cGUuZ2V0TGFzdFVyaSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gU3RyaW5nKHRoaXMubGFzdFVyaV8pO1xufTtcbmdvb2cubmV0LlhocklvLnByb3RvdHlwZS5nZXRSZXNwb25zZVRleHQgPSBmdW5jdGlvbigpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gdGhpcy54aHJfID8gdGhpcy54aHJfLnJlc3BvbnNlVGV4dCA6IFwiXCI7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4gZ29vZy5sb2cuZmluZSh0aGlzLmxvZ2dlcl8sIFwiQ2FuIG5vdCBnZXQgcmVzcG9uc2VUZXh0OiBcIiArIGUubWVzc2FnZSksIFwiXCI7XG4gIH1cbn07XG5nb29nLm5ldC5YaHJJby5wcm90b3R5cGUuZ2V0UmVzcG9uc2VCb2R5ID0gZnVuY3Rpb24oKSB7XG4gIHRyeSB7XG4gICAgaWYgKHRoaXMueGhyXyAmJiBcInJlc3BvbnNlQm9keVwiIGluIHRoaXMueGhyXykge1xuICAgICAgcmV0dXJuIHRoaXMueGhyXy5yZXNwb25zZUJvZHk7XG4gICAgfVxuICB9IGNhdGNoIChlKSB7XG4gICAgZ29vZy5sb2cuZmluZSh0aGlzLmxvZ2dlcl8sIFwiQ2FuIG5vdCBnZXQgcmVzcG9uc2VCb2R5OiBcIiArIGUubWVzc2FnZSk7XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59O1xuZ29vZy5uZXQuWGhySW8ucHJvdG90eXBlLmdldFJlc3BvbnNlWG1sID0gZnVuY3Rpb24oKSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIHRoaXMueGhyXyA/IHRoaXMueGhyXy5yZXNwb25zZVhNTCA6IG51bGw7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4gZ29vZy5sb2cuZmluZSh0aGlzLmxvZ2dlcl8sIFwiQ2FuIG5vdCBnZXQgcmVzcG9uc2VYTUw6IFwiICsgZS5tZXNzYWdlKSwgbnVsbDtcbiAgfVxufTtcbmdvb2cubmV0LlhocklvLnByb3RvdHlwZS5nZXRSZXNwb25zZUpzb24gPSBmdW5jdGlvbihvcHRfeHNzaVByZWZpeCkge1xuICBpZiAodGhpcy54aHJfKSB7XG4gICAgdmFyIHJlc3BvbnNlVGV4dCA9IHRoaXMueGhyXy5yZXNwb25zZVRleHQ7XG4gICAgb3B0X3hzc2lQcmVmaXggJiYgMCA9PSByZXNwb25zZVRleHQuaW5kZXhPZihvcHRfeHNzaVByZWZpeCkgJiYgKHJlc3BvbnNlVGV4dCA9IHJlc3BvbnNlVGV4dC5zdWJzdHJpbmcob3B0X3hzc2lQcmVmaXgubGVuZ3RoKSk7XG4gICAgcmV0dXJuIGdvb2cuanNvbi5oeWJyaWQucGFyc2UocmVzcG9uc2VUZXh0KTtcbiAgfVxufTtcbmdvb2cubmV0LlhocklvLnByb3RvdHlwZS5nZXRSZXNwb25zZSA9IGZ1bmN0aW9uKCkge1xuICB0cnkge1xuICAgIGlmICghdGhpcy54aHJfKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgaWYgKFwicmVzcG9uc2VcIiBpbiB0aGlzLnhocl8pIHtcbiAgICAgIHJldHVybiB0aGlzLnhocl8ucmVzcG9uc2U7XG4gICAgfVxuICAgIHN3aXRjaCh0aGlzLnJlc3BvbnNlVHlwZV8pIHtcbiAgICAgIGNhc2UgZ29vZy5uZXQuWGhySW8uUmVzcG9uc2VUeXBlLkRFRkFVTFQ6XG4gICAgICBjYXNlIGdvb2cubmV0LlhocklvLlJlc3BvbnNlVHlwZS5URVhUOlxuICAgICAgICByZXR1cm4gdGhpcy54aHJfLnJlc3BvbnNlVGV4dDtcbiAgICAgIGNhc2UgZ29vZy5uZXQuWGhySW8uUmVzcG9uc2VUeXBlLkFSUkFZX0JVRkZFUjpcbiAgICAgICAgaWYgKFwibW96UmVzcG9uc2VBcnJheUJ1ZmZlclwiIGluIHRoaXMueGhyXykge1xuICAgICAgICAgIHJldHVybiB0aGlzLnhocl8ubW96UmVzcG9uc2VBcnJheUJ1ZmZlcjtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnb29nLmxvZy5lcnJvcih0aGlzLmxvZ2dlcl8sIFwiUmVzcG9uc2UgdHlwZSBcIiArIHRoaXMucmVzcG9uc2VUeXBlXyArIFwiIGlzIG5vdCBzdXBwb3J0ZWQgb24gdGhpcyBicm93c2VyXCIpO1xuICAgIHJldHVybiBudWxsO1xuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIGdvb2cubG9nLmZpbmUodGhpcy5sb2dnZXJfLCBcIkNhbiBub3QgZ2V0IHJlc3BvbnNlOiBcIiArIGUubWVzc2FnZSksIG51bGw7XG4gIH1cbn07XG5nb29nLm5ldC5YaHJJby5wcm90b3R5cGUuZ2V0UmVzcG9uc2VIZWFkZXIgPSBmdW5jdGlvbihrZXkpIHtcbiAgaWYgKHRoaXMueGhyXyAmJiB0aGlzLmlzQ29tcGxldGUoKSkge1xuICAgIHZhciB2YWx1ZSA9IHRoaXMueGhyXy5nZXRSZXNwb25zZUhlYWRlcihrZXkpO1xuICAgIHJldHVybiBudWxsID09PSB2YWx1ZSA/IHZvaWQgMCA6IHZhbHVlO1xuICB9XG59O1xuZ29vZy5uZXQuWGhySW8ucHJvdG90eXBlLmdldEFsbFJlc3BvbnNlSGVhZGVycyA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy54aHJfICYmIHRoaXMuZ2V0UmVhZHlTdGF0ZSgpID49IGdvb2cubmV0LlhtbEh0dHAuUmVhZHlTdGF0ZS5MT0FERUQgPyB0aGlzLnhocl8uZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKCkgfHwgXCJcIiA6IFwiXCI7XG59O1xuZ29vZy5uZXQuWGhySW8ucHJvdG90eXBlLmdldFJlc3BvbnNlSGVhZGVycyA9IGZ1bmN0aW9uKCkge1xuICBmb3IgKHZhciBoZWFkZXJzT2JqZWN0ID0ge30sIGhlYWRlcnNBcnJheSA9IHRoaXMuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKCkuc3BsaXQoXCJcXHJcXG5cIiksIGkgPSAwOyBpIDwgaGVhZGVyc0FycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKCFnb29nLnN0cmluZy5pc0VtcHR5T3JXaGl0ZXNwYWNlKGhlYWRlcnNBcnJheVtpXSkpIHtcbiAgICAgIHZhciBrZXlWYWx1ZSA9IGdvb2cuc3RyaW5nLnNwbGl0TGltaXQoaGVhZGVyc0FycmF5W2ldLCBcIjpcIiwgMSksIGtleSA9IGtleVZhbHVlWzBdLCB2YWx1ZSA9IGtleVZhbHVlWzFdO1xuICAgICAgaWYgKFwic3RyaW5nXCIgPT09IHR5cGVvZiB2YWx1ZSkge1xuICAgICAgICB2YWx1ZSA9IHZhbHVlLnRyaW0oKTtcbiAgICAgICAgdmFyIHZhbHVlcyRqc2NvbXAkMCA9IGhlYWRlcnNPYmplY3Rba2V5XSB8fCBbXTtcbiAgICAgICAgaGVhZGVyc09iamVjdFtrZXldID0gdmFsdWVzJGpzY29tcCQwO1xuICAgICAgICB2YWx1ZXMkanNjb21wJDAucHVzaCh2YWx1ZSk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiBtb2R1bGUkY29udGVudHMkZ29vZyRvYmplY3RfbWFwKGhlYWRlcnNPYmplY3QsIGZ1bmN0aW9uKHZhbHVlcykge1xuICAgIHJldHVybiB2YWx1ZXMuam9pbihcIiwgXCIpO1xuICB9KTtcbn07XG5nb29nLm5ldC5YaHJJby5wcm90b3R5cGUuZ2V0U3RyZWFtaW5nUmVzcG9uc2VIZWFkZXIgPSBmdW5jdGlvbihrZXkpIHtcbiAgcmV0dXJuIHRoaXMueGhyXyA/IHRoaXMueGhyXy5nZXRSZXNwb25zZUhlYWRlcihrZXkpIDogbnVsbDtcbn07XG5nb29nLm5ldC5YaHJJby5wcm90b3R5cGUuZ2V0QWxsU3RyZWFtaW5nUmVzcG9uc2VIZWFkZXJzID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLnhocl8gPyB0aGlzLnhocl8uZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKCkgOiBcIlwiO1xufTtcbmdvb2cubmV0LlhocklvLnByb3RvdHlwZS5nZXRMYXN0RXJyb3JDb2RlID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLmxhc3RFcnJvckNvZGVfO1xufTtcbmdvb2cubmV0LlhocklvLnByb3RvdHlwZS5nZXRMYXN0RXJyb3IgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIFwic3RyaW5nXCIgPT09IHR5cGVvZiB0aGlzLmxhc3RFcnJvcl8gPyB0aGlzLmxhc3RFcnJvcl8gOiBTdHJpbmcodGhpcy5sYXN0RXJyb3JfKTtcbn07XG5nb29nLm5ldC5YaHJJby5wcm90b3R5cGUuZm9ybWF0TXNnXyA9IGZ1bmN0aW9uKG1zZykge1xuICByZXR1cm4gbXNnICsgXCIgW1wiICsgdGhpcy5sYXN0TWV0aG9kXyArIFwiIFwiICsgdGhpcy5sYXN0VXJpXyArIFwiIFwiICsgdGhpcy5nZXRTdGF0dXMoKSArIFwiXVwiO1xufTtcbmdvb2cuZGVidWcuZW50cnlQb2ludFJlZ2lzdHJ5LnJlZ2lzdGVyKGZ1bmN0aW9uKHRyYW5zZm9ybWVyKSB7XG4gIGdvb2cubmV0LlhocklvLnByb3RvdHlwZS5vblJlYWR5U3RhdGVDaGFuZ2VFbnRyeVBvaW50XyA9IHRyYW5zZm9ybWVyKGdvb2cubmV0LlhocklvLnByb3RvdHlwZS5vblJlYWR5U3RhdGVDaGFuZ2VFbnRyeVBvaW50Xyk7XG59KTtcbmVlLmFwaWNsaWVudCA9IHt9O1xudmFyIG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50ID0ge307XG5lZS5hcGljbGllbnQuVkVSU0lPTiA9IG1vZHVsZSRleHBvcnRzJGVlJGFwaVZlcnNpb24uVjFBTFBIQTtcbmVlLmFwaWNsaWVudC5BUElfQ0xJRU5UX1ZFUlNJT04gPSBcIjAuMS4zMzZcIjtcbmVlLmFwaWNsaWVudC5OVUxMX1ZBTFVFID0gbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5OVUxMX1ZBTFVFO1xuZWUuYXBpY2xpZW50LlByb21pc2VSZXF1ZXN0U2VydmljZSA9IG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JHByb21pc2VfcmVxdWVzdF9zZXJ2aWNlLlByb21pc2VSZXF1ZXN0U2VydmljZTtcbmVlLmFwaWNsaWVudC5NYWtlUmVxdWVzdFBhcmFtcyA9IG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRyZXF1ZXN0X3BhcmFtc19NYWtlUmVxdWVzdFBhcmFtcztcbmVlLmFwaWNsaWVudC5kZXNlcmlhbGl6ZSA9IG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0X2Rlc2VyaWFsaXplO1xuZWUuYXBpY2xpZW50LnNlcmlhbGl6ZSA9IG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0X3NlcmlhbGl6ZTtcbnZhciBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X0NhbGwgPSBmdW5jdGlvbihjYWxsYmFjaywgcmV0cmllcykge1xuICBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5pbml0aWFsaXplKCk7XG4gIHRoaXMuY2FsbGJhY2sgPSBjYWxsYmFjaztcbiAgdGhpcy5yZXF1ZXN0U2VydmljZSA9IG5ldyBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X0VFUmVxdWVzdFNlcnZpY2UoIWNhbGxiYWNrLCByZXRyaWVzKTtcbn07XG5tb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X0NhbGwucHJvdG90eXBlLmhhbmRsZSA9IGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gIHZhciAkanNjb21wJHRoaXMgPSB0aGlzO1xuICBpZiAocmVzcG9uc2UgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgaWYgKHRoaXMuY2FsbGJhY2spIHtcbiAgICAgIHZhciBjYWxsYmFjayA9IGZ1bmN0aW9uKHJlc3VsdCwgZXJyb3IpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICByZXR1cm4gJGpzY29tcCR0aGlzLmNhbGxiYWNrKHJlc3VsdCwgZXJyb3IpO1xuICAgICAgICB9IGNhdGNoIChjYWxsYmFja0Vycm9yKSB7XG4gICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHRocm93IGNhbGxiYWNrRXJyb3I7XG4gICAgICAgICAgfSwgMCk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICByZXNwb25zZS50aGVuKGNhbGxiYWNrLCBmdW5jdGlvbihlcnJvcikge1xuICAgICAgICByZXR1cm4gY2FsbGJhY2sodm9pZCAwLCBlcnJvcik7XG4gICAgICB9KTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgcmVzcG9uc2UudGhlbihmdW5jdGlvbihyZXN1bHQpIHtcbiAgICAgIHJlc3BvbnNlID0gcmVzdWx0O1xuICAgIH0pO1xuICB9XG4gIHJldHVybiByZXNwb25zZTtcbn07XG5tb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X0NhbGwucHJvdG90eXBlLnByb2plY3RzUGF0aCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gXCJwcm9qZWN0cy9cIiArIG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LmdldFByb2plY3QoKTtcbn07XG5tb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X0NhbGwucHJvdG90eXBlLmFsZ29yaXRobXMgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG5ldyBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzQWxnb3JpdGhtc0FwaUNsaWVudEltcGwobW9kdWxlJGV4cG9ydHMkZWUkYXBpVmVyc2lvbi5WMUFMUEhBLCB0aGlzLnJlcXVlc3RTZXJ2aWNlKTtcbn07XG5tb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X0NhbGwucHJvdG90eXBlLnByb2plY3RzID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBuZXcgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0FwaUNsaWVudEltcGwobW9kdWxlJGV4cG9ydHMkZWUkYXBpVmVyc2lvbi5WMUFMUEhBLCB0aGlzLnJlcXVlc3RTZXJ2aWNlKTtcbn07XG5tb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X0NhbGwucHJvdG90eXBlLmFzc2V0cyA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbmV3IG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNBc3NldHNBcGlDbGllbnRJbXBsKG1vZHVsZSRleHBvcnRzJGVlJGFwaVZlcnNpb24uVjFBTFBIQSwgdGhpcy5yZXF1ZXN0U2VydmljZSk7XG59O1xubW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9DYWxsLnByb3RvdHlwZS5vcGVyYXRpb25zID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBuZXcgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c09wZXJhdGlvbnNBcGlDbGllbnRJbXBsKG1vZHVsZSRleHBvcnRzJGVlJGFwaVZlcnNpb24uVjFBTFBIQSwgdGhpcy5yZXF1ZXN0U2VydmljZSk7XG59O1xubW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9DYWxsLnByb3RvdHlwZS52YWx1ZSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbmV3IG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNWYWx1ZUFwaUNsaWVudEltcGwobW9kdWxlJGV4cG9ydHMkZWUkYXBpVmVyc2lvbi5WMUFMUEhBLCB0aGlzLnJlcXVlc3RTZXJ2aWNlKTtcbn07XG5tb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X0NhbGwucHJvdG90eXBlLm1hcHMgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG5ldyBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzTWFwc0FwaUNsaWVudEltcGwobW9kdWxlJGV4cG9ydHMkZWUkYXBpVmVyc2lvbi5WMUFMUEhBLCB0aGlzLnJlcXVlc3RTZXJ2aWNlKTtcbn07XG5tb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X0NhbGwucHJvdG90eXBlLm1hcCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbmV3IG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNNYXBBcGlDbGllbnRJbXBsKG1vZHVsZSRleHBvcnRzJGVlJGFwaVZlcnNpb24uVjFBTFBIQSwgdGhpcy5yZXF1ZXN0U2VydmljZSk7XG59O1xubW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9DYWxsLnByb3RvdHlwZS5pbWFnZSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbmV3IG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNJbWFnZUFwaUNsaWVudEltcGwobW9kdWxlJGV4cG9ydHMkZWUkYXBpVmVyc2lvbi5WMUFMUEhBLCB0aGlzLnJlcXVlc3RTZXJ2aWNlKTtcbn07XG5tb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X0NhbGwucHJvdG90eXBlLnRhYmxlID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBuZXcgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c1RhYmxlQXBpQ2xpZW50SW1wbChtb2R1bGUkZXhwb3J0cyRlZSRhcGlWZXJzaW9uLlYxQUxQSEEsIHRoaXMucmVxdWVzdFNlcnZpY2UpO1xufTtcbm1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfQ2FsbC5wcm90b3R5cGUudGFibGVzID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBuZXcgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c1RhYmxlc0FwaUNsaWVudEltcGwobW9kdWxlJGV4cG9ydHMkZWUkYXBpVmVyc2lvbi5WMUFMUEhBLCB0aGlzLnJlcXVlc3RTZXJ2aWNlKTtcbn07XG5tb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X0NhbGwucHJvdG90eXBlLnZpZGVvID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBuZXcgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c1ZpZGVvQXBpQ2xpZW50SW1wbChtb2R1bGUkZXhwb3J0cyRlZSRhcGlWZXJzaW9uLlYxQUxQSEEsIHRoaXMucmVxdWVzdFNlcnZpY2UpO1xufTtcbm1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfQ2FsbC5wcm90b3R5cGUudmlkZW9NYXAgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG5ldyBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzVmlkZW9NYXBBcGlDbGllbnRJbXBsKG1vZHVsZSRleHBvcnRzJGVlJGFwaVZlcnNpb24uVjFBTFBIQSwgdGhpcy5yZXF1ZXN0U2VydmljZSk7XG59O1xubW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9DYWxsLnByb3RvdHlwZS5jbGFzc2lmaWVyID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBuZXcgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0NsYXNzaWZpZXJBcGlDbGllbnRJbXBsKG1vZHVsZSRleHBvcnRzJGVlJGFwaVZlcnNpb24uVjFBTFBIQSwgdGhpcy5yZXF1ZXN0U2VydmljZSk7XG59O1xubW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9DYWxsLnByb3RvdHlwZS5mZWF0dXJlVmlldyA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbmV3IG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNGZWF0dXJlVmlld0FwaUNsaWVudEltcGwobW9kdWxlJGV4cG9ydHMkZWUkYXBpVmVyc2lvbi5WMUFMUEhBLCB0aGlzLnJlcXVlc3RTZXJ2aWNlKTtcbn07XG5tb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X0NhbGwucHJvdG90eXBlLnRodW1ibmFpbHMgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG5ldyBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzVGh1bWJuYWlsc0FwaUNsaWVudEltcGwobW9kdWxlJGV4cG9ydHMkZWUkYXBpVmVyc2lvbi5WMUFMUEhBLCB0aGlzLnJlcXVlc3RTZXJ2aWNlKTtcbn07XG5tb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X0NhbGwucHJvdG90eXBlLnZpZGVvVGh1bWJuYWlscyA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbmV3IG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNWaWRlb1RodW1ibmFpbHNBcGlDbGllbnRJbXBsKG1vZHVsZSRleHBvcnRzJGVlJGFwaVZlcnNpb24uVjFBTFBIQSwgdGhpcy5yZXF1ZXN0U2VydmljZSk7XG59O1xubW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9DYWxsLnByb3RvdHlwZS5maWxtc3RyaXBUaHVtYm5haWxzID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBuZXcgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0ZpbG1zdHJpcFRodW1ibmFpbHNBcGlDbGllbnRJbXBsKG1vZHVsZSRleHBvcnRzJGVlJGFwaVZlcnNpb24uVjFBTFBIQSwgdGhpcy5yZXF1ZXN0U2VydmljZSk7XG59O1xudmFyIG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfRUVSZXF1ZXN0U2VydmljZSA9IGZ1bmN0aW9uKHN5bmMsIHJldHJpZXMpIHtcbiAgdGhpcy5zeW5jID0gc3luYyA9IHZvaWQgMCA9PT0gc3luYyA/ICExIDogc3luYztcbiAgdGhpcy5yZXRyaWVzID0gbnVsbCAhPSByZXRyaWVzID8gcmV0cmllcyA6IHN5bmMgPyBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5NQVhfU1lOQ19SRVRSSUVTXyA6IG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50Lk1BWF9BU1lOQ19SRVRSSUVTXztcbn07XG4kanNjb21wLmluaGVyaXRzKG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfRUVSZXF1ZXN0U2VydmljZSwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkcHJvbWlzZV9yZXF1ZXN0X3NlcnZpY2UuUHJvbWlzZVJlcXVlc3RTZXJ2aWNlKTtcbm1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfRUVSZXF1ZXN0U2VydmljZS5wcm90b3R5cGUuc2VuZCA9IGZ1bmN0aW9uKHBhcmFtcywgcmVzcG9uc2VDdG9yKSB7XG4gIHZhciAkanNjb21wJHRoaXMgPSB0aGlzO1xuICBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkcmVxdWVzdF9wYXJhbXNfcHJvY2Vzc1BhcmFtcyhwYXJhbXMpO1xuICB2YXIgcGF0aCA9IHBhcmFtcy5wYXRoIHx8IFwiXCIsIHVybCA9IG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LmdldFNhZmVBcGlVcmwoKSArIHBhdGgsIGFyZ3MgPSBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5tYWtlUmVxdWVzdF8ocGFyYW1zLnF1ZXJ5UGFyYW1zIHx8IHt9KSwgYm9keSA9IHBhcmFtcy5ib2R5ID8gSlNPTi5zdHJpbmdpZnkocGFyYW1zLmJvZHkpIDogdm9pZCAwO1xuICBpZiAodGhpcy5zeW5jKSB7XG4gICAgdmFyIHJhdyA9IG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LnNlbmQodXJsLCBhcmdzLCB2b2lkIDAsIHBhcmFtcy5odHRwTWV0aG9kLCBib2R5LCB0aGlzLnJldHJpZXMpLCB2YWx1ZSQ2MiA9IHJlc3BvbnNlQ3RvciA/IG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0X2Rlc2VyaWFsaXplKHJlc3BvbnNlQ3RvciwgcmF3KSA6IHJhdywgdGhlbmFibGUgPSBmdW5jdGlvbih2KSB7XG4gICAgICByZXR1cm4ge3RoZW46ZnVuY3Rpb24oZikge1xuICAgICAgICByZXR1cm4gdGhlbmFibGUoZih2KSk7XG4gICAgICB9fTtcbiAgICB9O1xuICAgIHJldHVybiB0aGVuYWJsZSh2YWx1ZSQ2Mik7XG4gIH1cbiAgcmV0dXJuIChuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5zZW5kKHVybCwgYXJncywgZnVuY3Rpb24odmFsdWUsIGVycm9yKSB7XG4gICAgICBlcnJvciA/IHJlamVjdChlcnJvcikgOiByZXNvbHZlKHZhbHVlKTtcbiAgICB9LCBwYXJhbXMuaHR0cE1ldGhvZCwgYm9keSwgJGpzY29tcCR0aGlzLnJldHJpZXMpO1xuICB9KSkudGhlbihmdW5jdGlvbihyKSB7XG4gICAgcmV0dXJuIHJlc3BvbnNlQ3RvciA/IG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0X2Rlc2VyaWFsaXplKHJlc3BvbnNlQ3RvciwgcikgOiByO1xuICB9KTtcbn07XG5tb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X0VFUmVxdWVzdFNlcnZpY2UucHJvdG90eXBlLm1ha2VSZXF1ZXN0ID0gZnVuY3Rpb24ocGFyYW1zKSB7XG59O1xudmFyIG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfQmF0Y2hDYWxsID0gZnVuY3Rpb24oY2FsbGJhY2spIHtcbiAgbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9DYWxsLmNhbGwodGhpcywgY2FsbGJhY2spO1xuICB0aGlzLnJlcXVlc3RTZXJ2aWNlID0gbmV3IG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfQmF0Y2hSZXF1ZXN0U2VydmljZSgpO1xufTtcbiRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9CYXRjaENhbGwsIG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfQ2FsbCk7XG5tb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X0JhdGNoQ2FsbC5wcm90b3R5cGUuc2VuZCA9IGZ1bmN0aW9uKHBhcnRzLCBnZXRSZXNwb25zZSkge1xuICB2YXIgJGpzY29tcCR0aGlzID0gdGhpcywgYmF0Y2hVcmwgPSBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5nZXRTYWZlQXBpVXJsKCkgKyBcIi9iYXRjaFwiLCBib2R5ID0gcGFydHMubWFwKGZ1bmN0aW9uKCRqc2NvbXAkZGVzdHJ1Y3R1cmluZyR2YXIzMikge1xuICAgIHZhciAkanNjb21wJGRlc3RydWN0dXJpbmckdmFyMzMgPSAkanNjb21wLm1ha2VJdGVyYXRvcigkanNjb21wJGRlc3RydWN0dXJpbmckdmFyMzIpLCBpZCA9ICRqc2NvbXAkZGVzdHJ1Y3R1cmluZyR2YXIzMy5uZXh0KCkudmFsdWUsICRqc2NvbXAkZGVzdHJ1Y3R1cmluZyR2YXIzNCA9ICRqc2NvbXAubWFrZUl0ZXJhdG9yKCRqc2NvbXAkZGVzdHJ1Y3R1cmluZyR2YXIzMy5uZXh0KCkudmFsdWUpLCBwYXJ0Qm9keSA9ICRqc2NvbXAkZGVzdHJ1Y3R1cmluZyR2YXIzNC5uZXh0KCkudmFsdWUsIGN0b3IgPSAkanNjb21wJGRlc3RydWN0dXJpbmckdmFyMzQubmV4dCgpLnZhbHVlO1xuICAgIHJldHVybiBcIi0tYmF0Y2hfRUFSVEhFTkdJTkVfYmF0Y2hcXHJcXG5Db250ZW50LVR5cGU6IGFwcGxpY2F0aW9uL2h0dHBcXHJcXG5Db250ZW50LVRyYW5zZmVyLUVuY29kaW5nOiBiaW5hcnlcXHJcXG5NSU1FLVZlcnNpb246IDEuMFxcclxcbkNvbnRlbnQtSUQ6IDxcIiArIGlkICsgXCI+XFxyXFxuXFxyXFxuXCIgKyBwYXJ0Qm9keSArIFwiXFxyXFxuXCI7XG4gIH0pLmpvaW4oXCJcIikgKyBcIi0tYmF0Y2hfRUFSVEhFTkdJTkVfYmF0Y2gtLVxcclxcblwiLCBkZXNlcmlhbGl6ZVJlc3BvbnNlcyA9IGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgdmFyIHJlc3VsdCA9IHt9O1xuICAgIHBhcnRzLmZvckVhY2goZnVuY3Rpb24oJGpzY29tcCRkZXN0cnVjdHVyaW5nJHZhcjM1KSB7XG4gICAgICB2YXIgJGpzY29tcCRkZXN0cnVjdHVyaW5nJHZhcjM2ID0gJGpzY29tcC5tYWtlSXRlcmF0b3IoJGpzY29tcCRkZXN0cnVjdHVyaW5nJHZhcjM1KSwgaWQgPSAkanNjb21wJGRlc3RydWN0dXJpbmckdmFyMzYubmV4dCgpLnZhbHVlLCAkanNjb21wJGRlc3RydWN0dXJpbmckdmFyMzcgPSAkanNjb21wLm1ha2VJdGVyYXRvcigkanNjb21wJGRlc3RydWN0dXJpbmckdmFyMzYubmV4dCgpLnZhbHVlKSwgcGFydEJvZHkgPSAkanNjb21wJGRlc3RydWN0dXJpbmckdmFyMzcubmV4dCgpLnZhbHVlLCBjdG9yID0gJGpzY29tcCRkZXN0cnVjdHVyaW5nJHZhcjM3Lm5leHQoKS52YWx1ZTtcbiAgICAgIG51bGwgIT0gcmVzcG9uc2VbaWRdICYmIChyZXN1bHRbaWRdID0gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3RfZGVzZXJpYWxpemUoY3RvciwgcmVzcG9uc2VbaWRdKSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIGdldFJlc3BvbnNlID8gZ2V0UmVzcG9uc2UocmVzdWx0KSA6IHJlc3VsdDtcbiAgfTtcbiAgcmV0dXJuIHRoaXMuY2FsbGJhY2sgPyAobW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuc2VuZChiYXRjaFVybCwgbnVsbCwgZnVuY3Rpb24ocmVzdWx0LCBlcnIpIHtcbiAgICByZXR1cm4gJGpzY29tcCR0aGlzLmNhbGxiYWNrKGVyciA/IHJlc3VsdCA6IGRlc2VyaWFsaXplUmVzcG9uc2VzKHJlc3VsdCksIGVycik7XG4gIH0sIFwibXVsdGlwYXJ0L21peGVkOyBib3VuZGFyeT1iYXRjaF9FQVJUSEVOR0lORV9iYXRjaFwiLCBib2R5KSwgbnVsbCkgOiBkZXNlcmlhbGl6ZVJlc3BvbnNlcyhtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5zZW5kKGJhdGNoVXJsLCBudWxsLCB2b2lkIDAsIFwibXVsdGlwYXJ0L21peGVkOyBib3VuZGFyeT1iYXRjaF9FQVJUSEVOR0lORV9iYXRjaFwiLCBib2R5KSk7XG59O1xudmFyIG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfQmF0Y2hSZXF1ZXN0U2VydmljZSA9IGZ1bmN0aW9uKCkge1xufTtcbiRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9CYXRjaFJlcXVlc3RTZXJ2aWNlLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRwcm9taXNlX3JlcXVlc3Rfc2VydmljZS5Qcm9taXNlUmVxdWVzdFNlcnZpY2UpO1xubW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9CYXRjaFJlcXVlc3RTZXJ2aWNlLnByb3RvdHlwZS5zZW5kID0gZnVuY3Rpb24ocGFyYW1zLCByZXNwb25zZUN0b3IpIHtcbiAgdmFyIHJlcXVlc3QgPSBbcGFyYW1zLmh0dHBNZXRob2QgKyBcIiBcIiArIHBhcmFtcy5wYXRoICsgXCIgSFRUUC8xLjFcIl07XG4gIHJlcXVlc3QucHVzaChcIkNvbnRlbnQtVHlwZTogYXBwbGljYXRpb24vanNvbjsgY2hhcnNldD11dGYtOFwiKTtcbiAgdmFyIGF1dGhUb2tlbiA9IG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LmdldEF1dGhUb2tlbigpO1xuICBudWxsICE9IGF1dGhUb2tlbiAmJiByZXF1ZXN0LnB1c2goXCJBdXRob3JpemF0aW9uOiBcIiArIGF1dGhUb2tlbik7XG4gIHZhciBib2R5ID0gcGFyYW1zLmJvZHkgPyBKU09OLnN0cmluZ2lmeShwYXJhbXMuYm9keSkgOiBcIlwiO1xuICByZXR1cm4gW3JlcXVlc3Quam9pbihcIlxcclxcblwiKSArIFwiXFxyXFxuXFxyXFxuXCIgKyBib2R5LCByZXNwb25zZUN0b3JdO1xufTtcbm1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfQmF0Y2hSZXF1ZXN0U2VydmljZS5wcm90b3R5cGUubWFrZVJlcXVlc3QgPSBmdW5jdGlvbihwYXJhbXMpIHtcbn07XG5tb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5wYXJzZUJhdGNoUmVwbHkgPSBmdW5jdGlvbihjb250ZW50VHlwZSwgcmVzcG9uc2VUZXh0LCBoYW5kbGUpIHtcbiAgZm9yICh2YXIgYm91bmRhcnkgPSBjb250ZW50VHlwZS5zcGxpdChcIjsgYm91bmRhcnk9XCIpWzFdLCAkanNjb21wJGl0ZXIkMjYgPSAkanNjb21wLm1ha2VJdGVyYXRvcihyZXNwb25zZVRleHQuc3BsaXQoXCItLVwiICsgYm91bmRhcnkpKSwgJGpzY29tcCRrZXkkcGFydCA9ICRqc2NvbXAkaXRlciQyNi5uZXh0KCk7ICEkanNjb21wJGtleSRwYXJ0LmRvbmU7ICRqc2NvbXAka2V5JHBhcnQgPSAkanNjb21wJGl0ZXIkMjYubmV4dCgpKSB7XG4gICAgdmFyIGdyb3VwcyA9ICRqc2NvbXAka2V5JHBhcnQudmFsdWUuc3BsaXQoXCJcXHJcXG5cXHJcXG5cIik7XG4gICAgaWYgKCEoMyA+IGdyb3Vwcy5sZW5ndGgpKSB7XG4gICAgICB2YXIgaWQgPSBncm91cHNbMF0ubWF0Y2goL1xcclxcbkNvbnRlbnQtSUQ6IDxyZXNwb25zZS0oW14+XSopPi8pWzFdLCBzdGF0dXMgPSBOdW1iZXIoZ3JvdXBzWzFdLm1hdGNoKC9eSFRUUFxcUypcXHMoXFxkKylcXHMvKVsxXSksIHRleHQgPSBncm91cHMuc2xpY2UoMikuam9pbihcIlxcclxcblxcclxcblwiKTtcbiAgICAgIGhhbmRsZShpZCwgc3RhdHVzLCB0ZXh0KTtcbiAgICB9XG4gIH1cbn07XG5tb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5zZXRBcGlLZXkgPSBmdW5jdGlvbihhcGlLZXkpIHtcbiAgbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuY2xvdWRBcGlLZXlfID0gYXBpS2V5O1xufTtcbm1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LmdldEFwaUtleSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuY2xvdWRBcGlLZXlfO1xufTtcbm1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LkRFRkFVTFRfUFJPSkVDVF8gPSBcImVhcnRoZW5naW5lLWxlZ2FjeVwiO1xubW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuc2V0UHJvamVjdCA9IGZ1bmN0aW9uKHByb2plY3QpIHtcbiAgbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQucHJvamVjdF8gPSBwcm9qZWN0O1xufTtcbm1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LmdldFByb2plY3QgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LnByb2plY3RfO1xufTtcbm1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LmdldFNhZmVBcGlVcmwgPSBmdW5jdGlvbigpIHtcbiAgdmFyIHVybCA9IG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LmFwaUJhc2VVcmxfLnJlcGxhY2UoL1xcL2FwaSQvLCBcIlwiKTtcbiAgcmV0dXJuIFwid2luZG93XCIgaW4gZ29vZy5nbG9iYWwgJiYgIXVybC5tYXRjaCgvXmh0dHBzPzpcXC9cXC9jb250ZW50LS8pID8gdXJsLnJlcGxhY2UoL14oaHR0cHM/OlxcL1xcLykoLipcXC5nb29nbGVhcGlzXFwuY29tKSQvLCBcIiQxY29udGVudC0kMlwiKSA6IHVybDtcbn07XG5tb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5tZXJnZUF1dGhTY29wZXNfID0gZnVuY3Rpb24oaW5jbHVkZURlZmF1bHRTY29wZXMsIGluY2x1ZGVTdG9yYWdlU2NvcGUsIGV4dHJhU2NvcGVzKSB7XG4gIHZhciBzY29wZXMgPSBbXTtcbiAgaW5jbHVkZURlZmF1bHRTY29wZXMgJiYgKHNjb3BlcyA9IHNjb3Blcy5jb25jYXQobW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuREVGQVVMVF9BVVRIX1NDT1BFU18pKTtcbiAgaW5jbHVkZVN0b3JhZ2VTY29wZSAmJiBzY29wZXMucHVzaChtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5TVE9SQUdFX1NDT1BFXyk7XG4gIHNjb3BlcyA9IHNjb3Blcy5jb25jYXQoZXh0cmFTY29wZXMpO1xuICBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9yZW1vdmVEdXBsaWNhdGVzKHNjb3Blcyk7XG4gIHJldHVybiBzY29wZXM7XG59O1xubW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuc2V0QXV0aFRva2VuID0gZnVuY3Rpb24oY2xpZW50SWQsIHRva2VuVHlwZSwgYWNjZXNzVG9rZW4sIGV4cGlyZXNJbiwgZXh0cmFTY29wZXMsIGNhbGxiYWNrLCB1cGRhdGVBdXRoTGlicmFyeSwgc3VwcHJlc3NEZWZhdWx0U2NvcGVzKSB7XG4gIHZhciBzY29wZXMgPSBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5tZXJnZUF1dGhTY29wZXNfKCFzdXBwcmVzc0RlZmF1bHRTY29wZXMsICExLCBleHRyYVNjb3BlcyB8fCBbXSk7XG4gIG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LmF1dGhDbGllbnRJZF8gPSBjbGllbnRJZDtcbiAgbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuYXV0aFNjb3Blc18gPSBzY29wZXM7XG4gIHZhciB0b2tlbk9iamVjdCA9IHt0b2tlbl90eXBlOnRva2VuVHlwZSwgYWNjZXNzX3Rva2VuOmFjY2Vzc1Rva2VuLCBzdGF0ZTpzY29wZXMuam9pbihcIiBcIiksIGV4cGlyZXNfaW46ZXhwaXJlc0lufTtcbiAgbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuaGFuZGxlQXV0aFJlc3VsdF8odm9pZCAwLCB2b2lkIDAsIHRva2VuT2JqZWN0KTtcbiAgITEgPT09IHVwZGF0ZUF1dGhMaWJyYXJ5ID8gY2FsbGJhY2sgJiYgY2FsbGJhY2soKSA6IG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LmVuc3VyZUF1dGhMaWJMb2FkZWRfKGZ1bmN0aW9uKCkge1xuICAgIGdvb2cuZ2xvYmFsLmdhcGkuYXV0aC5zZXRUb2tlbih0b2tlbk9iamVjdCk7XG4gICAgY2FsbGJhY2sgJiYgY2FsbGJhY2soKTtcbiAgfSk7XG59O1xubW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQucmVmcmVzaEF1dGhUb2tlbiA9IGZ1bmN0aW9uKHN1Y2Nlc3MsIGVycm9yLCBvbkltbWVkaWF0ZUZhaWxlZCkge1xuICBpZiAobW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuaXNBdXRoVG9rZW5SZWZyZXNoaW5nRW5hYmxlZF8oKSkge1xuICAgIHZhciBhdXRoQXJncyA9IHtjbGllbnRfaWQ6U3RyaW5nKG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LmF1dGhDbGllbnRJZF8pLCBpbW1lZGlhdGU6ITAsIHNjb3BlOm1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LmF1dGhTY29wZXNfLmpvaW4oXCIgXCIpfTtcbiAgICBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5hdXRoVG9rZW5SZWZyZXNoZXJfKGF1dGhBcmdzLCBmdW5jdGlvbihyZXN1bHQpIHtcbiAgICAgIGlmIChcImltbWVkaWF0ZV9mYWlsZWRcIiA9PSByZXN1bHQuZXJyb3IgJiYgb25JbW1lZGlhdGVGYWlsZWQpIHtcbiAgICAgICAgb25JbW1lZGlhdGVGYWlsZWQoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChcIndpbmRvd1wiIGluIGdvb2cuZ2xvYmFsKSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LmVuc3VyZUF1dGhMaWJMb2FkZWRfKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGdvb2cuZ2xvYmFsLmdhcGkuYXV0aC5zZXRUb2tlbihyZXN1bHQpLCBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5oYW5kbGVBdXRoUmVzdWx0XyhzdWNjZXNzLCBlcnJvciwgcmVzdWx0KTtcbiAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIGVycm9yKGUudG9TdHJpbmcoKSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGVycm9yKGUudG9TdHJpbmcoKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LmhhbmRsZUF1dGhSZXN1bHRfKHN1Y2Nlc3MsIGVycm9yLCByZXN1bHQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn07XG5tb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5zZXRBdXRoVG9rZW5SZWZyZXNoZXIgPSBmdW5jdGlvbihyZWZyZXNoZXIpIHtcbiAgbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuYXV0aFRva2VuUmVmcmVzaGVyXyA9IHJlZnJlc2hlcjtcbn07XG5tb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5nZXRBdXRoVG9rZW4gPSBmdW5jdGlvbigpIHtcbiAgbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuYXV0aFRva2VuRXhwaXJhdGlvbl8gJiYgMCA8PSBEYXRlLm5vdygpIC0gbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuYXV0aFRva2VuRXhwaXJhdGlvbl8gJiYgbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuY2xlYXJBdXRoVG9rZW4oKTtcbiAgcmV0dXJuIG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LmF1dGhUb2tlbl87XG59O1xubW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuY2xlYXJBdXRoVG9rZW4gPSBmdW5jdGlvbigpIHtcbiAgbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuYXV0aFRva2VuXyA9IG51bGw7XG4gIG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LmF1dGhUb2tlbkV4cGlyYXRpb25fID0gbnVsbDtcbn07XG5tb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5nZXRBdXRoQ2xpZW50SWQgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LmF1dGhDbGllbnRJZF87XG59O1xubW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuZ2V0QXV0aFNjb3BlcyA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuYXV0aFNjb3Blc187XG59O1xubW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuc2V0QXV0aENsaWVudCA9IGZ1bmN0aW9uKGNsaWVudElkLCBzY29wZXMpIHtcbiAgbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuYXV0aENsaWVudElkXyA9IGNsaWVudElkO1xuICBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5hdXRoU2NvcGVzXyA9IHNjb3Blcztcbn07XG5tb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5zZXRBcHBJZFRva2VuID0gZnVuY3Rpb24odG9rZW4pIHtcbiAgbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuYXBwSWRUb2tlbl8gPSB0b2tlbjtcbn07XG5tb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5pbml0aWFsaXplID0gZnVuY3Rpb24oYXBpQmFzZVVybCwgdGlsZUJhc2VVcmwsIHhzcmZUb2tlbiwgcHJvamVjdCkge1xuICBudWxsICE9IGFwaUJhc2VVcmwgPyBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5hcGlCYXNlVXJsXyA9IGFwaUJhc2VVcmwgOiBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5pbml0aWFsaXplZF8gfHwgKG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LmFwaUJhc2VVcmxfID0gbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuREVGQVVMVF9BUElfQkFTRV9VUkxfKTtcbiAgbnVsbCAhPSB0aWxlQmFzZVVybCA/IG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LnRpbGVCYXNlVXJsXyA9IHRpbGVCYXNlVXJsIDogbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuaW5pdGlhbGl6ZWRfIHx8IChtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC50aWxlQmFzZVVybF8gPSBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5ERUZBVUxUX1RJTEVfQkFTRV9VUkxfKTtcbiAgdm9pZCAwICE9PSB4c3JmVG9rZW4gJiYgKG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LnhzcmZUb2tlbl8gPSB4c3JmVG9rZW4pO1xuICBudWxsICE9IHByb2plY3QgPyBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5zZXRQcm9qZWN0KHByb2plY3QpIDogbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuc2V0UHJvamVjdChtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5nZXRQcm9qZWN0KCkgfHwgbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuREVGQVVMVF9QUk9KRUNUXyk7XG4gIG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LmluaXRpYWxpemVkXyA9ICEwO1xufTtcbm1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LnJlc2V0ID0gZnVuY3Rpb24oKSB7XG4gIG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LmFwaUJhc2VVcmxfID0gbnVsbDtcbiAgbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQudGlsZUJhc2VVcmxfID0gbnVsbDtcbiAgbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQueHNyZlRva2VuXyA9IG51bGw7XG4gIG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LmluaXRpYWxpemVkXyA9ICExO1xufTtcbm1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LnNldERlYWRsaW5lID0gZnVuY3Rpb24obWlsbGlzZWNvbmRzKSB7XG4gIG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LmRlYWRsaW5lTXNfID0gbWlsbGlzZWNvbmRzO1xufTtcbm1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LnNldFBhcmFtQXVnbWVudGVyID0gZnVuY3Rpb24oYXVnbWVudGVyKSB7XG4gIG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LnBhcmFtQXVnbWVudGVyXyA9IGF1Z21lbnRlciB8fCBnb29nLmZ1bmN0aW9ucy5pZGVudGl0eTtcbn07XG5tb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5nZXRBcGlCYXNlVXJsID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5hcGlCYXNlVXJsXztcbn07XG5tb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5nZXRUaWxlQmFzZVVybCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQudGlsZUJhc2VVcmxfO1xufTtcbm1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LmdldFhzcmZUb2tlbiA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQueHNyZlRva2VuXztcbn07XG5tb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5pc0luaXRpYWxpemVkID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5pbml0aWFsaXplZF87XG59O1xubW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuc2VuZCA9IGZ1bmN0aW9uKHBhdGgsIHBhcmFtcywgY2FsbGJhY2ssIG1ldGhvZCwgYm9keSwgcmV0cmllcykge1xuICBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5pbml0aWFsaXplKCk7XG4gIHZhciBwcm9maWxlSG9va0F0Q2FsbFRpbWUgPSBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5wcm9maWxlSG9va18sIGNvbnRlbnRUeXBlID0gXCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWRcIjtcbiAgYm9keSAmJiAoY29udGVudFR5cGUgPSBcImFwcGxpY2F0aW9uL2pzb25cIiwgbWV0aG9kICYmIG1ldGhvZC5zdGFydHNXaXRoKFwibXVsdGlwYXJ0XCIpICYmIChjb250ZW50VHlwZSA9IG1ldGhvZCwgbWV0aG9kID0gXCJQT1NUXCIpKTtcbiAgbWV0aG9kID0gbWV0aG9kIHx8IFwiUE9TVFwiO1xuICB2YXIgaGVhZGVycyA9IHtcIkNvbnRlbnQtVHlwZVwiOmNvbnRlbnRUeXBlLH0sIHZlcnNpb24gPSBcIjAuMS4zMzZcIjtcbiAgXCIwLjEuMzM2XCIgPT09IHZlcnNpb24gJiYgKHZlcnNpb24gPSBcImxhdGVzdFwiKTtcbiAgaGVhZGVyc1ttb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5BUElfQ0xJRU5UX1ZFUlNJT05fSEVBREVSXSA9IFwiZWUtanMvXCIgKyB2ZXJzaW9uO1xuICB2YXIgYXV0aFRva2VuID0gbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuZ2V0QXV0aFRva2VuKCk7XG4gIGlmIChudWxsICE9IGF1dGhUb2tlbikge1xuICAgIGhlYWRlcnMuQXV0aG9yaXphdGlvbiA9IGF1dGhUb2tlbjtcbiAgfSBlbHNlIGlmIChjYWxsYmFjayAmJiBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5pc0F1dGhUb2tlblJlZnJlc2hpbmdFbmFibGVkXygpKSB7XG4gICAgcmV0dXJuIG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LnJlZnJlc2hBdXRoVG9rZW4oZnVuY3Rpb24oKSB7XG4gICAgICBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC53aXRoUHJvZmlsaW5nKHByb2ZpbGVIb29rQXRDYWxsVGltZSwgZnVuY3Rpb24oKSB7XG4gICAgICAgIG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LnNlbmQocGF0aCwgcGFyYW1zLCBjYWxsYmFjaywgbWV0aG9kKTtcbiAgICAgIH0pO1xuICAgIH0pLCBudWxsO1xuICB9XG4gIHBhcmFtcyA9IHBhcmFtcyA/IHBhcmFtcy5jbG9uZSgpIDogbmV3IGdvb2cuVXJpLlF1ZXJ5RGF0YSgpO1xuICBudWxsICE9IG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LmNsb3VkQXBpS2V5XyAmJiBwYXJhbXMuYWRkKFwia2V5XCIsIG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LmNsb3VkQXBpS2V5Xyk7XG4gIHByb2ZpbGVIb29rQXRDYWxsVGltZSAmJiAoaGVhZGVyc1ttb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5QUk9GSUxFX1JFUVVFU1RfSEVBREVSXSA9IFwiMVwiKTtcbiAgbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuZ2V0UHJvamVjdCgpICYmIG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LmdldFByb2plY3QoKSAhPT0gbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuREVGQVVMVF9QUk9KRUNUXyAmJiAoaGVhZGVyc1ttb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5VU0VSX1BST0pFQ1RfT1ZFUlJJREVfSEVBREVSX10gPSBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5nZXRQcm9qZWN0KCkpO1xuICBwYXJhbXMgPSBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5wYXJhbUF1Z21lbnRlcl8ocGFyYW1zLCBwYXRoKTtcbiAgbnVsbCAhPSBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC54c3JmVG9rZW5fICYmIChoZWFkZXJzW1wiWC1YU1JGLVRva2VuXCJdID0gbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQueHNyZlRva2VuXyk7XG4gIG51bGwgIT0gbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuYXBwSWRUb2tlbl8gJiYgKGhlYWRlcnNbbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuQVBQX0lEX1RPS0VOX0hFQURFUl9dID0gbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuYXBwSWRUb2tlbl8pO1xuICB2YXIgcmVxdWVzdERhdGEgPSBib2R5IHx8IG51bGwsIHBhcmFtU3RyaW5nID0gcGFyYW1zID8gcGFyYW1zLnRvU3RyaW5nKCkgOiBcIlwiO1xuICBcIlBPU1RcIiA9PT0gbWV0aG9kICYmIHZvaWQgMCA9PT0gYm9keSA/IHJlcXVlc3REYXRhID0gcGFyYW1TdHJpbmcgOiBnb29nLnN0cmluZy5pc0VtcHR5T3JXaGl0ZXNwYWNlKHBhcmFtU3RyaW5nKSB8fCAocGF0aCArPSBnb29nLnN0cmluZy5jb250YWlucyhwYXRoLCBcIj9cIikgPyBcIiZcIiA6IFwiP1wiLCBwYXRoICs9IHBhcmFtU3RyaW5nKTtcbiAgdmFyIHVybCA9IHBhdGguc3RhcnRzV2l0aChcIi9cIikgPyBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5hcGlCYXNlVXJsXyArIHBhdGggOiBwYXRoO1xuICBpZiAoY2FsbGJhY2spIHtcbiAgICByZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQucmVxdWVzdFF1ZXVlXy5wdXNoKG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LmJ1aWxkQXN5bmNSZXF1ZXN0Xyh1cmwsIGNhbGxiYWNrLCBtZXRob2QsIHJlcXVlc3REYXRhLCBoZWFkZXJzLCByZXRyaWVzKSksIG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LlJlcXVlc3RUaHJvdHRsZV8uZmlyZSgpLCBudWxsO1xuICB9XG4gIGZvciAodmFyIHNldFJlcXVlc3RIZWFkZXIgPSBmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG4gICAgdGhpcy5zZXRSZXF1ZXN0SGVhZGVyICYmIHRoaXMuc2V0UmVxdWVzdEhlYWRlcihrZXksIHZhbHVlKTtcbiAgfSwgeG1sSHR0cCwgcmV0cnlDb3VudCA9IDAsIG1heFJldHJpZXMgPSBudWxsICE9IHJldHJpZXMgPyByZXRyaWVzIDogbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuTUFYX1NZTkNfUkVUUklFU187Oykge1xuICAgIHhtbEh0dHAgPSAoMCxnb29nLm5ldC5YbWxIdHRwKSgpO1xuICAgIHhtbEh0dHAub3BlbihtZXRob2QsIHVybCwgITEpO1xuICAgIG1vZHVsZSRjb250ZW50cyRnb29nJG9iamVjdF9mb3JFYWNoKGhlYWRlcnMsIHNldFJlcXVlc3RIZWFkZXIsIHhtbEh0dHApO1xuICAgIHhtbEh0dHAuc2VuZChyZXF1ZXN0RGF0YSk7XG4gICAgaWYgKDQyOSAhPSB4bWxIdHRwLnN0YXR1cyB8fCByZXRyeUNvdW50ID4gbWF4UmV0cmllcykge1xuICAgICAgYnJlYWs7XG4gICAgfVxuICAgIHJldHJ5Q291bnQrKztcbiAgfVxuICByZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuaGFuZGxlUmVzcG9uc2VfKHhtbEh0dHAuc3RhdHVzLCBmdW5jdGlvbiBnZXRSZXNwb25zZUhlYWRlclNhZmUoaGVhZGVyKSB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiB4bWxIdHRwLmdldFJlc3BvbnNlSGVhZGVyKGhlYWRlcik7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9LCB4bWxIdHRwLnJlc3BvbnNlVGV4dCwgcHJvZmlsZUhvb2tBdENhbGxUaW1lLCB2b2lkIDAsIHVybCwgbWV0aG9kKTtcbn07XG5tb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5idWlsZEFzeW5jUmVxdWVzdF8gPSBmdW5jdGlvbih1cmwsIGNhbGxiYWNrLCBtZXRob2QsIGNvbnRlbnQsIGhlYWRlcnMsIHJldHJpZXMpIHtcbiAgdmFyIHJldHJ5Q291bnQgPSAwLCByZXF1ZXN0ID0ge3VybDp1cmwsIG1ldGhvZDptZXRob2QsIGNvbnRlbnQ6Y29udGVudCwgaGVhZGVyczpoZWFkZXJzfSwgcHJvZmlsZUhvb2tBdENhbGxUaW1lID0gbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQucHJvZmlsZUhvb2tfLCBtYXhSZXRyaWVzID0gbnVsbCAhPSByZXRyaWVzID8gcmV0cmllcyA6IG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50Lk1BWF9BU1lOQ19SRVRSSUVTXztcbiAgcmVxdWVzdC5jYWxsYmFjayA9IGZ1bmN0aW9uKGUpIHtcbiAgICB2YXIgeGhySW8gPSBlLnRhcmdldDtcbiAgICByZXR1cm4gNDI5ID09IHhocklvLmdldFN0YXR1cygpICYmIHJldHJ5Q291bnQgPCBtYXhSZXRyaWVzID8gKHJldHJ5Q291bnQrKywgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgIG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LnJlcXVlc3RRdWV1ZV8ucHVzaChyZXF1ZXN0KTtcbiAgICAgIG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LlJlcXVlc3RUaHJvdHRsZV8uZmlyZSgpO1xuICAgIH0sIG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LmNhbGN1bGF0ZVJldHJ5V2FpdF8ocmV0cnlDb3VudCkpLCBudWxsKSA6IG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LmhhbmRsZVJlc3BvbnNlXyh4aHJJby5nZXRTdGF0dXMoKSwgZ29vZy5iaW5kKHhocklvLmdldFJlc3BvbnNlSGVhZGVyLCB4aHJJbyksIHhocklvLmdldFJlc3BvbnNlVGV4dCgpLCBwcm9maWxlSG9va0F0Q2FsbFRpbWUsIGNhbGxiYWNrLCB1cmwsIG1ldGhvZCk7XG4gIH07XG4gIHJldHVybiByZXF1ZXN0O1xufTtcbm1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LndpdGhQcm9maWxpbmcgPSBmdW5jdGlvbihob29rLCBib2R5LCB0aGlzT2JqZWN0KSB7XG4gIHZhciBzYXZlZCA9IG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LnByb2ZpbGVIb29rXztcbiAgdHJ5IHtcbiAgICByZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQucHJvZmlsZUhvb2tfID0gaG9vaywgYm9keS5jYWxsKHRoaXNPYmplY3QpO1xuICB9IGZpbmFsbHkge1xuICAgIG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LnByb2ZpbGVIb29rXyA9IHNhdmVkO1xuICB9XG59O1xubW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuaGFuZGxlUmVzcG9uc2VfID0gZnVuY3Rpb24oc3RhdHVzJGpzY29tcCQwLCBnZXRSZXNwb25zZUhlYWRlciwgcmVzcG9uc2VUZXh0LCBwcm9maWxlSG9vaywgY2FsbGJhY2ssIHVybCwgbWV0aG9kKSB7XG4gIHZhciBwcm9maWxlSWQgPSBwcm9maWxlSG9vayA/IGdldFJlc3BvbnNlSGVhZGVyKG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LlBST0ZJTEVfSEVBREVSKSA6IFwiXCI7XG4gIHByb2ZpbGVJZCAmJiBwcm9maWxlSG9vayAmJiBwcm9maWxlSG9vayhwcm9maWxlSWQpO1xuICB2YXIgcGFyc2VKc29uID0gZnVuY3Rpb24oYm9keSkge1xuICAgIHRyeSB7XG4gICAgICB2YXIgcmVzcG9uc2UgPSBKU09OLnBhcnNlKGJvZHkpO1xuICAgICAgcmV0dXJuIGdvb2cuaXNPYmplY3QocmVzcG9uc2UpICYmIFwiZXJyb3JcIiBpbiByZXNwb25zZSAmJiBcIm1lc3NhZ2VcIiBpbiByZXNwb25zZS5lcnJvciA/IHJlc3BvbnNlLmVycm9yLm1lc3NhZ2UgOiB7cGFyc2VkOnJlc3BvbnNlfTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICByZXR1cm4gXCJJbnZhbGlkIEpTT046IFwiICsgYm9keTtcbiAgICB9XG4gIH0sIHN0YXR1c0Vycm9yID0gZnVuY3Rpb24oc3RhdHVzKSB7XG4gICAgaWYgKDAgPT09IHN0YXR1cykge1xuICAgICAgcmV0dXJuIFwiRmFpbGVkIHRvIGNvbnRhY3QgRWFydGggRW5naW5lIHNlcnZlcnMuIFBsZWFzZSBjaGVjayB5b3VyIGNvbm5lY3Rpb24sIGZpcmV3YWxsLCBvciBicm93c2VyIGV4dGVuc2lvbiBzZXR0aW5ncy5cIjtcbiAgICB9XG4gICAgaWYgKDIwMCA+IHN0YXR1cyB8fCAzMDAgPD0gc3RhdHVzKSB7XG4gICAgICByZXR1cm4gXCJTZXJ2ZXIgcmV0dXJuZWQgSFRUUCBjb2RlOiBcIiArIHN0YXR1cyArIFwiIGZvciBcIiArIG1ldGhvZCArIFwiIFwiICsgdXJsO1xuICAgIH1cbiAgfSwgZXJyb3JNZXNzYWdlLCB0eXBlSGVhZGVyID0gZ2V0UmVzcG9uc2VIZWFkZXIoXCJDb250ZW50LVR5cGVcIikgfHwgXCJhcHBsaWNhdGlvbi9qc29uXCIsIGNvbnRlbnRUeXBlID0gdHlwZUhlYWRlci5yZXBsYWNlKC87LiovLCBcIlwiKTtcbiAgaWYgKFwiYXBwbGljYXRpb24vanNvblwiID09PSBjb250ZW50VHlwZSB8fCBcInRleHQvanNvblwiID09PSBjb250ZW50VHlwZSkge1xuICAgIHZhciByZXNwb25zZSRqc2NvbXAkMCA9IHBhcnNlSnNvbihyZXNwb25zZVRleHQpO1xuICAgIGlmIChyZXNwb25zZSRqc2NvbXAkMC5wYXJzZWQpIHtcbiAgICAgIHZhciBkYXRhID0gcmVzcG9uc2UkanNjb21wJDAucGFyc2VkO1xuICAgICAgdm9pZCAwID09PSBkYXRhICYmIChlcnJvck1lc3NhZ2UgPSBcIk1hbGZvcm1lZCByZXNwb25zZTogXCIgKyByZXNwb25zZVRleHQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBlcnJvck1lc3NhZ2UgPSByZXNwb25zZSRqc2NvbXAkMDtcbiAgICB9XG4gIH0gZWxzZSBpZiAoXCJtdWx0aXBhcnQvbWl4ZWRcIiA9PT0gY29udGVudFR5cGUpIHtcbiAgICBkYXRhID0ge307XG4gICAgdmFyIGVycm9ycyA9IFtdO1xuICAgIG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LnBhcnNlQmF0Y2hSZXBseSh0eXBlSGVhZGVyLCByZXNwb25zZVRleHQsIGZ1bmN0aW9uKGlkLCBzdGF0dXMsIHRleHQpIHtcbiAgICAgIHZhciByZXNwb25zZSA9IHBhcnNlSnNvbih0ZXh0KTtcbiAgICAgIHJlc3BvbnNlLnBhcnNlZCAmJiAoZGF0YVtpZF0gPSByZXNwb25zZS5wYXJzZWQpO1xuICAgICAgdmFyIGVycm9yID0gKHJlc3BvbnNlLnBhcnNlZCA/IFwiXCIgOiByZXNwb25zZSkgfHwgc3RhdHVzRXJyb3Ioc3RhdHVzKTtcbiAgICAgIGVycm9yICYmIGVycm9ycy5wdXNoKGlkICsgXCI6IFwiICsgZXJyb3IpO1xuICAgIH0pO1xuICAgIGVycm9ycy5sZW5ndGggJiYgKGVycm9yTWVzc2FnZSA9IGVycm9ycy5qb2luKFwiXFxuXCIpKTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgdHlwZUVycm9yID0gXCJSZXNwb25zZSB3YXMgdW5leHBlY3RlZGx5IG5vdCBKU09OLCBidXQgXCIgKyBjb250ZW50VHlwZTtcbiAgfVxuICBlcnJvck1lc3NhZ2UgPSBlcnJvck1lc3NhZ2UgfHwgc3RhdHVzRXJyb3Ioc3RhdHVzJGpzY29tcCQwKSB8fCB0eXBlRXJyb3I7XG4gIGlmIChjYWxsYmFjaykge1xuICAgIHJldHVybiBjYWxsYmFjayhkYXRhLCBlcnJvck1lc3NhZ2UpLCBudWxsO1xuICB9XG4gIGlmICghZXJyb3JNZXNzYWdlKSB7XG4gICAgcmV0dXJuIGRhdGE7XG4gIH1cbiAgdGhyb3cgRXJyb3IoZXJyb3JNZXNzYWdlKTtcbn07XG5tb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5lbnN1cmVBdXRoTGliTG9hZGVkXyA9IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG4gIHZhciBkb25lID0gZnVuY3Rpb24oKSB7XG4gICAgZ29vZy5nbG9iYWwuZ2FwaS5jb25maWcudXBkYXRlKFwiY2xpZW50L2NvcnNcIiwgITApO1xuICAgIG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LmF1dGhUb2tlblJlZnJlc2hlcl8gfHwgbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuc2V0QXV0aFRva2VuUmVmcmVzaGVyKGdvb2cuZ2xvYmFsLmdhcGkuYXV0aC5hdXRob3JpemUpO1xuICAgIGNhbGxiYWNrKCk7XG4gIH07XG4gIGlmIChnb29nLmlzT2JqZWN0KGdvb2cuZ2xvYmFsLmdhcGkpICYmIGdvb2cuaXNPYmplY3QoZ29vZy5nbG9iYWwuZ2FwaS5hdXRoKSAmJiBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBnb29nLmdsb2JhbC5nYXBpLmF1dGguYXV0aG9yaXplKSB7XG4gICAgZG9uZSgpO1xuICB9IGVsc2Uge1xuICAgIGZvciAodmFyIGNhbGxiYWNrTmFtZSA9IERhdGUubm93KCkudG9TdHJpbmcoMzYpOyBjYWxsYmFja05hbWUgaW4gZ29vZy5nbG9iYWw7KSB7XG4gICAgICBjYWxsYmFja05hbWUgKz0gXCJfXCI7XG4gICAgfVxuICAgIGdvb2cuZ2xvYmFsW2NhbGxiYWNrTmFtZV0gPSBmdW5jdGlvbigpIHtcbiAgICAgIGRlbGV0ZSBnb29nLmdsb2JhbFtjYWxsYmFja05hbWVdO1xuICAgICAgZG9uZSgpO1xuICAgIH07XG4gICAgZ29vZy5uZXQuanNsb2FkZXIuc2FmZUxvYWQoZ29vZy5odG1sLlRydXN0ZWRSZXNvdXJjZVVybC5mb3JtYXQobW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuQVVUSF9MSUJSQVJZX1VSTF8sIHtvbmxvYWQ6Y2FsbGJhY2tOYW1lfSkpO1xuICB9XG59O1xubW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuaGFuZGxlQXV0aFJlc3VsdF8gPSBmdW5jdGlvbihzdWNjZXNzLCBlcnJvciwgcmVzdWx0KSB7XG4gIGlmIChyZXN1bHQuYWNjZXNzX3Rva2VuKSB7XG4gICAgdmFyIHRva2VuID0gcmVzdWx0LnRva2VuX3R5cGUgKyBcIiBcIiArIHJlc3VsdC5hY2Nlc3NfdG9rZW47XG4gICAgaWYgKHJlc3VsdC5leHBpcmVzX2luIHx8IDAgPT09IHJlc3VsdC5leHBpcmVzX2luKSB7XG4gICAgICB2YXIgZXhwaXJlc0luTXMgPSA5MDAgKiByZXN1bHQuZXhwaXJlc19pbiwgdGltZW91dCA9IHNldFRpbWVvdXQobW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQucmVmcmVzaEF1dGhUb2tlbiwgLjkgKiBleHBpcmVzSW5Ncyk7XG4gICAgICB2b2lkIDAgIT09IHRpbWVvdXQudW5yZWYgJiYgdGltZW91dC51bnJlZigpO1xuICAgICAgbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuYXV0aFRva2VuRXhwaXJhdGlvbl8gPSBEYXRlLm5vdygpICsgZXhwaXJlc0luTXM7XG4gICAgfVxuICAgIG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LmF1dGhUb2tlbl8gPSB0b2tlbjtcbiAgICBzdWNjZXNzICYmIHN1Y2Nlc3MoKTtcbiAgfSBlbHNlIHtcbiAgICBlcnJvciAmJiBlcnJvcihyZXN1bHQuZXJyb3IgfHwgXCJVbmtub3duIGVycm9yLlwiKTtcbiAgfVxufTtcbm1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50Lm1ha2VSZXF1ZXN0XyA9IGZ1bmN0aW9uKHBhcmFtcykge1xuICBmb3IgKHZhciByZXF1ZXN0ID0gbmV3IGdvb2cuVXJpLlF1ZXJ5RGF0YSgpLCAkanNjb21wJGl0ZXIkMjcgPSAkanNjb21wLm1ha2VJdGVyYXRvcihPYmplY3QuZW50cmllcyhwYXJhbXMpKSwgJGpzY29tcCRrZXkkID0gJGpzY29tcCRpdGVyJDI3Lm5leHQoKTsgISRqc2NvbXAka2V5JC5kb25lOyAkanNjb21wJGtleSQgPSAkanNjb21wJGl0ZXIkMjcubmV4dCgpKSB7XG4gICAgdmFyICRqc2NvbXAkZGVzdHJ1Y3R1cmluZyR2YXIzOSA9ICRqc2NvbXAubWFrZUl0ZXJhdG9yKCRqc2NvbXAka2V5JC52YWx1ZSksIG5hbWUgPSAkanNjb21wJGRlc3RydWN0dXJpbmckdmFyMzkubmV4dCgpLnZhbHVlLCBpdGVtID0gJGpzY29tcCRkZXN0cnVjdHVyaW5nJHZhcjM5Lm5leHQoKS52YWx1ZTtcbiAgICByZXF1ZXN0LnNldChuYW1lLCBpdGVtKTtcbiAgfVxuICByZXR1cm4gcmVxdWVzdDtcbn07XG5tb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5zZXR1cE1vY2tTZW5kID0gZnVuY3Rpb24oY2FsbHMpIHtcbiAgZnVuY3Rpb24gZ2V0UmVzcG9uc2UodXJsLCBtZXRob2QsIGRhdGEpIHtcbiAgICB1cmwgPSB1cmwucmVwbGFjZShhcGlCYXNlVXJsLCBcIlwiKS5yZXBsYWNlKG1vZHVsZSRleHBvcnRzJGVlJGFwaVZlcnNpb24uVjFBTFBIQSArIFwiL3Byb2plY3RzL1wiICsgbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuREVGQVVMVF9QUk9KRUNUXyArIFwiL1wiLCBcIlwiKTtcbiAgICBpZiAodXJsIGluIGNhbGxzKSB7XG4gICAgICB2YXIgcmVzcG9uc2UgPSBjYWxsc1t1cmxdO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBFcnJvcih1cmwgKyBcIiBtb2NrIHJlc3BvbnNlIG5vdCBzcGVjaWZpZWRcIik7XG4gICAgfVxuICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIHJlc3BvbnNlICYmIChyZXNwb25zZSA9IHJlc3BvbnNlKHVybCwgbWV0aG9kLCBkYXRhKSk7XG4gICAgXCJzdHJpbmdcIiA9PT0gdHlwZW9mIHJlc3BvbnNlICYmIChyZXNwb25zZSA9IHt0ZXh0OnJlc3BvbnNlLCBzdGF0dXM6MjAwLCBjb250ZW50VHlwZTpcImFwcGxpY2F0aW9uL2pzb247IGNoYXJzZXQ9dXRmLThcIn0pO1xuICAgIGlmIChcInN0cmluZ1wiICE9PSB0eXBlb2YgcmVzcG9uc2UudGV4dCkge1xuICAgICAgdGhyb3cgRXJyb3IodXJsICsgXCIgbW9jayByZXNwb25zZSBtaXNzaW5nL2ludmFsaWQgdGV4dFwiKTtcbiAgICB9XG4gICAgaWYgKFwibnVtYmVyXCIgIT09IHR5cGVvZiByZXNwb25zZS5zdGF0dXMgJiYgXCJmdW5jdGlvblwiICE9PSB0eXBlb2YgcmVzcG9uc2Uuc3RhdHVzKSB7XG4gICAgICB0aHJvdyBFcnJvcih1cmwgKyBcIiBtb2NrIHJlc3BvbnNlIG1pc3NpbmcvaW52YWxpZCBzdGF0dXNcIik7XG4gICAgfVxuICAgIHJldHVybiByZXNwb25zZTtcbiAgfVxuICBjYWxscyA9IGNhbGxzID8gbW9kdWxlJGNvbnRlbnRzJGdvb2ckb2JqZWN0X2Nsb25lKGNhbGxzKSA6IHt9O1xuICB2YXIgYXBpQmFzZVVybDtcbiAgZ29vZy5uZXQuWGhySW8uc2VuZCA9IGZ1bmN0aW9uKHVybCwgY2FsbGJhY2ssIG1ldGhvZCwgZGF0YSkge1xuICAgIGFwaUJhc2VVcmwgPSBhcGlCYXNlVXJsIHx8IG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LmFwaUJhc2VVcmxfO1xuICAgIHZhciByZXNwb25zZURhdGEgPSBnZXRSZXNwb25zZSh1cmwsIG1ldGhvZCwgZGF0YSksIGUgPSBuZXcgZnVuY3Rpb24oKSB7XG4gICAgICB0aGlzLnRhcmdldCA9IHt9O1xuICAgIH0oKTtcbiAgICBlLnRhcmdldC5nZXRSZXNwb25zZVRleHQgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiByZXNwb25zZURhdGEudGV4dDtcbiAgICB9O1xuICAgIGUudGFyZ2V0LmdldFN0YXR1cyA9IFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIHJlc3BvbnNlRGF0YS5zdGF0dXMgPyByZXNwb25zZURhdGEuc3RhdHVzIDogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gcmVzcG9uc2VEYXRhLnN0YXR1cztcbiAgICB9O1xuICAgIGUudGFyZ2V0LmdldFJlc3BvbnNlSGVhZGVyID0gZnVuY3Rpb24oaGVhZGVyKSB7XG4gICAgICByZXR1cm4gXCJDb250ZW50LVR5cGVcIiA9PT0gaGVhZGVyID8gcmVzcG9uc2VEYXRhLmNvbnRlbnRUeXBlIDogbnVsbDtcbiAgICB9O1xuICAgIHNldFRpbWVvdXQoZ29vZy5iaW5kKGNhbGxiYWNrLCBlLCBlKSwgMCk7XG4gICAgcmV0dXJuIG5ldyBnb29nLm5ldC5YaHJJbygpO1xuICB9O1xuICB2YXIgZmFrZVhtbEh0dHAgPSBmdW5jdGlvbigpIHtcbiAgfTtcbiAgZmFrZVhtbEh0dHAucHJvdG90eXBlLm9wZW4gPSBmdW5jdGlvbihtZXRob2QsIHVybEluKSB7XG4gICAgYXBpQmFzZVVybCA9IGFwaUJhc2VVcmwgfHwgbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuYXBpQmFzZVVybF87XG4gICAgdGhpcy51cmwgPSB1cmxJbjtcbiAgICB0aGlzLm1ldGhvZCA9IG1ldGhvZDtcbiAgfTtcbiAgZmFrZVhtbEh0dHAucHJvdG90eXBlLnNldFJlcXVlc3RIZWFkZXIgPSBmdW5jdGlvbigpIHtcbiAgfTtcbiAgZmFrZVhtbEh0dHAucHJvdG90eXBlLmdldFJlc3BvbnNlSGVhZGVyID0gZnVuY3Rpb24oaGVhZGVyKSB7XG4gICAgcmV0dXJuIFwiQ29udGVudC1UeXBlXCIgPT09IGhlYWRlciA/IHRoaXMuY29udGVudFR5cGVfIHx8IG51bGwgOiBudWxsO1xuICB9O1xuICBmYWtlWG1sSHR0cC5wcm90b3R5cGUuc2VuZCA9IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICB2YXIgcmVzcG9uc2VEYXRhID0gZ2V0UmVzcG9uc2UodGhpcy51cmwsIHRoaXMubWV0aG9kLCBkYXRhKTtcbiAgICB0aGlzLnJlc3BvbnNlVGV4dCA9IHJlc3BvbnNlRGF0YS50ZXh0O1xuICAgIHRoaXMuc3RhdHVzID0gXCJmdW5jdGlvblwiID09PSB0eXBlb2YgcmVzcG9uc2VEYXRhLnN0YXR1cyA/IHJlc3BvbnNlRGF0YS5zdGF0dXMoKSA6IHJlc3BvbnNlRGF0YS5zdGF0dXM7XG4gICAgdGhpcy5jb250ZW50VHlwZV8gPSByZXNwb25zZURhdGEuY29udGVudFR5cGU7XG4gIH07XG4gIGdvb2cubmV0LlhtbEh0dHAuc2V0R2xvYmFsRmFjdG9yeSh7Y3JlYXRlSW5zdGFuY2U6ZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIG5ldyBmYWtlWG1sSHR0cCgpO1xuICB9LCBnZXRPcHRpb25zOmZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB7fTtcbiAgfX0pO1xufTtcbm1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LmlzQXV0aFRva2VuUmVmcmVzaGluZ0VuYWJsZWRfID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiAhKCFtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5hdXRoVG9rZW5SZWZyZXNoZXJfIHx8ICFtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5hdXRoQ2xpZW50SWRfKTtcbn07XG5tb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5jYWxjdWxhdGVSZXRyeVdhaXRfID0gZnVuY3Rpb24ocmV0cnlDb3VudCkge1xuICByZXR1cm4gTWF0aC5taW4obW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuTUFYX1JFVFJZX1dBSVRfLCBNYXRoLnBvdygyLCByZXRyeUNvdW50KSAqIG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LkJBU0VfUkVUUllfV0FJVF8pO1xufTtcbm1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LnNsZWVwXyA9IGZ1bmN0aW9uKHRpbWVJbk1zKSB7XG4gIGZvciAodmFyIGVuZCA9IChuZXcgRGF0ZSgpKS5nZXRUaW1lKCkgKyB0aW1lSW5NczsgKG5ldyBEYXRlKCkpLmdldFRpbWUoKSA8IGVuZDspIHtcbiAgfVxufTtcbm1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50Lk5ldHdvcmtSZXF1ZXN0XyA9IGZ1bmN0aW9uKCkge1xufTtcbm1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LnJlcXVlc3RRdWV1ZV8gPSBbXTtcbm1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LlJFUVVFU1RfVEhST1RUTEVfSU5URVJWQUxfTVNfID0gMzUwO1xubW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuUmVxdWVzdFRocm90dGxlXyA9IG5ldyBtb2R1bGUkY29udGVudHMkZ29vZyRhc3luYyRUaHJvdHRsZV9UaHJvdHRsZShmdW5jdGlvbigpIHtcbiAgdmFyIHJlcXVlc3QgPSBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5yZXF1ZXN0UXVldWVfLnNoaWZ0KCk7XG4gIHJlcXVlc3QgJiYgZ29vZy5uZXQuWGhySW8uc2VuZChyZXF1ZXN0LnVybCwgcmVxdWVzdC5jYWxsYmFjaywgcmVxdWVzdC5tZXRob2QsIHJlcXVlc3QuY29udGVudCwgcmVxdWVzdC5oZWFkZXJzLCBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5kZWFkbGluZU1zXyk7XG4gIG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X2lzRW1wdHkobW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQucmVxdWVzdFF1ZXVlXykgfHwgbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuUmVxdWVzdFRocm90dGxlXy5maXJlKCk7XG59LCBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5SRVFVRVNUX1RIUk9UVExFX0lOVEVSVkFMX01TXyk7XG5tb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5hcGlCYXNlVXJsXyA9IG51bGw7XG5tb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC50aWxlQmFzZVVybF8gPSBudWxsO1xubW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQueHNyZlRva2VuXyA9IG51bGw7XG5tb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5hcHBJZFRva2VuXyA9IG51bGw7XG5tb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5wYXJhbUF1Z21lbnRlcl8gPSBnb29nLmZ1bmN0aW9ucy5pZGVudGl0eTtcbm1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LmF1dGhUb2tlbl8gPSBudWxsO1xubW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuYXV0aFRva2VuRXhwaXJhdGlvbl8gPSBudWxsO1xubW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuYXV0aENsaWVudElkXyA9IG51bGw7XG5tb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5hdXRoU2NvcGVzXyA9IFtdO1xubW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuYXV0aFRva2VuUmVmcmVzaGVyXyA9IG51bGw7XG5tb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5BVVRIX1NDT1BFXyA9IFwiaHR0cHM6Ly93d3cuZ29vZ2xlYXBpcy5jb20vYXV0aC9lYXJ0aGVuZ2luZVwiO1xubW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuUkVBRF9PTkxZX0FVVEhfU0NPUEVfID0gXCJodHRwczovL3d3dy5nb29nbGVhcGlzLmNvbS9hdXRoL2VhcnRoZW5naW5lLnJlYWRvbmx5XCI7XG5tb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5DTE9VRF9QTEFURk9STV9TQ09QRV8gPSBcImh0dHBzOi8vd3d3Lmdvb2dsZWFwaXMuY29tL2F1dGgvY2xvdWQtcGxhdGZvcm1cIjtcbm1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LkRFRkFVTFRfQVVUSF9TQ09QRVNfID0gW21vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LkFVVEhfU0NPUEVfLCBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5DTE9VRF9QTEFURk9STV9TQ09QRV9dO1xubW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuQVVUSF9MSUJSQVJZX1VSTF8gPSBnb29nLnN0cmluZy5Db25zdC5mcm9tKFwiaHR0cHM6Ly9hcGlzLmdvb2dsZS5jb20vanMvY2xpZW50LmpzP29ubG9hZD0le29ubG9hZH1cIik7XG5tb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5TVE9SQUdFX1NDT1BFXyA9IFwiaHR0cHM6Ly93d3cuZ29vZ2xlYXBpcy5jb20vYXV0aC9kZXZzdG9yYWdlLnJlYWRfd3JpdGVcIjtcbm1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LmNsb3VkQXBpS2V5XyA9IG51bGw7XG5tb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5pbml0aWFsaXplZF8gPSAhMTtcbm1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LmRlYWRsaW5lTXNfID0gMDtcbm1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LnByb2ZpbGVIb29rXyA9IG51bGw7XG5tb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5CQVNFX1JFVFJZX1dBSVRfID0gMUUzO1xubW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuTUFYX1JFVFJZX1dBSVRfID0gMTJFNDtcbm1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50Lk1BWF9BU1lOQ19SRVRSSUVTXyA9IDEwO1xubW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuTUFYX1NZTkNfUkVUUklFU18gPSA1O1xubW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuQVBQX0lEX1RPS0VOX0hFQURFUl8gPSBcIlgtRWFydGgtRW5naW5lLUFwcC1JRC1Ub2tlblwiO1xubW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuUFJPRklMRV9IRUFERVIgPSBcIlgtRWFydGgtRW5naW5lLUNvbXB1dGF0aW9uLVByb2ZpbGVcIjtcbm1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LlBST0ZJTEVfUkVRVUVTVF9IRUFERVIgPSBcIlgtRWFydGgtRW5naW5lLUNvbXB1dGF0aW9uLVByb2ZpbGluZ1wiO1xubW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuVVNFUl9QUk9KRUNUX09WRVJSSURFX0hFQURFUl8gPSBcIlgtR29vZy1Vc2VyLVByb2plY3RcIjtcbm1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LkFQSV9DTElFTlRfVkVSU0lPTl9IRUFERVIgPSBcIngtZ29vZy1hcGktY2xpZW50XCI7XG5tb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5ERUZBVUxUX0FQSV9CQVNFX1VSTF8gPSBcImh0dHBzOi8vZWFydGhlbmdpbmUuZ29vZ2xlYXBpcy5jb20vYXBpXCI7XG5tb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5ERUZBVUxUX1RJTEVfQkFTRV9VUkxfID0gXCJodHRwczovL2VhcnRoZW5naW5lLmdvb2dsZWFwaXMuY29tXCI7XG5tb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5BdXRoQXJncyA9IGZ1bmN0aW9uKCkge1xufTtcbm1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LkF1dGhSZXNwb25zZSA9IGZ1bmN0aW9uKCkge1xufTtcbmVlLmFwaWNsaWVudC5DYWxsID0gbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9DYWxsO1xuZWUuYXBpY2xpZW50LkJhdGNoQ2FsbCA9IG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfQmF0Y2hDYWxsO1xuZWUuYXBpY2xpZW50LnNldEFwaUtleSA9IG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LnNldEFwaUtleTtcbmVlLmFwaWNsaWVudC5nZXRBcGlLZXkgPSBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5nZXRBcGlLZXk7XG5lZS5hcGljbGllbnQuc2V0UHJvamVjdCA9IG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LnNldFByb2plY3Q7XG5lZS5hcGljbGllbnQuZ2V0UHJvamVjdCA9IG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LmdldFByb2plY3Q7XG5lZS5hcGljbGllbnQuREVGQVVMVF9QUk9KRUNUID0gbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuREVGQVVMVF9QUk9KRUNUXztcbmVlLmFwaWNsaWVudC5QUk9GSUxFX0hFQURFUiA9IG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LlBST0ZJTEVfSEVBREVSO1xuZWUuYXBpY2xpZW50LlBST0ZJTEVfUkVRVUVTVF9IRUFERVIgPSBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5QUk9GSUxFX1JFUVVFU1RfSEVBREVSO1xuZWUuYXBpY2xpZW50LkFQSV9DTElFTlRfVkVSU0lPTl9IRUFERVIgPSBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5BUElfQ0xJRU5UX1ZFUlNJT05fSEVBREVSO1xuZWUuYXBpY2xpZW50LnNlbmQgPSBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5zZW5kO1xuZWUuYXBpY2xpZW50LkFVVEhfU0NPUEUgPSBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5BVVRIX1NDT1BFXztcbmVlLmFwaWNsaWVudC5SRUFEX09OTFlfQVVUSF9TQ09QRSA9IG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LlJFQURfT05MWV9BVVRIX1NDT1BFXztcbmVlLmFwaWNsaWVudC5DTE9VRF9QTEFURk9STV9TQ09QRSA9IG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LkNMT1VEX1BMQVRGT1JNX1NDT1BFXztcbmVlLmFwaWNsaWVudC5TVE9SQUdFX1NDT1BFID0gbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuU1RPUkFHRV9TQ09QRV87XG5lZS5hcGljbGllbnQuREVGQVVMVF9BVVRIX1NDT1BFUyA9IG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LkRFRkFVTFRfQVVUSF9TQ09QRVNfO1xuZWUuYXBpY2xpZW50Lm1ha2VSZXF1ZXN0ID0gbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQubWFrZVJlcXVlc3RfO1xuZWUuYXBpY2xpZW50LnJlc2V0ID0gbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQucmVzZXQ7XG5lZS5hcGljbGllbnQuaW5pdGlhbGl6ZSA9IG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LmluaXRpYWxpemU7XG5lZS5hcGljbGllbnQuc2V0RGVhZGxpbmUgPSBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5zZXREZWFkbGluZTtcbmVlLmFwaWNsaWVudC5pc0luaXRpYWxpemVkID0gbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuaXNJbml0aWFsaXplZDtcbmVlLmFwaWNsaWVudC5lbnN1cmVBdXRoTGliTG9hZGVkID0gbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuZW5zdXJlQXV0aExpYkxvYWRlZF87XG5lZS5hcGljbGllbnQuaGFuZGxlQXV0aFJlc3VsdCA9IG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LmhhbmRsZUF1dGhSZXN1bHRfO1xuZWUuYXBpY2xpZW50LnJlZnJlc2hBdXRoVG9rZW4gPSBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5yZWZyZXNoQXV0aFRva2VuO1xuZWUuYXBpY2xpZW50LnNldEF1dGhDbGllbnQgPSBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5zZXRBdXRoQ2xpZW50O1xuZWUuYXBpY2xpZW50LmdldEF1dGhTY29wZXMgPSBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5nZXRBdXRoU2NvcGVzO1xuZWUuYXBpY2xpZW50LmdldEF1dGhDbGllbnRJZCA9IG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LmdldEF1dGhDbGllbnRJZDtcbmVlLmFwaWNsaWVudC5nZXRBdXRoVG9rZW4gPSBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5nZXRBdXRoVG9rZW47XG5lZS5hcGljbGllbnQuc2V0QXV0aFRva2VuID0gbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuc2V0QXV0aFRva2VuO1xuZWUuYXBpY2xpZW50LmNsZWFyQXV0aFRva2VuID0gbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuY2xlYXJBdXRoVG9rZW47XG5lZS5hcGljbGllbnQuc2V0QXV0aFRva2VuUmVmcmVzaGVyID0gbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuc2V0QXV0aFRva2VuUmVmcmVzaGVyO1xuZWUuYXBpY2xpZW50LnNldEFwcElkVG9rZW4gPSBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5zZXRBcHBJZFRva2VuO1xuZWUuYXBpY2xpZW50Lm1lcmdlQXV0aFNjb3BlcyA9IG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50Lm1lcmdlQXV0aFNjb3Blc187XG5lZS5hcGljbGllbnQuc2V0dXBNb2NrU2VuZCA9IG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LnNldHVwTW9ja1NlbmQ7XG5lZS5hcGljbGllbnQuc2V0UGFyYW1BdWdtZW50ZXIgPSBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5zZXRQYXJhbUF1Z21lbnRlcjtcbmVlLmFwaWNsaWVudC53aXRoUHJvZmlsaW5nID0gbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQud2l0aFByb2ZpbGluZztcbmVlLmFwaWNsaWVudC5nZXRBcGlCYXNlVXJsID0gbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuZ2V0QXBpQmFzZVVybDtcbmVlLmFwaWNsaWVudC5nZXRUaWxlQmFzZVVybCA9IG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LmdldFRpbGVCYXNlVXJsO1xuZWUuYXBpY2xpZW50LkF1dGhBcmdzID0gbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuQXV0aEFyZ3M7XG5lZS5hcGljbGllbnQuQXV0aFJlc3BvbnNlID0gbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuQXV0aFJlc3BvbnNlO1xuZWUuYXBpY2xpZW50LlJlcXVlc3RUaHJvdHRsZSA9IG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LlJlcXVlc3RUaHJvdHRsZV87XG5lZS5hcGljbGllbnQuY2FsY3VsYXRlUmV0cnlXYWl0ID0gbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuY2FsY3VsYXRlUmV0cnlXYWl0XztcbmVlLmFwaWNsaWVudC5NQVhfQVNZTkNfUkVUUklFUyA9IG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50Lk1BWF9BU1lOQ19SRVRSSUVTXztcbmVlLmFwaWNsaWVudC5SRVFVRVNUX1RIUk9UVExFX0lOVEVSVkFMX01TID0gbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuUkVRVUVTVF9USFJPVFRMRV9JTlRFUlZBTF9NU187XG5lZS5hcGljbGllbnQuaXNBdXRoVG9rZW5SZWZyZXNoaW5nRW5hYmxlZCA9IG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LmlzQXV0aFRva2VuUmVmcmVzaGluZ0VuYWJsZWRfO1xuZ29vZy5leHBvcnRTeW1ib2woXCJlZS5hcGkuTGlzdEFzc2V0c1Jlc3BvbnNlXCIsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuTGlzdEFzc2V0c1Jlc3BvbnNlKTtcbmdvb2cuZXhwb3J0U3ltYm9sKFwiZWUuYXBpLkVhcnRoRW5naW5lQXNzZXRcIiwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5FYXJ0aEVuZ2luZUFzc2V0KTtcbmdvb2cuZXhwb3J0U3ltYm9sKFwiZWUuYXBpLk9wZXJhdGlvblwiLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50Lk9wZXJhdGlvbik7XG5nb29nLmV4cG9ydFN5bWJvbChcImVlLmFwaS5MaXN0RmVhdHVyZXNSZXNwb25zZVwiLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50Lkxpc3RGZWF0dXJlc1Jlc3BvbnNlKTtcbmdvb2cuZXhwb3J0U3ltYm9sKFwiZWUuYXBpLkZlYXR1cmVWaWV3TG9jYXRpb25cIiwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5GZWF0dXJlVmlld0xvY2F0aW9uKTtcbmVlLkVuY29kYWJsZSA9IGZ1bmN0aW9uKCkge1xufTtcbmVlLnJwY19ub2RlID0ge307XG5lZS5ycGNfbm9kZS5jb25zdGFudCA9IGZ1bmN0aW9uKG9iaikge1xuICBpZiAodm9pZCAwID09PSBvYmogfHwgbnVsbCA9PT0gb2JqKSB7XG4gICAgb2JqID0gbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5OVUxMX1ZBTFVFO1xuICB9XG4gIHJldHVybiBuZXcgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5WYWx1ZU5vZGUoe2NvbnN0YW50VmFsdWU6b2JqfSk7XG59O1xuZWUucnBjX25vZGUucmVmZXJlbmNlID0gZnVuY3Rpb24ocmVmKSB7XG4gIHJldHVybiBuZXcgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5WYWx1ZU5vZGUoe3ZhbHVlUmVmZXJlbmNlOnJlZn0pO1xufTtcbmVlLnJwY19ub2RlLmFycmF5ID0gZnVuY3Rpb24odmFsdWVzKSB7XG4gIHJldHVybiBuZXcgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5WYWx1ZU5vZGUoe2FycmF5VmFsdWU6bmV3IG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQXJyYXlWYWx1ZSh7dmFsdWVzOnZhbHVlc30pfSk7XG59O1xuZWUucnBjX25vZGUuZGljdGlvbmFyeSA9IGZ1bmN0aW9uKHZhbHVlcykge1xuICByZXR1cm4gbmV3IG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVmFsdWVOb2RlKHtkaWN0aW9uYXJ5VmFsdWU6bmV3IG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRGljdGlvbmFyeVZhbHVlKHt2YWx1ZXM6dmFsdWVzfSl9KTtcbn07XG5lZS5ycGNfbm9kZS5mdW5jdGlvbkJ5TmFtZSA9IGZ1bmN0aW9uKG5hbWUsIGFyZ3MpIHtcbiAgcmV0dXJuIG5ldyBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlZhbHVlTm9kZSh7ZnVuY3Rpb25JbnZvY2F0aW9uVmFsdWU6bmV3IG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRnVuY3Rpb25JbnZvY2F0aW9uKHtmdW5jdGlvbk5hbWU6bmFtZSwgYXJndW1lbnRzOmFyZ3N9KX0pO1xufTtcbmVlLnJwY19ub2RlLmZ1bmN0aW9uQnlSZWZlcmVuY2UgPSBmdW5jdGlvbihyZWYsIGFyZ3MpIHtcbiAgcmV0dXJuIG5ldyBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlZhbHVlTm9kZSh7ZnVuY3Rpb25JbnZvY2F0aW9uVmFsdWU6bmV3IG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRnVuY3Rpb25JbnZvY2F0aW9uKHtmdW5jdGlvblJlZmVyZW5jZTpyZWYsIGFyZ3VtZW50czphcmdzfSl9KTtcbn07XG5lZS5ycGNfbm9kZS5mdW5jdGlvbkRlZmluaXRpb24gPSBmdW5jdGlvbihhcmd1bWVudE5hbWVzLCBib2R5KSB7XG4gIHJldHVybiBuZXcgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5WYWx1ZU5vZGUoe2Z1bmN0aW9uRGVmaW5pdGlvblZhbHVlOm5ldyBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkZ1bmN0aW9uRGVmaW5pdGlvbih7YXJndW1lbnROYW1lczphcmd1bWVudE5hbWVzLCBib2R5OmJvZHl9KX0pO1xufTtcbmVlLnJwY19ub2RlLmFyZ3VtZW50UmVmZXJlbmNlID0gZnVuY3Rpb24ocmVmKSB7XG4gIHJldHVybiBuZXcgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5WYWx1ZU5vZGUoe2FyZ3VtZW50UmVmZXJlbmNlOnJlZn0pO1xufTtcbmVlLnJwY19jb252ZXJ0ID0ge307XG5lZS5ycGNfY29udmVydC5maWxlRm9ybWF0ID0gZnVuY3Rpb24oZm9ybWF0KSB7XG4gIGlmICghZm9ybWF0KSB7XG4gICAgcmV0dXJuIFwiQVVUT19KUEVHX1BOR1wiO1xuICB9XG4gIHZhciB1cHBlciA9IGZvcm1hdC50b1VwcGVyQ2FzZSgpO1xuICBzd2l0Y2godXBwZXIpIHtcbiAgICBjYXNlIFwiSlBHXCI6XG4gICAgICByZXR1cm4gXCJKUEVHXCI7XG4gICAgY2FzZSBcIkFVVE9cIjpcbiAgICAgIHJldHVybiBcIkFVVE9fSlBFR19QTkdcIjtcbiAgICBjYXNlIFwiVElGXCI6XG4gICAgY2FzZSBcIlRJRkZcIjpcbiAgICBjYXNlIFwiR0VPVElGXCI6XG4gICAgY2FzZSBcIkdFT1RJRkZcIjpcbiAgICAgIHJldHVybiBcIkdFT19USUZGXCI7XG4gICAgY2FzZSBcIlRGX1JFQ09SRFwiOlxuICAgIGNhc2UgXCJURlJFQ09SRFwiOlxuICAgICAgcmV0dXJuIFwiVEZfUkVDT1JEX0lNQUdFXCI7XG4gICAgY2FzZSBcIk5VTVBZXCI6XG4gICAgICByZXR1cm4gXCJOUFlcIjtcbiAgICBjYXNlIFwiWklQUEVEX1RJRlwiOlxuICAgIGNhc2UgXCJaSVBQRURfVElGRlwiOlxuICAgIGNhc2UgXCJaSVBQRURfR0VPVElGXCI6XG4gICAgY2FzZSBcIlpJUFBFRF9HRU9USUZGXCI6XG4gICAgICByZXR1cm4gXCJaSVBQRURfR0VPX1RJRkZcIjtcbiAgICBjYXNlIFwiWklQUEVEX1RJRl9QRVJfQkFORFwiOlxuICAgIGNhc2UgXCJaSVBQRURfVElGRl9QRVJfQkFORFwiOlxuICAgIGNhc2UgXCJaSVBQRURfR0VPVElGX1BFUl9CQU5EXCI6XG4gICAgY2FzZSBcIlpJUFBFRF9HRU9USUZGX1BFUl9CQU5EXCI6XG4gICAgICByZXR1cm4gXCJaSVBQRURfR0VPX1RJRkZfUEVSX0JBTkRcIjtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIHVwcGVyO1xuICB9XG59O1xuZWUucnBjX2NvbnZlcnQudGFibGVGaWxlRm9ybWF0ID0gZnVuY3Rpb24oZm9ybWF0KSB7XG4gIGlmICghZm9ybWF0KSB7XG4gICAgcmV0dXJuIFwiQ1NWXCI7XG4gIH1cbiAgdmFyIHVwcGVyID0gZm9ybWF0LnRvVXBwZXJDYXNlKCk7XG4gIHN3aXRjaCh1cHBlcikge1xuICAgIGNhc2UgXCJURl9SRUNPUkRcIjpcbiAgICBjYXNlIFwiVEZSRUNPUkRcIjpcbiAgICAgIHJldHVybiBcIlRGX1JFQ09SRF9UQUJMRVwiO1xuICAgIGNhc2UgXCJKU09OXCI6XG4gICAgY2FzZSBcIkdFT0pTT05cIjpcbiAgICAgIHJldHVybiBcIkdFT19KU09OXCI7XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiB1cHBlcjtcbiAgfVxufTtcbmVlLnJwY19jb252ZXJ0Lm9yaWVudGF0aW9uID0gZnVuY3Rpb24ob3JpZW50YXRpb24pIHtcbiAgaWYgKCFvcmllbnRhdGlvbikge1xuICAgIHJldHVybiBcIlZFUlRJQ0FMXCI7XG4gIH1cbiAgdmFyIHVwcGVyID0gb3JpZW50YXRpb24udG9VcHBlckNhc2UoKTtcbiAgaWYgKFwiSE9SSVpPTlRBTFwiICE9PSB1cHBlciAmJiBcIlZFUlRJQ0FMXCIgIT09IHVwcGVyKSB7XG4gICAgdGhyb3cgRXJyb3IoJ09yaWVudGF0aW9uIG11c3QgYmUgXCJob3Jpem9udGFsXCIgb3IgXCJ2ZXJ0aWNhbFwiJyk7XG4gIH1cbiAgcmV0dXJuIHVwcGVyO1xufTtcbmVlLnJwY19jb252ZXJ0LmJhbmRMaXN0ID0gZnVuY3Rpb24oYmFuZHMpIHtcbiAgaWYgKCFiYW5kcykge1xuICAgIHJldHVybiBbXTtcbiAgfVxuICBpZiAoXCJzdHJpbmdcIiA9PT0gdHlwZW9mIGJhbmRzKSB7XG4gICAgcmV0dXJuIGJhbmRzLnNwbGl0KFwiLFwiKTtcbiAgfVxuICBpZiAoQXJyYXkuaXNBcnJheShiYW5kcykpIHtcbiAgICByZXR1cm4gYmFuZHM7XG4gIH1cbiAgdGhyb3cgRXJyb3IoXCJJbnZhbGlkIGJhbmQgbGlzdCBcIiArIGJhbmRzKTtcbn07XG5lZS5ycGNfY29udmVydC52aXN1YWxpemF0aW9uT3B0aW9ucyA9IGZ1bmN0aW9uKHBhcmFtcykge1xuICB2YXIgcmVzdWx0ID0gbmV3IG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVmlzdWFsaXphdGlvbk9wdGlvbnMoKSwgaGFzUmVzdWx0ID0gITE7XG4gIGlmIChcInBhbGV0dGVcIiBpbiBwYXJhbXMpIHtcbiAgICB2YXIgcGFsID0gcGFyYW1zLnBhbGV0dGU7XG4gICAgcmVzdWx0LnBhbGV0dGVDb2xvcnMgPSBcInN0cmluZ1wiID09PSB0eXBlb2YgcGFsID8gcGFsLnNwbGl0KFwiLFwiKSA6IHBhbDtcbiAgICBoYXNSZXN1bHQgPSAhMDtcbiAgfVxuICB2YXIgcmFuZ2VzID0gW107XG4gIGlmIChcImdhaW5cIiBpbiBwYXJhbXMgfHwgXCJiaWFzXCIgaW4gcGFyYW1zKSB7XG4gICAgaWYgKFwibWluXCIgaW4gcGFyYW1zIHx8IFwibWF4XCIgaW4gcGFyYW1zKSB7XG4gICAgICB0aHJvdyBFcnJvcihcIkdhaW4gYW5kIGJpYXMgY2FuJ3QgYmUgc3BlY2lmaWVkIHdpdGggbWluIGFuZCBtYXhcIik7XG4gICAgfVxuICAgIHZhciB2YWx1ZVJhbmdlID0gcmVzdWx0LnBhbGV0dGVDb2xvcnMgPyByZXN1bHQucGFsZXR0ZUNvbG9ycy5sZW5ndGggLSAxIDogMjU1O1xuICAgIHJhbmdlcyA9IGVlLnJwY19jb252ZXJ0LnBhaXJlZFZhbHVlcyhwYXJhbXMsIFwiYmlhc1wiLCBcImdhaW5cIikubWFwKGZ1bmN0aW9uKHBhaXIpIHtcbiAgICAgIHZhciBtaW4gPSAtcGFpci5iaWFzIC8gcGFpci5nYWluO1xuICAgICAgcmV0dXJuIHttaW46bWluLCBtYXg6dmFsdWVSYW5nZSAvIHBhaXIuZ2FpbiArIG1pbn07XG4gICAgfSk7XG4gIH0gZWxzZSBpZiAoXCJtaW5cIiBpbiBwYXJhbXMgfHwgXCJtYXhcIiBpbiBwYXJhbXMpIHtcbiAgICByYW5nZXMgPSBlZS5ycGNfY29udmVydC5wYWlyZWRWYWx1ZXMocGFyYW1zLCBcIm1pblwiLCBcIm1heFwiKTtcbiAgfVxuICAwICE9PSByYW5nZXMubGVuZ3RoICYmIChyZXN1bHQucmFuZ2VzID0gcmFuZ2VzLm1hcChmdW5jdGlvbihyYW5nZSkge1xuICAgIHJldHVybiBuZXcgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Eb3VibGVSYW5nZShyYW5nZSk7XG4gIH0pLCBoYXNSZXN1bHQgPSAhMCk7XG4gIHZhciBnYW1tYXMgPSBlZS5ycGNfY29udmVydC5jc3ZUb051bWJlcnMocGFyYW1zLmdhbW1hKTtcbiAgaWYgKDEgPCBnYW1tYXMubGVuZ3RoKSB7XG4gICAgdGhyb3cgRXJyb3IoXCJPbmx5IG9uZSBnYW1tYSB2YWx1ZSBpcyBzdXBwb3J0ZWRcIik7XG4gIH1cbiAgMSA9PT0gZ2FtbWFzLmxlbmd0aCAmJiAocmVzdWx0LmdhbW1hID0gZ2FtbWFzWzBdLCBoYXNSZXN1bHQgPSAhMCk7XG4gIHJldHVybiBoYXNSZXN1bHQgPyByZXN1bHQgOiBudWxsO1xufTtcbmVlLnJwY19jb252ZXJ0LmNzdlRvTnVtYmVycyA9IGZ1bmN0aW9uKGNzdikge1xuICByZXR1cm4gY3N2ID8gY3N2LnNwbGl0KFwiLFwiKS5tYXAoTnVtYmVyKSA6IFtdO1xufTtcbmVlLnJwY19jb252ZXJ0LnBhaXJlZFZhbHVlcyA9IGZ1bmN0aW9uKG9iaiwgYSwgYikge1xuICB2YXIgYVZhbHVlcyA9IGVlLnJwY19jb252ZXJ0LmNzdlRvTnVtYmVycyhvYmpbYV0pLCBiVmFsdWVzID0gZWUucnBjX2NvbnZlcnQuY3N2VG9OdW1iZXJzKG9ialtiXSk7XG4gIGlmICgwID09PSBhVmFsdWVzLmxlbmd0aCkge1xuICAgIHJldHVybiBiVmFsdWVzLm1hcChmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgdmFyICRqc2NvbXAkY29tcHByb3A4ID0ge307XG4gICAgICByZXR1cm4gJGpzY29tcCRjb21wcHJvcDhbYV0gPSAwLCAkanNjb21wJGNvbXBwcm9wOFtiXSA9IHZhbHVlLCAkanNjb21wJGNvbXBwcm9wODtcbiAgICB9KTtcbiAgfVxuICBpZiAoMCA9PT0gYlZhbHVlcy5sZW5ndGgpIHtcbiAgICByZXR1cm4gYVZhbHVlcy5tYXAoZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIHZhciAkanNjb21wJGNvbXBwcm9wOSA9IHt9O1xuICAgICAgcmV0dXJuICRqc2NvbXAkY29tcHByb3A5W2FdID0gdmFsdWUsICRqc2NvbXAkY29tcHByb3A5W2JdID0gMSwgJGpzY29tcCRjb21wcHJvcDk7XG4gICAgfSk7XG4gIH1cbiAgaWYgKGFWYWx1ZXMubGVuZ3RoICE9PSBiVmFsdWVzLmxlbmd0aCkge1xuICAgIHRocm93IEVycm9yKFwiTGVuZ3RoIG9mIFwiICsgYSArIFwiIGFuZCBcIiArIGIgKyBcIiBtdXN0IG1hdGNoLlwiKTtcbiAgfVxuICByZXR1cm4gYVZhbHVlcy5tYXAoZnVuY3Rpb24odmFsdWUsIGluZGV4KSB7XG4gICAgdmFyICRqc2NvbXAkY29tcHByb3AxMCA9IHt9O1xuICAgIHJldHVybiAkanNjb21wJGNvbXBwcm9wMTBbYV0gPSB2YWx1ZSwgJGpzY29tcCRjb21wcHJvcDEwW2JdID0gYlZhbHVlc1tpbmRleF0sICRqc2NvbXAkY29tcHByb3AxMDtcbiAgfSk7XG59O1xuZWUucnBjX2NvbnZlcnQuYWxnb3JpdGhtcyA9IGZ1bmN0aW9uKHJlc3VsdCkge1xuICBmb3IgKHZhciBjb252ZXJ0QXJndW1lbnQgPSBmdW5jdGlvbihhcmd1bWVudCkge1xuICAgIHZhciBpbnRlcm5hbEFyZ3VtZW50ID0ge307XG4gICAgaW50ZXJuYWxBcmd1bWVudC5kZXNjcmlwdGlvbiA9IGFyZ3VtZW50LmRlc2NyaXB0aW9uIHx8IFwiXCI7XG4gICAgaW50ZXJuYWxBcmd1bWVudC50eXBlID0gYXJndW1lbnQudHlwZSB8fCBcIlwiO1xuICAgIG51bGwgIT0gYXJndW1lbnQuYXJndW1lbnROYW1lICYmIChpbnRlcm5hbEFyZ3VtZW50Lm5hbWUgPSBhcmd1bWVudC5hcmd1bWVudE5hbWUpO1xuICAgIHZvaWQgMCAhPT0gYXJndW1lbnQuZGVmYXVsdFZhbHVlICYmIChpbnRlcm5hbEFyZ3VtZW50W1wiZGVmYXVsdFwiXSA9IGFyZ3VtZW50LmRlZmF1bHRWYWx1ZSk7XG4gICAgbnVsbCAhPSBhcmd1bWVudC5vcHRpb25hbCAmJiAoaW50ZXJuYWxBcmd1bWVudC5vcHRpb25hbCA9IGFyZ3VtZW50Lm9wdGlvbmFsKTtcbiAgICByZXR1cm4gaW50ZXJuYWxBcmd1bWVudDtcbiAgfSwgY29udmVydEFsZ29yaXRobSA9IGZ1bmN0aW9uKGFsZ29yaXRobSkge1xuICAgIHZhciBpbnRlcm5hbEFsZ29yaXRobSA9IHt9O1xuICAgIGludGVybmFsQWxnb3JpdGhtLmFyZ3MgPSAoYWxnb3JpdGhtLmFyZ3VtZW50cyB8fCBbXSkubWFwKGNvbnZlcnRBcmd1bWVudCk7XG4gICAgaW50ZXJuYWxBbGdvcml0aG0uZGVzY3JpcHRpb24gPSBhbGdvcml0aG0uZGVzY3JpcHRpb24gfHwgXCJcIjtcbiAgICBpbnRlcm5hbEFsZ29yaXRobS5yZXR1cm5zID0gYWxnb3JpdGhtLnJldHVyblR5cGUgfHwgXCJcIjtcbiAgICBudWxsICE9IGFsZ29yaXRobS5oaWRkZW4gJiYgKGludGVybmFsQWxnb3JpdGhtLmhpZGRlbiA9IGFsZ29yaXRobS5oaWRkZW4pO1xuICAgIGFsZ29yaXRobS5wcmV2aWV3ICYmIChpbnRlcm5hbEFsZ29yaXRobS5wcmV2aWV3ID0gYWxnb3JpdGhtLnByZXZpZXcpO1xuICAgIGFsZ29yaXRobS5kZXByZWNhdGVkICYmIChpbnRlcm5hbEFsZ29yaXRobS5kZXByZWNhdGVkID0gYWxnb3JpdGhtLmRlcHJlY2F0aW9uUmVhc29uKTtcbiAgICBhbGdvcml0aG0uc291cmNlQ29kZVVyaSAmJiAoaW50ZXJuYWxBbGdvcml0aG0uc291cmNlQ29kZVVyaSA9IGFsZ29yaXRobS5zb3VyY2VDb2RlVXJpKTtcbiAgICByZXR1cm4gaW50ZXJuYWxBbGdvcml0aG07XG4gIH0sIGludGVybmFsQWxnb3JpdGhtcyA9IHt9LCAkanNjb21wJGl0ZXIkMjggPSAkanNjb21wLm1ha2VJdGVyYXRvcihyZXN1bHQuYWxnb3JpdGhtcyB8fCBbXSksICRqc2NvbXAka2V5JGFsZ29yaXRobSA9ICRqc2NvbXAkaXRlciQyOC5uZXh0KCk7ICEkanNjb21wJGtleSRhbGdvcml0aG0uZG9uZTsgJGpzY29tcCRrZXkkYWxnb3JpdGhtID0gJGpzY29tcCRpdGVyJDI4Lm5leHQoKSkge1xuICAgIHZhciBhbGdvcml0aG0kanNjb21wJDAgPSAkanNjb21wJGtleSRhbGdvcml0aG0udmFsdWUsIG5hbWUgPSBhbGdvcml0aG0kanNjb21wJDAubmFtZS5yZXBsYWNlKC9eYWxnb3JpdGhtc1xcLy8sIFwiXCIpO1xuICAgIGludGVybmFsQWxnb3JpdGhtc1tuYW1lXSA9IGNvbnZlcnRBbGdvcml0aG0oYWxnb3JpdGhtJGpzY29tcCQwKTtcbiAgfVxuICByZXR1cm4gaW50ZXJuYWxBbGdvcml0aG1zO1xufTtcbmVlLnJwY19jb252ZXJ0LkRFRkFVTFRfUFJPSkVDVCA9IFwiZWFydGhlbmdpbmUtbGVnYWN5XCI7XG5lZS5ycGNfY29udmVydC5QVUJMSUNfUFJPSkVDVCA9IFwiZWFydGhlbmdpbmUtcHVibGljXCI7XG5lZS5ycGNfY29udmVydC5QUk9KRUNUX0lEX1JFID0gL15wcm9qZWN0c1xcLygoPzpcXHcrKD86W1xcd1xcLV0rXFwuW1xcd1xcLV0rKSo/XFwuXFx3KzopP1thLXpdW2EtejAtOVxcLV17NCwyOH1bYS16MC05XSlcXC8uKy87XG5lZS5ycGNfY29udmVydC5DTE9VRF9BU1NFVF9JRF9SRSA9IC9ecHJvamVjdHNcXC8oKD86XFx3Kyg/OltcXHdcXC1dK1xcLltcXHdcXC1dKykqP1xcLlxcdys6KT9bYS16XVthLXowLTlcXC1dezQsMjh9W2EtejAtOV0pXFwvYXNzZXRzXFwvKC4qKSQvO1xuZWUucnBjX2NvbnZlcnQuQ0xPVURfQVNTRVRfUk9PVF9SRSA9IC9ecHJvamVjdHNcXC8oKD86XFx3Kyg/OltcXHdcXC1dK1xcLltcXHdcXC1dKykqP1xcLlxcdys6KT9bYS16XVthLXowLTlcXC1dezQsMjh9W2EtejAtOV0pXFwvYXNzZXRzXFwvPyQvO1xuZWUucnBjX2NvbnZlcnQucHJvamVjdElkRnJvbVBhdGggPSBmdW5jdGlvbihwYXRoKSB7XG4gIHZhciBtYXRjaGVzID0gZWUucnBjX2NvbnZlcnQuUFJPSkVDVF9JRF9SRS5leGVjKHBhdGgpO1xuICByZXR1cm4gbWF0Y2hlcyA/IG1hdGNoZXNbMV0gOiBlZS5ycGNfY29udmVydC5ERUZBVUxUX1BST0pFQ1Q7XG59O1xuZWUucnBjX2NvbnZlcnQucHJvamVjdFBhcmVudEZyb21QYXRoID0gZnVuY3Rpb24ocGF0aCkge1xuICByZXR1cm4gXCJwcm9qZWN0cy9cIiArIGVlLnJwY19jb252ZXJ0LnByb2plY3RJZEZyb21QYXRoKHBhdGgpO1xufTtcbmVlLnJwY19jb252ZXJ0LmFzc2V0SWRUb0Fzc2V0TmFtZSA9IGZ1bmN0aW9uKHBhcmFtKSB7XG4gIHJldHVybiBlZS5ycGNfY29udmVydC5DTE9VRF9BU1NFVF9JRF9SRS5leGVjKHBhcmFtKSA/IHBhcmFtIDogL14odXNlcnN8cHJvamVjdHMpXFwvLiovLmV4ZWMocGFyYW0pID8gXCJwcm9qZWN0cy9cIiArIGVlLnJwY19jb252ZXJ0LkRFRkFVTFRfUFJPSkVDVCArIFwiL2Fzc2V0cy9cIiArIHBhcmFtIDogXCJwcm9qZWN0cy9cIiArIGVlLnJwY19jb252ZXJ0LlBVQkxJQ19QUk9KRUNUICsgXCIvYXNzZXRzL1wiICsgcGFyYW07XG59O1xuZWUucnBjX2NvbnZlcnQuYXNzZXROYW1lVG9Bc3NldElkID0gZnVuY3Rpb24obmFtZSkge1xuICB2YXIgcGFydHMgPSBuYW1lLnNwbGl0KFwiL1wiKSwgaXNMZWdhY3lQcm9qZWN0ID0gZnVuY3Rpb24oaWQpIHtcbiAgICByZXR1cm4gW2VlLnJwY19jb252ZXJ0LkRFRkFVTFRfUFJPSkVDVCwgZWUucnBjX2NvbnZlcnQuUFVCTElDX1BST0pFQ1RdLmluY2x1ZGVzKGlkKTtcbiAgfTtcbiAgcmV0dXJuIFwicHJvamVjdHNcIiA9PT0gcGFydHNbMF0gJiYgXCJhc3NldHNcIiA9PT0gcGFydHNbMl0gJiYgaXNMZWdhY3lQcm9qZWN0KHBhcnRzWzFdKSA/IHBhcnRzLnNsaWNlKDMpLmpvaW4oXCIvXCIpIDogbmFtZTtcbn07XG5lZS5ycGNfY29udmVydC5hc3NldFR5cGVGb3JDcmVhdGUgPSBmdW5jdGlvbihwYXJhbSkge1xuICBzd2l0Y2gocGFyYW0pIHtcbiAgICBjYXNlIFwiSW1hZ2VDb2xsZWN0aW9uXCI6XG4gICAgICByZXR1cm4gXCJJTUFHRV9DT0xMRUNUSU9OXCI7XG4gICAgY2FzZSBcIkZvbGRlclwiOlxuICAgICAgcmV0dXJuIFwiRk9MREVSXCI7XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBwYXJhbTtcbiAgfVxufTtcbmVlLnJwY19jb252ZXJ0Lmxpc3RBc3NldHNUb0dldExpc3QgPSBmdW5jdGlvbihyZXN1bHQpIHtcbiAgcmV0dXJuIChyZXN1bHQuYXNzZXRzIHx8IFtdKS5tYXAoZWUucnBjX2NvbnZlcnQuYXNzZXRUb0xlZ2FjeVJlc3VsdCk7XG59O1xuZWUucnBjX2NvbnZlcnQuYXNzZXRUeXBlVG9MZWdhY3lBc3NldFR5cGUgPSBmdW5jdGlvbih0eXBlKSB7XG4gIHN3aXRjaCh0eXBlKSB7XG4gICAgY2FzZSBcIkFMR09SSVRITVwiOlxuICAgICAgcmV0dXJuIFwiQWxnb3JpdGhtXCI7XG4gICAgY2FzZSBcIkZPTERFUlwiOlxuICAgICAgcmV0dXJuIFwiRm9sZGVyXCI7XG4gICAgY2FzZSBcIklNQUdFXCI6XG4gICAgICByZXR1cm4gXCJJbWFnZVwiO1xuICAgIGNhc2UgXCJJTUFHRV9DT0xMRUNUSU9OXCI6XG4gICAgICByZXR1cm4gXCJJbWFnZUNvbGxlY3Rpb25cIjtcbiAgICBjYXNlIFwiVEFCTEVcIjpcbiAgICAgIHJldHVybiBcIlRhYmxlXCI7XG4gICAgY2FzZSBcIkNMQVNTSUZJRVJcIjpcbiAgICAgIHJldHVybiBcIkNsYXNzaWZpZXJcIjtcbiAgICBjYXNlIFwiRkVBVFVSRV9WSUVXXCI6XG4gICAgICByZXR1cm4gXCJGZWF0dXJlVmlld1wiO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gXCJVbmtub3duXCI7XG4gIH1cbn07XG5lZS5ycGNfY29udmVydC5sZWdhY3lBc3NldFR5cGVUb0Fzc2V0VHlwZSA9IGZ1bmN0aW9uKHR5cGUpIHtcbiAgc3dpdGNoKHR5cGUpIHtcbiAgICBjYXNlIFwiQWxnb3JpdGhtXCI6XG4gICAgICByZXR1cm4gXCJBTEdPUklUSE1cIjtcbiAgICBjYXNlIFwiRm9sZGVyXCI6XG4gICAgICByZXR1cm4gXCJGT0xERVJcIjtcbiAgICBjYXNlIFwiSW1hZ2VcIjpcbiAgICAgIHJldHVybiBcIklNQUdFXCI7XG4gICAgY2FzZSBcIkltYWdlQ29sbGVjdGlvblwiOlxuICAgICAgcmV0dXJuIFwiSU1BR0VfQ09MTEVDVElPTlwiO1xuICAgIGNhc2UgXCJUYWJsZVwiOlxuICAgICAgcmV0dXJuIFwiVEFCTEVcIjtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIFwiVU5LTk9XTlwiO1xuICB9XG59O1xuZWUucnBjX2NvbnZlcnQuYXNzZXRUb0xlZ2FjeVJlc3VsdCA9IGZ1bmN0aW9uKHJlc3VsdCkge1xuICB2YXIgYXNzZXQgPSBlZS5ycGNfY29udmVydC5tYWtlTGVnYWN5QXNzZXRfKGVlLnJwY19jb252ZXJ0LmFzc2V0VHlwZVRvTGVnYWN5QXNzZXRUeXBlKHJlc3VsdC50eXBlKSwgcmVzdWx0Lm5hbWUpLCBwcm9wZXJ0aWVzID0gT2JqZWN0LmFzc2lnbih7fSwgcmVzdWx0LnByb3BlcnRpZXMgfHwge30pO1xuICByZXN1bHQuc2l6ZUJ5dGVzICYmIChwcm9wZXJ0aWVzW1wic3lzdGVtOmFzc2V0X3NpemVcIl0gPSBOdW1iZXIocmVzdWx0LnNpemVCeXRlcykpO1xuICByZXN1bHQuc3RhcnRUaW1lICYmIChwcm9wZXJ0aWVzW1wic3lzdGVtOnRpbWVfc3RhcnRcIl0gPSBEYXRlLnBhcnNlKHJlc3VsdC5zdGFydFRpbWUpKTtcbiAgcmVzdWx0LmVuZFRpbWUgJiYgKHByb3BlcnRpZXNbXCJzeXN0ZW06dGltZV9lbmRcIl0gPSBEYXRlLnBhcnNlKHJlc3VsdC5lbmRUaW1lKSk7XG4gIHJlc3VsdC5nZW9tZXRyeSAmJiAocHJvcGVydGllc1tcInN5c3RlbTpmb290cHJpbnRcIl0gPSByZXN1bHQuZ2VvbWV0cnkpO1xuICBcInN0cmluZ1wiID09PSB0eXBlb2YgcmVzdWx0LnRpdGxlICYmIChwcm9wZXJ0aWVzW1wic3lzdGVtOnRpdGxlXCJdID0gcmVzdWx0LnRpdGxlKTtcbiAgXCJzdHJpbmdcIiA9PT0gdHlwZW9mIHJlc3VsdC5kZXNjcmlwdGlvbiAmJiAocHJvcGVydGllc1tcInN5c3RlbTpkZXNjcmlwdGlvblwiXSA9IHJlc3VsdC5kZXNjcmlwdGlvbik7XG4gIHJlc3VsdC51cGRhdGVUaW1lICYmIChhc3NldC52ZXJzaW9uID0gMUUzICogRGF0ZS5wYXJzZShyZXN1bHQudXBkYXRlVGltZSkpO1xuICBhc3NldC5wcm9wZXJ0aWVzID0gcHJvcGVydGllcztcbiAgcmVzdWx0LmJhbmRzICYmIChhc3NldC5iYW5kcyA9IHJlc3VsdC5iYW5kcy5tYXAoZnVuY3Rpb24oYmFuZCkge1xuICAgIHZhciBsZWdhY3lCYW5kID0ge2lkOmJhbmQuaWQsIGNyczpiYW5kLmdyaWQuY3JzQ29kZSwgZGltZW5zaW9uczp2b2lkIDAsIGNyc190cmFuc2Zvcm06dm9pZCAwLH07XG4gICAgaWYgKGJhbmQuZ3JpZCkge1xuICAgICAgaWYgKG51bGwgIT0gYmFuZC5ncmlkLmFmZmluZVRyYW5zZm9ybSkge1xuICAgICAgICB2YXIgYWZmaW5lID0gYmFuZC5ncmlkLmFmZmluZVRyYW5zZm9ybTtcbiAgICAgICAgbGVnYWN5QmFuZC5jcnNfdHJhbnNmb3JtID0gW2FmZmluZS5zY2FsZVggfHwgMCwgYWZmaW5lLnNoZWFyWCB8fCAwLCBhZmZpbmUudHJhbnNsYXRlWCB8fCAwLCBhZmZpbmUuc2hlYXJZIHx8IDAsIGFmZmluZS5zY2FsZVkgfHwgMCwgYWZmaW5lLnRyYW5zbGF0ZVkgfHwgMCxdO1xuICAgICAgfVxuICAgICAgbnVsbCAhPSBiYW5kLmdyaWQuZGltZW5zaW9ucyAmJiAobGVnYWN5QmFuZC5kaW1lbnNpb25zID0gW2JhbmQuZ3JpZC5kaW1lbnNpb25zLndpZHRoLCBiYW5kLmdyaWQuZGltZW5zaW9ucy5oZWlnaHRdKTtcbiAgICB9XG4gICAgaWYgKGJhbmQuZGF0YVR5cGUpIHtcbiAgICAgIHZhciBkYXRhVHlwZSA9IHt0eXBlOlwiUGl4ZWxUeXBlXCJ9O1xuICAgICAgZGF0YVR5cGUucHJlY2lzaW9uID0gKGJhbmQuZGF0YVR5cGUucHJlY2lzaW9uIHx8IFwiXCIpLnRvTG93ZXJDYXNlKCk7XG4gICAgICBiYW5kLmRhdGFUeXBlLnJhbmdlICYmIChkYXRhVHlwZS5taW4gPSBiYW5kLmRhdGFUeXBlLnJhbmdlLm1pbiB8fCAwLCBkYXRhVHlwZS5tYXggPSBiYW5kLmRhdGFUeXBlLnJhbmdlLm1heCk7XG4gICAgICBsZWdhY3lCYW5kLmRhdGFfdHlwZSA9IGRhdGFUeXBlO1xuICAgIH1cbiAgICByZXR1cm4gbGVnYWN5QmFuZDtcbiAgfSkpO1xuICByZXN1bHQuZmVhdHVyZVZpZXdBc3NldExvY2F0aW9uICYmIChhc3NldC5tYXBMb2NhdGlvbiA9IHJlc3VsdC5mZWF0dXJlVmlld0Fzc2V0TG9jYXRpb24pO1xuICByZXN1bHQuZmVhdHVyZUNvdW50ICYmIChhc3NldC5mZWF0dXJlQ291bnQgPSByZXN1bHQuZmVhdHVyZUNvdW50KTtcbiAgcmV0dXJuIGFzc2V0O1xufTtcbmVlLnJwY19jb252ZXJ0LmxlZ2FjeVByb3BlcnRpZXNUb0Fzc2V0VXBkYXRlID0gZnVuY3Rpb24obGVnYWN5UHJvcGVydGllcykge1xuICB2YXIgYXNzZXQgPSBuZXcgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5FYXJ0aEVuZ2luZUFzc2V0KCksIHRvVGltZXN0YW1wID0gZnVuY3Rpb24obXNlYykge1xuICAgIHJldHVybiAobmV3IERhdGUoTnVtYmVyKG1zZWMpKSkudG9JU09TdHJpbmcoKTtcbiAgfSwgYXNOdWxsID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICByZXR1cm4gbnVsbCA9PT0gdmFsdWUgPyBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0Lk5VTExfVkFMVUUgOiB2b2lkIDA7XG4gIH0sIHByb3BlcnRpZXMgPSBPYmplY3QuYXNzaWduKHt9LCBsZWdhY3lQcm9wZXJ0aWVzKSwgdmFsdWUkanNjb21wJDAsIGV4dHJhY3RWYWx1ZSA9IGZ1bmN0aW9uKGtleSkge1xuICAgIHZhbHVlJGpzY29tcCQwID0gcHJvcGVydGllc1trZXldO1xuICAgIGRlbGV0ZSBwcm9wZXJ0aWVzW2tleV07XG4gICAgcmV0dXJuIHZhbHVlJGpzY29tcCQwO1xuICB9O1xuICB2b2lkIDAgIT09IGV4dHJhY3RWYWx1ZShcInN5c3RlbTphc3NldF9zaXplXCIpICYmIChhc3NldC5zaXplQnl0ZXMgPSBhc051bGwodmFsdWUkanNjb21wJDApIHx8IFN0cmluZyh2YWx1ZSRqc2NvbXAkMCkpO1xuICB2b2lkIDAgIT09IGV4dHJhY3RWYWx1ZShcInN5c3RlbTp0aW1lX3N0YXJ0XCIpICYmIChhc3NldC5zdGFydFRpbWUgPSBhc051bGwodmFsdWUkanNjb21wJDApIHx8IHRvVGltZXN0YW1wKHZhbHVlJGpzY29tcCQwKSk7XG4gIHZvaWQgMCAhPT0gZXh0cmFjdFZhbHVlKFwic3lzdGVtOnRpbWVfZW5kXCIpICYmIChhc3NldC5lbmRUaW1lID0gYXNOdWxsKHZhbHVlJGpzY29tcCQwKSB8fCB0b1RpbWVzdGFtcCh2YWx1ZSRqc2NvbXAkMCkpO1xuICB2b2lkIDAgIT09IGV4dHJhY3RWYWx1ZShcInN5c3RlbTpmb290cHJpbnRcIikgJiYgKGFzc2V0Lmdlb21ldHJ5ID0gYXNOdWxsKHZhbHVlJGpzY29tcCQwKSB8fCB2YWx1ZSRqc2NvbXAkMCk7XG4gIGV4dHJhY3RWYWx1ZShcInN5c3RlbTp0aXRsZVwiKTtcbiAgXCJzdHJpbmdcIiAhPT0gdHlwZW9mIHZhbHVlJGpzY29tcCQwICYmIG51bGwgIT09IHZhbHVlJGpzY29tcCQwIHx8IG51bGwgIT0gcHJvcGVydGllcy50aXRsZSB8fCAocHJvcGVydGllcy50aXRsZSA9IGFzTnVsbCh2YWx1ZSRqc2NvbXAkMCkgfHwgdmFsdWUkanNjb21wJDApO1xuICBleHRyYWN0VmFsdWUoXCJzeXN0ZW06ZGVzY3JpcHRpb25cIik7XG4gIFwic3RyaW5nXCIgIT09IHR5cGVvZiB2YWx1ZSRqc2NvbXAkMCAmJiBudWxsICE9PSB2YWx1ZSRqc2NvbXAkMCB8fCBudWxsICE9IHByb3BlcnRpZXMuZGVzY3JpcHRpb24gfHwgKHByb3BlcnRpZXMuZGVzY3JpcHRpb24gPSBhc051bGwodmFsdWUkanNjb21wJDApIHx8IHZhbHVlJGpzY29tcCQwKTtcbiAgT2JqZWN0LmVudHJpZXMocHJvcGVydGllcykuZm9yRWFjaChmdW5jdGlvbigkanNjb21wJGRlc3RydWN0dXJpbmckdmFyNDApIHtcbiAgICB2YXIgJGpzY29tcCRkZXN0cnVjdHVyaW5nJHZhcjQxID0gJGpzY29tcC5tYWtlSXRlcmF0b3IoJGpzY29tcCRkZXN0cnVjdHVyaW5nJHZhcjQwKSwga2V5ID0gJGpzY29tcCRkZXN0cnVjdHVyaW5nJHZhcjQxLm5leHQoKS52YWx1ZSwgdmFsdWUgPSAkanNjb21wJGRlc3RydWN0dXJpbmckdmFyNDEubmV4dCgpLnZhbHVlO1xuICAgIHByb3BlcnRpZXNba2V5XSA9IGFzTnVsbCh2YWx1ZSkgfHwgdmFsdWU7XG4gIH0pO1xuICBhc3NldC5wcm9wZXJ0aWVzID0gcHJvcGVydGllcztcbiAgcmV0dXJuIGFzc2V0O1xufTtcbmVlLnJwY19jb252ZXJ0Lm1ha2VMZWdhY3lBc3NldF8gPSBmdW5jdGlvbih0eXBlLCBuYW1lKSB7XG4gIHZhciBsZWdhY3lBc3NldCA9IHt9O1xuICBsZWdhY3lBc3NldC50eXBlID0gdHlwZTtcbiAgbnVsbCAhPSBuYW1lICYmIChsZWdhY3lBc3NldC5pZCA9IGVlLnJwY19jb252ZXJ0LmFzc2V0TmFtZVRvQXNzZXRJZChuYW1lKSk7XG4gIHJldHVybiBsZWdhY3lBc3NldDtcbn07XG5lZS5ycGNfY29udmVydC5nZXRMaXN0VG9MaXN0QXNzZXRzID0gZnVuY3Rpb24ocGFyYW0pIHtcbiAgdmFyIGFzc2V0c1JlcXVlc3QgPSB7fSwgdG9UaW1lc3RhbXAgPSBmdW5jdGlvbihtc2VjKSB7XG4gICAgcmV0dXJuIChuZXcgRGF0ZShtc2VjKSkudG9JU09TdHJpbmcoKTtcbiAgfTtcbiAgcGFyYW0ubnVtICYmIChhc3NldHNSZXF1ZXN0LnBhZ2VTaXplID0gcGFyYW0ubnVtKTtcbiAgcGFyYW0uc3RhcnR0aW1lICYmIChhc3NldHNSZXF1ZXN0LnN0YXJ0VGltZSA9IHRvVGltZXN0YW1wKHBhcmFtLnN0YXJ0dGltZSkpO1xuICBwYXJhbS5lbmR0aW1lICYmIChhc3NldHNSZXF1ZXN0LmVuZFRpbWUgPSB0b1RpbWVzdGFtcChwYXJhbS5lbmR0aW1lKSk7XG4gIHBhcmFtLmJib3ggJiYgKGFzc2V0c1JlcXVlc3QucmVnaW9uID0gZWUucnBjX2NvbnZlcnQuYm91bmRpbmdCb3hUb0dlb0pzb24ocGFyYW0uYmJveCkpO1xuICBwYXJhbS5yZWdpb24gJiYgKGFzc2V0c1JlcXVlc3QucmVnaW9uID0gcGFyYW0ucmVnaW9uKTtcbiAgcGFyYW0uYmJveCAmJiBwYXJhbS5yZWdpb24gJiYgY29uc29sZS53YXJuKFwiTXVsdGlwbGUgcmVxdWVzdCBwYXJhbWV0ZXJzIGNvbnZlcnRlZCB0byByZWdpb25cIik7XG4gIGZvciAodmFyIGFsbEtleXMgPSBcImlkIG51bSBzdGFydHRpbWUgZW5kdGltZSBiYm94IHJlZ2lvblwiLnNwbGl0KFwiIFwiKSwgJGpzY29tcCRpdGVyJDI5ID0gJGpzY29tcC5tYWtlSXRlcmF0b3IoT2JqZWN0LmtleXMocGFyYW0pLmZpbHRlcihmdW5jdGlvbihrKSB7XG4gICAgcmV0dXJuICFhbGxLZXlzLmluY2x1ZGVzKGspO1xuICB9KSksICRqc2NvbXAka2V5JGtleSA9ICRqc2NvbXAkaXRlciQyOS5uZXh0KCk7ICEkanNjb21wJGtleSRrZXkuZG9uZTsgJGpzY29tcCRrZXkka2V5ID0gJGpzY29tcCRpdGVyJDI5Lm5leHQoKSkge1xuICAgIGNvbnNvbGUud2FybihcIlVucmVjb2duaXplZCBrZXkgXCIgKyAkanNjb21wJGtleSRrZXkudmFsdWUgKyBcIiBpZ25vcmVkXCIpO1xuICB9XG4gIHJldHVybiBlZS5ycGNfY29udmVydC5wcm9jZXNzTGlzdEltYWdlc1BhcmFtcyhhc3NldHNSZXF1ZXN0KTtcbn07XG5lZS5ycGNfY29udmVydC5ib3VuZGluZ0JveFRvR2VvSnNvbiA9IGZ1bmN0aW9uKGJib3gpIHtcbiAgcmV0dXJuICd7XCJ0eXBlXCI6XCJQb2x5Z29uXCIsXCJjb29yZGluYXRlc1wiOltbWycgKyBbWzAsIDFdLCBbMiwgMV0sIFsyLCAzXSwgWzAsIDNdLCBbMCwgMV1dLm1hcChmdW5jdGlvbihpKSB7XG4gICAgcmV0dXJuIGJib3hbaVswXV0gKyBcIixcIiArIGJib3hbaVsxXV07XG4gIH0pLmpvaW4oXCJdLFtcIikgKyBcIl1dXX1cIjtcbn07XG5lZS5ycGNfY29udmVydC5pYW1Qb2xpY3lUb0FjbCA9IGZ1bmN0aW9uKHJlc3VsdCkge1xuICB2YXIgYmluZGluZ01hcCA9IHt9O1xuICAocmVzdWx0LmJpbmRpbmdzIHx8IFtdKS5mb3JFYWNoKGZ1bmN0aW9uKGJpbmRpbmcpIHtcbiAgICBiaW5kaW5nTWFwW2JpbmRpbmcucm9sZV0gPSBiaW5kaW5nLm1lbWJlcnM7XG4gIH0pO1xuICB2YXIgZ3JvdXBzID0gbmV3IFNldCgpLCB0b0FjbCA9IGZ1bmN0aW9uKG1lbWJlcikge1xuICAgIHZhciBlbWFpbCA9IG1lbWJlci5yZXBsYWNlKC9eZG9tYWluOnxeZ3JvdXA6fF5zZXJ2aWNlQWNjb3VudDp8XnVzZXI6LywgXCJcIik7XG4gICAgbWVtYmVyLnN0YXJ0c1dpdGgoXCJncm91cDpcIikgJiYgZ3JvdXBzLmFkZChlbWFpbCk7XG4gICAgcmV0dXJuIGVtYWlsO1xuICB9LCByZWFkZXJzV2l0aEFsbCA9IGJpbmRpbmdNYXBbXCJyb2xlcy92aWV3ZXJcIl0gfHwgW10sIHJlYWRlcnMgPSByZWFkZXJzV2l0aEFsbC5maWx0ZXIoZnVuY3Rpb24ocmVhZGVyKSB7XG4gICAgcmV0dXJuIFwiYWxsVXNlcnNcIiAhPT0gcmVhZGVyO1xuICB9KSwgaW50ZXJuYWxBY2wgPSB7b3duZXJzOihiaW5kaW5nTWFwW1wicm9sZXMvb3duZXJcIl0gfHwgW10pLm1hcCh0b0FjbCksIHdyaXRlcnM6KGJpbmRpbmdNYXBbXCJyb2xlcy9lZGl0b3JcIl0gfHwgW10pLm1hcCh0b0FjbCksIHJlYWRlcnM6cmVhZGVycy5tYXAodG9BY2wpLH07XG4gIDAgPCBncm91cHMuc2l6ZSAmJiAoaW50ZXJuYWxBY2wuZ3JvdXBzID0gZ3JvdXBzKTtcbiAgcmVhZGVyc1dpdGhBbGwubGVuZ3RoICE9IHJlYWRlcnMubGVuZ3RoICYmIChpbnRlcm5hbEFjbC5hbGxfdXNlcnNfY2FuX3JlYWQgPSAhMCk7XG4gIHJldHVybiBpbnRlcm5hbEFjbDtcbn07XG5lZS5ycGNfY29udmVydC5hY2xUb0lhbVBvbGljeSA9IGZ1bmN0aW9uKGFjbHMpIHtcbiAgdmFyIGhhc1ByZWZpeCA9IGZ1bmN0aW9uKGVtYWlsKSB7XG4gICAgcmV0dXJuIGVtYWlsLmluY2x1ZGVzKFwiOlwiKTtcbiAgfSwgaXNEb21haW4gPSBmdW5jdGlvbihlbWFpbCkge1xuICAgIHJldHVybiAhZW1haWwuaW5jbHVkZXMoXCJAXCIpO1xuICB9LCBpc0dyb3VwID0gZnVuY3Rpb24oZW1haWwpIHtcbiAgICByZXR1cm4gYWNscy5ncm91cHMgJiYgYWNscy5ncm91cHMuaGFzKGVtYWlsKTtcbiAgfSwgaXNTZXJ2aWNlQWNjb3VudCA9IGZ1bmN0aW9uKGVtYWlsKSB7XG4gICAgcmV0dXJuIGVtYWlsLm1hdGNoKC9bQHxcXC5dZ3NlcnZpY2VhY2NvdW50XFwuY29tJC8pO1xuICB9LCBhc01lbWJlcnMgPSBmdW5jdGlvbihhY2xOYW1lKSB7XG4gICAgcmV0dXJuIChhY2xzW2FjbE5hbWVdIHx8IFtdKS5tYXAoZnVuY3Rpb24oZW1haWwpIHtcbiAgICAgIGlmIChoYXNQcmVmaXgoZW1haWwpKSB7XG4gICAgICAgIHJldHVybiBlbWFpbDtcbiAgICAgIH1cbiAgICAgIHZhciBwcmVmaXggPSBcInVzZXI6XCI7XG4gICAgICBpc0RvbWFpbihlbWFpbCkgPyBwcmVmaXggPSBcImRvbWFpbjpcIiA6IGlzR3JvdXAoZW1haWwpID8gcHJlZml4ID0gXCJncm91cDpcIiA6IGlzU2VydmljZUFjY291bnQoZW1haWwpICYmIChwcmVmaXggPSBcInNlcnZpY2VBY2NvdW50OlwiKTtcbiAgICAgIHJldHVybiBwcmVmaXggKyBlbWFpbDtcbiAgICB9KTtcbiAgfSwgYWxsID0gYWNscy5hbGxfdXNlcnNfY2FuX3JlYWQgPyBbXCJhbGxVc2Vyc1wiXSA6IFtdLCBiaW5kaW5ncyA9IFt7cm9sZTpcInJvbGVzL293bmVyXCIsIG1lbWJlcnM6YXNNZW1iZXJzKFwib3duZXJzXCIpfSwge3JvbGU6XCJyb2xlcy92aWV3ZXJcIiwgbWVtYmVyczphc01lbWJlcnMoXCJyZWFkZXJzXCIpLmNvbmNhdChhbGwpfSwge3JvbGU6XCJyb2xlcy9lZGl0b3JcIiwgbWVtYmVyczphc01lbWJlcnMoXCJ3cml0ZXJzXCIpfSxdLm1hcChmdW5jdGlvbihwYXJhbXMpIHtcbiAgICByZXR1cm4gbmV3IG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQmluZGluZyhwYXJhbXMpO1xuICB9KTtcbiAgcmV0dXJuIG5ldyBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlBvbGljeSh7YmluZGluZ3M6YmluZGluZ3MuZmlsdGVyKGZ1bmN0aW9uKGJpbmRpbmcpIHtcbiAgICByZXR1cm4gYmluZGluZy5tZW1iZXJzLmxlbmd0aDtcbiAgfSksIGV0YWc6bnVsbCx9KTtcbn07XG5lZS5ycGNfY29udmVydC50YXNrSWRUb09wZXJhdGlvbk5hbWUgPSBmdW5jdGlvbihvcGVyYXRpb25OYW1lT3JUYXNrSWQpIHtcbiAgcmV0dXJuIFwicHJvamVjdHMvXCIgKyBlZS5ycGNfY29udmVydC5vcGVyYXRpb25OYW1lVG9Qcm9qZWN0KG9wZXJhdGlvbk5hbWVPclRhc2tJZCkgKyBcIi9vcGVyYXRpb25zL1wiICsgZWUucnBjX2NvbnZlcnQub3BlcmF0aW9uTmFtZVRvVGFza0lkKG9wZXJhdGlvbk5hbWVPclRhc2tJZCk7XG59O1xuZWUucnBjX2NvbnZlcnQub3BlcmF0aW9uTmFtZVRvVGFza0lkID0gZnVuY3Rpb24ocmVzdWx0KSB7XG4gIHZhciBmb3VuZCA9IC9eLipvcGVyYXRpb25zXFwvKC4qKSQvLmV4ZWMocmVzdWx0KTtcbiAgcmV0dXJuIGZvdW5kID8gZm91bmRbMV0gOiByZXN1bHQ7XG59O1xuZWUucnBjX2NvbnZlcnQub3BlcmF0aW9uTmFtZVRvUHJvamVjdCA9IGZ1bmN0aW9uKG9wZXJhdGlvbk5hbWVPclRhc2tJZCkge1xuICB2YXIgZm91bmQgPSAvXnByb2plY3RzXFwvKC4rKVxcL29wZXJhdGlvbnNcXC8uKyQvLmV4ZWMob3BlcmF0aW9uTmFtZU9yVGFza0lkKTtcbiAgcmV0dXJuIGZvdW5kID8gZm91bmRbMV0gOiBlZS5ycGNfY29udmVydC5ERUZBVUxUX1BST0pFQ1Q7XG59O1xuZWUucnBjX2NvbnZlcnQub3BlcmF0aW9uVG9UYXNrID0gZnVuY3Rpb24ocmVzdWx0KSB7XG4gIHZhciBpbnRlcm5hbFRhc2sgPSB7fSwgYXNzaWduVGltZXN0YW1wID0gZnVuY3Rpb24oZmllbGQsIHRpbWVzdGFtcCkge1xuICAgIG51bGwgIT0gdGltZXN0YW1wICYmIChpbnRlcm5hbFRhc2tbZmllbGRdID0gRGF0ZS5wYXJzZSh0aW1lc3RhbXApKTtcbiAgfSwgY29udmVydFN0YXRlID0gZnVuY3Rpb24oc3RhdGUpIHtcbiAgICBzd2l0Y2goc3RhdGUpIHtcbiAgICAgIGNhc2UgXCJQRU5ESU5HXCI6XG4gICAgICAgIHJldHVybiBcIlJFQURZXCI7XG4gICAgICBjYXNlIFwiUlVOTklOR1wiOlxuICAgICAgICByZXR1cm4gXCJSVU5OSU5HXCI7XG4gICAgICBjYXNlIFwiQ0FOQ0VMTElOR1wiOlxuICAgICAgICByZXR1cm4gXCJDQU5DRUxfUkVRVUVTVEVEXCI7XG4gICAgICBjYXNlIFwiU1VDQ0VFREVEXCI6XG4gICAgICAgIHJldHVybiBcIkNPTVBMRVRFRFwiO1xuICAgICAgY2FzZSBcIkNBTkNFTExFRFwiOlxuICAgICAgICByZXR1cm4gXCJDQU5DRUxMRURcIjtcbiAgICAgIGNhc2UgXCJGQUlMRURcIjpcbiAgICAgICAgcmV0dXJuIFwiRkFJTEVEXCI7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gXCJVTktOT1dOXCI7XG4gICAgfVxuICB9LCBtZXRhZGF0YSA9IG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0X2Rlc2VyaWFsaXplKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuT3BlcmF0aW9uTWV0YWRhdGEsIHJlc3VsdC5tZXRhZGF0YSB8fCB7fSk7XG4gIG51bGwgIT0gbWV0YWRhdGEuZGVzY3JpcHRpb24gJiYgKGludGVybmFsVGFzay5kZXNjcmlwdGlvbiA9IG1ldGFkYXRhLmRlc2NyaXB0aW9uKTtcbiAgbnVsbCAhPSBtZXRhZGF0YS5zdGF0ZSAmJiAoaW50ZXJuYWxUYXNrLnN0YXRlID0gY29udmVydFN0YXRlKG1ldGFkYXRhLnN0YXRlKSk7XG4gIGFzc2lnblRpbWVzdGFtcChcImNyZWF0aW9uX3RpbWVzdGFtcF9tc1wiLCBtZXRhZGF0YS5jcmVhdGVUaW1lKTtcbiAgYXNzaWduVGltZXN0YW1wKFwidXBkYXRlX3RpbWVzdGFtcF9tc1wiLCBtZXRhZGF0YS51cGRhdGVUaW1lKTtcbiAgYXNzaWduVGltZXN0YW1wKFwic3RhcnRfdGltZXN0YW1wX21zXCIsIG1ldGFkYXRhLnN0YXJ0VGltZSk7XG4gIGludGVybmFsVGFzay5hdHRlbXB0ID0gbWV0YWRhdGEuYXR0ZW1wdDtcbiAgcmVzdWx0LmRvbmUgJiYgbnVsbCAhPSByZXN1bHQuZXJyb3IgJiYgKGludGVybmFsVGFzay5lcnJvcl9tZXNzYWdlID0gcmVzdWx0LmVycm9yLm1lc3NhZ2UpO1xuICBudWxsICE9IHJlc3VsdC5uYW1lICYmIChpbnRlcm5hbFRhc2suaWQgPSBlZS5ycGNfY29udmVydC5vcGVyYXRpb25OYW1lVG9UYXNrSWQocmVzdWx0Lm5hbWUpLCBpbnRlcm5hbFRhc2submFtZSA9IHJlc3VsdC5uYW1lKTtcbiAgaW50ZXJuYWxUYXNrLnRhc2tfdHlwZSA9IG1ldGFkYXRhLnR5cGUgfHwgXCJVTktOT1dOXCI7XG4gIGludGVybmFsVGFzay5vdXRwdXRfdXJsID0gbWV0YWRhdGEuZGVzdGluYXRpb25VcmlzO1xuICBpbnRlcm5hbFRhc2suc291cmNlX3VybCA9IG1ldGFkYXRhLnNjcmlwdFVyaTtcbiAgcmV0dXJuIGludGVybmFsVGFzaztcbn07XG5lZS5ycGNfY29udmVydC5vcGVyYXRpb25Ub1Byb2Nlc3NpbmdSZXNwb25zZSA9IGZ1bmN0aW9uKG9wZXJhdGlvbikge1xuICB2YXIgcmVzdWx0ID0ge3N0YXJ0ZWQ6XCJPS1wifTtcbiAgb3BlcmF0aW9uLm5hbWUgJiYgKHJlc3VsdC50YXNrSWQgPSBlZS5ycGNfY29udmVydC5vcGVyYXRpb25OYW1lVG9UYXNrSWQob3BlcmF0aW9uLm5hbWUpLCByZXN1bHQubmFtZSA9IG9wZXJhdGlvbi5uYW1lKTtcbiAgb3BlcmF0aW9uLmVycm9yICYmIChyZXN1bHQubm90ZSA9IG9wZXJhdGlvbi5lcnJvci5tZXNzYWdlKTtcbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5lZS5ycGNfY29udmVydC5zb3VyY2VQYXRoc1RvVXJpcyA9IGZ1bmN0aW9uKHNvdXJjZSkge1xuICByZXR1cm4gc291cmNlLnByaW1hcnlQYXRoID8gW3NvdXJjZS5wcmltYXJ5UGF0aF0uY29uY2F0KCRqc2NvbXAuYXJyYXlGcm9tSXRlcmFibGUoc291cmNlLmFkZGl0aW9uYWxQYXRocyB8fCBbXSkpIDogbnVsbDtcbn07XG5lZS5ycGNfY29udmVydC50b0ltYWdlTWFuaWZlc3QgPSBmdW5jdGlvbihwYXJhbXMpIHtcbiAgdmFyIGNvbnZlcnRJbWFnZVNvdXJjZSA9IGZ1bmN0aW9uKHNvdXJjZSkge1xuICAgIHZhciBhcGlTb3VyY2UgPSBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdF9kZXNlcmlhbGl6ZShtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkltYWdlU291cmNlLCBzb3VyY2UpO1xuICAgIGFwaVNvdXJjZS51cmlzID0gZWUucnBjX2NvbnZlcnQuc291cmNlUGF0aHNUb1VyaXMoc291cmNlKTtcbiAgICByZXR1cm4gYXBpU291cmNlO1xuICB9LCBtYW5pZmVzdCA9IG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0X2Rlc2VyaWFsaXplKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSW1hZ2VNYW5pZmVzdCwgcGFyYW1zKTtcbiAgbWFuaWZlc3QubmFtZSA9IGVlLnJwY19jb252ZXJ0LmFzc2V0SWRUb0Fzc2V0TmFtZShwYXJhbXMuaWQpO1xuICBtYW5pZmVzdC50aWxlc2V0cyA9IChwYXJhbXMudGlsZXNldHMgfHwgW10pLm1hcChmdW5jdGlvbih0aWxlc2V0KSB7XG4gICAgdmFyIGFwaVRpbGVzZXQgPSBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdF9kZXNlcmlhbGl6ZShtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRpbGVzZXQsIHRpbGVzZXQpO1xuICAgIGFwaVRpbGVzZXQuc291cmNlcyA9ICh0aWxlc2V0LnNvdXJjZXMgfHwgW10pLm1hcChjb252ZXJ0SW1hZ2VTb3VyY2UpO1xuICAgIHJldHVybiBhcGlUaWxlc2V0O1xuICB9KTtcbiAgbWFuaWZlc3QuYmFuZHMgPSAocGFyYW1zLmJhbmRzIHx8IFtdKS5tYXAoZnVuY3Rpb24oYmFuZCkge1xuICAgIHZhciBhcGlCYW5kID0gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3RfZGVzZXJpYWxpemUobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UaWxlc2V0QmFuZCwgYmFuZCk7XG4gICAgYXBpQmFuZC5taXNzaW5nRGF0YSA9IGVlLnJwY19jb252ZXJ0LnRvT25lUGxhdGZvcm1NaXNzaW5nRGF0YShiYW5kLm1pc3NpbmdEYXRhKTtcbiAgICByZXR1cm4gYXBpQmFuZDtcbiAgfSk7XG4gIG1hbmlmZXN0Lm1pc3NpbmdEYXRhID0gZWUucnBjX2NvbnZlcnQudG9PbmVQbGF0Zm9ybU1pc3NpbmdEYXRhKHBhcmFtcy5taXNzaW5nRGF0YSk7XG4gIG1hbmlmZXN0Lm1hc2tCYW5kcyA9IG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X2ZsYXR0ZW4oKHBhcmFtcy50aWxlc2V0cyB8fCBbXSkubWFwKGVlLnJwY19jb252ZXJ0LnRvT25lUGxhdGZvcm1NYXNrQmFuZHMpKTtcbiAgbWFuaWZlc3QucHlyYW1pZGluZ1BvbGljeSA9IHBhcmFtcy5weXJhbWlkaW5nUG9saWN5IHx8IG51bGw7XG4gIGlmIChwYXJhbXMucHJvcGVydGllcykge1xuICAgIHZhciBwcm9wZXJ0aWVzID0gT2JqZWN0LmFzc2lnbih7fSwgcGFyYW1zLnByb3BlcnRpZXMpLCB0b1RpbWVzdGFtcCA9IGZ1bmN0aW9uKG1zZWMpIHtcbiAgICAgIHJldHVybiAobmV3IERhdGUoTnVtYmVyKG1zZWMpKSkudG9JU09TdHJpbmcoKTtcbiAgICB9LCB2YWx1ZSwgZXh0cmFjdFZhbHVlID0gZnVuY3Rpb24oa2V5KSB7XG4gICAgICB2YWx1ZSA9IHByb3BlcnRpZXNba2V5XTtcbiAgICAgIGRlbGV0ZSBwcm9wZXJ0aWVzW2tleV07XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfTtcbiAgICBleHRyYWN0VmFsdWUoXCJzeXN0ZW06dGltZV9zdGFydFwiKSAmJiAobWFuaWZlc3Quc3RhcnRUaW1lID0gdG9UaW1lc3RhbXAodmFsdWUpKTtcbiAgICBleHRyYWN0VmFsdWUoXCJzeXN0ZW06dGltZV9lbmRcIikgJiYgKG1hbmlmZXN0LmVuZFRpbWUgPSB0b1RpbWVzdGFtcCh2YWx1ZSkpO1xuICAgIG1hbmlmZXN0LnByb3BlcnRpZXMgPSBwcm9wZXJ0aWVzO1xuICB9XG4gIHJldHVybiBtYW5pZmVzdDtcbn07XG5lZS5ycGNfY29udmVydC50b09uZVBsYXRmb3JtTWFza0JhbmRzID0gZnVuY3Rpb24odGlsZXNldCkge1xuICB2YXIgbWFza0JhbmRzID0gW107XG4gIGlmICghQXJyYXkuaXNBcnJheSh0aWxlc2V0LmZpbGVCYW5kcykpIHtcbiAgICByZXR1cm4gbWFza0JhbmRzO1xuICB9XG4gIHZhciBjb252ZXJ0TWFza0NvbmZpZyA9IGZ1bmN0aW9uKG1hc2tDb25maWcpIHtcbiAgICB2YXIgYmFuZElkcyA9IFtdO1xuICAgIG51bGwgIT0gbWFza0NvbmZpZyAmJiBBcnJheS5pc0FycmF5KG1hc2tDb25maWcuYmFuZElkKSAmJiAoYmFuZElkcyA9IG1hc2tDb25maWcuYmFuZElkLm1hcChmdW5jdGlvbihiYW5kSWQpIHtcbiAgICAgIHJldHVybiBiYW5kSWQgfHwgXCJcIjtcbiAgICB9KSk7XG4gICAgcmV0dXJuIG5ldyBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRpbGVzZXRNYXNrQmFuZCh7dGlsZXNldElkOnRpbGVzZXQuaWQgfHwgXCJcIiwgYmFuZElkczpiYW5kSWRzfSk7XG4gIH07XG4gIHRpbGVzZXQuZmlsZUJhbmRzLmZvckVhY2goZnVuY3Rpb24oZmlsZUJhbmQpIHtcbiAgICBmaWxlQmFuZC5tYXNrRm9yQWxsQmFuZHMgPyBtYXNrQmFuZHMucHVzaChjb252ZXJ0TWFza0NvbmZpZyhudWxsKSkgOiBudWxsICE9IGZpbGVCYW5kLm1hc2tGb3JCYW5kcyAmJiBtYXNrQmFuZHMucHVzaChjb252ZXJ0TWFza0NvbmZpZyhmaWxlQmFuZC5tYXNrRm9yQmFuZHMpKTtcbiAgfSk7XG4gIHJldHVybiBtYXNrQmFuZHM7XG59O1xuZWUucnBjX2NvbnZlcnQudG9UYWJsZU1hbmlmZXN0ID0gZnVuY3Rpb24ocGFyYW1zKSB7XG4gIHZhciBtYW5pZmVzdCA9IG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0X2Rlc2VyaWFsaXplKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGFibGVNYW5pZmVzdCwgcGFyYW1zKTtcbiAgbWFuaWZlc3QubmFtZSA9IGVlLnJwY19jb252ZXJ0LmFzc2V0SWRUb0Fzc2V0TmFtZShwYXJhbXMuaWQpO1xuICBtYW5pZmVzdC5zb3VyY2VzID0gKHBhcmFtcy5zb3VyY2VzIHx8IFtdKS5tYXAoZnVuY3Rpb24oc291cmNlKSB7XG4gICAgdmFyIGFwaVNvdXJjZSA9IG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0X2Rlc2VyaWFsaXplKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGFibGVTb3VyY2UsIHNvdXJjZSk7XG4gICAgYXBpU291cmNlLnVyaXMgPSBlZS5ycGNfY29udmVydC5zb3VyY2VQYXRoc1RvVXJpcyhzb3VyY2UpO1xuICAgIHNvdXJjZS5tYXhFcnJvciAmJiAoYXBpU291cmNlLm1heEVycm9yTWV0ZXJzID0gc291cmNlLm1heEVycm9yKTtcbiAgICByZXR1cm4gYXBpU291cmNlO1xuICB9KTtcbiAgaWYgKHBhcmFtcy5wcm9wZXJ0aWVzKSB7XG4gICAgdmFyIHByb3BlcnRpZXMgPSBPYmplY3QuYXNzaWduKHt9LCBwYXJhbXMucHJvcGVydGllcyksIHRvVGltZXN0YW1wID0gZnVuY3Rpb24obXNlYykge1xuICAgICAgcmV0dXJuIChuZXcgRGF0ZShOdW1iZXIobXNlYykpKS50b0lTT1N0cmluZygpO1xuICAgIH0sIHZhbHVlLCBleHRyYWN0VmFsdWUgPSBmdW5jdGlvbihrZXkpIHtcbiAgICAgIHZhbHVlID0gcHJvcGVydGllc1trZXldO1xuICAgICAgZGVsZXRlIHByb3BlcnRpZXNba2V5XTtcbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9O1xuICAgIGV4dHJhY3RWYWx1ZShcInN5c3RlbTp0aW1lX3N0YXJ0XCIpICYmIChtYW5pZmVzdC5zdGFydFRpbWUgPSB0b1RpbWVzdGFtcCh2YWx1ZSkpO1xuICAgIGV4dHJhY3RWYWx1ZShcInN5c3RlbTp0aW1lX2VuZFwiKSAmJiAobWFuaWZlc3QuZW5kVGltZSA9IHRvVGltZXN0YW1wKHZhbHVlKSk7XG4gICAgbWFuaWZlc3QucHJvcGVydGllcyA9IHByb3BlcnRpZXM7XG4gIH1cbiAgcmV0dXJuIG1hbmlmZXN0O1xufTtcbmVlLnJwY19jb252ZXJ0LnRvT25lUGxhdGZvcm1NaXNzaW5nRGF0YSA9IGZ1bmN0aW9uKHBhcmFtcykge1xuICBpZiAobnVsbCA9PSBwYXJhbXMpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICB2YXIgbWlzc2luZ0RhdGEgPSBuZXcgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5NaXNzaW5nRGF0YSh7dmFsdWVzOltdfSk7XG4gIG51bGwgIT0gcGFyYW1zLnZhbHVlICYmIFwibnVtYmVyXCIgPT09IHR5cGVvZiBwYXJhbXMudmFsdWUgJiYgbWlzc2luZ0RhdGEudmFsdWVzLnB1c2gocGFyYW1zLnZhbHVlKTtcbiAgQXJyYXkuaXNBcnJheShwYXJhbXMudmFsdWVzKSAmJiBwYXJhbXMudmFsdWVzLm1hcChmdW5jdGlvbih2YWx1ZSkge1xuICAgIFwibnVtYmVyXCIgPT09IHR5cGVvZiB2YWx1ZSAmJiBtaXNzaW5nRGF0YS52YWx1ZXMucHVzaCh2YWx1ZSk7XG4gIH0pO1xuICByZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfaXNFbXB0eShtaXNzaW5nRGF0YS52YWx1ZXMpID8gbnVsbCA6IG1pc3NpbmdEYXRhO1xufTtcbmVlLnJwY19jb252ZXJ0LmZvbGRlclF1b3RhVG9Bc3NldFF1b3RhRGV0YWlscyA9IGZ1bmN0aW9uKHF1b3RhKSB7XG4gIHZhciB0b051bWJlciA9IGZ1bmN0aW9uKGZpZWxkKSB7XG4gICAgcmV0dXJuIE51bWJlcihmaWVsZCB8fCAwKTtcbiAgfTtcbiAgcmV0dXJuIHthc3NldF9jb3VudDp7dXNhZ2U6dG9OdW1iZXIocXVvdGEuYXNzZXRDb3VudCksIGxpbWl0OnRvTnVtYmVyKHF1b3RhLm1heEFzc2V0cyksfSwgYXNzZXRfc2l6ZTp7dXNhZ2U6dG9OdW1iZXIocXVvdGEuc2l6ZUJ5dGVzKSwgbGltaXQ6dG9OdW1iZXIocXVvdGEubWF4U2l6ZUJ5dGVzKSx9fTtcbn07XG5lZS5ycGNfY29udmVydC5wYXJzZUZpbHRlclBhcmFtc0Zyb21MaXN0SW1hZ2VzXyA9IGZ1bmN0aW9uKHBhcmFtcykge1xuICB2YXIgcXVlcnlTdHJpbmdzID0gW10sIHRvSVNPU3RyaW5nID0gZnVuY3Rpb24oZGF0ZVN0cikge1xuICAgIHJldHVybiAobmV3IERhdGUoZGF0ZVN0cikpLnRvSVNPU3RyaW5nKCk7XG4gIH07XG4gIFwic3RhcnRUaW1lXCIgaW4gcGFyYW1zICYmIChxdWVyeVN0cmluZ3MucHVzaCgnc3RhcnRUaW1lID49IFwiJyArIHRvSVNPU3RyaW5nKHBhcmFtcy5zdGFydFRpbWUpICsgJ1wiJyksIGRlbGV0ZSBwYXJhbXMuc3RhcnRUaW1lKTtcbiAgXCJlbmRUaW1lXCIgaW4gcGFyYW1zICYmIChxdWVyeVN0cmluZ3MucHVzaCgnZW5kVGltZSA8IFwiJyArIHRvSVNPU3RyaW5nKHBhcmFtcy5lbmRUaW1lKSArICdcIicpLCBkZWxldGUgcGFyYW1zLmVuZFRpbWUpO1xuICBpZiAoXCJyZWdpb25cIiBpbiBwYXJhbXMpIHtcbiAgICB2YXIgcmVnaW9uID0gcGFyYW1zLnJlZ2lvbjtcbiAgICBpZiAoXCJvYmplY3RcIiA9PT0gdHlwZW9mIHJlZ2lvbikge1xuICAgICAgdHJ5IHtcbiAgICAgICAgcmVnaW9uID0gSlNPTi5zdHJpbmdpZnkocmVnaW9uKTtcbiAgICAgIH0gY2F0Y2ggKHgpIHtcbiAgICAgICAgdGhyb3cgRXJyb3IoJ0ZpbHRlciBwYXJhbWV0ZXIgXCJyZWdpb25cIiBtdXN0IGJlIGEgR2VvSlNPTiBvciBXS1Qgc3RyaW5nLicpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoXCJzdHJpbmdcIiAhPT0gdHlwZW9mIHJlZ2lvbikge1xuICAgICAgdGhyb3cgRXJyb3IoJ0ZpbHRlciBwYXJhbWV0ZXIgXCJyZWdpb25cIiBtdXN0IGJlIGEgR2VvSlNPTiBvciBXS1Qgc3RyaW5nLicpO1xuICAgIH1cbiAgICByZWdpb24gPSByZWdpb24ucmVwbGFjZSgvXCIvZywgXCInXCIpO1xuICAgIHF1ZXJ5U3RyaW5ncy5wdXNoKCdpbnRlcnNlY3RzKFwiJyArIHJlZ2lvbiArICdcIiknKTtcbiAgICBkZWxldGUgcGFyYW1zLnJlZ2lvbjtcbiAgfVxuICBpZiAoXCJwcm9wZXJ0aWVzXCIgaW4gcGFyYW1zKSB7XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KHBhcmFtcy5wcm9wZXJ0aWVzKSAmJiBwYXJhbXMucHJvcGVydGllcy5zb21lKGZ1bmN0aW9uKHByb3BlcnR5KSB7XG4gICAgICByZXR1cm4gXCJzdHJpbmdcIiAhPT0gdHlwZW9mIHByb3BlcnR5O1xuICAgIH0pKSB7XG4gICAgICB0aHJvdyBFcnJvcignRmlsdGVyIHBhcmFtZXRlciBcInByb3BlcnRpZXNcIiBtdXN0IGJlIGFuIGFycmF5IG9mIHN0cmluZ3MnKTtcbiAgICB9XG4gICAgZm9yICh2YXIgJGpzY29tcCRpdGVyJDMwID0gJGpzY29tcC5tYWtlSXRlcmF0b3IocGFyYW1zLnByb3BlcnRpZXMpLCAkanNjb21wJGtleSRwcm9wZXJ0eVF1ZXJ5ID0gJGpzY29tcCRpdGVyJDMwLm5leHQoKTsgISRqc2NvbXAka2V5JHByb3BlcnR5UXVlcnkuZG9uZTsgJGpzY29tcCRrZXkkcHJvcGVydHlRdWVyeSA9ICRqc2NvbXAkaXRlciQzMC5uZXh0KCkpIHtcbiAgICAgIHF1ZXJ5U3RyaW5ncy5wdXNoKCRqc2NvbXAka2V5JHByb3BlcnR5UXVlcnkudmFsdWUudHJpbSgpLnJlcGxhY2UoL14ocHJvcGVydGllc1xcLik/LywgXCJwcm9wZXJ0aWVzLlwiKSk7XG4gICAgfVxuICAgIGRlbGV0ZSBwYXJhbXMucHJvcGVydGllcztcbiAgfVxuICByZXR1cm4gcXVlcnlTdHJpbmdzLmpvaW4oXCIgQU5EIFwiKTtcbn07XG5lZS5ycGNfY29udmVydC5wcm9jZXNzTGlzdEltYWdlc1BhcmFtcyA9IGZ1bmN0aW9uKHBhcmFtcykge1xuICBwYXJhbXMgPSBPYmplY3QuYXNzaWduKHt9LCBwYXJhbXMpO1xuICB2YXIgZXh0cmFGaWx0ZXJzID0gZWUucnBjX2NvbnZlcnQucGFyc2VGaWx0ZXJQYXJhbXNGcm9tTGlzdEltYWdlc18ocGFyYW1zKTtcbiAgZXh0cmFGaWx0ZXJzICYmIChwYXJhbXMuZmlsdGVyID0gcGFyYW1zLmZpbHRlciA/IHBhcmFtcy5maWx0ZXIgKyBcIiBBTkQgXCIgKyBleHRyYUZpbHRlcnMgOiBleHRyYUZpbHRlcnMpO1xuICByZXR1cm4gcGFyYW1zO1xufTtcbmdvb2cuY3J5cHQgPSB7fTtcbmdvb2cuY3J5cHQuSGFzaCA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLmJsb2NrU2l6ZSA9IC0xO1xufTtcbmdvb2cuY3J5cHQuTWQ1ID0gZnVuY3Rpb24oKSB7XG4gIGdvb2cuY3J5cHQuSGFzaC5jYWxsKHRoaXMpO1xuICB0aGlzLmJsb2NrU2l6ZSA9IDY0O1xuICB0aGlzLmNoYWluXyA9IEFycmF5KDQpO1xuICB0aGlzLmJsb2NrXyA9IEFycmF5KHRoaXMuYmxvY2tTaXplKTtcbiAgdGhpcy50b3RhbExlbmd0aF8gPSB0aGlzLmJsb2NrTGVuZ3RoXyA9IDA7XG4gIHRoaXMucmVzZXQoKTtcbn07XG5nb29nLmluaGVyaXRzKGdvb2cuY3J5cHQuTWQ1LCBnb29nLmNyeXB0Lkhhc2gpO1xuZ29vZy5jcnlwdC5NZDUucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMuY2hhaW5fWzBdID0gMTczMjU4NDE5MztcbiAgdGhpcy5jaGFpbl9bMV0gPSA0MDIzMjMzNDE3O1xuICB0aGlzLmNoYWluX1syXSA9IDI1NjIzODMxMDI7XG4gIHRoaXMuY2hhaW5fWzNdID0gMjcxNzMzODc4O1xuICB0aGlzLnRvdGFsTGVuZ3RoXyA9IHRoaXMuYmxvY2tMZW5ndGhfID0gMDtcbn07XG5nb29nLmNyeXB0Lk1kNS5wcm90b3R5cGUuY29tcHJlc3NfID0gZnVuY3Rpb24oYnVmLCBvcHRfb2Zmc2V0KSB7XG4gIG9wdF9vZmZzZXQgfHwgKG9wdF9vZmZzZXQgPSAwKTtcbiAgdmFyIFggPSBBcnJheSgxNik7XG4gIGlmIChcInN0cmluZ1wiID09PSB0eXBlb2YgYnVmKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IDE2ID4gaTsgKytpKSB7XG4gICAgICBYW2ldID0gYnVmLmNoYXJDb2RlQXQob3B0X29mZnNldCsrKSB8IGJ1Zi5jaGFyQ29kZUF0KG9wdF9vZmZzZXQrKykgPDwgOCB8IGJ1Zi5jaGFyQ29kZUF0KG9wdF9vZmZzZXQrKykgPDwgMTYgfCBidWYuY2hhckNvZGVBdChvcHRfb2Zmc2V0KyspIDw8IDI0O1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBmb3IgKGkgPSAwOyAxNiA+IGk7ICsraSkge1xuICAgICAgWFtpXSA9IGJ1ZltvcHRfb2Zmc2V0KytdIHwgYnVmW29wdF9vZmZzZXQrK10gPDwgOCB8IGJ1ZltvcHRfb2Zmc2V0KytdIDw8IDE2IHwgYnVmW29wdF9vZmZzZXQrK10gPDwgMjQ7XG4gICAgfVxuICB9XG4gIHZhciBBID0gdGhpcy5jaGFpbl9bMF0sIEIgPSB0aGlzLmNoYWluX1sxXSwgQyA9IHRoaXMuY2hhaW5fWzJdLCBEID0gdGhpcy5jaGFpbl9bM10sIHN1bSA9IDA7XG4gIHN1bSA9IEEgKyAoRCBeIEIgJiAoQyBeIEQpKSArIFhbMF0gKyAzNjE0MDkwMzYwICYgNDI5NDk2NzI5NTtcbiAgQSA9IEIgKyAoc3VtIDw8IDcgJiA0Mjk0OTY3Mjk1IHwgc3VtID4+PiAyNSk7XG4gIHN1bSA9IEQgKyAoQyBeIEEgJiAoQiBeIEMpKSArIFhbMV0gKyAzOTA1NDAyNzEwICYgNDI5NDk2NzI5NTtcbiAgRCA9IEEgKyAoc3VtIDw8IDEyICYgNDI5NDk2NzI5NSB8IHN1bSA+Pj4gMjApO1xuICBzdW0gPSBDICsgKEIgXiBEICYgKEEgXiBCKSkgKyBYWzJdICsgNjA2MTA1ODE5ICYgNDI5NDk2NzI5NTtcbiAgQyA9IEQgKyAoc3VtIDw8IDE3ICYgNDI5NDk2NzI5NSB8IHN1bSA+Pj4gMTUpO1xuICBzdW0gPSBCICsgKEEgXiBDICYgKEQgXiBBKSkgKyBYWzNdICsgMzI1MDQ0MTk2NiAmIDQyOTQ5NjcyOTU7XG4gIEIgPSBDICsgKHN1bSA8PCAyMiAmIDQyOTQ5NjcyOTUgfCBzdW0gPj4+IDEwKTtcbiAgc3VtID0gQSArIChEIF4gQiAmIChDIF4gRCkpICsgWFs0XSArIDQxMTg1NDgzOTkgJiA0Mjk0OTY3Mjk1O1xuICBBID0gQiArIChzdW0gPDwgNyAmIDQyOTQ5NjcyOTUgfCBzdW0gPj4+IDI1KTtcbiAgc3VtID0gRCArIChDIF4gQSAmIChCIF4gQykpICsgWFs1XSArIDEyMDAwODA0MjYgJiA0Mjk0OTY3Mjk1O1xuICBEID0gQSArIChzdW0gPDwgMTIgJiA0Mjk0OTY3Mjk1IHwgc3VtID4+PiAyMCk7XG4gIHN1bSA9IEMgKyAoQiBeIEQgJiAoQSBeIEIpKSArIFhbNl0gKyAyODIxNzM1OTU1ICYgNDI5NDk2NzI5NTtcbiAgQyA9IEQgKyAoc3VtIDw8IDE3ICYgNDI5NDk2NzI5NSB8IHN1bSA+Pj4gMTUpO1xuICBzdW0gPSBCICsgKEEgXiBDICYgKEQgXiBBKSkgKyBYWzddICsgNDI0OTI2MTMxMyAmIDQyOTQ5NjcyOTU7XG4gIEIgPSBDICsgKHN1bSA8PCAyMiAmIDQyOTQ5NjcyOTUgfCBzdW0gPj4+IDEwKTtcbiAgc3VtID0gQSArIChEIF4gQiAmIChDIF4gRCkpICsgWFs4XSArIDE3NzAwMzU0MTYgJiA0Mjk0OTY3Mjk1O1xuICBBID0gQiArIChzdW0gPDwgNyAmIDQyOTQ5NjcyOTUgfCBzdW0gPj4+IDI1KTtcbiAgc3VtID0gRCArIChDIF4gQSAmIChCIF4gQykpICsgWFs5XSArIDIzMzY1NTI4NzkgJiA0Mjk0OTY3Mjk1O1xuICBEID0gQSArIChzdW0gPDwgMTIgJiA0Mjk0OTY3Mjk1IHwgc3VtID4+PiAyMCk7XG4gIHN1bSA9IEMgKyAoQiBeIEQgJiAoQSBeIEIpKSArIFhbMTBdICsgNDI5NDkyNTIzMyAmIDQyOTQ5NjcyOTU7XG4gIEMgPSBEICsgKHN1bSA8PCAxNyAmIDQyOTQ5NjcyOTUgfCBzdW0gPj4+IDE1KTtcbiAgc3VtID0gQiArIChBIF4gQyAmIChEIF4gQSkpICsgWFsxMV0gKyAyMzA0NTYzMTM0ICYgNDI5NDk2NzI5NTtcbiAgQiA9IEMgKyAoc3VtIDw8IDIyICYgNDI5NDk2NzI5NSB8IHN1bSA+Pj4gMTApO1xuICBzdW0gPSBBICsgKEQgXiBCICYgKEMgXiBEKSkgKyBYWzEyXSArIDE4MDQ2MDM2ODIgJiA0Mjk0OTY3Mjk1O1xuICBBID0gQiArIChzdW0gPDwgNyAmIDQyOTQ5NjcyOTUgfCBzdW0gPj4+IDI1KTtcbiAgc3VtID0gRCArIChDIF4gQSAmIChCIF4gQykpICsgWFsxM10gKyA0MjU0NjI2MTk1ICYgNDI5NDk2NzI5NTtcbiAgRCA9IEEgKyAoc3VtIDw8IDEyICYgNDI5NDk2NzI5NSB8IHN1bSA+Pj4gMjApO1xuICBzdW0gPSBDICsgKEIgXiBEICYgKEEgXiBCKSkgKyBYWzE0XSArIDI3OTI5NjUwMDYgJiA0Mjk0OTY3Mjk1O1xuICBDID0gRCArIChzdW0gPDwgMTcgJiA0Mjk0OTY3Mjk1IHwgc3VtID4+PiAxNSk7XG4gIHN1bSA9IEIgKyAoQSBeIEMgJiAoRCBeIEEpKSArIFhbMTVdICsgMTIzNjUzNTMyOSAmIDQyOTQ5NjcyOTU7XG4gIEIgPSBDICsgKHN1bSA8PCAyMiAmIDQyOTQ5NjcyOTUgfCBzdW0gPj4+IDEwKTtcbiAgc3VtID0gQSArIChDIF4gRCAmIChCIF4gQykpICsgWFsxXSArIDQxMjkxNzA3ODYgJiA0Mjk0OTY3Mjk1O1xuICBBID0gQiArIChzdW0gPDwgNSAmIDQyOTQ5NjcyOTUgfCBzdW0gPj4+IDI3KTtcbiAgc3VtID0gRCArIChCIF4gQyAmIChBIF4gQikpICsgWFs2XSArIDMyMjU0NjU2NjQgJiA0Mjk0OTY3Mjk1O1xuICBEID0gQSArIChzdW0gPDwgOSAmIDQyOTQ5NjcyOTUgfCBzdW0gPj4+IDIzKTtcbiAgc3VtID0gQyArIChBIF4gQiAmIChEIF4gQSkpICsgWFsxMV0gKyA2NDM3MTc3MTMgJiA0Mjk0OTY3Mjk1O1xuICBDID0gRCArIChzdW0gPDwgMTQgJiA0Mjk0OTY3Mjk1IHwgc3VtID4+PiAxOCk7XG4gIHN1bSA9IEIgKyAoRCBeIEEgJiAoQyBeIEQpKSArIFhbMF0gKyAzOTIxMDY5OTk0ICYgNDI5NDk2NzI5NTtcbiAgQiA9IEMgKyAoc3VtIDw8IDIwICYgNDI5NDk2NzI5NSB8IHN1bSA+Pj4gMTIpO1xuICBzdW0gPSBBICsgKEMgXiBEICYgKEIgXiBDKSkgKyBYWzVdICsgMzU5MzQwODYwNSAmIDQyOTQ5NjcyOTU7XG4gIEEgPSBCICsgKHN1bSA8PCA1ICYgNDI5NDk2NzI5NSB8IHN1bSA+Pj4gMjcpO1xuICBzdW0gPSBEICsgKEIgXiBDICYgKEEgXiBCKSkgKyBYWzEwXSArIDM4MDE2MDgzICYgNDI5NDk2NzI5NTtcbiAgRCA9IEEgKyAoc3VtIDw8IDkgJiA0Mjk0OTY3Mjk1IHwgc3VtID4+PiAyMyk7XG4gIHN1bSA9IEMgKyAoQSBeIEIgJiAoRCBeIEEpKSArIFhbMTVdICsgMzYzNDQ4ODk2MSAmIDQyOTQ5NjcyOTU7XG4gIEMgPSBEICsgKHN1bSA8PCAxNCAmIDQyOTQ5NjcyOTUgfCBzdW0gPj4+IDE4KTtcbiAgc3VtID0gQiArIChEIF4gQSAmIChDIF4gRCkpICsgWFs0XSArIDM4ODk0Mjk0NDggJiA0Mjk0OTY3Mjk1O1xuICBCID0gQyArIChzdW0gPDwgMjAgJiA0Mjk0OTY3Mjk1IHwgc3VtID4+PiAxMik7XG4gIHN1bSA9IEEgKyAoQyBeIEQgJiAoQiBeIEMpKSArIFhbOV0gKyA1Njg0NDY0MzggJiA0Mjk0OTY3Mjk1O1xuICBBID0gQiArIChzdW0gPDwgNSAmIDQyOTQ5NjcyOTUgfCBzdW0gPj4+IDI3KTtcbiAgc3VtID0gRCArIChCIF4gQyAmIChBIF4gQikpICsgWFsxNF0gKyAzMjc1MTYzNjA2ICYgNDI5NDk2NzI5NTtcbiAgRCA9IEEgKyAoc3VtIDw8IDkgJiA0Mjk0OTY3Mjk1IHwgc3VtID4+PiAyMyk7XG4gIHN1bSA9IEMgKyAoQSBeIEIgJiAoRCBeIEEpKSArIFhbM10gKyA0MTA3NjAzMzM1ICYgNDI5NDk2NzI5NTtcbiAgQyA9IEQgKyAoc3VtIDw8IDE0ICYgNDI5NDk2NzI5NSB8IHN1bSA+Pj4gMTgpO1xuICBzdW0gPSBCICsgKEQgXiBBICYgKEMgXiBEKSkgKyBYWzhdICsgMTE2MzUzMTUwMSAmIDQyOTQ5NjcyOTU7XG4gIEIgPSBDICsgKHN1bSA8PCAyMCAmIDQyOTQ5NjcyOTUgfCBzdW0gPj4+IDEyKTtcbiAgc3VtID0gQSArIChDIF4gRCAmIChCIF4gQykpICsgWFsxM10gKyAyODUwMjg1ODI5ICYgNDI5NDk2NzI5NTtcbiAgQSA9IEIgKyAoc3VtIDw8IDUgJiA0Mjk0OTY3Mjk1IHwgc3VtID4+PiAyNyk7XG4gIHN1bSA9IEQgKyAoQiBeIEMgJiAoQSBeIEIpKSArIFhbMl0gKyA0MjQzNTYzNTEyICYgNDI5NDk2NzI5NTtcbiAgRCA9IEEgKyAoc3VtIDw8IDkgJiA0Mjk0OTY3Mjk1IHwgc3VtID4+PiAyMyk7XG4gIHN1bSA9IEMgKyAoQSBeIEIgJiAoRCBeIEEpKSArIFhbN10gKyAxNzM1MzI4NDczICYgNDI5NDk2NzI5NTtcbiAgQyA9IEQgKyAoc3VtIDw8IDE0ICYgNDI5NDk2NzI5NSB8IHN1bSA+Pj4gMTgpO1xuICBzdW0gPSBCICsgKEQgXiBBICYgKEMgXiBEKSkgKyBYWzEyXSArIDIzNjgzNTk1NjIgJiA0Mjk0OTY3Mjk1O1xuICBCID0gQyArIChzdW0gPDwgMjAgJiA0Mjk0OTY3Mjk1IHwgc3VtID4+PiAxMik7XG4gIHN1bSA9IEEgKyAoQiBeIEMgXiBEKSArIFhbNV0gKyA0Mjk0NTg4NzM4ICYgNDI5NDk2NzI5NTtcbiAgQSA9IEIgKyAoc3VtIDw8IDQgJiA0Mjk0OTY3Mjk1IHwgc3VtID4+PiAyOCk7XG4gIHN1bSA9IEQgKyAoQSBeIEIgXiBDKSArIFhbOF0gKyAyMjcyMzkyODMzICYgNDI5NDk2NzI5NTtcbiAgRCA9IEEgKyAoc3VtIDw8IDExICYgNDI5NDk2NzI5NSB8IHN1bSA+Pj4gMjEpO1xuICBzdW0gPSBDICsgKEQgXiBBIF4gQikgKyBYWzExXSArIDE4MzkwMzA1NjIgJiA0Mjk0OTY3Mjk1O1xuICBDID0gRCArIChzdW0gPDwgMTYgJiA0Mjk0OTY3Mjk1IHwgc3VtID4+PiAxNik7XG4gIHN1bSA9IEIgKyAoQyBeIEQgXiBBKSArIFhbMTRdICsgNDI1OTY1Nzc0MCAmIDQyOTQ5NjcyOTU7XG4gIEIgPSBDICsgKHN1bSA8PCAyMyAmIDQyOTQ5NjcyOTUgfCBzdW0gPj4+IDkpO1xuICBzdW0gPSBBICsgKEIgXiBDIF4gRCkgKyBYWzFdICsgMjc2Mzk3NTIzNiAmIDQyOTQ5NjcyOTU7XG4gIEEgPSBCICsgKHN1bSA8PCA0ICYgNDI5NDk2NzI5NSB8IHN1bSA+Pj4gMjgpO1xuICBzdW0gPSBEICsgKEEgXiBCIF4gQykgKyBYWzRdICsgMTI3Mjg5MzM1MyAmIDQyOTQ5NjcyOTU7XG4gIEQgPSBBICsgKHN1bSA8PCAxMSAmIDQyOTQ5NjcyOTUgfCBzdW0gPj4+IDIxKTtcbiAgc3VtID0gQyArIChEIF4gQSBeIEIpICsgWFs3XSArIDQxMzk0Njk2NjQgJiA0Mjk0OTY3Mjk1O1xuICBDID0gRCArIChzdW0gPDwgMTYgJiA0Mjk0OTY3Mjk1IHwgc3VtID4+PiAxNik7XG4gIHN1bSA9IEIgKyAoQyBeIEQgXiBBKSArIFhbMTBdICsgMzIwMDIzNjY1NiAmIDQyOTQ5NjcyOTU7XG4gIEIgPSBDICsgKHN1bSA8PCAyMyAmIDQyOTQ5NjcyOTUgfCBzdW0gPj4+IDkpO1xuICBzdW0gPSBBICsgKEIgXiBDIF4gRCkgKyBYWzEzXSArIDY4MTI3OTE3NCAmIDQyOTQ5NjcyOTU7XG4gIEEgPSBCICsgKHN1bSA8PCA0ICYgNDI5NDk2NzI5NSB8IHN1bSA+Pj4gMjgpO1xuICBzdW0gPSBEICsgKEEgXiBCIF4gQykgKyBYWzBdICsgMzkzNjQzMDA3NCAmIDQyOTQ5NjcyOTU7XG4gIEQgPSBBICsgKHN1bSA8PCAxMSAmIDQyOTQ5NjcyOTUgfCBzdW0gPj4+IDIxKTtcbiAgc3VtID0gQyArIChEIF4gQSBeIEIpICsgWFszXSArIDM1NzI0NDUzMTcgJiA0Mjk0OTY3Mjk1O1xuICBDID0gRCArIChzdW0gPDwgMTYgJiA0Mjk0OTY3Mjk1IHwgc3VtID4+PiAxNik7XG4gIHN1bSA9IEIgKyAoQyBeIEQgXiBBKSArIFhbNl0gKyA3NjAyOTE4OSAmIDQyOTQ5NjcyOTU7XG4gIEIgPSBDICsgKHN1bSA8PCAyMyAmIDQyOTQ5NjcyOTUgfCBzdW0gPj4+IDkpO1xuICBzdW0gPSBBICsgKEIgXiBDIF4gRCkgKyBYWzldICsgMzY1NDYwMjgwOSAmIDQyOTQ5NjcyOTU7XG4gIEEgPSBCICsgKHN1bSA8PCA0ICYgNDI5NDk2NzI5NSB8IHN1bSA+Pj4gMjgpO1xuICBzdW0gPSBEICsgKEEgXiBCIF4gQykgKyBYWzEyXSArIDM4NzMxNTE0NjEgJiA0Mjk0OTY3Mjk1O1xuICBEID0gQSArIChzdW0gPDwgMTEgJiA0Mjk0OTY3Mjk1IHwgc3VtID4+PiAyMSk7XG4gIHN1bSA9IEMgKyAoRCBeIEEgXiBCKSArIFhbMTVdICsgNTMwNzQyNTIwICYgNDI5NDk2NzI5NTtcbiAgQyA9IEQgKyAoc3VtIDw8IDE2ICYgNDI5NDk2NzI5NSB8IHN1bSA+Pj4gMTYpO1xuICBzdW0gPSBCICsgKEMgXiBEIF4gQSkgKyBYWzJdICsgMzI5OTYyODY0NSAmIDQyOTQ5NjcyOTU7XG4gIEIgPSBDICsgKHN1bSA8PCAyMyAmIDQyOTQ5NjcyOTUgfCBzdW0gPj4+IDkpO1xuICBzdW0gPSBBICsgKEMgXiAoQiB8IH5EKSkgKyBYWzBdICsgNDA5NjMzNjQ1MiAmIDQyOTQ5NjcyOTU7XG4gIEEgPSBCICsgKHN1bSA8PCA2ICYgNDI5NDk2NzI5NSB8IHN1bSA+Pj4gMjYpO1xuICBzdW0gPSBEICsgKEIgXiAoQSB8IH5DKSkgKyBYWzddICsgMTEyNjg5MTQxNSAmIDQyOTQ5NjcyOTU7XG4gIEQgPSBBICsgKHN1bSA8PCAxMCAmIDQyOTQ5NjcyOTUgfCBzdW0gPj4+IDIyKTtcbiAgc3VtID0gQyArIChBIF4gKEQgfCB+QikpICsgWFsxNF0gKyAyODc4NjEyMzkxICYgNDI5NDk2NzI5NTtcbiAgQyA9IEQgKyAoc3VtIDw8IDE1ICYgNDI5NDk2NzI5NSB8IHN1bSA+Pj4gMTcpO1xuICBzdW0gPSBCICsgKEQgXiAoQyB8IH5BKSkgKyBYWzVdICsgNDIzNzUzMzI0MSAmIDQyOTQ5NjcyOTU7XG4gIEIgPSBDICsgKHN1bSA8PCAyMSAmIDQyOTQ5NjcyOTUgfCBzdW0gPj4+IDExKTtcbiAgc3VtID0gQSArIChDIF4gKEIgfCB+RCkpICsgWFsxMl0gKyAxNzAwNDg1NTcxICYgNDI5NDk2NzI5NTtcbiAgQSA9IEIgKyAoc3VtIDw8IDYgJiA0Mjk0OTY3Mjk1IHwgc3VtID4+PiAyNik7XG4gIHN1bSA9IEQgKyAoQiBeIChBIHwgfkMpKSArIFhbM10gKyAyMzk5OTgwNjkwICYgNDI5NDk2NzI5NTtcbiAgRCA9IEEgKyAoc3VtIDw8IDEwICYgNDI5NDk2NzI5NSB8IHN1bSA+Pj4gMjIpO1xuICBzdW0gPSBDICsgKEEgXiAoRCB8IH5CKSkgKyBYWzEwXSArIDQyOTM5MTU3NzMgJiA0Mjk0OTY3Mjk1O1xuICBDID0gRCArIChzdW0gPDwgMTUgJiA0Mjk0OTY3Mjk1IHwgc3VtID4+PiAxNyk7XG4gIHN1bSA9IEIgKyAoRCBeIChDIHwgfkEpKSArIFhbMV0gKyAyMjQwMDQ0NDk3ICYgNDI5NDk2NzI5NTtcbiAgQiA9IEMgKyAoc3VtIDw8IDIxICYgNDI5NDk2NzI5NSB8IHN1bSA+Pj4gMTEpO1xuICBzdW0gPSBBICsgKEMgXiAoQiB8IH5EKSkgKyBYWzhdICsgMTg3MzMxMzM1OSAmIDQyOTQ5NjcyOTU7XG4gIEEgPSBCICsgKHN1bSA8PCA2ICYgNDI5NDk2NzI5NSB8IHN1bSA+Pj4gMjYpO1xuICBzdW0gPSBEICsgKEIgXiAoQSB8IH5DKSkgKyBYWzE1XSArIDQyNjQzNTU1NTIgJiA0Mjk0OTY3Mjk1O1xuICBEID0gQSArIChzdW0gPDwgMTAgJiA0Mjk0OTY3Mjk1IHwgc3VtID4+PiAyMik7XG4gIHN1bSA9IEMgKyAoQSBeIChEIHwgfkIpKSArIFhbNl0gKyAyNzM0NzY4OTE2ICYgNDI5NDk2NzI5NTtcbiAgQyA9IEQgKyAoc3VtIDw8IDE1ICYgNDI5NDk2NzI5NSB8IHN1bSA+Pj4gMTcpO1xuICBzdW0gPSBCICsgKEQgXiAoQyB8IH5BKSkgKyBYWzEzXSArIDEzMDkxNTE2NDkgJiA0Mjk0OTY3Mjk1O1xuICBCID0gQyArIChzdW0gPDwgMjEgJiA0Mjk0OTY3Mjk1IHwgc3VtID4+PiAxMSk7XG4gIHN1bSA9IEEgKyAoQyBeIChCIHwgfkQpKSArIFhbNF0gKyA0MTQ5NDQ0MjI2ICYgNDI5NDk2NzI5NTtcbiAgQSA9IEIgKyAoc3VtIDw8IDYgJiA0Mjk0OTY3Mjk1IHwgc3VtID4+PiAyNik7XG4gIHN1bSA9IEQgKyAoQiBeIChBIHwgfkMpKSArIFhbMTFdICsgMzE3NDc1NjkxNyAmIDQyOTQ5NjcyOTU7XG4gIEQgPSBBICsgKHN1bSA8PCAxMCAmIDQyOTQ5NjcyOTUgfCBzdW0gPj4+IDIyKTtcbiAgc3VtID0gQyArIChBIF4gKEQgfCB+QikpICsgWFsyXSArIDcxODc4NzI1OSAmIDQyOTQ5NjcyOTU7XG4gIEMgPSBEICsgKHN1bSA8PCAxNSAmIDQyOTQ5NjcyOTUgfCBzdW0gPj4+IDE3KTtcbiAgc3VtID0gQiArIChEIF4gKEMgfCB+QSkpICsgWFs5XSArIDM5NTE0ODE3NDUgJiA0Mjk0OTY3Mjk1O1xuICB0aGlzLmNoYWluX1swXSA9IHRoaXMuY2hhaW5fWzBdICsgQSAmIDQyOTQ5NjcyOTU7XG4gIHRoaXMuY2hhaW5fWzFdID0gdGhpcy5jaGFpbl9bMV0gKyAoQyArIChzdW0gPDwgMjEgJiA0Mjk0OTY3Mjk1IHwgc3VtID4+PiAxMSkpICYgNDI5NDk2NzI5NTtcbiAgdGhpcy5jaGFpbl9bMl0gPSB0aGlzLmNoYWluX1syXSArIEMgJiA0Mjk0OTY3Mjk1O1xuICB0aGlzLmNoYWluX1szXSA9IHRoaXMuY2hhaW5fWzNdICsgRCAmIDQyOTQ5NjcyOTU7XG59O1xuZ29vZy5jcnlwdC5NZDUucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uKGJ5dGVzLCBvcHRfbGVuZ3RoKSB7XG4gIHZvaWQgMCA9PT0gb3B0X2xlbmd0aCAmJiAob3B0X2xlbmd0aCA9IGJ5dGVzLmxlbmd0aCk7XG4gIGZvciAodmFyIGxlbmd0aE1pbnVzQmxvY2sgPSBvcHRfbGVuZ3RoIC0gdGhpcy5ibG9ja1NpemUsIGJsb2NrID0gdGhpcy5ibG9ja18sIGJsb2NrTGVuZ3RoID0gdGhpcy5ibG9ja0xlbmd0aF8sIGkgPSAwOyBpIDwgb3B0X2xlbmd0aDspIHtcbiAgICBpZiAoMCA9PSBibG9ja0xlbmd0aCkge1xuICAgICAgZm9yICg7IGkgPD0gbGVuZ3RoTWludXNCbG9jazspIHtcbiAgICAgICAgdGhpcy5jb21wcmVzc18oYnl0ZXMsIGkpLCBpICs9IHRoaXMuYmxvY2tTaXplO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoXCJzdHJpbmdcIiA9PT0gdHlwZW9mIGJ5dGVzKSB7XG4gICAgICBmb3IgKDsgaSA8IG9wdF9sZW5ndGg7KSB7XG4gICAgICAgIGlmIChibG9ja1tibG9ja0xlbmd0aCsrXSA9IGJ5dGVzLmNoYXJDb2RlQXQoaSsrKSwgYmxvY2tMZW5ndGggPT0gdGhpcy5ibG9ja1NpemUpIHtcbiAgICAgICAgICB0aGlzLmNvbXByZXNzXyhibG9jayk7XG4gICAgICAgICAgYmxvY2tMZW5ndGggPSAwO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGZvciAoOyBpIDwgb3B0X2xlbmd0aDspIHtcbiAgICAgICAgaWYgKGJsb2NrW2Jsb2NrTGVuZ3RoKytdID0gYnl0ZXNbaSsrXSwgYmxvY2tMZW5ndGggPT0gdGhpcy5ibG9ja1NpemUpIHtcbiAgICAgICAgICB0aGlzLmNvbXByZXNzXyhibG9jayk7XG4gICAgICAgICAgYmxvY2tMZW5ndGggPSAwO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHRoaXMuYmxvY2tMZW5ndGhfID0gYmxvY2tMZW5ndGg7XG4gIHRoaXMudG90YWxMZW5ndGhfICs9IG9wdF9sZW5ndGg7XG59O1xuZ29vZy5jcnlwdC5NZDUucHJvdG90eXBlLmRpZ2VzdCA9IGZ1bmN0aW9uKCkge1xuICB2YXIgcGFkID0gQXJyYXkoKDU2ID4gdGhpcy5ibG9ja0xlbmd0aF8gPyB0aGlzLmJsb2NrU2l6ZSA6IDIgKiB0aGlzLmJsb2NrU2l6ZSkgLSB0aGlzLmJsb2NrTGVuZ3RoXyk7XG4gIHBhZFswXSA9IDEyODtcbiAgZm9yICh2YXIgaSA9IDE7IGkgPCBwYWQubGVuZ3RoIC0gODsgKytpKSB7XG4gICAgcGFkW2ldID0gMDtcbiAgfVxuICB2YXIgdG90YWxCaXRzID0gOCAqIHRoaXMudG90YWxMZW5ndGhfO1xuICBmb3IgKGkgPSBwYWQubGVuZ3RoIC0gODsgaSA8IHBhZC5sZW5ndGg7ICsraSkge1xuICAgIHBhZFtpXSA9IHRvdGFsQml0cyAmIDI1NSwgdG90YWxCaXRzIC89IDI1NjtcbiAgfVxuICB0aGlzLnVwZGF0ZShwYWQpO1xuICB2YXIgZGlnZXN0ID0gQXJyYXkoMTYpLCBuID0gMDtcbiAgZm9yIChpID0gMDsgNCA+IGk7ICsraSkge1xuICAgIGZvciAodmFyIGogPSAwOyAzMiA+IGo7IGogKz0gOCkge1xuICAgICAgZGlnZXN0W24rK10gPSB0aGlzLmNoYWluX1tpXSA+Pj4gaiAmIDI1NTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGRpZ2VzdDtcbn07XG5lZS5TZXJpYWxpemVyID0gZnVuY3Rpb24ob3B0X2lzQ29tcG91bmQpIHtcbiAgdGhpcy5IQVNIX0tFWSA9IFwiX19lZV9oYXNoX19cIjtcbiAgdGhpcy5pc0NvbXBvdW5kXyA9ICExICE9PSBvcHRfaXNDb21wb3VuZDtcbiAgdGhpcy5zY29wZV8gPSBbXTtcbiAgdGhpcy5lbmNvZGVkXyA9IHt9O1xuICB0aGlzLndpdGhIYXNoZXNfID0gW107XG4gIHRoaXMuaGFzaGVzXyA9IG5ldyBXZWFrTWFwKCk7XG4gIHRoaXMudW5ib3VuZE5hbWUgPSB2b2lkIDA7XG59O1xuZ29vZy5leHBvcnRTeW1ib2woXCJlZS5TZXJpYWxpemVyXCIsIGVlLlNlcmlhbGl6ZXIpO1xuZWUuU2VyaWFsaXplci5qc29uU2VyaWFsaXplcl8gPSBuZXcgZ29vZy5qc29uLlNlcmlhbGl6ZXIoKTtcbmVlLlNlcmlhbGl6ZXIuaGFzaF8gPSBuZXcgZ29vZy5jcnlwdC5NZDUoKTtcbmVlLlNlcmlhbGl6ZXIuZW5jb2RlID0gZnVuY3Rpb24ob2JqLCBvcHRfaXNDb21wb3VuZCkge1xuICByZXR1cm4gKG5ldyBlZS5TZXJpYWxpemVyKHZvaWQgMCAhPT0gb3B0X2lzQ29tcG91bmQgPyBvcHRfaXNDb21wb3VuZCA6ICEwKSkuZW5jb2RlXyhvYmopO1xufTtcbmdvb2cuZXhwb3J0U3ltYm9sKFwiZWUuU2VyaWFsaXplci5lbmNvZGVcIiwgZWUuU2VyaWFsaXplci5lbmNvZGUpO1xuZWUuU2VyaWFsaXplci50b0pTT04gPSBmdW5jdGlvbihvYmopIHtcbiAgcmV0dXJuIGVlLlNlcmlhbGl6ZXIuanNvblNlcmlhbGl6ZXJfLnNlcmlhbGl6ZShlZS5TZXJpYWxpemVyLmVuY29kZShvYmopKTtcbn07XG5nb29nLmV4cG9ydFN5bWJvbChcImVlLlNlcmlhbGl6ZXIudG9KU09OXCIsIGVlLlNlcmlhbGl6ZXIudG9KU09OKTtcbmVlLlNlcmlhbGl6ZXIudG9SZWFkYWJsZUpTT04gPSBmdW5jdGlvbihvYmopIHtcbiAgcmV0dXJuIGVlLlNlcmlhbGl6ZXIuc3RyaW5naWZ5KGVlLlNlcmlhbGl6ZXIuZW5jb2RlKG9iaiwgITEpKTtcbn07XG5nb29nLmV4cG9ydFN5bWJvbChcImVlLlNlcmlhbGl6ZXIudG9SZWFkYWJsZUpTT05cIiwgZWUuU2VyaWFsaXplci50b1JlYWRhYmxlSlNPTik7XG5lZS5TZXJpYWxpemVyLnN0cmluZ2lmeSA9IGZ1bmN0aW9uKGVuY29kZWQpIHtcbiAgcmV0dXJuIFwiSlNPTlwiIGluIGdvb2cuZ2xvYmFsID8gZ29vZy5nbG9iYWwuSlNPTi5zdHJpbmdpZnkoZW5jb2RlZCwgbnVsbCwgXCIgIFwiKSA6IGVlLlNlcmlhbGl6ZXIuanNvblNlcmlhbGl6ZXJfLnNlcmlhbGl6ZShlbmNvZGVkKTtcbn07XG5lZS5TZXJpYWxpemVyLnByb3RvdHlwZS5lbmNvZGVfID0gZnVuY3Rpb24ob2JqZWN0KSB7XG4gIHZhciB2YWx1ZSA9IHRoaXMuZW5jb2RlVmFsdWVfKG9iamVjdCk7XG4gIHRoaXMuaXNDb21wb3VuZF8gJiYgKHZhbHVlID0gZ29vZy5pc09iamVjdCh2YWx1ZSkgJiYgXCJWYWx1ZVJlZlwiID09IHZhbHVlLnR5cGUgJiYgMSA9PSB0aGlzLnNjb3BlXy5sZW5ndGggPyB0aGlzLnNjb3BlX1swXVsxXSA6IHt0eXBlOlwiQ29tcG91bmRWYWx1ZVwiLCBzY29wZTp0aGlzLnNjb3BlXywgdmFsdWU6dmFsdWV9LCB0aGlzLnNjb3BlXyA9IFtdLCBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9mb3JFYWNoKHRoaXMud2l0aEhhc2hlc18sIGdvb2cuYmluZChmdW5jdGlvbihvYmopIHtcbiAgICBkZWxldGUgb2JqW3RoaXMuSEFTSF9LRVldO1xuICB9LCB0aGlzKSksIHRoaXMud2l0aEhhc2hlc18gPSBbXSwgdGhpcy5lbmNvZGVkXyA9IHt9KTtcbiAgcmV0dXJuIHZhbHVlO1xufTtcbmVlLlNlcmlhbGl6ZXIucHJvdG90eXBlLmVuY29kZVZhbHVlXyA9IGZ1bmN0aW9uKG9iamVjdCkge1xuICBpZiAodm9pZCAwID09PSBvYmplY3QpIHtcbiAgICB0aHJvdyBFcnJvcihcIkNhbid0IGVuY29kZSBhbiB1bmRlZmluZWQgdmFsdWUuXCIpO1xuICB9XG4gIHZhciBoYXNoID0gZ29vZy5pc09iamVjdChvYmplY3QpID8gb2JqZWN0W3RoaXMuSEFTSF9LRVldIDogbnVsbDtcbiAgaWYgKHRoaXMuaXNDb21wb3VuZF8gJiYgbnVsbCAhPSBoYXNoICYmIHRoaXMuZW5jb2RlZF9baGFzaF0pIHtcbiAgICByZXR1cm4ge3R5cGU6XCJWYWx1ZVJlZlwiLCB2YWx1ZTp0aGlzLmVuY29kZWRfW2hhc2hdfTtcbiAgfVxuICBpZiAobnVsbCA9PT0gb2JqZWN0IHx8IFwiYm9vbGVhblwiID09PSB0eXBlb2Ygb2JqZWN0IHx8IFwibnVtYmVyXCIgPT09IHR5cGVvZiBvYmplY3QgfHwgXCJzdHJpbmdcIiA9PT0gdHlwZW9mIG9iamVjdCkge1xuICAgIHJldHVybiBvYmplY3Q7XG4gIH1cbiAgaWYgKGdvb2cuaXNEYXRlTGlrZShvYmplY3QpKSB7XG4gICAgcmV0dXJuIHt0eXBlOlwiSW52b2NhdGlvblwiLCBmdW5jdGlvbk5hbWU6XCJEYXRlXCIsIGFyZ3VtZW50czp7dmFsdWU6TWF0aC5mbG9vcihvYmplY3QuZ2V0VGltZSgpKX19O1xuICB9XG4gIGlmIChvYmplY3QgaW5zdGFuY2VvZiBlZS5FbmNvZGFibGUpIHtcbiAgICB2YXIgcmVzdWx0ID0gb2JqZWN0LmVuY29kZShnb29nLmJpbmQodGhpcy5lbmNvZGVWYWx1ZV8sIHRoaXMpKTtcbiAgICBpZiAoIShBcnJheS5pc0FycmF5KHJlc3VsdCkgfHwgZ29vZy5pc09iamVjdChyZXN1bHQpICYmIFwiQXJndW1lbnRSZWZcIiAhPSByZXN1bHQudHlwZSkpIHtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkob2JqZWN0KSkge1xuICAgIHJlc3VsdCA9IG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X21hcChvYmplY3QsIGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICAgIHJldHVybiB0aGlzLmVuY29kZVZhbHVlXyhlbGVtZW50KTtcbiAgICB9LCB0aGlzKTtcbiAgfSBlbHNlIGlmIChnb29nLmlzT2JqZWN0KG9iamVjdCkgJiYgXCJmdW5jdGlvblwiICE9PSB0eXBlb2Ygb2JqZWN0KSB7XG4gICAgdmFyIGVuY29kZWRPYmplY3QgPSBtb2R1bGUkY29udGVudHMkZ29vZyRvYmplY3RfbWFwKG9iamVjdCwgZnVuY3Rpb24oZWxlbWVudCkge1xuICAgICAgaWYgKFwiZnVuY3Rpb25cIiAhPT0gdHlwZW9mIGVsZW1lbnQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZW5jb2RlVmFsdWVfKGVsZW1lbnQpO1xuICAgICAgfVxuICAgIH0sIHRoaXMpO1xuICAgIG1vZHVsZSRjb250ZW50cyRnb29nJG9iamVjdF9yZW1vdmUoZW5jb2RlZE9iamVjdCwgdGhpcy5IQVNIX0tFWSk7XG4gICAgcmVzdWx0ID0ge3R5cGU6XCJEaWN0aW9uYXJ5XCIsIHZhbHVlOmVuY29kZWRPYmplY3R9O1xuICB9IGVsc2Uge1xuICAgIHRocm93IEVycm9yKFwiQ2FuJ3QgZW5jb2RlIG9iamVjdDogXCIgKyBvYmplY3QpO1xuICB9XG4gIGlmICh0aGlzLmlzQ29tcG91bmRfKSB7XG4gICAgaGFzaCA9IGVlLlNlcmlhbGl6ZXIuY29tcHV0ZUhhc2gocmVzdWx0KTtcbiAgICBpZiAodGhpcy5lbmNvZGVkX1toYXNoXSkge1xuICAgICAgdmFyIG5hbWUgPSB0aGlzLmVuY29kZWRfW2hhc2hdO1xuICAgIH0gZWxzZSB7XG4gICAgICBuYW1lID0gU3RyaW5nKHRoaXMuc2NvcGVfLmxlbmd0aCksIHRoaXMuc2NvcGVfLnB1c2goW25hbWUsIHJlc3VsdF0pLCB0aGlzLmVuY29kZWRfW2hhc2hdID0gbmFtZTtcbiAgICB9XG4gICAgb2JqZWN0W3RoaXMuSEFTSF9LRVldID0gaGFzaDtcbiAgICB0aGlzLndpdGhIYXNoZXNfLnB1c2gob2JqZWN0KTtcbiAgICByZXR1cm4ge3R5cGU6XCJWYWx1ZVJlZlwiLCB2YWx1ZTpuYW1lfTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufTtcbmVlLlNlcmlhbGl6ZXIuY29tcHV0ZUhhc2ggPSBmdW5jdGlvbihvYmopIHtcbiAgZWUuU2VyaWFsaXplci5oYXNoXy5yZXNldCgpO1xuICBlZS5TZXJpYWxpemVyLmhhc2hfLnVwZGF0ZShlZS5TZXJpYWxpemVyLmpzb25TZXJpYWxpemVyXy5zZXJpYWxpemUob2JqKSk7XG4gIHJldHVybiBlZS5TZXJpYWxpemVyLmhhc2hfLmRpZ2VzdCgpLnRvU3RyaW5nKCk7XG59O1xuZWUuU2VyaWFsaXplci5lbmNvZGVDbG91ZEFwaSA9IGZ1bmN0aW9uKG9iaikge1xuICByZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3Rfc2VyaWFsaXplKGVlLlNlcmlhbGl6ZXIuZW5jb2RlQ2xvdWRBcGlFeHByZXNzaW9uKG9iaikpO1xufTtcbmdvb2cuZXhwb3J0U3ltYm9sKFwiZWUuU2VyaWFsaXplci5lbmNvZGVDbG91ZEFwaVwiLCBlZS5TZXJpYWxpemVyLmVuY29kZUNsb3VkQXBpKTtcbmVlLlNlcmlhbGl6ZXIuZW5jb2RlQ2xvdWRBcGlFeHByZXNzaW9uID0gZnVuY3Rpb24ob2JqLCB1bmJvdW5kTmFtZSkge1xuICB2YXIgc2VyaWFsaXplciA9IG5ldyBlZS5TZXJpYWxpemVyKCEwKTtcbiAgc2VyaWFsaXplci51bmJvdW5kTmFtZSA9IHVuYm91bmROYW1lO1xuICByZXR1cm4gc2VyaWFsaXplci5lbmNvZGVGb3JDbG91ZEFwaV8ob2JqKTtcbn07XG5lZS5TZXJpYWxpemVyLmVuY29kZUNsb3VkQXBpUHJldHR5ID0gZnVuY3Rpb24ob2JqKSB7XG4gIHZhciBlbmNvZGVkID0gKG5ldyBlZS5TZXJpYWxpemVyKCExKSkuZW5jb2RlRm9yQ2xvdWRBcGlfKG9iaiksIHZhbHVlcyA9IGVuY29kZWQudmFsdWVzLCB3YWxrT2JqZWN0ID0gZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgaWYgKCFnb29nLmlzT2JqZWN0KG9iamVjdCkpIHtcbiAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgfVxuICAgIGZvciAodmFyIHJldCA9IEFycmF5LmlzQXJyYXkob2JqZWN0KSA/IFtdIDoge30sIGlzTm9kZSA9IG9iamVjdCBpbnN0YW5jZW9mIE9iamVjdC5nZXRQcm90b3R5cGVPZihtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlZhbHVlTm9kZSksICRqc2NvbXAkaXRlciQzMSA9ICRqc2NvbXAubWFrZUl0ZXJhdG9yKE9iamVjdC5lbnRyaWVzKGlzTm9kZSA/IG9iamVjdC5TZXJpYWxpemFibGUkdmFsdWVzIDogb2JqZWN0KSksICRqc2NvbXAka2V5JCA9ICRqc2NvbXAkaXRlciQzMS5uZXh0KCk7ICEkanNjb21wJGtleSQuZG9uZTsgJGpzY29tcCRrZXkkID0gJGpzY29tcCRpdGVyJDMxLm5leHQoKSkge1xuICAgICAgdmFyICRqc2NvbXAkZGVzdHJ1Y3R1cmluZyR2YXI0MyA9ICRqc2NvbXAubWFrZUl0ZXJhdG9yKCRqc2NvbXAka2V5JC52YWx1ZSksIGtleSA9ICRqc2NvbXAkZGVzdHJ1Y3R1cmluZyR2YXI0My5uZXh0KCkudmFsdWUsIHZhbCA9ICRqc2NvbXAkZGVzdHJ1Y3R1cmluZyR2YXI0My5uZXh0KCkudmFsdWU7XG4gICAgICBpc05vZGUgPyBudWxsICE9PSB2YWwgJiYgKHJldFtrZXldID0gXCJmdW5jdGlvbkRlZmluaXRpb25WYWx1ZVwiID09PSBrZXkgJiYgbnVsbCAhPSB2YWwuYm9keSA/IHthcmd1bWVudE5hbWVzOnZhbC5hcmd1bWVudE5hbWVzLCBib2R5OndhbGtPYmplY3QodmFsdWVzW3ZhbC5ib2R5XSl9IDogXCJmdW5jdGlvbkludm9jYXRpb25WYWx1ZVwiID09PSBrZXkgJiYgbnVsbCAhPSB2YWwuZnVuY3Rpb25SZWZlcmVuY2UgPyB7YXJndW1lbnRzOm1vZHVsZSRjb250ZW50cyRnb29nJG9iamVjdF9tYXAodmFsLmFyZ3VtZW50cywgd2Fsa09iamVjdCksIGZ1bmN0aW9uUmVmZXJlbmNlOndhbGtPYmplY3QodmFsdWVzW3ZhbC5mdW5jdGlvblJlZmVyZW5jZV0pfSA6IFwiY29uc3RhbnRWYWx1ZVwiID09PSBrZXkgPyB2YWwgPT09IG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuTlVMTF9WQUxVRSA/IFxuICAgICAgbnVsbCA6IHZhbCA6IHdhbGtPYmplY3QodmFsKSkgOiByZXRba2V5XSA9IHdhbGtPYmplY3QodmFsKTtcbiAgICB9XG4gICAgcmV0dXJuIHJldDtcbiAgfTtcbiAgcmV0dXJuIGVuY29kZWQucmVzdWx0ICYmIHdhbGtPYmplY3QodmFsdWVzW2VuY29kZWQucmVzdWx0XSk7XG59O1xuZ29vZy5leHBvcnRTeW1ib2woXCJlZS5TZXJpYWxpemVyLmVuY29kZUNsb3VkQXBpUHJldHR5XCIsIGVlLlNlcmlhbGl6ZXIuZW5jb2RlQ2xvdWRBcGlQcmV0dHkpO1xuZWUuU2VyaWFsaXplci50b0Nsb3VkQXBpSlNPTiA9IGZ1bmN0aW9uKG9iaikge1xuICByZXR1cm4gZWUuU2VyaWFsaXplci5qc29uU2VyaWFsaXplcl8uc2VyaWFsaXplKGVlLlNlcmlhbGl6ZXIuZW5jb2RlQ2xvdWRBcGkob2JqKSk7XG59O1xuZ29vZy5leHBvcnRTeW1ib2woXCJlZS5TZXJpYWxpemVyLnRvQ2xvdWRBcGlKU09OXCIsIGVlLlNlcmlhbGl6ZXIudG9DbG91ZEFwaUpTT04pO1xuZWUuU2VyaWFsaXplci50b1JlYWRhYmxlQ2xvdWRBcGlKU09OID0gZnVuY3Rpb24ob2JqKSB7XG4gIHJldHVybiBlZS5TZXJpYWxpemVyLnN0cmluZ2lmeShlZS5TZXJpYWxpemVyLmVuY29kZUNsb3VkQXBpUHJldHR5KG9iaikpO1xufTtcbmdvb2cuZXhwb3J0U3ltYm9sKFwiZWUuU2VyaWFsaXplci50b1JlYWRhYmxlQ2xvdWRBcGlKU09OXCIsIGVlLlNlcmlhbGl6ZXIudG9SZWFkYWJsZUNsb3VkQXBpSlNPTik7XG5lZS5TZXJpYWxpemVyLnByb3RvdHlwZS5lbmNvZGVGb3JDbG91ZEFwaV8gPSBmdW5jdGlvbihvYmopIHtcbiAgdHJ5IHtcbiAgICB2YXIgcmVzdWx0ID0gdGhpcy5tYWtlUmVmZXJlbmNlKG9iaik7XG4gICAgcmV0dXJuIChuZXcgRXhwcmVzc2lvbk9wdGltaXplcihyZXN1bHQsIHRoaXMuc2NvcGVfLCB0aGlzLmlzQ29tcG91bmRfKSkub3B0aW1pemUoKTtcbiAgfSBmaW5hbGx5IHtcbiAgICB0aGlzLmhhc2hlc18gPSBuZXcgV2Vha01hcCgpLCB0aGlzLmVuY29kZWRfID0ge30sIHRoaXMuc2NvcGVfID0gW107XG4gIH1cbn07XG5lZS5TZXJpYWxpemVyLnByb3RvdHlwZS5tYWtlUmVmZXJlbmNlID0gZnVuY3Rpb24ob2JqKSB7XG4gIHZhciAkanNjb21wJHRoaXMgPSB0aGlzLCBtYWtlUmVmID0gZnVuY3Rpb24ocmVzdWx0KSB7XG4gICAgdmFyIGhhc2ggPSBlZS5TZXJpYWxpemVyLmNvbXB1dGVIYXNoKHJlc3VsdCk7XG4gICAgZ29vZy5pc09iamVjdChvYmopICYmICRqc2NvbXAkdGhpcy5oYXNoZXNfLnNldChvYmosIGhhc2gpO1xuICAgIGlmICgkanNjb21wJHRoaXMuZW5jb2RlZF9baGFzaF0pIHtcbiAgICAgIHJldHVybiAkanNjb21wJHRoaXMuZW5jb2RlZF9baGFzaF07XG4gICAgfVxuICAgIHZhciBuYW1lID0gU3RyaW5nKCRqc2NvbXAkdGhpcy5zY29wZV8ubGVuZ3RoKTtcbiAgICAkanNjb21wJHRoaXMuc2NvcGVfLnB1c2goW25hbWUsIHJlc3VsdF0pO1xuICAgIHJldHVybiAkanNjb21wJHRoaXMuZW5jb2RlZF9baGFzaF0gPSBuYW1lO1xuICB9O1xuICBpZiAoZ29vZy5pc09iamVjdChvYmopICYmIHRoaXMuZW5jb2RlZF9bdGhpcy5oYXNoZXNfLmdldChvYmopXSkge1xuICAgIHJldHVybiB0aGlzLmVuY29kZWRfW3RoaXMuaGFzaGVzXy5nZXQob2JqKV07XG4gIH1cbiAgaWYgKG51bGwgPT09IG9iaiB8fCBcImJvb2xlYW5cIiA9PT0gdHlwZW9mIG9iaiB8fCBcInN0cmluZ1wiID09PSB0eXBlb2Ygb2JqIHx8IFwibnVtYmVyXCIgPT09IHR5cGVvZiBvYmopIHtcbiAgICByZXR1cm4gbWFrZVJlZihlZS5ycGNfbm9kZS5jb25zdGFudChvYmopKTtcbiAgfVxuICBpZiAoZ29vZy5pc0RhdGVMaWtlKG9iaikpIHtcbiAgICByZXR1cm4gbWFrZVJlZihlZS5ycGNfbm9kZS5mdW5jdGlvbkJ5TmFtZShcIkRhdGVcIiwge3ZhbHVlOmVlLnJwY19ub2RlLmNvbnN0YW50KE1hdGguZmxvb3Iob2JqLmdldFRpbWUoKSkpfSkpO1xuICB9XG4gIGlmIChvYmogaW5zdGFuY2VvZiBlZS5FbmNvZGFibGUpIHtcbiAgICByZXR1cm4gbWFrZVJlZihvYmouZW5jb2RlQ2xvdWRWYWx1ZSh0aGlzKSk7XG4gIH1cbiAgaWYgKEFycmF5LmlzQXJyYXkob2JqKSkge1xuICAgIHJldHVybiBtYWtlUmVmKGVlLnJwY19ub2RlLmFycmF5KG9iai5tYXAoZnVuY3Rpb24oeCkge1xuICAgICAgcmV0dXJuIGVlLnJwY19ub2RlLnJlZmVyZW5jZSgkanNjb21wJHRoaXMubWFrZVJlZmVyZW5jZSh4KSk7XG4gICAgfSkpKTtcbiAgfVxuICBpZiAoZ29vZy5pc09iamVjdChvYmopICYmIFwiZnVuY3Rpb25cIiAhPT0gdHlwZW9mIG9iaikge1xuICAgIHZhciB2YWx1ZXMgPSB7fTtcbiAgICBPYmplY3Qua2V5cyhvYmopLnNvcnQoKS5mb3JFYWNoKGZ1bmN0aW9uKGspIHtcbiAgICAgIHZhbHVlc1trXSA9IGVlLnJwY19ub2RlLnJlZmVyZW5jZSgkanNjb21wJHRoaXMubWFrZVJlZmVyZW5jZShvYmpba10pKTtcbiAgICB9KTtcbiAgICByZXR1cm4gbWFrZVJlZihlZS5ycGNfbm9kZS5kaWN0aW9uYXJ5KHZhbHVlcykpO1xuICB9XG4gIHRocm93IEVycm9yKFwiQ2FuJ3QgZW5jb2RlIG9iamVjdDogXCIgKyBvYmopO1xufTtcbnZhciBFeHByZXNzaW9uT3B0aW1pemVyID0gZnVuY3Rpb24ocm9vdFJlZmVyZW5jZSwgdmFsdWVzLCBpc0NvbXBvdW5kKSB7XG4gIHZhciAkanNjb21wJHRoaXMgPSB0aGlzO1xuICB0aGlzLnJvb3RSZWZlcmVuY2UgPSByb290UmVmZXJlbmNlO1xuICB0aGlzLnZhbHVlcyA9IHt9O1xuICB2YWx1ZXMuZm9yRWFjaChmdW5jdGlvbih0dXBsZSkge1xuICAgIHJldHVybiAkanNjb21wJHRoaXMudmFsdWVzW3R1cGxlWzBdXSA9IHR1cGxlWzFdO1xuICB9KTtcbiAgdGhpcy5yZWZlcmVuY2VDb3VudHMgPSBpc0NvbXBvdW5kID8gdGhpcy5jb3VudFJlZmVyZW5jZXMoKSA6IG51bGw7XG4gIHRoaXMub3B0aW1pemVkVmFsdWVzID0ge307XG4gIHRoaXMucmVmZXJlbmNlTWFwID0ge307XG4gIHRoaXMubmV4dE1hcHBlZFJlZiA9IDA7XG59O1xuRXhwcmVzc2lvbk9wdGltaXplci5wcm90b3R5cGUub3B0aW1pemUgPSBmdW5jdGlvbigpIHtcbiAgdmFyIHJlc3VsdCA9IHRoaXMub3B0aW1pemVSZWZlcmVuY2UodGhpcy5yb290UmVmZXJlbmNlKTtcbiAgcmV0dXJuIG5ldyBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkV4cHJlc3Npb24oe3Jlc3VsdDpyZXN1bHQsIHZhbHVlczp0aGlzLm9wdGltaXplZFZhbHVlcyx9KTtcbn07XG5FeHByZXNzaW9uT3B0aW1pemVyLnByb3RvdHlwZS5vcHRpbWl6ZVJlZmVyZW5jZSA9IGZ1bmN0aW9uKHJlZikge1xuICBpZiAocmVmIGluIHRoaXMucmVmZXJlbmNlTWFwKSB7XG4gICAgcmV0dXJuIHRoaXMucmVmZXJlbmNlTWFwW3JlZl07XG4gIH1cbiAgdmFyIG1hcHBlZFJlZiA9IFN0cmluZyh0aGlzLm5leHRNYXBwZWRSZWYrKyk7XG4gIHRoaXMucmVmZXJlbmNlTWFwW3JlZl0gPSBtYXBwZWRSZWY7XG4gIHRoaXMub3B0aW1pemVkVmFsdWVzW21hcHBlZFJlZl0gPSB0aGlzLm9wdGltaXplVmFsdWUodGhpcy52YWx1ZXNbcmVmXSwgMCk7XG4gIHJldHVybiBtYXBwZWRSZWY7XG59O1xuRXhwcmVzc2lvbk9wdGltaXplci5wcm90b3R5cGUub3B0aW1pemVWYWx1ZSA9IGZ1bmN0aW9uKHZhbHVlLCBkZXB0aCkge1xuICB2YXIgJGpzY29tcCR0aGlzID0gdGhpcywgaXNDb25zdCA9IGZ1bmN0aW9uKHYpIHtcbiAgICByZXR1cm4gbnVsbCAhPT0gdi5jb25zdGFudFZhbHVlO1xuICB9LCBzZXJpYWxpemVDb25zdCA9IGZ1bmN0aW9uKHYpIHtcbiAgICByZXR1cm4gdiA9PT0gbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5OVUxMX1ZBTFVFID8gbnVsbCA6IHY7XG4gIH07XG4gIGlmIChpc0NvbnN0KHZhbHVlKSB8fCBudWxsICE9IHZhbHVlLmludGVnZXJWYWx1ZSB8fCBudWxsICE9IHZhbHVlLmJ5dGVzVmFsdWUgfHwgbnVsbCAhPSB2YWx1ZS5hcmd1bWVudFJlZmVyZW5jZSkge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuICBpZiAobnVsbCAhPSB2YWx1ZS52YWx1ZVJlZmVyZW5jZSkge1xuICAgIHZhciB2YWwgPSB0aGlzLnZhbHVlc1t2YWx1ZS52YWx1ZVJlZmVyZW5jZV07XG4gICAgcmV0dXJuIG51bGwgPT09IHRoaXMucmVmZXJlbmNlQ291bnRzIHx8IDUwID4gZGVwdGggJiYgMSA9PT0gdGhpcy5yZWZlcmVuY2VDb3VudHNbdmFsdWUudmFsdWVSZWZlcmVuY2VdID8gdGhpcy5vcHRpbWl6ZVZhbHVlKHZhbCwgZGVwdGgpIDogRXhwcmVzc2lvbk9wdGltaXplci5pc0Fsd2F5c0xpZnRhYmxlKHZhbCkgPyB2YWwgOiBlZS5ycGNfbm9kZS5yZWZlcmVuY2UodGhpcy5vcHRpbWl6ZVJlZmVyZW5jZSh2YWx1ZS52YWx1ZVJlZmVyZW5jZSkpO1xuICB9XG4gIGlmIChudWxsICE9IHZhbHVlLmFycmF5VmFsdWUpIHtcbiAgICB2YXIgYXJyID0gdmFsdWUuYXJyYXlWYWx1ZS52YWx1ZXMubWFwKGZ1bmN0aW9uKHYpIHtcbiAgICAgIHJldHVybiAkanNjb21wJHRoaXMub3B0aW1pemVWYWx1ZSh2LCBkZXB0aCArIDMpO1xuICAgIH0pO1xuICAgIHJldHVybiBhcnIuZXZlcnkoaXNDb25zdCkgPyBlZS5ycGNfbm9kZS5jb25zdGFudChhcnIubWFwKGZ1bmN0aW9uKHYpIHtcbiAgICAgIHJldHVybiBzZXJpYWxpemVDb25zdCh2LmNvbnN0YW50VmFsdWUpO1xuICAgIH0pKSA6IGVlLnJwY19ub2RlLmFycmF5KGFycik7XG4gIH1cbiAgaWYgKG51bGwgIT0gdmFsdWUuZGljdGlvbmFyeVZhbHVlKSB7XG4gICAgZm9yICh2YXIgdmFsdWVzID0ge30sIGNvbnN0YW50VmFsdWVzID0ge30sICRqc2NvbXAkaXRlciQzMiA9ICRqc2NvbXAubWFrZUl0ZXJhdG9yKE9iamVjdC5lbnRyaWVzKHZhbHVlLmRpY3Rpb25hcnlWYWx1ZS52YWx1ZXMgfHwge30pKSwgJGpzY29tcCRrZXkkID0gJGpzY29tcCRpdGVyJDMyLm5leHQoKTsgISRqc2NvbXAka2V5JC5kb25lOyAkanNjb21wJGtleSQgPSAkanNjb21wJGl0ZXIkMzIubmV4dCgpKSB7XG4gICAgICB2YXIgJGpzY29tcCRkZXN0cnVjdHVyaW5nJHZhcjQ1ID0gJGpzY29tcC5tYWtlSXRlcmF0b3IoJGpzY29tcCRrZXkkLnZhbHVlKSwgayA9ICRqc2NvbXAkZGVzdHJ1Y3R1cmluZyR2YXI0NS5uZXh0KCkudmFsdWUsIHYkanNjb21wJDAgPSAkanNjb21wJGRlc3RydWN0dXJpbmckdmFyNDUubmV4dCgpLnZhbHVlO1xuICAgICAgdmFsdWVzW2tdID0gdGhpcy5vcHRpbWl6ZVZhbHVlKHYkanNjb21wJDAsIGRlcHRoICsgMyk7XG4gICAgICBudWxsICE9PSBjb25zdGFudFZhbHVlcyAmJiBpc0NvbnN0KHZhbHVlc1trXSkgPyBjb25zdGFudFZhbHVlc1trXSA9IHNlcmlhbGl6ZUNvbnN0KHZhbHVlc1trXS5jb25zdGFudFZhbHVlKSA6IGNvbnN0YW50VmFsdWVzID0gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIG51bGwgIT09IGNvbnN0YW50VmFsdWVzID8gZWUucnBjX25vZGUuY29uc3RhbnQoY29uc3RhbnRWYWx1ZXMpIDogZWUucnBjX25vZGUuZGljdGlvbmFyeSh2YWx1ZXMpO1xuICB9XG4gIGlmIChudWxsICE9IHZhbHVlLmZ1bmN0aW9uRGVmaW5pdGlvblZhbHVlKSB7XG4gICAgdmFyIGRlZiA9IHZhbHVlLmZ1bmN0aW9uRGVmaW5pdGlvblZhbHVlO1xuICAgIHJldHVybiBlZS5ycGNfbm9kZS5mdW5jdGlvbkRlZmluaXRpb24oZGVmLmFyZ3VtZW50TmFtZXMgfHwgW10sIHRoaXMub3B0aW1pemVSZWZlcmVuY2UoZGVmLmJvZHkgfHwgXCJcIikpO1xuICB9XG4gIGlmIChudWxsICE9IHZhbHVlLmZ1bmN0aW9uSW52b2NhdGlvblZhbHVlKSB7XG4gICAgZm9yICh2YXIgaW52ID0gdmFsdWUuZnVuY3Rpb25JbnZvY2F0aW9uVmFsdWUsIGFyZ3MgPSB7fSwgJGpzY29tcCRpdGVyJDMzID0gJGpzY29tcC5tYWtlSXRlcmF0b3IoT2JqZWN0LmtleXMoaW52LmFyZ3VtZW50cyB8fCB7fSkpLCAkanNjb21wJGtleSRrID0gJGpzY29tcCRpdGVyJDMzLm5leHQoKTsgISRqc2NvbXAka2V5JGsuZG9uZTsgJGpzY29tcCRrZXkkayA9ICRqc2NvbXAkaXRlciQzMy5uZXh0KCkpIHtcbiAgICAgIHZhciBrJDYzID0gJGpzY29tcCRrZXkkay52YWx1ZTtcbiAgICAgIGFyZ3NbayQ2M10gPSB0aGlzLm9wdGltaXplVmFsdWUoaW52LmFyZ3VtZW50c1trJDYzXSwgZGVwdGggKyAzKTtcbiAgICB9XG4gICAgcmV0dXJuIGludi5mdW5jdGlvbk5hbWUgPyBlZS5ycGNfbm9kZS5mdW5jdGlvbkJ5TmFtZShpbnYuZnVuY3Rpb25OYW1lLCBhcmdzKSA6IGVlLnJwY19ub2RlLmZ1bmN0aW9uQnlSZWZlcmVuY2UodGhpcy5vcHRpbWl6ZVJlZmVyZW5jZShpbnYuZnVuY3Rpb25SZWZlcmVuY2UgfHwgXCJcIiksIGFyZ3MpO1xuICB9XG4gIHRocm93IEVycm9yKFwiQ2FuJ3Qgb3B0aW1pemUgdmFsdWU6IFwiICsgdmFsdWUpO1xufTtcbkV4cHJlc3Npb25PcHRpbWl6ZXIuaXNBbHdheXNMaWZ0YWJsZSA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gIHZhciBjb25zdGFudCA9IHZhbHVlLmNvbnN0YW50VmFsdWU7XG4gIHJldHVybiBudWxsICE9PSBjb25zdGFudCA/IGNvbnN0YW50ID09PSBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0Lk5VTExfVkFMVUUgfHwgXCJudW1iZXJcIiA9PT0gdHlwZW9mIGNvbnN0YW50IHx8IFwiYm9vbGVhblwiID09PSB0eXBlb2YgY29uc3RhbnQgOiBudWxsICE9IHZhbHVlLmFyZ3VtZW50UmVmZXJlbmNlO1xufTtcbkV4cHJlc3Npb25PcHRpbWl6ZXIucHJvdG90eXBlLmNvdW50UmVmZXJlbmNlcyA9IGZ1bmN0aW9uKCkge1xuICB2YXIgJGpzY29tcCR0aGlzID0gdGhpcywgY291bnRzID0ge30sIHZpc2l0UmVmZXJlbmNlID0gZnVuY3Rpb24ocmVmZXJlbmNlKSB7XG4gICAgY291bnRzW3JlZmVyZW5jZV0gPyBjb3VudHNbcmVmZXJlbmNlXSsrIDogKGNvdW50c1tyZWZlcmVuY2VdID0gMSwgdmlzaXRWYWx1ZSgkanNjb21wJHRoaXMudmFsdWVzW3JlZmVyZW5jZV0pKTtcbiAgfSwgdmlzaXRWYWx1ZSA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgaWYgKG51bGwgIT0gdmFsdWUuYXJyYXlWYWx1ZSkge1xuICAgICAgdmFsdWUuYXJyYXlWYWx1ZS52YWx1ZXMuZm9yRWFjaCh2aXNpdFZhbHVlKTtcbiAgICB9IGVsc2UgaWYgKG51bGwgIT0gdmFsdWUuZGljdGlvbmFyeVZhbHVlKSB7XG4gICAgICBPYmplY3QudmFsdWVzKHZhbHVlLmRpY3Rpb25hcnlWYWx1ZS52YWx1ZXMpLmZvckVhY2godmlzaXRWYWx1ZSk7XG4gICAgfSBlbHNlIGlmIChudWxsICE9IHZhbHVlLmZ1bmN0aW9uRGVmaW5pdGlvblZhbHVlKSB7XG4gICAgICB2aXNpdFJlZmVyZW5jZSh2YWx1ZS5mdW5jdGlvbkRlZmluaXRpb25WYWx1ZS5ib2R5KTtcbiAgICB9IGVsc2UgaWYgKG51bGwgIT0gdmFsdWUuZnVuY3Rpb25JbnZvY2F0aW9uVmFsdWUpIHtcbiAgICAgIHZhciBpbnYgPSB2YWx1ZS5mdW5jdGlvbkludm9jYXRpb25WYWx1ZTtcbiAgICAgIG51bGwgIT0gaW52LmZ1bmN0aW9uUmVmZXJlbmNlICYmIHZpc2l0UmVmZXJlbmNlKGludi5mdW5jdGlvblJlZmVyZW5jZSk7XG4gICAgICBPYmplY3QudmFsdWVzKGludi5hcmd1bWVudHMpLmZvckVhY2godmlzaXRWYWx1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG51bGwgIT0gdmFsdWUudmFsdWVSZWZlcmVuY2UgJiYgdmlzaXRSZWZlcmVuY2UodmFsdWUudmFsdWVSZWZlcmVuY2UpO1xuICAgIH1cbiAgfTtcbiAgdmlzaXRSZWZlcmVuY2UodGhpcy5yb290UmVmZXJlbmNlKTtcbiAgcmV0dXJuIGNvdW50cztcbn07XG5lZS5ycGNfY29udmVydF9iYXRjaCA9IHt9O1xuZWUucnBjX2NvbnZlcnRfYmF0Y2guRXhwb3J0RGVzdGluYXRpb24gPSB7RFJJVkU6XCJEUklWRVwiLCBHQ1M6XCJHT09HTEVfQ0xPVURfU1RPUkFHRVwiLCBBU1NFVDpcIkFTU0VUXCIsIEZFQVRVUkVfVklFVzpcIkZFQVRVUkVfVklFV1wiLCBCSUdRVUVSWTpcIkJJR1FVRVJZXCIsfTtcbmVlLnJwY19jb252ZXJ0X2JhdGNoLnRhc2tUb0V4cG9ydEltYWdlUmVxdWVzdCA9IGZ1bmN0aW9uKHBhcmFtcykge1xuICBpZiAobnVsbCA9PSBwYXJhbXMuZWxlbWVudCkge1xuICAgIHRocm93IEVycm9yKCdcImVsZW1lbnRcIiBub3QgZm91bmQgaW4gcGFyYW1zICcgKyBwYXJhbXMpO1xuICB9XG4gIHZhciByZXN1bHQgPSBuZXcgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5FeHBvcnRJbWFnZVJlcXVlc3Qoe2V4cHJlc3Npb246ZWUuU2VyaWFsaXplci5lbmNvZGVDbG91ZEFwaUV4cHJlc3Npb24ocGFyYW1zLmVsZW1lbnQpLCBkZXNjcmlwdGlvbjpzdHJpbmdPck51bGxfKHBhcmFtcy5kZXNjcmlwdGlvbiksIGZpbGVFeHBvcnRPcHRpb25zOm51bGwsIGFzc2V0RXhwb3J0T3B0aW9uczpudWxsLCBncmlkOm51bGwsIG1heFBpeGVsczpzdHJpbmdPck51bGxfKHBhcmFtcy5tYXhQaXhlbHMpLCByZXF1ZXN0SWQ6c3RyaW5nT3JOdWxsXyhwYXJhbXMuaWQpLCBtYXhXb3JrZXJzOm51bWJlck9yTnVsbF8ocGFyYW1zLm1heFdvcmtlcnMpfSksIGRlc3RpbmF0aW9uID0gZWUucnBjX2NvbnZlcnRfYmF0Y2guZ3Vlc3NEZXN0aW5hdGlvbl8ocGFyYW1zKTtcbiAgc3dpdGNoKGRlc3RpbmF0aW9uKSB7XG4gICAgY2FzZSBlZS5ycGNfY29udmVydF9iYXRjaC5FeHBvcnREZXN0aW5hdGlvbi5HQ1M6XG4gICAgY2FzZSBlZS5ycGNfY29udmVydF9iYXRjaC5FeHBvcnREZXN0aW5hdGlvbi5EUklWRTpcbiAgICAgIHJlc3VsdC5maWxlRXhwb3J0T3B0aW9ucyA9IGVlLnJwY19jb252ZXJ0X2JhdGNoLmJ1aWxkSW1hZ2VGaWxlRXhwb3J0T3B0aW9uc18ocGFyYW1zLCBkZXN0aW5hdGlvbik7XG4gICAgICBicmVhaztcbiAgICBjYXNlIGVlLnJwY19jb252ZXJ0X2JhdGNoLkV4cG9ydERlc3RpbmF0aW9uLkFTU0VUOlxuICAgICAgcmVzdWx0LmFzc2V0RXhwb3J0T3B0aW9ucyA9IGVlLnJwY19jb252ZXJ0X2JhdGNoLmJ1aWxkSW1hZ2VBc3NldEV4cG9ydE9wdGlvbnNfKHBhcmFtcyk7XG4gICAgICBicmVhaztcbiAgICBkZWZhdWx0OlxuICAgICAgdGhyb3cgRXJyb3IoJ0V4cG9ydCBkZXN0aW5hdGlvbiBcIicgKyBkZXN0aW5hdGlvbiArICdcIiB1bmtub3duJyk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5lZS5ycGNfY29udmVydF9iYXRjaC50YXNrVG9FeHBvcnRUYWJsZVJlcXVlc3QgPSBmdW5jdGlvbihwYXJhbXMpIHtcbiAgaWYgKG51bGwgPT0gcGFyYW1zLmVsZW1lbnQpIHtcbiAgICB0aHJvdyBFcnJvcignXCJlbGVtZW50XCIgbm90IGZvdW5kIGluIHBhcmFtcyAnICsgcGFyYW1zKTtcbiAgfVxuICB2YXIgc2VsZWN0b3JzID0gcGFyYW1zLnNlbGVjdG9ycyB8fCBudWxsO1xuICBudWxsICE9IHNlbGVjdG9ycyAmJiBcInN0cmluZ1wiID09PSB0eXBlb2Ygc2VsZWN0b3JzICYmIChzZWxlY3RvcnMgPSBzZWxlY3RvcnMuc3BsaXQoXCIsXCIpKTtcbiAgdmFyIHJlc3VsdCA9IG5ldyBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkV4cG9ydFRhYmxlUmVxdWVzdCh7ZXhwcmVzc2lvbjplZS5TZXJpYWxpemVyLmVuY29kZUNsb3VkQXBpRXhwcmVzc2lvbihwYXJhbXMuZWxlbWVudCksIGRlc2NyaXB0aW9uOnN0cmluZ09yTnVsbF8ocGFyYW1zLmRlc2NyaXB0aW9uKSwgZmlsZUV4cG9ydE9wdGlvbnM6bnVsbCwgYXNzZXRFeHBvcnRPcHRpb25zOm51bGwsIGZlYXR1cmVWaWV3RXhwb3J0T3B0aW9uczpudWxsLCBzZWxlY3RvcnM6c2VsZWN0b3JzLCBtYXhFcnJvck1ldGVyczpudW1iZXJPck51bGxfKHBhcmFtcy5tYXhFcnJvck1ldGVycyksIHJlcXVlc3RJZDpzdHJpbmdPck51bGxfKHBhcmFtcy5pZCksIG1heFZlcnRpY2VzOm51bWJlck9yTnVsbF8ocGFyYW1zLm1heFZlcnRpY2VzKSwgbWF4V29ya2VyczpudW1iZXJPck51bGxfKHBhcmFtcy5tYXhXb3JrZXJzKX0pLCBcbiAgZGVzdGluYXRpb24gPSBlZS5ycGNfY29udmVydF9iYXRjaC5ndWVzc0Rlc3RpbmF0aW9uXyhwYXJhbXMpO1xuICBzd2l0Y2goZGVzdGluYXRpb24pIHtcbiAgICBjYXNlIGVlLnJwY19jb252ZXJ0X2JhdGNoLkV4cG9ydERlc3RpbmF0aW9uLkdDUzpcbiAgICBjYXNlIGVlLnJwY19jb252ZXJ0X2JhdGNoLkV4cG9ydERlc3RpbmF0aW9uLkRSSVZFOlxuICAgICAgcmVzdWx0LmZpbGVFeHBvcnRPcHRpb25zID0gZWUucnBjX2NvbnZlcnRfYmF0Y2guYnVpbGRUYWJsZUZpbGVFeHBvcnRPcHRpb25zXyhwYXJhbXMsIGRlc3RpbmF0aW9uKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgZWUucnBjX2NvbnZlcnRfYmF0Y2guRXhwb3J0RGVzdGluYXRpb24uQVNTRVQ6XG4gICAgICByZXN1bHQuYXNzZXRFeHBvcnRPcHRpb25zID0gZWUucnBjX2NvbnZlcnRfYmF0Y2guYnVpbGRUYWJsZUFzc2V0RXhwb3J0T3B0aW9uc18ocGFyYW1zKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgZWUucnBjX2NvbnZlcnRfYmF0Y2guRXhwb3J0RGVzdGluYXRpb24uRkVBVFVSRV9WSUVXOlxuICAgICAgcmVzdWx0LmZlYXR1cmVWaWV3RXhwb3J0T3B0aW9ucyA9IGVlLnJwY19jb252ZXJ0X2JhdGNoLmJ1aWxkRmVhdHVyZVZpZXdFeHBvcnRPcHRpb25zXyhwYXJhbXMpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBlZS5ycGNfY29udmVydF9iYXRjaC5FeHBvcnREZXN0aW5hdGlvbi5CSUdRVUVSWTpcbiAgICAgIHJlc3VsdC5iaWdxdWVyeUV4cG9ydE9wdGlvbnMgPSBlZS5ycGNfY29udmVydF9iYXRjaC5idWlsZEJpZ1F1ZXJ5RXhwb3J0T3B0aW9uc18ocGFyYW1zKTtcbiAgICAgIGJyZWFrO1xuICAgIGRlZmF1bHQ6XG4gICAgICB0aHJvdyBFcnJvcignRXhwb3J0IGRlc3RpbmF0aW9uIFwiJyArIGRlc3RpbmF0aW9uICsgJ1wiIHVua25vd24nKTtcbiAgfVxuICBwYXJhbXMud29ya2xvYWRUYWcgJiYgKHJlc3VsdC53b3JrbG9hZFRhZyA9IHBhcmFtcy53b3JrbG9hZFRhZyk7XG4gIHJldHVybiByZXN1bHQ7XG59O1xuZWUucnBjX2NvbnZlcnRfYmF0Y2gudGFza1RvRXhwb3J0VmlkZW9SZXF1ZXN0ID0gZnVuY3Rpb24ocGFyYW1zKSB7XG4gIGlmIChudWxsID09IHBhcmFtcy5lbGVtZW50KSB7XG4gICAgdGhyb3cgRXJyb3IoJ1wiZWxlbWVudFwiIG5vdCBmb3VuZCBpbiBwYXJhbXMgJyArIHBhcmFtcyk7XG4gIH1cbiAgdmFyIHJlc3VsdCA9IG5ldyBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkV4cG9ydFZpZGVvUmVxdWVzdCh7ZXhwcmVzc2lvbjplZS5TZXJpYWxpemVyLmVuY29kZUNsb3VkQXBpRXhwcmVzc2lvbihwYXJhbXMuZWxlbWVudCksIGRlc2NyaXB0aW9uOnN0cmluZ09yTnVsbF8ocGFyYW1zLmRlc2NyaXB0aW9uKSwgdmlkZW9PcHRpb25zOmVlLnJwY19jb252ZXJ0X2JhdGNoLmJ1aWxkVmlkZW9PcHRpb25zXyhwYXJhbXMpLCBmaWxlRXhwb3J0T3B0aW9uczpudWxsLCByZXF1ZXN0SWQ6c3RyaW5nT3JOdWxsXyhwYXJhbXMuaWQpLCBtYXhXb3JrZXJzOm51bWJlck9yTnVsbF8ocGFyYW1zLm1heFdvcmtlcnMpfSk7XG4gIHJlc3VsdC5maWxlRXhwb3J0T3B0aW9ucyA9IGVlLnJwY19jb252ZXJ0X2JhdGNoLmJ1aWxkVmlkZW9GaWxlRXhwb3J0T3B0aW9uc18ocGFyYW1zLCBlZS5ycGNfY29udmVydF9iYXRjaC5ndWVzc0Rlc3RpbmF0aW9uXyhwYXJhbXMpKTtcbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5lZS5ycGNfY29udmVydF9iYXRjaC50YXNrVG9FeHBvcnRNYXBSZXF1ZXN0ID0gZnVuY3Rpb24ocGFyYW1zKSB7XG4gIGlmIChudWxsID09IHBhcmFtcy5lbGVtZW50KSB7XG4gICAgdGhyb3cgRXJyb3IoJ1wiZWxlbWVudFwiIG5vdCBmb3VuZCBpbiBwYXJhbXMgJyArIHBhcmFtcyk7XG4gIH1cbiAgcmV0dXJuIG5ldyBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkV4cG9ydE1hcFJlcXVlc3Qoe2V4cHJlc3Npb246ZWUuU2VyaWFsaXplci5lbmNvZGVDbG91ZEFwaUV4cHJlc3Npb24ocGFyYW1zLmVsZW1lbnQpLCBkZXNjcmlwdGlvbjpzdHJpbmdPck51bGxfKHBhcmFtcy5kZXNjcmlwdGlvbiksIHRpbGVPcHRpb25zOmVlLnJwY19jb252ZXJ0X2JhdGNoLmJ1aWxkVGlsZU9wdGlvbnNfKHBhcmFtcyksIHRpbGVFeHBvcnRPcHRpb25zOmVlLnJwY19jb252ZXJ0X2JhdGNoLmJ1aWxkSW1hZ2VGaWxlRXhwb3J0T3B0aW9uc18ocGFyYW1zLCBlZS5ycGNfY29udmVydF9iYXRjaC5FeHBvcnREZXN0aW5hdGlvbi5HQ1MpLCByZXF1ZXN0SWQ6c3RyaW5nT3JOdWxsXyhwYXJhbXMuaWQpLCBtYXhXb3JrZXJzOm51bWJlck9yTnVsbF8ocGFyYW1zLm1heFdvcmtlcnMpfSk7XG59O1xuZWUucnBjX2NvbnZlcnRfYmF0Y2gudGFza1RvRXhwb3J0VmlkZW9NYXBSZXF1ZXN0ID0gZnVuY3Rpb24ocGFyYW1zKSB7XG4gIGlmIChudWxsID09IHBhcmFtcy5lbGVtZW50KSB7XG4gICAgdGhyb3cgRXJyb3IoJ1wiZWxlbWVudFwiIG5vdCBmb3VuZCBpbiBwYXJhbXMgJyArIHBhcmFtcyk7XG4gIH1cbiAgcmV0dXJuIG5ldyBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkV4cG9ydFZpZGVvTWFwUmVxdWVzdCh7ZXhwcmVzc2lvbjplZS5TZXJpYWxpemVyLmVuY29kZUNsb3VkQXBpRXhwcmVzc2lvbihwYXJhbXMuZWxlbWVudCksIGRlc2NyaXB0aW9uOnN0cmluZ09yTnVsbF8ocGFyYW1zLmRlc2NyaXB0aW9uKSwgdmlkZW9PcHRpb25zOmVlLnJwY19jb252ZXJ0X2JhdGNoLmJ1aWxkVmlkZW9NYXBPcHRpb25zXyhwYXJhbXMpLCB0aWxlT3B0aW9uczplZS5ycGNfY29udmVydF9iYXRjaC5idWlsZFRpbGVPcHRpb25zXyhwYXJhbXMpLCB0aWxlRXhwb3J0T3B0aW9uczplZS5ycGNfY29udmVydF9iYXRjaC5idWlsZFZpZGVvRmlsZUV4cG9ydE9wdGlvbnNfKHBhcmFtcywgZWUucnBjX2NvbnZlcnRfYmF0Y2guRXhwb3J0RGVzdGluYXRpb24uR0NTKSwgcmVxdWVzdElkOnN0cmluZ09yTnVsbF8ocGFyYW1zLmlkKSwgXG4gIHZlcnNpb246c3RyaW5nT3JOdWxsXyhwYXJhbXMudmVyc2lvbiksIG1heFdvcmtlcnM6bnVtYmVyT3JOdWxsXyhwYXJhbXMubWF4V29ya2Vycyl9KTtcbn07XG5lZS5ycGNfY29udmVydF9iYXRjaC50YXNrVG9FeHBvcnRDbGFzc2lmaWVyUmVxdWVzdCA9IGZ1bmN0aW9uKHBhcmFtcykge1xuICBpZiAobnVsbCA9PSBwYXJhbXMuZWxlbWVudCkge1xuICAgIHRocm93IEVycm9yKCdcImVsZW1lbnRcIiBub3QgZm91bmQgaW4gcGFyYW1zICcgKyBwYXJhbXMpO1xuICB9XG4gIHZhciBkZXN0aW5hdGlvbiA9IGVlLnJwY19jb252ZXJ0X2JhdGNoLmd1ZXNzRGVzdGluYXRpb25fKHBhcmFtcyk7XG4gIGlmIChkZXN0aW5hdGlvbiAhPSBlZS5ycGNfY29udmVydF9iYXRjaC5FeHBvcnREZXN0aW5hdGlvbi5BU1NFVCkge1xuICAgIHRocm93IEVycm9yKCdFeHBvcnQgZGVzdGluYXRpb24gXCInICsgZGVzdGluYXRpb24gKyAnXCIgdW5rbm93bicpO1xuICB9XG4gIHJldHVybiBuZXcgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5FeHBvcnRDbGFzc2lmaWVyUmVxdWVzdCh7ZXhwcmVzc2lvbjplZS5TZXJpYWxpemVyLmVuY29kZUNsb3VkQXBpRXhwcmVzc2lvbihwYXJhbXMuZWxlbWVudCksIGRlc2NyaXB0aW9uOnN0cmluZ09yTnVsbF8ocGFyYW1zLmRlc2NyaXB0aW9uKSwgcmVxdWVzdElkOnN0cmluZ09yTnVsbF8ocGFyYW1zLmlkKSwgYXNzZXRFeHBvcnRPcHRpb25zOm5ldyBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNsYXNzaWZpZXJBc3NldEV4cG9ydE9wdGlvbnMoe2VhcnRoRW5naW5lRGVzdGluYXRpb246ZWUucnBjX2NvbnZlcnRfYmF0Y2guYnVpbGRFYXJ0aEVuZ2luZURlc3RpbmF0aW9uXyhwYXJhbXMpfSksIG1heFdvcmtlcnM6bnVtYmVyT3JOdWxsXyhwYXJhbXMubWF4V29ya2VycyksXG4gIH0pO1xufTtcbmZ1bmN0aW9uIHN0cmluZ09yTnVsbF8odmFsdWUpIHtcbiAgcmV0dXJuIG51bGwgIT0gdmFsdWUgPyBTdHJpbmcodmFsdWUpIDogbnVsbDtcbn1cbmZ1bmN0aW9uIG51bWJlck9yTnVsbF8odmFsdWUpIHtcbiAgcmV0dXJuIG51bGwgIT0gdmFsdWUgPyBOdW1iZXIodmFsdWUpIDogbnVsbDtcbn1cbmVlLnJwY19jb252ZXJ0X2JhdGNoLmd1ZXNzRGVzdGluYXRpb25fID0gZnVuY3Rpb24ocGFyYW1zKSB7XG4gIHZhciBkZXN0aW5hdGlvbiA9IGVlLnJwY19jb252ZXJ0X2JhdGNoLkV4cG9ydERlc3RpbmF0aW9uLkRSSVZFO1xuICBpZiAobnVsbCA9PSBwYXJhbXMpIHtcbiAgICByZXR1cm4gZGVzdGluYXRpb247XG4gIH1cbiAgbnVsbCAhPSBwYXJhbXMub3V0cHV0QnVja2V0IHx8IG51bGwgIT0gcGFyYW1zLm91dHB1dFByZWZpeCA/IGRlc3RpbmF0aW9uID0gZWUucnBjX2NvbnZlcnRfYmF0Y2guRXhwb3J0RGVzdGluYXRpb24uR0NTIDogbnVsbCAhPSBwYXJhbXMuYXNzZXRJZCA/IGRlc3RpbmF0aW9uID0gZWUucnBjX2NvbnZlcnRfYmF0Y2guRXhwb3J0RGVzdGluYXRpb24uQVNTRVQgOiBudWxsICE9IHBhcmFtcy5tYXBOYW1lICYmIChkZXN0aW5hdGlvbiA9IGVlLnJwY19jb252ZXJ0X2JhdGNoLkV4cG9ydERlc3RpbmF0aW9uLkZFQVRVUkVfVklFVyk7XG4gIHJldHVybiBkZXN0aW5hdGlvbjtcbn07XG5lZS5ycGNfY29udmVydF9iYXRjaC5idWlsZEdlb1RpZmZGb3JtYXRPcHRpb25zXyA9IGZ1bmN0aW9uKHBhcmFtcykge1xuICBpZiAocGFyYW1zLmZpbGVEaW1lbnNpb25zICYmIHBhcmFtcy50aWZmRmlsZURpbWVuc2lvbnMpIHtcbiAgICB0aHJvdyBFcnJvcignRXhwb3J0IGNhbm5vdCBzZXQgYm90aCBcImZpbGVEaW1lbnNpb25zXCIgYW5kIFwidGlmZkZpbGVEaW1lbnNpb25zXCIuJyk7XG4gIH1cbiAgdmFyIHRpbGVTaXplID0gcGFyYW1zLnRpZmZTaGFyZFNpemUgfHwgcGFyYW1zLnNoYXJkU2l6ZTtcbiAgcmV0dXJuIG5ldyBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50Lkdlb1RpZmZJbWFnZUV4cG9ydE9wdGlvbnMoe2Nsb3VkT3B0aW1pemVkOiEhcGFyYW1zLnRpZmZDbG91ZE9wdGltaXplZCwgc2tpcEVtcHR5RmlsZXM6ISghcGFyYW1zLnNraXBFbXB0eVRpbGVzICYmICFwYXJhbXMudGlmZlNraXBFbXB0eUZpbGVzKSwgdGlsZURpbWVuc2lvbnM6ZWUucnBjX2NvbnZlcnRfYmF0Y2guYnVpbGRHcmlkRGltZW5zaW9uc18ocGFyYW1zLmZpbGVEaW1lbnNpb25zIHx8IHBhcmFtcy50aWZmRmlsZURpbWVuc2lvbnMpLCB0aWxlU2l6ZTpudW1iZXJPck51bGxfKHRpbGVTaXplKSx9KTtcbn07XG5lZS5ycGNfY29udmVydF9iYXRjaC5idWlsZFRmUmVjb3JkRm9ybWF0T3B0aW9uc18gPSBmdW5jdGlvbihwYXJhbXMpIHtcbiAgdmFyIHRmUmVjb3JkT3B0aW9ucyA9IG5ldyBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRmUmVjb3JkSW1hZ2VFeHBvcnRPcHRpb25zKHtjb21wcmVzczohIXBhcmFtcy50ZnJlY29yZENvbXByZXNzZWQsIG1heFNpemVCeXRlczpzdHJpbmdPck51bGxfKHBhcmFtcy50ZnJlY29yZE1heEZpbGVTaXplKSwgc2VxdWVuY2VEYXRhOiEhcGFyYW1zLnRmcmVjb3JkU2VxdWVuY2VEYXRhLCBjb2xsYXBzZUJhbmRzOiEhcGFyYW1zLnRmcmVjb3JkQ29sbGFwc2VCYW5kcywgbWF4TWFza2VkUmF0aW86bnVtYmVyT3JOdWxsXyhwYXJhbXMudGZyZWNvcmRNYXNrZWRUaHJlc2hvbGQpLCBkZWZhdWx0VmFsdWU6bnVtYmVyT3JOdWxsXyhwYXJhbXMudGZyZWNvcmREZWZhdWx0VmFsdWUpLCB0aWxlRGltZW5zaW9uczplZS5ycGNfY29udmVydF9iYXRjaC5idWlsZEdyaWREaW1lbnNpb25zXyhwYXJhbXMudGZyZWNvcmRQYXRjaERpbWVuc2lvbnMpLCBcbiAgbWFyZ2luRGltZW5zaW9uczplZS5ycGNfY29udmVydF9iYXRjaC5idWlsZEdyaWREaW1lbnNpb25zXyhwYXJhbXMudGZyZWNvcmRLZXJuZWxTaXplKSwgdGVuc29yRGVwdGhzOm51bGwsfSksIHRlbnNvckRlcHRocyA9IHBhcmFtcy50ZnJlY29yZFRlbnNvckRlcHRocztcbiAgaWYgKG51bGwgIT0gdGVuc29yRGVwdGhzKSB7XG4gICAgaWYgKGdvb2cuaXNPYmplY3QodGVuc29yRGVwdGhzKSkge1xuICAgICAgdmFyIHJlc3VsdCA9IHt9O1xuICAgICAgbW9kdWxlJGNvbnRlbnRzJGdvb2ckb2JqZWN0X2ZvckVhY2godGVuc29yRGVwdGhzLCBmdW5jdGlvbih2LCBrKSB7XG4gICAgICAgIGlmIChcInN0cmluZ1wiICE9PSB0eXBlb2YgayB8fCBcIm51bWJlclwiICE9PSB0eXBlb2Ygdikge1xuICAgICAgICAgIHRocm93IEVycm9yKCdcInRlbnNvckRlcHRoc1wiIG9wdGlvbiBtdXN0IGJlIGFuIG9iamVjdCBvZiB0eXBlIE9iamVjdDxzdHJpbmcsIG51bWJlcj4nKTtcbiAgICAgICAgfVxuICAgICAgICByZXN1bHRba10gPSB2O1xuICAgICAgfSk7XG4gICAgICB0ZlJlY29yZE9wdGlvbnMudGVuc29yRGVwdGhzID0gcmVzdWx0O1xuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBFcnJvcignXCJ0ZW5zb3JEZXB0aHNcIiBvcHRpb24gbmVlZHMgdG8gaGF2ZSB0aGUgZm9ybSBPYmplY3Q8c3RyaW5nLCBudW1iZXI+LicpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdGZSZWNvcmRPcHRpb25zO1xufTtcbmVlLnJwY19jb252ZXJ0X2JhdGNoLmJ1aWxkSW1hZ2VGaWxlRXhwb3J0T3B0aW9uc18gPSBmdW5jdGlvbihwYXJhbXMsIGRlc3RpbmF0aW9uKSB7XG4gIHZhciByZXN1bHQgPSBuZXcgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JbWFnZUZpbGVFeHBvcnRPcHRpb25zKHtjbG91ZFN0b3JhZ2VEZXN0aW5hdGlvbjpudWxsLCBkcml2ZURlc3RpbmF0aW9uOm51bGwsIGdlb1RpZmZPcHRpb25zOm51bGwsIHRmUmVjb3JkT3B0aW9uczpudWxsLCBmaWxlRm9ybWF0OmVlLnJwY19jb252ZXJ0LmZpbGVGb3JtYXQocGFyYW1zLmZpbGVGb3JtYXQpLH0pO1xuICBcIkdFT19USUZGXCIgPT09IHJlc3VsdC5maWxlRm9ybWF0ID8gcmVzdWx0Lmdlb1RpZmZPcHRpb25zID0gZWUucnBjX2NvbnZlcnRfYmF0Y2guYnVpbGRHZW9UaWZmRm9ybWF0T3B0aW9uc18ocGFyYW1zKSA6IFwiVEZfUkVDT1JEX0lNQUdFXCIgPT09IHJlc3VsdC5maWxlRm9ybWF0ICYmIChyZXN1bHQudGZSZWNvcmRPcHRpb25zID0gZWUucnBjX2NvbnZlcnRfYmF0Y2guYnVpbGRUZlJlY29yZEZvcm1hdE9wdGlvbnNfKHBhcmFtcykpO1xuICBkZXN0aW5hdGlvbiA9PT0gZWUucnBjX2NvbnZlcnRfYmF0Y2guRXhwb3J0RGVzdGluYXRpb24uR0NTID8gcmVzdWx0LmNsb3VkU3RvcmFnZURlc3RpbmF0aW9uID0gZWUucnBjX2NvbnZlcnRfYmF0Y2guYnVpbGRDbG91ZFN0b3JhZ2VEZXN0aW5hdGlvbl8ocGFyYW1zKSA6IHJlc3VsdC5kcml2ZURlc3RpbmF0aW9uID0gZWUucnBjX2NvbnZlcnRfYmF0Y2guYnVpbGREcml2ZURlc3RpbmF0aW9uXyhwYXJhbXMpO1xuICByZXR1cm4gcmVzdWx0O1xufTtcbmVlLnJwY19jb252ZXJ0X2JhdGNoLmJ1aWxkSW1hZ2VBc3NldEV4cG9ydE9wdGlvbnNfID0gZnVuY3Rpb24ocGFyYW1zKSB7XG4gIHZhciBhbGxQb2xpY2llcyA9IHBhcmFtcy5weXJhbWlkaW5nUG9saWN5IHx8IHt9O1xuICB0cnkge1xuICAgIGFsbFBvbGljaWVzID0gSlNPTi5wYXJzZShhbGxQb2xpY2llcyk7XG4gIH0gY2F0Y2ggKCRqc2NvbXAkdW51c2VkJGNhdGNoKSB7XG4gIH1cbiAgdmFyIGRlZmF1bHRQeXJhbWlkaW5nUG9saWN5ID0gXCJQWVJBTUlESU5HX1BPTElDWV9VTlNQRUNJRklFRFwiO1xuICBcInN0cmluZ1wiID09PSB0eXBlb2YgYWxsUG9saWNpZXMgPyAoZGVmYXVsdFB5cmFtaWRpbmdQb2xpY3kgPSBhbGxQb2xpY2llcywgYWxsUG9saWNpZXMgPSB7fSkgOiBhbGxQb2xpY2llc1tcIi5kZWZhdWx0XCJdICYmIChkZWZhdWx0UHlyYW1pZGluZ1BvbGljeSA9IGFsbFBvbGljaWVzW1wiLmRlZmF1bHRcIl0sIGRlbGV0ZSBhbGxQb2xpY2llc1tcIi5kZWZhdWx0XCJdKTtcbiAgcmV0dXJuIG5ldyBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkltYWdlQXNzZXRFeHBvcnRPcHRpb25zKHtlYXJ0aEVuZ2luZURlc3RpbmF0aW9uOmVlLnJwY19jb252ZXJ0X2JhdGNoLmJ1aWxkRWFydGhFbmdpbmVEZXN0aW5hdGlvbl8ocGFyYW1zKSwgcHlyYW1pZGluZ1BvbGljeTpkZWZhdWx0UHlyYW1pZGluZ1BvbGljeSwgcHlyYW1pZGluZ1BvbGljeU92ZXJyaWRlczptb2R1bGUkY29udGVudHMkZ29vZyRvYmplY3RfaXNFbXB0eShhbGxQb2xpY2llcykgPyBudWxsIDogYWxsUG9saWNpZXMsIHRpbGVTaXplOm51bWJlck9yTnVsbF8ocGFyYW1zLnNoYXJkU2l6ZSksfSk7XG59O1xuZWUucnBjX2NvbnZlcnRfYmF0Y2guYnVpbGRUYWJsZUZpbGVFeHBvcnRPcHRpb25zXyA9IGZ1bmN0aW9uKHBhcmFtcywgZGVzdGluYXRpb24pIHtcbiAgdmFyIHJlc3VsdCA9IG5ldyBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRhYmxlRmlsZUV4cG9ydE9wdGlvbnMoe2Nsb3VkU3RvcmFnZURlc3RpbmF0aW9uOm51bGwsIGRyaXZlRGVzdGluYXRpb246bnVsbCwgZmlsZUZvcm1hdDplZS5ycGNfY29udmVydC50YWJsZUZpbGVGb3JtYXQocGFyYW1zLmZpbGVGb3JtYXQpLH0pO1xuICBkZXN0aW5hdGlvbiA9PT0gZWUucnBjX2NvbnZlcnRfYmF0Y2guRXhwb3J0RGVzdGluYXRpb24uR0NTID8gcmVzdWx0LmNsb3VkU3RvcmFnZURlc3RpbmF0aW9uID0gZWUucnBjX2NvbnZlcnRfYmF0Y2guYnVpbGRDbG91ZFN0b3JhZ2VEZXN0aW5hdGlvbl8ocGFyYW1zKSA6IHJlc3VsdC5kcml2ZURlc3RpbmF0aW9uID0gZWUucnBjX2NvbnZlcnRfYmF0Y2guYnVpbGREcml2ZURlc3RpbmF0aW9uXyhwYXJhbXMpO1xuICByZXR1cm4gcmVzdWx0O1xufTtcbmVlLnJwY19jb252ZXJ0X2JhdGNoLmJ1aWxkVGFibGVBc3NldEV4cG9ydE9wdGlvbnNfID0gZnVuY3Rpb24ocGFyYW1zKSB7XG4gIHJldHVybiBuZXcgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UYWJsZUFzc2V0RXhwb3J0T3B0aW9ucyh7ZWFydGhFbmdpbmVEZXN0aW5hdGlvbjplZS5ycGNfY29udmVydF9iYXRjaC5idWlsZEVhcnRoRW5naW5lRGVzdGluYXRpb25fKHBhcmFtcyl9KTtcbn07XG5lZS5ycGNfY29udmVydF9iYXRjaC5idWlsZEZlYXR1cmVWaWV3RXhwb3J0T3B0aW9uc18gPSBmdW5jdGlvbihwYXJhbXMpIHtcbiAgcmV0dXJuIG5ldyBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkZlYXR1cmVWaWV3QXNzZXRFeHBvcnRPcHRpb25zKHtmZWF0dXJlVmlld0Rlc3RpbmF0aW9uOmVlLnJwY19jb252ZXJ0X2JhdGNoLmJ1aWxkRmVhdHVyZVZpZXdEZXN0aW5hdGlvbl8ocGFyYW1zKSwgaW5nZXN0aW9uVGltZVBhcmFtZXRlcnM6ZWUucnBjX2NvbnZlcnRfYmF0Y2guYnVpbGRGZWF0dXJlVmlld0luZ2VzdGlvblRpbWVQYXJhbWV0ZXJzXyhwYXJhbXMpLH0pO1xufTtcbmVlLnJwY19jb252ZXJ0X2JhdGNoLmJ1aWxkQmlnUXVlcnlFeHBvcnRPcHRpb25zXyA9IGZ1bmN0aW9uKHBhcmFtcykge1xuICByZXR1cm4gbmV3IG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQmlnUXVlcnlFeHBvcnRPcHRpb25zKHtiaWdRdWVyeURlc3RpbmF0aW9uOmVlLnJwY19jb252ZXJ0X2JhdGNoLmJ1aWxkQmlnUXVlcnlEZXN0aW5hdGlvbl8ocGFyYW1zKSx9KTtcbn07XG5lZS5ycGNfY29udmVydF9iYXRjaC5idWlsZFZpZGVvRmlsZUV4cG9ydE9wdGlvbnNfID0gZnVuY3Rpb24ocGFyYW1zLCBkZXN0aW5hdGlvbikge1xuICB2YXIgcmVzdWx0ID0gbmV3IG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVmlkZW9GaWxlRXhwb3J0T3B0aW9ucyh7Y2xvdWRTdG9yYWdlRGVzdGluYXRpb246bnVsbCwgZHJpdmVEZXN0aW5hdGlvbjpudWxsLCBmaWxlRm9ybWF0OlwiTVA0XCIsfSk7XG4gIGRlc3RpbmF0aW9uID09PSBlZS5ycGNfY29udmVydF9iYXRjaC5FeHBvcnREZXN0aW5hdGlvbi5HQ1MgPyByZXN1bHQuY2xvdWRTdG9yYWdlRGVzdGluYXRpb24gPSBlZS5ycGNfY29udmVydF9iYXRjaC5idWlsZENsb3VkU3RvcmFnZURlc3RpbmF0aW9uXyhwYXJhbXMpIDogcmVzdWx0LmRyaXZlRGVzdGluYXRpb24gPSBlZS5ycGNfY29udmVydF9iYXRjaC5idWlsZERyaXZlRGVzdGluYXRpb25fKHBhcmFtcyk7XG4gIHJldHVybiByZXN1bHQ7XG59O1xuZWUucnBjX2NvbnZlcnRfYmF0Y2guYnVpbGRWaWRlb09wdGlvbnNfID0gZnVuY3Rpb24ocGFyYW1zKSB7XG4gIHJldHVybiBuZXcgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5WaWRlb09wdGlvbnMoe2ZyYW1lc1BlclNlY29uZDpudW1iZXJPck51bGxfKHBhcmFtcy5mcmFtZXNQZXJTZWNvbmQpLCBtYXhGcmFtZXM6bnVtYmVyT3JOdWxsXyhwYXJhbXMubWF4RnJhbWVzKSwgbWF4UGl4ZWxzUGVyRnJhbWU6c3RyaW5nT3JOdWxsXyhwYXJhbXMubWF4UGl4ZWxzKSx9KTtcbn07XG5lZS5ycGNfY29udmVydF9iYXRjaC5idWlsZFZpZGVvTWFwT3B0aW9uc18gPSBmdW5jdGlvbihwYXJhbXMpIHtcbiAgcmV0dXJuIG5ldyBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlZpZGVvT3B0aW9ucyh7ZnJhbWVzUGVyU2Vjb25kOm51bWJlck9yTnVsbF8ocGFyYW1zLmZyYW1lc1BlclNlY29uZCksIG1heEZyYW1lczpudW1iZXJPck51bGxfKHBhcmFtcy5tYXhGcmFtZXMpLCBtYXhQaXhlbHNQZXJGcmFtZTpudWxsLH0pO1xufTtcbmVlLnJwY19jb252ZXJ0X2JhdGNoLmJ1aWxkVGlsZU9wdGlvbnNfID0gZnVuY3Rpb24ocGFyYW1zKSB7XG4gIHZhciAkanNjb21wJG51bGxpc2gkdG1wMSwgJGpzY29tcCRudWxsaXNoJHRtcDIsICRqc2NvbXAkbnVsbGlzaCR0bXAzLCAkanNjb21wJG51bGxpc2gkdG1wNDtcbiAgcmV0dXJuIG5ldyBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRpbGVPcHRpb25zKHtlbmRab29tOm51bWJlck9yTnVsbF8obnVsbCAhPSAoJGpzY29tcCRudWxsaXNoJHRtcDEgPSBwYXJhbXMuZW5kWm9vbSkgPyAkanNjb21wJG51bGxpc2gkdG1wMSA6IHBhcmFtcy5tYXhab29tKSwgc3RhcnRab29tOm51bWJlck9yTnVsbF8obnVsbCAhPSAoJGpzY29tcCRudWxsaXNoJHRtcDIgPSBwYXJhbXMuc3RhcnRab29tKSA/ICRqc2NvbXAkbnVsbGlzaCR0bXAyIDogcGFyYW1zLm1pblpvb20pLCBzY2FsZTpudW1iZXJPck51bGxfKHBhcmFtcy5zY2FsZSksIHNraXBFbXB0eTohKG51bGwgIT0gKCRqc2NvbXAkbnVsbGlzaCR0bXAzID0gcGFyYW1zLnNraXBFbXB0eSkgPyAhJGpzY29tcCRudWxsaXNoJHRtcDMgOiAhcGFyYW1zLnNraXBFbXB0eVRpbGVzKSwgbWFwc0FwaUtleTpzdHJpbmdPck51bGxfKHBhcmFtcy5tYXBzQXBpS2V5KSwgXG4gIGRpbWVuc2lvbnM6ZWUucnBjX2NvbnZlcnRfYmF0Y2guYnVpbGRHcmlkRGltZW5zaW9uc18obnVsbCAhPSAoJGpzY29tcCRudWxsaXNoJHRtcDQgPSBwYXJhbXMuZGltZW5zaW9ucykgPyAkanNjb21wJG51bGxpc2gkdG1wNCA6IHBhcmFtcy50aWxlRGltZW5zaW9ucyksIHN0cmlkZTpudW1iZXJPck51bGxfKHBhcmFtcy5zdHJpZGUpLCB6b29tU3Vic2V0OmVlLnJwY19jb252ZXJ0X2JhdGNoLmJ1aWxkWm9vbVN1YnNldF8obnVtYmVyT3JOdWxsXyhwYXJhbXMubWluVGltZU1hY2hpbmVab29tU3Vic2V0KSwgbnVtYmVyT3JOdWxsXyhwYXJhbXMubWF4VGltZU1hY2hpbmVab29tU3Vic2V0KSksfSk7XG59O1xuZWUucnBjX2NvbnZlcnRfYmF0Y2guYnVpbGRab29tU3Vic2V0XyA9IGZ1bmN0aW9uKHN0YXJ0LCBlbmQpIHtcbiAgcmV0dXJuIG51bGwgPT0gc3RhcnQgJiYgbnVsbCA9PSBlbmQgPyBudWxsIDogbmV3IG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuWm9vbVN1YnNldCh7c3RhcnQ6bnVsbCAhPSBzdGFydCA/IHN0YXJ0IDogMCwgZW5kOmVuZH0pO1xufTtcbmVlLnJwY19jb252ZXJ0X2JhdGNoLmJ1aWxkR3JpZERpbWVuc2lvbnNfID0gZnVuY3Rpb24oZGltZW5zaW9ucykge1xuICBpZiAobnVsbCA9PSBkaW1lbnNpb25zKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgdmFyIHJlc3VsdCA9IG5ldyBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkdyaWREaW1lbnNpb25zKHtoZWlnaHQ6MCwgd2lkdGg6MH0pO1xuICBcInN0cmluZ1wiID09PSB0eXBlb2YgZGltZW5zaW9ucyAmJiAoLTEgIT09IGRpbWVuc2lvbnMuaW5kZXhPZihcInhcIikgPyBkaW1lbnNpb25zID0gZGltZW5zaW9ucy5zcGxpdChcInhcIikubWFwKE51bWJlcikgOiAtMSAhPT0gZGltZW5zaW9ucy5pbmRleE9mKFwiLFwiKSAmJiAoZGltZW5zaW9ucyA9IGRpbWVuc2lvbnMuc3BsaXQoXCIsXCIpLm1hcChOdW1iZXIpKSk7XG4gIGlmIChBcnJheS5pc0FycmF5KGRpbWVuc2lvbnMpKSB7XG4gICAgaWYgKDIgPT09IGRpbWVuc2lvbnMubGVuZ3RoKSB7XG4gICAgICByZXN1bHQuaGVpZ2h0ID0gZGltZW5zaW9uc1swXSwgcmVzdWx0LndpZHRoID0gZGltZW5zaW9uc1sxXTtcbiAgICB9IGVsc2UgaWYgKDEgPT09IGRpbWVuc2lvbnMubGVuZ3RoKSB7XG4gICAgICByZXN1bHQuaGVpZ2h0ID0gZGltZW5zaW9uc1swXSwgcmVzdWx0LndpZHRoID0gZGltZW5zaW9uc1swXTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgRXJyb3IoXCJVbmFibGUgdG8gY29uc3RydWN0IGdyaWQgZnJvbSBkaW1lbnNpb25zOiBcIiArIGRpbWVuc2lvbnMpO1xuICAgIH1cbiAgfSBlbHNlIGlmIChcIm51bWJlclwiICE9PSB0eXBlb2YgZGltZW5zaW9ucyB8fCBpc05hTihkaW1lbnNpb25zKSkge1xuICAgIGlmIChnb29nLmlzT2JqZWN0KGRpbWVuc2lvbnMpICYmIG51bGwgIT0gZGltZW5zaW9ucy5oZWlnaHQgJiYgbnVsbCAhPSBkaW1lbnNpb25zLndpZHRoKSB7XG4gICAgICByZXN1bHQuaGVpZ2h0ID0gZGltZW5zaW9ucy5oZWlnaHQsIHJlc3VsdC53aWR0aCA9IGRpbWVuc2lvbnMud2lkdGg7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IEVycm9yKFwiVW5hYmxlIHRvIGNvbnN0cnVjdCBncmlkIGZyb20gZGltZW5zaW9uczogXCIgKyBkaW1lbnNpb25zKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgcmVzdWx0LmhlaWdodCA9IGRpbWVuc2lvbnMsIHJlc3VsdC53aWR0aCA9IGRpbWVuc2lvbnM7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5lZS5ycGNfY29udmVydF9iYXRjaC5idWlsZENsb3VkU3RvcmFnZURlc3RpbmF0aW9uXyA9IGZ1bmN0aW9uKHBhcmFtcykge1xuICB2YXIgcGVybWlzc2lvbnMgPSBudWxsO1xuICBudWxsICE9IHBhcmFtcy53cml0ZVB1YmxpY1RpbGVzICYmIChwZXJtaXNzaW9ucyA9IHBhcmFtcy53cml0ZVB1YmxpY1RpbGVzID8gXCJQVUJMSUNcIiA6IFwiREVGQVVMVF9PQkpFQ1RfQUNMXCIpO1xuICByZXR1cm4gbmV3IG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ2xvdWRTdG9yYWdlRGVzdGluYXRpb24oe2J1Y2tldDpzdHJpbmdPck51bGxfKHBhcmFtcy5vdXRwdXRCdWNrZXQpLCBmaWxlbmFtZVByZWZpeDpzdHJpbmdPck51bGxfKHBhcmFtcy5vdXRwdXRQcmVmaXgpLCBidWNrZXRDb3JzVXJpczpwYXJhbXMuYnVja2V0Q29yc1VyaXMgfHwgbnVsbCwgcGVybWlzc2lvbnM6cGVybWlzc2lvbnMsfSk7XG59O1xuZWUucnBjX2NvbnZlcnRfYmF0Y2guYnVpbGREcml2ZURlc3RpbmF0aW9uXyA9IGZ1bmN0aW9uKHBhcmFtcykge1xuICByZXR1cm4gbmV3IG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRHJpdmVEZXN0aW5hdGlvbih7Zm9sZGVyOnN0cmluZ09yTnVsbF8ocGFyYW1zLmRyaXZlRm9sZGVyKSwgZmlsZW5hbWVQcmVmaXg6c3RyaW5nT3JOdWxsXyhwYXJhbXMuZHJpdmVGaWxlTmFtZVByZWZpeCksfSk7XG59O1xuZWUucnBjX2NvbnZlcnRfYmF0Y2guYnVpbGRFYXJ0aEVuZ2luZURlc3RpbmF0aW9uXyA9IGZ1bmN0aW9uKHBhcmFtcykge1xuICByZXR1cm4gbmV3IG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRWFydGhFbmdpbmVEZXN0aW5hdGlvbih7bmFtZTplZS5ycGNfY29udmVydC5hc3NldElkVG9Bc3NldE5hbWUocGFyYW1zLmFzc2V0SWQpfSk7XG59O1xuZWUucnBjX2NvbnZlcnRfYmF0Y2guYnVpbGRGZWF0dXJlVmlld0Rlc3RpbmF0aW9uXyA9IGZ1bmN0aW9uKHBhcmFtcykge1xuICByZXR1cm4gbmV3IG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRmVhdHVyZVZpZXdEZXN0aW5hdGlvbih7bmFtZTplZS5ycGNfY29udmVydC5hc3NldElkVG9Bc3NldE5hbWUocGFyYW1zLm1hcE5hbWUpfSk7XG59O1xuZWUucnBjX2NvbnZlcnRfYmF0Y2guYnVpbGRCaWdRdWVyeURlc3RpbmF0aW9uXyA9IGZ1bmN0aW9uKHBhcmFtcykge1xuICByZXR1cm4gbmV3IG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQmlnUXVlcnlEZXN0aW5hdGlvbih7dGFibGU6c3RyaW5nT3JOdWxsXyhwYXJhbXMudGFibGUpLCBvdmVyd3JpdGU6ISFwYXJhbXMub3ZlcndyaXRlLH0pO1xufTtcbmVlLnJwY19jb252ZXJ0X2JhdGNoLmJ1aWxkRmVhdHVyZVZpZXdJbmdlc3Rpb25UaW1lUGFyYW1ldGVyc18gPSBmdW5jdGlvbihwYXJhbXMpIHtcbiAgcmV0dXJuIG5ldyBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkZlYXR1cmVWaWV3SW5nZXN0aW9uVGltZVBhcmFtZXRlcnMoe3RoaW5uaW5nT3B0aW9uczplZS5ycGNfY29udmVydF9iYXRjaC5idWlsZFRoaW5uaW5nT3B0aW9uc18ocGFyYW1zKSwgcmFua2luZ09wdGlvbnM6ZWUucnBjX2NvbnZlcnRfYmF0Y2guYnVpbGRSYW5raW5nT3B0aW9uc18ocGFyYW1zKX0pO1xufTtcbmVlLnJwY19jb252ZXJ0X2JhdGNoLmJ1aWxkVGhpbm5pbmdPcHRpb25zXyA9IGZ1bmN0aW9uKHBhcmFtcykge1xuICByZXR1cm4gbnVsbCA9PSBwYXJhbXMgPyBudWxsIDogbmV3IG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGhpbm5pbmdPcHRpb25zKHttYXhGZWF0dXJlc1BlclRpbGU6bnVtYmVyT3JOdWxsXyhwYXJhbXMubWF4RmVhdHVyZXNQZXJUaWxlKSwgdGhpbm5pbmdTdHJhdGVneTpwYXJhbXMudGhpbm5pbmdTdHJhdGVneX0pO1xufTtcbmVlLnJwY19jb252ZXJ0X2JhdGNoLmJ1aWxkUmFua2luZ09wdGlvbnNfID0gZnVuY3Rpb24ocGFyYW1zKSB7XG4gIHJldHVybiBudWxsID09IHBhcmFtcyA/IG51bGwgOiBuZXcgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5SYW5raW5nT3B0aW9ucyh7ek9yZGVyUmFua2luZ1J1bGU6ZWUucnBjX2NvbnZlcnRfYmF0Y2guYnVpbGRSYW5raW5nUnVsZV8ocGFyYW1zLnpPcmRlclJhbmtpbmcpLCB0aGlubmluZ1JhbmtpbmdSdWxlOmVlLnJwY19jb252ZXJ0X2JhdGNoLmJ1aWxkUmFua2luZ1J1bGVfKHBhcmFtcy50aGlubmluZ1JhbmtpbmcpLH0pO1xufTtcbmVlLnJwY19jb252ZXJ0X2JhdGNoLmJ1aWxkUmFua2luZ1J1bGVfID0gZnVuY3Rpb24ocnVsZXMpIHtcbiAgaWYgKCFydWxlcykge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIHZhciBvcmlnaW5hbFJ1bGVzID0gcnVsZXM7XG4gIFwic3RyaW5nXCIgPT09IHR5cGVvZiBydWxlcyAmJiAocnVsZXMgPSBydWxlcy5zcGxpdChcIixcIikpO1xuICBpZiAoQXJyYXkuaXNBcnJheShydWxlcykpIHtcbiAgICByZXR1cm4gbmV3IG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUmFua2luZ1J1bGUoe3JhbmtCeU9uZVRoaW5nUnVsZToocnVsZXMgfHwgW10pLm1hcChlZS5ycGNfY29udmVydF9iYXRjaC5idWlsZFJhbmtCeU9uZVRoaW5nUnVsZV8pLH0pO1xuICB9XG4gIHRocm93IEVycm9yKFwiVW5hYmxlIHRvIGJ1aWxkIHJhbmtpbmcgcnVsZSBmcm9tIHJ1bGVzOiBcIiArIEpTT04uc3RyaW5naWZ5KG9yaWdpbmFsUnVsZXMpICsgXCIuIFJ1bGVzIHNob3VsZCBlaXRoZXIgYmUgYSBjb21tYS1zZXBhcmF0ZWQgc3RyaW5nIG9yIGxpc3Qgb2Ygc3RyaW5ncy5cIik7XG59O1xuZWUucnBjX2NvbnZlcnRfYmF0Y2guYnVpbGRSYW5rQnlPbmVUaGluZ1J1bGVfID0gZnVuY3Rpb24ocnVsZVN0cmluZykge1xuICB2YXIgcmFua0J5T25lVGhpbmdSdWxlID0gbmV3IG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUmFua0J5T25lVGhpbmdSdWxlKHtkaXJlY3Rpb246bnVsbCwgcmFua0J5QXR0cmlidXRlUnVsZTpudWxsLCByYW5rQnlNaW5ab29tTGV2ZWxSdWxlOm51bGwsIHJhbmtCeUdlb21ldHJ5VHlwZVJ1bGU6bnVsbCx9KTtcbiAgcnVsZVN0cmluZyA9IHJ1bGVTdHJpbmcudHJpbSgpO1xuICB2YXIgbWF0Y2hlcyA9IHJ1bGVTdHJpbmcubWF0Y2goL14oW1xcU10rLiopXFxzKyhBU0N8REVTQykkLyk7XG4gIGlmIChudWxsID09IG1hdGNoZXMpIHtcbiAgICB0aHJvdyBFcnJvcihcIlJhbmtpbmcgcnVsZSBmb3JtYXQgaXMgaW52YWxpZC4gRWFjaCBydWxlIHNob3VsZCBiZSBkZWZpbmVkIGJ5IGEgcnVsZSB0eXBlIGFuZCBhIGRpcmVjdGlvbiAoQVNDIG9yIERFU0MpLCBzZXBhcmF0ZWQgYnkgYSBzcGFjZS4gVmFsaWQgcnVsZSB0eXBlcyBhcmU6IC5nZW9tZXRyeVR5cGUsIC5taW5ab29tTGV2ZWwsIG9yIGEgZmVhdHVyZSBwcm9wZXJ0eSBuYW1lLlwiKTtcbiAgfVxuICB2YXIgJGpzY29tcCRkZXN0cnVjdHVyaW5nJHZhcjQ2ID0gJGpzY29tcC5tYWtlSXRlcmF0b3IobWF0Y2hlcyk7XG4gICRqc2NvbXAkZGVzdHJ1Y3R1cmluZyR2YXI0Ni5uZXh0KCk7XG4gIHZhciBydWxlVHlwZSA9ICRqc2NvbXAkZGVzdHJ1Y3R1cmluZyR2YXI0Ni5uZXh0KCkudmFsdWUsIGRpcmVjdGlvbiA9ICRqc2NvbXAkZGVzdHJ1Y3R1cmluZyR2YXI0Ni5uZXh0KCkudmFsdWU7XG4gIHN3aXRjaChkaXJlY3Rpb24udG9VcHBlckNhc2UoKSkge1xuICAgIGNhc2UgXCJBU0NcIjpcbiAgICAgIHJhbmtCeU9uZVRoaW5nUnVsZS5kaXJlY3Rpb24gPSBcIkFTQ0VORElOR1wiO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBcIkRFU0NcIjpcbiAgICAgIHJhbmtCeU9uZVRoaW5nUnVsZS5kaXJlY3Rpb24gPSBcIkRFU0NFTkRJTkdcIjtcbiAgICAgIGJyZWFrO1xuICAgIGRlZmF1bHQ6XG4gICAgICB0aHJvdyBFcnJvcihcIlJhbmtpbmcgcnVsZSBkaXJlY3Rpb24gJ1wiICsgZGlyZWN0aW9uICsgXCInIGlzIGludmFsaWQuIERpcmVjdGlvbnMgYXJlOiBBU0MsIERFU0MuXCIpO1xuICB9XG4gIHN3aXRjaChydWxlVHlwZS50cmltKCkpIHtcbiAgICBjYXNlIFwiLmdlb21ldHJ5VHlwZVwiOlxuICAgICAgcmFua0J5T25lVGhpbmdSdWxlLnJhbmtCeUdlb21ldHJ5VHlwZVJ1bGUgPSBuZXcgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5SYW5rQnlHZW9tZXRyeVR5cGVSdWxlKHt9KTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgXCIubWluWm9vbUxldmVsXCI6XG4gICAgICByYW5rQnlPbmVUaGluZ1J1bGUucmFua0J5TWluWm9vbUxldmVsUnVsZSA9IG5ldyBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlJhbmtCeU1pblpvb21MZXZlbFJ1bGUoe30pO1xuICAgICAgYnJlYWs7XG4gICAgZGVmYXVsdDpcbiAgICAgIHJhbmtCeU9uZVRoaW5nUnVsZS5yYW5rQnlBdHRyaWJ1dGVSdWxlID0gbmV3IG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUmFua0J5QXR0cmlidXRlUnVsZSh7YXR0cmlidXRlTmFtZTpzdHJpbmdPck51bGxfKHJ1bGVUeXBlKX0pO1xuICB9XG4gIHJldHVybiByYW5rQnlPbmVUaGluZ1J1bGU7XG59O1xuZ29vZy5zaW5nbGV0b24gPSB7fTtcbnZhciBtb2R1bGUkY29udGVudHMkZ29vZyRzaW5nbGV0b25faW5zdGFudGlhdGVkU2luZ2xldG9ucyA9IFtdLCBtb2R1bGUkY29udGVudHMkZ29vZyRzaW5nbGV0b25fU2luZ2xldG9uID0gZnVuY3Rpb24oKSB7XG59O1xuZ29vZy5zaW5nbGV0b24uZ2V0SW5zdGFuY2UgPSBmdW5jdGlvbihjdG9yKSB7XG4gICgwLGdvb2cuYXNzZXJ0cy5hc3NlcnQpKCFPYmplY3QuaXNTZWFsZWQoY3RvciksIFwiQ2Fubm90IHVzZSBnZXRJbnN0YW5jZSgpIHdpdGggYSBzZWFsZWQgY29uc3RydWN0b3IuXCIpO1xuICBpZiAoY3Rvci5pbnN0YW5jZV8gJiYgY3Rvci5oYXNPd25Qcm9wZXJ0eShcImluc3RhbmNlX1wiKSkge1xuICAgIHJldHVybiBjdG9yLmluc3RhbmNlXztcbiAgfVxuICBnb29nLkRFQlVHICYmIG1vZHVsZSRjb250ZW50cyRnb29nJHNpbmdsZXRvbl9pbnN0YW50aWF0ZWRTaW5nbGV0b25zLnB1c2goY3Rvcik7XG4gIHZhciBpbnN0YW5jZSA9IG5ldyBjdG9yKCk7XG4gIGN0b3IuaW5zdGFuY2VfID0gaW5zdGFuY2U7XG4gICgwLGdvb2cuYXNzZXJ0cy5hc3NlcnQpKGN0b3IuaGFzT3duUHJvcGVydHkoXCJpbnN0YW5jZV9cIiksIFwiQ291bGQgbm90IGluc3RhbnRpYXRlIHNpbmdsZXRvbi5cIik7XG4gIHJldHVybiBpbnN0YW5jZTtcbn07XG5nb29nLnNpbmdsZXRvbi5pbnN0YW50aWF0ZWRTaW5nbGV0b25zID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckc2luZ2xldG9uX2luc3RhbnRpYXRlZFNpbmdsZXRvbnM7XG5lZS5kYXRhID0ge307XG5lZS5kYXRhLkFic3RyYWN0VGFza0NvbmZpZyA9IHt9O1xuZWUuZGF0YS5BbGdvcml0aG1zUmVnaXN0cnkgPSB7fTtcbmVlLmRhdGEuQXNzZXRMaXN0ID0ge307XG5lZS5kYXRhLkNsYXNzaWZpZXJUYXNrQ29uZmlnID0ge307XG5lZS5kYXRhLkZlYXR1cmVWaWV3VGFza0NvbmZpZyA9IHt9O1xuZWUuZGF0YS5JbWFnZVRhc2tDb25maWcgPSB7fTtcbmVlLmRhdGEuTWFwVGFza0NvbmZpZyA9IHt9O1xuZWUuZGF0YS5UYWJsZVRhc2tDb25maWcgPSB7fTtcbmVlLmRhdGEuVmlkZW9NYXBUYXNrQ29uZmlnID0ge307XG5lZS5kYXRhLlZpZGVvVGFza0NvbmZpZyA9IHt9O1xuZWUuZGF0YS5hdXRoZW50aWNhdGVWaWFPYXV0aCA9IGZ1bmN0aW9uKGNsaWVudElkLCBzdWNjZXNzLCBvcHRfZXJyb3IsIG9wdF9leHRyYVNjb3Blcywgb3B0X29uSW1tZWRpYXRlRmFpbGVkLCBvcHRfc3VwcHJlc3NEZWZhdWx0U2NvcGVzKSB7XG4gIHZhciBzY29wZXMgPSBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5tZXJnZUF1dGhTY29wZXNfKCFvcHRfc3VwcHJlc3NEZWZhdWx0U2NvcGVzLCAhMSwgb3B0X2V4dHJhU2NvcGVzIHx8IFtdKTtcbiAgbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuc2V0QXV0aENsaWVudChjbGllbnRJZCwgc2NvcGVzKTtcbiAgbnVsbCA9PT0gY2xpZW50SWQgPyBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5jbGVhckF1dGhUb2tlbigpIDogbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuZW5zdXJlQXV0aExpYkxvYWRlZF8oZnVuY3Rpb24oKSB7XG4gICAgdmFyIG9uSW1tZWRpYXRlRmFpbGVkID0gb3B0X29uSW1tZWRpYXRlRmFpbGVkIHx8IGdvb2cucGFydGlhbChlZS5kYXRhLmF1dGhlbnRpY2F0ZVZpYVBvcHVwLCBzdWNjZXNzLCBvcHRfZXJyb3IpO1xuICAgIGVlLmRhdGEucmVmcmVzaEF1dGhUb2tlbihzdWNjZXNzLCBvcHRfZXJyb3IsIG9uSW1tZWRpYXRlRmFpbGVkKTtcbiAgfSk7XG59O1xuZ29vZy5leHBvcnRTeW1ib2woXCJlZS5kYXRhLmF1dGhlbnRpY2F0ZVZpYU9hdXRoXCIsIGVlLmRhdGEuYXV0aGVudGljYXRlVmlhT2F1dGgpO1xuZWUuZGF0YS5hdXRoZW50aWNhdGUgPSBmdW5jdGlvbihjbGllbnRJZCwgc3VjY2Vzcywgb3B0X2Vycm9yLCBvcHRfZXh0cmFTY29wZXMsIG9wdF9vbkltbWVkaWF0ZUZhaWxlZCkge1xuICBlZS5kYXRhLmF1dGhlbnRpY2F0ZVZpYU9hdXRoKGNsaWVudElkLCBzdWNjZXNzLCBvcHRfZXJyb3IsIG9wdF9leHRyYVNjb3Blcywgb3B0X29uSW1tZWRpYXRlRmFpbGVkKTtcbn07XG5nb29nLmV4cG9ydFN5bWJvbChcImVlLmRhdGEuYXV0aGVudGljYXRlXCIsIGVlLmRhdGEuYXV0aGVudGljYXRlKTtcbmVlLmRhdGEuYXV0aGVudGljYXRlVmlhUG9wdXAgPSBmdW5jdGlvbihvcHRfc3VjY2Vzcywgb3B0X2Vycm9yKSB7XG4gIGdvb2cuZ2xvYmFsLmdhcGkuYXV0aC5hdXRob3JpemUoe2NsaWVudF9pZDptb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5nZXRBdXRoQ2xpZW50SWQoKSwgaW1tZWRpYXRlOiExLCBzY29wZTptb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5nZXRBdXRoU2NvcGVzKCkuam9pbihcIiBcIil9LCBnb29nLnBhcnRpYWwobW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuaGFuZGxlQXV0aFJlc3VsdF8sIG9wdF9zdWNjZXNzLCBvcHRfZXJyb3IpKTtcbn07XG5nb29nLmV4cG9ydFN5bWJvbChcImVlLmRhdGEuYXV0aGVudGljYXRlVmlhUG9wdXBcIiwgZWUuZGF0YS5hdXRoZW50aWNhdGVWaWFQb3B1cCk7XG5lZS5kYXRhLmF1dGhlbnRpY2F0ZVZpYVByaXZhdGVLZXkgPSBmdW5jdGlvbihwcml2YXRlS2V5LCBvcHRfc3VjY2Vzcywgb3B0X2Vycm9yLCBvcHRfZXh0cmFTY29wZXMsIG9wdF9zdXBwcmVzc0RlZmF1bHRTY29wZXMpIHtcbiAgaWYgKFwid2luZG93XCIgaW4gZ29vZy5nbG9iYWwpIHtcbiAgICB0aHJvdyBFcnJvcihcIlVzZSBvZiBwcml2YXRlIGtleSBhdXRoZW50aWNhdGlvbiBpbiB0aGUgYnJvd3NlciBpcyBpbnNlY3VyZS4gQ29uc2lkZXIgdXNpbmcgT0F1dGgsIGluc3RlYWQuXCIpO1xuICB9XG4gIHZhciBzY29wZXMgPSBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5tZXJnZUF1dGhTY29wZXNfKCFvcHRfc3VwcHJlc3NEZWZhdWx0U2NvcGVzLCAhb3B0X3N1cHByZXNzRGVmYXVsdFNjb3Blcywgb3B0X2V4dHJhU2NvcGVzIHx8IFtdKTtcbiAgbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuc2V0QXV0aENsaWVudChwcml2YXRlS2V5LmNsaWVudF9lbWFpbCwgc2NvcGVzKTtcbiAgdmFyIGp3dENsaWVudCA9IG5ldyBnb29nbGUuYXV0aC5KV1QocHJpdmF0ZUtleS5jbGllbnRfZW1haWwsIG51bGwsIHByaXZhdGVLZXkucHJpdmF0ZV9rZXksIHNjb3BlcywgbnVsbCk7XG4gIGVlLmRhdGEuc2V0QXV0aFRva2VuUmVmcmVzaGVyKGZ1bmN0aW9uKGF1dGhBcmdzLCBjYWxsYmFjaykge1xuICAgIGp3dENsaWVudC5hdXRob3JpemUoZnVuY3Rpb24oZXJyb3IsIHRva2VuKSB7XG4gICAgICBlcnJvciA/IGNhbGxiYWNrKHtlcnJvcjplcnJvcn0pIDogY2FsbGJhY2soe2FjY2Vzc190b2tlbjp0b2tlbi5hY2Nlc3NfdG9rZW4sIHRva2VuX3R5cGU6dG9rZW4udG9rZW5fdHlwZSwgZXhwaXJlc19pbjoodG9rZW4uZXhwaXJ5X2RhdGUgLSBEYXRlLm5vdygpKSAvIDFFMyx9KTtcbiAgICB9KTtcbiAgfSk7XG4gIGVlLmRhdGEucmVmcmVzaEF1dGhUb2tlbihvcHRfc3VjY2Vzcywgb3B0X2Vycm9yKTtcbn07XG5nb29nLmV4cG9ydFN5bWJvbChcImVlLmRhdGEuYXV0aGVudGljYXRlVmlhUHJpdmF0ZUtleVwiLCBlZS5kYXRhLmF1dGhlbnRpY2F0ZVZpYVByaXZhdGVLZXkpO1xuZWUuZGF0YS5zZXRBcGlLZXkgPSBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5zZXRBcGlLZXk7XG5lZS5kYXRhLnNldFByb2plY3QgPSBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5zZXRQcm9qZWN0O1xuZWUuZGF0YS5nZXRQcm9qZWN0ID0gbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuZ2V0UHJvamVjdDtcbmVlLmRhdGEuUFJPRklMRV9SRVFVRVNUX0hFQURFUiA9IG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LlBST0ZJTEVfUkVRVUVTVF9IRUFERVI7XG5lZS5kYXRhLnNldEV4cHJlc3Npb25BdWdtZW50ZXIgPSBmdW5jdGlvbihhdWdtZW50ZXIpIHtcbiAgZWUuZGF0YS5leHByZXNzaW9uQXVnbWVudGVyXyA9IGF1Z21lbnRlciB8fCBnb29nLmZ1bmN0aW9ucy5pZGVudGl0eTtcbn07XG5nb29nLmV4cG9ydFN5bWJvbChcImVlLmRhdGEuc2V0RXhwcmVzc2lvbkF1Z21lbnRlclwiLCBlZS5kYXRhLnNldEV4cHJlc3Npb25BdWdtZW50ZXIpO1xuZWUuZGF0YS5leHByZXNzaW9uQXVnbWVudGVyXyA9IGdvb2cuZnVuY3Rpb25zLmlkZW50aXR5O1xuZWUuZGF0YS5zZXRBdXRoVG9rZW4gPSBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5zZXRBdXRoVG9rZW47XG5nb29nLmV4cG9ydFN5bWJvbChcImVlLmRhdGEuc2V0QXV0aFRva2VuXCIsIGVlLmRhdGEuc2V0QXV0aFRva2VuKTtcbmVlLmRhdGEucmVmcmVzaEF1dGhUb2tlbiA9IG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LnJlZnJlc2hBdXRoVG9rZW47XG5nb29nLmV4cG9ydFN5bWJvbChcImVlLmRhdGEucmVmcmVzaEF1dGhUb2tlblwiLCBlZS5kYXRhLnJlZnJlc2hBdXRoVG9rZW4pO1xuZWUuZGF0YS5zZXRBdXRoVG9rZW5SZWZyZXNoZXIgPSBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5zZXRBdXRoVG9rZW5SZWZyZXNoZXI7XG5nb29nLmV4cG9ydFN5bWJvbChcImVlLmRhdGEuc2V0QXV0aFRva2VuUmVmcmVzaGVyXCIsIGVlLmRhdGEuc2V0QXV0aFRva2VuUmVmcmVzaGVyKTtcbmVlLmRhdGEuZ2V0QXV0aFRva2VuID0gbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuZ2V0QXV0aFRva2VuO1xuZ29vZy5leHBvcnRTeW1ib2woXCJlZS5kYXRhLmdldEF1dGhUb2tlblwiLCBlZS5kYXRhLmdldEF1dGhUb2tlbik7XG5lZS5kYXRhLmNsZWFyQXV0aFRva2VuID0gbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuY2xlYXJBdXRoVG9rZW47XG5nb29nLmV4cG9ydFN5bWJvbChcImVlLmRhdGEuY2xlYXJBdXRoVG9rZW5cIiwgZWUuZGF0YS5jbGVhckF1dGhUb2tlbik7XG5lZS5kYXRhLmdldEF1dGhDbGllbnRJZCA9IG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LmdldEF1dGhDbGllbnRJZDtcbmdvb2cuZXhwb3J0U3ltYm9sKFwiZWUuZGF0YS5nZXRBdXRoQ2xpZW50SWRcIiwgZWUuZGF0YS5nZXRBdXRoQ2xpZW50SWQpO1xuZWUuZGF0YS5nZXRBdXRoU2NvcGVzID0gbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuZ2V0QXV0aFNjb3Blcztcbmdvb2cuZXhwb3J0U3ltYm9sKFwiZWUuZGF0YS5nZXRBdXRoU2NvcGVzXCIsIGVlLmRhdGEuZ2V0QXV0aFNjb3Blcyk7XG5lZS5kYXRhLnNldERlYWRsaW5lID0gbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuc2V0RGVhZGxpbmU7XG5nb29nLmV4cG9ydFN5bWJvbChcImVlLmRhdGEuc2V0RGVhZGxpbmVcIiwgZWUuZGF0YS5zZXREZWFkbGluZSk7XG5lZS5kYXRhLnNldFBhcmFtQXVnbWVudGVyID0gbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuc2V0UGFyYW1BdWdtZW50ZXI7XG5nb29nLmV4cG9ydFN5bWJvbChcImVlLmRhdGEuc2V0UGFyYW1BdWdtZW50ZXJcIiwgZWUuZGF0YS5zZXRQYXJhbUF1Z21lbnRlcik7XG5lZS5kYXRhLmluaXRpYWxpemUgPSBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5pbml0aWFsaXplO1xuZWUuZGF0YS5yZXNldCA9IG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LnJlc2V0O1xuZWUuZGF0YS5QUk9GSUxFX0hFQURFUiA9IG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LlBST0ZJTEVfSEVBREVSO1xuZWUuZGF0YS5tYWtlUmVxdWVzdF8gPSBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5tYWtlUmVxdWVzdF87XG5lZS5kYXRhLnNlbmRfID0gbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuc2VuZDtcbmVlLmRhdGEuc2V0dXBNb2NrU2VuZCA9IG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LnNldHVwTW9ja1NlbmQ7XG5lZS5kYXRhLndpdGhQcm9maWxpbmcgPSBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC53aXRoUHJvZmlsaW5nO1xuZWUuZGF0YS5nZXRBbGdvcml0aG1zID0gZnVuY3Rpb24ob3B0X2NhbGxiYWNrKSB7XG4gIHZhciBjYWxsID0gbmV3IG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfQ2FsbChvcHRfY2FsbGJhY2spO1xuICByZXR1cm4gY2FsbC5oYW5kbGUoY2FsbC5hbGdvcml0aG1zKCkubGlzdChjYWxsLnByb2plY3RzUGF0aCgpLCB7cHJldHR5UHJpbnQ6ITF9KS50aGVuKGVlLnJwY19jb252ZXJ0LmFsZ29yaXRobXMpKTtcbn07XG5lZS5kYXRhLmdldE1hcElkID0gZnVuY3Rpb24ocGFyYW1zLCBvcHRfY2FsbGJhY2spIHtcbiAgaWYgKFwic3RyaW5nXCIgPT09IHR5cGVvZiBwYXJhbXMuaW1hZ2UpIHtcbiAgICB0aHJvdyBFcnJvcihcIkltYWdlIGFzIEpTT04gc3RyaW5nIG5vdCBzdXBwb3J0ZWQuXCIpO1xuICB9XG4gIGlmICh2b2lkIDAgIT09IHBhcmFtcy52ZXJzaW9uKSB7XG4gICAgdGhyb3cgRXJyb3IoXCJJbWFnZSB2ZXJzaW9uIHNwZWNpZmljYXRpb24gbm90IHN1cHBvcnRlZC5cIik7XG4gIH1cbiAgdmFyIG1hcCA9IG5ldyBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkVhcnRoRW5naW5lTWFwKHtuYW1lOm51bGwsIGV4cHJlc3Npb246ZWUuZGF0YS5leHByZXNzaW9uQXVnbWVudGVyXyhlZS5TZXJpYWxpemVyLmVuY29kZUNsb3VkQXBpRXhwcmVzc2lvbihwYXJhbXMuaW1hZ2UpKSwgZmlsZUZvcm1hdDplZS5ycGNfY29udmVydC5maWxlRm9ybWF0KHBhcmFtcy5mb3JtYXQpLCBiYW5kSWRzOmVlLnJwY19jb252ZXJ0LmJhbmRMaXN0KHBhcmFtcy5iYW5kcyksIHZpc3VhbGl6YXRpb25PcHRpb25zOmVlLnJwY19jb252ZXJ0LnZpc3VhbGl6YXRpb25PcHRpb25zKHBhcmFtcyksfSksIHF1ZXJ5UGFyYW1zID0ge2ZpZWxkczpcIm5hbWVcIn0sIHdvcmtsb2FkVGFnID0gZWUuZGF0YS5nZXRXb3JrbG9hZFRhZygpO1xuICB3b3JrbG9hZFRhZyAmJiAocXVlcnlQYXJhbXMud29ya2xvYWRUYWcgPSB3b3JrbG9hZFRhZyk7XG4gIHZhciBjYWxsID0gbmV3IG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfQ2FsbChvcHRfY2FsbGJhY2spO1xuICByZXR1cm4gY2FsbC5oYW5kbGUoY2FsbC5tYXBzKCkuY3JlYXRlKGNhbGwucHJvamVjdHNQYXRoKCksIG1hcCwgcXVlcnlQYXJhbXMpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICByZXR1cm4gZWUuZGF0YS5tYWtlTWFwSWRfKHJlc3BvbnNlLm5hbWUsIFwiXCIpO1xuICB9KSk7XG59O1xuZ29vZy5leHBvcnRTeW1ib2woXCJlZS5kYXRhLmdldE1hcElkXCIsIGVlLmRhdGEuZ2V0TWFwSWQpO1xuZWUuZGF0YS5nZXRUaWxlVXJsID0gZnVuY3Rpb24oaWQsIHgsIHksIHopIHtcbiAgaWYgKCFpZC5mb3JtYXRUaWxlVXJsKSB7XG4gICAgdmFyIG5ld0lkID0gZWUuZGF0YS5tYWtlTWFwSWRfKGlkLm1hcGlkLCBpZC50b2tlbiwgaWQudXJsRm9ybWF0KTtcbiAgICBpZC51cmxGb3JtYXQgPSBuZXdJZC51cmxGb3JtYXQ7XG4gICAgaWQuZm9ybWF0VGlsZVVybCA9IG5ld0lkLmZvcm1hdFRpbGVVcmw7XG4gIH1cbiAgcmV0dXJuIGlkLmZvcm1hdFRpbGVVcmwoeCwgeSwgeik7XG59O1xuZ29vZy5leHBvcnRTeW1ib2woXCJlZS5kYXRhLmdldFRpbGVVcmxcIiwgZWUuZGF0YS5nZXRUaWxlVXJsKTtcbmVlLmRhdGEubWFrZU1hcElkXyA9IGZ1bmN0aW9uKG1hcGlkLCB0b2tlbiwgb3B0X3VybEZvcm1hdCkge1xuICB2YXIgdXJsRm9ybWF0ID0gdm9pZCAwID09PSBvcHRfdXJsRm9ybWF0ID8gXCJcIiA6IG9wdF91cmxGb3JtYXQ7XG4gIGlmICghdXJsRm9ybWF0KSB7XG4gICAgbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuaW5pdGlhbGl6ZSgpO1xuICAgIHZhciBiYXNlID0gbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuZ2V0VGlsZUJhc2VVcmwoKTtcbiAgICB1cmxGb3JtYXQgPSB0b2tlbiA/IGJhc2UgKyBcIi9tYXAvXCIgKyBtYXBpZCArIFwiL3t6fS97eH0ve3l9P3Rva2VuPVwiICsgdG9rZW4gOiBiYXNlICsgXCIvXCIgKyBtb2R1bGUkZXhwb3J0cyRlZSRhcGlWZXJzaW9uLlYxQUxQSEEgKyBcIi9cIiArIG1hcGlkICsgXCIvdGlsZXMve3p9L3t4fS97eX1cIjtcbiAgfVxuICByZXR1cm4ge21hcGlkOm1hcGlkLCB0b2tlbjp0b2tlbiwgZm9ybWF0VGlsZVVybDpmdW5jdGlvbih4LCB5LCB6KSB7XG4gICAgdmFyIHdpZHRoID0gTWF0aC5wb3coMiwgeik7XG4gICAgeCAlPSB3aWR0aDtcbiAgICB4ID0gU3RyaW5nKDAgPiB4ID8geCArIHdpZHRoIDogeCk7XG4gICAgcmV0dXJuIHVybEZvcm1hdC5yZXBsYWNlKFwie3h9XCIsIHgpLnJlcGxhY2UoXCJ7eX1cIiwgeSkucmVwbGFjZShcInt6fVwiLCB6KTtcbiAgfSwgdXJsRm9ybWF0OnVybEZvcm1hdH07XG59O1xuZWUuZGF0YS5nZXRGZWF0dXJlVmlld1RpbGVzS2V5ID0gZnVuY3Rpb24ocGFyYW1zLCBvcHRfY2FsbGJhY2spIHtcbiAgdmFyIHZpc3VhbGl6YXRpb25FeHByZXNzaW9uID0gcGFyYW1zLnZpc1BhcmFtcyA/IGVlLmRhdGEuZXhwcmVzc2lvbkF1Z21lbnRlcl8oZWUuU2VyaWFsaXplci5lbmNvZGVDbG91ZEFwaUV4cHJlc3Npb24ocGFyYW1zLnZpc1BhcmFtcykpIDogbnVsbCwgbWFwID0gbmV3IG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRmVhdHVyZVZpZXcoe25hbWU6bnVsbCwgYXNzZXQ6cGFyYW1zLmFzc2V0SWQsIG1hcE5hbWU6cGFyYW1zLm1hcE5hbWUsIHZpc3VhbGl6YXRpb25FeHByZXNzaW9uOnZpc3VhbGl6YXRpb25FeHByZXNzaW9uLH0pLCBjYWxsID0gbmV3IG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfQ2FsbChvcHRfY2FsbGJhY2spO1xuICByZXR1cm4gY2FsbC5oYW5kbGUoY2FsbC5mZWF0dXJlVmlldygpLmNyZWF0ZShjYWxsLnByb2plY3RzUGF0aCgpLCBtYXAsIHtmaWVsZHM6W1wibmFtZVwiXX0pLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICB2YXIgdG9rZW4gPSByZXNwb25zZS5uYW1lLnNwbGl0KFwiL1wiKS5wb3AoKSwgcmF3VGlsZXNLZXkgPSB0b2tlbi5zdWJzdHJpbmcoMCwgdG9rZW4ubGFzdEluZGV4T2YoXCItXCIpKTtcbiAgICByZXR1cm4ge3Rva2VuOnRva2VuLCBmb3JtYXRUaWxlVXJsOmZ1bmN0aW9uKHgsIHksIHopIHtcbiAgICAgIHJldHVybiBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5nZXRUaWxlQmFzZVVybCgpICsgXCIvXCIgKyBtb2R1bGUkZXhwb3J0cyRlZSRhcGlWZXJzaW9uLlYxQUxQSEEgKyBcIi9cIiArIHJlc3BvbnNlLm5hbWUgKyBcIi90aWxlcy9cIiArIHogKyBcIi9cIiArIHggKyBcIi9cIiArIHk7XG4gICAgfSwgcmF3VGlsZXNLZXk6cmF3VGlsZXNLZXl9O1xuICB9KSk7XG59O1xuZ29vZy5leHBvcnRTeW1ib2woXCJlZS5kYXRhLmdldEZlYXR1cmVWaWV3VGlsZXNLZXlcIiwgZWUuZGF0YS5nZXRGZWF0dXJlVmlld1RpbGVzS2V5KTtcbmVlLmRhdGEubGlzdEZlYXR1cmVzID0gZnVuY3Rpb24oYXNzZXQsIHBhcmFtcywgb3B0X2NhbGxiYWNrKSB7XG4gIHZhciBjYWxsID0gbmV3IG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfQ2FsbChvcHRfY2FsbGJhY2spLCBuYW1lID0gZWUucnBjX2NvbnZlcnQuYXNzZXRJZFRvQXNzZXROYW1lKGFzc2V0KTtcbiAgcmV0dXJuIGNhbGwuaGFuZGxlKGNhbGwuYXNzZXRzKCkubGlzdEZlYXR1cmVzKG5hbWUsIHBhcmFtcykpO1xufTtcbmdvb2cuZXhwb3J0U3ltYm9sKFwiZWUuZGF0YS5saXN0RmVhdHVyZXNcIiwgZWUuZGF0YS5saXN0RmVhdHVyZXMpO1xuZWUuZGF0YS5jb21wdXRlVmFsdWUgPSBmdW5jdGlvbihvYmosIG9wdF9jYWxsYmFjaykge1xuICB2YXIgcmVxdWVzdCA9IHtleHByZXNzaW9uOmVlLmRhdGEuZXhwcmVzc2lvbkF1Z21lbnRlcl8oZWUuU2VyaWFsaXplci5lbmNvZGVDbG91ZEFwaUV4cHJlc3Npb24ob2JqKSl9LCB3b3JrbG9hZFRhZyA9IGVlLmRhdGEuZ2V0V29ya2xvYWRUYWcoKTtcbiAgd29ya2xvYWRUYWcgJiYgKHJlcXVlc3Qud29ya2xvYWRUYWcgPSB3b3JrbG9hZFRhZyk7XG4gIHZhciBjYWxsID0gbmV3IG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfQ2FsbChvcHRfY2FsbGJhY2spO1xuICByZXR1cm4gY2FsbC5oYW5kbGUoY2FsbC52YWx1ZSgpLmNvbXB1dGUoY2FsbC5wcm9qZWN0c1BhdGgoKSwgbmV3IG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ29tcHV0ZVZhbHVlUmVxdWVzdChyZXF1ZXN0KSkudGhlbihmdW5jdGlvbih4KSB7XG4gICAgcmV0dXJuIHgucmVzdWx0O1xuICB9KSk7XG59O1xuZ29vZy5leHBvcnRTeW1ib2woXCJlZS5kYXRhLmNvbXB1dGVWYWx1ZVwiLCBlZS5kYXRhLmNvbXB1dGVWYWx1ZSk7XG5lZS5kYXRhLmdldFRodW1iSWQgPSBmdW5jdGlvbihwYXJhbXMsIG9wdF9jYWxsYmFjaykge1xuICBpZiAoXCJzdHJpbmdcIiA9PT0gdHlwZW9mIHBhcmFtcy5pbWFnZSkge1xuICAgIHRocm93IEVycm9yKFwiSW1hZ2UgYXMgSlNPTiBzdHJpbmcgbm90IHN1cHBvcnRlZC5cIik7XG4gIH1cbiAgaWYgKHZvaWQgMCAhPT0gcGFyYW1zLnZlcnNpb24pIHtcbiAgICB0aHJvdyBFcnJvcihcIkltYWdlIHZlcnNpb24gc3BlY2lmaWNhdGlvbiBub3Qgc3VwcG9ydGVkLlwiKTtcbiAgfVxuICBpZiAodm9pZCAwICE9PSBwYXJhbXMucmVnaW9uKSB7XG4gICAgdGhyb3cgRXJyb3IoJ1wicmVnaW9uXCIgbm90IHN1cHBvcnRlZCBpbiBjYWxsIHRvIGVlLmRhdGEuZ2V0VGh1bWJJZC4gVXNlIGVlLkltYWdlLmdldFRodW1iVVJMLicpO1xuICB9XG4gIGlmICh2b2lkIDAgIT09IHBhcmFtcy5kaW1lbnNpb25zKSB7XG4gICAgdGhyb3cgRXJyb3IoJ1wiZGltZW5zaW9uc1wiIGlzIG5vdCBzdXBwb3J0ZWQgaW4gY2FsbCB0byBlZS5kYXRhLmdldFRodW1iSWQuIFVzZSBlZS5JbWFnZS5nZXRUaHVtYlVSTC4nKTtcbiAgfVxuICB2YXIgdGh1bWJuYWlsID0gbmV3IG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGh1bWJuYWlsKHtuYW1lOm51bGwsIGV4cHJlc3Npb246ZWUuZGF0YS5leHByZXNzaW9uQXVnbWVudGVyXyhlZS5TZXJpYWxpemVyLmVuY29kZUNsb3VkQXBpRXhwcmVzc2lvbihwYXJhbXMuaW1hZ2UpKSwgZmlsZUZvcm1hdDplZS5ycGNfY29udmVydC5maWxlRm9ybWF0KHBhcmFtcy5mb3JtYXQpLCBmaWxlbmFtZVByZWZpeDpwYXJhbXMubmFtZSwgYmFuZElkczplZS5ycGNfY29udmVydC5iYW5kTGlzdChwYXJhbXMuYmFuZHMpLCB2aXN1YWxpemF0aW9uT3B0aW9uczplZS5ycGNfY29udmVydC52aXN1YWxpemF0aW9uT3B0aW9ucyhwYXJhbXMpLCBncmlkOm51bGwsfSksIHF1ZXJ5UGFyYW1zID0ge2ZpZWxkczpcIm5hbWVcIn0sIHdvcmtsb2FkVGFnID0gZWUuZGF0YS5nZXRXb3JrbG9hZFRhZygpO1xuICB3b3JrbG9hZFRhZyAmJiAocXVlcnlQYXJhbXMud29ya2xvYWRUYWcgPSB3b3JrbG9hZFRhZyk7XG4gIHZhciBjYWxsID0gbmV3IG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfQ2FsbChvcHRfY2FsbGJhY2spO1xuICByZXR1cm4gY2FsbC5oYW5kbGUoY2FsbC50aHVtYm5haWxzKCkuY3JlYXRlKGNhbGwucHJvamVjdHNQYXRoKCksIHRodW1ibmFpbCwgcXVlcnlQYXJhbXMpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICByZXR1cm4ge3RodW1iaWQ6cmVzcG9uc2UubmFtZSwgdG9rZW46XCJcIn07XG4gIH0pKTtcbn07XG5nb29nLmV4cG9ydFN5bWJvbChcImVlLmRhdGEuZ2V0VGh1bWJJZFwiLCBlZS5kYXRhLmdldFRodW1iSWQpO1xuZWUuZGF0YS5nZXRWaWRlb1RodW1iSWQgPSBmdW5jdGlvbihwYXJhbXMsIG9wdF9jYWxsYmFjaykge1xuICB2YXIgdmlkZW9PcHRpb25zID0gbmV3IG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVmlkZW9PcHRpb25zKHtmcmFtZXNQZXJTZWNvbmQ6cGFyYW1zLmZyYW1lc1BlclNlY29uZCB8fCBudWxsLCBtYXhGcmFtZXM6cGFyYW1zLm1heEZyYW1lcyB8fCBudWxsLCBtYXhQaXhlbHNQZXJGcmFtZTpwYXJhbXMubWF4UGl4ZWxzUGVyRnJhbWUgfHwgbnVsbCx9KSwgcmVxdWVzdCA9IG5ldyBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlZpZGVvVGh1bWJuYWlsKHtuYW1lOm51bGwsIGV4cHJlc3Npb246ZWUuZGF0YS5leHByZXNzaW9uQXVnbWVudGVyXyhlZS5TZXJpYWxpemVyLmVuY29kZUNsb3VkQXBpRXhwcmVzc2lvbihwYXJhbXMuaW1hZ2VDb2xsZWN0aW9uKSksIGZpbGVGb3JtYXQ6ZWUucnBjX2NvbnZlcnQuZmlsZUZvcm1hdChwYXJhbXMuZm9ybWF0KSwgXG4gIHZpZGVvT3B0aW9uczp2aWRlb09wdGlvbnMsIGdyaWQ6bnVsbCx9KSwgcXVlcnlQYXJhbXMgPSB7ZmllbGRzOlwibmFtZVwifSwgd29ya2xvYWRUYWcgPSBlZS5kYXRhLmdldFdvcmtsb2FkVGFnKCk7XG4gIHdvcmtsb2FkVGFnICYmIChxdWVyeVBhcmFtcy53b3JrbG9hZFRhZyA9IHdvcmtsb2FkVGFnKTtcbiAgdmFyIGNhbGwgPSBuZXcgbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9DYWxsKG9wdF9jYWxsYmFjayk7XG4gIHJldHVybiBjYWxsLmhhbmRsZShjYWxsLnZpZGVvVGh1bWJuYWlscygpLmNyZWF0ZShjYWxsLnByb2plY3RzUGF0aCgpLCByZXF1ZXN0LCBxdWVyeVBhcmFtcykudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xuICAgIHJldHVybiB7dGh1bWJpZDpyZXNwb25zZS5uYW1lLCB0b2tlbjpcIlwifTtcbiAgfSkpO1xufTtcbmdvb2cuZXhwb3J0U3ltYm9sKFwiZWUuZGF0YS5nZXRWaWRlb1RodW1iSWRcIiwgZWUuZGF0YS5nZXRWaWRlb1RodW1iSWQpO1xuZWUuZGF0YS5nZXRGaWxtc3RyaXBUaHVtYklkID0gZnVuY3Rpb24ocGFyYW1zLCBvcHRfY2FsbGJhY2spIHtcbiAgdmFyIHJlcXVlc3QgPSBuZXcgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5GaWxtc3RyaXBUaHVtYm5haWwoe25hbWU6bnVsbCwgZXhwcmVzc2lvbjplZS5kYXRhLmV4cHJlc3Npb25BdWdtZW50ZXJfKGVlLlNlcmlhbGl6ZXIuZW5jb2RlQ2xvdWRBcGlFeHByZXNzaW9uKHBhcmFtcy5pbWFnZUNvbGxlY3Rpb24pKSwgZmlsZUZvcm1hdDplZS5ycGNfY29udmVydC5maWxlRm9ybWF0KHBhcmFtcy5mb3JtYXQpLCBvcmllbnRhdGlvbjplZS5ycGNfY29udmVydC5vcmllbnRhdGlvbihwYXJhbXMub3JpZW50YXRpb24pLCBncmlkOm51bGwsfSksIHF1ZXJ5UGFyYW1zID0ge2ZpZWxkczpcIm5hbWVcIn0sIHdvcmtsb2FkVGFnID0gZWUuZGF0YS5nZXRXb3JrbG9hZFRhZygpO1xuICB3b3JrbG9hZFRhZyAmJiAocXVlcnlQYXJhbXMud29ya2xvYWRUYWcgPSB3b3JrbG9hZFRhZyk7XG4gIHZhciBjYWxsID0gbmV3IG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfQ2FsbChvcHRfY2FsbGJhY2spO1xuICByZXR1cm4gY2FsbC5oYW5kbGUoY2FsbC5maWxtc3RyaXBUaHVtYm5haWxzKCkuY3JlYXRlKGNhbGwucHJvamVjdHNQYXRoKCksIHJlcXVlc3QsIHF1ZXJ5UGFyYW1zKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgcmV0dXJuIHt0aHVtYmlkOnJlc3BvbnNlLm5hbWUsIHRva2VuOlwiXCJ9O1xuICB9KSk7XG59O1xuZ29vZy5leHBvcnRTeW1ib2woXCJlZS5kYXRhLmdldEZpbG1zdHJpcFRodW1iSWRcIiwgZWUuZGF0YS5nZXRGaWxtc3RyaXBUaHVtYklkKTtcbmVlLmRhdGEubWFrZVRodW1iVXJsID0gZnVuY3Rpb24oaWQpIHtcbiAgcmV0dXJuIG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LmdldFRpbGVCYXNlVXJsKCkgKyBcIi9cIiArIG1vZHVsZSRleHBvcnRzJGVlJGFwaVZlcnNpb24uVjFBTFBIQSArIFwiL1wiICsgaWQudGh1bWJpZCArIFwiOmdldFBpeGVsc1wiO1xufTtcbmdvb2cuZXhwb3J0U3ltYm9sKFwiZWUuZGF0YS5tYWtlVGh1bWJVcmxcIiwgZWUuZGF0YS5tYWtlVGh1bWJVcmwpO1xuZWUuZGF0YS5nZXREb3dubG9hZElkID0gZnVuY3Rpb24ocGFyYW1zLCBvcHRfY2FsbGJhY2spIHtcbiAgcGFyYW1zID0gT2JqZWN0LmFzc2lnbih7fSwgcGFyYW1zKTtcbiAgcGFyYW1zLmlkICYmIChwYXJhbXMuaW1hZ2UgPSBuZXcgZWUuSW1hZ2UocGFyYW1zLmlkKSk7XG4gIGlmIChcInN0cmluZ1wiID09PSB0eXBlb2YgcGFyYW1zLmltYWdlKSB7XG4gICAgdGhyb3cgRXJyb3IoXCJJbWFnZSBhcyBzZXJpYWxpemVkIEpTT04gc3RyaW5nIG5vdCBzdXBwb3J0ZWQuXCIpO1xuICB9XG4gIGlmICghcGFyYW1zLmltYWdlKSB7XG4gICAgdGhyb3cgRXJyb3IoXCJNaXNzaW5nIElEIG9yIGltYWdlIHBhcmFtZXRlci5cIik7XG4gIH1cbiAgcGFyYW1zLmZpbGVQZXJCYW5kID0gITEgIT09IHBhcmFtcy5maWxlUGVyQmFuZDtcbiAgcGFyYW1zLmZvcm1hdCA9IHBhcmFtcy5mb3JtYXQgfHwgKHBhcmFtcy5maWxlUGVyQmFuZCA/IFwiWklQUEVEX0dFT19USUZGX1BFUl9CQU5EXCIgOiBcIlpJUFBFRF9HRU9fVElGRlwiKTtcbiAgaWYgKG51bGwgIT0gcGFyYW1zLnJlZ2lvbiAmJiAobnVsbCAhPSBwYXJhbXMuc2NhbGUgfHwgbnVsbCAhPSBwYXJhbXMuY3JzX3RyYW5zZm9ybSkgJiYgbnVsbCAhPSBwYXJhbXMuZGltZW5zaW9ucykge1xuICAgIHRocm93IEVycm9yKFwiQ2Fubm90IHNwZWNpZnkgKGJvdW5kaW5nIHJlZ2lvbiwgY3JzX3RyYW5zZm9ybS9zY2FsZSwgZGltZW5zaW9ucykgc2ltdWx0YW5lb3VzbHkuXCIpO1xuICB9XG4gIGlmIChcInN0cmluZ1wiID09PSB0eXBlb2YgcGFyYW1zLmJhbmRzKSB7XG4gICAgdHJ5IHtcbiAgICAgIHBhcmFtcy5iYW5kcyA9IEpTT04ucGFyc2UocGFyYW1zLmJhbmRzKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBwYXJhbXMuYmFuZHMgPSBlZS5ycGNfY29udmVydC5iYW5kTGlzdChwYXJhbXMuYmFuZHMpO1xuICAgIH1cbiAgfVxuICBpZiAocGFyYW1zLmJhbmRzICYmICFBcnJheS5pc0FycmF5KHBhcmFtcy5iYW5kcykpIHtcbiAgICB0aHJvdyBFcnJvcihcIkJhbmRzIHBhcmFtZXRlciBtdXN0IGJlIGFuIGFycmF5LlwiKTtcbiAgfVxuICBwYXJhbXMuYmFuZHMgJiYgcGFyYW1zLmJhbmRzLmV2ZXJ5KGZ1bmN0aW9uKGJhbmQpIHtcbiAgICByZXR1cm4gXCJzdHJpbmdcIiA9PT0gdHlwZW9mIGJhbmQ7XG4gIH0pICYmIChwYXJhbXMuYmFuZHMgPSBwYXJhbXMuYmFuZHMubWFwKGZ1bmN0aW9uKGJhbmQpIHtcbiAgICByZXR1cm4ge2lkOmJhbmR9O1xuICB9KSk7XG4gIGlmIChwYXJhbXMuYmFuZHMgJiYgcGFyYW1zLmJhbmRzLnNvbWUoZnVuY3Rpb24oJGpzY29tcCRkZXN0cnVjdHVyaW5nJHZhcjQ3KSB7XG4gICAgcmV0dXJuIG51bGwgPT0gJGpzY29tcCRkZXN0cnVjdHVyaW5nJHZhcjQ3LmlkO1xuICB9KSkge1xuICAgIHRocm93IEVycm9yKFwiRWFjaCBiYW5kIGRpY3Rpb25hcnkgbXVzdCBoYXZlIGFuIGlkLlwiKTtcbiAgfVxuICBcInN0cmluZ1wiID09PSB0eXBlb2YgcGFyYW1zLnJlZ2lvbiAmJiAocGFyYW1zLnJlZ2lvbiA9IEpTT04ucGFyc2UocGFyYW1zLnJlZ2lvbikpO1xuICBpZiAoXCJzdHJpbmdcIiA9PT0gdHlwZW9mIHBhcmFtcy5jcnNfdHJhbnNmb3JtKSB7XG4gICAgdHJ5IHtcbiAgICAgIHBhcmFtcy5jcnNfdHJhbnNmb3JtID0gSlNPTi5wYXJzZShwYXJhbXMuY3JzX3RyYW5zZm9ybSk7XG4gICAgfSBjYXRjaCAoZSQ2NCkge1xuICAgIH1cbiAgfVxuICB2YXIgaW1hZ2UgPSBlZS5kYXRhLmltYWdlcy5idWlsZERvd25sb2FkSWRJbWFnZShwYXJhbXMuaW1hZ2UsIHBhcmFtcyksIHRodW1ibmFpbCA9IG5ldyBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRodW1ibmFpbCh7bmFtZTpudWxsLCBleHByZXNzaW9uOmVlLmRhdGEuZXhwcmVzc2lvbkF1Z21lbnRlcl8oZWUuU2VyaWFsaXplci5lbmNvZGVDbG91ZEFwaUV4cHJlc3Npb24oaW1hZ2UpKSwgZmlsZUZvcm1hdDplZS5ycGNfY29udmVydC5maWxlRm9ybWF0KHBhcmFtcy5mb3JtYXQpLCBmaWxlbmFtZVByZWZpeDpwYXJhbXMubmFtZSwgYmFuZElkczpwYXJhbXMuYmFuZHMgJiYgZWUucnBjX2NvbnZlcnQuYmFuZExpc3QocGFyYW1zLmJhbmRzLm1hcChmdW5jdGlvbihiYW5kKSB7XG4gICAgcmV0dXJuIGJhbmQuaWQ7XG4gIH0pKSwgZ3JpZDpudWxsLH0pLCBxdWVyeVBhcmFtcyA9IHtmaWVsZHM6XCJuYW1lXCJ9LCB3b3JrbG9hZFRhZyA9IGVlLmRhdGEuZ2V0V29ya2xvYWRUYWcoKTtcbiAgd29ya2xvYWRUYWcgJiYgKHF1ZXJ5UGFyYW1zLndvcmtsb2FkVGFnID0gd29ya2xvYWRUYWcpO1xuICB2YXIgY2FsbCA9IG5ldyBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X0NhbGwob3B0X2NhbGxiYWNrKTtcbiAgcmV0dXJuIGNhbGwuaGFuZGxlKGNhbGwudGh1bWJuYWlscygpLmNyZWF0ZShjYWxsLnByb2plY3RzUGF0aCgpLCB0aHVtYm5haWwsIHF1ZXJ5UGFyYW1zKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgcmV0dXJuIHtkb2NpZDpyZXNwb25zZS5uYW1lLCB0b2tlbjpcIlwifTtcbiAgfSkpO1xufTtcbmdvb2cuZXhwb3J0U3ltYm9sKFwiZWUuZGF0YS5nZXREb3dubG9hZElkXCIsIGVlLmRhdGEuZ2V0RG93bmxvYWRJZCk7XG5lZS5kYXRhLm1ha2VEb3dubG9hZFVybCA9IGZ1bmN0aW9uKGlkKSB7XG4gIG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LmluaXRpYWxpemUoKTtcbiAgcmV0dXJuIG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LmdldFRpbGVCYXNlVXJsKCkgKyBcIi9cIiArIG1vZHVsZSRleHBvcnRzJGVlJGFwaVZlcnNpb24uVjFBTFBIQSArIFwiL1wiICsgaWQuZG9jaWQgKyBcIjpnZXRQaXhlbHNcIjtcbn07XG5nb29nLmV4cG9ydFN5bWJvbChcImVlLmRhdGEubWFrZURvd25sb2FkVXJsXCIsIGVlLmRhdGEubWFrZURvd25sb2FkVXJsKTtcbmVlLmRhdGEuZ2V0VGFibGVEb3dubG9hZElkID0gZnVuY3Rpb24ocGFyYW1zLCBvcHRfY2FsbGJhY2spIHtcbiAgdmFyIGNhbGwgPSBuZXcgbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9DYWxsKG9wdF9jYWxsYmFjayksIGZpbGVGb3JtYXQgPSBlZS5ycGNfY29udmVydC50YWJsZUZpbGVGb3JtYXQocGFyYW1zLmZvcm1hdCksIGV4cHJlc3Npb24gPSBlZS5kYXRhLmV4cHJlc3Npb25BdWdtZW50ZXJfKGVlLlNlcmlhbGl6ZXIuZW5jb2RlQ2xvdWRBcGlFeHByZXNzaW9uKHBhcmFtcy50YWJsZSkpLCBzZWxlY3RvcnMgPSBudWxsO1xuICBpZiAobnVsbCAhPSBwYXJhbXMuc2VsZWN0b3JzKSB7XG4gICAgaWYgKFwic3RyaW5nXCIgPT09IHR5cGVvZiBwYXJhbXMuc2VsZWN0b3JzKSB7XG4gICAgICBzZWxlY3RvcnMgPSBwYXJhbXMuc2VsZWN0b3JzLnNwbGl0KFwiLFwiKTtcbiAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkocGFyYW1zLnNlbGVjdG9ycykgJiYgcGFyYW1zLnNlbGVjdG9ycy5ldmVyeShmdW5jdGlvbih4KSB7XG4gICAgICByZXR1cm4gXCJzdHJpbmdcIiA9PT0gdHlwZW9mIHg7XG4gICAgfSkpIHtcbiAgICAgIHNlbGVjdG9ycyA9IHBhcmFtcy5zZWxlY3RvcnM7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IEVycm9yKFwiJ3NlbGVjdG9ycycgcGFyYW1ldGVyIG11c3QgYmUgYW4gYXJyYXkgb2Ygc3RyaW5ncy5cIik7XG4gICAgfVxuICB9XG4gIHZhciB0YWJsZSA9IG5ldyBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRhYmxlKHtuYW1lOm51bGwsIGV4cHJlc3Npb246ZXhwcmVzc2lvbiwgZmlsZUZvcm1hdDpmaWxlRm9ybWF0LCBzZWxlY3RvcnM6c2VsZWN0b3JzLCBmaWxlbmFtZTpwYXJhbXMuZmlsZW5hbWUgfHwgbnVsbCx9KSwgcXVlcnlQYXJhbXMgPSB7ZmllbGRzOlwibmFtZVwifSwgd29ya2xvYWRUYWcgPSBlZS5kYXRhLmdldFdvcmtsb2FkVGFnKCk7XG4gIHdvcmtsb2FkVGFnICYmIChxdWVyeVBhcmFtcy53b3JrbG9hZFRhZyA9IHdvcmtsb2FkVGFnKTtcbiAgcmV0dXJuIGNhbGwuaGFuZGxlKGNhbGwudGFibGVzKCkuY3JlYXRlKGNhbGwucHJvamVjdHNQYXRoKCksIHRhYmxlLCBxdWVyeVBhcmFtcykudGhlbihmdW5jdGlvbihyZXMpIHtcbiAgICByZXR1cm4ge2RvY2lkOnJlcy5uYW1lIHx8IFwiXCIsIHRva2VuOlwiXCJ9O1xuICB9KSk7XG59O1xuZ29vZy5leHBvcnRTeW1ib2woXCJlZS5kYXRhLmdldFRhYmxlRG93bmxvYWRJZFwiLCBlZS5kYXRhLmdldFRhYmxlRG93bmxvYWRJZCk7XG5lZS5kYXRhLm1ha2VUYWJsZURvd25sb2FkVXJsID0gZnVuY3Rpb24oaWQpIHtcbiAgcmV0dXJuIG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LmdldFRpbGVCYXNlVXJsKCkgKyBcIi9cIiArIG1vZHVsZSRleHBvcnRzJGVlJGFwaVZlcnNpb24uVjFBTFBIQSArIFwiL1wiICsgaWQuZG9jaWQgKyBcIjpnZXRGZWF0dXJlc1wiO1xufTtcbmdvb2cuZXhwb3J0U3ltYm9sKFwiZWUuZGF0YS5tYWtlVGFibGVEb3dubG9hZFVybFwiLCBlZS5kYXRhLm1ha2VUYWJsZURvd25sb2FkVXJsKTtcbmVlLmRhdGEubmV3VGFza0lkID0gZnVuY3Rpb24ob3B0X2NvdW50LCBvcHRfY2FsbGJhY2spIHtcbiAgdmFyIHJhbmQgPSBmdW5jdGlvbihuKSB7XG4gICAgcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIG4pO1xuICB9LCBoZXggPSBmdW5jdGlvbihkKSB7XG4gICAgcmV0dXJuIHJhbmQoTWF0aC5wb3coMiwgNCAqIGQpKS50b1N0cmluZygxNikucGFkU3RhcnQoZCwgXCIwXCIpO1xuICB9LCB2YXJpYW50UGFydCA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiAoOCArIHJhbmQoNCkpLnRvU3RyaW5nKDE2KSArIGhleCgzKTtcbiAgfSwgdXVpZHMgPSBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9yYW5nZShvcHRfY291bnQgfHwgMSkubWFwKGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBbaGV4KDgpLCBoZXgoNCksIFwiNFwiICsgaGV4KDMpLCB2YXJpYW50UGFydCgpLCBoZXgoMTIpXS5qb2luKFwiLVwiKTtcbiAgfSk7XG4gIHJldHVybiBvcHRfY2FsbGJhY2sgPyBvcHRfY2FsbGJhY2sodXVpZHMpIDogdXVpZHM7XG59O1xuZ29vZy5leHBvcnRTeW1ib2woXCJlZS5kYXRhLm5ld1Rhc2tJZFwiLCBlZS5kYXRhLm5ld1Rhc2tJZCk7XG5lZS5kYXRhLmdldFRhc2tTdGF0dXMgPSBmdW5jdGlvbih0YXNrSWQsIG9wdF9jYWxsYmFjaykge1xuICB2YXIgb3BOYW1lcyA9IGVlLmRhdGEubWFrZVN0cmluZ0FycmF5Xyh0YXNrSWQpLm1hcChlZS5ycGNfY29udmVydC50YXNrSWRUb09wZXJhdGlvbk5hbWUpO1xuICBpZiAoMSA9PT0gb3BOYW1lcy5sZW5ndGgpIHtcbiAgICB2YXIgY2FsbCQ2NiA9IG5ldyBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X0NhbGwob3B0X2NhbGxiYWNrKTtcbiAgICByZXR1cm4gY2FsbCQ2Ni5oYW5kbGUoY2FsbCQ2Ni5vcGVyYXRpb25zKCkuZ2V0KG9wTmFtZXNbMF0pLnRoZW4oZnVuY3Rpb24ob3ApIHtcbiAgICAgIHJldHVybiBbZWUucnBjX2NvbnZlcnQub3BlcmF0aW9uVG9UYXNrKG9wKV07XG4gICAgfSkpO1xuICB9XG4gIHZhciBjYWxsID0gbmV3IG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfQmF0Y2hDYWxsKG9wdF9jYWxsYmFjayksIG9wZXJhdGlvbnMgPSBjYWxsLm9wZXJhdGlvbnMoKTtcbiAgcmV0dXJuIGNhbGwuc2VuZChvcE5hbWVzLm1hcChmdW5jdGlvbihvcCkge1xuICAgIHJldHVybiBbb3AsIG9wZXJhdGlvbnMuZ2V0KG9wKV07XG4gIH0pLCBmdW5jdGlvbihkYXRhKSB7XG4gICAgcmV0dXJuIG9wTmFtZXMubWFwKGZ1bmN0aW9uKGlkKSB7XG4gICAgICByZXR1cm4gZWUucnBjX2NvbnZlcnQub3BlcmF0aW9uVG9UYXNrKGRhdGFbaWRdKTtcbiAgICB9KTtcbiAgfSk7XG59O1xuZ29vZy5leHBvcnRTeW1ib2woXCJlZS5kYXRhLmdldFRhc2tTdGF0dXNcIiwgZWUuZGF0YS5nZXRUYXNrU3RhdHVzKTtcbmVlLmRhdGEubWFrZVN0cmluZ0FycmF5XyA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gIGlmIChcInN0cmluZ1wiID09PSB0eXBlb2YgdmFsdWUpIHtcbiAgICByZXR1cm4gW3ZhbHVlXTtcbiAgfVxuICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cbiAgdGhyb3cgRXJyb3IoXCJJbnZhbGlkIHZhbHVlOiBleHBlY3RlZCBhIHN0cmluZyBvciBhbiBhcnJheSBvZiBzdHJpbmdzLlwiKTtcbn07XG5lZS5kYXRhLlRBU0tMSVNUX1BBR0VfU0laRV8gPSA1MDA7XG5lZS5kYXRhLmdldFRhc2tMaXN0ID0gZnVuY3Rpb24ob3B0X2NhbGxiYWNrKSB7XG4gIHJldHVybiBlZS5kYXRhLmdldFRhc2tMaXN0V2l0aExpbWl0KHZvaWQgMCwgb3B0X2NhbGxiYWNrKTtcbn07XG5nb29nLmV4cG9ydFN5bWJvbChcImVlLmRhdGEuZ2V0VGFza0xpc3RcIiwgZWUuZGF0YS5nZXRUYXNrTGlzdCk7XG5lZS5kYXRhLmdldFRhc2tMaXN0V2l0aExpbWl0ID0gZnVuY3Rpb24ob3B0X2xpbWl0LCBvcHRfY2FsbGJhY2spIHtcbiAgdmFyIGNvbnZlcnQgPSBmdW5jdGlvbihvcHMpIHtcbiAgICByZXR1cm4ge3Rhc2tzOm9wcy5tYXAoZWUucnBjX2NvbnZlcnQub3BlcmF0aW9uVG9UYXNrKX07XG4gIH07XG4gIHJldHVybiBvcHRfY2FsbGJhY2sgPyAoZWUuZGF0YS5saXN0T3BlcmF0aW9ucyhvcHRfbGltaXQsIGZ1bmN0aW9uKHYsIGUpIHtcbiAgICByZXR1cm4gb3B0X2NhbGxiYWNrKHYgPyBjb252ZXJ0KHYpIDogbnVsbCwgZSk7XG4gIH0pLCBudWxsKSA6IGNvbnZlcnQoZWUuZGF0YS5saXN0T3BlcmF0aW9ucyhvcHRfbGltaXQpKTtcbn07XG5nb29nLmV4cG9ydFN5bWJvbChcImVlLmRhdGEuZ2V0VGFza0xpc3RXaXRoTGltaXRcIiwgZWUuZGF0YS5nZXRUYXNrTGlzdFdpdGhMaW1pdCk7XG5lZS5kYXRhLmxpc3RPcGVyYXRpb25zID0gZnVuY3Rpb24ob3B0X2xpbWl0LCBvcHRfY2FsbGJhY2spIHtcbiAgdmFyIG9wcyA9IFtdLCB0cnVuY2F0ZWRPcHMgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gb3B0X2xpbWl0ID8gb3BzLnNsaWNlKDAsIG9wdF9saW1pdCkgOiBvcHM7XG4gIH0sIHBhcmFtcyA9IHtwYWdlU2l6ZTplZS5kYXRhLlRBU0tMSVNUX1BBR0VfU0laRV99LCBnZXRSZXNwb25zZSA9IGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfZXh0ZW5kKG9wcywgcmVzcG9uc2Uub3BlcmF0aW9ucyB8fCBbXSk7XG4gICAgIXJlc3BvbnNlLm5leHRQYWdlVG9rZW4gfHwgb3B0X2xpbWl0ICYmIG9wcy5sZW5ndGggPj0gb3B0X2xpbWl0ID8gb3B0X2NhbGxiYWNrICYmIG9wdF9jYWxsYmFjayh0cnVuY2F0ZWRPcHMoKSkgOiAocGFyYW1zLnBhZ2VUb2tlbiA9IHJlc3BvbnNlLm5leHRQYWdlVG9rZW4sIGNhbGwuaGFuZGxlKG9wZXJhdGlvbnMubGlzdChjYWxsLnByb2plY3RzUGF0aCgpLCBwYXJhbXMpLnRoZW4oZ2V0UmVzcG9uc2UpKSk7XG4gICAgcmV0dXJuIG51bGw7XG4gIH0sIGNhbGwgPSBuZXcgbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9DYWxsKG9wdF9jYWxsYmFjayA/IGZ1bmN0aW9uKHZhbHVlLCBlcnIpIHtcbiAgICByZXR1cm4gZXJyICYmIG9wdF9jYWxsYmFjayh2YWx1ZSwgZXJyKTtcbiAgfSA6IHZvaWQgMCksIG9wZXJhdGlvbnMgPSBjYWxsLm9wZXJhdGlvbnMoKTtcbiAgY2FsbC5oYW5kbGUob3BlcmF0aW9ucy5saXN0KGNhbGwucHJvamVjdHNQYXRoKCksIHBhcmFtcykudGhlbihnZXRSZXNwb25zZSkpO1xuICByZXR1cm4gb3B0X2NhbGxiYWNrID8gbnVsbCA6IHRydW5jYXRlZE9wcygpO1xufTtcbmdvb2cuZXhwb3J0U3ltYm9sKFwiZWUuZGF0YS5saXN0T3BlcmF0aW9uc1wiLCBlZS5kYXRhLmxpc3RPcGVyYXRpb25zKTtcbmVlLmRhdGEuY2FuY2VsT3BlcmF0aW9uID0gZnVuY3Rpb24ob3BlcmF0aW9uTmFtZSwgb3B0X2NhbGxiYWNrKSB7XG4gIHZhciBvcE5hbWVzID0gZWUuZGF0YS5tYWtlU3RyaW5nQXJyYXlfKG9wZXJhdGlvbk5hbWUpLCByZXF1ZXN0ID0gbmV3IG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ2FuY2VsT3BlcmF0aW9uUmVxdWVzdCgpO1xuICBpZiAoMSA9PT0gb3BOYW1lcy5sZW5ndGgpIHtcbiAgICB2YXIgY2FsbCQ2NyA9IG5ldyBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X0NhbGwob3B0X2NhbGxiYWNrKTtcbiAgICBjYWxsJDY3LmhhbmRsZShjYWxsJDY3Lm9wZXJhdGlvbnMoKS5jYW5jZWwob3BOYW1lc1swXSwgcmVxdWVzdCkpO1xuICB9IGVsc2Uge1xuICAgIHZhciBjYWxsID0gbmV3IG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfQmF0Y2hDYWxsKG9wdF9jYWxsYmFjayksIG9wZXJhdGlvbnMgPSBjYWxsLm9wZXJhdGlvbnMoKTtcbiAgICBjYWxsLnNlbmQob3BOYW1lcy5tYXAoZnVuY3Rpb24ob3ApIHtcbiAgICAgIHJldHVybiBbb3AsIG9wZXJhdGlvbnMuY2FuY2VsKG9wLCByZXF1ZXN0KV07XG4gICAgfSkpO1xuICB9XG59O1xuZ29vZy5leHBvcnRTeW1ib2woXCJlZS5kYXRhLmNhbmNlbE9wZXJhdGlvblwiLCBlZS5kYXRhLmNhbmNlbE9wZXJhdGlvbik7XG5lZS5kYXRhLmdldE9wZXJhdGlvbiA9IGZ1bmN0aW9uKG9wZXJhdGlvbk5hbWUsIG9wdF9jYWxsYmFjaykge1xuICB2YXIgb3BOYW1lcyA9IGVlLmRhdGEubWFrZVN0cmluZ0FycmF5XyhvcGVyYXRpb25OYW1lKS5tYXAoZWUucnBjX2NvbnZlcnQudGFza0lkVG9PcGVyYXRpb25OYW1lKTtcbiAgaWYgKCFBcnJheS5pc0FycmF5KG9wZXJhdGlvbk5hbWUpKSB7XG4gICAgdmFyIGNhbGwkNjggPSBuZXcgbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9DYWxsKG9wdF9jYWxsYmFjayk7XG4gICAgcmV0dXJuIGNhbGwkNjguaGFuZGxlKGNhbGwkNjgub3BlcmF0aW9ucygpLmdldChvcE5hbWVzWzBdKSk7XG4gIH1cbiAgdmFyIGNhbGwgPSBuZXcgbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9CYXRjaENhbGwob3B0X2NhbGxiYWNrKSwgb3BlcmF0aW9ucyA9IGNhbGwub3BlcmF0aW9ucygpO1xuICByZXR1cm4gY2FsbC5zZW5kKG9wTmFtZXMubWFwKGZ1bmN0aW9uKG9wKSB7XG4gICAgcmV0dXJuIFtvcCwgb3BlcmF0aW9ucy5nZXQob3ApXTtcbiAgfSkpO1xufTtcbmdvb2cuZXhwb3J0U3ltYm9sKFwiZWUuZGF0YS5nZXRPcGVyYXRpb25cIiwgZWUuZGF0YS5nZXRPcGVyYXRpb24pO1xuZWUuZGF0YS5jYW5jZWxUYXNrID0gZnVuY3Rpb24odGFza0lkLCBvcHRfY2FsbGJhY2spIHtcbiAgcmV0dXJuIGVlLmRhdGEudXBkYXRlVGFzayh0YXNrSWQsIGVlLmRhdGEuVGFza1VwZGF0ZUFjdGlvbnMuQ0FOQ0VMLCBvcHRfY2FsbGJhY2spO1xufTtcbmdvb2cuZXhwb3J0U3ltYm9sKFwiZWUuZGF0YS5jYW5jZWxUYXNrXCIsIGVlLmRhdGEuY2FuY2VsVGFzayk7XG5lZS5kYXRhLnVwZGF0ZVRhc2sgPSBmdW5jdGlvbih0YXNrSWQsIGFjdGlvbiwgb3B0X2NhbGxiYWNrKSB7XG4gIGlmICghbW9kdWxlJGNvbnRlbnRzJGdvb2ckb2JqZWN0X2NvbnRhaW5zVmFsdWUoZWUuZGF0YS5UYXNrVXBkYXRlQWN0aW9ucywgYWN0aW9uKSkge1xuICAgIHRocm93IEVycm9yKFwiSW52YWxpZCBhY3Rpb246IFwiICsgYWN0aW9uKTtcbiAgfVxuICB0YXNrSWQgPSBlZS5kYXRhLm1ha2VTdHJpbmdBcnJheV8odGFza0lkKTtcbiAgdmFyIG9wZXJhdGlvbnMgPSB0YXNrSWQubWFwKGVlLnJwY19jb252ZXJ0LnRhc2tJZFRvT3BlcmF0aW9uTmFtZSk7XG4gIGVlLmRhdGEuY2FuY2VsT3BlcmF0aW9uKG9wZXJhdGlvbnMsIG9wdF9jYWxsYmFjayk7XG4gIHJldHVybiBudWxsO1xufTtcbmdvb2cuZXhwb3J0U3ltYm9sKFwiZWUuZGF0YS51cGRhdGVUYXNrXCIsIGVlLmRhdGEudXBkYXRlVGFzayk7XG5lZS5kYXRhLnN0YXJ0UHJvY2Vzc2luZyA9IGZ1bmN0aW9uKHRhc2tJZCwgcGFyYW1zLCBvcHRfY2FsbGJhY2spIHtcbiAgcGFyYW1zLmlkID0gdGFza0lkO1xuICB2YXIgdGFza1R5cGUgPSBwYXJhbXMudHlwZSwgbWV0YWRhdGEgPSBudWxsICE9IHBhcmFtcy5zb3VyY2VVcmwgPyB7X19zb3VyY2VfdXJsX186cGFyYW1zLnNvdXJjZVVybH0gOiB7fTtcbiAgaWYgKFwid29ya2xvYWRUYWdcIiBpbiBwYXJhbXMpIHtcbiAgICBwYXJhbXMud29ya2xvYWRUYWcgfHwgZGVsZXRlIHBhcmFtcy53b3JrbG9hZFRhZztcbiAgfSBlbHNlIHtcbiAgICB2YXIgd29ya2xvYWRUYWcgPSBlZS5kYXRhLmdldFdvcmtsb2FkVGFnKCk7XG4gICAgd29ya2xvYWRUYWcgJiYgKHBhcmFtcy53b3JrbG9hZFRhZyA9IHdvcmtsb2FkVGFnKTtcbiAgfVxuICB2YXIgY2FsbCA9IG5ldyBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X0NhbGwob3B0X2NhbGxiYWNrKSwgaGFuZGxlID0gZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICByZXR1cm4gY2FsbC5oYW5kbGUocmVzcG9uc2UudGhlbihlZS5ycGNfY29udmVydC5vcGVyYXRpb25Ub1Byb2Nlc3NpbmdSZXNwb25zZSkpO1xuICB9O1xuICBzd2l0Y2godGFza1R5cGUpIHtcbiAgICBjYXNlIGVlLmRhdGEuRXhwb3J0VHlwZS5JTUFHRTpcbiAgICAgIHZhciBpbWFnZVJlcXVlc3QgPSBlZS5kYXRhLnByZXBhcmVFeHBvcnRJbWFnZVJlcXVlc3RfKHBhcmFtcywgbWV0YWRhdGEpO1xuICAgICAgcmV0dXJuIGhhbmRsZShjYWxsLmltYWdlKCkuZXhwb3J0KGNhbGwucHJvamVjdHNQYXRoKCksIGltYWdlUmVxdWVzdCkpO1xuICAgIGNhc2UgZWUuZGF0YS5FeHBvcnRUeXBlLlRBQkxFOlxuICAgICAgdmFyIHRhYmxlUmVxdWVzdCA9IGVlLnJwY19jb252ZXJ0X2JhdGNoLnRhc2tUb0V4cG9ydFRhYmxlUmVxdWVzdChwYXJhbXMpO1xuICAgICAgdGFibGVSZXF1ZXN0LmV4cHJlc3Npb24gPSBlZS5kYXRhLmV4cHJlc3Npb25BdWdtZW50ZXJfKHRhYmxlUmVxdWVzdC5leHByZXNzaW9uLCBtZXRhZGF0YSk7XG4gICAgICByZXR1cm4gaGFuZGxlKGNhbGwudGFibGUoKS5leHBvcnQoY2FsbC5wcm9qZWN0c1BhdGgoKSwgdGFibGVSZXF1ZXN0KSk7XG4gICAgY2FzZSBlZS5kYXRhLkV4cG9ydFR5cGUuVklERU86XG4gICAgICB2YXIgdmlkZW9SZXF1ZXN0ID0gZWUuZGF0YS5wcmVwYXJlRXhwb3J0VmlkZW9SZXF1ZXN0XyhwYXJhbXMsIG1ldGFkYXRhKTtcbiAgICAgIHJldHVybiBoYW5kbGUoY2FsbC52aWRlbygpLmV4cG9ydChjYWxsLnByb2plY3RzUGF0aCgpLCB2aWRlb1JlcXVlc3QpKTtcbiAgICBjYXNlIGVlLmRhdGEuRXhwb3J0VHlwZS5NQVA6XG4gICAgICB2YXIgbWFwUmVxdWVzdCA9IGVlLmRhdGEucHJlcGFyZUV4cG9ydE1hcFJlcXVlc3RfKHBhcmFtcywgbWV0YWRhdGEpO1xuICAgICAgcmV0dXJuIGhhbmRsZShjYWxsLm1hcCgpLmV4cG9ydChjYWxsLnByb2plY3RzUGF0aCgpLCBtYXBSZXF1ZXN0KSk7XG4gICAgY2FzZSBlZS5kYXRhLkV4cG9ydFR5cGUuVklERU9fTUFQOlxuICAgICAgdmFyIHZpZGVvTWFwUmVxdWVzdCA9IGVlLmRhdGEucHJlcGFyZUV4cG9ydFZpZGVvTWFwUmVxdWVzdF8ocGFyYW1zLCBtZXRhZGF0YSk7XG4gICAgICByZXR1cm4gaGFuZGxlKGNhbGwudmlkZW9NYXAoKS5leHBvcnQoY2FsbC5wcm9qZWN0c1BhdGgoKSwgdmlkZW9NYXBSZXF1ZXN0KSk7XG4gICAgY2FzZSBlZS5kYXRhLkV4cG9ydFR5cGUuQ0xBU1NJRklFUjpcbiAgICAgIHZhciBjbGFzc2lmaWVyUmVxdWVzdCA9IGVlLmRhdGEucHJlcGFyZUV4cG9ydENsYXNzaWZpZXJSZXF1ZXN0XyhwYXJhbXMsIG1ldGFkYXRhKTtcbiAgICAgIHJldHVybiBoYW5kbGUoY2FsbC5jbGFzc2lmaWVyKCkuZXhwb3J0KGNhbGwucHJvamVjdHNQYXRoKCksIGNsYXNzaWZpZXJSZXF1ZXN0KSk7XG4gICAgZGVmYXVsdDpcbiAgICAgIHRocm93IEVycm9yKFwiVW5hYmxlIHRvIHN0YXJ0IHByb2Nlc3NpbmcgZm9yIHRhc2sgb2YgdHlwZSBcIiArIHRhc2tUeXBlKTtcbiAgfVxufTtcbmdvb2cuZXhwb3J0U3ltYm9sKFwiZWUuZGF0YS5zdGFydFByb2Nlc3NpbmdcIiwgZWUuZGF0YS5zdGFydFByb2Nlc3NpbmcpO1xuZWUuZGF0YS5wcmVwYXJlRXhwb3J0SW1hZ2VSZXF1ZXN0XyA9IGZ1bmN0aW9uKHRhc2tDb25maWcsIG1ldGFkYXRhKSB7XG4gIHZhciBpbWFnZVRhc2sgPSBlZS5kYXRhLmltYWdlcy5hcHBseVRyYW5zZm9ybXNUb0ltYWdlKHRhc2tDb25maWcpLCBpbWFnZVJlcXVlc3QgPSBlZS5ycGNfY29udmVydF9iYXRjaC50YXNrVG9FeHBvcnRJbWFnZVJlcXVlc3QoaW1hZ2VUYXNrKTtcbiAgaW1hZ2VSZXF1ZXN0LmV4cHJlc3Npb24gPSBlZS5kYXRhLmV4cHJlc3Npb25BdWdtZW50ZXJfKGltYWdlUmVxdWVzdC5leHByZXNzaW9uLCBtZXRhZGF0YSk7XG4gIHRhc2tDb25maWcud29ya2xvYWRUYWcgJiYgKGltYWdlUmVxdWVzdC53b3JrbG9hZFRhZyA9IHRhc2tDb25maWcud29ya2xvYWRUYWcpO1xuICByZXR1cm4gaW1hZ2VSZXF1ZXN0O1xufTtcbmVlLmRhdGEucHJlcGFyZUV4cG9ydFZpZGVvUmVxdWVzdF8gPSBmdW5jdGlvbih0YXNrQ29uZmlnLCBtZXRhZGF0YSkge1xuICB2YXIgdmlkZW9UYXNrID0gZWUuZGF0YS5pbWFnZXMuYXBwbHlUcmFuc2Zvcm1zVG9Db2xsZWN0aW9uKHRhc2tDb25maWcpLCB2aWRlb1JlcXVlc3QgPSBlZS5ycGNfY29udmVydF9iYXRjaC50YXNrVG9FeHBvcnRWaWRlb1JlcXVlc3QodmlkZW9UYXNrKTtcbiAgdmlkZW9SZXF1ZXN0LmV4cHJlc3Npb24gPSBlZS5kYXRhLmV4cHJlc3Npb25BdWdtZW50ZXJfKHZpZGVvUmVxdWVzdC5leHByZXNzaW9uLCBtZXRhZGF0YSk7XG4gIHRhc2tDb25maWcud29ya2xvYWRUYWcgJiYgKHZpZGVvUmVxdWVzdC53b3JrbG9hZFRhZyA9IHRhc2tDb25maWcud29ya2xvYWRUYWcpO1xuICByZXR1cm4gdmlkZW9SZXF1ZXN0O1xufTtcbmVlLmRhdGEucHJlcGFyZUV4cG9ydE1hcFJlcXVlc3RfID0gZnVuY3Rpb24odGFza0NvbmZpZywgbWV0YWRhdGEpIHtcbiAgdmFyIHNjYWxlID0gdGFza0NvbmZpZy5zY2FsZTtcbiAgZGVsZXRlIHRhc2tDb25maWcuc2NhbGU7XG4gIHZhciBtYXBUYXNrID0gZWUuZGF0YS5pbWFnZXMuYXBwbHlUcmFuc2Zvcm1zVG9JbWFnZSh0YXNrQ29uZmlnKTtcbiAgbWFwVGFzay5zY2FsZSA9IHNjYWxlO1xuICB2YXIgbWFwUmVxdWVzdCA9IGVlLnJwY19jb252ZXJ0X2JhdGNoLnRhc2tUb0V4cG9ydE1hcFJlcXVlc3QobWFwVGFzayk7XG4gIG1hcFJlcXVlc3QuZXhwcmVzc2lvbiA9IGVlLmRhdGEuZXhwcmVzc2lvbkF1Z21lbnRlcl8obWFwUmVxdWVzdC5leHByZXNzaW9uLCBtZXRhZGF0YSk7XG4gIHRhc2tDb25maWcud29ya2xvYWRUYWcgJiYgKG1hcFJlcXVlc3Qud29ya2xvYWRUYWcgPSB0YXNrQ29uZmlnLndvcmtsb2FkVGFnKTtcbiAgcmV0dXJuIG1hcFJlcXVlc3Q7XG59O1xuZWUuZGF0YS5wcmVwYXJlRXhwb3J0VmlkZW9NYXBSZXF1ZXN0XyA9IGZ1bmN0aW9uKHRhc2tDb25maWcsIG1ldGFkYXRhKSB7XG4gIHZhciBzY2FsZSA9IHRhc2tDb25maWcuc2NhbGU7XG4gIGRlbGV0ZSB0YXNrQ29uZmlnLnNjYWxlO1xuICB2YXIgdmlkZW9NYXBUYXNrID0gZWUuZGF0YS5pbWFnZXMuYXBwbHlUcmFuc2Zvcm1zVG9Db2xsZWN0aW9uKHRhc2tDb25maWcpO1xuICB2aWRlb01hcFRhc2suc2NhbGUgPSBzY2FsZTtcbiAgdmFyIHZpZGVvTWFwUmVxdWVzdCA9IGVlLnJwY19jb252ZXJ0X2JhdGNoLnRhc2tUb0V4cG9ydFZpZGVvTWFwUmVxdWVzdCh2aWRlb01hcFRhc2spO1xuICB2aWRlb01hcFJlcXVlc3QuZXhwcmVzc2lvbiA9IGVlLmRhdGEuZXhwcmVzc2lvbkF1Z21lbnRlcl8odmlkZW9NYXBSZXF1ZXN0LmV4cHJlc3Npb24pO1xuICB0YXNrQ29uZmlnLndvcmtsb2FkVGFnICYmICh2aWRlb01hcFJlcXVlc3Qud29ya2xvYWRUYWcgPSB0YXNrQ29uZmlnLndvcmtsb2FkVGFnKTtcbiAgcmV0dXJuIHZpZGVvTWFwUmVxdWVzdDtcbn07XG5lZS5kYXRhLnByZXBhcmVFeHBvcnRDbGFzc2lmaWVyUmVxdWVzdF8gPSBmdW5jdGlvbih0YXNrQ29uZmlnLCBtZXRhZGF0YSkge1xuICB2YXIgY2xhc3NpZmllclJlcXVlc3QgPSBlZS5ycGNfY29udmVydF9iYXRjaC50YXNrVG9FeHBvcnRDbGFzc2lmaWVyUmVxdWVzdCh0YXNrQ29uZmlnKTtcbiAgY2xhc3NpZmllclJlcXVlc3QuZXhwcmVzc2lvbiA9IGVlLmRhdGEuZXhwcmVzc2lvbkF1Z21lbnRlcl8oY2xhc3NpZmllclJlcXVlc3QuZXhwcmVzc2lvbik7XG4gIHRhc2tDb25maWcud29ya2xvYWRUYWcgJiYgKGNsYXNzaWZpZXJSZXF1ZXN0Lndvcmtsb2FkVGFnID0gdGFza0NvbmZpZy53b3JrbG9hZFRhZyk7XG4gIHJldHVybiBjbGFzc2lmaWVyUmVxdWVzdDtcbn07XG5lZS5kYXRhLnN0YXJ0SW5nZXN0aW9uID0gZnVuY3Rpb24odGFza0lkLCByZXF1ZXN0LCBvcHRfY2FsbGJhY2spIHtcbiAgdmFyIG1hbmlmZXN0ID0gZWUucnBjX2NvbnZlcnQudG9JbWFnZU1hbmlmZXN0KHJlcXVlc3QpLCBjb252ZXJ0ID0gZnVuY3Rpb24oYXJnKSB7XG4gICAgcmV0dXJuIGFyZyA/IGVlLnJwY19jb252ZXJ0Lm9wZXJhdGlvblRvUHJvY2Vzc2luZ1Jlc3BvbnNlKGFyZykgOiBudWxsO1xuICB9O1xuICByZXR1cm4gY29udmVydChlZS5kYXRhLmluZ2VzdEltYWdlKHRhc2tJZCwgbWFuaWZlc3QsIG9wdF9jYWxsYmFjayAmJiBmdW5jdGlvbihhcmcsIGVycikge1xuICAgIHJldHVybiBvcHRfY2FsbGJhY2soY29udmVydChhcmcpLCBlcnIpO1xuICB9KSk7XG59O1xuZ29vZy5leHBvcnRTeW1ib2woXCJlZS5kYXRhLnN0YXJ0SW5nZXN0aW9uXCIsIGVlLmRhdGEuc3RhcnRJbmdlc3Rpb24pO1xuZWUuZGF0YS5pbmdlc3RJbWFnZSA9IGZ1bmN0aW9uKHRhc2tJZCwgaW1hZ2VNYW5pZmVzdCwgY2FsbGJhY2spIHtcbiAgdmFyIHJlcXVlc3QgPSBuZXcgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JbXBvcnRJbWFnZVJlcXVlc3Qoe2ltYWdlTWFuaWZlc3Q6aW1hZ2VNYW5pZmVzdCwgcmVxdWVzdElkOnRhc2tJZCwgb3ZlcndyaXRlOm51bGwsIGRlc2NyaXB0aW9uOm51bGwsfSksIGNhbGwgPSBuZXcgbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9DYWxsKGNhbGxiYWNrLCB0YXNrSWQgPyB2b2lkIDAgOiAwKTtcbiAgcmV0dXJuIGNhbGwuaGFuZGxlKGNhbGwuaW1hZ2UoKS5pbXBvcnQoY2FsbC5wcm9qZWN0c1BhdGgoKSwgcmVxdWVzdCkpO1xufTtcbmVlLmRhdGEuaW5nZXN0VGFibGUgPSBmdW5jdGlvbih0YXNrSWQsIHRhYmxlTWFuaWZlc3QsIGNhbGxiYWNrKSB7XG4gIHZhciByZXF1ZXN0ID0gbmV3IG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSW1wb3J0VGFibGVSZXF1ZXN0KHt0YWJsZU1hbmlmZXN0OnRhYmxlTWFuaWZlc3QsIHJlcXVlc3RJZDp0YXNrSWQsIG92ZXJ3cml0ZTpudWxsLCBkZXNjcmlwdGlvbjpudWxsLH0pLCBjYWxsID0gbmV3IG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfQ2FsbChjYWxsYmFjaywgdGFza0lkID8gdm9pZCAwIDogMCk7XG4gIHJldHVybiBjYWxsLmhhbmRsZShjYWxsLnRhYmxlKCkuaW1wb3J0KGNhbGwucHJvamVjdHNQYXRoKCksIHJlcXVlc3QpKTtcbn07XG5lZS5kYXRhLnN0YXJ0VGFibGVJbmdlc3Rpb24gPSBmdW5jdGlvbih0YXNrSWQsIHJlcXVlc3QsIG9wdF9jYWxsYmFjaykge1xuICB2YXIgbWFuaWZlc3QgPSBlZS5ycGNfY29udmVydC50b1RhYmxlTWFuaWZlc3QocmVxdWVzdCksIGNvbnZlcnQgPSBmdW5jdGlvbihhcmcpIHtcbiAgICByZXR1cm4gYXJnID8gZWUucnBjX2NvbnZlcnQub3BlcmF0aW9uVG9Qcm9jZXNzaW5nUmVzcG9uc2UoYXJnKSA6IG51bGw7XG4gIH07XG4gIHJldHVybiBjb252ZXJ0KGVlLmRhdGEuaW5nZXN0VGFibGUodGFza0lkLCBtYW5pZmVzdCwgb3B0X2NhbGxiYWNrICYmIGZ1bmN0aW9uKGFyZywgZXJyKSB7XG4gICAgcmV0dXJuIG9wdF9jYWxsYmFjayhjb252ZXJ0KGFyZyksIGVycik7XG4gIH0pKTtcbn07XG5nb29nLmV4cG9ydFN5bWJvbChcImVlLmRhdGEuc3RhcnRUYWJsZUluZ2VzdGlvblwiLCBlZS5kYXRhLnN0YXJ0VGFibGVJbmdlc3Rpb24pO1xuZWUuZGF0YS5nZXRBc3NldCA9IGZ1bmN0aW9uKGlkLCBvcHRfY2FsbGJhY2spIHtcbiAgdmFyIGNhbGwgPSBuZXcgbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9DYWxsKG9wdF9jYWxsYmFjayksIG5hbWUgPSBlZS5ycGNfY29udmVydC5hc3NldElkVG9Bc3NldE5hbWUoaWQpO1xuICByZXR1cm4gY2FsbC5oYW5kbGUoY2FsbC5hc3NldHMoKS5nZXQobmFtZSwge3ByZXR0eVByaW50OiExfSkudGhlbihlZS5ycGNfY29udmVydC5hc3NldFRvTGVnYWN5UmVzdWx0KSk7XG59O1xuZ29vZy5leHBvcnRTeW1ib2woXCJlZS5kYXRhLmdldEFzc2V0XCIsIGVlLmRhdGEuZ2V0QXNzZXQpO1xuZWUuZGF0YS5nZXRJbmZvID0gZWUuZGF0YS5nZXRBc3NldDtcbmdvb2cuZXhwb3J0U3ltYm9sKFwiZWUuZGF0YS5nZXRJbmZvXCIsIGVlLmRhdGEuZ2V0SW5mbyk7XG5lZS5kYXRhLm1ha2VMaXN0QXNzZXRzQ2FsbF8gPSBmdW5jdGlvbihwYXJlbnQsIG9wdF9wYXJhbXMsIG9wdF9jYWxsYmFjaywgb3B0X3Bvc3RQcm9jZXNzaW5nKSB7XG4gIG9wdF9wYXJhbXMgPSB2b2lkIDAgPT09IG9wdF9wYXJhbXMgPyB7fSA6IG9wdF9wYXJhbXM7XG4gIG9wdF9wb3N0UHJvY2Vzc2luZyA9IHZvaWQgMCA9PT0gb3B0X3Bvc3RQcm9jZXNzaW5nID8gZ29vZy5mdW5jdGlvbnMuaWRlbnRpdHkgOiBvcHRfcG9zdFByb2Nlc3Npbmc7XG4gIHZhciBpc1Byb2plY3RBc3NldFJvb3QgPSBlZS5ycGNfY29udmVydC5DTE9VRF9BU1NFVF9ST09UX1JFLnRlc3QocGFyZW50KSwgY2FsbCA9IG5ldyBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X0NhbGwob3B0X2NhbGxiYWNrKSwgbWV0aG9kUm9vdCA9IGlzUHJvamVjdEFzc2V0Um9vdCA/IGNhbGwucHJvamVjdHMoKSA6IGNhbGwuYXNzZXRzKCk7XG4gIHBhcmVudCA9IGlzUHJvamVjdEFzc2V0Um9vdCA/IGVlLnJwY19jb252ZXJ0LnByb2plY3RQYXJlbnRGcm9tUGF0aChwYXJlbnQpIDogZWUucnBjX2NvbnZlcnQuYXNzZXRJZFRvQXNzZXROYW1lKHBhcmVudCk7XG4gIHJldHVybiBjYWxsLmhhbmRsZShtZXRob2RSb290Lmxpc3RBc3NldHMocGFyZW50LCBvcHRfcGFyYW1zKS50aGVuKG9wdF9wb3N0UHJvY2Vzc2luZykpO1xufTtcbmVlLmRhdGEuZ2V0TGlzdCA9IGZ1bmN0aW9uKHBhcmFtcywgb3B0X2NhbGxiYWNrKSB7XG4gIHJldHVybiBlZS5kYXRhLm1ha2VMaXN0QXNzZXRzQ2FsbF8ocGFyYW1zLmlkLCBlZS5ycGNfY29udmVydC5nZXRMaXN0VG9MaXN0QXNzZXRzKHBhcmFtcyksIG9wdF9jYWxsYmFjaywgZnVuY3Rpb24ocikge1xuICAgIHJldHVybiBudWxsID09IHIgPyBudWxsIDogZWUucnBjX2NvbnZlcnQubGlzdEFzc2V0c1RvR2V0TGlzdChyKTtcbiAgfSk7XG59O1xuZ29vZy5leHBvcnRTeW1ib2woXCJlZS5kYXRhLmdldExpc3RcIiwgZWUuZGF0YS5nZXRMaXN0KTtcbmVlLmRhdGEubGlzdEFzc2V0cyA9IGZ1bmN0aW9uKHBhcmVudCwgb3B0X3BhcmFtcywgb3B0X2NhbGxiYWNrKSB7XG4gIG9wdF9wYXJhbXMgPSB2b2lkIDAgPT09IG9wdF9wYXJhbXMgPyB7fSA6IG9wdF9wYXJhbXM7XG4gIHJldHVybiBlZS5kYXRhLm1ha2VMaXN0QXNzZXRzQ2FsbF8ocGFyZW50LCBvcHRfcGFyYW1zLCBvcHRfY2FsbGJhY2spO1xufTtcbmdvb2cuZXhwb3J0U3ltYm9sKFwiZWUuZGF0YS5saXN0QXNzZXRzXCIsIGVlLmRhdGEubGlzdEFzc2V0cyk7XG5lZS5kYXRhLmxpc3RJbWFnZXMgPSBmdW5jdGlvbihwYXJlbnQsIG9wdF9wYXJhbXMsIG9wdF9jYWxsYmFjaykge1xuICBvcHRfcGFyYW1zID0gdm9pZCAwID09PSBvcHRfcGFyYW1zID8ge30gOiBvcHRfcGFyYW1zO1xuICB2YXIgcGFyYW1zID0gZWUucnBjX2NvbnZlcnQucHJvY2Vzc0xpc3RJbWFnZXNQYXJhbXMob3B0X3BhcmFtcyk7XG4gIHJldHVybiBlZS5kYXRhLm1ha2VMaXN0QXNzZXRzQ2FsbF8ocGFyZW50LCBwYXJhbXMsIG9wdF9jYWxsYmFjaywgZnVuY3Rpb24ocikge1xuICAgIGlmIChudWxsID09IHIpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICB2YXIgbGlzdEltYWdlc1Jlc3BvbnNlID0ge307XG4gICAgci5hc3NldHMgJiYgKGxpc3RJbWFnZXNSZXNwb25zZS5pbWFnZXMgPSByLmFzc2V0cyk7XG4gICAgci5uZXh0UGFnZVRva2VuICYmIChsaXN0SW1hZ2VzUmVzcG9uc2UubmV4dFBhZ2VUb2tlbiA9IHIubmV4dFBhZ2VUb2tlbik7XG4gICAgcmV0dXJuIGxpc3RJbWFnZXNSZXNwb25zZTtcbiAgfSk7XG59O1xuZ29vZy5leHBvcnRTeW1ib2woXCJlZS5kYXRhLmxpc3RJbWFnZXNcIiwgZWUuZGF0YS5saXN0SW1hZ2VzKTtcbmVlLmRhdGEubGlzdEJ1Y2tldHMgPSBmdW5jdGlvbihwcm9qZWN0LCBvcHRfY2FsbGJhY2spIHtcbiAgdmFyIGNhbGwgPSBuZXcgbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9DYWxsKG9wdF9jYWxsYmFjayk7XG4gIHJldHVybiBjYWxsLmhhbmRsZShjYWxsLnByb2plY3RzKCkubGlzdEFzc2V0cyhwcm9qZWN0IHx8IGNhbGwucHJvamVjdHNQYXRoKCkpKTtcbn07XG5nb29nLmV4cG9ydFN5bWJvbChcImVlLmRhdGEubGlzdEJ1Y2tldHNcIiwgZWUuZGF0YS5saXN0QnVja2V0cyk7XG5lZS5kYXRhLmdldEFzc2V0Um9vdHMgPSBmdW5jdGlvbihvcHRfY2FsbGJhY2spIHtcbiAgdmFyIGNhbGwgPSBuZXcgbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9DYWxsKG9wdF9jYWxsYmFjayk7XG4gIHJldHVybiBjYWxsLmhhbmRsZShjYWxsLnByb2plY3RzKCkubGlzdEFzc2V0cyhjYWxsLnByb2plY3RzUGF0aCgpKS50aGVuKGVlLnJwY19jb252ZXJ0Lmxpc3RBc3NldHNUb0dldExpc3QpKTtcbn07XG5nb29nLmV4cG9ydFN5bWJvbChcImVlLmRhdGEuZ2V0QXNzZXRSb290c1wiLCBlZS5kYXRhLmdldEFzc2V0Um9vdHMpO1xuZWUuZGF0YS5jcmVhdGVBc3NldEhvbWUgPSBmdW5jdGlvbihyZXF1ZXN0ZWRJZCwgb3B0X2NhbGxiYWNrKSB7XG4gIHZhciBwYXJlbnQgPSBlZS5ycGNfY29udmVydC5wcm9qZWN0UGFyZW50RnJvbVBhdGgocmVxdWVzdGVkSWQpLCBhc3NldElkID0gcGFyZW50ID09PSBcInByb2plY3RzL1wiICsgbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuREVGQVVMVF9QUk9KRUNUXyA/IHJlcXVlc3RlZElkIDogdm9pZCAwLCBhc3NldCA9IG5ldyBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkVhcnRoRW5naW5lQXNzZXQoe3R5cGU6XCJGb2xkZXJcIn0pLCBjYWxsID0gbmV3IG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfQ2FsbChvcHRfY2FsbGJhY2spO1xuICBjYWxsLmhhbmRsZShjYWxsLmFzc2V0cygpLmNyZWF0ZShwYXJlbnQsIGFzc2V0LCB7YXNzZXRJZDphc3NldElkfSkudGhlbihlZS5ycGNfY29udmVydC5hc3NldFRvTGVnYWN5UmVzdWx0KSk7XG59O1xuZ29vZy5leHBvcnRTeW1ib2woXCJlZS5kYXRhLmNyZWF0ZUFzc2V0SG9tZVwiLCBlZS5kYXRhLmNyZWF0ZUFzc2V0SG9tZSk7XG5lZS5kYXRhLmNyZWF0ZUFzc2V0ID0gZnVuY3Rpb24odmFsdWUsIG9wdF9wYXRoLCBvcHRfZm9yY2UsIG9wdF9wcm9wZXJ0aWVzLCBvcHRfY2FsbGJhY2spIHtcbiAgaWYgKG9wdF9mb3JjZSkge1xuICAgIHRocm93IEVycm9yKFwiQXNzZXQgb3ZlcndyaXRlIG5vdCBzdXBwb3J0ZWQuXCIpO1xuICB9XG4gIGlmIChcInN0cmluZ1wiID09PSB0eXBlb2YgdmFsdWUpIHtcbiAgICB0aHJvdyBFcnJvcihcIkFzc2V0IGNhbm5vdCBiZSBzcGVjaWZpZWQgYXMgc3RyaW5nLlwiKTtcbiAgfVxuICB2YXIgbmFtZSA9IHZhbHVlLm5hbWUgfHwgb3B0X3BhdGggJiYgZWUucnBjX2NvbnZlcnQuYXNzZXRJZFRvQXNzZXROYW1lKG9wdF9wYXRoKTtcbiAgaWYgKCFuYW1lKSB7XG4gICAgdGhyb3cgRXJyb3IoXCJFaXRoZXIgYXNzZXQgbmFtZSBvciBvcHRfcGF0aCBtdXN0IGJlIHNwZWNpZmllZC5cIik7XG4gIH1cbiAgdmFyIHNwbGl0ID0gbmFtZS5pbmRleE9mKFwiL2Fzc2V0cy9cIik7XG4gIGlmICgtMSA9PT0gc3BsaXQpIHtcbiAgICB0aHJvdyBFcnJvcihcIkFzc2V0IG5hbWUgbXVzdCBjb250YWluIC9hc3NldHMvLlwiKTtcbiAgfVxuICB2YXIgYXNzZXQgPSBuZXcgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5FYXJ0aEVuZ2luZUFzc2V0KHZhbHVlKSwgcGFyZW50ID0gbmFtZS5zbGljZSgwLCBzcGxpdCksIGFzc2V0SWQgPSBuYW1lLnNsaWNlKHNwbGl0ICsgOCk7XG4gIGFzc2V0LmlkID0gbnVsbDtcbiAgYXNzZXQubmFtZSA9IG51bGw7XG4gIG9wdF9wcm9wZXJ0aWVzICYmICFhc3NldC5wcm9wZXJ0aWVzICYmIChhc3NldC5wcm9wZXJ0aWVzID0gb3B0X3Byb3BlcnRpZXMpO1xuICBhc3NldC50eXBlID0gZWUucnBjX2NvbnZlcnQuYXNzZXRUeXBlRm9yQ3JlYXRlKGFzc2V0LnR5cGUpO1xuICB2YXIgY2FsbCA9IG5ldyBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X0NhbGwob3B0X2NhbGxiYWNrKTtcbiAgcmV0dXJuIGNhbGwuaGFuZGxlKGNhbGwuYXNzZXRzKCkuY3JlYXRlKHBhcmVudCwgYXNzZXQsIHthc3NldElkOmFzc2V0SWR9KS50aGVuKGVlLnJwY19jb252ZXJ0LmFzc2V0VG9MZWdhY3lSZXN1bHQpKTtcbn07XG5nb29nLmV4cG9ydFN5bWJvbChcImVlLmRhdGEuY3JlYXRlQXNzZXRcIiwgZWUuZGF0YS5jcmVhdGVBc3NldCk7XG5lZS5kYXRhLmNyZWF0ZUZvbGRlciA9IGZ1bmN0aW9uKHBhdGgsIG9wdF9mb3JjZSwgb3B0X2NhbGxiYWNrKSB7XG4gIHJldHVybiBlZS5kYXRhLmNyZWF0ZUFzc2V0KHt0eXBlOlwiRm9sZGVyXCJ9LCBwYXRoLCBvcHRfZm9yY2UsIHZvaWQgMCwgb3B0X2NhbGxiYWNrKTtcbn07XG5nb29nLmV4cG9ydFN5bWJvbChcImVlLmRhdGEuY3JlYXRlRm9sZGVyXCIsIGVlLmRhdGEuY3JlYXRlRm9sZGVyKTtcbmVlLmRhdGEucmVuYW1lQXNzZXQgPSBmdW5jdGlvbihzb3VyY2VJZCwgZGVzdGluYXRpb25JZCwgb3B0X2NhbGxiYWNrKSB7XG4gIHZhciBzb3VyY2VOYW1lID0gZWUucnBjX2NvbnZlcnQuYXNzZXRJZFRvQXNzZXROYW1lKHNvdXJjZUlkKSwgZGVzdGluYXRpb25OYW1lID0gZWUucnBjX2NvbnZlcnQuYXNzZXRJZFRvQXNzZXROYW1lKGRlc3RpbmF0aW9uSWQpLCByZXF1ZXN0ID0gbmV3IG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuTW92ZUFzc2V0UmVxdWVzdCh7ZGVzdGluYXRpb25OYW1lOmRlc3RpbmF0aW9uTmFtZX0pLCBjYWxsID0gbmV3IG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfQ2FsbChvcHRfY2FsbGJhY2spO1xuICBjYWxsLmhhbmRsZShjYWxsLmFzc2V0cygpLm1vdmUoc291cmNlTmFtZSwgcmVxdWVzdCkudGhlbihlZS5ycGNfY29udmVydC5hc3NldFRvTGVnYWN5UmVzdWx0KSk7XG59O1xuZ29vZy5leHBvcnRTeW1ib2woXCJlZS5kYXRhLnJlbmFtZUFzc2V0XCIsIGVlLmRhdGEucmVuYW1lQXNzZXQpO1xuZWUuZGF0YS5jb3B5QXNzZXQgPSBmdW5jdGlvbihzb3VyY2VJZCwgZGVzdGluYXRpb25JZCwgb3B0X292ZXJ3cml0ZSwgb3B0X2NhbGxiYWNrKSB7XG4gIHZhciBzb3VyY2VOYW1lID0gZWUucnBjX2NvbnZlcnQuYXNzZXRJZFRvQXNzZXROYW1lKHNvdXJjZUlkKSwgZGVzdGluYXRpb25OYW1lID0gZWUucnBjX2NvbnZlcnQuYXNzZXRJZFRvQXNzZXROYW1lKGRlc3RpbmF0aW9uSWQpLCByZXF1ZXN0ID0gbmV3IG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ29weUFzc2V0UmVxdWVzdCh7ZGVzdGluYXRpb25OYW1lOmRlc3RpbmF0aW9uTmFtZSwgb3ZlcndyaXRlOm51bGwgIT0gb3B0X292ZXJ3cml0ZSA/IG9wdF9vdmVyd3JpdGUgOiBudWxsfSksIGNhbGwgPSBuZXcgbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9DYWxsKG9wdF9jYWxsYmFjayk7XG4gIGNhbGwuaGFuZGxlKGNhbGwuYXNzZXRzKCkuY29weShzb3VyY2VOYW1lLCByZXF1ZXN0KS50aGVuKGVlLnJwY19jb252ZXJ0LmFzc2V0VG9MZWdhY3lSZXN1bHQpKTtcbn07XG5nb29nLmV4cG9ydFN5bWJvbChcImVlLmRhdGEuY29weUFzc2V0XCIsIGVlLmRhdGEuY29weUFzc2V0KTtcbmVlLmRhdGEuZGVsZXRlQXNzZXQgPSBmdW5jdGlvbihhc3NldElkLCBvcHRfY2FsbGJhY2spIHtcbiAgdmFyIGNhbGwgPSBuZXcgbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9DYWxsKG9wdF9jYWxsYmFjayk7XG4gIGNhbGwuaGFuZGxlKGNhbGwuYXNzZXRzKCkuZGVsZXRlKGVlLnJwY19jb252ZXJ0LmFzc2V0SWRUb0Fzc2V0TmFtZShhc3NldElkKSkpO1xufTtcbmdvb2cuZXhwb3J0U3ltYm9sKFwiZWUuZGF0YS5kZWxldGVBc3NldFwiLCBlZS5kYXRhLmRlbGV0ZUFzc2V0KTtcbmVlLmRhdGEuZ2V0QXNzZXRBY2wgPSBmdW5jdGlvbihhc3NldElkLCBvcHRfY2FsbGJhY2spIHtcbiAgdmFyIHJlc291cmNlID0gZWUucnBjX2NvbnZlcnQuYXNzZXRJZFRvQXNzZXROYW1lKGFzc2V0SWQpLCByZXF1ZXN0ID0gbmV3IG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuR2V0SWFtUG9saWN5UmVxdWVzdCgpLCBjYWxsID0gbmV3IG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfQ2FsbChvcHRfY2FsbGJhY2spO1xuICByZXR1cm4gY2FsbC5oYW5kbGUoY2FsbC5hc3NldHMoKS5nZXRJYW1Qb2xpY3kocmVzb3VyY2UsIHJlcXVlc3QsIHtwcmV0dHlQcmludDohMX0pLnRoZW4oZWUucnBjX2NvbnZlcnQuaWFtUG9saWN5VG9BY2wpKTtcbn07XG5nb29nLmV4cG9ydFN5bWJvbChcImVlLmRhdGEuZ2V0QXNzZXRBY2xcIiwgZWUuZGF0YS5nZXRBc3NldEFjbCk7XG5lZS5kYXRhLmdldElhbVBvbGljeSA9IGZ1bmN0aW9uKGFzc2V0SWQsIG9wdF9jYWxsYmFjaykge1xuICB2YXIgcmVzb3VyY2UgPSBlZS5ycGNfY29udmVydC5hc3NldElkVG9Bc3NldE5hbWUoYXNzZXRJZCksIHJlcXVlc3QgPSBuZXcgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5HZXRJYW1Qb2xpY3lSZXF1ZXN0KCksIGNhbGwgPSBuZXcgbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9DYWxsKG9wdF9jYWxsYmFjayk7XG4gIHJldHVybiBjYWxsLmhhbmRsZShjYWxsLmFzc2V0cygpLmdldElhbVBvbGljeShyZXNvdXJjZSwgcmVxdWVzdCwge3ByZXR0eVByaW50OiExfSkpO1xufTtcbmVlLmRhdGEuc2V0SWFtUG9saWN5ID0gZnVuY3Rpb24oYXNzZXRJZCwgcG9saWN5LCBvcHRfY2FsbGJhY2spIHtcbiAgdmFyIHJlc291cmNlID0gZWUucnBjX2NvbnZlcnQuYXNzZXRJZFRvQXNzZXROYW1lKGFzc2V0SWQpLCByZXF1ZXN0ID0gbmV3IG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuU2V0SWFtUG9saWN5UmVxdWVzdCh7cG9saWN5OnBvbGljeX0pLCBjYWxsID0gbmV3IG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfQ2FsbChvcHRfY2FsbGJhY2spO1xuICByZXR1cm4gY2FsbC5oYW5kbGUoY2FsbC5hc3NldHMoKS5zZXRJYW1Qb2xpY3kocmVzb3VyY2UsIHJlcXVlc3QsIHtwcmV0dHlQcmludDohMX0pKTtcbn07XG5lZS5kYXRhLnVwZGF0ZUFzc2V0ID0gZnVuY3Rpb24oYXNzZXRJZCwgYXNzZXQsIHVwZGF0ZUZpZWxkcywgb3B0X2NhbGxiYWNrKSB7XG4gIHZhciB1cGRhdGVNYXNrID0gKHVwZGF0ZUZpZWxkcyB8fCBbXSkuam9pbihcIixcIiksIHJlcXVlc3QgPSBuZXcgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5VcGRhdGVBc3NldFJlcXVlc3Qoe2Fzc2V0OmFzc2V0LCB1cGRhdGVNYXNrOnVwZGF0ZU1hc2t9KSwgY2FsbCA9IG5ldyBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X0NhbGwob3B0X2NhbGxiYWNrKTtcbiAgcmV0dXJuIGNhbGwuaGFuZGxlKGNhbGwuYXNzZXRzKCkucGF0Y2goZWUucnBjX2NvbnZlcnQuYXNzZXRJZFRvQXNzZXROYW1lKGFzc2V0SWQpLCByZXF1ZXN0KS50aGVuKGVlLnJwY19jb252ZXJ0LmFzc2V0VG9MZWdhY3lSZXN1bHQpKTtcbn07XG5nb29nLmV4cG9ydFN5bWJvbChcImVlLmRhdGEudXBkYXRlQXNzZXRcIiwgZWUuZGF0YS51cGRhdGVBc3NldCk7XG5lZS5kYXRhLnNldEFzc2V0QWNsID0gZnVuY3Rpb24oYXNzZXRJZCwgYWNsVXBkYXRlLCBvcHRfY2FsbGJhY2spIHtcbiAgdmFyIHJlc291cmNlID0gZWUucnBjX2NvbnZlcnQuYXNzZXRJZFRvQXNzZXROYW1lKGFzc2V0SWQpLCBwb2xpY3kgPSBlZS5ycGNfY29udmVydC5hY2xUb0lhbVBvbGljeShhY2xVcGRhdGUpLCByZXF1ZXN0ID0gbmV3IG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuU2V0SWFtUG9saWN5UmVxdWVzdCh7cG9saWN5OnBvbGljeX0pLCBjYWxsID0gbmV3IG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfQ2FsbChvcHRfY2FsbGJhY2spO1xuICBjYWxsLmhhbmRsZShjYWxsLmFzc2V0cygpLnNldElhbVBvbGljeShyZXNvdXJjZSwgcmVxdWVzdCwge3ByZXR0eVByaW50OiExfSkpO1xufTtcbmdvb2cuZXhwb3J0U3ltYm9sKFwiZWUuZGF0YS5zZXRBc3NldEFjbFwiLCBlZS5kYXRhLnNldEFzc2V0QWNsKTtcbmVlLmRhdGEuc2V0QXNzZXRQcm9wZXJ0aWVzID0gZnVuY3Rpb24oYXNzZXRJZCwgcHJvcGVydGllcywgb3B0X2NhbGxiYWNrKSB7XG4gIHZhciBhc3NldCA9IGVlLnJwY19jb252ZXJ0LmxlZ2FjeVByb3BlcnRpZXNUb0Fzc2V0VXBkYXRlKHByb3BlcnRpZXMpLCB1cGRhdGVGaWVsZHMgPSBhc3NldC5nZXRDbGFzc01ldGFkYXRhKCkua2V5cy5maWx0ZXIoZnVuY3Rpb24oaykge1xuICAgIHJldHVybiBcInByb3BlcnRpZXNcIiAhPT0gayAmJiBhc3NldC5TZXJpYWxpemFibGUkaGFzKGspO1xuICB9KS5tYXAoZnVuY3Rpb24oc3RyKSB7XG4gICAgcmV0dXJuIHN0ci5yZXBsYWNlKC8oW0EtWl0pL2csIGZ1bmN0aW9uKGFsbCwgY2FwKSB7XG4gICAgICByZXR1cm4gXCJfXCIgKyBjYXAudG9Mb3dlckNhc2UoKTtcbiAgICB9KTtcbiAgfSkuY29uY2F0KE9iamVjdC5rZXlzKGFzc2V0LnByb3BlcnRpZXMgfHwge30pLm1hcChmdW5jdGlvbihrKSB7XG4gICAgcmV0dXJuICdwcm9wZXJ0aWVzLlwiJyArIGsgKyAnXCInO1xuICB9KSk7XG4gIGVlLmRhdGEudXBkYXRlQXNzZXQoYXNzZXRJZCwgYXNzZXQsIHVwZGF0ZUZpZWxkcywgb3B0X2NhbGxiYWNrKTtcbn07XG5nb29nLmV4cG9ydFN5bWJvbChcImVlLmRhdGEuc2V0QXNzZXRQcm9wZXJ0aWVzXCIsIGVlLmRhdGEuc2V0QXNzZXRQcm9wZXJ0aWVzKTtcbmVlLmRhdGEuZ2V0QXNzZXRSb290UXVvdGEgPSBmdW5jdGlvbihyb290SWQsIG9wdF9jYWxsYmFjaykge1xuICB2YXIgbmFtZSA9IGVlLnJwY19jb252ZXJ0LmFzc2V0SWRUb0Fzc2V0TmFtZShyb290SWQpLCBjYWxsID0gbmV3IG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfQ2FsbChvcHRfY2FsbGJhY2spLCBhc3NldHNDYWxsID0gY2FsbC5hc3NldHMoKSwgdmFsaWRhdGVQYXJhbXMgPSBhc3NldHNDYWxsLiRhcGlDbGllbnQuJHZhbGlkYXRlUGFyYW1ldGVyO1xuICBhc3NldHNDYWxsLiRhcGlDbGllbnQuJHZhbGlkYXRlUGFyYW1ldGVyID0gZnVuY3Rpb24ocGFyYW0sIHBhdHRlcm4pIHtcbiAgICBcIl5wcm9qZWN0c1xcXFwvW14vXStcXFxcL2Fzc2V0c1xcXFwvLiskXCIgPT09IHBhdHRlcm4uc291cmNlICYmIChwYXR0ZXJuID0gUmVnRXhwKFwiXnByb2plY3RzL1teL10rL2Fzc2V0cy8uKiRcIikpO1xuICAgIHJldHVybiB2YWxpZGF0ZVBhcmFtcyhwYXJhbSwgcGF0dGVybik7XG4gIH07XG4gIHZhciBnZXRBc3NldFJlcXVlc3QgPSBhc3NldHNDYWxsLmdldChuYW1lLCB7cHJldHR5UHJpbnQ6ITF9KTtcbiAgcmV0dXJuIGNhbGwuaGFuZGxlKGdldEFzc2V0UmVxdWVzdC50aGVuKGZ1bmN0aW9uKGFzc2V0KSB7XG4gICAgaWYgKCEoYXNzZXQgaW5zdGFuY2VvZiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkVhcnRoRW5naW5lQXNzZXQgJiYgYXNzZXQucXVvdGEpKSB7XG4gICAgICB0aHJvdyBFcnJvcihyb290SWQgKyBcIiBpcyBub3QgYSByb290IGZvbGRlci5cIik7XG4gICAgfVxuICAgIHJldHVybiBlZS5ycGNfY29udmVydC5mb2xkZXJRdW90YVRvQXNzZXRRdW90YURldGFpbHMoYXNzZXQucXVvdGEpO1xuICB9KSk7XG59O1xuZ29vZy5leHBvcnRTeW1ib2woXCJlZS5kYXRhLmdldEFzc2V0Um9vdFF1b3RhXCIsIGVlLmRhdGEuZ2V0QXNzZXRSb290UXVvdGEpO1xuZWUuZGF0YS5Xb3JrbG9hZFRhZyA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLmRlZmF1bHQgPSB0aGlzLnRhZyA9IFwiXCI7XG59O1xuZWUuZGF0YS5Xb3JrbG9hZFRhZy5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLnRhZztcbn07XG5lZS5kYXRhLldvcmtsb2FkVGFnLnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbih0YWcpIHtcbiAgdGhpcy50YWcgPSB0aGlzLnZhbGlkYXRlKHRhZyk7XG59O1xuZWUuZGF0YS5Xb3JrbG9hZFRhZy5wcm90b3R5cGUuc2V0RGVmYXVsdCA9IGZ1bmN0aW9uKG5ld0RlZmF1bHQpIHtcbiAgdGhpcy5kZWZhdWx0ID0gdGhpcy52YWxpZGF0ZShuZXdEZWZhdWx0KTtcbn07XG5lZS5kYXRhLldvcmtsb2FkVGFnLnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLnRhZyA9IHRoaXMuZGVmYXVsdDtcbn07XG5lZS5kYXRhLldvcmtsb2FkVGFnLnByb3RvdHlwZS52YWxpZGF0ZSA9IGZ1bmN0aW9uKHRhZykge1xuICBpZiAobnVsbCA9PSB0YWcgfHwgXCJcIiA9PT0gdGFnKSB7XG4gICAgcmV0dXJuIFwiXCI7XG4gIH1cbiAgdGFnID0gU3RyaW5nKHRhZyk7XG4gIGlmICghL14oW2EtejAtOV18W2EtejAtOV1bLV9cXC5hLXowLTldezAsNjF9W2EtejAtOV0pJC9nLnRlc3QodGFnKSkge1xuICAgIHRocm93IEVycm9yKCdJbnZhbGlkIHRhZywgXCInICsgdGFnICsgJ1wiLiBUYWdzIG11c3QgYmUgMS02MyBjaGFyYWN0ZXJzLCBiZWdpbm5pbmcgYW5kIGVuZGluZyB3aXRoIGEgbG93ZXJjYXNlIGFscGhhbnVtZXJpYyBjaGFyYWN0ZXIoW2EtejAtOV0pIHdpdGggZGFzaGVzICgtKSwgdW5kZXJzY29yZXMgKF8pLCBkb3RzICguKSwgYW5kbG93ZXJjYXNlIGFscGhhbnVtZXJpY3MgYmV0d2Vlbi4nKTtcbiAgfVxuICByZXR1cm4gdGFnO1xufTtcbmVlLmRhdGEuV29ya2xvYWRUYWcuZ2V0SW5zdGFuY2UgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIGdvb2cuc2luZ2xldG9uLmdldEluc3RhbmNlKGVlLmRhdGEuV29ya2xvYWRUYWcpO1xufTtcbmVlLmRhdGEuZ2V0V29ya2xvYWRUYWcgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIGVlLmRhdGEuV29ya2xvYWRUYWcuZ2V0SW5zdGFuY2UoKS5nZXQoKTtcbn07XG5nb29nLmV4cG9ydFN5bWJvbChcImVlLmRhdGEuZ2V0V29ya2xvYWRUYWdcIiwgZWUuZGF0YS5nZXRXb3JrbG9hZFRhZyk7XG5lZS5kYXRhLnNldFdvcmtsb2FkVGFnID0gZnVuY3Rpb24odGFnKSB7XG4gIGVlLmRhdGEuV29ya2xvYWRUYWcuZ2V0SW5zdGFuY2UoKS5zZXQodGFnKTtcbn07XG5nb29nLmV4cG9ydFN5bWJvbChcImVlLmRhdGEuc2V0V29ya2xvYWRUYWdcIiwgZWUuZGF0YS5zZXRXb3JrbG9hZFRhZyk7XG5lZS5kYXRhLnNldERlZmF1bHRXb3JrbG9hZFRhZyA9IGZ1bmN0aW9uKHRhZykge1xuICBlZS5kYXRhLldvcmtsb2FkVGFnLmdldEluc3RhbmNlKCkuc2V0RGVmYXVsdCh0YWcpO1xuICBlZS5kYXRhLldvcmtsb2FkVGFnLmdldEluc3RhbmNlKCkuc2V0KHRhZyk7XG59O1xuZ29vZy5leHBvcnRTeW1ib2woXCJlZS5kYXRhLnNldERlZmF1bHRXb3JrbG9hZFRhZ1wiLCBlZS5kYXRhLnNldERlZmF1bHRXb3JrbG9hZFRhZyk7XG5lZS5kYXRhLnJlc2V0V29ya2xvYWRUYWcgPSBmdW5jdGlvbihvcHRfcmVzZXREZWZhdWx0KSB7XG4gIG9wdF9yZXNldERlZmF1bHQgJiYgZWUuZGF0YS5Xb3JrbG9hZFRhZy5nZXRJbnN0YW5jZSgpLnNldERlZmF1bHQoXCJcIik7XG4gIGVlLmRhdGEuV29ya2xvYWRUYWcuZ2V0SW5zdGFuY2UoKS5yZXNldCgpO1xufTtcbmdvb2cuZXhwb3J0U3ltYm9sKFwiZWUuZGF0YS5yZXNldFdvcmtsb2FkVGFnXCIsIGVlLmRhdGEucmVzZXRXb3JrbG9hZFRhZyk7XG5lZS5kYXRhLkFzc2V0VHlwZSA9IHtBTEdPUklUSE06XCJBbGdvcml0aG1cIiwgQ0xBU1NJRklFUjpcIkNsYXNzaWZpZXJcIiwgRkVBVFVSRV9WSUVXOlwiRmVhdHVyZVZpZXdcIiwgRk9MREVSOlwiRm9sZGVyXCIsIEZFQVRVUkVfQ09MTEVDVElPTjpcIkZlYXR1cmVDb2xsZWN0aW9uXCIsIElNQUdFOlwiSW1hZ2VcIiwgSU1BR0VfQ09MTEVDVElPTjpcIkltYWdlQ29sbGVjdGlvblwiLCBUQUJMRTpcIlRhYmxlXCIsIFVOS05PV046XCJVbmtub3duXCJ9O1xuZWUuZGF0YS5FeHBvcnRUeXBlID0ge0lNQUdFOlwiRVhQT1JUX0lNQUdFXCIsIE1BUDpcIkVYUE9SVF9USUxFU1wiLCBUQUJMRTpcIkVYUE9SVF9GRUFUVVJFU1wiLCBWSURFTzpcIkVYUE9SVF9WSURFT1wiLCBWSURFT19NQVA6XCJFWFBPUlRfVklERU9fTUFQXCIsIENMQVNTSUZJRVI6XCJFWFBPUlRfQ0xBU1NJRklFUlwifTtcbmVlLmRhdGEuRXhwb3J0U3RhdGUgPSB7VU5TVUJNSVRURUQ6XCJVTlNVQk1JVFRFRFwiLCBSRUFEWTpcIlJFQURZXCIsIFJVTk5JTkc6XCJSVU5OSU5HXCIsIENPTVBMRVRFRDpcIkNPTVBMRVRFRFwiLCBGQUlMRUQ6XCJGQUlMRURcIiwgQ0FOQ0VMX1JFUVVFU1RFRDpcIkNBTkNFTF9SRVFVRVNURURcIiwgQ0FOQ0VMTEVEOlwiQ0FOQ0VMTEVEXCIsfTtcbmVlLmRhdGEuRXhwb3J0RGVzdGluYXRpb24gPSB7RFJJVkU6XCJEUklWRVwiLCBHQ1M6XCJHT09HTEVfQ0xPVURfU1RPUkFHRVwiLCBBU1NFVDpcIkFTU0VUXCIsIEZFQVRVUkVfVklFVzpcIkZFQVRVUkVfVklFV1wiLCBCSUdRVUVSWTpcIkJJR1FVRVJZXCIsfTtcbmVlLmRhdGEuVGhpbm5pbmdTdHJhdGVneSA9IHtHTE9CQUxMWV9DT05TSVNURU5UOlwiR0xPQkFMTFlfQ09OU0lTVEVOVFwiLCBISUdIRVJfREVOU0lUWTpcIkhJR0hFUl9ERU5TSVRZXCIsfTtcbmVlLmRhdGEuU3lzdGVtUHJvcGVydHlQcmVmaXggPSBcInN5c3RlbTpcIjtcbmVlLmRhdGEuU3lzdGVtVGltZVByb3BlcnR5ID0ge1NUQVJUOlwic3lzdGVtOnRpbWVfc3RhcnRcIiwgRU5EOlwic3lzdGVtOnRpbWVfZW5kXCJ9O1xuZWUuZGF0YS5TWVNURU1fQVNTRVRfU0laRV9QUk9QRVJUWSA9IFwic3lzdGVtOmFzc2V0X3NpemVcIjtcbmVlLmRhdGEuQXNzZXREZXRhaWxzUHJvcGVydHkgPSB7VElUTEU6XCJzeXN0ZW06dGl0bGVcIiwgREVTQ1JJUFRJT046XCJzeXN0ZW06ZGVzY3JpcHRpb25cIiwgVEFHUzpcInN5c3RlbTp0YWdzXCJ9O1xuZWUuZGF0YS5BTExPV0VEX0RFU0NSSVBUSU9OX0hUTUxfVEFCTEVfRUxFTUVOVFNfID0gXCJjb2wgY29sZ3JvdXAgY2FwdGlvbiB0YWJsZSB0Ym9keSB0ZCB0Zm9vdCB0aCB0aGVhZCB0clwiLnNwbGl0KFwiIFwiKTtcbmVlLmRhdGEuQUxMT1dFRF9ERVNDUklQVElPTl9IVE1MX0VMRU1FTlRTID0gZWUuZGF0YS5BTExPV0VEX0RFU0NSSVBUSU9OX0hUTUxfVEFCTEVfRUxFTUVOVFNfLmNvbmNhdChcImEgY29kZSBlbSBpIGxpIG9sIHAgc3Ryb25nIHN1YiBzdXAgdWxcIi5zcGxpdChcIiBcIikpO1xuZWUuZGF0YS5TaG9ydEFzc2V0RGVzY3JpcHRpb24gPSBmdW5jdGlvbigpIHtcbn07XG5lZS5kYXRhLkxpc3RJbWFnZXNSZXNwb25zZSA9IGZ1bmN0aW9uKCkge1xufTtcbmVlLmRhdGEuQXNzZXRBY2wgPSBmdW5jdGlvbigpIHtcbn07XG5lZS5kYXRhLkFzc2V0QWNsVXBkYXRlID0gZnVuY3Rpb24oKSB7XG59O1xuZWUuZGF0YS5Bc3NldFF1b3RhRW50cnkgPSBmdW5jdGlvbigpIHtcbn07XG5lZS5kYXRhLkFzc2V0UXVvdGFEZXRhaWxzID0gZnVuY3Rpb24oKSB7XG59O1xuZWUuZGF0YS5GZWF0dXJlVmlld0Rlc2NyaXB0aW9uID0gZnVuY3Rpb24oKSB7XG59O1xuZWUuZGF0YS5Gb2xkZXJEZXNjcmlwdGlvbiA9IGZ1bmN0aW9uKCkge1xufTtcbmVlLmRhdGEuRmVhdHVyZUNvbGxlY3Rpb25EZXNjcmlwdGlvbiA9IGZ1bmN0aW9uKCkge1xufTtcbmVlLmRhdGEuRmVhdHVyZVZpc3VhbGl6YXRpb25QYXJhbWV0ZXJzID0gZnVuY3Rpb24oKSB7XG59O1xuZWUuZGF0YS5HZW9KU09ORmVhdHVyZSA9IGZ1bmN0aW9uKCkge1xufTtcbmVlLmRhdGEuR2VvSlNPTkdlb21ldHJ5ID0gZnVuY3Rpb24oKSB7XG59O1xuZWUuZGF0YS5HZW9KU09OR2VvbWV0cnlDcnMgPSBmdW5jdGlvbigpIHtcbn07XG5lZS5kYXRhLkdlb0pTT05HZW9tZXRyeUNyc1Byb3BlcnRpZXMgPSBmdW5jdGlvbigpIHtcbn07XG5lZS5kYXRhLkltYWdlQ29sbGVjdGlvbkRlc2NyaXB0aW9uID0gZnVuY3Rpb24oKSB7XG59O1xuZWUuZGF0YS5JbWFnZURlc2NyaXB0aW9uID0gZnVuY3Rpb24oKSB7XG59O1xuZWUuZGF0YS5UYWJsZURlc2NyaXB0aW9uID0gZnVuY3Rpb24oKSB7XG59O1xuZWUuZGF0YS5UYWJsZURvd25sb2FkUGFyYW1ldGVycyA9IGZ1bmN0aW9uKCkge1xufTtcbmVlLmRhdGEuSW1hZ2VWaXN1YWxpemF0aW9uUGFyYW1ldGVycyA9IGZ1bmN0aW9uKCkge1xufTtcbmVlLmRhdGEuRmVhdHVyZVZpZXdWaXN1YWxpemF0aW9uUGFyYW1ldGVycyA9IGZ1bmN0aW9uKCkge1xufTtcbmVlLmRhdGEuVGh1bWJuYWlsT3B0aW9ucyA9IGZ1bmN0aW9uKCkge1xufTtcbiRqc2NvbXAuaW5oZXJpdHMoZWUuZGF0YS5UaHVtYm5haWxPcHRpb25zLCBlZS5kYXRhLkltYWdlVmlzdWFsaXphdGlvblBhcmFtZXRlcnMpO1xuZWUuZGF0YS5WaWRlb1RodW1ibmFpbE9wdGlvbnMgPSBmdW5jdGlvbigpIHtcbn07XG4kanNjb21wLmluaGVyaXRzKGVlLmRhdGEuVmlkZW9UaHVtYm5haWxPcHRpb25zLCBlZS5kYXRhLlRodW1ibmFpbE9wdGlvbnMpO1xuZWUuZGF0YS5GaWxtc3RyaXBUaHVtYm5haWxPcHRpb25zID0gZnVuY3Rpb24oKSB7XG59O1xuJGpzY29tcC5pbmhlcml0cyhlZS5kYXRhLkZpbG1zdHJpcFRodW1ibmFpbE9wdGlvbnMsIGVlLmRhdGEuVGh1bWJuYWlsT3B0aW9ucyk7XG5lZS5kYXRhLkJhbmREZXNjcmlwdGlvbiA9IGZ1bmN0aW9uKCkge1xufTtcbmVlLmRhdGEuUGl4ZWxUeXBlRGVzY3JpcHRpb24gPSBmdW5jdGlvbigpIHtcbn07XG5lZS5kYXRhLkFsZ29yaXRobVNpZ25hdHVyZSA9IGZ1bmN0aW9uKCkge1xufTtcbmVlLmRhdGEuQWxnb3JpdGhtQXJndW1lbnQgPSBmdW5jdGlvbigpIHtcbn07XG5lZS5kYXRhLlRodW1ibmFpbElkID0gZnVuY3Rpb24oKSB7XG59O1xuZWUuZGF0YS5Eb3dubG9hZElkID0gZnVuY3Rpb24oKSB7XG59O1xuZWUuZGF0YS5SYXdNYXBJZCA9IGZ1bmN0aW9uKCkge1xufTtcbmVlLmRhdGEuTWFwSWQgPSBmdW5jdGlvbigpIHtcbn07XG4kanNjb21wLmluaGVyaXRzKGVlLmRhdGEuTWFwSWQsIGVlLmRhdGEuUmF3TWFwSWQpO1xuZWUuZGF0YS5GZWF0dXJlVmlld1RpbGVzS2V5ID0gZnVuY3Rpb24oKSB7XG59O1xuZWUuZGF0YS5NYXBab29tUmFuZ2UgPSB7TUlOOjAsIE1BWDoyNH07XG5lZS5kYXRhLlRhc2tTdGF0dXMgPSBmdW5jdGlvbigpIHtcbn07XG5lZS5kYXRhLlByb2Nlc3NpbmdSZXNwb25zZSA9IGZ1bmN0aW9uKCkge1xufTtcbmVlLmRhdGEuVGFza0xpc3RSZXNwb25zZSA9IGZ1bmN0aW9uKCkge1xufTtcbmVlLmRhdGEuVGFza1VwZGF0ZUFjdGlvbnMgPSB7Q0FOQ0VMOlwiQ0FOQ0VMXCIsIFVQREFURTpcIlVQREFURVwifTtcbmVlLmRhdGEuQXNzZXREZXNjcmlwdGlvbiA9IGZ1bmN0aW9uKCkge1xufTtcbmVlLmRhdGEuSW5nZXN0aW9uUmVxdWVzdCA9IGZ1bmN0aW9uKCkge1xufTtcbmVlLmRhdGEuTWlzc2luZ0RhdGEgPSBmdW5jdGlvbigpIHtcbn07XG5lZS5kYXRhLlB5cmFtaWRpbmdQb2xpY3kgPSB7TUVBTjpcIk1FQU5cIiwgTU9ERTpcIk1PREVcIiwgTUlOOlwiTUlOXCIsIE1BWDpcIk1BWFwiLCBTQU1QTEU6XCJTQU1QTEVcIn07XG5lZS5kYXRhLkJhbmQgPSBmdW5jdGlvbigpIHtcbn07XG5lZS5kYXRhLlRpbGVzZXQgPSBmdW5jdGlvbigpIHtcbn07XG5lZS5kYXRhLkZpbGVCYW5kID0gZnVuY3Rpb24oKSB7XG59O1xuZWUuZGF0YS5GaWxlU291cmNlID0gZnVuY3Rpb24oKSB7XG59O1xuZWUuZGF0YS5UYWJsZUluZ2VzdGlvblJlcXVlc3QgPSBmdW5jdGlvbigpIHtcbn07XG5lZS5kYXRhLlRhYmxlU291cmNlID0gZnVuY3Rpb24oKSB7XG59O1xuJGpzY29tcC5pbmhlcml0cyhlZS5kYXRhLlRhYmxlU291cmNlLCBlZS5kYXRhLkZpbGVTb3VyY2UpO1xuZWUuZGF0YS5BdXRoUHJpdmF0ZUtleSA9IGZ1bmN0aW9uKCkge1xufTtcbmVlLkNvbXB1dGVkT2JqZWN0ID0gZnVuY3Rpb24oZnVuYywgYXJncywgb3B0X3Zhck5hbWUpIHtcbiAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIGVlLkNvbXB1dGVkT2JqZWN0KSkge1xuICAgIHJldHVybiBlZS5Db21wdXRlZE9iamVjdC5jb25zdHJ1Y3QoZWUuQ29tcHV0ZWRPYmplY3QsIGFyZ3VtZW50cyk7XG4gIH1cbiAgaWYgKG9wdF92YXJOYW1lICYmIChmdW5jIHx8IGFyZ3MpKSB7XG4gICAgdGhyb3cgRXJyb3IoJ1doZW4gXCJvcHRfdmFyTmFtZVwiIGlzIHNwZWNpZmllZCwgXCJmdW5jXCIgYW5kIFwiYXJnc1wiIG11c3QgYmUgbnVsbC4nKTtcbiAgfVxuICBpZiAoZnVuYyAmJiAhYXJncykge1xuICAgIHRocm93IEVycm9yKCdXaGVuIFwiZnVuY1wiIGlzIHNwZWNpZmllZCwgXCJhcmdzXCIgbXVzdCBub3QgYmUgbnVsbC4nKTtcbiAgfVxuICB0aGlzLmZ1bmMgPSBmdW5jO1xuICB0aGlzLmFyZ3MgPSBhcmdzO1xuICB0aGlzLnZhck5hbWUgPSBvcHRfdmFyTmFtZSB8fCBudWxsO1xufTtcbmdvb2cuaW5oZXJpdHMoZWUuQ29tcHV0ZWRPYmplY3QsIGVlLkVuY29kYWJsZSk7XG5nb29nLmV4cG9ydFN5bWJvbChcImVlLkNvbXB1dGVkT2JqZWN0XCIsIGVlLkNvbXB1dGVkT2JqZWN0KTtcbmVlLkNvbXB1dGVkT2JqZWN0LnByb3RvdHlwZS5ldmFsdWF0ZSA9IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG4gIGlmICghY2FsbGJhY2sgfHwgXCJmdW5jdGlvblwiICE9PSB0eXBlb2YgY2FsbGJhY2spIHtcbiAgICB0aHJvdyBFcnJvcihcImV2YWx1YXRlKCkgcmVxdWlyZXMgYSBjYWxsYmFjayBmdW5jdGlvbi5cIik7XG4gIH1cbiAgZWUuZGF0YS5jb21wdXRlVmFsdWUodGhpcywgY2FsbGJhY2spO1xufTtcbmdvb2cuZXhwb3J0UHJvcGVydHkoZWUuQ29tcHV0ZWRPYmplY3QucHJvdG90eXBlLCBcImV2YWx1YXRlXCIsIGVlLkNvbXB1dGVkT2JqZWN0LnByb3RvdHlwZS5ldmFsdWF0ZSk7XG5lZS5Db21wdXRlZE9iamVjdC5wcm90b3R5cGUuZ2V0SW5mbyA9IGZ1bmN0aW9uKG9wdF9jYWxsYmFjaykge1xuICByZXR1cm4gZWUuZGF0YS5jb21wdXRlVmFsdWUodGhpcywgb3B0X2NhbGxiYWNrKTtcbn07XG5nb29nLmV4cG9ydFByb3BlcnR5KGVlLkNvbXB1dGVkT2JqZWN0LnByb3RvdHlwZSwgXCJnZXRJbmZvXCIsIGVlLkNvbXB1dGVkT2JqZWN0LnByb3RvdHlwZS5nZXRJbmZvKTtcbmVlLkNvbXB1dGVkT2JqZWN0LnByb3RvdHlwZS5lbmNvZGUgPSBmdW5jdGlvbihlbmNvZGVyKSB7XG4gIGlmICh0aGlzLmlzVmFyaWFibGUoKSkge1xuICAgIHJldHVybiB7dHlwZTpcIkFyZ3VtZW50UmVmXCIsIHZhbHVlOnRoaXMudmFyTmFtZX07XG4gIH1cbiAgdmFyIGVuY29kZWRBcmdzID0ge30sIG5hbWU7XG4gIGZvciAobmFtZSBpbiB0aGlzLmFyZ3MpIHtcbiAgICB2b2lkIDAgIT09IHRoaXMuYXJnc1tuYW1lXSAmJiAoZW5jb2RlZEFyZ3NbbmFtZV0gPSBlbmNvZGVyKHRoaXMuYXJnc1tuYW1lXSkpO1xuICB9XG4gIHZhciByZXN1bHQgPSB7dHlwZTpcIkludm9jYXRpb25cIiwgYXJndW1lbnRzOmVuY29kZWRBcmdzfSwgZnVuYyA9IGVuY29kZXIodGhpcy5mdW5jKTtcbiAgcmVzdWx0W1wic3RyaW5nXCIgPT09IHR5cGVvZiBmdW5jID8gXCJmdW5jdGlvbk5hbWVcIiA6IFwiZnVuY3Rpb25cIl0gPSBmdW5jO1xuICByZXR1cm4gcmVzdWx0O1xufTtcbmVlLkNvbXB1dGVkT2JqZWN0LnByb3RvdHlwZS5lbmNvZGVDbG91ZFZhbHVlID0gZnVuY3Rpb24oc2VyaWFsaXplcikge1xuICBpZiAodGhpcy5pc1ZhcmlhYmxlKCkpIHtcbiAgICB2YXIgbmFtZSA9IHRoaXMudmFyTmFtZSB8fCBzZXJpYWxpemVyLnVuYm91bmROYW1lO1xuICAgIGlmICghbmFtZSkge1xuICAgICAgdGhyb3cgRXJyb3IoXCJBIG1hcHBlZCBmdW5jdGlvbidzIGFyZ3VtZW50cyBjYW5ub3QgYmUgdXNlZCBpbiBjbGllbnQtc2lkZSBvcGVyYXRpb25zXCIpO1xuICAgIH1cbiAgICByZXR1cm4gZWUucnBjX25vZGUuYXJndW1lbnRSZWZlcmVuY2UobmFtZSk7XG4gIH1cbiAgdmFyIGVuY29kZWRBcmdzID0ge30sIG5hbWUkNjk7XG4gIGZvciAobmFtZSQ2OSBpbiB0aGlzLmFyZ3MpIHtcbiAgICB2b2lkIDAgIT09IHRoaXMuYXJnc1tuYW1lJDY5XSAmJiAoZW5jb2RlZEFyZ3NbbmFtZSQ2OV0gPSBlZS5ycGNfbm9kZS5yZWZlcmVuY2Uoc2VyaWFsaXplci5tYWtlUmVmZXJlbmNlKHRoaXMuYXJnc1tuYW1lJDY5XSkpKTtcbiAgfVxuICByZXR1cm4gXCJzdHJpbmdcIiA9PT0gdHlwZW9mIHRoaXMuZnVuYyA/IGVlLnJwY19ub2RlLmZ1bmN0aW9uQnlOYW1lKFN0cmluZyh0aGlzLmZ1bmMpLCBlbmNvZGVkQXJncykgOiB0aGlzLmZ1bmMuZW5jb2RlQ2xvdWRJbnZvY2F0aW9uKHNlcmlhbGl6ZXIsIGVuY29kZWRBcmdzKTtcbn07XG5lZS5Db21wdXRlZE9iamVjdC5wcm90b3R5cGUuc2VyaWFsaXplID0gZnVuY3Rpb24obGVnYWN5KSB7XG4gIHJldHVybiAodm9pZCAwID09PSBsZWdhY3kgPyAwIDogbGVnYWN5KSA/IGVlLlNlcmlhbGl6ZXIudG9KU09OKHRoaXMpIDogZWUuU2VyaWFsaXplci50b0Nsb3VkQXBpSlNPTih0aGlzKTtcbn07XG5nb29nLmV4cG9ydFByb3BlcnR5KGVlLkNvbXB1dGVkT2JqZWN0LnByb3RvdHlwZSwgXCJzZXJpYWxpemVcIiwgZWUuQ29tcHV0ZWRPYmplY3QucHJvdG90eXBlLnNlcmlhbGl6ZSk7XG5lZS5Db21wdXRlZE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIFwiZWUuXCIgKyB0aGlzLm5hbWUoKSArIFwiKFwiICsgZWUuU2VyaWFsaXplci50b1JlYWRhYmxlSlNPTih0aGlzKSArIFwiKVwiO1xufTtcbmdvb2cuZXhwb3J0U3ltYm9sKFwiZWUuQ29tcHV0ZWRPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nXCIsIGVlLkNvbXB1dGVkT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZyk7XG5lZS5Db21wdXRlZE9iamVjdC5wcm90b3R5cGUuaXNWYXJpYWJsZSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbnVsbCA9PT0gdGhpcy5mdW5jICYmIG51bGwgPT09IHRoaXMuYXJncztcbn07XG5lZS5Db21wdXRlZE9iamVjdC5wcm90b3R5cGUubmFtZSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gXCJDb21wdXRlZE9iamVjdFwiO1xufTtcbmVlLkNvbXB1dGVkT2JqZWN0LnByb3RvdHlwZS5hc2lkZSA9IGZ1bmN0aW9uKGZ1bmMsIHZhcl9hcmdzKSB7XG4gIHZhciBhcmdzID0gQXJyYXkuZnJvbShhcmd1bWVudHMpO1xuICBhcmdzWzBdID0gdGhpcztcbiAgZnVuYy5hcHBseShnb29nLmdsb2JhbCwgYXJncyk7XG4gIHJldHVybiB0aGlzO1xufTtcbmdvb2cuZXhwb3J0UHJvcGVydHkoZWUuQ29tcHV0ZWRPYmplY3QucHJvdG90eXBlLCBcImFzaWRlXCIsIGVlLkNvbXB1dGVkT2JqZWN0LnByb3RvdHlwZS5hc2lkZSk7XG5lZS5Db21wdXRlZE9iamVjdC5wcm90b3R5cGUuY2FzdEludGVybmFsID0gZnVuY3Rpb24ob2JqKSB7XG4gIGlmIChvYmogaW5zdGFuY2VvZiB0aGlzLmNvbnN0cnVjdG9yKSB7XG4gICAgcmV0dXJuIG9iajtcbiAgfVxuICB2YXIga2xhc3MgPSBmdW5jdGlvbigpIHtcbiAgfTtcbiAga2xhc3MucHJvdG90eXBlID0gdGhpcy5jb25zdHJ1Y3Rvci5wcm90b3R5cGU7XG4gIHZhciByZXN1bHQgPSBuZXcga2xhc3MoKTtcbiAgcmVzdWx0LmZ1bmMgPSBvYmouZnVuYztcbiAgcmVzdWx0LmFyZ3MgPSBvYmouYXJncztcbiAgcmVzdWx0LnZhck5hbWUgPSBvYmoudmFyTmFtZTtcbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5lZS5Db21wdXRlZE9iamVjdC5jb25zdHJ1Y3QgPSBmdW5jdGlvbihjb25zdHJ1Y3RvciwgYXJnc0FycmF5KSB7XG4gIGZ1bmN0aW9uIEYoKSB7XG4gICAgcmV0dXJuIGNvbnN0cnVjdG9yLmFwcGx5KHRoaXMsIGFyZ3NBcnJheSk7XG4gIH1cbiAgRi5wcm90b3R5cGUgPSBjb25zdHJ1Y3Rvci5wcm90b3R5cGU7XG4gIHJldHVybiBuZXcgRigpO1xufTtcbmVlLlR5cGVzID0ge307XG5lZS5UeXBlcy5yZWdpc3RlcmVkQ2xhc3Nlc18gPSB7fTtcbmVlLlR5cGVzLnJlZ2lzdGVyQ2xhc3NlcyA9IGZ1bmN0aW9uKGNsYXNzZXMpIHtcbiAgZWUuVHlwZXMucmVnaXN0ZXJlZENsYXNzZXNfID0gY2xhc3Nlcztcbn07XG5lZS5UeXBlcy5uYW1lVG9DbGFzcyA9IGZ1bmN0aW9uKG5hbWUpIHtcbiAgcmV0dXJuIG5hbWUgaW4gZWUuVHlwZXMucmVnaXN0ZXJlZENsYXNzZXNfID8gZWUuVHlwZXMucmVnaXN0ZXJlZENsYXNzZXNfW25hbWVdIDogbnVsbDtcbn07XG5lZS5UeXBlcy5jbGFzc1RvTmFtZSA9IGZ1bmN0aW9uKGtsYXNzKSB7XG4gIHJldHVybiBrbGFzcy5wcm90b3R5cGUgaW5zdGFuY2VvZiBlZS5Db21wdXRlZE9iamVjdCA/IGtsYXNzLnByb3RvdHlwZS5uYW1lLmNhbGwobnVsbCkgOiBrbGFzcyA9PSBOdW1iZXIgPyBcIk51bWJlclwiIDoga2xhc3MgPT0gU3RyaW5nID8gXCJTdHJpbmdcIiA6IGtsYXNzID09IEFycmF5ID8gXCJBcnJheVwiIDoga2xhc3MgPT0gRGF0ZSA/IFwiRGF0ZVwiIDogXCJPYmplY3RcIjtcbn07XG5lZS5UeXBlcy5pc1N1YnR5cGUgPSBmdW5jdGlvbihmaXJzdFR5cGUsIHNlY29uZFR5cGUpIHtcbiAgaWYgKHNlY29uZFR5cGUgPT0gZmlyc3RUeXBlKSB7XG4gICAgcmV0dXJuICEwO1xuICB9XG4gIHN3aXRjaChmaXJzdFR5cGUpIHtcbiAgICBjYXNlIFwiRWxlbWVudFwiOlxuICAgICAgcmV0dXJuIFwiRWxlbWVudFwiID09IHNlY29uZFR5cGUgfHwgXCJJbWFnZVwiID09IHNlY29uZFR5cGUgfHwgXCJGZWF0dXJlXCIgPT0gc2Vjb25kVHlwZSB8fCBcIkNvbGxlY3Rpb25cIiA9PSBzZWNvbmRUeXBlIHx8IFwiSW1hZ2VDb2xsZWN0aW9uXCIgPT0gc2Vjb25kVHlwZSB8fCBcIkZlYXR1cmVDb2xsZWN0aW9uXCIgPT0gc2Vjb25kVHlwZTtcbiAgICBjYXNlIFwiRmVhdHVyZUNvbGxlY3Rpb25cIjpcbiAgICBjYXNlIFwiQ29sbGVjdGlvblwiOlxuICAgICAgcmV0dXJuIFwiQ29sbGVjdGlvblwiID09IHNlY29uZFR5cGUgfHwgXCJJbWFnZUNvbGxlY3Rpb25cIiA9PSBzZWNvbmRUeXBlIHx8IFwiRmVhdHVyZUNvbGxlY3Rpb25cIiA9PSBzZWNvbmRUeXBlO1xuICAgIGNhc2UgXCJPYmplY3RcIjpcbiAgICAgIHJldHVybiAhMDtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuICExO1xuICB9XG59O1xuZWUuVHlwZXMuaXNOdW1iZXIgPSBmdW5jdGlvbihvYmopIHtcbiAgcmV0dXJuIFwibnVtYmVyXCIgPT09IHR5cGVvZiBvYmogfHwgb2JqIGluc3RhbmNlb2YgZWUuQ29tcHV0ZWRPYmplY3QgJiYgXCJOdW1iZXJcIiA9PSBvYmoubmFtZSgpO1xufTtcbmVlLlR5cGVzLmlzU3RyaW5nID0gZnVuY3Rpb24ob2JqKSB7XG4gIHJldHVybiBcInN0cmluZ1wiID09PSB0eXBlb2Ygb2JqIHx8IG9iaiBpbnN0YW5jZW9mIGVlLkNvbXB1dGVkT2JqZWN0ICYmIFwiU3RyaW5nXCIgPT0gb2JqLm5hbWUoKTtcbn07XG5lZS5UeXBlcy5pc0FycmF5ID0gZnVuY3Rpb24ob2JqKSB7XG4gIHJldHVybiBBcnJheS5pc0FycmF5KG9iaikgfHwgb2JqIGluc3RhbmNlb2YgZWUuQ29tcHV0ZWRPYmplY3QgJiYgXCJMaXN0XCIgPT0gb2JqLm5hbWUoKTtcbn07XG5lZS5UeXBlcy5pc1JlZ3VsYXJPYmplY3QgPSBmdW5jdGlvbihvYmopIHtcbiAgaWYgKGdvb2cuaXNPYmplY3Qob2JqKSAmJiBcImZ1bmN0aW9uXCIgIT09IHR5cGVvZiBvYmopIHtcbiAgICB2YXIgcHJvdG8gPSBPYmplY3QuZ2V0UHJvdG90eXBlT2Yob2JqKTtcbiAgICByZXR1cm4gbnVsbCAhPT0gcHJvdG8gJiYgbnVsbCA9PT0gT2JqZWN0LmdldFByb3RvdHlwZU9mKHByb3RvKTtcbiAgfVxuICByZXR1cm4gITE7XG59O1xuZWUuVHlwZXMudXNlS2V5d29yZEFyZ3MgPSBmdW5jdGlvbihhcmdzLCBzaWduYXR1cmUsIGlzSW5zdGFuY2UpIHtcbiAgaXNJbnN0YW5jZSA9IHZvaWQgMCA9PT0gaXNJbnN0YW5jZSA/ICExIDogaXNJbnN0YW5jZTtcbiAgaWYgKDEgPT09IGFyZ3MubGVuZ3RoICYmIGVlLlR5cGVzLmlzUmVndWxhck9iamVjdChhcmdzWzBdKSkge1xuICAgIHZhciBmb3JtYWxBcmdzID0gc2lnbmF0dXJlLmFyZ3M7XG4gICAgaXNJbnN0YW5jZSAmJiAoZm9ybWFsQXJncyA9IGZvcm1hbEFyZ3Muc2xpY2UoMSkpO1xuICAgIGlmIChmb3JtYWxBcmdzLmxlbmd0aCkge1xuICAgICAgcmV0dXJuICEoMSA9PT0gZm9ybWFsQXJncy5sZW5ndGggfHwgZm9ybWFsQXJnc1sxXS5vcHRpb25hbCkgfHwgXCJEaWN0aW9uYXJ5XCIgIT09IGZvcm1hbEFyZ3NbMF0udHlwZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuICExO1xufTtcbmVlLkZ1bmN0aW9uID0gZnVuY3Rpb24oKSB7XG4gIGlmICghKHRoaXMgaW5zdGFuY2VvZiBlZS5GdW5jdGlvbikpIHtcbiAgICByZXR1cm4gbmV3IGVlLkZ1bmN0aW9uKCk7XG4gIH1cbn07XG5nb29nLmluaGVyaXRzKGVlLkZ1bmN0aW9uLCBlZS5FbmNvZGFibGUpO1xuZ29vZy5leHBvcnRTeW1ib2woXCJlZS5GdW5jdGlvblwiLCBlZS5GdW5jdGlvbik7XG5lZS5GdW5jdGlvbi5wcm9tb3Rlcl8gPSBnb29nLmZ1bmN0aW9ucy5pZGVudGl0eTtcbmVlLkZ1bmN0aW9uLnJlZ2lzdGVyUHJvbW90ZXIgPSBmdW5jdGlvbihwcm9tb3Rlcikge1xuICBlZS5GdW5jdGlvbi5wcm9tb3Rlcl8gPSBwcm9tb3Rlcjtcbn07XG5lZS5GdW5jdGlvbi5wcm90b3R5cGUuY2FsbCA9IGZ1bmN0aW9uKHZhcl9hcmdzKSB7XG4gIHJldHVybiB0aGlzLmFwcGx5KHRoaXMubmFtZUFyZ3MoQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAwKSkpO1xufTtcbmdvb2cuZXhwb3J0UHJvcGVydHkoZWUuRnVuY3Rpb24ucHJvdG90eXBlLCBcImNhbGxcIiwgZWUuRnVuY3Rpb24ucHJvdG90eXBlLmNhbGwpO1xuZWUuRnVuY3Rpb24ucHJvdG90eXBlLmFwcGx5ID0gZnVuY3Rpb24obmFtZWRBcmdzKSB7XG4gIHZhciByZXN1bHQgPSBuZXcgZWUuQ29tcHV0ZWRPYmplY3QodGhpcywgdGhpcy5wcm9tb3RlQXJncyhuYW1lZEFyZ3MpKTtcbiAgcmV0dXJuIGVlLkZ1bmN0aW9uLnByb21vdGVyXyhyZXN1bHQsIHRoaXMuZ2V0UmV0dXJuVHlwZSgpKTtcbn07XG5nb29nLmV4cG9ydFByb3BlcnR5KGVlLkZ1bmN0aW9uLnByb3RvdHlwZSwgXCJhcHBseVwiLCBlZS5GdW5jdGlvbi5wcm90b3R5cGUuYXBwbHkpO1xuZWUuRnVuY3Rpb24ucHJvdG90eXBlLmNhbGxPckFwcGx5ID0gZnVuY3Rpb24odGhpc1ZhbHVlLCBhcmdzKSB7XG4gIHZhciBpc0luc3RhbmNlID0gdm9pZCAwICE9PSB0aGlzVmFsdWUsIHNpZ25hdHVyZSA9IHRoaXMuZ2V0U2lnbmF0dXJlKCk7XG4gIGlmIChlZS5UeXBlcy51c2VLZXl3b3JkQXJncyhhcmdzLCBzaWduYXR1cmUsIGlzSW5zdGFuY2UpKSB7XG4gICAgdmFyIG5hbWVkQXJncyA9IG1vZHVsZSRjb250ZW50cyRnb29nJG9iamVjdF9jbG9uZShhcmdzWzBdKTtcbiAgICBpZiAoaXNJbnN0YW5jZSkge1xuICAgICAgdmFyIGZpcnN0QXJnTmFtZSA9IHNpZ25hdHVyZS5hcmdzWzBdLm5hbWU7XG4gICAgICBpZiAoZmlyc3RBcmdOYW1lIGluIG5hbWVkQXJncykge1xuICAgICAgICB0aHJvdyBFcnJvcihcIk5hbWVkIGFyZ3MgZm9yIFwiICsgc2lnbmF0dXJlLm5hbWUgKyBcIiBjYW4ndCBjb250YWluIGtleXdvcmQgXCIgKyBmaXJzdEFyZ05hbWUpO1xuICAgICAgfVxuICAgICAgbmFtZWRBcmdzW2ZpcnN0QXJnTmFtZV0gPSB0aGlzVmFsdWU7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIG5hbWVkQXJncyA9IHRoaXMubmFtZUFyZ3MoaXNJbnN0YW5jZSA/IFt0aGlzVmFsdWVdLmNvbmNhdChhcmdzKSA6IGFyZ3MpO1xuICB9XG4gIHJldHVybiB0aGlzLmFwcGx5KG5hbWVkQXJncyk7XG59O1xuZWUuRnVuY3Rpb24ucHJvdG90eXBlLnByb21vdGVBcmdzID0gZnVuY3Rpb24oYXJncykge1xuICBmb3IgKHZhciBzcGVjcyA9IHRoaXMuZ2V0U2lnbmF0dXJlKCkuYXJncywgcHJvbW90ZWRBcmdzID0ge30sIGtub3duID0ge30sIGkgPSAwOyBpIDwgc3BlY3MubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgbmFtZSA9IHNwZWNzW2ldLm5hbWU7XG4gICAgaWYgKG5hbWUgaW4gYXJncyAmJiB2b2lkIDAgIT09IGFyZ3NbbmFtZV0pIHtcbiAgICAgIHByb21vdGVkQXJnc1tuYW1lXSA9IGVlLkZ1bmN0aW9uLnByb21vdGVyXyhhcmdzW25hbWVdLCBzcGVjc1tpXS50eXBlKTtcbiAgICB9IGVsc2UgaWYgKCFzcGVjc1tpXS5vcHRpb25hbCkge1xuICAgICAgdGhyb3cgRXJyb3IoXCJSZXF1aXJlZCBhcmd1bWVudCAoXCIgKyBuYW1lICsgXCIpIG1pc3NpbmcgdG8gZnVuY3Rpb246IFwiICsgdGhpcyk7XG4gICAgfVxuICAgIGtub3duW25hbWVdID0gITA7XG4gIH1cbiAgdmFyIHVua25vd24gPSBbXSwgYXJnTmFtZTtcbiAgZm9yIChhcmdOYW1lIGluIGFyZ3MpIHtcbiAgICBrbm93blthcmdOYW1lXSB8fCB1bmtub3duLnB1c2goYXJnTmFtZSk7XG4gIH1cbiAgaWYgKDAgPCB1bmtub3duLmxlbmd0aCkge1xuICAgIHRocm93IEVycm9yKFwiVW5yZWNvZ25pemVkIGFyZ3VtZW50cyAoXCIgKyB1bmtub3duICsgXCIpIHRvIGZ1bmN0aW9uOiBcIiArIHRoaXMpO1xuICB9XG4gIHJldHVybiBwcm9tb3RlZEFyZ3M7XG59O1xuZWUuRnVuY3Rpb24ucHJvdG90eXBlLm5hbWVBcmdzID0gZnVuY3Rpb24oYXJncykge1xuICB2YXIgc3BlY3MgPSB0aGlzLmdldFNpZ25hdHVyZSgpLmFyZ3M7XG4gIGlmIChzcGVjcy5sZW5ndGggPCBhcmdzLmxlbmd0aCkge1xuICAgIHRocm93IEVycm9yKFwiVG9vIG1hbnkgKFwiICsgYXJncy5sZW5ndGggKyBcIikgYXJndW1lbnRzIHRvIGZ1bmN0aW9uOiBcIiArIHRoaXMpO1xuICB9XG4gIGZvciAodmFyIG5hbWVkQXJncyA9IHt9LCBpID0gMDsgaSA8IGFyZ3MubGVuZ3RoOyBpKyspIHtcbiAgICBuYW1lZEFyZ3Nbc3BlY3NbaV0ubmFtZV0gPSBhcmdzW2ldO1xuICB9XG4gIHJldHVybiBuYW1lZEFyZ3M7XG59O1xuZWUuRnVuY3Rpb24ucHJvdG90eXBlLmdldFJldHVyblR5cGUgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuZ2V0U2lnbmF0dXJlKCkucmV0dXJucztcbn07XG5lZS5GdW5jdGlvbi5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbihvcHRfbmFtZSwgb3B0X2lzSW5zdGFuY2UpIHtcbiAgdmFyIHNpZ25hdHVyZSA9IHRoaXMuZ2V0U2lnbmF0dXJlKCksIGJ1ZmZlciA9IFtdO1xuICBidWZmZXIucHVzaChvcHRfbmFtZSB8fCBzaWduYXR1cmUubmFtZSk7XG4gIGJ1ZmZlci5wdXNoKFwiKFwiKTtcbiAgYnVmZmVyLnB1c2gobW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfbWFwKHNpZ25hdHVyZS5hcmdzLnNsaWNlKG9wdF9pc0luc3RhbmNlID8gMSA6IDApLCBmdW5jdGlvbihlbGVtKSB7XG4gICAgcmV0dXJuIGVsZW0ubmFtZTtcbiAgfSkuam9pbihcIiwgXCIpKTtcbiAgYnVmZmVyLnB1c2goXCIpXFxuXCIpO1xuICBidWZmZXIucHVzaChcIlxcblwiKTtcbiAgc2lnbmF0dXJlLmRlc2NyaXB0aW9uID8gYnVmZmVyLnB1c2goc2lnbmF0dXJlLmRlc2NyaXB0aW9uKSA6IGJ1ZmZlci5wdXNoKFwiVW5kb2N1bWVudGVkLlwiKTtcbiAgYnVmZmVyLnB1c2goXCJcXG5cIik7XG4gIGlmIChzaWduYXR1cmUuYXJncy5sZW5ndGgpIHtcbiAgICBidWZmZXIucHVzaChcIlxcbkFyZ3M6XFxuXCIpO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2lnbmF0dXJlLmFyZ3MubGVuZ3RoOyBpKyspIHtcbiAgICAgIG9wdF9pc0luc3RhbmNlICYmIDAgPT0gaSA/IGJ1ZmZlci5wdXNoKFwiICB0aGlzOlwiKSA6IGJ1ZmZlci5wdXNoKFwiXFxuICBcIik7XG4gICAgICB2YXIgYXJnID0gc2lnbmF0dXJlLmFyZ3NbaV07XG4gICAgICBidWZmZXIucHVzaChhcmcubmFtZSk7XG4gICAgICBidWZmZXIucHVzaChcIiAoXCIpO1xuICAgICAgYnVmZmVyLnB1c2goYXJnLnR5cGUpO1xuICAgICAgYXJnLm9wdGlvbmFsICYmIGJ1ZmZlci5wdXNoKFwiLCBvcHRpb25hbFwiKTtcbiAgICAgIGJ1ZmZlci5wdXNoKFwiKTogXCIpO1xuICAgICAgYXJnLmRlc2NyaXB0aW9uID8gYnVmZmVyLnB1c2goYXJnLmRlc2NyaXB0aW9uKSA6IGJ1ZmZlci5wdXNoKFwiVW5kb2N1bWVudGVkLlwiKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGJ1ZmZlci5qb2luKFwiXCIpO1xufTtcbmVlLkZ1bmN0aW9uLnByb3RvdHlwZS5zZXJpYWxpemUgPSBmdW5jdGlvbihsZWdhY3kpIHtcbiAgcmV0dXJuICh2b2lkIDAgPT09IGxlZ2FjeSA/IDAgOiBsZWdhY3kpID8gZWUuU2VyaWFsaXplci50b0pTT04odGhpcykgOiBlZS5TZXJpYWxpemVyLnRvQ2xvdWRBcGlKU09OKHRoaXMpO1xufTtcbmVlLkFwaUZ1bmN0aW9uID0gZnVuY3Rpb24obmFtZSwgb3B0X3NpZ25hdHVyZSkge1xuICBpZiAodm9pZCAwID09PSBvcHRfc2lnbmF0dXJlKSB7XG4gICAgcmV0dXJuIGVlLkFwaUZ1bmN0aW9uLmxvb2t1cChuYW1lKTtcbiAgfVxuICBpZiAoISh0aGlzIGluc3RhbmNlb2YgZWUuQXBpRnVuY3Rpb24pKSB7XG4gICAgcmV0dXJuIGVlLkNvbXB1dGVkT2JqZWN0LmNvbnN0cnVjdChlZS5BcGlGdW5jdGlvbiwgYXJndW1lbnRzKTtcbiAgfVxuICB0aGlzLnNpZ25hdHVyZV8gPSBtb2R1bGUkY29udGVudHMkZ29vZyRvYmplY3RfdW5zYWZlQ2xvbmUob3B0X3NpZ25hdHVyZSk7XG4gIHRoaXMuc2lnbmF0dXJlXy5uYW1lID0gbmFtZTtcbn07XG5nb29nLmluaGVyaXRzKGVlLkFwaUZ1bmN0aW9uLCBlZS5GdW5jdGlvbik7XG5nb29nLmV4cG9ydFN5bWJvbChcImVlLkFwaUZ1bmN0aW9uXCIsIGVlLkFwaUZ1bmN0aW9uKTtcbmVlLkFwaUZ1bmN0aW9uLl9jYWxsID0gZnVuY3Rpb24obmFtZSwgdmFyX2FyZ3MpIHtcbiAgcmV0dXJuIGVlLkZ1bmN0aW9uLnByb3RvdHlwZS5jYWxsLmFwcGx5KGVlLkFwaUZ1bmN0aW9uLmxvb2t1cChuYW1lKSwgQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKSk7XG59O1xuZ29vZy5leHBvcnRTeW1ib2woXCJlZS5BcGlGdW5jdGlvbi5fY2FsbFwiLCBlZS5BcGlGdW5jdGlvbi5fY2FsbCk7XG5lZS5BcGlGdW5jdGlvbi5fYXBwbHkgPSBmdW5jdGlvbihuYW1lLCBuYW1lZEFyZ3MpIHtcbiAgcmV0dXJuIGVlLkFwaUZ1bmN0aW9uLmxvb2t1cChuYW1lKS5hcHBseShuYW1lZEFyZ3MpO1xufTtcbmdvb2cuZXhwb3J0U3ltYm9sKFwiZWUuQXBpRnVuY3Rpb24uX2FwcGx5XCIsIGVlLkFwaUZ1bmN0aW9uLl9hcHBseSk7XG5lZS5BcGlGdW5jdGlvbi5wcm90b3R5cGUuZW5jb2RlID0gZnVuY3Rpb24oZW5jb2Rlcikge1xuICByZXR1cm4gdGhpcy5zaWduYXR1cmVfLm5hbWU7XG59O1xuZWUuQXBpRnVuY3Rpb24ucHJvdG90eXBlLmVuY29kZUNsb3VkSW52b2NhdGlvbiA9IGZ1bmN0aW9uKHNlcmlhbGl6ZXIsIGFyZ3MpIHtcbiAgcmV0dXJuIGVlLnJwY19ub2RlLmZ1bmN0aW9uQnlOYW1lKHRoaXMuc2lnbmF0dXJlXy5uYW1lLCBhcmdzKTtcbn07XG5lZS5BcGlGdW5jdGlvbi5wcm90b3R5cGUuZ2V0U2lnbmF0dXJlID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLnNpZ25hdHVyZV87XG59O1xuZWUuQXBpRnVuY3Rpb24uYXBpXyA9IG51bGw7XG5lZS5BcGlGdW5jdGlvbi5ib3VuZFNpZ25hdHVyZXNfID0ge307XG5lZS5BcGlGdW5jdGlvbi5hbGxTaWduYXR1cmVzID0gZnVuY3Rpb24oKSB7XG4gIGVlLkFwaUZ1bmN0aW9uLmluaXRpYWxpemUoKTtcbiAgcmV0dXJuIG1vZHVsZSRjb250ZW50cyRnb29nJG9iamVjdF9tYXAoZWUuQXBpRnVuY3Rpb24uYXBpXywgZnVuY3Rpb24oZnVuYykge1xuICAgIHJldHVybiBmdW5jLmdldFNpZ25hdHVyZSgpO1xuICB9KTtcbn07XG5lZS5BcGlGdW5jdGlvbi51bmJvdW5kRnVuY3Rpb25zID0gZnVuY3Rpb24oKSB7XG4gIGVlLkFwaUZ1bmN0aW9uLmluaXRpYWxpemUoKTtcbiAgcmV0dXJuIG1vZHVsZSRjb250ZW50cyRnb29nJG9iamVjdF9maWx0ZXIoZWUuQXBpRnVuY3Rpb24uYXBpXywgZnVuY3Rpb24oZnVuYywgbmFtZSkge1xuICAgIHJldHVybiAhZWUuQXBpRnVuY3Rpb24uYm91bmRTaWduYXR1cmVzX1tuYW1lXTtcbiAgfSk7XG59O1xuZWUuQXBpRnVuY3Rpb24ubG9va3VwID0gZnVuY3Rpb24obmFtZSkge1xuICB2YXIgZnVuYyA9IGVlLkFwaUZ1bmN0aW9uLmxvb2t1cEludGVybmFsKG5hbWUpO1xuICBpZiAoIWZ1bmMpIHtcbiAgICB0aHJvdyBFcnJvcihcIlVua25vd24gYnVpbHQtaW4gZnVuY3Rpb24gbmFtZTogXCIgKyBuYW1lKTtcbiAgfVxuICByZXR1cm4gZnVuYztcbn07XG5nb29nLmV4cG9ydFN5bWJvbChcImVlLkFwaUZ1bmN0aW9uLmxvb2t1cFwiLCBlZS5BcGlGdW5jdGlvbi5sb29rdXApO1xuZWUuQXBpRnVuY3Rpb24ubG9va3VwSW50ZXJuYWwgPSBmdW5jdGlvbihuYW1lKSB7XG4gIGVlLkFwaUZ1bmN0aW9uLmluaXRpYWxpemUoKTtcbiAgcmV0dXJuIGVlLkFwaUZ1bmN0aW9uLmFwaV9bbmFtZV0gfHwgbnVsbDtcbn07XG5lZS5BcGlGdW5jdGlvbi5pbml0aWFsaXplID0gZnVuY3Rpb24ob3B0X3N1Y2Nlc3NDYWxsYmFjaywgb3B0X2ZhaWx1cmVDYWxsYmFjaykge1xuICBpZiAoZWUuQXBpRnVuY3Rpb24uYXBpXykge1xuICAgIG9wdF9zdWNjZXNzQ2FsbGJhY2sgJiYgb3B0X3N1Y2Nlc3NDYWxsYmFjaygpO1xuICB9IGVsc2Uge1xuICAgIHZhciBjYWxsYmFjayA9IGZ1bmN0aW9uKGRhdGEsIG9wdF9lcnJvcikge1xuICAgICAgb3B0X2Vycm9yID8gb3B0X2ZhaWx1cmVDYWxsYmFjayAmJiBvcHRfZmFpbHVyZUNhbGxiYWNrKEVycm9yKG9wdF9lcnJvcikpIDogKGVlLkFwaUZ1bmN0aW9uLmFwaV8gPSBtb2R1bGUkY29udGVudHMkZ29vZyRvYmplY3RfbWFwKGRhdGEsIGZ1bmN0aW9uKHNpZywgbmFtZSkge1xuICAgICAgICBzaWcucmV0dXJucyA9IHNpZy5yZXR1cm5zLnJlcGxhY2UoLzwuKj4vLCBcIlwiKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzaWcuYXJncy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIHNpZy5hcmdzW2ldLnR5cGUgPSBzaWcuYXJnc1tpXS50eXBlLnJlcGxhY2UoLzwuKj4vLCBcIlwiKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IGVlLkFwaUZ1bmN0aW9uKG5hbWUsIHNpZyk7XG4gICAgICB9KSwgb3B0X3N1Y2Nlc3NDYWxsYmFjayAmJiBvcHRfc3VjY2Vzc0NhbGxiYWNrKCkpO1xuICAgIH07XG4gICAgb3B0X3N1Y2Nlc3NDYWxsYmFjayA/IGVlLmRhdGEuZ2V0QWxnb3JpdGhtcyhjYWxsYmFjaykgOiBjYWxsYmFjayhlZS5kYXRhLmdldEFsZ29yaXRobXMoKSk7XG4gIH1cbn07XG5lZS5BcGlGdW5jdGlvbi5yZXNldCA9IGZ1bmN0aW9uKCkge1xuICBlZS5BcGlGdW5jdGlvbi5hcGlfID0gbnVsbDtcbiAgZWUuQXBpRnVuY3Rpb24uYm91bmRTaWduYXR1cmVzXyA9IHt9O1xufTtcbmVlLkFwaUZ1bmN0aW9uLmltcG9ydEFwaSA9IGZ1bmN0aW9uKHRhcmdldCwgcHJlZml4LCB0eXBlTmFtZSwgb3B0X3ByZXBlbmQpIHtcbiAgZWUuQXBpRnVuY3Rpb24uaW5pdGlhbGl6ZSgpO1xuICB2YXIgcHJlcGVuZCA9IG9wdF9wcmVwZW5kIHx8IFwiXCI7XG4gIG1vZHVsZSRjb250ZW50cyRnb29nJG9iamVjdF9mb3JFYWNoKGVlLkFwaUZ1bmN0aW9uLmFwaV8sIGZ1bmN0aW9uKGFwaUZ1bmMsIG5hbWUpIHtcbiAgICB2YXIgcGFydHMgPSBuYW1lLnNwbGl0KFwiLlwiKTtcbiAgICBpZiAoMiA9PSBwYXJ0cy5sZW5ndGggJiYgcGFydHNbMF0gPT0gcHJlZml4KSB7XG4gICAgICB2YXIgZm5hbWUgPSBwcmVwZW5kICsgcGFydHNbMV0sIHNpZ25hdHVyZSA9IGFwaUZ1bmMuZ2V0U2lnbmF0dXJlKCk7XG4gICAgICBlZS5BcGlGdW5jdGlvbi5ib3VuZFNpZ25hdHVyZXNfW25hbWVdID0gITA7XG4gICAgICB2YXIgaXNJbnN0YW5jZSA9ICExO1xuICAgICAgaWYgKHNpZ25hdHVyZS5hcmdzLmxlbmd0aCkge1xuICAgICAgICB2YXIgZmlyc3RBcmdUeXBlID0gc2lnbmF0dXJlLmFyZ3NbMF0udHlwZTtcbiAgICAgICAgaXNJbnN0YW5jZSA9IFwiT2JqZWN0XCIgIT0gZmlyc3RBcmdUeXBlICYmIGVlLlR5cGVzLmlzU3VidHlwZShmaXJzdEFyZ1R5cGUsIHR5cGVOYW1lKTtcbiAgICAgIH1cbiAgICAgIHZhciBkZXN0aW5hdGlvbiA9IGlzSW5zdGFuY2UgPyB0YXJnZXQucHJvdG90eXBlIDogdGFyZ2V0O1xuICAgICAgZm5hbWUgaW4gZGVzdGluYXRpb24gJiYgIWRlc3RpbmF0aW9uW2ZuYW1lXS5zaWduYXR1cmUgfHwgKGRlc3RpbmF0aW9uW2ZuYW1lXSA9IGZ1bmN0aW9uKHZhcl9hcmdzKSB7XG4gICAgICAgIHJldHVybiBhcGlGdW5jLmNhbGxPckFwcGx5KGlzSW5zdGFuY2UgPyB0aGlzIDogdm9pZCAwLCBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDApKTtcbiAgICAgIH0sIGRlc3RpbmF0aW9uW2ZuYW1lXS50b1N0cmluZyA9IGdvb2cuYmluZChhcGlGdW5jLnRvU3RyaW5nLCBhcGlGdW5jLCBmbmFtZSwgaXNJbnN0YW5jZSksIGRlc3RpbmF0aW9uW2ZuYW1lXS5zaWduYXR1cmUgPSBzaWduYXR1cmUpO1xuICAgIH1cbiAgfSk7XG59O1xuZWUuQXBpRnVuY3Rpb24uY2xlYXJBcGkgPSBmdW5jdGlvbih0YXJnZXQkanNjb21wJDApIHtcbiAgdmFyIGNsZWFyID0gZnVuY3Rpb24odGFyZ2V0KSB7XG4gICAgZm9yICh2YXIgbmFtZSBpbiB0YXJnZXQpIHtcbiAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIHRhcmdldFtuYW1lXSAmJiB0YXJnZXRbbmFtZV0uc2lnbmF0dXJlICYmIGRlbGV0ZSB0YXJnZXRbbmFtZV07XG4gICAgfVxuICB9O1xuICBjbGVhcih0YXJnZXQkanNjb21wJDApO1xuICBjbGVhcih0YXJnZXQkanNjb21wJDAucHJvdG90eXBlIHx8IHt9KTtcbn07XG5lZS5hcmd1bWVudHMgPSB7fTtcbmVlLmFyZ3VtZW50cy5leHRyYWN0RnJvbUZ1bmN0aW9uID0gZnVuY3Rpb24oZm4sIG9yaWdpbmFsQXJncykge1xuICByZXR1cm4gZWUuYXJndW1lbnRzLmV4dHJhY3RJbXBsXyhmbiwgb3JpZ2luYWxBcmdzLCBlZS5hcmd1bWVudHMuSlNfUEFSQU1fREVDTF9NQVRDSEVSX0ZVTkNUSU9OXyk7XG59O1xuZWUuYXJndW1lbnRzLmV4dHJhY3RGcm9tQ2xhc3NDb25zdHJ1Y3RvciA9IGZ1bmN0aW9uKGZuLCBvcmlnaW5hbEFyZ3MpIHtcbiAgcmV0dXJuIGVlLmFyZ3VtZW50cy5leHRyYWN0SW1wbF8oZm4sIG9yaWdpbmFsQXJncywgZWUuYXJndW1lbnRzLkpTX1BBUkFNX0RFQ0xfTUFUQ0hFUl9DTEFTU19DT05TVFJVQ1RPUl8pO1xufTtcbmVlLmFyZ3VtZW50cy5leHRyYWN0RnJvbUNsYXNzTWV0aG9kID0gZnVuY3Rpb24oZm4sIG9yaWdpbmFsQXJncykge1xuICByZXR1cm4gZWUuYXJndW1lbnRzLmV4dHJhY3RJbXBsXyhmbiwgb3JpZ2luYWxBcmdzLCBlZS5hcmd1bWVudHMuSlNfUEFSQU1fREVDTF9NQVRDSEVSX0NMQVNTX01FVEhPRF8pO1xufTtcbmVlLmFyZ3VtZW50cy5leHRyYWN0ID0gZWUuYXJndW1lbnRzLmV4dHJhY3RGcm9tRnVuY3Rpb247XG5lZS5hcmd1bWVudHMuZXh0cmFjdEltcGxfID0gZnVuY3Rpb24oZm4sIG9yaWdpbmFsQXJncywgcGFyYW1ldGVyTWF0Y2hlcikge1xuICB2YXIgcGFyYW1OYW1lc1dpdGhPcHRQcmVmaXggPSBlZS5hcmd1bWVudHMuZ2V0UGFyYW1OYW1lc18oZm4sIHBhcmFtZXRlck1hdGNoZXIpLCBwYXJhbU5hbWVzID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfbWFwKHBhcmFtTmFtZXNXaXRoT3B0UHJlZml4LCBmdW5jdGlvbihwYXJhbSkge1xuICAgIHJldHVybiBwYXJhbS5yZXBsYWNlKC9eb3B0Xy8sIFwiXCIpO1xuICB9KSwgZm5OYW1lID0gZWUuYXJndW1lbnRzLmdldEZuTmFtZV8oZm4pLCBmbk5hbWVTbmlwcGV0ID0gZm5OYW1lID8gXCIgdG8gZnVuY3Rpb24gXCIgKyBmbk5hbWUgOiBcIlwiLCBhcmdzID0ge30sIGZpcnN0QXJnID0gb3JpZ2luYWxBcmdzWzBdLCBmaXJzdEFyZ0NvdWxkQmVEaWN0aW9uYXJ5ID0gZ29vZy5pc09iamVjdChmaXJzdEFyZykgJiYgXCJmdW5jdGlvblwiICE9PSB0eXBlb2YgZmlyc3RBcmcgJiYgIUFycmF5LmlzQXJyYXkoZmlyc3RBcmcpICYmIFwiT2JqZWN0XCIgPT09IE9iamVjdC5nZXRQcm90b3R5cGVPZihmaXJzdEFyZykuY29uc3RydWN0b3IubmFtZTtcbiAgaWYgKDEgPCBvcmlnaW5hbEFyZ3MubGVuZ3RoIHx8ICFmaXJzdEFyZ0NvdWxkQmVEaWN0aW9uYXJ5KSB7XG4gICAgaWYgKG9yaWdpbmFsQXJncy5sZW5ndGggPiBwYXJhbU5hbWVzLmxlbmd0aCkge1xuICAgICAgdGhyb3cgRXJyb3IoXCJSZWNlaXZlZCB0b28gbWFueSBhcmd1bWVudHNcIiArIGZuTmFtZVNuaXBwZXQgKyBcIi4gRXhwZWN0ZWQgYXQgbW9zdCBcIiArIHBhcmFtTmFtZXMubGVuZ3RoICsgXCIgYnV0IGdvdCBcIiArIG9yaWdpbmFsQXJncy5sZW5ndGggKyBcIi5cIik7XG4gICAgfVxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb3JpZ2luYWxBcmdzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBhcmdzW3BhcmFtTmFtZXNbaV1dID0gb3JpZ2luYWxBcmdzW2ldO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICB2YXIgc2VlbiA9IG5ldyBnb29nLnN0cnVjdHMuU2V0KG1vZHVsZSRjb250ZW50cyRnb29nJG9iamVjdF9nZXRLZXlzKGZpcnN0QXJnKSksIGV4cGVjdGVkID0gbmV3IGdvb2cuc3RydWN0cy5TZXQocGFyYW1OYW1lcyk7XG4gICAgaWYgKGV4cGVjdGVkLmludGVyc2VjdGlvbihzZWVuKS5pc0VtcHR5KCkpIHtcbiAgICAgIGFyZ3NbcGFyYW1OYW1lc1swXV0gPSBvcmlnaW5hbEFyZ3NbMF07XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciB1bmV4cGVjdGVkID0gc2Vlbi5kaWZmZXJlbmNlKGV4cGVjdGVkKTtcbiAgICAgIGlmICgwICE9PSB1bmV4cGVjdGVkLnNpemUpIHtcbiAgICAgICAgdGhyb3cgRXJyb3IoXCJVbmV4cGVjdGVkIGFyZ3VtZW50c1wiICsgZm5OYW1lU25pcHBldCArIFwiOiBcIiArIEFycmF5LmZyb20odW5leHBlY3RlZC52YWx1ZXMoKSkuam9pbihcIiwgXCIpKTtcbiAgICAgIH1cbiAgICAgIGFyZ3MgPSBtb2R1bGUkY29udGVudHMkZ29vZyRvYmplY3RfY2xvbmUoZmlyc3RBcmcpO1xuICAgIH1cbiAgfVxuICB2YXIgcHJvdmlkZWQgPSBuZXcgZ29vZy5zdHJ1Y3RzLlNldChtb2R1bGUkY29udGVudHMkZ29vZyRvYmplY3RfZ2V0S2V5cyhhcmdzKSksIG1pc3NpbmcgPSAobmV3IGdvb2cuc3RydWN0cy5TZXQobW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfZmlsdGVyKHBhcmFtTmFtZXNXaXRoT3B0UHJlZml4LCBmdW5jdGlvbihwYXJhbSkge1xuICAgIHJldHVybiAhZ29vZy5zdHJpbmcuc3RhcnRzV2l0aChwYXJhbSwgXCJvcHRfXCIpO1xuICB9KSkpLmRpZmZlcmVuY2UocHJvdmlkZWQpO1xuICBpZiAoMCAhPT0gbWlzc2luZy5zaXplKSB7XG4gICAgdGhyb3cgRXJyb3IoXCJNaXNzaW5nIHJlcXVpcmVkIGFyZ3VtZW50c1wiICsgZm5OYW1lU25pcHBldCArIFwiOiBcIiArIEFycmF5LmZyb20obWlzc2luZy52YWx1ZXMoKSkuam9pbihcIiwgXCIpKTtcbiAgfVxuICByZXR1cm4gYXJncztcbn07XG5lZS5hcmd1bWVudHMuZ2V0UGFyYW1OYW1lc18gPSBmdW5jdGlvbihmbiwgcGFyYW1ldGVyTWF0Y2hlcikge1xuICB2YXIgcGFyYW1OYW1lcyA9IFtdO1xuICBpZiAoZ29vZy5nbG9iYWwuRVhQT1JURURfRk5fSU5GTykge1xuICAgIHZhciBleHBvcnRlZEZuSW5mbyA9IGdvb2cuZ2xvYmFsLkVYUE9SVEVEX0ZOX0lORk9bZm4udG9TdHJpbmcoKV07XG4gICAgZ29vZy5pc09iamVjdChleHBvcnRlZEZuSW5mbykgfHwgZWUuYXJndW1lbnRzLnRocm93TWF0Y2hGYWlsZWRFcnJvcl8oKTtcbiAgICBwYXJhbU5hbWVzID0gZXhwb3J0ZWRGbkluZm8ucGFyYW1OYW1lcztcbiAgICBBcnJheS5pc0FycmF5KHBhcmFtTmFtZXMpIHx8IGVlLmFyZ3VtZW50cy50aHJvd01hdGNoRmFpbGVkRXJyb3JfKCk7XG4gIH0gZWxzZSB7XG4gICAgdmFyIGZuTWF0Y2hSZXN1bHQgPSBmbi50b1N0cmluZygpLnJlcGxhY2UoZWUuYXJndW1lbnRzLkpTX0NPTU1FTlRfTUFUQ0hFUl8sIFwiXCIpLm1hdGNoKHBhcmFtZXRlck1hdGNoZXIpO1xuICAgIG51bGwgPT09IGZuTWF0Y2hSZXN1bHQgJiYgZWUuYXJndW1lbnRzLnRocm93TWF0Y2hGYWlsZWRFcnJvcl8oKTtcbiAgICBwYXJhbU5hbWVzID0gKGZuTWF0Y2hSZXN1bHRbMV0uc3BsaXQoXCIsXCIpIHx8IFtdKS5tYXAoZnVuY3Rpb24ocCkge1xuICAgICAgcmV0dXJuIHAucmVwbGFjZShlZS5hcmd1bWVudHMuSlNfUEFSQU1fREVGQVVMVF9NQVRDSEVSXywgXCJcIik7XG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIHBhcmFtTmFtZXM7XG59O1xuZWUuYXJndW1lbnRzLmdldEZuTmFtZV8gPSBmdW5jdGlvbihmbikge1xuICByZXR1cm4gZ29vZy5nbG9iYWwuRVhQT1JURURfRk5fSU5GTyA/IGdvb2cuZ2xvYmFsLkVYUE9SVEVEX0ZOX0lORk9bZm4udG9TdHJpbmcoKV0ubmFtZS5zcGxpdChcIi5cIikucG9wKCkgKyBcIigpXCIgOiBudWxsO1xufTtcbmVlLmFyZ3VtZW50cy50aHJvd01hdGNoRmFpbGVkRXJyb3JfID0gZnVuY3Rpb24oKSB7XG4gIHRocm93IEVycm9yKFwiRmFpbGVkIHRvIGxvY2F0ZSBmdW5jdGlvbiBwYXJhbWV0ZXJzLlwiKTtcbn07XG5lZS5hcmd1bWVudHMuSlNfQ09NTUVOVF9NQVRDSEVSXyA9IC8oKFxcL1xcLy4qJCl8KFxcL1xcKltcXHNcXFNdKj9cXCpcXC8pfChcXHMpKS9tZztcbmVlLmFyZ3VtZW50cy5KU19QQVJBTV9ERUNMX01BVENIRVJfRlVOQ1RJT05fID0gL15mdW5jdGlvblteXFwoXSpcXCgoW15cXCldKilcXCkvbTtcbmVlLmFyZ3VtZW50cy5KU19QQVJBTV9ERUNMX01BVENIRVJfQ0xBU1NfQ09OU1RSVUNUT1JfID0gL15jbGFzc1teXFx7XSp7XFxTKj9cXGJjb25zdHJ1Y3RvclxcKChbXlxcKV0qKVxcKS9tO1xuZWUuYXJndW1lbnRzLkpTX1BBUkFNX0RFQ0xfTUFUQ0hFUl9DTEFTU19NRVRIT0RfID0gL1teXFwoXSpcXCgoW15cXCldKilcXCkvbTtcbmVlLmFyZ3VtZW50cy5KU19QQVJBTV9ERUZBVUxUX01BVENIRVJfID0gLz0uKiQvO1xuZWUuRWxlbWVudCA9IGZ1bmN0aW9uKGZ1bmMsIGFyZ3MsIG9wdF92YXJOYW1lKSB7XG4gIGVlLkNvbXB1dGVkT2JqZWN0LmNhbGwodGhpcywgZnVuYywgYXJncywgb3B0X3Zhck5hbWUpO1xuICBlZS5FbGVtZW50LmluaXRpYWxpemUoKTtcbn07XG5nb29nLmluaGVyaXRzKGVlLkVsZW1lbnQsIGVlLkNvbXB1dGVkT2JqZWN0KTtcbmdvb2cuZXhwb3J0U3ltYm9sKFwiZWUuRWxlbWVudFwiLCBlZS5FbGVtZW50KTtcbmVlLkVsZW1lbnQuaW5pdGlhbGl6ZWRfID0gITE7XG5lZS5FbGVtZW50LmluaXRpYWxpemUgPSBmdW5jdGlvbigpIHtcbiAgZWUuRWxlbWVudC5pbml0aWFsaXplZF8gfHwgKGVlLkFwaUZ1bmN0aW9uLmltcG9ydEFwaShlZS5FbGVtZW50LCBcIkVsZW1lbnRcIiwgXCJFbGVtZW50XCIpLCBlZS5FbGVtZW50LmluaXRpYWxpemVkXyA9ICEwKTtcbn07XG5lZS5FbGVtZW50LnJlc2V0ID0gZnVuY3Rpb24oKSB7XG4gIGVlLkFwaUZ1bmN0aW9uLmNsZWFyQXBpKGVlLkVsZW1lbnQpO1xuICBlZS5FbGVtZW50LmluaXRpYWxpemVkXyA9ICExO1xufTtcbmVlLkVsZW1lbnQucHJvdG90eXBlLm5hbWUgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIFwiRWxlbWVudFwiO1xufTtcbmVlLkVsZW1lbnQucHJvdG90eXBlLnNldCA9IGZ1bmN0aW9uKHZhcl9hcmdzKSB7XG4gIGlmICgxID49IGFyZ3VtZW50cy5sZW5ndGgpIHtcbiAgICB2YXIgcHJvcGVydGllcyA9IGFyZ3VtZW50c1swXTtcbiAgICBlZS5UeXBlcy5pc1JlZ3VsYXJPYmplY3QocHJvcGVydGllcykgJiYgbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfZXF1YWxzKG1vZHVsZSRjb250ZW50cyRnb29nJG9iamVjdF9nZXRLZXlzKHByb3BlcnRpZXMpLCBbXCJwcm9wZXJ0aWVzXCJdKSAmJiBnb29nLmlzT2JqZWN0KHByb3BlcnRpZXMucHJvcGVydGllcykgJiYgKHByb3BlcnRpZXMgPSBwcm9wZXJ0aWVzLnByb3BlcnRpZXMpO1xuICAgIGlmIChlZS5UeXBlcy5pc1JlZ3VsYXJPYmplY3QocHJvcGVydGllcykpIHtcbiAgICAgIHZhciByZXN1bHQgPSB0aGlzO1xuICAgICAgZm9yICh2YXIga2V5IGluIHByb3BlcnRpZXMpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gcHJvcGVydGllc1trZXldO1xuICAgICAgICByZXN1bHQgPSBlZS5BcGlGdW5jdGlvbi5fY2FsbChcIkVsZW1lbnQuc2V0XCIsIHJlc3VsdCwga2V5LCB2YWx1ZSk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChwcm9wZXJ0aWVzIGluc3RhbmNlb2YgZWUuQ29tcHV0ZWRPYmplY3QgJiYgZWUuQXBpRnVuY3Rpb24ubG9va3VwSW50ZXJuYWwoXCJFbGVtZW50LnNldE11bHRpXCIpKSB7XG4gICAgICByZXN1bHQgPSBlZS5BcGlGdW5jdGlvbi5fY2FsbChcIkVsZW1lbnQuc2V0TXVsdGlcIiwgdGhpcywgcHJvcGVydGllcyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IEVycm9yKFwiV2hlbiBFbGVtZW50LnNldCgpIGlzIHBhc3NlZCBvbmUgYXJndW1lbnQsIGl0IG11c3QgYmUgYSBkaWN0aW9uYXJ5LlwiKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaWYgKDAgIT0gYXJndW1lbnRzLmxlbmd0aCAlIDIpIHtcbiAgICAgIHRocm93IEVycm9yKFwiV2hlbiBFbGVtZW50LnNldCgpIGlzIHBhc3NlZCBtdWx0aXBsZSBhcmd1bWVudHMsIHRoZXJlIG11c3QgYmUgYW4gZXZlbiBudW1iZXIgb2YgdGhlbS5cIik7XG4gICAgfVxuICAgIHJlc3VsdCA9IHRoaXM7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpICs9IDIpIHtcbiAgICAgIGtleSA9IGFyZ3VtZW50c1tpXSwgdmFsdWUgPSBhcmd1bWVudHNbaSArIDFdLCByZXN1bHQgPSBlZS5BcGlGdW5jdGlvbi5fY2FsbChcIkVsZW1lbnQuc2V0XCIsIHJlc3VsdCwga2V5LCB2YWx1ZSk7XG4gICAgfVxuICB9XG4gIHJldHVybiB0aGlzLmNhc3RJbnRlcm5hbChyZXN1bHQpO1xufTtcbmdvb2cuZXhwb3J0UHJvcGVydHkoZWUuRWxlbWVudC5wcm90b3R5cGUsIFwic2V0XCIsIGVlLkVsZW1lbnQucHJvdG90eXBlLnNldCk7XG5lZS5HZW9tZXRyeSA9IGZ1bmN0aW9uKGdlb0pzb24sIG9wdF9wcm9qLCBvcHRfZ2VvZGVzaWMsIG9wdF9ldmVuT2RkKSB7XG4gIGlmICghKHRoaXMgaW5zdGFuY2VvZiBlZS5HZW9tZXRyeSkpIHtcbiAgICByZXR1cm4gZWUuQ29tcHV0ZWRPYmplY3QuY29uc3RydWN0KGVlLkdlb21ldHJ5LCBhcmd1bWVudHMpO1xuICB9XG4gIGlmICghKFwidHlwZVwiIGluIGdlb0pzb24pKSB7XG4gICAgdmFyIGFyZ3MgPSBlZS5hcmd1bWVudHMuZXh0cmFjdEZyb21GdW5jdGlvbihlZS5HZW9tZXRyeSwgYXJndW1lbnRzKTtcbiAgICBnZW9Kc29uID0gYXJncy5nZW9Kc29uO1xuICAgIG9wdF9wcm9qID0gYXJncy5wcm9qO1xuICAgIG9wdF9nZW9kZXNpYyA9IGFyZ3MuZ2VvZGVzaWM7XG4gICAgb3B0X2V2ZW5PZGQgPSBhcmdzLmV2ZW5PZGQ7XG4gIH1cbiAgZWUuR2VvbWV0cnkuaW5pdGlhbGl6ZSgpO1xuICB2YXIgb3B0aW9ucyA9IG51bGwgIT0gb3B0X3Byb2ogfHwgbnVsbCAhPSBvcHRfZ2VvZGVzaWMgfHwgbnVsbCAhPSBvcHRfZXZlbk9kZDtcbiAgaWYgKGdlb0pzb24gaW5zdGFuY2VvZiBlZS5Db21wdXRlZE9iamVjdCAmJiAhKGdlb0pzb24gaW5zdGFuY2VvZiBlZS5HZW9tZXRyeSAmJiBnZW9Kc29uLnR5cGVfKSkge1xuICAgIGlmIChvcHRpb25zKSB7XG4gICAgICB0aHJvdyBFcnJvcihcIlNldHRpbmcgdGhlIENSUywgZ2VvZGVzaWMsIG9yIGV2ZW5PZGQgZmxhZyBvbiBhIGNvbXB1dGVkIEdlb21ldHJ5IGlzIG5vdCBzdXBwb3J0ZWQuICBVc2UgR2VvbWV0cnkudHJhbnNmb3JtKCkuXCIpO1xuICAgIH1cbiAgICBlZS5Db21wdXRlZE9iamVjdC5jYWxsKHRoaXMsIGdlb0pzb24uZnVuYywgZ2VvSnNvbi5hcmdzLCBnZW9Kc29uLnZhck5hbWUpO1xuICB9IGVsc2Uge1xuICAgIGdlb0pzb24gaW5zdGFuY2VvZiBlZS5HZW9tZXRyeSAmJiAoZ2VvSnNvbiA9IGdlb0pzb24uZW5jb2RlKCkpO1xuICAgIGlmICghZWUuR2VvbWV0cnkuaXNWYWxpZEdlb21ldHJ5XyhnZW9Kc29uKSkge1xuICAgICAgdGhyb3cgRXJyb3IoXCJJbnZhbGlkIEdlb0pTT04gZ2VvbWV0cnk6IFwiICsgSlNPTi5zdHJpbmdpZnkoZ2VvSnNvbikpO1xuICAgIH1cbiAgICBlZS5Db21wdXRlZE9iamVjdC5jYWxsKHRoaXMsIG51bGwsIG51bGwpO1xuICAgIHRoaXMudHlwZV8gPSBnZW9Kc29uLnR5cGU7XG4gICAgdGhpcy5jb29yZGluYXRlc18gPSBudWxsICE9IGdlb0pzb24uY29vcmRpbmF0ZXMgPyBtb2R1bGUkY29udGVudHMkZ29vZyRvYmplY3RfdW5zYWZlQ2xvbmUoZ2VvSnNvbi5jb29yZGluYXRlcykgOiBudWxsO1xuICAgIHRoaXMuZ2VvbWV0cmllc18gPSBnZW9Kc29uLmdlb21ldHJpZXMgfHwgbnVsbDtcbiAgICBpZiAobnVsbCAhPSBvcHRfcHJvaikge1xuICAgICAgdGhpcy5wcm9qXyA9IG9wdF9wcm9qO1xuICAgIH0gZWxzZSBpZiAoXCJjcnNcIiBpbiBnZW9Kc29uKSB7XG4gICAgICBpZiAoZ29vZy5pc09iamVjdChnZW9Kc29uLmNycykgJiYgXCJuYW1lXCIgPT0gZ2VvSnNvbi5jcnMudHlwZSAmJiBnb29nLmlzT2JqZWN0KGdlb0pzb24uY3JzLnByb3BlcnRpZXMpICYmIFwic3RyaW5nXCIgPT09IHR5cGVvZiBnZW9Kc29uLmNycy5wcm9wZXJ0aWVzLm5hbWUpIHtcbiAgICAgICAgdGhpcy5wcm9qXyA9IGdlb0pzb24uY3JzLnByb3BlcnRpZXMubmFtZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IEVycm9yKFwiSW52YWxpZCBDUlMgZGVjbGFyYXRpb24gaW4gR2VvSlNPTjogXCIgKyAobmV3IGdvb2cuanNvbi5TZXJpYWxpemVyKCkpLnNlcmlhbGl6ZShnZW9Kc29uLmNycykpO1xuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLmdlb2Rlc2ljXyA9IG9wdF9nZW9kZXNpYztcbiAgICB2b2lkIDAgPT09IHRoaXMuZ2VvZGVzaWNfICYmIFwiZ2VvZGVzaWNcIiBpbiBnZW9Kc29uICYmICh0aGlzLmdlb2Rlc2ljXyA9ICEhZ2VvSnNvbi5nZW9kZXNpYyk7XG4gICAgdGhpcy5ldmVuT2RkXyA9IG9wdF9ldmVuT2RkO1xuICAgIHZvaWQgMCA9PT0gdGhpcy5ldmVuT2RkXyAmJiBcImV2ZW5PZGRcIiBpbiBnZW9Kc29uICYmICh0aGlzLmV2ZW5PZGRfID0gISFnZW9Kc29uLmV2ZW5PZGQpO1xuICB9XG59O1xuZ29vZy5pbmhlcml0cyhlZS5HZW9tZXRyeSwgZWUuQ29tcHV0ZWRPYmplY3QpO1xuZ29vZy5leHBvcnRTeW1ib2woXCJlZS5HZW9tZXRyeVwiLCBlZS5HZW9tZXRyeSk7XG5lZS5HZW9tZXRyeS5pbml0aWFsaXplZF8gPSAhMTtcbmVlLkdlb21ldHJ5LmluaXRpYWxpemUgPSBmdW5jdGlvbigpIHtcbiAgZWUuR2VvbWV0cnkuaW5pdGlhbGl6ZWRfIHx8IChlZS5BcGlGdW5jdGlvbi5pbXBvcnRBcGkoZWUuR2VvbWV0cnksIFwiR2VvbWV0cnlcIiwgXCJHZW9tZXRyeVwiKSwgZWUuR2VvbWV0cnkuaW5pdGlhbGl6ZWRfID0gITApO1xufTtcbmVlLkdlb21ldHJ5LnJlc2V0ID0gZnVuY3Rpb24oKSB7XG4gIGVlLkFwaUZ1bmN0aW9uLmNsZWFyQXBpKGVlLkdlb21ldHJ5KTtcbiAgZWUuR2VvbWV0cnkuaW5pdGlhbGl6ZWRfID0gITE7XG59O1xuZWUuR2VvbWV0cnkuUG9pbnQgPSBmdW5jdGlvbihjb29yZHMsIG9wdF9wcm9qKSB7XG4gIGlmICghKHRoaXMgaW5zdGFuY2VvZiBlZS5HZW9tZXRyeS5Qb2ludCkpIHtcbiAgICByZXR1cm4gZWUuR2VvbWV0cnkuY3JlYXRlSW5zdGFuY2VfKGVlLkdlb21ldHJ5LlBvaW50LCBhcmd1bWVudHMpO1xuICB9XG4gIHZhciBpbml0ID0gZWUuR2VvbWV0cnkuY29uc3RydWN0XyhlZS5HZW9tZXRyeS5Qb2ludCwgXCJQb2ludFwiLCAxLCBhcmd1bWVudHMpO1xuICBpZiAoIShpbml0IGluc3RhbmNlb2YgZWUuQ29tcHV0ZWRPYmplY3QpKSB7XG4gICAgdmFyIHh5ID0gaW5pdC5jb29yZGluYXRlcztcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoeHkpIHx8IDIgIT0geHkubGVuZ3RoKSB7XG4gICAgICB0aHJvdyBFcnJvcihcIlRoZSBHZW9tZXRyeS5Qb2ludCBjb25zdHJ1Y3RvciByZXF1aXJlcyAyIGNvb3JkaW5hdGVzLlwiKTtcbiAgICB9XG4gIH1cbiAgZWUuR2VvbWV0cnkuY2FsbCh0aGlzLCBpbml0KTtcbn07XG5nb29nLmluaGVyaXRzKGVlLkdlb21ldHJ5LlBvaW50LCBlZS5HZW9tZXRyeSk7XG5nb29nLmV4cG9ydFByb3BlcnR5KGVlLkdlb21ldHJ5LCBcIlBvaW50XCIsIGVlLkdlb21ldHJ5LlBvaW50KTtcbmVlLkdlb21ldHJ5Lk11bHRpUG9pbnQgPSBmdW5jdGlvbihjb29yZHMsIG9wdF9wcm9qKSB7XG4gIGlmICghKHRoaXMgaW5zdGFuY2VvZiBlZS5HZW9tZXRyeS5NdWx0aVBvaW50KSkge1xuICAgIHJldHVybiBlZS5HZW9tZXRyeS5jcmVhdGVJbnN0YW5jZV8oZWUuR2VvbWV0cnkuTXVsdGlQb2ludCwgYXJndW1lbnRzKTtcbiAgfVxuICBlZS5HZW9tZXRyeS5jYWxsKHRoaXMsIGVlLkdlb21ldHJ5LmNvbnN0cnVjdF8oZWUuR2VvbWV0cnkuTXVsdGlQb2ludCwgXCJNdWx0aVBvaW50XCIsIDIsIGFyZ3VtZW50cykpO1xufTtcbmdvb2cuaW5oZXJpdHMoZWUuR2VvbWV0cnkuTXVsdGlQb2ludCwgZWUuR2VvbWV0cnkpO1xuZ29vZy5leHBvcnRQcm9wZXJ0eShlZS5HZW9tZXRyeSwgXCJNdWx0aVBvaW50XCIsIGVlLkdlb21ldHJ5Lk11bHRpUG9pbnQpO1xuZWUuR2VvbWV0cnkuUmVjdGFuZ2xlID0gZnVuY3Rpb24oY29vcmRzLCBvcHRfcHJvaiwgb3B0X2dlb2Rlc2ljLCBvcHRfZXZlbk9kZCkge1xuICBpZiAoISh0aGlzIGluc3RhbmNlb2YgZWUuR2VvbWV0cnkuUmVjdGFuZ2xlKSkge1xuICAgIHJldHVybiBlZS5HZW9tZXRyeS5jcmVhdGVJbnN0YW5jZV8oZWUuR2VvbWV0cnkuUmVjdGFuZ2xlLCBhcmd1bWVudHMpO1xuICB9XG4gIHZhciBpbml0ID0gZWUuR2VvbWV0cnkuY29uc3RydWN0XyhlZS5HZW9tZXRyeS5SZWN0YW5nbGUsIFwiUmVjdGFuZ2xlXCIsIDIsIGFyZ3VtZW50cyk7XG4gIGlmICghKGluaXQgaW5zdGFuY2VvZiBlZS5Db21wdXRlZE9iamVjdCkpIHtcbiAgICB2YXIgeHkgPSBpbml0LmNvb3JkaW5hdGVzO1xuICAgIGlmICgyICE9IHh5Lmxlbmd0aCkge1xuICAgICAgdGhyb3cgRXJyb3IoXCJUaGUgR2VvbWV0cnkuUmVjdGFuZ2xlIGNvbnN0cnVjdG9yIHJlcXVpcmVzIDIgcG9pbnRzIG9yIDQgY29vcmRpbmF0ZXMuXCIpO1xuICAgIH1cbiAgICB2YXIgeDEgPSB4eVswXVswXSwgeTEgPSB4eVswXVsxXSwgeDIgPSB4eVsxXVswXSwgeTIgPSB4eVsxXVsxXTtcbiAgICBpbml0LmNvb3JkaW5hdGVzID0gW1tbeDEsIHkyXSwgW3gxLCB5MV0sIFt4MiwgeTFdLCBbeDIsIHkyXV1dO1xuICAgIGluaXQudHlwZSA9IFwiUG9seWdvblwiO1xuICB9XG4gIGVlLkdlb21ldHJ5LmNhbGwodGhpcywgaW5pdCk7XG59O1xuZ29vZy5pbmhlcml0cyhlZS5HZW9tZXRyeS5SZWN0YW5nbGUsIGVlLkdlb21ldHJ5KTtcbmdvb2cuZXhwb3J0UHJvcGVydHkoZWUuR2VvbWV0cnksIFwiUmVjdGFuZ2xlXCIsIGVlLkdlb21ldHJ5LlJlY3RhbmdsZSk7XG5lZS5HZW9tZXRyeS5CQm94ID0gZnVuY3Rpb24od2VzdCwgc291dGgsIGVhc3QsIG5vcnRoKSB7XG4gIGlmICghKHRoaXMgaW5zdGFuY2VvZiBlZS5HZW9tZXRyeS5CQm94KSkge1xuICAgIHJldHVybiBlZS5HZW9tZXRyeS5jcmVhdGVJbnN0YW5jZV8oZWUuR2VvbWV0cnkuQkJveCwgYXJndW1lbnRzKTtcbiAgfVxuICB2YXIgY29vcmRpbmF0ZXMgPSBbd2VzdCwgc291dGgsIGVhc3QsIG5vcnRoXTtcbiAgaWYgKGVlLkdlb21ldHJ5Lmhhc1NlcnZlclZhbHVlXyhjb29yZGluYXRlcykpIHtcbiAgICB2YXIgJGpzY29tcCRzcHJlYWQkYXJnczY7XG4gICAgcmV0dXJuICgkanNjb21wJHNwcmVhZCRhcmdzNiA9IG5ldyBlZS5BcGlGdW5jdGlvbihcIkdlb21ldHJ5Q29uc3RydWN0b3JzLkJCb3hcIikpLmNhbGwuYXBwbHkoJGpzY29tcCRzcHJlYWQkYXJnczYsICRqc2NvbXAuYXJyYXlGcm9tSXRlcmFibGUoY29vcmRpbmF0ZXMpKTtcbiAgfVxuICBpZiAoIShJbmZpbml0eSA+IHdlc3QpKSB7XG4gICAgdGhyb3cgRXJyb3IoXCJHZW9tZXRyeS5CQm94OiB3ZXN0IG11c3Qgbm90IGJlIFwiICsgd2VzdCk7XG4gIH1cbiAgaWYgKCEoLUluZmluaXR5IDwgZWFzdCkpIHtcbiAgICB0aHJvdyBFcnJvcihcIkdlb21ldHJ5LkJCb3g6IGVhc3QgbXVzdCBub3QgYmUgXCIgKyBlYXN0KTtcbiAgfVxuICBpZiAoISg5MCA+PSBzb3V0aCkpIHtcbiAgICB0aHJvdyBFcnJvcihcIkdlb21ldHJ5LkJCb3g6IHNvdXRoIG11c3QgYmUgYXQgbW9zdCArOTBcXHUwMGIwLCBidXQgd2FzIFwiICsgc291dGggKyBcIlxcdTAwYjBcIik7XG4gIH1cbiAgaWYgKCEoLTkwIDw9IG5vcnRoKSkge1xuICAgIHRocm93IEVycm9yKFwiR2VvbWV0cnkuQkJveDogbm9ydGggbXVzdCBiZSBhdCBsZWFzdCAtOTBcXHUwMGIwLCBidXQgd2FzIFwiICsgbm9ydGggKyBcIlxcdTAwYjBcIik7XG4gIH1cbiAgc291dGggPSBNYXRoLm1heChzb3V0aCwgLTkwKTtcbiAgbm9ydGggPSBNYXRoLm1pbihub3J0aCwgOTApO1xuICAzNjAgPD0gZWFzdCAtIHdlc3QgPyAod2VzdCA9IC0xODAsIGVhc3QgPSAxODApIDogKHdlc3QgPSBlZS5HZW9tZXRyeS5jYW5vbmljYWxpemVMb25naXR1ZGVfKHdlc3QpLCBlYXN0ID0gZWUuR2VvbWV0cnkuY2Fub25pY2FsaXplTG9uZ2l0dWRlXyhlYXN0KSwgZWFzdCA8IHdlc3QgJiYgKGVhc3QgKz0gMzYwKSk7XG4gIGVlLkdlb21ldHJ5LmNhbGwodGhpcywge3R5cGU6XCJQb2x5Z29uXCIsIGNvb3JkaW5hdGVzOltbW3dlc3QsIG5vcnRoXSwgW3dlc3QsIHNvdXRoXSwgW2Vhc3QsIHNvdXRoXSwgW2Vhc3QsIG5vcnRoXV1dLH0sIHZvaWQgMCwgITEsICEwKTtcbn07XG5nb29nLmluaGVyaXRzKGVlLkdlb21ldHJ5LkJCb3gsIGVlLkdlb21ldHJ5LlJlY3RhbmdsZSk7XG5nb29nLmV4cG9ydFByb3BlcnR5KGVlLkdlb21ldHJ5LCBcIkJCb3hcIiwgZWUuR2VvbWV0cnkuQkJveCk7XG5lZS5HZW9tZXRyeS5jYW5vbmljYWxpemVMb25naXR1ZGVfID0gZnVuY3Rpb24obG9uZ2l0dWRlKSB7XG4gIGxvbmdpdHVkZSAlPSAzNjA7XG4gIDE4MCA8IGxvbmdpdHVkZSA/IGxvbmdpdHVkZSAtPSAzNjAgOiAtMTgwID4gbG9uZ2l0dWRlICYmIChsb25naXR1ZGUgKz0gMzYwKTtcbiAgcmV0dXJuIGxvbmdpdHVkZTtcbn07XG5lZS5HZW9tZXRyeS5MaW5lU3RyaW5nID0gZnVuY3Rpb24oY29vcmRzLCBvcHRfcHJvaiwgb3B0X2dlb2Rlc2ljLCBvcHRfbWF4RXJyb3IpIHtcbiAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIGVlLkdlb21ldHJ5LkxpbmVTdHJpbmcpKSB7XG4gICAgcmV0dXJuIGVlLkdlb21ldHJ5LmNyZWF0ZUluc3RhbmNlXyhlZS5HZW9tZXRyeS5MaW5lU3RyaW5nLCBhcmd1bWVudHMpO1xuICB9XG4gIGVlLkdlb21ldHJ5LmNhbGwodGhpcywgZWUuR2VvbWV0cnkuY29uc3RydWN0XyhlZS5HZW9tZXRyeS5MaW5lU3RyaW5nLCBcIkxpbmVTdHJpbmdcIiwgMiwgYXJndW1lbnRzKSk7XG59O1xuZ29vZy5pbmhlcml0cyhlZS5HZW9tZXRyeS5MaW5lU3RyaW5nLCBlZS5HZW9tZXRyeSk7XG5nb29nLmV4cG9ydFByb3BlcnR5KGVlLkdlb21ldHJ5LCBcIkxpbmVTdHJpbmdcIiwgZWUuR2VvbWV0cnkuTGluZVN0cmluZyk7XG5lZS5HZW9tZXRyeS5MaW5lYXJSaW5nID0gZnVuY3Rpb24oY29vcmRzLCBvcHRfcHJvaiwgb3B0X2dlb2Rlc2ljLCBvcHRfbWF4RXJyb3IpIHtcbiAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIGVlLkdlb21ldHJ5LkxpbmVhclJpbmcpKSB7XG4gICAgcmV0dXJuIGVlLkdlb21ldHJ5LmNyZWF0ZUluc3RhbmNlXyhlZS5HZW9tZXRyeS5MaW5lYXJSaW5nLCBhcmd1bWVudHMpO1xuICB9XG4gIGVlLkdlb21ldHJ5LmNhbGwodGhpcywgZWUuR2VvbWV0cnkuY29uc3RydWN0XyhlZS5HZW9tZXRyeS5MaW5lYXJSaW5nLCBcIkxpbmVhclJpbmdcIiwgMiwgYXJndW1lbnRzKSk7XG59O1xuZ29vZy5pbmhlcml0cyhlZS5HZW9tZXRyeS5MaW5lYXJSaW5nLCBlZS5HZW9tZXRyeSk7XG5nb29nLmV4cG9ydFByb3BlcnR5KGVlLkdlb21ldHJ5LCBcIkxpbmVhclJpbmdcIiwgZWUuR2VvbWV0cnkuTGluZWFyUmluZyk7XG5lZS5HZW9tZXRyeS5NdWx0aUxpbmVTdHJpbmcgPSBmdW5jdGlvbihjb29yZHMsIG9wdF9wcm9qLCBvcHRfZ2VvZGVzaWMsIG9wdF9tYXhFcnJvcikge1xuICBpZiAoISh0aGlzIGluc3RhbmNlb2YgZWUuR2VvbWV0cnkuTXVsdGlMaW5lU3RyaW5nKSkge1xuICAgIHJldHVybiBlZS5HZW9tZXRyeS5jcmVhdGVJbnN0YW5jZV8oZWUuR2VvbWV0cnkuTXVsdGlMaW5lU3RyaW5nLCBhcmd1bWVudHMpO1xuICB9XG4gIGVlLkdlb21ldHJ5LmNhbGwodGhpcywgZWUuR2VvbWV0cnkuY29uc3RydWN0XyhlZS5HZW9tZXRyeS5NdWx0aUxpbmVTdHJpbmcsIFwiTXVsdGlMaW5lU3RyaW5nXCIsIDMsIGFyZ3VtZW50cykpO1xufTtcbmdvb2cuaW5oZXJpdHMoZWUuR2VvbWV0cnkuTXVsdGlMaW5lU3RyaW5nLCBlZS5HZW9tZXRyeSk7XG5nb29nLmV4cG9ydFByb3BlcnR5KGVlLkdlb21ldHJ5LCBcIk11bHRpTGluZVN0cmluZ1wiLCBlZS5HZW9tZXRyeS5NdWx0aUxpbmVTdHJpbmcpO1xuZWUuR2VvbWV0cnkuUG9seWdvbiA9IGZ1bmN0aW9uKGNvb3Jkcywgb3B0X3Byb2osIG9wdF9nZW9kZXNpYywgb3B0X21heEVycm9yLCBvcHRfZXZlbk9kZCkge1xuICBpZiAoISh0aGlzIGluc3RhbmNlb2YgZWUuR2VvbWV0cnkuUG9seWdvbikpIHtcbiAgICByZXR1cm4gZWUuR2VvbWV0cnkuY3JlYXRlSW5zdGFuY2VfKGVlLkdlb21ldHJ5LlBvbHlnb24sIGFyZ3VtZW50cyk7XG4gIH1cbiAgZWUuR2VvbWV0cnkuY2FsbCh0aGlzLCBlZS5HZW9tZXRyeS5jb25zdHJ1Y3RfKGVlLkdlb21ldHJ5LlBvbHlnb24sIFwiUG9seWdvblwiLCAzLCBhcmd1bWVudHMpKTtcbn07XG5nb29nLmluaGVyaXRzKGVlLkdlb21ldHJ5LlBvbHlnb24sIGVlLkdlb21ldHJ5KTtcbmdvb2cuZXhwb3J0UHJvcGVydHkoZWUuR2VvbWV0cnksIFwiUG9seWdvblwiLCBlZS5HZW9tZXRyeS5Qb2x5Z29uKTtcbmVlLkdlb21ldHJ5Lk11bHRpUG9seWdvbiA9IGZ1bmN0aW9uKGNvb3Jkcywgb3B0X3Byb2osIG9wdF9nZW9kZXNpYywgb3B0X21heEVycm9yLCBvcHRfZXZlbk9kZCkge1xuICBpZiAoISh0aGlzIGluc3RhbmNlb2YgZWUuR2VvbWV0cnkuTXVsdGlQb2x5Z29uKSkge1xuICAgIHJldHVybiBlZS5HZW9tZXRyeS5jcmVhdGVJbnN0YW5jZV8oZWUuR2VvbWV0cnkuTXVsdGlQb2x5Z29uLCBhcmd1bWVudHMpO1xuICB9XG4gIGVlLkdlb21ldHJ5LmNhbGwodGhpcywgZWUuR2VvbWV0cnkuY29uc3RydWN0XyhlZS5HZW9tZXRyeS5NdWx0aVBvbHlnb24sIFwiTXVsdGlQb2x5Z29uXCIsIDQsIGFyZ3VtZW50cykpO1xufTtcbmdvb2cuaW5oZXJpdHMoZWUuR2VvbWV0cnkuTXVsdGlQb2x5Z29uLCBlZS5HZW9tZXRyeSk7XG5nb29nLmV4cG9ydFByb3BlcnR5KGVlLkdlb21ldHJ5LCBcIk11bHRpUG9seWdvblwiLCBlZS5HZW9tZXRyeS5NdWx0aVBvbHlnb24pO1xuZWUuR2VvbWV0cnkucHJvdG90eXBlLmVuY29kZSA9IGZ1bmN0aW9uKG9wdF9lbmNvZGVyKSB7XG4gIGlmICghdGhpcy50eXBlXykge1xuICAgIGlmICghb3B0X2VuY29kZXIpIHtcbiAgICAgIHRocm93IEVycm9yKFwiTXVzdCBzcGVjaWZ5IGFuIGVuY29kZSBmdW5jdGlvbiB3aGVuIGVuY29kaW5nIGEgY29tcHV0ZWQgZ2VvbWV0cnkuXCIpO1xuICAgIH1cbiAgICByZXR1cm4gZWUuQ29tcHV0ZWRPYmplY3QucHJvdG90eXBlLmVuY29kZS5jYWxsKHRoaXMsIG9wdF9lbmNvZGVyKTtcbiAgfVxuICB2YXIgcmVzdWx0ID0ge3R5cGU6dGhpcy50eXBlX307XG4gIFwiR2VvbWV0cnlDb2xsZWN0aW9uXCIgPT0gdGhpcy50eXBlXyA/IHJlc3VsdC5nZW9tZXRyaWVzID0gdGhpcy5nZW9tZXRyaWVzXyA6IHJlc3VsdC5jb29yZGluYXRlcyA9IHRoaXMuY29vcmRpbmF0ZXNfO1xuICBudWxsICE9IHRoaXMucHJval8gJiYgKHJlc3VsdC5jcnMgPSB7dHlwZTpcIm5hbWVcIiwgcHJvcGVydGllczp7bmFtZTp0aGlzLnByb2pffX0pO1xuICBudWxsICE9IHRoaXMuZ2VvZGVzaWNfICYmIChyZXN1bHQuZ2VvZGVzaWMgPSB0aGlzLmdlb2Rlc2ljXyk7XG4gIG51bGwgIT0gdGhpcy5ldmVuT2RkXyAmJiAocmVzdWx0LmV2ZW5PZGQgPSB0aGlzLmV2ZW5PZGRfKTtcbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5lZS5HZW9tZXRyeS5wcm90b3R5cGUudG9HZW9KU09OID0gZnVuY3Rpb24oKSB7XG4gIGlmICh0aGlzLmZ1bmMpIHtcbiAgICB0aHJvdyBFcnJvcihcIkNhbid0IGNvbnZlcnQgYSBjb21wdXRlZCBHZW9tZXRyeSB0byBHZW9KU09OLiBVc2UgZXZhbHVhdGUoKSBpbnN0ZWFkLlwiKTtcbiAgfVxuICByZXR1cm4gdGhpcy5lbmNvZGUoKTtcbn07XG5nb29nLmV4cG9ydFByb3BlcnR5KGVlLkdlb21ldHJ5LnByb3RvdHlwZSwgXCJ0b0dlb0pTT05cIiwgZWUuR2VvbWV0cnkucHJvdG90eXBlLnRvR2VvSlNPTik7XG5lZS5HZW9tZXRyeS5wcm90b3R5cGUudG9HZW9KU09OU3RyaW5nID0gZnVuY3Rpb24oKSB7XG4gIGlmICh0aGlzLmZ1bmMpIHtcbiAgICB0aHJvdyBFcnJvcihcIkNhbid0IGNvbnZlcnQgYSBjb21wdXRlZCBHZW9tZXRyeSB0byBHZW9KU09OLiBVc2UgZXZhbHVhdGUoKSBpbnN0ZWFkLlwiKTtcbiAgfVxuICByZXR1cm4gKG5ldyBnb29nLmpzb24uU2VyaWFsaXplcigpKS5zZXJpYWxpemUodGhpcy50b0dlb0pTT04oKSk7XG59O1xuZ29vZy5leHBvcnRQcm9wZXJ0eShlZS5HZW9tZXRyeS5wcm90b3R5cGUsIFwidG9HZW9KU09OU3RyaW5nXCIsIGVlLkdlb21ldHJ5LnByb3RvdHlwZS50b0dlb0pTT05TdHJpbmcpO1xuZWUuR2VvbWV0cnkucHJvdG90eXBlLnNlcmlhbGl6ZSA9IGZ1bmN0aW9uKGxlZ2FjeSkge1xuICByZXR1cm4gKHZvaWQgMCA9PT0gbGVnYWN5ID8gMCA6IGxlZ2FjeSkgPyBlZS5TZXJpYWxpemVyLnRvSlNPTih0aGlzKSA6IGVlLlNlcmlhbGl6ZXIudG9DbG91ZEFwaUpTT04odGhpcyk7XG59O1xuZ29vZy5leHBvcnRQcm9wZXJ0eShlZS5HZW9tZXRyeS5wcm90b3R5cGUsIFwic2VyaWFsaXplXCIsIGVlLkdlb21ldHJ5LnByb3RvdHlwZS5zZXJpYWxpemUpO1xuZWUuR2VvbWV0cnkucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBcImVlLkdlb21ldHJ5KFwiICsgdGhpcy50b0dlb0pTT05TdHJpbmcoKSArIFwiKVwiO1xufTtcbmVlLkdlb21ldHJ5LnByb3RvdHlwZS5lbmNvZGVDbG91ZFZhbHVlID0gZnVuY3Rpb24oc2VyaWFsaXplcikge1xuICBpZiAoIXRoaXMudHlwZV8pIHtcbiAgICBpZiAoIXNlcmlhbGl6ZXIpIHtcbiAgICAgIHRocm93IEVycm9yKFwiTXVzdCBzcGVjaWZ5IGEgc2VyaWFsaXplciB3aGVuIGVuY29kaW5nIGEgY29tcHV0ZWQgZ2VvbWV0cnkuXCIpO1xuICAgIH1cbiAgICByZXR1cm4gZWUuQ29tcHV0ZWRPYmplY3QucHJvdG90eXBlLmVuY29kZUNsb3VkVmFsdWUuY2FsbCh0aGlzLCBzZXJpYWxpemVyKTtcbiAgfVxuICB2YXIgYXJncyA9IHt9LCBmdW5jID0gXCJcIjtcbiAgXCJHZW9tZXRyeUNvbGxlY3Rpb25cIiA9PT0gdGhpcy50eXBlXyA/IChhcmdzLmdlb21ldHJpZXMgPSB0aGlzLmdlb21ldHJpZXNfLm1hcChmdW5jdGlvbihnZW9tZXRyeSkge1xuICAgIHJldHVybiBuZXcgZWUuR2VvbWV0cnkoZ2VvbWV0cnkpO1xuICB9KSwgZnVuYyA9IFwiR2VvbWV0cnlDb25zdHJ1Y3RvcnMuTXVsdGlHZW9tZXRyeVwiKSA6IChhcmdzLmNvb3JkaW5hdGVzID0gdGhpcy5jb29yZGluYXRlc18sIGZ1bmMgPSBcIkdlb21ldHJ5Q29uc3RydWN0b3JzLlwiICsgdGhpcy50eXBlXyk7XG4gIG51bGwgIT0gdGhpcy5wcm9qXyAmJiAoYXJncy5jcnMgPSBcInN0cmluZ1wiID09PSB0eXBlb2YgdGhpcy5wcm9qXyA/IChuZXcgZWUuQXBpRnVuY3Rpb24oXCJQcm9qZWN0aW9uXCIpKS5jYWxsKHRoaXMucHJval8pIDogdGhpcy5wcm9qXyk7XG4gIHZhciBhY2NlcHRzR2VvZGVzaWNBcmcgPSBcIlBvaW50XCIgIT09IHRoaXMudHlwZV8gJiYgXCJNdWx0aVBvaW50XCIgIT09IHRoaXMudHlwZV87XG4gIG51bGwgIT0gdGhpcy5nZW9kZXNpY18gJiYgYWNjZXB0c0dlb2Rlc2ljQXJnICYmIChhcmdzLmdlb2Rlc2ljID0gdGhpcy5nZW9kZXNpY18pO1xuICBudWxsICE9IHRoaXMuZXZlbk9kZF8gJiYgKGFyZ3MuZXZlbk9kZCA9IHRoaXMuZXZlbk9kZF8pO1xuICByZXR1cm4gKG5ldyBlZS5BcGlGdW5jdGlvbihmdW5jKSkuYXBwbHkoYXJncykuZW5jb2RlQ2xvdWRWYWx1ZShzZXJpYWxpemVyKTtcbn07XG5lZS5HZW9tZXRyeS5pc1ZhbGlkR2VvbWV0cnlfID0gZnVuY3Rpb24oZ2VvbWV0cnkpIHtcbiAgdmFyIHR5cGUgPSBnZW9tZXRyeS50eXBlO1xuICBpZiAoXCJHZW9tZXRyeUNvbGxlY3Rpb25cIiA9PSB0eXBlKSB7XG4gICAgdmFyIGdlb21ldHJpZXMgPSBnZW9tZXRyeS5nZW9tZXRyaWVzO1xuICAgIGlmICghQXJyYXkuaXNBcnJheShnZW9tZXRyaWVzKSkge1xuICAgICAgcmV0dXJuICExO1xuICAgIH1cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGdlb21ldHJpZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmICghZWUuR2VvbWV0cnkuaXNWYWxpZEdlb21ldHJ5XyhnZW9tZXRyaWVzW2ldKSkge1xuICAgICAgICByZXR1cm4gITE7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiAhMDtcbiAgfVxuICB2YXIgY29vcmRzID0gZ2VvbWV0cnkuY29vcmRpbmF0ZXMsIG5lc3RpbmcgPSBlZS5HZW9tZXRyeS5pc1ZhbGlkQ29vcmRpbmF0ZXNfKGNvb3Jkcyk7XG4gIHJldHVybiBcIlBvaW50XCIgPT0gdHlwZSAmJiAxID09IG5lc3RpbmcgfHwgXCJNdWx0aVBvaW50XCIgPT0gdHlwZSAmJiAoMiA9PSBuZXN0aW5nIHx8IDAgPT0gY29vcmRzLmxlbmd0aCkgfHwgXCJMaW5lU3RyaW5nXCIgPT0gdHlwZSAmJiAyID09IG5lc3RpbmcgfHwgXCJMaW5lYXJSaW5nXCIgPT0gdHlwZSAmJiAyID09IG5lc3RpbmcgfHwgXCJNdWx0aUxpbmVTdHJpbmdcIiA9PSB0eXBlICYmICgzID09IG5lc3RpbmcgfHwgMCA9PSBjb29yZHMubGVuZ3RoKSB8fCBcIlBvbHlnb25cIiA9PSB0eXBlICYmIDMgPT0gbmVzdGluZyB8fCBcIk11bHRpUG9seWdvblwiID09IHR5cGUgJiYgKDQgPT0gbmVzdGluZyB8fCAwID09IGNvb3Jkcy5sZW5ndGgpO1xufTtcbmVlLkdlb21ldHJ5LmlzVmFsaWRDb29yZGluYXRlc18gPSBmdW5jdGlvbihzaGFwZSkge1xuICBpZiAoIUFycmF5LmlzQXJyYXkoc2hhcGUpKSB7XG4gICAgcmV0dXJuIC0xO1xuICB9XG4gIGlmIChBcnJheS5pc0FycmF5KHNoYXBlWzBdKSkge1xuICAgIGZvciAodmFyIGNvdW50ID0gZWUuR2VvbWV0cnkuaXNWYWxpZENvb3JkaW5hdGVzXyhzaGFwZVswXSksIGkgPSAxOyBpIDwgc2hhcGUubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChlZS5HZW9tZXRyeS5pc1ZhbGlkQ29vcmRpbmF0ZXNfKHNoYXBlW2ldKSAhPSBjb3VudCkge1xuICAgICAgICByZXR1cm4gLTE7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBjb3VudCArIDE7XG4gIH1cbiAgZm9yIChpID0gMDsgaSA8IHNoYXBlLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKFwibnVtYmVyXCIgIT09IHR5cGVvZiBzaGFwZVtpXSkge1xuICAgICAgcmV0dXJuIC0xO1xuICAgIH1cbiAgfVxuICByZXR1cm4gMCA9PSBzaGFwZS5sZW5ndGggJSAyID8gMSA6IC0xO1xufTtcbmVlLkdlb21ldHJ5LmNvb3JkaW5hdGVzVG9MaW5lXyA9IGZ1bmN0aW9uKGNvb3JkaW5hdGVzKSB7XG4gIGlmIChcIm51bWJlclwiICE9PSB0eXBlb2YgY29vcmRpbmF0ZXNbMF0gfHwgMiA9PSBjb29yZGluYXRlcy5sZW5ndGgpIHtcbiAgICByZXR1cm4gY29vcmRpbmF0ZXM7XG4gIH1cbiAgaWYgKDAgIT0gY29vcmRpbmF0ZXMubGVuZ3RoICUgMikge1xuICAgIHRocm93IEVycm9yKFwiSW52YWxpZCBudW1iZXIgb2YgY29vcmRpbmF0ZXM6IFwiICsgY29vcmRpbmF0ZXMubGVuZ3RoKTtcbiAgfVxuICBmb3IgKHZhciBsaW5lID0gW10sIGkgPSAwOyBpIDwgY29vcmRpbmF0ZXMubGVuZ3RoOyBpICs9IDIpIHtcbiAgICBsaW5lLnB1c2goW2Nvb3JkaW5hdGVzW2ldLCBjb29yZGluYXRlc1tpICsgMV1dKTtcbiAgfVxuICByZXR1cm4gbGluZTtcbn07XG5lZS5HZW9tZXRyeS5jb25zdHJ1Y3RfID0gZnVuY3Rpb24oanNDb25zdHJ1Y3RvckZuLCBhcGlDb25zdHJ1Y3Rvck5hbWUsIGRlcHRoLCBvcmlnaW5hbEFyZ3MpIHtcbiAgdmFyIGVlQXJncyA9IGVlLkdlb21ldHJ5LmdldEVlQXBpQXJnc18oanNDb25zdHJ1Y3RvckZuLCBvcmlnaW5hbEFyZ3MpO1xuICBpZiAoZWUuR2VvbWV0cnkuaGFzU2VydmVyVmFsdWVfKGVlQXJncy5jb29yZGluYXRlcykgfHwgbnVsbCAhPSBlZUFyZ3MuY3JzIHx8IG51bGwgIT0gZWVBcmdzLm1heEVycm9yKSB7XG4gICAgcmV0dXJuIChuZXcgZWUuQXBpRnVuY3Rpb24oXCJHZW9tZXRyeUNvbnN0cnVjdG9ycy5cIiArIGFwaUNvbnN0cnVjdG9yTmFtZSkpLmFwcGx5KGVlQXJncyk7XG4gIH1cbiAgZWVBcmdzLnR5cGUgPSBhcGlDb25zdHJ1Y3Rvck5hbWU7XG4gIGVlQXJncy5jb29yZGluYXRlcyA9IGVlLkdlb21ldHJ5LmZpeERlcHRoXyhkZXB0aCwgZWVBcmdzLmNvb3JkaW5hdGVzKTtcbiAgdmFyIGlzUG9seWdvbiA9IG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X2NvbnRhaW5zKFtcIlBvbHlnb25cIiwgXCJSZWN0YW5nbGVcIiwgXCJNdWx0aVBvbHlnb25cIl0sIGFwaUNvbnN0cnVjdG9yTmFtZSk7XG4gIGlzUG9seWdvbiAmJiBudWxsID09IGVlQXJncy5ldmVuT2RkICYmIChlZUFyZ3MuZXZlbk9kZCA9ICEwKTtcbiAgaWYgKGlzUG9seWdvbiAmJiAhMSA9PT0gZWVBcmdzLmdlb2Rlc2ljICYmICExID09PSBlZUFyZ3MuZXZlbk9kZCkge1xuICAgIHRocm93IEVycm9yKFwiUGxhbmFyIGludGVyaW9ycyBtdXN0IGJlIGV2ZW4vb2RkLlwiKTtcbiAgfVxuICByZXR1cm4gZWVBcmdzO1xufTtcbmVlLkdlb21ldHJ5LmdldEVlQXBpQXJnc18gPSBmdW5jdGlvbihqc0NvbnN0cnVjdG9yRm4sIG9yaWdpbmFsQXJncykge1xuICBpZiAobW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfZXZlcnkob3JpZ2luYWxBcmdzLCBlZS5UeXBlcy5pc051bWJlcikpIHtcbiAgICByZXR1cm4ge2Nvb3JkaW5hdGVzOm1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X3RvQXJyYXkob3JpZ2luYWxBcmdzKX07XG4gIH1cbiAgdmFyIGFyZ3MgPSBlZS5hcmd1bWVudHMuZXh0cmFjdEZyb21GdW5jdGlvbihqc0NvbnN0cnVjdG9yRm4sIG9yaWdpbmFsQXJncyk7XG4gIGFyZ3MuY29vcmRpbmF0ZXMgPSBhcmdzLmNvb3JkcztcbiAgZGVsZXRlIGFyZ3MuY29vcmRzO1xuICBhcmdzLmNycyA9IGFyZ3MucHJvajtcbiAgZGVsZXRlIGFyZ3MucHJvajtcbiAgcmV0dXJuIG1vZHVsZSRjb250ZW50cyRnb29nJG9iamVjdF9maWx0ZXIoYXJncywgZnVuY3Rpb24oeCkge1xuICAgIHJldHVybiBudWxsICE9IHg7XG4gIH0pO1xufTtcbmVlLkdlb21ldHJ5Lmhhc1NlcnZlclZhbHVlXyA9IGZ1bmN0aW9uKGNvb3JkaW5hdGVzKSB7XG4gIHJldHVybiBBcnJheS5pc0FycmF5KGNvb3JkaW5hdGVzKSA/IG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X3NvbWUoY29vcmRpbmF0ZXMsIGVlLkdlb21ldHJ5Lmhhc1NlcnZlclZhbHVlXykgOiBjb29yZGluYXRlcyBpbnN0YW5jZW9mIGVlLkNvbXB1dGVkT2JqZWN0O1xufTtcbmVlLkdlb21ldHJ5LmZpeERlcHRoXyA9IGZ1bmN0aW9uKGRlcHRoLCBjb29yZHMpIHtcbiAgaWYgKDEgPiBkZXB0aCB8fCA0IDwgZGVwdGgpIHtcbiAgICB0aHJvdyBFcnJvcihcIlVuZXhwZWN0ZWQgbmVzdGluZyBsZXZlbC5cIik7XG4gIH1cbiAgbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfZXZlcnkoY29vcmRzLCBmdW5jdGlvbih4KSB7XG4gICAgcmV0dXJuIFwibnVtYmVyXCIgPT09IHR5cGVvZiB4O1xuICB9KSAmJiAoY29vcmRzID0gZWUuR2VvbWV0cnkuY29vcmRpbmF0ZXNUb0xpbmVfKGNvb3JkcykpO1xuICBmb3IgKHZhciBpdGVtID0gY29vcmRzLCBjb3VudCA9IDA7IEFycmF5LmlzQXJyYXkoaXRlbSk7KSB7XG4gICAgaXRlbSA9IGl0ZW1bMF0sIGNvdW50Kys7XG4gIH1cbiAgZm9yICg7IGNvdW50IDwgZGVwdGg7KSB7XG4gICAgY29vcmRzID0gW2Nvb3Jkc10sIGNvdW50Kys7XG4gIH1cbiAgaWYgKGVlLkdlb21ldHJ5LmlzVmFsaWRDb29yZGluYXRlc18oY29vcmRzKSAhPSBkZXB0aCkge1xuICAgIHRocm93IEVycm9yKFwiSW52YWxpZCBnZW9tZXRyeVwiKTtcbiAgfVxuICBmb3IgKGl0ZW0gPSBjb29yZHM7IEFycmF5LmlzQXJyYXkoaXRlbSkgJiYgMSA9PSBpdGVtLmxlbmd0aDspIHtcbiAgICBpdGVtID0gaXRlbVswXTtcbiAgfVxuICByZXR1cm4gQXJyYXkuaXNBcnJheShpdGVtKSAmJiAwID09IGl0ZW0ubGVuZ3RoID8gW10gOiBjb29yZHM7XG59O1xuZWUuR2VvbWV0cnkuY3JlYXRlSW5zdGFuY2VfID0gZnVuY3Rpb24oa2xhc3MsIGFyZ3MpIHtcbiAgdmFyIGYgPSBmdW5jdGlvbigpIHtcbiAgfTtcbiAgZi5wcm90b3R5cGUgPSBrbGFzcy5wcm90b3R5cGU7XG4gIHZhciBpbnN0YW5jZSA9IG5ldyBmKCksIHJlc3VsdCA9IGtsYXNzLmFwcGx5KGluc3RhbmNlLCBhcmdzKTtcbiAgcmV0dXJuIHZvaWQgMCAhPT0gcmVzdWx0ID8gcmVzdWx0IDogaW5zdGFuY2U7XG59O1xuZWUuR2VvbWV0cnkucHJvdG90eXBlLm5hbWUgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIFwiR2VvbWV0cnlcIjtcbn07XG5lZS5GaWx0ZXIgPSBmdW5jdGlvbihvcHRfZmlsdGVyKSB7XG4gIGlmICghKHRoaXMgaW5zdGFuY2VvZiBlZS5GaWx0ZXIpKSB7XG4gICAgcmV0dXJuIGVlLkNvbXB1dGVkT2JqZWN0LmNvbnN0cnVjdChlZS5GaWx0ZXIsIGFyZ3VtZW50cyk7XG4gIH1cbiAgaWYgKG9wdF9maWx0ZXIgaW5zdGFuY2VvZiBlZS5GaWx0ZXIpIHtcbiAgICByZXR1cm4gb3B0X2ZpbHRlcjtcbiAgfVxuICBlZS5GaWx0ZXIuaW5pdGlhbGl6ZSgpO1xuICBpZiAoQXJyYXkuaXNBcnJheShvcHRfZmlsdGVyKSkge1xuICAgIGlmICgwID09IG9wdF9maWx0ZXIubGVuZ3RoKSB7XG4gICAgICB0aHJvdyBFcnJvcihcIkVtcHR5IGxpc3Qgc3BlY2lmaWVkIGZvciBlZS5GaWx0ZXIoKS5cIik7XG4gICAgfVxuICAgIGlmICgxID09IG9wdF9maWx0ZXIubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gbmV3IGVlLkZpbHRlcihvcHRfZmlsdGVyWzBdKTtcbiAgICB9XG4gICAgZWUuQ29tcHV0ZWRPYmplY3QuY2FsbCh0aGlzLCBuZXcgZWUuQXBpRnVuY3Rpb24oXCJGaWx0ZXIuYW5kXCIpLCB7ZmlsdGVyczpvcHRfZmlsdGVyfSk7XG4gICAgdGhpcy5maWx0ZXJfID0gb3B0X2ZpbHRlcjtcbiAgfSBlbHNlIGlmIChvcHRfZmlsdGVyIGluc3RhbmNlb2YgZWUuQ29tcHV0ZWRPYmplY3QpIHtcbiAgICBlZS5Db21wdXRlZE9iamVjdC5jYWxsKHRoaXMsIG9wdF9maWx0ZXIuZnVuYywgb3B0X2ZpbHRlci5hcmdzLCBvcHRfZmlsdGVyLnZhck5hbWUpLCB0aGlzLmZpbHRlcl8gPSBbb3B0X2ZpbHRlcl07XG4gIH0gZWxzZSBpZiAodm9pZCAwID09PSBvcHRfZmlsdGVyKSB7XG4gICAgZWUuQ29tcHV0ZWRPYmplY3QuY2FsbCh0aGlzLCBudWxsLCBudWxsKSwgdGhpcy5maWx0ZXJfID0gW107XG4gIH0gZWxzZSB7XG4gICAgdGhyb3cgRXJyb3IoXCJJbnZhbGlkIGFyZ3VtZW50IHNwZWNpZmllZCBmb3IgZWUuRmlsdGVyKCk6IFwiICsgb3B0X2ZpbHRlcik7XG4gIH1cbn07XG5nb29nLmluaGVyaXRzKGVlLkZpbHRlciwgZWUuQ29tcHV0ZWRPYmplY3QpO1xuZ29vZy5leHBvcnRTeW1ib2woXCJlZS5GaWx0ZXJcIiwgZWUuRmlsdGVyKTtcbmVlLkZpbHRlci5pbml0aWFsaXplZF8gPSAhMTtcbmVlLkZpbHRlci5pbml0aWFsaXplID0gZnVuY3Rpb24oKSB7XG4gIGVlLkZpbHRlci5pbml0aWFsaXplZF8gfHwgKGVlLkFwaUZ1bmN0aW9uLmltcG9ydEFwaShlZS5GaWx0ZXIsIFwiRmlsdGVyXCIsIFwiRmlsdGVyXCIpLCBlZS5GaWx0ZXIuaW5pdGlhbGl6ZWRfID0gITApO1xufTtcbmVlLkZpbHRlci5yZXNldCA9IGZ1bmN0aW9uKCkge1xuICBlZS5BcGlGdW5jdGlvbi5jbGVhckFwaShlZS5GaWx0ZXIpO1xuICBlZS5GaWx0ZXIuaW5pdGlhbGl6ZWRfID0gITE7XG59O1xuZWUuRmlsdGVyLmZ1bmN0aW9uTmFtZXNfID0ge2VxdWFsczpcImVxdWFsc1wiLCBsZXNzX3RoYW46XCJsZXNzVGhhblwiLCBncmVhdGVyX3RoYW46XCJncmVhdGVyVGhhblwiLCBjb250YWluczpcInN0cmluZ0NvbnRhaW5zXCIsIHN0YXJ0c193aXRoOlwic3RyaW5nU3RhcnRzV2l0aFwiLCBlbmRzX3dpdGg6XCJzdHJpbmdFbmRzV2l0aFwifTtcbmVlLkZpbHRlci5wcm90b3R5cGUuYXBwZW5kXyA9IGZ1bmN0aW9uKG5ld0ZpbHRlcikge1xuICB2YXIgcHJldiA9IHRoaXMuZmlsdGVyXy5zbGljZSgwKTtcbiAgbmV3RmlsdGVyIGluc3RhbmNlb2YgZWUuRmlsdGVyID8gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfZXh0ZW5kKHByZXYsIG5ld0ZpbHRlci5maWx0ZXJfKSA6IG5ld0ZpbHRlciBpbnN0YW5jZW9mIEFycmF5ID8gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfZXh0ZW5kKHByZXYsIG5ld0ZpbHRlcikgOiBwcmV2LnB1c2gobmV3RmlsdGVyKTtcbiAgcmV0dXJuIG5ldyBlZS5GaWx0ZXIocHJldik7XG59O1xuZWUuRmlsdGVyLnByb3RvdHlwZS5ub3QgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIGVlLkFwaUZ1bmN0aW9uLl9jYWxsKFwiRmlsdGVyLm5vdFwiLCB0aGlzKTtcbn07XG5nb29nLmV4cG9ydFByb3BlcnR5KGVlLkZpbHRlci5wcm90b3R5cGUsIFwibm90XCIsIGVlLkZpbHRlci5wcm90b3R5cGUubm90KTtcbmVlLkZpbHRlci5lcSA9IGZ1bmN0aW9uKG5hbWUsIHZhbHVlKSB7XG4gIHZhciBhcmdzID0gZWUuYXJndW1lbnRzLmV4dHJhY3RGcm9tRnVuY3Rpb24oZWUuRmlsdGVyLmVxLCBhcmd1bWVudHMpO1xuICByZXR1cm4gZWUuQXBpRnVuY3Rpb24uX2NhbGwoXCJGaWx0ZXIuZXF1YWxzXCIsIGFyZ3MubmFtZSwgYXJncy52YWx1ZSk7XG59O1xuZ29vZy5leHBvcnRQcm9wZXJ0eShlZS5GaWx0ZXIsIFwiZXFcIiwgZWUuRmlsdGVyLmVxKTtcbmVlLkZpbHRlci5uZXEgPSBmdW5jdGlvbihuYW1lLCB2YWx1ZSkge1xuICB2YXIgYXJncyA9IGVlLmFyZ3VtZW50cy5leHRyYWN0RnJvbUZ1bmN0aW9uKGVlLkZpbHRlci5uZXEsIGFyZ3VtZW50cyk7XG4gIHJldHVybiBlZS5GaWx0ZXIuZXEoYXJncy5uYW1lLCBhcmdzLnZhbHVlKS5ub3QoKTtcbn07XG5nb29nLmV4cG9ydFByb3BlcnR5KGVlLkZpbHRlciwgXCJuZXFcIiwgZWUuRmlsdGVyLm5lcSk7XG5lZS5GaWx0ZXIubHQgPSBmdW5jdGlvbihuYW1lLCB2YWx1ZSkge1xuICB2YXIgYXJncyA9IGVlLmFyZ3VtZW50cy5leHRyYWN0RnJvbUZ1bmN0aW9uKGVlLkZpbHRlci5sdCwgYXJndW1lbnRzKTtcbiAgcmV0dXJuIGVlLkFwaUZ1bmN0aW9uLl9jYWxsKFwiRmlsdGVyLmxlc3NUaGFuXCIsIGFyZ3MubmFtZSwgYXJncy52YWx1ZSk7XG59O1xuZ29vZy5leHBvcnRQcm9wZXJ0eShlZS5GaWx0ZXIsIFwibHRcIiwgZWUuRmlsdGVyLmx0KTtcbmVlLkZpbHRlci5ndGUgPSBmdW5jdGlvbihuYW1lLCB2YWx1ZSkge1xuICB2YXIgYXJncyA9IGVlLmFyZ3VtZW50cy5leHRyYWN0RnJvbUZ1bmN0aW9uKGVlLkZpbHRlci5ndGUsIGFyZ3VtZW50cyk7XG4gIHJldHVybiBlZS5GaWx0ZXIubHQoYXJncy5uYW1lLCBhcmdzLnZhbHVlKS5ub3QoKTtcbn07XG5nb29nLmV4cG9ydFByb3BlcnR5KGVlLkZpbHRlciwgXCJndGVcIiwgZWUuRmlsdGVyLmd0ZSk7XG5lZS5GaWx0ZXIuZ3QgPSBmdW5jdGlvbihuYW1lLCB2YWx1ZSkge1xuICB2YXIgYXJncyA9IGVlLmFyZ3VtZW50cy5leHRyYWN0RnJvbUZ1bmN0aW9uKGVlLkZpbHRlci5ndCwgYXJndW1lbnRzKTtcbiAgcmV0dXJuIGVlLkFwaUZ1bmN0aW9uLl9jYWxsKFwiRmlsdGVyLmdyZWF0ZXJUaGFuXCIsIGFyZ3MubmFtZSwgYXJncy52YWx1ZSk7XG59O1xuZ29vZy5leHBvcnRQcm9wZXJ0eShlZS5GaWx0ZXIsIFwiZ3RcIiwgZWUuRmlsdGVyLmd0KTtcbmVlLkZpbHRlci5sdGUgPSBmdW5jdGlvbihuYW1lLCB2YWx1ZSkge1xuICB2YXIgYXJncyA9IGVlLmFyZ3VtZW50cy5leHRyYWN0RnJvbUZ1bmN0aW9uKGVlLkZpbHRlci5sdGUsIGFyZ3VtZW50cyk7XG4gIHJldHVybiBlZS5GaWx0ZXIuZ3QoYXJncy5uYW1lLCBhcmdzLnZhbHVlKS5ub3QoKTtcbn07XG5nb29nLmV4cG9ydFByb3BlcnR5KGVlLkZpbHRlciwgXCJsdGVcIiwgZWUuRmlsdGVyLmx0ZSk7XG5lZS5GaWx0ZXIuYW5kID0gZnVuY3Rpb24odmFyX2FyZ3MpIHtcbiAgdmFyIGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpO1xuICByZXR1cm4gZWUuQXBpRnVuY3Rpb24uX2NhbGwoXCJGaWx0ZXIuYW5kXCIsIGFyZ3MpO1xufTtcbmdvb2cuZXhwb3J0UHJvcGVydHkoZWUuRmlsdGVyLCBcImFuZFwiLCBlZS5GaWx0ZXIuYW5kKTtcbmVlLkZpbHRlci5vciA9IGZ1bmN0aW9uKHZhcl9hcmdzKSB7XG4gIHZhciBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKTtcbiAgcmV0dXJuIGVlLkFwaUZ1bmN0aW9uLl9jYWxsKFwiRmlsdGVyLm9yXCIsIGFyZ3MpO1xufTtcbmdvb2cuZXhwb3J0UHJvcGVydHkoZWUuRmlsdGVyLCBcIm9yXCIsIGVlLkZpbHRlci5vcik7XG5lZS5GaWx0ZXIuZGF0ZSA9IGZ1bmN0aW9uKHN0YXJ0LCBvcHRfZW5kKSB7XG4gIHZhciBhcmdzID0gZWUuYXJndW1lbnRzLmV4dHJhY3RGcm9tRnVuY3Rpb24oZWUuRmlsdGVyLmRhdGUsIGFyZ3VtZW50cyksIHJhbmdlID0gZWUuQXBpRnVuY3Rpb24uX2NhbGwoXCJEYXRlUmFuZ2VcIiwgYXJncy5zdGFydCwgYXJncy5lbmQpO1xuICByZXR1cm4gZWUuQXBpRnVuY3Rpb24uX2FwcGx5KFwiRmlsdGVyLmRhdGVSYW5nZUNvbnRhaW5zXCIsIHtsZWZ0VmFsdWU6cmFuZ2UsIHJpZ2h0RmllbGQ6XCJzeXN0ZW06dGltZV9zdGFydFwifSk7XG59O1xuZ29vZy5leHBvcnRQcm9wZXJ0eShlZS5GaWx0ZXIsIFwiZGF0ZVwiLCBlZS5GaWx0ZXIuZGF0ZSk7XG5lZS5GaWx0ZXIuaW5MaXN0ID0gZnVuY3Rpb24ob3B0X2xlZnRGaWVsZCwgb3B0X3JpZ2h0VmFsdWUsIG9wdF9yaWdodEZpZWxkLCBvcHRfbGVmdFZhbHVlKSB7XG4gIHZhciBhcmdzID0gZWUuYXJndW1lbnRzLmV4dHJhY3RGcm9tRnVuY3Rpb24oZWUuRmlsdGVyLmluTGlzdCwgYXJndW1lbnRzKTtcbiAgcmV0dXJuIGVlLkFwaUZ1bmN0aW9uLl9hcHBseShcIkZpbHRlci5saXN0Q29udGFpbnNcIiwge2xlZnRGaWVsZDphcmdzLnJpZ2h0RmllbGQsIHJpZ2h0VmFsdWU6YXJncy5sZWZ0VmFsdWUsIHJpZ2h0RmllbGQ6YXJncy5sZWZ0RmllbGQsIGxlZnRWYWx1ZTphcmdzLnJpZ2h0VmFsdWV9KTtcbn07XG5nb29nLmV4cG9ydFByb3BlcnR5KGVlLkZpbHRlciwgXCJpbkxpc3RcIiwgZWUuRmlsdGVyLmluTGlzdCk7XG5lZS5GaWx0ZXIuYm91bmRzID0gZnVuY3Rpb24oZ2VvbWV0cnksIG9wdF9lcnJvck1hcmdpbikge1xuICByZXR1cm4gZWUuQXBpRnVuY3Rpb24uX2FwcGx5KFwiRmlsdGVyLmludGVyc2VjdHNcIiwge2xlZnRGaWVsZDpcIi5hbGxcIiwgcmlnaHRWYWx1ZTplZS5BcGlGdW5jdGlvbi5fY2FsbChcIkZlYXR1cmVcIiwgZ2VvbWV0cnkpLCBtYXhFcnJvcjpvcHRfZXJyb3JNYXJnaW59KTtcbn07XG5nb29nLmV4cG9ydFByb3BlcnR5KGVlLkZpbHRlciwgXCJib3VuZHNcIiwgZWUuRmlsdGVyLmJvdW5kcyk7XG5lZS5GaWx0ZXIucHJvdG90eXBlLm5hbWUgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIFwiRmlsdGVyXCI7XG59O1xuZWUuRmlsdGVyLm1ldGFkYXRhID0gZnVuY3Rpb24obmFtZSwgb3BlcmF0b3IsIHZhbHVlKSB7XG4gIG9wZXJhdG9yID0gb3BlcmF0b3IudG9Mb3dlckNhc2UoKTtcbiAgdmFyIG5lZ2F0ZWQgPSAhMTtcbiAgZ29vZy5zdHJpbmcuc3RhcnRzV2l0aChvcGVyYXRvciwgXCJub3RfXCIpICYmIChuZWdhdGVkID0gITAsIG9wZXJhdG9yID0gb3BlcmF0b3Iuc3Vic3RyaW5nKDQpKTtcbiAgaWYgKCEob3BlcmF0b3IgaW4gZWUuRmlsdGVyLmZ1bmN0aW9uTmFtZXNfKSkge1xuICAgIHRocm93IEVycm9yKFwiVW5rbm93biBmaWx0ZXJpbmcgb3BlcmF0b3I6IFwiICsgb3BlcmF0b3IpO1xuICB9XG4gIHZhciBmaWx0ZXIgPSBlZS5BcGlGdW5jdGlvbi5fY2FsbChcIkZpbHRlci5cIiArIGVlLkZpbHRlci5mdW5jdGlvbk5hbWVzX1tvcGVyYXRvcl0sIG5hbWUsIHZhbHVlKTtcbiAgcmV0dXJuIG5lZ2F0ZWQgPyBmaWx0ZXIubm90KCkgOiBmaWx0ZXI7XG59O1xuZ29vZy5leHBvcnRQcm9wZXJ0eShlZS5GaWx0ZXIsIFwibWV0YWRhdGFcIiwgZWUuRmlsdGVyLm1ldGFkYXRhKTtcbmVlLkNvbGxlY3Rpb24gPSBmdW5jdGlvbihmdW5jLCBhcmdzLCBvcHRfdmFyTmFtZSkge1xuICBlZS5FbGVtZW50LmNhbGwodGhpcywgZnVuYywgYXJncywgb3B0X3Zhck5hbWUpO1xuICBlZS5Db2xsZWN0aW9uLmluaXRpYWxpemUoKTtcbn07XG5nb29nLmluaGVyaXRzKGVlLkNvbGxlY3Rpb24sIGVlLkVsZW1lbnQpO1xuZ29vZy5leHBvcnRTeW1ib2woXCJlZS5Db2xsZWN0aW9uXCIsIGVlLkNvbGxlY3Rpb24pO1xuZWUuQ29sbGVjdGlvbi5pbml0aWFsaXplZF8gPSAhMTtcbmVlLkNvbGxlY3Rpb24uaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uKCkge1xuICBlZS5Db2xsZWN0aW9uLmluaXRpYWxpemVkXyB8fCAoZWUuQXBpRnVuY3Rpb24uaW1wb3J0QXBpKGVlLkNvbGxlY3Rpb24sIFwiQ29sbGVjdGlvblwiLCBcIkNvbGxlY3Rpb25cIiksIGVlLkFwaUZ1bmN0aW9uLmltcG9ydEFwaShlZS5Db2xsZWN0aW9uLCBcIkFnZ3JlZ2F0ZUZlYXR1cmVDb2xsZWN0aW9uXCIsIFwiQ29sbGVjdGlvblwiLCBcImFnZ3JlZ2F0ZV9cIiksIGVlLkNvbGxlY3Rpb24uaW5pdGlhbGl6ZWRfID0gITApO1xufTtcbmVlLkNvbGxlY3Rpb24ucmVzZXQgPSBmdW5jdGlvbigpIHtcbiAgZWUuQXBpRnVuY3Rpb24uY2xlYXJBcGkoZWUuQ29sbGVjdGlvbik7XG4gIGVlLkNvbGxlY3Rpb24uaW5pdGlhbGl6ZWRfID0gITE7XG59O1xuZWUuQ29sbGVjdGlvbi5wcm90b3R5cGUuZmlsdGVyID0gZnVuY3Rpb24oZmlsdGVyKSB7XG4gIGZpbHRlciA9IGVlLmFyZ3VtZW50cy5leHRyYWN0RnJvbUZ1bmN0aW9uKGVlLkNvbGxlY3Rpb24ucHJvdG90eXBlLmZpbHRlciwgYXJndW1lbnRzKS5maWx0ZXI7XG4gIGlmICghZmlsdGVyKSB7XG4gICAgdGhyb3cgRXJyb3IoXCJFbXB0eSBmaWx0ZXJzLlwiKTtcbiAgfVxuICByZXR1cm4gdGhpcy5jYXN0SW50ZXJuYWwoZWUuQXBpRnVuY3Rpb24uX2NhbGwoXCJDb2xsZWN0aW9uLmZpbHRlclwiLCB0aGlzLCBmaWx0ZXIpKTtcbn07XG5nb29nLmV4cG9ydFByb3BlcnR5KGVlLkNvbGxlY3Rpb24ucHJvdG90eXBlLCBcImZpbHRlclwiLCBlZS5Db2xsZWN0aW9uLnByb3RvdHlwZS5maWx0ZXIpO1xuZWUuQ29sbGVjdGlvbi5wcm90b3R5cGUuZmlsdGVyTWV0YWRhdGEgPSBmdW5jdGlvbihuYW1lLCBvcGVyYXRvciwgdmFsdWUpIHtcbiAgdmFyIGFyZ3MgPSBlZS5hcmd1bWVudHMuZXh0cmFjdEZyb21GdW5jdGlvbihlZS5Db2xsZWN0aW9uLnByb3RvdHlwZS5maWx0ZXJNZXRhZGF0YSwgYXJndW1lbnRzKTtcbiAgcmV0dXJuIHRoaXMuZmlsdGVyKGVlLkZpbHRlci5tZXRhZGF0YShhcmdzLm5hbWUsIGFyZ3Mub3BlcmF0b3IsIGFyZ3MudmFsdWUpKTtcbn07XG5nb29nLmV4cG9ydFByb3BlcnR5KGVlLkNvbGxlY3Rpb24ucHJvdG90eXBlLCBcImZpbHRlck1ldGFkYXRhXCIsIGVlLkNvbGxlY3Rpb24ucHJvdG90eXBlLmZpbHRlck1ldGFkYXRhKTtcbmVlLkNvbGxlY3Rpb24ucHJvdG90eXBlLmZpbHRlckJvdW5kcyA9IGZ1bmN0aW9uKGdlb21ldHJ5KSB7XG4gIHJldHVybiB0aGlzLmZpbHRlcihlZS5GaWx0ZXIuYm91bmRzKGdlb21ldHJ5KSk7XG59O1xuZ29vZy5leHBvcnRQcm9wZXJ0eShlZS5Db2xsZWN0aW9uLnByb3RvdHlwZSwgXCJmaWx0ZXJCb3VuZHNcIiwgZWUuQ29sbGVjdGlvbi5wcm90b3R5cGUuZmlsdGVyQm91bmRzKTtcbmVlLkNvbGxlY3Rpb24ucHJvdG90eXBlLmZpbHRlckRhdGUgPSBmdW5jdGlvbihzdGFydCwgb3B0X2VuZCkge1xuICB2YXIgYXJncyA9IGVlLmFyZ3VtZW50cy5leHRyYWN0RnJvbUZ1bmN0aW9uKGVlLkNvbGxlY3Rpb24ucHJvdG90eXBlLmZpbHRlckRhdGUsIGFyZ3VtZW50cyk7XG4gIHJldHVybiB0aGlzLmZpbHRlcihlZS5GaWx0ZXIuZGF0ZShhcmdzLnN0YXJ0LCBhcmdzLmVuZCkpO1xufTtcbmdvb2cuZXhwb3J0UHJvcGVydHkoZWUuQ29sbGVjdGlvbi5wcm90b3R5cGUsIFwiZmlsdGVyRGF0ZVwiLCBlZS5Db2xsZWN0aW9uLnByb3RvdHlwZS5maWx0ZXJEYXRlKTtcbmVlLkNvbGxlY3Rpb24ucHJvdG90eXBlLmxpbWl0ID0gZnVuY3Rpb24obWF4LCBvcHRfcHJvcGVydHksIG9wdF9hc2NlbmRpbmcpIHtcbiAgdmFyIGFyZ3MgPSBlZS5hcmd1bWVudHMuZXh0cmFjdEZyb21GdW5jdGlvbihlZS5Db2xsZWN0aW9uLnByb3RvdHlwZS5saW1pdCwgYXJndW1lbnRzKTtcbiAgcmV0dXJuIHRoaXMuY2FzdEludGVybmFsKGVlLkFwaUZ1bmN0aW9uLl9jYWxsKFwiQ29sbGVjdGlvbi5saW1pdFwiLCB0aGlzLCBhcmdzLm1heCwgYXJncy5wcm9wZXJ0eSwgYXJncy5hc2NlbmRpbmcpKTtcbn07XG5nb29nLmV4cG9ydFByb3BlcnR5KGVlLkNvbGxlY3Rpb24ucHJvdG90eXBlLCBcImxpbWl0XCIsIGVlLkNvbGxlY3Rpb24ucHJvdG90eXBlLmxpbWl0KTtcbmVlLkNvbGxlY3Rpb24ucHJvdG90eXBlLnNvcnQgPSBmdW5jdGlvbihwcm9wZXJ0eSwgb3B0X2FzY2VuZGluZykge1xuICB2YXIgYXJncyA9IGVlLmFyZ3VtZW50cy5leHRyYWN0RnJvbUZ1bmN0aW9uKGVlLkNvbGxlY3Rpb24ucHJvdG90eXBlLnNvcnQsIGFyZ3VtZW50cyk7XG4gIHJldHVybiB0aGlzLmNhc3RJbnRlcm5hbChlZS5BcGlGdW5jdGlvbi5fY2FsbChcIkNvbGxlY3Rpb24ubGltaXRcIiwgdGhpcywgdm9pZCAwLCBhcmdzLnByb3BlcnR5LCBhcmdzLmFzY2VuZGluZykpO1xufTtcbmdvb2cuZXhwb3J0UHJvcGVydHkoZWUuQ29sbGVjdGlvbi5wcm90b3R5cGUsIFwic29ydFwiLCBlZS5Db2xsZWN0aW9uLnByb3RvdHlwZS5zb3J0KTtcbmVlLkNvbGxlY3Rpb24ucHJvdG90eXBlLm5hbWUgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIFwiQ29sbGVjdGlvblwiO1xufTtcbmVlLkNvbGxlY3Rpb24ucHJvdG90eXBlLmVsZW1lbnRUeXBlID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBlZS5FbGVtZW50O1xufTtcbmVlLkNvbGxlY3Rpb24ucHJvdG90eXBlLm1hcCA9IGZ1bmN0aW9uKGFsZ29yaXRobSwgb3B0X2Ryb3BOdWxscykge1xuICB2YXIgZWxlbWVudFR5cGUgPSB0aGlzLmVsZW1lbnRUeXBlKCk7XG4gIHJldHVybiB0aGlzLmNhc3RJbnRlcm5hbChlZS5BcGlGdW5jdGlvbi5fY2FsbChcIkNvbGxlY3Rpb24ubWFwXCIsIHRoaXMsIGZ1bmN0aW9uKGUpIHtcbiAgICByZXR1cm4gYWxnb3JpdGhtKG5ldyBlbGVtZW50VHlwZShlKSk7XG4gIH0sIG9wdF9kcm9wTnVsbHMpKTtcbn07XG5nb29nLmV4cG9ydFByb3BlcnR5KGVlLkNvbGxlY3Rpb24ucHJvdG90eXBlLCBcIm1hcFwiLCBlZS5Db2xsZWN0aW9uLnByb3RvdHlwZS5tYXApO1xuZWUuQ29sbGVjdGlvbi5wcm90b3R5cGUuaXRlcmF0ZSA9IGZ1bmN0aW9uKGFsZ29yaXRobSwgb3B0X2ZpcnN0KSB7XG4gIHZhciBmaXJzdCA9IHZvaWQgMCAhPT0gb3B0X2ZpcnN0ID8gb3B0X2ZpcnN0IDogbnVsbCwgZWxlbWVudFR5cGUgPSB0aGlzLmVsZW1lbnRUeXBlKCk7XG4gIHJldHVybiBlZS5BcGlGdW5jdGlvbi5fY2FsbChcIkNvbGxlY3Rpb24uaXRlcmF0ZVwiLCB0aGlzLCBmdW5jdGlvbihlLCBwKSB7XG4gICAgcmV0dXJuIGFsZ29yaXRobShuZXcgZWxlbWVudFR5cGUoZSksIHApO1xuICB9LCBmaXJzdCk7XG59O1xuZ29vZy5leHBvcnRQcm9wZXJ0eShlZS5Db2xsZWN0aW9uLnByb3RvdHlwZSwgXCJpdGVyYXRlXCIsIGVlLkNvbGxlY3Rpb24ucHJvdG90eXBlLml0ZXJhdGUpO1xuZWUuRmVhdHVyZSA9IGZ1bmN0aW9uKGdlb21ldHJ5LCBvcHRfcHJvcGVydGllcykge1xuICBpZiAoISh0aGlzIGluc3RhbmNlb2YgZWUuRmVhdHVyZSkpIHtcbiAgICByZXR1cm4gZWUuQ29tcHV0ZWRPYmplY3QuY29uc3RydWN0KGVlLkZlYXR1cmUsIGFyZ3VtZW50cyk7XG4gIH1cbiAgaWYgKGdlb21ldHJ5IGluc3RhbmNlb2YgZWUuRmVhdHVyZSkge1xuICAgIGlmIChvcHRfcHJvcGVydGllcykge1xuICAgICAgdGhyb3cgRXJyb3IoXCJDYW4ndCBjcmVhdGUgRmVhdHVyZSBvdXQgb2YgYSBGZWF0dXJlIGFuZCBwcm9wZXJ0aWVzLlwiKTtcbiAgICB9XG4gICAgcmV0dXJuIGdlb21ldHJ5O1xuICB9XG4gIGlmICgyIDwgYXJndW1lbnRzLmxlbmd0aCkge1xuICAgIHRocm93IEVycm9yKFwiVGhlIEZlYXR1cmUgY29uc3RydWN0b3IgdGFrZXMgYXQgbW9zdCAyIGFyZ3VtZW50cyAoXCIgKyBhcmd1bWVudHMubGVuZ3RoICsgXCIgZ2l2ZW4pXCIpO1xuICB9XG4gIGVlLkZlYXR1cmUuaW5pdGlhbGl6ZSgpO1xuICBpZiAoZ2VvbWV0cnkgaW5zdGFuY2VvZiBlZS5HZW9tZXRyeSB8fCBudWxsID09PSBnZW9tZXRyeSkge1xuICAgIGVlLkVsZW1lbnQuY2FsbCh0aGlzLCBuZXcgZWUuQXBpRnVuY3Rpb24oXCJGZWF0dXJlXCIpLCB7Z2VvbWV0cnk6Z2VvbWV0cnksIG1ldGFkYXRhOm9wdF9wcm9wZXJ0aWVzIHx8IG51bGx9KTtcbiAgfSBlbHNlIGlmIChnZW9tZXRyeSBpbnN0YW5jZW9mIGVlLkNvbXB1dGVkT2JqZWN0KSB7XG4gICAgZWUuRWxlbWVudC5jYWxsKHRoaXMsIGdlb21ldHJ5LmZ1bmMsIGdlb21ldHJ5LmFyZ3MsIGdlb21ldHJ5LnZhck5hbWUpO1xuICB9IGVsc2UgaWYgKFwiRmVhdHVyZVwiID09IGdlb21ldHJ5LnR5cGUpIHtcbiAgICB2YXIgcHJvcGVydGllcyA9IGdlb21ldHJ5LnByb3BlcnRpZXMgfHwge307XG4gICAgaWYgKFwiaWRcIiBpbiBnZW9tZXRyeSkge1xuICAgICAgaWYgKFwic3lzdGVtOmluZGV4XCIgaW4gcHJvcGVydGllcykge1xuICAgICAgICB0aHJvdyBFcnJvcignQ2FuXFwndCBzcGVjaWZ5IGJvdGggXCJpZFwiIGFuZCBcInN5c3RlbTppbmRleFwiLicpO1xuICAgICAgfVxuICAgICAgcHJvcGVydGllcyA9IG1vZHVsZSRjb250ZW50cyRnb29nJG9iamVjdF9jbG9uZShwcm9wZXJ0aWVzKTtcbiAgICAgIHByb3BlcnRpZXNbXCJzeXN0ZW06aW5kZXhcIl0gPSBnZW9tZXRyeS5pZDtcbiAgICB9XG4gICAgZWUuRWxlbWVudC5jYWxsKHRoaXMsIG5ldyBlZS5BcGlGdW5jdGlvbihcIkZlYXR1cmVcIiksIHtnZW9tZXRyeTpuZXcgZWUuR2VvbWV0cnkoZ2VvbWV0cnkuZ2VvbWV0cnkpLCBtZXRhZGF0YTpwcm9wZXJ0aWVzfSk7XG4gIH0gZWxzZSB7XG4gICAgZWUuRWxlbWVudC5jYWxsKHRoaXMsIG5ldyBlZS5BcGlGdW5jdGlvbihcIkZlYXR1cmVcIiksIHtnZW9tZXRyeTpuZXcgZWUuR2VvbWV0cnkoZ2VvbWV0cnkpLCBtZXRhZGF0YTpvcHRfcHJvcGVydGllcyB8fCBudWxsfSk7XG4gIH1cbn07XG5nb29nLmluaGVyaXRzKGVlLkZlYXR1cmUsIGVlLkVsZW1lbnQpO1xuZ29vZy5leHBvcnRTeW1ib2woXCJlZS5GZWF0dXJlXCIsIGVlLkZlYXR1cmUpO1xuZWUuRmVhdHVyZS5pbml0aWFsaXplZF8gPSAhMTtcbmVlLkZlYXR1cmUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uKCkge1xuICBlZS5GZWF0dXJlLmluaXRpYWxpemVkXyB8fCAoZWUuQXBpRnVuY3Rpb24uaW1wb3J0QXBpKGVlLkZlYXR1cmUsIFwiRmVhdHVyZVwiLCBcIkZlYXR1cmVcIiksIGVlLkZlYXR1cmUuaW5pdGlhbGl6ZWRfID0gITApO1xufTtcbmVlLkZlYXR1cmUucmVzZXQgPSBmdW5jdGlvbigpIHtcbiAgZWUuQXBpRnVuY3Rpb24uY2xlYXJBcGkoZWUuRmVhdHVyZSk7XG4gIGVlLkZlYXR1cmUuaW5pdGlhbGl6ZWRfID0gITE7XG59O1xuZWUuRmVhdHVyZS5wcm90b3R5cGUuZ2V0SW5mbyA9IGZ1bmN0aW9uKG9wdF9jYWxsYmFjaykge1xuICByZXR1cm4gZWUuRmVhdHVyZS5zdXBlckNsYXNzXy5nZXRJbmZvLmNhbGwodGhpcywgb3B0X2NhbGxiYWNrKTtcbn07XG5nb29nLmV4cG9ydFByb3BlcnR5KGVlLkZlYXR1cmUucHJvdG90eXBlLCBcImdldEluZm9cIiwgZWUuRmVhdHVyZS5wcm90b3R5cGUuZ2V0SW5mbyk7XG5lZS5GZWF0dXJlLnByb3RvdHlwZS5nZXRNYXAgPSBmdW5jdGlvbihvcHRfdmlzUGFyYW1zLCBvcHRfY2FsbGJhY2spIHtcbiAgdmFyIGFyZ3MgPSBlZS5hcmd1bWVudHMuZXh0cmFjdEZyb21GdW5jdGlvbihlZS5GZWF0dXJlLnByb3RvdHlwZS5nZXRNYXAsIGFyZ3VtZW50cyk7XG4gIHJldHVybiBlZS5BcGlGdW5jdGlvbi5fY2FsbChcIkNvbGxlY3Rpb25cIiwgW3RoaXNdKS5nZXRNYXAoYXJncy52aXNQYXJhbXMsIGFyZ3MuY2FsbGJhY2spO1xufTtcbmdvb2cuZXhwb3J0UHJvcGVydHkoZWUuRmVhdHVyZS5wcm90b3R5cGUsIFwiZ2V0TWFwXCIsIGVlLkZlYXR1cmUucHJvdG90eXBlLmdldE1hcCk7XG5lZS5GZWF0dXJlLnByb3RvdHlwZS5uYW1lID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBcIkZlYXR1cmVcIjtcbn07XG5lZS5kYXRhLmltYWdlcyA9IHt9O1xuZWUuZGF0YS5pbWFnZXMuYXBwbHlUcmFuc2Zvcm1zVG9JbWFnZSA9IGZ1bmN0aW9uKHRhc2tDb25maWcpIHtcbiAgdmFyIHJlc3VsdFBhcmFtcyA9IHt9LCBpbWFnZSA9IGVlLmRhdGEuaW1hZ2VzLmFwcGx5Q3JzQW5kVHJhbnNmb3JtKHRhc2tDb25maWcuZWxlbWVudCwgdGFza0NvbmZpZyk7XG4gIGltYWdlID0gZWUuZGF0YS5pbWFnZXMuYXBwbHlTZWxlY3Rpb25BbmRTY2FsZShpbWFnZSwgdGFza0NvbmZpZywgcmVzdWx0UGFyYW1zKTtcbiAgcmVzdWx0UGFyYW1zLmVsZW1lbnQgPSBpbWFnZTtcbiAgcmV0dXJuIHJlc3VsdFBhcmFtcztcbn07XG5lZS5kYXRhLmltYWdlcy5hcHBseVRyYW5zZm9ybXNUb0NvbGxlY3Rpb24gPSBmdW5jdGlvbih0YXNrQ29uZmlnKSB7XG4gIHZhciByZXN1bHRQYXJhbXMgPSB7fSwgY29sbGVjdGlvbiA9IHRhc2tDb25maWcuZWxlbWVudC5tYXAoZnVuY3Rpb24oaW1hZ2UpIHtcbiAgICB2YXIgcHJvamVjdGVkID0gZWUuZGF0YS5pbWFnZXMuYXBwbHlDcnNBbmRUcmFuc2Zvcm0oaW1hZ2UsIHRhc2tDb25maWcpO1xuICAgIHJldHVybiBlZS5kYXRhLmltYWdlcy5hcHBseVNlbGVjdGlvbkFuZFNjYWxlKHByb2plY3RlZCwgdGFza0NvbmZpZywgcmVzdWx0UGFyYW1zKTtcbiAgfSk7XG4gIHJlc3VsdFBhcmFtcy5lbGVtZW50ID0gY29sbGVjdGlvbjtcbiAgcmV0dXJuIHJlc3VsdFBhcmFtcztcbn07XG5lZS5kYXRhLmltYWdlcy5hcHBseVNlbGVjdGlvbkFuZFNjYWxlID0gZnVuY3Rpb24oaW1hZ2UsIHBhcmFtcywgb3V0UGFyYW1zKSB7XG4gIHZhciBjbGlwUGFyYW1zID0ge30sIGRpbWVuc2lvbnNfY29uc3VtZWQgPSAhMSwgU0NBTElOR19LRVlTID0gW1wibWF4RGltZW5zaW9uXCIsIFwid2lkdGhcIiwgXCJoZWlnaHRcIiwgXCJzY2FsZVwiXTtcbiAgbW9kdWxlJGNvbnRlbnRzJGdvb2ckb2JqZWN0X2ZvckVhY2gocGFyYW1zLCBmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG4gICAgaWYgKG51bGwgIT0gdmFsdWUpIHtcbiAgICAgIHN3aXRjaChrZXkpIHtcbiAgICAgICAgY2FzZSBcImRpbWVuc2lvbnNcIjpcbiAgICAgICAgICB2YXIgZGltcyA9IFwic3RyaW5nXCIgPT09IHR5cGVvZiB2YWx1ZSA/IHZhbHVlLnNwbGl0KFwieFwiKS5tYXAoTnVtYmVyKSA6IEFycmF5LmlzQXJyYXkodmFsdWUpID8gdmFsdWUgOiBcIm51bWJlclwiID09PSB0eXBlb2YgdmFsdWUgPyBbdmFsdWVdIDogW107XG4gICAgICAgICAgaWYgKDEgPT09IGRpbXMubGVuZ3RoKSB7XG4gICAgICAgICAgICBjbGlwUGFyYW1zLm1heERpbWVuc2lvbiA9IGRpbXNbMF07XG4gICAgICAgICAgfSBlbHNlIGlmICgyID09PSBkaW1zLmxlbmd0aCkge1xuICAgICAgICAgICAgY2xpcFBhcmFtcy53aWR0aCA9IGRpbXNbMF0sIGNsaXBQYXJhbXMuaGVpZ2h0ID0gZGltc1sxXTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgRXJyb3IoXCJJbnZhbGlkIGRpbWVuc2lvbnMgXCIgKyB2YWx1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiZGltZW5zaW9uc19jb25zdW1lZFwiOlxuICAgICAgICAgIGRpbWVuc2lvbnNfY29uc3VtZWQgPSAhMDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImJib3hcIjpcbiAgICAgICAgICBudWxsICE9IGNsaXBQYXJhbXMuZ2VvbWV0cnkgJiYgY29uc29sZS53YXJuKFwiTXVsdGlwbGUgcmVxdWVzdCBwYXJhbWV0ZXJzIGNvbnZlcnRlZCB0byByZWdpb24uXCIpO1xuICAgICAgICAgIGNsaXBQYXJhbXMuZ2VvbWV0cnkgPSBlZS5kYXRhLmltYWdlcy5iYm94VG9HZW9tZXRyeSh2YWx1ZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJyZWdpb25cIjpcbiAgICAgICAgICBudWxsICE9IGNsaXBQYXJhbXMuZ2VvbWV0cnkgJiYgY29uc29sZS53YXJuKFwiTXVsdGlwbGUgcmVxdWVzdCBwYXJhbWV0ZXJzIGNvbnZlcnRlZCB0byByZWdpb24uXCIpO1xuICAgICAgICAgIGNsaXBQYXJhbXMuZ2VvbWV0cnkgPSBlZS5kYXRhLmltYWdlcy5yZWdpb25Ub0dlb21ldHJ5KHZhbHVlKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcInNjYWxlXCI6XG4gICAgICAgICAgY2xpcFBhcmFtcy5zY2FsZSA9IE51bWJlcih2YWx1ZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgb3V0UGFyYW1zW2tleV0gPSB2YWx1ZTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuICBtb2R1bGUkY29udGVudHMkZ29vZyRvYmplY3RfaXNFbXB0eShjbGlwUGFyYW1zKSB8fCAoY2xpcFBhcmFtcy5pbnB1dCA9IGltYWdlLCBpbWFnZSA9IFNDQUxJTkdfS0VZUy5zb21lKGZ1bmN0aW9uKGtleSkge1xuICAgIHJldHVybiBrZXkgaW4gY2xpcFBhcmFtcztcbiAgfSkgfHwgZGltZW5zaW9uc19jb25zdW1lZCA/IGVlLkFwaUZ1bmN0aW9uLl9hcHBseShcIkltYWdlLmNsaXBUb0JvdW5kc0FuZFNjYWxlXCIsIGNsaXBQYXJhbXMpIDogZWUuQXBpRnVuY3Rpb24uX2FwcGx5KFwiSW1hZ2UuY2xpcFwiLCBjbGlwUGFyYW1zKSk7XG4gIHJldHVybiBpbWFnZTtcbn07XG5lZS5kYXRhLmltYWdlcy5iYm94VG9HZW9tZXRyeSA9IGZ1bmN0aW9uKGJib3gpIHtcbiAgaWYgKGJib3ggaW5zdGFuY2VvZiBlZS5HZW9tZXRyeS5SZWN0YW5nbGUpIHtcbiAgICByZXR1cm4gYmJveDtcbiAgfVxuICB2YXIgYmJveEFycmF5ID0gYmJveDtcbiAgaWYgKFwic3RyaW5nXCIgPT09IHR5cGVvZiBiYm94KSB7XG4gICAgdHJ5IHtcbiAgICAgIGJib3hBcnJheSA9IEpTT04ucGFyc2UoYmJveCk7XG4gICAgfSBjYXRjaCAoJGpzY29tcCR1bnVzZWQkY2F0Y2gpIHtcbiAgICAgIGJib3hBcnJheSA9IGJib3guc3BsaXQoL1xccyosXFxzKi8pLm1hcChOdW1iZXIpO1xuICAgIH1cbiAgfVxuICBpZiAoQXJyYXkuaXNBcnJheShiYm94QXJyYXkpKSB7XG4gICAgaWYgKGJib3hBcnJheS5zb21lKGlzTmFOKSkge1xuICAgICAgdGhyb3cgRXJyb3IoXCJJbnZhbGlkIGJib3ggYHtiYm94QXJyYXl9YCwgcGxlYXNlIHNwZWNpZnkgYSBsaXN0IG9mIG51bWJlcnMuXCIpO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IGVlLkdlb21ldHJ5LlJlY3RhbmdsZShiYm94QXJyYXksIG51bGwsICExKTtcbiAgfVxuICB0aHJvdyBFcnJvcignSW52YWxpZCBiYm94IFwie2Jib3h9XCIgdHlwZSwgbXVzdCBiZSBvZiB0eXBlIEFycmF5PG51bWJlcj4nKTtcbn07XG5lZS5kYXRhLmltYWdlcy5yZWdpb25Ub0dlb21ldHJ5ID0gZnVuY3Rpb24ocmVnaW9uKSB7XG4gIGlmIChyZWdpb24gaW5zdGFuY2VvZiBlZS5HZW9tZXRyeSkge1xuICAgIHJldHVybiByZWdpb247XG4gIH1cbiAgdmFyIHJlZ2lvbk9iamVjdCA9IHJlZ2lvbjtcbiAgaWYgKFwic3RyaW5nXCIgPT09IHR5cGVvZiByZWdpb24pIHtcbiAgICB0cnkge1xuICAgICAgcmVnaW9uT2JqZWN0ID0gSlNPTi5wYXJzZShyZWdpb24pO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHRocm93IEVycm9yKCdSZWdpb24gc3RyaW5nIFwiJyArIHJlZ2lvbiArICdcIiBpcyBub3QgdmFsaWQgR2VvSlNPTi4nKTtcbiAgICB9XG4gIH1cbiAgaWYgKEFycmF5LmlzQXJyYXkocmVnaW9uT2JqZWN0KSkge1xuICAgIHJldHVybiBuZXcgZWUuR2VvbWV0cnkuUG9seWdvbihyZWdpb25PYmplY3QsIG51bGwsICExKTtcbiAgfVxuICBpZiAoZ29vZy5pc09iamVjdChyZWdpb25PYmplY3QpKSB7XG4gICAgcmV0dXJuIG5ldyBlZS5HZW9tZXRyeShyZWdpb25PYmplY3QsIG51bGwsICExKTtcbiAgfVxuICB0aHJvdyBFcnJvcihcIlJlZ2lvbiB7cmVnaW9ufSB3YXMgbm90IGNvbnZlcnRpYmxlIHRvIGFuIGVlLkdlb21ldHJ5LlwiKTtcbn07XG5lZS5kYXRhLmltYWdlcy5hcHBseUNyc0FuZFRyYW5zZm9ybSA9IGZ1bmN0aW9uKGltYWdlLCBwYXJhbXMpIHtcbiAgdmFyIGNycyA9IHBhcmFtcy5jcnMgfHwgXCJcIiwgY3JzVHJhbnNmb3JtID0gcGFyYW1zLmNyc1RyYW5zZm9ybSB8fCBwYXJhbXMuY3JzX3RyYW5zZm9ybTtcbiAgbnVsbCAhPSBjcnNUcmFuc2Zvcm0gJiYgKGNyc1RyYW5zZm9ybSA9IGVlLmRhdGEuaW1hZ2VzLm1heWJlQ29udmVydENyc1RyYW5zZm9ybVRvQXJyYXlfKGNyc1RyYW5zZm9ybSkpO1xuICBpZiAoIWNycyAmJiAhY3JzVHJhbnNmb3JtKSB7XG4gICAgcmV0dXJuIGltYWdlO1xuICB9XG4gIGlmIChjcnNUcmFuc2Zvcm0gJiYgIWNycykge1xuICAgIHRocm93IEVycm9yKCdNdXN0IHNwZWNpZnkgXCJjcnNcIiBpZiBcImNyc1RyYW5zZm9ybVwiIGlzIHNwZWNpZmllZC4nKTtcbiAgfVxuICBpZiAoY3JzVHJhbnNmb3JtKSB7XG4gICAgaWYgKGltYWdlID0gZWUuQXBpRnVuY3Rpb24uX2FwcGx5KFwiSW1hZ2UucmVwcm9qZWN0XCIsIHtpbWFnZTppbWFnZSwgY3JzOmNycywgY3JzVHJhbnNmb3JtOmNyc1RyYW5zZm9ybX0pLCBudWxsICE9IHBhcmFtcy5kaW1lbnNpb25zICYmIG51bGwgPT0gcGFyYW1zLnNjYWxlICYmIG51bGwgPT0gcGFyYW1zLnJlZ2lvbikge1xuICAgICAgdmFyIGRpbWVuc2lvbnMgPSBwYXJhbXMuZGltZW5zaW9ucztcbiAgICAgIFwic3RyaW5nXCIgPT09IHR5cGVvZiBkaW1lbnNpb25zICYmIChkaW1lbnNpb25zID0gZGltZW5zaW9ucy5zcGxpdChcInhcIikubWFwKE51bWJlcikpO1xuICAgICAgaWYgKDIgPT09IGRpbWVuc2lvbnMubGVuZ3RoKSB7XG4gICAgICAgIGRlbGV0ZSBwYXJhbXMuZGltZW5zaW9ucztcbiAgICAgICAgcGFyYW1zLmRpbWVuc2lvbnNfY29uc3VtZWQgPSAhMDtcbiAgICAgICAgdmFyIHByb2plY3Rpb24gPSAobmV3IGVlLkFwaUZ1bmN0aW9uKFwiUHJvamVjdGlvblwiKSkuY2FsbChjcnMsIGNyc1RyYW5zZm9ybSk7XG4gICAgICAgIHBhcmFtcy5yZWdpb24gPSBuZXcgZWUuR2VvbWV0cnkuUmVjdGFuZ2xlKFswLCAwLCBkaW1lbnNpb25zWzBdLCBkaW1lbnNpb25zWzFdXSwgcHJvamVjdGlvbiwgITEpO1xuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBpbWFnZSA9IGVlLkFwaUZ1bmN0aW9uLl9hcHBseShcIkltYWdlLnNldERlZmF1bHRQcm9qZWN0aW9uXCIsIHtpbWFnZTppbWFnZSwgY3JzOmNycywgY3JzVHJhbnNmb3JtOlsxLCAwLCAwLCAwLCAtMSwgMF19KTtcbiAgfVxuICByZXR1cm4gaW1hZ2U7XG59O1xuZWUuZGF0YS5pbWFnZXMubWF5YmVDb252ZXJ0Q3JzVHJhbnNmb3JtVG9BcnJheV8gPSBmdW5jdGlvbihjcnNUcmFuc2Zvcm0pIHtcbiAgdmFyIHRyYW5zZm9ybUFycmF5ID0gY3JzVHJhbnNmb3JtO1xuICBpZiAoXCJzdHJpbmdcIiA9PT0gdHlwZW9mIHRyYW5zZm9ybUFycmF5KSB7XG4gICAgdHJ5IHtcbiAgICAgIHRyYW5zZm9ybUFycmF5ID0gSlNPTi5wYXJzZSh0cmFuc2Zvcm1BcnJheSk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgIH1cbiAgfVxuICBpZiAoQXJyYXkuaXNBcnJheSh0cmFuc2Zvcm1BcnJheSkpIHtcbiAgICBpZiAoNiA9PT0gdHJhbnNmb3JtQXJyYXkubGVuZ3RoICYmIG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X2V2ZXJ5KHRyYW5zZm9ybUFycmF5LCBmdW5jdGlvbih4KSB7XG4gICAgICByZXR1cm4gXCJudW1iZXJcIiA9PT0gdHlwZW9mIHg7XG4gICAgfSkpIHtcbiAgICAgIHJldHVybiB0cmFuc2Zvcm1BcnJheTtcbiAgICB9XG4gICAgdGhyb3cgRXJyb3IoXCJJbnZhbGlkIGFyZ3VtZW50LCBjcnMgdHJhbnNmb3JtIG11c3QgYmUgYSBsaXN0IG9mIDYgbnVtYmVycy5cIik7XG4gIH1cbiAgdGhyb3cgRXJyb3IoXCJJbnZhbGlkIGFyZ3VtZW50LCBjcnMgdHJhbnNmb3JtIHdhcyBub3QgYSBzdHJpbmcgb3IgYXJyYXkuXCIpO1xufTtcbmVlLmRhdGEuaW1hZ2VzLmFwcGx5VmlzdWFsaXphdGlvbiA9IGZ1bmN0aW9uKGltYWdlLCBwYXJhbXMpIHtcbiAgdmFyIHJlcXVlc3QgPSB7fSwgdmlzUGFyYW1zID0gZWUuZGF0YS5pbWFnZXMuZXh0cmFjdFZpc1BhcmFtcyhwYXJhbXMsIHJlcXVlc3QpO1xuICBtb2R1bGUkY29udGVudHMkZ29vZyRvYmplY3RfaXNFbXB0eSh2aXNQYXJhbXMpIHx8ICh2aXNQYXJhbXMuaW1hZ2UgPSBpbWFnZSwgaW1hZ2UgPSBlZS5BcGlGdW5jdGlvbi5fYXBwbHkoXCJJbWFnZS52aXN1YWxpemVcIiwgdmlzUGFyYW1zKSk7XG4gIHJlcXVlc3QuaW1hZ2UgPSBpbWFnZTtcbiAgcmV0dXJuIHJlcXVlc3Q7XG59O1xuZWUuZGF0YS5pbWFnZXMuZXh0cmFjdFZpc1BhcmFtcyA9IGZ1bmN0aW9uKHBhcmFtcywgb3V0UGFyYW1zKSB7XG4gIHZhciBrZXlzVG9FeHRyYWN0ID0gXCJiYW5kcyBnYWluIGJpYXMgbWluIG1heCBnYW1tYSBwYWxldHRlIG9wYWNpdHkgZm9yY2VSZ2JPdXRwdXRcIi5zcGxpdChcIiBcIiksIHZpc1BhcmFtcyA9IHt9O1xuICBtb2R1bGUkY29udGVudHMkZ29vZyRvYmplY3RfZm9yRWFjaChwYXJhbXMsIGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9jb250YWlucyhrZXlzVG9FeHRyYWN0LCBrZXkpID8gdmlzUGFyYW1zW2tleV0gPSB2YWx1ZSA6IG91dFBhcmFtc1trZXldID0gdmFsdWU7XG4gIH0pO1xuICByZXR1cm4gdmlzUGFyYW1zO1xufTtcbmVlLmRhdGEuaW1hZ2VzLmJ1aWxkRG93bmxvYWRJZEltYWdlID0gZnVuY3Rpb24oaW1hZ2UsIHBhcmFtcykge1xuICBwYXJhbXMgPSBPYmplY3QuYXNzaWduKHt9LCBwYXJhbXMpO1xuICB2YXIgZXh0cmFjdEFuZFZhbGlkYXRlVHJhbnNmb3JtcyA9IGZ1bmN0aW9uKG9iaikge1xuICAgIHZhciBleHRyYWN0ZWQgPSB7fTtcbiAgICBbXCJjcnNcIiwgXCJjcnNfdHJhbnNmb3JtXCIsIFwiZGltZW5zaW9uc1wiLCBcInJlZ2lvblwiXS5mb3JFYWNoKGZ1bmN0aW9uKGtleSkge1xuICAgICAga2V5IGluIG9iaiAmJiAoZXh0cmFjdGVkW2tleV0gPSBvYmpba2V5XSk7XG4gICAgfSk7XG4gICAgbnVsbCAhPSBvYmouc2NhbGUgJiYgbnVsbCA9PSBvYmouZGltZW5zaW9ucyAmJiAoZXh0cmFjdGVkLnNjYWxlID0gb2JqLnNjYWxlKTtcbiAgICByZXR1cm4gZXh0cmFjdGVkO1xuICB9LCBidWlsZEltYWdlUGVyQmFuZCA9IGZ1bmN0aW9uKGJhbmQpIHtcbiAgICB2YXIgYmFuZElkID0gYmFuZC5pZDtcbiAgICBpZiAodm9pZCAwID09PSBiYW5kSWQpIHtcbiAgICAgIHRocm93IEVycm9yKFwiRWFjaCBiYW5kIGRpY3Rpb25hcnkgbXVzdCBoYXZlIGFuIGlkLlwiKTtcbiAgICB9XG4gICAgdmFyIGJhbmRJbWFnZSA9IGltYWdlLnNlbGVjdChiYW5kSWQpLCBjb3B5UGFyYW1zID0gZXh0cmFjdEFuZFZhbGlkYXRlVHJhbnNmb3JtcyhwYXJhbXMpLCBiYW5kUGFyYW1zID0gZXh0cmFjdEFuZFZhbGlkYXRlVHJhbnNmb3JtcyhiYW5kKTtcbiAgICBiYW5kUGFyYW1zID0gZXh0cmFjdEFuZFZhbGlkYXRlVHJhbnNmb3JtcyhPYmplY3QuYXNzaWduKGNvcHlQYXJhbXMsIGJhbmRQYXJhbXMpKTtcbiAgICBiYW5kSW1hZ2UgPSBlZS5kYXRhLmltYWdlcy5hcHBseUNyc0FuZFRyYW5zZm9ybShiYW5kSW1hZ2UsIGJhbmRQYXJhbXMpO1xuICAgIHJldHVybiBiYW5kSW1hZ2UgPSBlZS5kYXRhLmltYWdlcy5hcHBseVNlbGVjdGlvbkFuZFNjYWxlKGJhbmRJbWFnZSwgYmFuZFBhcmFtcywge30pO1xuICB9O1xuICBpZiAoXCJaSVBQRURfR0VPX1RJRkZfUEVSX0JBTkRcIiA9PT0gcGFyYW1zLmZvcm1hdCAmJiBwYXJhbXMuYmFuZHMgJiYgcGFyYW1zLmJhbmRzLmxlbmd0aCkge1xuICAgIHZhciBpbWFnZXMgPSBwYXJhbXMuYmFuZHMubWFwKGJ1aWxkSW1hZ2VQZXJCYW5kKTtcbiAgICBpbWFnZSA9IGltYWdlcy5yZWR1Y2UoZnVuY3Rpb24ocmVzdWx0LCBiYW5kSW1hZ2UpIHtcbiAgICAgIHJldHVybiBlZS5BcGlGdW5jdGlvbi5fY2FsbChcIkltYWdlLmFkZEJhbmRzXCIsIHJlc3VsdCwgYmFuZEltYWdlLCBudWxsLCAhMCk7XG4gICAgfSwgaW1hZ2VzLnNoaWZ0KCkpO1xuICB9IGVsc2Uge1xuICAgIHZhciBjb3B5UGFyYW1zID0gZXh0cmFjdEFuZFZhbGlkYXRlVHJhbnNmb3JtcyhwYXJhbXMpO1xuICAgIGltYWdlID0gZWUuZGF0YS5pbWFnZXMuYXBwbHlDcnNBbmRUcmFuc2Zvcm0oaW1hZ2UsIGNvcHlQYXJhbXMpO1xuICAgIGltYWdlID0gZWUuZGF0YS5pbWFnZXMuYXBwbHlTZWxlY3Rpb25BbmRTY2FsZShpbWFnZSwgY29weVBhcmFtcywge30pO1xuICB9XG4gIHJldHVybiBpbWFnZTtcbn07XG5lZS5JbWFnZSA9IGZ1bmN0aW9uKG9wdF9hcmdzKSB7XG4gIGlmICghKHRoaXMgaW5zdGFuY2VvZiBlZS5JbWFnZSkpIHtcbiAgICByZXR1cm4gZWUuQ29tcHV0ZWRPYmplY3QuY29uc3RydWN0KGVlLkltYWdlLCBhcmd1bWVudHMpO1xuICB9XG4gIGlmIChvcHRfYXJncyBpbnN0YW5jZW9mIGVlLkltYWdlKSB7XG4gICAgcmV0dXJuIG9wdF9hcmdzO1xuICB9XG4gIGVlLkltYWdlLmluaXRpYWxpemUoKTtcbiAgdmFyIGFyZ0NvdW50ID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgaWYgKDAgPT0gYXJnQ291bnQgfHwgMSA9PSBhcmdDb3VudCAmJiB2b2lkIDAgPT09IG9wdF9hcmdzKSB7XG4gICAgZWUuRWxlbWVudC5jYWxsKHRoaXMsIG5ldyBlZS5BcGlGdW5jdGlvbihcIkltYWdlLm1hc2tcIiksIHtpbWFnZTpuZXcgZWUuSW1hZ2UoMCksIG1hc2s6bmV3IGVlLkltYWdlKDApfSk7XG4gIH0gZWxzZSBpZiAoMSA9PSBhcmdDb3VudCkge1xuICAgIGlmIChlZS5UeXBlcy5pc051bWJlcihvcHRfYXJncykpIHtcbiAgICAgIGVlLkVsZW1lbnQuY2FsbCh0aGlzLCBuZXcgZWUuQXBpRnVuY3Rpb24oXCJJbWFnZS5jb25zdGFudFwiKSwge3ZhbHVlOm9wdF9hcmdzfSk7XG4gICAgfSBlbHNlIGlmIChlZS5UeXBlcy5pc1N0cmluZyhvcHRfYXJncykpIHtcbiAgICAgIGVlLkVsZW1lbnQuY2FsbCh0aGlzLCBuZXcgZWUuQXBpRnVuY3Rpb24oXCJJbWFnZS5sb2FkXCIpLCB7aWQ6b3B0X2FyZ3N9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKEFycmF5LmlzQXJyYXkob3B0X2FyZ3MpKSB7XG4gICAgICAgIHJldHVybiBlZS5JbWFnZS5jb21iaW5lXyhtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9tYXAob3B0X2FyZ3MsIGZ1bmN0aW9uKGVsZW0pIHtcbiAgICAgICAgICByZXR1cm4gbmV3IGVlLkltYWdlKGVsZW0pO1xuICAgICAgICB9KSk7XG4gICAgICB9XG4gICAgICBpZiAob3B0X2FyZ3MgaW5zdGFuY2VvZiBlZS5Db21wdXRlZE9iamVjdCkge1xuICAgICAgICBcIkFycmF5XCIgPT0gb3B0X2FyZ3MubmFtZSgpID8gZWUuRWxlbWVudC5jYWxsKHRoaXMsIG5ldyBlZS5BcGlGdW5jdGlvbihcIkltYWdlLmNvbnN0YW50XCIpLCB7dmFsdWU6b3B0X2FyZ3N9KSA6IGVlLkVsZW1lbnQuY2FsbCh0aGlzLCBvcHRfYXJncy5mdW5jLCBvcHRfYXJncy5hcmdzLCBvcHRfYXJncy52YXJOYW1lKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IEVycm9yKFwiVW5yZWNvZ25pemVkIGFyZ3VtZW50IHR5cGUgdG8gY29udmVydCB0byBhbiBJbWFnZTogXCIgKyBvcHRfYXJncyk7XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2UgaWYgKDIgPT0gYXJnQ291bnQpIHtcbiAgICB2YXIgaWQgPSBhcmd1bWVudHNbMF0sIHZlcnNpb24gPSBhcmd1bWVudHNbMV07XG4gICAgaWYgKGVlLlR5cGVzLmlzU3RyaW5nKGlkKSAmJiBlZS5UeXBlcy5pc051bWJlcih2ZXJzaW9uKSkge1xuICAgICAgZWUuRWxlbWVudC5jYWxsKHRoaXMsIG5ldyBlZS5BcGlGdW5jdGlvbihcIkltYWdlLmxvYWRcIiksIHtpZDppZCwgdmVyc2lvbjp2ZXJzaW9ufSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IEVycm9yKFwiVW5yZWNvZ25pemVkIGFyZ3VtZW50IHR5cGVzIHRvIGNvbnZlcnQgdG8gYW4gSW1hZ2U6IFwiICsgYXJndW1lbnRzKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgdGhyb3cgRXJyb3IoXCJUaGUgSW1hZ2UgY29uc3RydWN0b3IgdGFrZXMgYXQgbW9zdCAyIGFyZ3VtZW50cyAoXCIgKyBhcmdDb3VudCArIFwiIGdpdmVuKVwiKTtcbiAgfVxufTtcbmdvb2cuaW5oZXJpdHMoZWUuSW1hZ2UsIGVlLkVsZW1lbnQpO1xuZ29vZy5leHBvcnRTeW1ib2woXCJlZS5JbWFnZVwiLCBlZS5JbWFnZSk7XG5lZS5JbWFnZS5pbml0aWFsaXplZF8gPSAhMTtcbmVlLkltYWdlLmluaXRpYWxpemUgPSBmdW5jdGlvbigpIHtcbiAgZWUuSW1hZ2UuaW5pdGlhbGl6ZWRfIHx8IChlZS5BcGlGdW5jdGlvbi5pbXBvcnRBcGkoZWUuSW1hZ2UsIFwiSW1hZ2VcIiwgXCJJbWFnZVwiKSwgZWUuSW1hZ2UuaW5pdGlhbGl6ZWRfID0gITApO1xufTtcbmVlLkltYWdlLnJlc2V0ID0gZnVuY3Rpb24oKSB7XG4gIGVlLkFwaUZ1bmN0aW9uLmNsZWFyQXBpKGVlLkltYWdlKTtcbiAgZWUuSW1hZ2UuaW5pdGlhbGl6ZWRfID0gITE7XG59O1xuZWUuSW1hZ2UucHJvdG90eXBlLmdldEluZm8gPSBmdW5jdGlvbihvcHRfY2FsbGJhY2spIHtcbiAgcmV0dXJuIGVlLkltYWdlLnN1cGVyQ2xhc3NfLmdldEluZm8uY2FsbCh0aGlzLCBvcHRfY2FsbGJhY2spO1xufTtcbmdvb2cuZXhwb3J0UHJvcGVydHkoZWUuSW1hZ2UucHJvdG90eXBlLCBcImdldEluZm9cIiwgZWUuSW1hZ2UucHJvdG90eXBlLmdldEluZm8pO1xuZWUuSW1hZ2UucHJvdG90eXBlLmdldE1hcCA9IGZ1bmN0aW9uKG9wdF92aXNQYXJhbXMsIG9wdF9jYWxsYmFjaykge1xuICB2YXIgJGpzY29tcCR0aGlzID0gdGhpcywgYXJncyA9IGVlLmFyZ3VtZW50cy5leHRyYWN0RnJvbUZ1bmN0aW9uKGVlLkltYWdlLnByb3RvdHlwZS5nZXRNYXAsIGFyZ3VtZW50cyksIHJlcXVlc3QgPSBlZS5kYXRhLmltYWdlcy5hcHBseVZpc3VhbGl6YXRpb24odGhpcywgYXJncy52aXNQYXJhbXMpO1xuICBpZiAoYXJncy5jYWxsYmFjaykge1xuICAgIHZhciBjYWxsYmFjayA9IGFyZ3MuY2FsbGJhY2s7XG4gICAgZWUuZGF0YS5nZXRNYXBJZChyZXF1ZXN0LCBmdW5jdGlvbihkYXRhLCBlcnJvcikge1xuICAgICAgdmFyIG1hcElkID0gZGF0YSA/IE9iamVjdC5hc3NpZ24oZGF0YSwge2ltYWdlOiRqc2NvbXAkdGhpc30pIDogdm9pZCAwO1xuICAgICAgY2FsbGJhY2sobWFwSWQsIGVycm9yKTtcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgcmVzcG9uc2UgPSBlZS5kYXRhLmdldE1hcElkKHJlcXVlc3QpO1xuICAgIHJlc3BvbnNlLmltYWdlID0gdGhpcztcbiAgICByZXR1cm4gcmVzcG9uc2U7XG4gIH1cbn07XG5nb29nLmV4cG9ydFByb3BlcnR5KGVlLkltYWdlLnByb3RvdHlwZSwgXCJnZXRNYXBcIiwgZWUuSW1hZ2UucHJvdG90eXBlLmdldE1hcCk7XG5lZS5JbWFnZS5wcm90b3R5cGUuZ2V0RG93bmxvYWRVUkwgPSBmdW5jdGlvbihwYXJhbXMsIG9wdF9jYWxsYmFjaykge1xuICB2YXIgYXJncyA9IGVlLmFyZ3VtZW50cy5leHRyYWN0RnJvbUZ1bmN0aW9uKGVlLkltYWdlLnByb3RvdHlwZS5nZXREb3dubG9hZFVSTCwgYXJndW1lbnRzKSwgcmVxdWVzdCA9IGFyZ3MucGFyYW1zID8gbW9kdWxlJGNvbnRlbnRzJGdvb2ckb2JqZWN0X2Nsb25lKGFyZ3MucGFyYW1zKSA6IHt9O1xuICByZXF1ZXN0LmltYWdlID0gdGhpcztcbiAgaWYgKGFyZ3MuY2FsbGJhY2spIHtcbiAgICB2YXIgY2FsbGJhY2sgPSBhcmdzLmNhbGxiYWNrO1xuICAgIGVlLmRhdGEuZ2V0RG93bmxvYWRJZChyZXF1ZXN0LCBmdW5jdGlvbihkb3dubG9hZElkLCBlcnJvcikge1xuICAgICAgZG93bmxvYWRJZCA/IGNhbGxiYWNrKGVlLmRhdGEubWFrZURvd25sb2FkVXJsKGRvd25sb2FkSWQpKSA6IGNhbGxiYWNrKG51bGwsIGVycm9yKTtcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gZWUuZGF0YS5tYWtlRG93bmxvYWRVcmwoZWUuZGF0YS5nZXREb3dubG9hZElkKHJlcXVlc3QpKTtcbiAgfVxufTtcbmdvb2cuZXhwb3J0UHJvcGVydHkoZWUuSW1hZ2UucHJvdG90eXBlLCBcImdldERvd25sb2FkVVJMXCIsIGVlLkltYWdlLnByb3RvdHlwZS5nZXREb3dubG9hZFVSTCk7XG5lZS5JbWFnZS5wcm90b3R5cGUuZ2V0VGh1bWJJZCA9IGZ1bmN0aW9uKHBhcmFtcywgb3B0X2NhbGxiYWNrKSB7XG4gIHZhciBhcmdzID0gZWUuYXJndW1lbnRzLmV4dHJhY3RGcm9tRnVuY3Rpb24oZWUuSW1hZ2UucHJvdG90eXBlLmdldERvd25sb2FkVVJMLCBhcmd1bWVudHMpLCByZXF1ZXN0ID0gYXJncy5wYXJhbXMgPyBtb2R1bGUkY29udGVudHMkZ29vZyRvYmplY3RfY2xvbmUoYXJncy5wYXJhbXMpIDoge30sIGV4dHJhID0ge30sIGltYWdlID0gZWUuZGF0YS5pbWFnZXMuYXBwbHlDcnNBbmRUcmFuc2Zvcm0odGhpcywgcmVxdWVzdCk7XG4gIGltYWdlID0gZWUuZGF0YS5pbWFnZXMuYXBwbHlTZWxlY3Rpb25BbmRTY2FsZShpbWFnZSwgcmVxdWVzdCwgZXh0cmEpO1xuICByZXF1ZXN0ID0gZWUuZGF0YS5pbWFnZXMuYXBwbHlWaXN1YWxpemF0aW9uKGltYWdlLCBleHRyYSk7XG4gIHJldHVybiBhcmdzLmNhbGxiYWNrID8gKGVlLmRhdGEuZ2V0VGh1bWJJZChyZXF1ZXN0LCBhcmdzLmNhbGxiYWNrKSwgbnVsbCkgOiBlZS5kYXRhLmdldFRodW1iSWQocmVxdWVzdCk7XG59O1xuZ29vZy5leHBvcnRQcm9wZXJ0eShlZS5JbWFnZS5wcm90b3R5cGUsIFwiZ2V0VGh1bWJJZFwiLCBlZS5JbWFnZS5wcm90b3R5cGUuZ2V0VGh1bWJJZCk7XG5lZS5JbWFnZS5wcm90b3R5cGUuZ2V0VGh1bWJVUkwgPSBmdW5jdGlvbihwYXJhbXMsIG9wdF9jYWxsYmFjaykge1xuICB2YXIgYXJncyA9IGVlLmFyZ3VtZW50cy5leHRyYWN0RnJvbUZ1bmN0aW9uKGVlLkltYWdlLnByb3RvdHlwZS5nZXRUaHVtYlVSTCwgYXJndW1lbnRzKTtcbiAgaWYgKGFyZ3MuY2FsbGJhY2spIHtcbiAgICB0aGlzLmdldFRodW1iSWQoYXJncy5wYXJhbXMsIGZ1bmN0aW9uKHRodW1iSWQsIG9wdF9lcnJvcikge1xuICAgICAgdmFyIHRodW1iVXJsID0gXCJcIjtcbiAgICAgIGlmICh2b2lkIDAgPT09IG9wdF9lcnJvcikge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHRodW1iVXJsID0gZWUuZGF0YS5tYWtlVGh1bWJVcmwodGh1bWJJZCk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICBvcHRfZXJyb3IgPSBTdHJpbmcoZS5tZXNzYWdlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgYXJncy5jYWxsYmFjayh0aHVtYlVybCwgb3B0X2Vycm9yKTtcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gZWUuZGF0YS5tYWtlVGh1bWJVcmwodGhpcy5nZXRUaHVtYklkKGFyZ3MucGFyYW1zKSk7XG4gIH1cbn07XG5nb29nLmV4cG9ydFByb3BlcnR5KGVlLkltYWdlLnByb3RvdHlwZSwgXCJnZXRUaHVtYlVSTFwiLCBlZS5JbWFnZS5wcm90b3R5cGUuZ2V0VGh1bWJVUkwpO1xuZWUuSW1hZ2UucmdiID0gZnVuY3Rpb24ociwgZywgYikge1xuICB2YXIgYXJncyA9IGVlLmFyZ3VtZW50cy5leHRyYWN0RnJvbUZ1bmN0aW9uKGVlLkltYWdlLnJnYiwgYXJndW1lbnRzKTtcbiAgcmV0dXJuIGVlLkltYWdlLmNvbWJpbmVfKFthcmdzLnIsIGFyZ3MuZywgYXJncy5iXSwgW1widmlzLXJlZFwiLCBcInZpcy1ncmVlblwiLCBcInZpcy1ibHVlXCJdKTtcbn07XG5nb29nLmV4cG9ydFByb3BlcnR5KGVlLkltYWdlLCBcInJnYlwiLCBlZS5JbWFnZS5yZ2IpO1xuZWUuSW1hZ2UuY2F0ID0gZnVuY3Rpb24odmFyX2FyZ3MpIHtcbiAgdmFyIGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpO1xuICByZXR1cm4gZWUuSW1hZ2UuY29tYmluZV8oYXJncywgbnVsbCk7XG59O1xuZ29vZy5leHBvcnRQcm9wZXJ0eShlZS5JbWFnZSwgXCJjYXRcIiwgZWUuSW1hZ2UuY2F0KTtcbmVlLkltYWdlLmNvbWJpbmVfID0gZnVuY3Rpb24oaW1hZ2VzLCBvcHRfbmFtZXMpIHtcbiAgaWYgKDAgPT0gaW1hZ2VzLmxlbmd0aCkge1xuICAgIHJldHVybiBlZS5BcGlGdW5jdGlvbi5fY2FsbChcIkltYWdlLmNvbnN0YW50XCIsIFtdKTtcbiAgfVxuICBmb3IgKHZhciByZXN1bHQgPSBuZXcgZWUuSW1hZ2UoaW1hZ2VzWzBdKSwgaSA9IDE7IGkgPCBpbWFnZXMubGVuZ3RoOyBpKyspIHtcbiAgICByZXN1bHQgPSBlZS5BcGlGdW5jdGlvbi5fY2FsbChcIkltYWdlLmFkZEJhbmRzXCIsIHJlc3VsdCwgaW1hZ2VzW2ldKTtcbiAgfVxuICBvcHRfbmFtZXMgJiYgKHJlc3VsdCA9IHJlc3VsdC5zZWxlY3QoW1wiLipcIl0sIG9wdF9uYW1lcykpO1xuICByZXR1cm4gcmVzdWx0O1xufTtcbmVlLkltYWdlLnByb3RvdHlwZS5zZWxlY3QgPSBmdW5jdGlvbih2YXJfYXJncykge1xuICB2YXIgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyksIGFsZ29yaXRobUFyZ3MgPSB7aW5wdXQ6dGhpcywgYmFuZFNlbGVjdG9yczphcmdzWzBdIHx8IFtdfTtcbiAgaWYgKDIgPCBhcmdzLmxlbmd0aCB8fCBlZS5UeXBlcy5pc1N0cmluZyhhcmdzWzBdKSB8fCBlZS5UeXBlcy5pc051bWJlcihhcmdzWzBdKSkge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJncy5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKCEoZWUuVHlwZXMuaXNTdHJpbmcoYXJnc1tpXSkgfHwgZWUuVHlwZXMuaXNOdW1iZXIoYXJnc1tpXSkgfHwgYXJnc1tpXSBpbnN0YW5jZW9mIGVlLkNvbXB1dGVkT2JqZWN0KSkge1xuICAgICAgICB0aHJvdyBFcnJvcihcIklsbGVnYWwgYXJndW1lbnQgdG8gc2VsZWN0KCk6IFwiICsgYXJnc1tpXSk7XG4gICAgICB9XG4gICAgfVxuICAgIGFsZ29yaXRobUFyZ3MuYmFuZFNlbGVjdG9ycyA9IGFyZ3M7XG4gIH0gZWxzZSB7XG4gICAgYXJnc1sxXSAmJiAoYWxnb3JpdGhtQXJncy5uZXdOYW1lcyA9IGFyZ3NbMV0pO1xuICB9XG4gIHJldHVybiBlZS5BcGlGdW5jdGlvbi5fYXBwbHkoXCJJbWFnZS5zZWxlY3RcIiwgYWxnb3JpdGhtQXJncyk7XG59O1xuZ29vZy5leHBvcnRQcm9wZXJ0eShlZS5JbWFnZS5wcm90b3R5cGUsIFwic2VsZWN0XCIsIGVlLkltYWdlLnByb3RvdHlwZS5zZWxlY3QpO1xuZWUuSW1hZ2UucHJvdG90eXBlLmV4cHJlc3Npb24gPSBmdW5jdGlvbihleHByZXNzaW9uLCBvcHRfbWFwKSB7XG4gIHZhciBvcmlnaW5hbEFyZ3MgPSBlZS5hcmd1bWVudHMuZXh0cmFjdEZyb21GdW5jdGlvbihlZS5JbWFnZS5wcm90b3R5cGUuZXhwcmVzc2lvbiwgYXJndW1lbnRzKSwgdmFycyA9IFtcIkRFRkFVTFRfRVhQUkVTU0lPTl9JTUFHRVwiXSwgZWVBcmdzID0ge0RFRkFVTFRfRVhQUkVTU0lPTl9JTUFHRTp0aGlzfTtcbiAgaWYgKG9yaWdpbmFsQXJncy5tYXApIHtcbiAgICB2YXIgbWFwID0gb3JpZ2luYWxBcmdzLm1hcCwgbmFtZSRqc2NvbXAkMDtcbiAgICBmb3IgKG5hbWUkanNjb21wJDAgaW4gbWFwKSB7XG4gICAgICB2YXJzLnB1c2gobmFtZSRqc2NvbXAkMCksIGVlQXJnc1tuYW1lJGpzY29tcCQwXSA9IG5ldyBlZS5JbWFnZShtYXBbbmFtZSRqc2NvbXAkMF0pO1xuICAgIH1cbiAgfVxuICB2YXIgYm9keSA9IGVlLkFwaUZ1bmN0aW9uLl9jYWxsKFwiSW1hZ2UucGFyc2VFeHByZXNzaW9uXCIsIG9yaWdpbmFsQXJncy5leHByZXNzaW9uLCBcIkRFRkFVTFRfRVhQUkVTU0lPTl9JTUFHRVwiLCB2YXJzKSwgZnVuYyA9IG5ldyBlZS5GdW5jdGlvbigpO1xuICBmdW5jLmVuY29kZSA9IGZ1bmN0aW9uKGVuY29kZXIpIHtcbiAgICByZXR1cm4gYm9keS5lbmNvZGUoZW5jb2Rlcik7XG4gIH07XG4gIGZ1bmMuZW5jb2RlQ2xvdWRJbnZvY2F0aW9uID0gZnVuY3Rpb24oc2VyaWFsaXplciwgYXJncykge1xuICAgIHJldHVybiBlZS5ycGNfbm9kZS5mdW5jdGlvbkJ5UmVmZXJlbmNlKHNlcmlhbGl6ZXIubWFrZVJlZmVyZW5jZShib2R5KSwgYXJncyk7XG4gIH07XG4gIGZ1bmMuZ2V0U2lnbmF0dXJlID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHtuYW1lOlwiXCIsIGFyZ3M6bW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfbWFwKHZhcnMsIGZ1bmN0aW9uKG5hbWUpIHtcbiAgICAgIHJldHVybiB7bmFtZTpuYW1lLCB0eXBlOlwiSW1hZ2VcIiwgb3B0aW9uYWw6ITF9O1xuICAgIH0sIHRoaXMpLCByZXR1cm5zOlwiSW1hZ2VcIn07XG4gIH07XG4gIHJldHVybiBmdW5jLmFwcGx5KGVlQXJncyk7XG59O1xuZ29vZy5leHBvcnRQcm9wZXJ0eShlZS5JbWFnZS5wcm90b3R5cGUsIFwiZXhwcmVzc2lvblwiLCBlZS5JbWFnZS5wcm90b3R5cGUuZXhwcmVzc2lvbik7XG5lZS5JbWFnZS5wcm90b3R5cGUuY2xpcCA9IGZ1bmN0aW9uKGdlb21ldHJ5KSB7XG4gIHRyeSB7XG4gICAgZ2VvbWV0cnkgPSBuZXcgZWUuR2VvbWV0cnkoZ2VvbWV0cnkpO1xuICB9IGNhdGNoIChlKSB7XG4gIH1cbiAgcmV0dXJuIGVlLkFwaUZ1bmN0aW9uLl9jYWxsKFwiSW1hZ2UuY2xpcFwiLCB0aGlzLCBnZW9tZXRyeSk7XG59O1xuZ29vZy5leHBvcnRQcm9wZXJ0eShlZS5JbWFnZS5wcm90b3R5cGUsIFwiY2xpcFwiLCBlZS5JbWFnZS5wcm90b3R5cGUuY2xpcCk7XG5lZS5JbWFnZS5wcm90b3R5cGUucmVuYW1lID0gZnVuY3Rpb24odmFyX2FyZ3MpIHtcbiAgdmFyIG5hbWVzID0gMSAhPSBhcmd1bWVudHMubGVuZ3RoIHx8IGVlLlR5cGVzLmlzU3RyaW5nKGFyZ3VtZW50c1swXSkgPyBBcnJheS5mcm9tKGFyZ3VtZW50cykgOiBhcmd1bWVudHNbMF07XG4gIHJldHVybiBlZS5BcGlGdW5jdGlvbi5fY2FsbChcIkltYWdlLnJlbmFtZVwiLCB0aGlzLCBuYW1lcyk7XG59O1xuZ29vZy5leHBvcnRQcm9wZXJ0eShlZS5JbWFnZS5wcm90b3R5cGUsIFwicmVuYW1lXCIsIGVlLkltYWdlLnByb3RvdHlwZS5yZW5hbWUpO1xuZWUuSW1hZ2UucHJvdG90eXBlLm5hbWUgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIFwiSW1hZ2VcIjtcbn07XG5lZS5MaXN0ID0gZnVuY3Rpb24obGlzdCkge1xuICBpZiAodGhpcyBpbnN0YW5jZW9mIGVlLkxpc3QpIHtcbiAgICBpZiAoMSA8IGFyZ3VtZW50cy5sZW5ndGgpIHtcbiAgICAgIHRocm93IEVycm9yKFwiZWUuTGlzdCgpIG9ubHkgYWNjZXB0cyAxIGFyZ3VtZW50LlwiKTtcbiAgICB9XG4gICAgaWYgKGxpc3QgaW5zdGFuY2VvZiBlZS5MaXN0KSB7XG4gICAgICByZXR1cm4gbGlzdDtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGVlLkNvbXB1dGVkT2JqZWN0LmNvbnN0cnVjdChlZS5MaXN0LCBhcmd1bWVudHMpO1xuICB9XG4gIGVlLkxpc3QuaW5pdGlhbGl6ZSgpO1xuICBpZiAoQXJyYXkuaXNBcnJheShsaXN0KSkge1xuICAgIGVlLkNvbXB1dGVkT2JqZWN0LmNhbGwodGhpcywgbnVsbCwgbnVsbCksIHRoaXMubGlzdF8gPSBsaXN0O1xuICB9IGVsc2UgaWYgKGxpc3QgaW5zdGFuY2VvZiBlZS5Db21wdXRlZE9iamVjdCkge1xuICAgIGVlLkNvbXB1dGVkT2JqZWN0LmNhbGwodGhpcywgbGlzdC5mdW5jLCBsaXN0LmFyZ3MsIGxpc3QudmFyTmFtZSksIHRoaXMubGlzdF8gPSBudWxsO1xuICB9IGVsc2Uge1xuICAgIHRocm93IEVycm9yKFwiSW52YWxpZCBhcmd1bWVudCBzcGVjaWZpZWQgZm9yIGVlLkxpc3QoKTogXCIgKyBsaXN0KTtcbiAgfVxufTtcbmdvb2cuaW5oZXJpdHMoZWUuTGlzdCwgZWUuQ29tcHV0ZWRPYmplY3QpO1xuZ29vZy5leHBvcnRTeW1ib2woXCJlZS5MaXN0XCIsIGVlLkxpc3QpO1xuZWUuTGlzdC5pbml0aWFsaXplZF8gPSAhMTtcbmVlLkxpc3QuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uKCkge1xuICBlZS5MaXN0LmluaXRpYWxpemVkXyB8fCAoZWUuQXBpRnVuY3Rpb24uaW1wb3J0QXBpKGVlLkxpc3QsIFwiTGlzdFwiLCBcIkxpc3RcIiksIGVlLkxpc3QuaW5pdGlhbGl6ZWRfID0gITApO1xufTtcbmVlLkxpc3QucmVzZXQgPSBmdW5jdGlvbigpIHtcbiAgZWUuQXBpRnVuY3Rpb24uY2xlYXJBcGkoZWUuTGlzdCk7XG4gIGVlLkxpc3QuaW5pdGlhbGl6ZWRfID0gITE7XG59O1xuZWUuTGlzdC5wcm90b3R5cGUuZW5jb2RlID0gZnVuY3Rpb24oZW5jb2Rlcikge1xuICByZXR1cm4gQXJyYXkuaXNBcnJheSh0aGlzLmxpc3RfKSA/IG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X21hcCh0aGlzLmxpc3RfLCBmdW5jdGlvbihlbGVtKSB7XG4gICAgcmV0dXJuIGVuY29kZXIoZWxlbSk7XG4gIH0pIDogZWUuTGlzdC5zdXBlckNsYXNzXy5lbmNvZGUuY2FsbCh0aGlzLCBlbmNvZGVyKTtcbn07XG5lZS5MaXN0LnByb3RvdHlwZS5lbmNvZGVDbG91ZFZhbHVlID0gZnVuY3Rpb24oc2VyaWFsaXplcikge1xuICByZXR1cm4gQXJyYXkuaXNBcnJheSh0aGlzLmxpc3RfKSA/IGVlLnJwY19ub2RlLnJlZmVyZW5jZShzZXJpYWxpemVyLm1ha2VSZWZlcmVuY2UodGhpcy5saXN0XykpIDogZWUuTGlzdC5zdXBlckNsYXNzXy5lbmNvZGVDbG91ZFZhbHVlLmNhbGwodGhpcywgc2VyaWFsaXplcik7XG59O1xuZWUuTGlzdC5wcm90b3R5cGUubmFtZSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gXCJMaXN0XCI7XG59O1xuZWUuRmVhdHVyZUNvbGxlY3Rpb24gPSBmdW5jdGlvbihhcmdzLCBvcHRfY29sdW1uKSB7XG4gIGlmICghKHRoaXMgaW5zdGFuY2VvZiBlZS5GZWF0dXJlQ29sbGVjdGlvbikpIHtcbiAgICByZXR1cm4gZWUuQ29tcHV0ZWRPYmplY3QuY29uc3RydWN0KGVlLkZlYXR1cmVDb2xsZWN0aW9uLCBhcmd1bWVudHMpO1xuICB9XG4gIGlmIChhcmdzIGluc3RhbmNlb2YgZWUuRmVhdHVyZUNvbGxlY3Rpb24pIHtcbiAgICByZXR1cm4gYXJncztcbiAgfVxuICBpZiAoMiA8IGFyZ3VtZW50cy5sZW5ndGgpIHtcbiAgICB0aHJvdyBFcnJvcihcIlRoZSBGZWF0dXJlQ29sbGVjdGlvbiBjb25zdHJ1Y3RvciB0YWtlcyBhdCBtb3N0IDIgYXJndW1lbnRzIChcIiArIGFyZ3VtZW50cy5sZW5ndGggKyBcIiBnaXZlbilcIik7XG4gIH1cbiAgZWUuRmVhdHVyZUNvbGxlY3Rpb24uaW5pdGlhbGl6ZSgpO1xuICBhcmdzIGluc3RhbmNlb2YgZWUuR2VvbWV0cnkgJiYgKGFyZ3MgPSBuZXcgZWUuRmVhdHVyZShhcmdzKSk7XG4gIGFyZ3MgaW5zdGFuY2VvZiBlZS5GZWF0dXJlICYmIChhcmdzID0gW2FyZ3NdKTtcbiAgaWYgKGVlLlR5cGVzLmlzU3RyaW5nKGFyZ3MpKSB7XG4gICAgdmFyIGFjdHVhbEFyZ3MgPSB7dGFibGVJZDphcmdzfTtcbiAgICBvcHRfY29sdW1uICYmIChhY3R1YWxBcmdzLmdlb21ldHJ5Q29sdW1uID0gb3B0X2NvbHVtbik7XG4gICAgZWUuQ29sbGVjdGlvbi5jYWxsKHRoaXMsIG5ldyBlZS5BcGlGdW5jdGlvbihcIkNvbGxlY3Rpb24ubG9hZFRhYmxlXCIpLCBhY3R1YWxBcmdzKTtcbiAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KGFyZ3MpKSB7XG4gICAgZWUuQ29sbGVjdGlvbi5jYWxsKHRoaXMsIG5ldyBlZS5BcGlGdW5jdGlvbihcIkNvbGxlY3Rpb25cIiksIHtmZWF0dXJlczptb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9tYXAoYXJncywgZnVuY3Rpb24oZWxlbSkge1xuICAgICAgcmV0dXJuIG5ldyBlZS5GZWF0dXJlKGVsZW0pO1xuICAgIH0pfSk7XG4gIH0gZWxzZSBpZiAoYXJncyBpbnN0YW5jZW9mIGVlLkxpc3QpIHtcbiAgICBlZS5Db2xsZWN0aW9uLmNhbGwodGhpcywgbmV3IGVlLkFwaUZ1bmN0aW9uKFwiQ29sbGVjdGlvblwiKSwge2ZlYXR1cmVzOmFyZ3N9KTtcbiAgfSBlbHNlIGlmIChhcmdzICYmIFwib2JqZWN0XCIgPT09IHR5cGVvZiBhcmdzICYmIFwiRmVhdHVyZUNvbGxlY3Rpb25cIiA9PT0gYXJncy50eXBlKSB7XG4gICAgZWUuQ29sbGVjdGlvbi5jYWxsKHRoaXMsIG5ldyBlZS5BcGlGdW5jdGlvbihcIkNvbGxlY3Rpb25cIiksIHtmZWF0dXJlczphcmdzLmZlYXR1cmVzLm1hcChmdW5jdGlvbihmKSB7XG4gICAgICByZXR1cm4gbmV3IGVlLkZlYXR1cmUoZik7XG4gICAgfSl9KTtcbiAgfSBlbHNlIGlmIChhcmdzIGluc3RhbmNlb2YgZWUuQ29tcHV0ZWRPYmplY3QpIHtcbiAgICBlZS5Db2xsZWN0aW9uLmNhbGwodGhpcywgYXJncy5mdW5jLCBhcmdzLmFyZ3MsIGFyZ3MudmFyTmFtZSk7XG4gIH0gZWxzZSB7XG4gICAgdGhyb3cgRXJyb3IoXCJVbnJlY29nbml6ZWQgYXJndW1lbnQgdHlwZSB0byBjb252ZXJ0IHRvIGEgRmVhdHVyZUNvbGxlY3Rpb246IFwiICsgYXJncyk7XG4gIH1cbn07XG5nb29nLmluaGVyaXRzKGVlLkZlYXR1cmVDb2xsZWN0aW9uLCBlZS5Db2xsZWN0aW9uKTtcbmdvb2cuZXhwb3J0U3ltYm9sKFwiZWUuRmVhdHVyZUNvbGxlY3Rpb25cIiwgZWUuRmVhdHVyZUNvbGxlY3Rpb24pO1xuZWUuRmVhdHVyZUNvbGxlY3Rpb24uaW5pdGlhbGl6ZWRfID0gITE7XG5lZS5GZWF0dXJlQ29sbGVjdGlvbi5pbml0aWFsaXplID0gZnVuY3Rpb24oKSB7XG4gIGVlLkZlYXR1cmVDb2xsZWN0aW9uLmluaXRpYWxpemVkXyB8fCAoZWUuQXBpRnVuY3Rpb24uaW1wb3J0QXBpKGVlLkZlYXR1cmVDb2xsZWN0aW9uLCBcIkZlYXR1cmVDb2xsZWN0aW9uXCIsIFwiRmVhdHVyZUNvbGxlY3Rpb25cIiksIGVlLkZlYXR1cmVDb2xsZWN0aW9uLmluaXRpYWxpemVkXyA9ICEwKTtcbn07XG5lZS5GZWF0dXJlQ29sbGVjdGlvbi5yZXNldCA9IGZ1bmN0aW9uKCkge1xuICBlZS5BcGlGdW5jdGlvbi5jbGVhckFwaShlZS5GZWF0dXJlQ29sbGVjdGlvbik7XG4gIGVlLkZlYXR1cmVDb2xsZWN0aW9uLmluaXRpYWxpemVkXyA9ICExO1xufTtcbmVlLkZlYXR1cmVDb2xsZWN0aW9uLnByb3RvdHlwZS5nZXRNYXAgPSBmdW5jdGlvbihvcHRfdmlzUGFyYW1zLCBvcHRfY2FsbGJhY2spIHtcbiAgdmFyIGFyZ3MgPSBlZS5hcmd1bWVudHMuZXh0cmFjdEZyb21GdW5jdGlvbihlZS5GZWF0dXJlQ29sbGVjdGlvbi5wcm90b3R5cGUuZ2V0TWFwLCBhcmd1bWVudHMpLCBwYWludGVkID0gZWUuQXBpRnVuY3Rpb24uX2FwcGx5KFwiQ29sbGVjdGlvbi5kcmF3XCIsIHtjb2xsZWN0aW9uOnRoaXMsIGNvbG9yOihhcmdzLnZpc1BhcmFtcyB8fCB7fSkuY29sb3IgfHwgXCIwMDAwMDBcIn0pO1xuICBpZiAoYXJncy5jYWxsYmFjaykge1xuICAgIHBhaW50ZWQuZ2V0TWFwKHZvaWQgMCwgYXJncy5jYWxsYmFjayk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHBhaW50ZWQuZ2V0TWFwKCk7XG4gIH1cbn07XG5nb29nLmV4cG9ydFByb3BlcnR5KGVlLkZlYXR1cmVDb2xsZWN0aW9uLnByb3RvdHlwZSwgXCJnZXRNYXBcIiwgZWUuRmVhdHVyZUNvbGxlY3Rpb24ucHJvdG90eXBlLmdldE1hcCk7XG5lZS5GZWF0dXJlQ29sbGVjdGlvbi5wcm90b3R5cGUuZ2V0SW5mbyA9IGZ1bmN0aW9uKG9wdF9jYWxsYmFjaykge1xuICByZXR1cm4gZWUuRmVhdHVyZUNvbGxlY3Rpb24uc3VwZXJDbGFzc18uZ2V0SW5mby5jYWxsKHRoaXMsIG9wdF9jYWxsYmFjayk7XG59O1xuZ29vZy5leHBvcnRQcm9wZXJ0eShlZS5GZWF0dXJlQ29sbGVjdGlvbi5wcm90b3R5cGUsIFwiZ2V0SW5mb1wiLCBlZS5GZWF0dXJlQ29sbGVjdGlvbi5wcm90b3R5cGUuZ2V0SW5mbyk7XG5lZS5GZWF0dXJlQ29sbGVjdGlvbi5wcm90b3R5cGUuZ2V0RG93bmxvYWRVUkwgPSBmdW5jdGlvbihvcHRfZm9ybWF0LCBvcHRfc2VsZWN0b3JzLCBvcHRfZmlsZW5hbWUsIG9wdF9jYWxsYmFjaykge1xuICB2YXIgYXJncyA9IGVlLmFyZ3VtZW50cy5leHRyYWN0RnJvbUZ1bmN0aW9uKGVlLkZlYXR1cmVDb2xsZWN0aW9uLnByb3RvdHlwZS5nZXREb3dubG9hZFVSTCwgYXJndW1lbnRzKSwgcmVxdWVzdCA9IHt0YWJsZTp0aGlzfTtcbiAgYXJncy5mb3JtYXQgJiYgKHJlcXVlc3QuZm9ybWF0ID0gYXJncy5mb3JtYXQudG9VcHBlckNhc2UoKSk7XG4gIGFyZ3MuZmlsZW5hbWUgJiYgKHJlcXVlc3QuZmlsZW5hbWUgPSBhcmdzLmZpbGVuYW1lKTtcbiAgYXJncy5zZWxlY3RvcnMgJiYgKHJlcXVlc3Quc2VsZWN0b3JzID0gYXJncy5zZWxlY3RvcnMpO1xuICBpZiAoYXJncy5jYWxsYmFjaykge1xuICAgIGVlLmRhdGEuZ2V0VGFibGVEb3dubG9hZElkKHJlcXVlc3QsIGZ1bmN0aW9uKGRvd25sb2FkSWQsIGVycm9yKSB7XG4gICAgICBkb3dubG9hZElkID8gYXJncy5jYWxsYmFjayhlZS5kYXRhLm1ha2VUYWJsZURvd25sb2FkVXJsKGRvd25sb2FkSWQpKSA6IGFyZ3MuY2FsbGJhY2sobnVsbCwgZXJyb3IpO1xuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBlZS5kYXRhLm1ha2VUYWJsZURvd25sb2FkVXJsKGVlLmRhdGEuZ2V0VGFibGVEb3dubG9hZElkKHJlcXVlc3QpKTtcbiAgfVxufTtcbmdvb2cuZXhwb3J0UHJvcGVydHkoZWUuRmVhdHVyZUNvbGxlY3Rpb24ucHJvdG90eXBlLCBcImdldERvd25sb2FkVVJMXCIsIGVlLkZlYXR1cmVDb2xsZWN0aW9uLnByb3RvdHlwZS5nZXREb3dubG9hZFVSTCk7XG5lZS5GZWF0dXJlQ29sbGVjdGlvbi5wcm90b3R5cGUuc2VsZWN0ID0gZnVuY3Rpb24ocHJvcGVydHlTZWxlY3RvcnMsIG9wdF9uZXdQcm9wZXJ0aWVzLCBvcHRfcmV0YWluR2VvbWV0cnkpIHtcbiAgaWYgKGVlLlR5cGVzLmlzU3RyaW5nKHByb3BlcnR5U2VsZWN0b3JzKSkge1xuICAgIHZhciB2YXJhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKTtcbiAgICByZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24oZmVhdHVyZSkge1xuICAgICAgcmV0dXJuIGZlYXR1cmUuc2VsZWN0KHZhcmFyZ3MpO1xuICAgIH0pO1xuICB9XG4gIHZhciBhcmdzID0gZWUuYXJndW1lbnRzLmV4dHJhY3RGcm9tRnVuY3Rpb24oZWUuRmVhdHVyZUNvbGxlY3Rpb24ucHJvdG90eXBlLnNlbGVjdCwgYXJndW1lbnRzKTtcbiAgcmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uKGZlYXR1cmUpIHtcbiAgICByZXR1cm4gZmVhdHVyZS5zZWxlY3QoYXJncyk7XG4gIH0pO1xufTtcbmdvb2cuZXhwb3J0UHJvcGVydHkoZWUuRmVhdHVyZUNvbGxlY3Rpb24ucHJvdG90eXBlLCBcInNlbGVjdFwiLCBlZS5GZWF0dXJlQ29sbGVjdGlvbi5wcm90b3R5cGUuc2VsZWN0KTtcbmVlLkZlYXR1cmVDb2xsZWN0aW9uLnByb3RvdHlwZS5uYW1lID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBcIkZlYXR1cmVDb2xsZWN0aW9uXCI7XG59O1xuZWUuRmVhdHVyZUNvbGxlY3Rpb24ucHJvdG90eXBlLmVsZW1lbnRUeXBlID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBlZS5GZWF0dXJlO1xufTtcbmVlLkltYWdlQ29sbGVjdGlvbiA9IGZ1bmN0aW9uKGFyZ3MpIHtcbiAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIGVlLkltYWdlQ29sbGVjdGlvbikpIHtcbiAgICByZXR1cm4gZWUuQ29tcHV0ZWRPYmplY3QuY29uc3RydWN0KGVlLkltYWdlQ29sbGVjdGlvbiwgYXJndW1lbnRzKTtcbiAgfVxuICBpZiAoYXJncyBpbnN0YW5jZW9mIGVlLkltYWdlQ29sbGVjdGlvbikge1xuICAgIHJldHVybiBhcmdzO1xuICB9XG4gIGlmICgxICE9IGFyZ3VtZW50cy5sZW5ndGgpIHtcbiAgICB0aHJvdyBFcnJvcihcIlRoZSBJbWFnZUNvbGxlY3Rpb24gY29uc3RydWN0b3IgdGFrZXMgZXhhY3RseSAxIGFyZ3VtZW50IChcIiArIGFyZ3VtZW50cy5sZW5ndGggKyBcIiBnaXZlbilcIik7XG4gIH1cbiAgZWUuSW1hZ2VDb2xsZWN0aW9uLmluaXRpYWxpemUoKTtcbiAgYXJncyBpbnN0YW5jZW9mIGVlLkltYWdlICYmIChhcmdzID0gW2FyZ3NdKTtcbiAgaWYgKGVlLlR5cGVzLmlzU3RyaW5nKGFyZ3MpKSB7XG4gICAgZWUuQ29sbGVjdGlvbi5jYWxsKHRoaXMsIG5ldyBlZS5BcGlGdW5jdGlvbihcIkltYWdlQ29sbGVjdGlvbi5sb2FkXCIpLCB7aWQ6YXJnc30pO1xuICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoYXJncykpIHtcbiAgICBlZS5Db2xsZWN0aW9uLmNhbGwodGhpcywgbmV3IGVlLkFwaUZ1bmN0aW9uKFwiSW1hZ2VDb2xsZWN0aW9uLmZyb21JbWFnZXNcIiksIHtpbWFnZXM6bW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfbWFwKGFyZ3MsIGZ1bmN0aW9uKGVsZW0pIHtcbiAgICAgIHJldHVybiBuZXcgZWUuSW1hZ2UoZWxlbSk7XG4gICAgfSl9KTtcbiAgfSBlbHNlIGlmIChhcmdzIGluc3RhbmNlb2YgZWUuTGlzdCkge1xuICAgIGVlLkNvbGxlY3Rpb24uY2FsbCh0aGlzLCBuZXcgZWUuQXBpRnVuY3Rpb24oXCJJbWFnZUNvbGxlY3Rpb24uZnJvbUltYWdlc1wiKSwge2ltYWdlczphcmdzfSk7XG4gIH0gZWxzZSBpZiAoYXJncyBpbnN0YW5jZW9mIGVlLkNvbXB1dGVkT2JqZWN0KSB7XG4gICAgZWUuQ29sbGVjdGlvbi5jYWxsKHRoaXMsIGFyZ3MuZnVuYywgYXJncy5hcmdzLCBhcmdzLnZhck5hbWUpO1xuICB9IGVsc2Uge1xuICAgIHRocm93IEVycm9yKFwiVW5yZWNvZ25pemVkIGFyZ3VtZW50IHR5cGUgdG8gY29udmVydCB0byBhbiBJbWFnZUNvbGxlY3Rpb246IFwiICsgYXJncyk7XG4gIH1cbn07XG5nb29nLmluaGVyaXRzKGVlLkltYWdlQ29sbGVjdGlvbiwgZWUuQ29sbGVjdGlvbik7XG5nb29nLmV4cG9ydFN5bWJvbChcImVlLkltYWdlQ29sbGVjdGlvblwiLCBlZS5JbWFnZUNvbGxlY3Rpb24pO1xuZWUuSW1hZ2VDb2xsZWN0aW9uLmluaXRpYWxpemVkXyA9ICExO1xuZWUuSW1hZ2VDb2xsZWN0aW9uLmluaXRpYWxpemUgPSBmdW5jdGlvbigpIHtcbiAgZWUuSW1hZ2VDb2xsZWN0aW9uLmluaXRpYWxpemVkXyB8fCAoZWUuQXBpRnVuY3Rpb24uaW1wb3J0QXBpKGVlLkltYWdlQ29sbGVjdGlvbiwgXCJJbWFnZUNvbGxlY3Rpb25cIiwgXCJJbWFnZUNvbGxlY3Rpb25cIiksIGVlLkFwaUZ1bmN0aW9uLmltcG9ydEFwaShlZS5JbWFnZUNvbGxlY3Rpb24sIFwicmVkdWNlXCIsIFwiSW1hZ2VDb2xsZWN0aW9uXCIpLCBlZS5JbWFnZUNvbGxlY3Rpb24uaW5pdGlhbGl6ZWRfID0gITApO1xufTtcbmVlLkltYWdlQ29sbGVjdGlvbi5yZXNldCA9IGZ1bmN0aW9uKCkge1xuICBlZS5BcGlGdW5jdGlvbi5jbGVhckFwaShlZS5JbWFnZUNvbGxlY3Rpb24pO1xuICBlZS5JbWFnZUNvbGxlY3Rpb24uaW5pdGlhbGl6ZWRfID0gITE7XG59O1xuZWUuSW1hZ2VDb2xsZWN0aW9uLnByb3RvdHlwZS5nZXRGaWxtc3RyaXBUaHVtYlVSTCA9IGZ1bmN0aW9uKHBhcmFtcywgb3B0X2NhbGxiYWNrKSB7XG4gIHZhciBhcmdzID0gZWUuYXJndW1lbnRzLmV4dHJhY3RGcm9tRnVuY3Rpb24oZWUuSW1hZ2VDb2xsZWN0aW9uLnByb3RvdHlwZS5nZXRGaWxtc3RyaXBUaHVtYlVSTCwgYXJndW1lbnRzKTtcbiAgcmV0dXJuIGVlLkltYWdlQ29sbGVjdGlvbi5wcm90b3R5cGUuZ2V0VGh1bWJVUkxfKHRoaXMsIGFyZ3MsIFtcInBuZ1wiLCBcImpwZ1wiLCBcImpwZWdcIl0sIGVlLkltYWdlQ29sbGVjdGlvbi5UaHVtYlR5cGVzLkZJTE1TVFJJUCwgb3B0X2NhbGxiYWNrKTtcbn07XG5nb29nLmV4cG9ydFByb3BlcnR5KGVlLkltYWdlQ29sbGVjdGlvbi5wcm90b3R5cGUsIFwiZ2V0RmlsbXN0cmlwVGh1bWJVUkxcIiwgZWUuSW1hZ2VDb2xsZWN0aW9uLnByb3RvdHlwZS5nZXRGaWxtc3RyaXBUaHVtYlVSTCk7XG5lZS5JbWFnZUNvbGxlY3Rpb24ucHJvdG90eXBlLmdldFZpZGVvVGh1bWJVUkwgPSBmdW5jdGlvbihwYXJhbXMsIG9wdF9jYWxsYmFjaykge1xuICB2YXIgYXJncyA9IGVlLmFyZ3VtZW50cy5leHRyYWN0RnJvbUZ1bmN0aW9uKGVlLkltYWdlQ29sbGVjdGlvbi5wcm90b3R5cGUuZ2V0VmlkZW9UaHVtYlVSTCwgYXJndW1lbnRzKTtcbiAgcmV0dXJuIGVlLkltYWdlQ29sbGVjdGlvbi5wcm90b3R5cGUuZ2V0VGh1bWJVUkxfKHRoaXMsIGFyZ3MsIFtcImdpZlwiXSwgZWUuSW1hZ2VDb2xsZWN0aW9uLlRodW1iVHlwZXMuVklERU8sIG9wdF9jYWxsYmFjayk7XG59O1xuZ29vZy5leHBvcnRQcm9wZXJ0eShlZS5JbWFnZUNvbGxlY3Rpb24ucHJvdG90eXBlLCBcImdldFZpZGVvVGh1bWJVUkxcIiwgZWUuSW1hZ2VDb2xsZWN0aW9uLnByb3RvdHlwZS5nZXRWaWRlb1RodW1iVVJMKTtcbmVlLkltYWdlQ29sbGVjdGlvbi5UaHVtYlR5cGVzID0ge0ZJTE1TVFJJUDpcImZpbG1zdHJpcFwiLCBWSURFTzpcInZpZGVvXCIsIElNQUdFOlwiaW1hZ2VcIix9O1xuZWUuSW1hZ2VDb2xsZWN0aW9uLnByb3RvdHlwZS5nZXRUaHVtYlVSTF8gPSBmdW5jdGlvbihjb2xsZWN0aW9uLCBhcmdzLCB2YWxpZEZvcm1hdHMsIG9wdF90aHVtYlR5cGUsIG9wdF9jYWxsYmFjaykge1xuICB2YXIgZXh0cmFQYXJhbXMgPSB7fSwgY2xpcHBlZENvbGxlY3Rpb24gPSBjb2xsZWN0aW9uLm1hcChmdW5jdGlvbihpbWFnZSkge1xuICAgIHZhciBwcm9qZWN0ZWQgPSBlZS5kYXRhLmltYWdlcy5hcHBseUNyc0FuZFRyYW5zZm9ybShpbWFnZSwgYXJncy5wYXJhbXMpO1xuICAgIHJldHVybiBlZS5kYXRhLmltYWdlcy5hcHBseVNlbGVjdGlvbkFuZFNjYWxlKHByb2plY3RlZCwgYXJncy5wYXJhbXMsIGV4dHJhUGFyYW1zKTtcbiAgfSksIHJlcXVlc3QgPSB7fSwgdmlzUGFyYW1zID0gZWUuZGF0YS5pbWFnZXMuZXh0cmFjdFZpc1BhcmFtcyhleHRyYVBhcmFtcywgcmVxdWVzdCk7XG4gIHJlcXVlc3QuaW1hZ2VDb2xsZWN0aW9uID0gY2xpcHBlZENvbGxlY3Rpb24ubWFwKGZ1bmN0aW9uKGltYWdlKSB7XG4gICAgdmlzUGFyYW1zLmltYWdlID0gaW1hZ2U7XG4gICAgcmV0dXJuIGVlLkFwaUZ1bmN0aW9uLl9hcHBseShcIkltYWdlLnZpc3VhbGl6ZVwiLCB2aXNQYXJhbXMpO1xuICB9KTtcbiAgbnVsbCAhPSBhcmdzLnBhcmFtcy5kaW1lbnNpb25zICYmIChyZXF1ZXN0LmRpbWVuc2lvbnMgPSBhcmdzLnBhcmFtcy5kaW1lbnNpb25zKTtcbiAgaWYgKHJlcXVlc3QuZm9ybWF0KSB7XG4gICAgaWYgKCFtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9zb21lKHZhbGlkRm9ybWF0cywgZnVuY3Rpb24oZm9ybWF0KSB7XG4gICAgICByZXR1cm4gZ29vZy5zdHJpbmcuY2FzZUluc2Vuc2l0aXZlRXF1YWxzKGZvcm1hdCwgcmVxdWVzdC5mb3JtYXQpO1xuICAgIH0pKSB7XG4gICAgICB0aHJvdyBFcnJvcihcIkludmFsaWQgZm9ybWF0IHNwZWNpZmllZC5cIik7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHJlcXVlc3QuZm9ybWF0ID0gdmFsaWRGb3JtYXRzWzBdO1xuICB9XG4gIHZhciBnZXRUaHVtYklkID0gZWUuZGF0YS5nZXRUaHVtYklkO1xuICBzd2l0Y2gob3B0X3RodW1iVHlwZSkge1xuICAgIGNhc2UgZWUuSW1hZ2VDb2xsZWN0aW9uLlRodW1iVHlwZXMuVklERU86XG4gICAgICBnZXRUaHVtYklkID0gZWUuZGF0YS5nZXRWaWRlb1RodW1iSWQ7XG4gICAgICBicmVhaztcbiAgICBjYXNlIGVlLkltYWdlQ29sbGVjdGlvbi5UaHVtYlR5cGVzLkZJTE1TVFJJUDpcbiAgICAgIGdldFRodW1iSWQgPSBlZS5kYXRhLmdldEZpbG1zdHJpcFRodW1iSWQ7XG4gIH1cbiAgaWYgKGFyZ3MuY2FsbGJhY2spIHtcbiAgICBnZXRUaHVtYklkKHJlcXVlc3QsIGZ1bmN0aW9uKHRodW1iSWQsIG9wdF9lcnJvcikge1xuICAgICAgdmFyIHRodW1iVXJsID0gXCJcIjtcbiAgICAgIGlmICh2b2lkIDAgPT09IG9wdF9lcnJvcikge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHRodW1iVXJsID0gZWUuZGF0YS5tYWtlVGh1bWJVcmwodGh1bWJJZCk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICBvcHRfZXJyb3IgPSBTdHJpbmcoZS5tZXNzYWdlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgYXJncy5jYWxsYmFjayh0aHVtYlVybCwgb3B0X2Vycm9yKTtcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gZWUuZGF0YS5tYWtlVGh1bWJVcmwoZ2V0VGh1bWJJZChyZXF1ZXN0KSk7XG4gIH1cbn07XG5lZS5JbWFnZUNvbGxlY3Rpb24ucHJvdG90eXBlLmdldE1hcCA9IGZ1bmN0aW9uKG9wdF92aXNQYXJhbXMsIG9wdF9jYWxsYmFjaykge1xuICB2YXIgYXJncyA9IGVlLmFyZ3VtZW50cy5leHRyYWN0RnJvbUZ1bmN0aW9uKGVlLkltYWdlQ29sbGVjdGlvbi5wcm90b3R5cGUuZ2V0TWFwLCBhcmd1bWVudHMpLCBtb3NhaWMgPSBlZS5BcGlGdW5jdGlvbi5fY2FsbChcIkltYWdlQ29sbGVjdGlvbi5tb3NhaWNcIiwgdGhpcyk7XG4gIGlmIChhcmdzLmNhbGxiYWNrKSB7XG4gICAgbW9zYWljLmdldE1hcChhcmdzLnZpc1BhcmFtcywgYXJncy5jYWxsYmFjayk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIG1vc2FpYy5nZXRNYXAoYXJncy52aXNQYXJhbXMpO1xuICB9XG59O1xuZ29vZy5leHBvcnRQcm9wZXJ0eShlZS5JbWFnZUNvbGxlY3Rpb24ucHJvdG90eXBlLCBcImdldE1hcFwiLCBlZS5JbWFnZUNvbGxlY3Rpb24ucHJvdG90eXBlLmdldE1hcCk7XG5lZS5JbWFnZUNvbGxlY3Rpb24ucHJvdG90eXBlLmdldEluZm8gPSBmdW5jdGlvbihvcHRfY2FsbGJhY2spIHtcbiAgcmV0dXJuIGVlLkltYWdlQ29sbGVjdGlvbi5zdXBlckNsYXNzXy5nZXRJbmZvLmNhbGwodGhpcywgb3B0X2NhbGxiYWNrKTtcbn07XG5nb29nLmV4cG9ydFByb3BlcnR5KGVlLkltYWdlQ29sbGVjdGlvbi5wcm90b3R5cGUsIFwiZ2V0SW5mb1wiLCBlZS5JbWFnZUNvbGxlY3Rpb24ucHJvdG90eXBlLmdldEluZm8pO1xuZWUuSW1hZ2VDb2xsZWN0aW9uLnByb3RvdHlwZS5zZWxlY3QgPSBmdW5jdGlvbihzZWxlY3RvcnMsIG9wdF9uYW1lcykge1xuICB2YXIgdmFyYXJncyA9IGFyZ3VtZW50cztcbiAgcmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uKG9iaikge1xuICAgIHJldHVybiBvYmouc2VsZWN0LmFwcGx5KG9iaiwgdmFyYXJncyk7XG4gIH0pO1xufTtcbmdvb2cuZXhwb3J0UHJvcGVydHkoZWUuSW1hZ2VDb2xsZWN0aW9uLnByb3RvdHlwZSwgXCJzZWxlY3RcIiwgZWUuSW1hZ2VDb2xsZWN0aW9uLnByb3RvdHlwZS5zZWxlY3QpO1xuZWUuSW1hZ2VDb2xsZWN0aW9uLnByb3RvdHlwZS5maXJzdCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbmV3IGVlLkltYWdlKGVlLkFwaUZ1bmN0aW9uLl9jYWxsKFwiQ29sbGVjdGlvbi5maXJzdFwiLCB0aGlzKSk7XG59O1xuZ29vZy5leHBvcnRQcm9wZXJ0eShlZS5JbWFnZUNvbGxlY3Rpb24ucHJvdG90eXBlLCBcImZpcnN0XCIsIGVlLkltYWdlQ29sbGVjdGlvbi5wcm90b3R5cGUuZmlyc3QpO1xuZWUuSW1hZ2VDb2xsZWN0aW9uLnByb3RvdHlwZS5uYW1lID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBcIkltYWdlQ29sbGVjdGlvblwiO1xufTtcbmVlLkltYWdlQ29sbGVjdGlvbi5wcm90b3R5cGUuZWxlbWVudFR5cGUgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIGVlLkltYWdlO1xufTtcbmVlLmJhdGNoID0ge307XG52YXIgbW9kdWxlJGNvbnRlbnRzJGVlJGJhdGNoX0V4cG9ydCA9IHtpbWFnZTp7fSwgbWFwOnt9LCB0YWJsZTp7fSwgdmlkZW86e30sIHZpZGVvTWFwOnt9LCBjbGFzc2lmaWVyOnt9fSwgbW9kdWxlJGNvbnRlbnRzJGVlJGJhdGNoX0V4cG9ydFRhc2sgPSBmdW5jdGlvbihjb25maWcpIHtcbiAgdGhpcy5jb25maWdfID0gY29uZmlnO1xuICB0aGlzLmlkID0gbnVsbDtcbn07XG5tb2R1bGUkY29udGVudHMkZWUkYmF0Y2hfRXhwb3J0VGFzay5jcmVhdGUgPSBmdW5jdGlvbihleHBvcnRBcmdzKSB7XG4gIHZhciBjb25maWcgPSB7ZWxlbWVudDptb2R1bGUkY29udGVudHMkZWUkYmF0Y2hfRXhwb3J0LmV4dHJhY3RFbGVtZW50KGV4cG9ydEFyZ3MpfTtcbiAgT2JqZWN0LmFzc2lnbihjb25maWcsIGV4cG9ydEFyZ3MpO1xuICBjb25maWcgPSBtb2R1bGUkY29udGVudHMkZ29vZyRvYmplY3RfZmlsdGVyKGNvbmZpZywgZnVuY3Rpb24oeCkge1xuICAgIHJldHVybiBudWxsICE9IHg7XG4gIH0pO1xuICByZXR1cm4gbmV3IG1vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9FeHBvcnRUYXNrKGNvbmZpZyk7XG59O1xubW9kdWxlJGNvbnRlbnRzJGVlJGJhdGNoX0V4cG9ydFRhc2sucHJvdG90eXBlLnN0YXJ0ID0gZnVuY3Rpb24ob3B0X3N1Y2Nlc3MsIG9wdF9lcnJvcikge1xuICB2YXIgJGpzY29tcCR0aGlzID0gdGhpcztcbiAgZ29vZy5hc3NlcnRzLmFzc2VydCh0aGlzLmNvbmZpZ18sIFwiVGFzayBjb25maWcgbXVzdCBiZSBzcGVjaWZpZWQgZm9yIHRhc2tzIHRvIGJlIHN0YXJ0ZWQuXCIpO1xuICBpZiAob3B0X3N1Y2Nlc3MpIHtcbiAgICB2YXIgc3RhcnRQcm9jZXNzaW5nID0gZnVuY3Rpb24oKSB7XG4gICAgICBnb29nLmFzc2VydHMuYXNzZXJ0U3RyaW5nKCRqc2NvbXAkdGhpcy5pZCk7XG4gICAgICBlZS5kYXRhLnN0YXJ0UHJvY2Vzc2luZygkanNjb21wJHRoaXMuaWQsICRqc2NvbXAkdGhpcy5jb25maWdfLCBmdW5jdGlvbihfLCBlcnJvcikge1xuICAgICAgICBlcnJvciA/IG9wdF9lcnJvcihlcnJvcikgOiBvcHRfc3VjY2VzcygpO1xuICAgICAgfSk7XG4gICAgfTtcbiAgICB0aGlzLmlkID8gc3RhcnRQcm9jZXNzaW5nKCkgOiBlZS5kYXRhLm5ld1Rhc2tJZCgxLCBmdW5jdGlvbihpZHMpIHtcbiAgICAgIHZhciBpZCA9IGlkcyAmJiBpZHNbMF07XG4gICAgICBpZCA/ICgkanNjb21wJHRoaXMuaWQgPSBpZCwgc3RhcnRQcm9jZXNzaW5nKCkpIDogb3B0X2Vycm9yKFwiRmFpbGVkIHRvIG9idGFpbiB0YXNrIElELlwiKTtcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICB0aGlzLmlkID0gdGhpcy5pZCB8fCBlZS5kYXRhLm5ld1Rhc2tJZCgxKVswXSwgZ29vZy5hc3NlcnRzLmFzc2VydFN0cmluZyh0aGlzLmlkLCBcIkZhaWxlZCB0byBvYnRhaW4gdGFzayBJRC5cIiksIGVlLmRhdGEuc3RhcnRQcm9jZXNzaW5nKHRoaXMuaWQsIHRoaXMuY29uZmlnXyk7XG4gIH1cbn07XG5nb29nLmV4cG9ydFByb3BlcnR5KG1vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9FeHBvcnRUYXNrLnByb3RvdHlwZSwgXCJzdGFydFwiLCBtb2R1bGUkY29udGVudHMkZWUkYmF0Y2hfRXhwb3J0VGFzay5wcm90b3R5cGUuc3RhcnQpO1xubW9kdWxlJGNvbnRlbnRzJGVlJGJhdGNoX0V4cG9ydC5pbWFnZS50b0Fzc2V0ID0gZnVuY3Rpb24oaW1hZ2UsIG9wdF9kZXNjcmlwdGlvbiwgb3B0X2Fzc2V0SWQsIG9wdF9weXJhbWlkaW5nUG9saWN5LCBvcHRfZGltZW5zaW9ucywgb3B0X3JlZ2lvbiwgb3B0X3NjYWxlLCBvcHRfY3JzLCBvcHRfY3JzVHJhbnNmb3JtLCBvcHRfbWF4UGl4ZWxzLCBvcHRfc2hhcmRTaXplKSB7XG4gIHZhciBjbGllbnRDb25maWcgPSBlZS5hcmd1bWVudHMuZXh0cmFjdEZyb21GdW5jdGlvbihtb2R1bGUkY29udGVudHMkZWUkYmF0Y2hfRXhwb3J0LmltYWdlLnRvQXNzZXQsIGFyZ3VtZW50cyksIHNlcnZlckNvbmZpZyA9IG1vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9FeHBvcnQuY29udmVydFRvU2VydmVyUGFyYW1zKGNsaWVudENvbmZpZywgZWUuZGF0YS5FeHBvcnREZXN0aW5hdGlvbi5BU1NFVCwgZWUuZGF0YS5FeHBvcnRUeXBlLklNQUdFKTtcbiAgcmV0dXJuIG1vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9FeHBvcnRUYXNrLmNyZWF0ZShzZXJ2ZXJDb25maWcpO1xufTtcbmdvb2cuZXhwb3J0U3ltYm9sKFwibW9kdWxlJGNvbnRlbnRzJGVlJGJhdGNoX0V4cG9ydC5pbWFnZS50b0Fzc2V0XCIsIG1vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9FeHBvcnQuaW1hZ2UudG9Bc3NldCk7XG5tb2R1bGUkY29udGVudHMkZWUkYmF0Y2hfRXhwb3J0LmltYWdlLnRvQ2xvdWRTdG9yYWdlID0gZnVuY3Rpb24oaW1hZ2UsIG9wdF9kZXNjcmlwdGlvbiwgb3B0X2J1Y2tldCwgb3B0X2ZpbGVOYW1lUHJlZml4LCBvcHRfZGltZW5zaW9ucywgb3B0X3JlZ2lvbiwgb3B0X3NjYWxlLCBvcHRfY3JzLCBvcHRfY3JzVHJhbnNmb3JtLCBvcHRfbWF4UGl4ZWxzLCBvcHRfc2hhcmRTaXplLCBvcHRfZmlsZURpbWVuc2lvbnMsIG9wdF9za2lwRW1wdHlUaWxlcywgb3B0X2ZpbGVGb3JtYXQsIG9wdF9mb3JtYXRPcHRpb25zKSB7XG4gIHZhciBjbGllbnRDb25maWcgPSBlZS5hcmd1bWVudHMuZXh0cmFjdEZyb21GdW5jdGlvbihtb2R1bGUkY29udGVudHMkZWUkYmF0Y2hfRXhwb3J0LmltYWdlLnRvQ2xvdWRTdG9yYWdlLCBhcmd1bWVudHMpLCBzZXJ2ZXJDb25maWcgPSBtb2R1bGUkY29udGVudHMkZWUkYmF0Y2hfRXhwb3J0LmNvbnZlcnRUb1NlcnZlclBhcmFtcyhjbGllbnRDb25maWcsIGVlLmRhdGEuRXhwb3J0RGVzdGluYXRpb24uR0NTLCBlZS5kYXRhLkV4cG9ydFR5cGUuSU1BR0UpO1xuICByZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGVlJGJhdGNoX0V4cG9ydFRhc2suY3JlYXRlKHNlcnZlckNvbmZpZyk7XG59O1xuZ29vZy5leHBvcnRTeW1ib2woXCJtb2R1bGUkY29udGVudHMkZWUkYmF0Y2hfRXhwb3J0LmltYWdlLnRvQ2xvdWRTdG9yYWdlXCIsIG1vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9FeHBvcnQuaW1hZ2UudG9DbG91ZFN0b3JhZ2UpO1xubW9kdWxlJGNvbnRlbnRzJGVlJGJhdGNoX0V4cG9ydC5pbWFnZS50b0RyaXZlID0gZnVuY3Rpb24oaW1hZ2UsIG9wdF9kZXNjcmlwdGlvbiwgb3B0X2ZvbGRlciwgb3B0X2ZpbGVOYW1lUHJlZml4LCBvcHRfZGltZW5zaW9ucywgb3B0X3JlZ2lvbiwgb3B0X3NjYWxlLCBvcHRfY3JzLCBvcHRfY3JzVHJhbnNmb3JtLCBvcHRfbWF4UGl4ZWxzLCBvcHRfc2hhcmRTaXplLCBvcHRfZmlsZURpbWVuc2lvbnMsIG9wdF9za2lwRW1wdHlUaWxlcywgb3B0X2ZpbGVGb3JtYXQsIG9wdF9mb3JtYXRPcHRpb25zKSB7XG4gIHZhciBjbGllbnRDb25maWcgPSBlZS5hcmd1bWVudHMuZXh0cmFjdEZyb21GdW5jdGlvbihtb2R1bGUkY29udGVudHMkZWUkYmF0Y2hfRXhwb3J0LmltYWdlLnRvRHJpdmUsIGFyZ3VtZW50cyksIHNlcnZlckNvbmZpZyA9IG1vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9FeHBvcnQuY29udmVydFRvU2VydmVyUGFyYW1zKGNsaWVudENvbmZpZywgZWUuZGF0YS5FeHBvcnREZXN0aW5hdGlvbi5EUklWRSwgZWUuZGF0YS5FeHBvcnRUeXBlLklNQUdFKTtcbiAgcmV0dXJuIG1vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9FeHBvcnRUYXNrLmNyZWF0ZShzZXJ2ZXJDb25maWcpO1xufTtcbmdvb2cuZXhwb3J0U3ltYm9sKFwibW9kdWxlJGNvbnRlbnRzJGVlJGJhdGNoX0V4cG9ydC5pbWFnZS50b0RyaXZlXCIsIG1vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9FeHBvcnQuaW1hZ2UudG9Ecml2ZSk7XG5tb2R1bGUkY29udGVudHMkZWUkYmF0Y2hfRXhwb3J0Lm1hcC50b0Nsb3VkU3RvcmFnZSA9IGZ1bmN0aW9uKGltYWdlLCBvcHRfZGVzY3JpcHRpb24sIG9wdF9idWNrZXQsIG9wdF9maWxlRm9ybWF0LCBvcHRfcGF0aCwgb3B0X3dyaXRlUHVibGljVGlsZXMsIG9wdF9zY2FsZSwgb3B0X21heFpvb20sIG9wdF9taW5ab29tLCBvcHRfcmVnaW9uLCBvcHRfc2tpcEVtcHR5VGlsZXMsIG9wdF9tYXBzQXBpS2V5LCBvcHRfYnVja2V0Q29yc1VyaXMpIHtcbiAgdmFyIGNsaWVudENvbmZpZyA9IGVlLmFyZ3VtZW50cy5leHRyYWN0RnJvbUZ1bmN0aW9uKG1vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9FeHBvcnQubWFwLnRvQ2xvdWRTdG9yYWdlLCBhcmd1bWVudHMpLCBzZXJ2ZXJDb25maWcgPSBtb2R1bGUkY29udGVudHMkZWUkYmF0Y2hfRXhwb3J0LmNvbnZlcnRUb1NlcnZlclBhcmFtcyhjbGllbnRDb25maWcsIGVlLmRhdGEuRXhwb3J0RGVzdGluYXRpb24uR0NTLCBlZS5kYXRhLkV4cG9ydFR5cGUuTUFQKTtcbiAgcmV0dXJuIG1vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9FeHBvcnRUYXNrLmNyZWF0ZShzZXJ2ZXJDb25maWcpO1xufTtcbmdvb2cuZXhwb3J0U3ltYm9sKFwibW9kdWxlJGNvbnRlbnRzJGVlJGJhdGNoX0V4cG9ydC5tYXAudG9DbG91ZFN0b3JhZ2VcIiwgbW9kdWxlJGNvbnRlbnRzJGVlJGJhdGNoX0V4cG9ydC5tYXAudG9DbG91ZFN0b3JhZ2UpO1xubW9kdWxlJGNvbnRlbnRzJGVlJGJhdGNoX0V4cG9ydC50YWJsZS50b0Nsb3VkU3RvcmFnZSA9IGZ1bmN0aW9uKGNvbGxlY3Rpb24sIG9wdF9kZXNjcmlwdGlvbiwgb3B0X2J1Y2tldCwgb3B0X2ZpbGVOYW1lUHJlZml4LCBvcHRfZmlsZUZvcm1hdCwgb3B0X3NlbGVjdG9ycywgb3B0X21heFZlcnRpY2VzKSB7XG4gIHZhciBjbGllbnRDb25maWcgPSBlZS5hcmd1bWVudHMuZXh0cmFjdEZyb21GdW5jdGlvbihtb2R1bGUkY29udGVudHMkZWUkYmF0Y2hfRXhwb3J0LnRhYmxlLnRvQ2xvdWRTdG9yYWdlLCBhcmd1bWVudHMpLCBzZXJ2ZXJDb25maWcgPSBtb2R1bGUkY29udGVudHMkZWUkYmF0Y2hfRXhwb3J0LmNvbnZlcnRUb1NlcnZlclBhcmFtcyhjbGllbnRDb25maWcsIGVlLmRhdGEuRXhwb3J0RGVzdGluYXRpb24uR0NTLCBlZS5kYXRhLkV4cG9ydFR5cGUuVEFCTEUpO1xuICByZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGVlJGJhdGNoX0V4cG9ydFRhc2suY3JlYXRlKHNlcnZlckNvbmZpZyk7XG59O1xuZ29vZy5leHBvcnRTeW1ib2woXCJtb2R1bGUkY29udGVudHMkZWUkYmF0Y2hfRXhwb3J0LnRhYmxlLnRvQ2xvdWRTdG9yYWdlXCIsIG1vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9FeHBvcnQudGFibGUudG9DbG91ZFN0b3JhZ2UpO1xubW9kdWxlJGNvbnRlbnRzJGVlJGJhdGNoX0V4cG9ydC50YWJsZS50b0RyaXZlID0gZnVuY3Rpb24oY29sbGVjdGlvbiwgb3B0X2Rlc2NyaXB0aW9uLCBvcHRfZm9sZGVyLCBvcHRfZmlsZU5hbWVQcmVmaXgsIG9wdF9maWxlRm9ybWF0LCBvcHRfc2VsZWN0b3JzLCBvcHRfbWF4VmVydGljZXMpIHtcbiAgdmFyIGNsaWVudENvbmZpZyA9IGVlLmFyZ3VtZW50cy5leHRyYWN0RnJvbUZ1bmN0aW9uKG1vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9FeHBvcnQudGFibGUudG9Ecml2ZSwgYXJndW1lbnRzKTtcbiAgY2xpZW50Q29uZmlnLnR5cGUgPSBlZS5kYXRhLkV4cG9ydFR5cGUuVEFCTEU7XG4gIHZhciBzZXJ2ZXJDb25maWcgPSBtb2R1bGUkY29udGVudHMkZWUkYmF0Y2hfRXhwb3J0LmNvbnZlcnRUb1NlcnZlclBhcmFtcyhjbGllbnRDb25maWcsIGVlLmRhdGEuRXhwb3J0RGVzdGluYXRpb24uRFJJVkUsIGVlLmRhdGEuRXhwb3J0VHlwZS5UQUJMRSk7XG4gIHJldHVybiBtb2R1bGUkY29udGVudHMkZWUkYmF0Y2hfRXhwb3J0VGFzay5jcmVhdGUoc2VydmVyQ29uZmlnKTtcbn07XG5nb29nLmV4cG9ydFN5bWJvbChcIm1vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9FeHBvcnQudGFibGUudG9Ecml2ZVwiLCBtb2R1bGUkY29udGVudHMkZWUkYmF0Y2hfRXhwb3J0LnRhYmxlLnRvRHJpdmUpO1xubW9kdWxlJGNvbnRlbnRzJGVlJGJhdGNoX0V4cG9ydC50YWJsZS50b0Fzc2V0ID0gZnVuY3Rpb24oY29sbGVjdGlvbiwgb3B0X2Rlc2NyaXB0aW9uLCBvcHRfYXNzZXRJZCwgb3B0X21heFZlcnRpY2VzKSB7XG4gIHZhciBjbGllbnRDb25maWcgPSBlZS5hcmd1bWVudHMuZXh0cmFjdEZyb21GdW5jdGlvbihtb2R1bGUkY29udGVudHMkZWUkYmF0Y2hfRXhwb3J0LnRhYmxlLnRvQXNzZXQsIGFyZ3VtZW50cyksIHNlcnZlckNvbmZpZyA9IG1vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9FeHBvcnQuY29udmVydFRvU2VydmVyUGFyYW1zKGNsaWVudENvbmZpZywgZWUuZGF0YS5FeHBvcnREZXN0aW5hdGlvbi5BU1NFVCwgZWUuZGF0YS5FeHBvcnRUeXBlLlRBQkxFKTtcbiAgcmV0dXJuIG1vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9FeHBvcnRUYXNrLmNyZWF0ZShzZXJ2ZXJDb25maWcpO1xufTtcbmdvb2cuZXhwb3J0U3ltYm9sKFwibW9kdWxlJGNvbnRlbnRzJGVlJGJhdGNoX0V4cG9ydC50YWJsZS50b0Fzc2V0XCIsIG1vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9FeHBvcnQudGFibGUudG9Bc3NldCk7XG5tb2R1bGUkY29udGVudHMkZWUkYmF0Y2hfRXhwb3J0LnRhYmxlLnRvRmVhdHVyZVZpZXcgPSBmdW5jdGlvbihjb2xsZWN0aW9uLCBvcHRfZGVzY3JpcHRpb24sIG9wdF9hc3NldElkLCBvcHRfbWF4RmVhdHVyZXNQZXJUaWxlLCBvcHRfdGhpbm5pbmdTdHJhdGVneSwgb3B0X3RoaW5uaW5nUmFua2luZywgb3B0X3pPcmRlclJhbmtpbmcpIHtcbiAgdmFyIGNsaWVudENvbmZpZyA9IGVlLmFyZ3VtZW50cy5leHRyYWN0RnJvbUZ1bmN0aW9uKG1vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9FeHBvcnQudGFibGUudG9GZWF0dXJlVmlldywgYXJndW1lbnRzKSwgc2VydmVyQ29uZmlnID0gbW9kdWxlJGNvbnRlbnRzJGVlJGJhdGNoX0V4cG9ydC5jb252ZXJ0VG9TZXJ2ZXJQYXJhbXMoY2xpZW50Q29uZmlnLCBlZS5kYXRhLkV4cG9ydERlc3RpbmF0aW9uLkZFQVRVUkVfVklFVywgZWUuZGF0YS5FeHBvcnRUeXBlLlRBQkxFKTtcbiAgcmV0dXJuIG1vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9FeHBvcnRUYXNrLmNyZWF0ZShzZXJ2ZXJDb25maWcpO1xufTtcbmdvb2cuZXhwb3J0U3ltYm9sKFwibW9kdWxlJGNvbnRlbnRzJGVlJGJhdGNoX0V4cG9ydC50YWJsZS50b0ZlYXR1cmVWaWV3XCIsIG1vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9FeHBvcnQudGFibGUudG9GZWF0dXJlVmlldyk7XG5tb2R1bGUkY29udGVudHMkZWUkYmF0Y2hfRXhwb3J0LnRhYmxlLnRvQmlnUXVlcnkgPSBmdW5jdGlvbihjb2xsZWN0aW9uLCBvcHRfZGVzY3JpcHRpb24sIG9wdF90YWJsZSwgb3B0X3NlbGVjdG9ycywgb3B0X21heFZlcnRpY2VzKSB7XG4gIHZhciBjbGllbnRDb25maWcgPSBlZS5hcmd1bWVudHMuZXh0cmFjdEZyb21GdW5jdGlvbihtb2R1bGUkY29udGVudHMkZWUkYmF0Y2hfRXhwb3J0LnRhYmxlLnRvQmlnUXVlcnksIGFyZ3VtZW50cyksIHNlcnZlckNvbmZpZyA9IG1vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9FeHBvcnQuY29udmVydFRvU2VydmVyUGFyYW1zKGNsaWVudENvbmZpZywgZWUuZGF0YS5FeHBvcnREZXN0aW5hdGlvbi5CSUdRVUVSWSwgZWUuZGF0YS5FeHBvcnRUeXBlLlRBQkxFKTtcbiAgcmV0dXJuIG1vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9FeHBvcnRUYXNrLmNyZWF0ZShzZXJ2ZXJDb25maWcpO1xufTtcbm1vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9FeHBvcnQudmlkZW8udG9DbG91ZFN0b3JhZ2UgPSBmdW5jdGlvbihjb2xsZWN0aW9uLCBvcHRfZGVzY3JpcHRpb24sIG9wdF9idWNrZXQsIG9wdF9maWxlTmFtZVByZWZpeCwgb3B0X2ZyYW1lc1BlclNlY29uZCwgb3B0X2RpbWVuc2lvbnMsIG9wdF9yZWdpb24sIG9wdF9zY2FsZSwgb3B0X2Nycywgb3B0X2Nyc1RyYW5zZm9ybSwgb3B0X21heFBpeGVscywgb3B0X21heEZyYW1lcykge1xuICB2YXIgY2xpZW50Q29uZmlnID0gZWUuYXJndW1lbnRzLmV4dHJhY3RGcm9tRnVuY3Rpb24obW9kdWxlJGNvbnRlbnRzJGVlJGJhdGNoX0V4cG9ydC52aWRlby50b0Nsb3VkU3RvcmFnZSwgYXJndW1lbnRzKSwgc2VydmVyQ29uZmlnID0gbW9kdWxlJGNvbnRlbnRzJGVlJGJhdGNoX0V4cG9ydC5jb252ZXJ0VG9TZXJ2ZXJQYXJhbXMoY2xpZW50Q29uZmlnLCBlZS5kYXRhLkV4cG9ydERlc3RpbmF0aW9uLkdDUywgZWUuZGF0YS5FeHBvcnRUeXBlLlZJREVPKTtcbiAgcmV0dXJuIG1vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9FeHBvcnRUYXNrLmNyZWF0ZShzZXJ2ZXJDb25maWcpO1xufTtcbmdvb2cuZXhwb3J0U3ltYm9sKFwibW9kdWxlJGNvbnRlbnRzJGVlJGJhdGNoX0V4cG9ydC52aWRlby50b0Nsb3VkU3RvcmFnZVwiLCBtb2R1bGUkY29udGVudHMkZWUkYmF0Y2hfRXhwb3J0LnZpZGVvLnRvQ2xvdWRTdG9yYWdlKTtcbm1vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9FeHBvcnQudmlkZW8udG9Ecml2ZSA9IGZ1bmN0aW9uKGNvbGxlY3Rpb24sIG9wdF9kZXNjcmlwdGlvbiwgb3B0X2ZvbGRlciwgb3B0X2ZpbGVOYW1lUHJlZml4LCBvcHRfZnJhbWVzUGVyU2Vjb25kLCBvcHRfZGltZW5zaW9ucywgb3B0X3JlZ2lvbiwgb3B0X3NjYWxlLCBvcHRfY3JzLCBvcHRfY3JzVHJhbnNmb3JtLCBvcHRfbWF4UGl4ZWxzLCBvcHRfbWF4RnJhbWVzKSB7XG4gIHZhciBjbGllbnRDb25maWcgPSBlZS5hcmd1bWVudHMuZXh0cmFjdEZyb21GdW5jdGlvbihtb2R1bGUkY29udGVudHMkZWUkYmF0Y2hfRXhwb3J0LnZpZGVvLnRvRHJpdmUsIGFyZ3VtZW50cyksIHNlcnZlckNvbmZpZyA9IG1vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9FeHBvcnQuY29udmVydFRvU2VydmVyUGFyYW1zKGNsaWVudENvbmZpZywgZWUuZGF0YS5FeHBvcnREZXN0aW5hdGlvbi5EUklWRSwgZWUuZGF0YS5FeHBvcnRUeXBlLlZJREVPKTtcbiAgcmV0dXJuIG1vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9FeHBvcnRUYXNrLmNyZWF0ZShzZXJ2ZXJDb25maWcpO1xufTtcbmdvb2cuZXhwb3J0U3ltYm9sKFwibW9kdWxlJGNvbnRlbnRzJGVlJGJhdGNoX0V4cG9ydC52aWRlby50b0RyaXZlXCIsIG1vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9FeHBvcnQudmlkZW8udG9Ecml2ZSk7XG5tb2R1bGUkY29udGVudHMkZWUkYmF0Y2hfRXhwb3J0LnZpZGVvTWFwLnRvQ2xvdWRTdG9yYWdlID0gZnVuY3Rpb24oY29sbGVjdGlvbiwgb3B0X2Rlc2NyaXB0aW9uLCBvcHRfYnVja2V0LCBvcHRfZmlsZU5hbWVQcmVmaXgsIG9wdF9mcmFtZXNQZXJTZWNvbmQsIG9wdF93cml0ZVB1YmxpY1RpbGVzLCBvcHRfbWluWm9vbSwgb3B0X21heFpvb20sIG9wdF9zY2FsZSwgb3B0X3JlZ2lvbiwgb3B0X3NraXBFbXB0eVRpbGVzLCBvcHRfbWluVGltZU1hY2hpbmVab29tU3Vic2V0LCBvcHRfbWF4VGltZU1hY2hpbmVab29tU3Vic2V0LCBvcHRfdGlsZVdpZHRoLCBvcHRfdGlsZUhlaWdodCwgb3B0X3RpbGVTdHJpZGUsIG9wdF92aWRlb0Zvcm1hdCwgb3B0X3ZlcnNpb24sIG9wdF9tYXBzQXBpS2V5LCBvcHRfYnVja2V0Q29yc1VyaXMpIHtcbiAgdmFyIGNsaWVudENvbmZpZyA9IGVlLmFyZ3VtZW50cy5leHRyYWN0RnJvbUZ1bmN0aW9uKG1vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9FeHBvcnQudmlkZW9NYXAudG9DbG91ZFN0b3JhZ2UsIGFyZ3VtZW50cyksIHNlcnZlckNvbmZpZyA9IG1vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9FeHBvcnQuY29udmVydFRvU2VydmVyUGFyYW1zKGNsaWVudENvbmZpZywgZWUuZGF0YS5FeHBvcnREZXN0aW5hdGlvbi5HQ1MsIGVlLmRhdGEuRXhwb3J0VHlwZS5WSURFT19NQVApO1xuICByZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGVlJGJhdGNoX0V4cG9ydFRhc2suY3JlYXRlKHNlcnZlckNvbmZpZyk7XG59O1xuZ29vZy5leHBvcnRTeW1ib2woXCJtb2R1bGUkY29udGVudHMkZWUkYmF0Y2hfRXhwb3J0LnZpZGVvTWFwLnRvQ2xvdWRTdG9yYWdlXCIsIG1vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9FeHBvcnQudmlkZW9NYXAudG9DbG91ZFN0b3JhZ2UpO1xubW9kdWxlJGNvbnRlbnRzJGVlJGJhdGNoX0V4cG9ydC5jbGFzc2lmaWVyLnRvQXNzZXQgPSBmdW5jdGlvbihjbGFzc2lmaWVyLCBvcHRfZGVzY3JpcHRpb24sIG9wdF9hc3NldElkKSB7XG4gIHZhciBjbGllbnRDb25maWcgPSBlZS5hcmd1bWVudHMuZXh0cmFjdEZyb21GdW5jdGlvbihtb2R1bGUkY29udGVudHMkZWUkYmF0Y2hfRXhwb3J0LmNsYXNzaWZpZXIudG9Bc3NldCwgYXJndW1lbnRzKSwgc2VydmVyQ29uZmlnID0gbW9kdWxlJGNvbnRlbnRzJGVlJGJhdGNoX0V4cG9ydC5jb252ZXJ0VG9TZXJ2ZXJQYXJhbXMoY2xpZW50Q29uZmlnLCBlZS5kYXRhLkV4cG9ydERlc3RpbmF0aW9uLkFTU0VULCBlZS5kYXRhLkV4cG9ydFR5cGUuQ0xBU1NJRklFUik7XG4gIHJldHVybiBtb2R1bGUkY29udGVudHMkZWUkYmF0Y2hfRXhwb3J0VGFzay5jcmVhdGUoc2VydmVyQ29uZmlnKTtcbn07XG5nb29nLmV4cG9ydFN5bWJvbChcIm1vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9FeHBvcnQuY2xhc3NpZmllci50b0Fzc2V0XCIsIG1vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9FeHBvcnQuY2xhc3NpZmllci50b0Fzc2V0KTtcbm1vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9FeHBvcnQuc2VyaWFsaXplUmVnaW9uID0gZnVuY3Rpb24ocmVnaW9uKSB7XG4gIGlmIChyZWdpb24gaW5zdGFuY2VvZiBlZS5HZW9tZXRyeSkge1xuICAgIHJlZ2lvbiA9IHJlZ2lvbi50b0dlb0pTT04oKTtcbiAgfSBlbHNlIGlmIChcInN0cmluZ1wiID09PSB0eXBlb2YgcmVnaW9uKSB7XG4gICAgdHJ5IHtcbiAgICAgIHJlZ2lvbiA9IGdvb2cuYXNzZXJ0cy5hc3NlcnRPYmplY3QoSlNPTi5wYXJzZShyZWdpb24pKTtcbiAgICB9IGNhdGNoICh4KSB7XG4gICAgICB0aHJvdyBFcnJvcihcIkludmFsaWQgZm9ybWF0IGZvciByZWdpb24gcHJvcGVydHkuIFJlZ2lvbiBtdXN0IGJlIEdlb0pTT04gTGluZWFyUmluZyBvciBQb2x5Z29uIHNwZWNpZmllZCBhcyBhY3R1YWwgY29vcmRpbmF0ZXMgb3Igc2VyaWFsaXplZCBhcyBhIHN0cmluZy4gU2VlIEV4cG9ydCBkb2N1bWVudGF0aW9uLlwiKTtcbiAgICB9XG4gIH1cbiAgaWYgKCEoZ29vZy5pc09iamVjdChyZWdpb24pICYmIFwidHlwZVwiIGluIHJlZ2lvbikpIHtcbiAgICB0cnkge1xuICAgICAgbmV3IGVlLkdlb21ldHJ5LkxpbmVTdHJpbmcocmVnaW9uKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICB0cnkge1xuICAgICAgICBuZXcgZWUuR2VvbWV0cnkuUG9seWdvbihyZWdpb24pO1xuICAgICAgfSBjYXRjaCAoZTIpIHtcbiAgICAgICAgdGhyb3cgRXJyb3IoXCJJbnZhbGlkIGZvcm1hdCBmb3IgcmVnaW9uIHByb3BlcnR5LiBSZWdpb24gbXVzdCBiZSBHZW9KU09OIExpbmVhclJpbmcgb3IgUG9seWdvbiBzcGVjaWZpZWQgYXMgYWN0dWFsIGNvb3JkaW5hdGVzIG9yIHNlcmlhbGl6ZWQgYXMgYSBzdHJpbmcuIFNlZSBFeHBvcnQgZG9jdW1lbnRhdGlvbi5cIik7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiBKU09OLnN0cmluZ2lmeShyZWdpb24pO1xufTtcbm1vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9FeHBvcnQucmVzb2x2ZVJlZ2lvblBhcmFtID0gZnVuY3Rpb24ocGFyYW1zKSB7XG4gIHBhcmFtcyA9IG1vZHVsZSRjb250ZW50cyRnb29nJG9iamVjdF9jbG9uZShwYXJhbXMpO1xuICBpZiAoIXBhcmFtcy5yZWdpb24pIHtcbiAgICByZXR1cm4gZ29vZy5Qcm9taXNlLnJlc29sdmUocGFyYW1zKTtcbiAgfVxuICB2YXIgcmVnaW9uID0gcGFyYW1zLnJlZ2lvbjtcbiAgaWYgKHJlZ2lvbiBpbnN0YW5jZW9mIGVlLkNvbXB1dGVkT2JqZWN0KSB7XG4gICAgcmV0dXJuIHJlZ2lvbiBpbnN0YW5jZW9mIGVlLkVsZW1lbnQgJiYgKHJlZ2lvbiA9IHJlZ2lvbi5nZW9tZXRyeSgpKSwgbmV3IGdvb2cuUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIHJlZ2lvbi5nZXRJbmZvKGZ1bmN0aW9uKHJlZ2lvbkluZm8sIGVycm9yKSB7XG4gICAgICAgIGVycm9yID8gcmVqZWN0KGVycm9yKSA6IChwYXJhbXMucmVnaW9uID0gcGFyYW1zLnR5cGUgPT09IGVlLmRhdGEuRXhwb3J0VHlwZS5JTUFHRSA/IG5ldyBlZS5HZW9tZXRyeShyZWdpb25JbmZvKSA6IG1vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9FeHBvcnQuc2VyaWFsaXplUmVnaW9uKHJlZ2lvbkluZm8pLCByZXNvbHZlKHBhcmFtcykpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cbiAgcGFyYW1zLnJlZ2lvbiA9IHBhcmFtcy50eXBlID09PSBlZS5kYXRhLkV4cG9ydFR5cGUuSU1BR0UgPyBuZXcgZWUuR2VvbWV0cnkocmVnaW9uKSA6IG1vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9FeHBvcnQuc2VyaWFsaXplUmVnaW9uKHJlZ2lvbik7XG4gIHJldHVybiBnb29nLlByb21pc2UucmVzb2x2ZShwYXJhbXMpO1xufTtcbm1vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9FeHBvcnQuZXh0cmFjdEVsZW1lbnQgPSBmdW5jdGlvbihleHBvcnRBcmdzKSB7XG4gIHZhciBpc0luQXJncyA9IGZ1bmN0aW9uKGtleSkge1xuICAgIHJldHVybiBrZXkgaW4gZXhwb3J0QXJncztcbiAgfSwgZWVFbGVtZW50S2V5ID0gbW9kdWxlJGNvbnRlbnRzJGVlJGJhdGNoX0V4cG9ydC5FRV9FTEVNRU5UX0tFWVMuZmluZChpc0luQXJncyk7XG4gIGdvb2cuYXNzZXJ0cy5hc3NlcnQoMSA9PT0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfY291bnQobW9kdWxlJGNvbnRlbnRzJGVlJGJhdGNoX0V4cG9ydC5FRV9FTEVNRU5UX0tFWVMsIGlzSW5BcmdzKSwgJ0V4cGVjdGVkIGEgc2luZ2xlIFwiaW1hZ2VcIiwgXCJjb2xsZWN0aW9uXCIgb3IgXCJjbGFzc2lmaWVyXCIga2V5LicpO1xuICB2YXIgZWxlbWVudCA9IGV4cG9ydEFyZ3NbZWVFbGVtZW50S2V5XTtcbiAgaWYgKGVsZW1lbnQgaW5zdGFuY2VvZiBlZS5JbWFnZSkge1xuICAgIHZhciByZXN1bHQgPSBlbGVtZW50O1xuICB9IGVsc2UgaWYgKGVsZW1lbnQgaW5zdGFuY2VvZiBlZS5GZWF0dXJlQ29sbGVjdGlvbikge1xuICAgIHJlc3VsdCA9IGVsZW1lbnQ7XG4gIH0gZWxzZSBpZiAoZWxlbWVudCBpbnN0YW5jZW9mIGVlLkltYWdlQ29sbGVjdGlvbikge1xuICAgIHJlc3VsdCA9IGVsZW1lbnQ7XG4gIH0gZWxzZSBpZiAoZWxlbWVudCBpbnN0YW5jZW9mIGVlLkVsZW1lbnQpIHtcbiAgICByZXN1bHQgPSBlbGVtZW50O1xuICB9IGVsc2UgaWYgKGVsZW1lbnQgaW5zdGFuY2VvZiBlZS5Db21wdXRlZE9iamVjdCkge1xuICAgIHJlc3VsdCA9IGVsZW1lbnQ7XG4gIH0gZWxzZSB7XG4gICAgdGhyb3cgRXJyb3IoXCJVbmtub3duIGVsZW1lbnQgdHlwZSBwcm92aWRlZDogXCIgKyB0eXBlb2YgZWxlbWVudCArIFwiLiBFeHBlY3RlZDogIGVlLkltYWdlLCBlZS5JbWFnZUNvbGxlY3Rpb24sIGVlLkZlYXR1cmVDb2xsZWN0aW9uLCAgZWUuRWxlbWVudCBvciBlZS5Db21wdXRlZE9iamVjdC5cIik7XG4gIH1cbiAgZGVsZXRlIGV4cG9ydEFyZ3NbZWVFbGVtZW50S2V5XTtcbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5tb2R1bGUkY29udGVudHMkZWUkYmF0Y2hfRXhwb3J0LmNvbnZlcnRUb1NlcnZlclBhcmFtcyA9IGZ1bmN0aW9uKG9yaWdpbmFsQXJncywgZGVzdGluYXRpb24sIGV4cG9ydFR5cGUsIHNlcmlhbGl6ZVJlZ2lvbikge1xuICBzZXJpYWxpemVSZWdpb24gPSB2b2lkIDAgPT09IHNlcmlhbGl6ZVJlZ2lvbiA/ICEwIDogc2VyaWFsaXplUmVnaW9uO1xuICB2YXIgdGFza0NvbmZpZyA9IHt0eXBlOmV4cG9ydFR5cGV9O1xuICBPYmplY3QuYXNzaWduKHRhc2tDb25maWcsIG9yaWdpbmFsQXJncyk7XG4gIHN3aXRjaChleHBvcnRUeXBlKSB7XG4gICAgY2FzZSBlZS5kYXRhLkV4cG9ydFR5cGUuSU1BR0U6XG4gICAgICB0YXNrQ29uZmlnID0gbW9kdWxlJGNvbnRlbnRzJGVlJGJhdGNoX0V4cG9ydC5pbWFnZS5wcmVwYXJlVGFza0NvbmZpZ18odGFza0NvbmZpZywgZGVzdGluYXRpb24pO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBlZS5kYXRhLkV4cG9ydFR5cGUuTUFQOlxuICAgICAgdGFza0NvbmZpZyA9IG1vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9FeHBvcnQubWFwLnByZXBhcmVUYXNrQ29uZmlnXyh0YXNrQ29uZmlnLCBkZXN0aW5hdGlvbik7XG4gICAgICBicmVhaztcbiAgICBjYXNlIGVlLmRhdGEuRXhwb3J0VHlwZS5UQUJMRTpcbiAgICAgIHRhc2tDb25maWcgPSBtb2R1bGUkY29udGVudHMkZWUkYmF0Y2hfRXhwb3J0LnRhYmxlLnByZXBhcmVUYXNrQ29uZmlnXyh0YXNrQ29uZmlnLCBkZXN0aW5hdGlvbik7XG4gICAgICBicmVhaztcbiAgICBjYXNlIGVlLmRhdGEuRXhwb3J0VHlwZS5WSURFTzpcbiAgICAgIHRhc2tDb25maWcgPSBtb2R1bGUkY29udGVudHMkZWUkYmF0Y2hfRXhwb3J0LnZpZGVvLnByZXBhcmVUYXNrQ29uZmlnXyh0YXNrQ29uZmlnLCBkZXN0aW5hdGlvbik7XG4gICAgICBicmVhaztcbiAgICBjYXNlIGVlLmRhdGEuRXhwb3J0VHlwZS5WSURFT19NQVA6XG4gICAgICB0YXNrQ29uZmlnID0gbW9kdWxlJGNvbnRlbnRzJGVlJGJhdGNoX0V4cG9ydC52aWRlb01hcC5wcmVwYXJlVGFza0NvbmZpZ18odGFza0NvbmZpZywgZGVzdGluYXRpb24pO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBlZS5kYXRhLkV4cG9ydFR5cGUuQ0xBU1NJRklFUjpcbiAgICAgIHRhc2tDb25maWcgPSBtb2R1bGUkY29udGVudHMkZWUkYmF0Y2hfRXhwb3J0LmNsYXNzaWZpZXIucHJlcGFyZVRhc2tDb25maWdfKHRhc2tDb25maWcsIGRlc3RpbmF0aW9uKTtcbiAgICAgIGJyZWFrO1xuICAgIGRlZmF1bHQ6XG4gICAgICB0aHJvdyBFcnJvcihcIlVua25vd24gZXhwb3J0IHR5cGU6IFwiICsgdGFza0NvbmZpZy50eXBlKTtcbiAgfVxuICBzZXJpYWxpemVSZWdpb24gJiYgbnVsbCAhPSB0YXNrQ29uZmlnLnJlZ2lvbiAmJiAodGFza0NvbmZpZy5yZWdpb24gPSBtb2R1bGUkY29udGVudHMkZWUkYmF0Y2hfRXhwb3J0LnNlcmlhbGl6ZVJlZ2lvbih0YXNrQ29uZmlnLnJlZ2lvbikpO1xuICByZXR1cm4gdGFza0NvbmZpZztcbn07XG5tb2R1bGUkY29udGVudHMkZWUkYmF0Y2hfRXhwb3J0LnByZXBhcmVEZXN0aW5hdGlvbl8gPSBmdW5jdGlvbih0YXNrQ29uZmlnLCBkZXN0aW5hdGlvbikge1xuICBzd2l0Y2goZGVzdGluYXRpb24pIHtcbiAgICBjYXNlIGVlLmRhdGEuRXhwb3J0RGVzdGluYXRpb24uR0NTOlxuICAgICAgdGFza0NvbmZpZy5vdXRwdXRCdWNrZXQgPSB0YXNrQ29uZmlnLmJ1Y2tldCB8fCBcIlwiO1xuICAgICAgdGFza0NvbmZpZy5vdXRwdXRQcmVmaXggPSB0YXNrQ29uZmlnLmZpbGVOYW1lUHJlZml4IHx8IHRhc2tDb25maWcucGF0aCB8fCBcIlwiO1xuICAgICAgZGVsZXRlIHRhc2tDb25maWcuZmlsZU5hbWVQcmVmaXg7XG4gICAgICBkZWxldGUgdGFza0NvbmZpZy5wYXRoO1xuICAgICAgZGVsZXRlIHRhc2tDb25maWcuYnVja2V0O1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBlZS5kYXRhLkV4cG9ydERlc3RpbmF0aW9uLkFTU0VUOlxuICAgICAgdGFza0NvbmZpZy5hc3NldElkID0gdGFza0NvbmZpZy5hc3NldElkIHx8IFwiXCI7XG4gICAgICBicmVhaztcbiAgICBjYXNlIGVlLmRhdGEuRXhwb3J0RGVzdGluYXRpb24uRkVBVFVSRV9WSUVXOlxuICAgICAgdGFza0NvbmZpZy5tYXBOYW1lID0gdGFza0NvbmZpZy5tYXBOYW1lIHx8IFwiXCI7XG4gICAgICBicmVhaztcbiAgICBkZWZhdWx0OlxuICAgICAgdmFyIGZvbGRlclR5cGUgPSBnb29nLnR5cGVPZih0YXNrQ29uZmlnLmZvbGRlcik7XG4gICAgICBpZiAoIW1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X2NvbnRhaW5zKFtcInN0cmluZ1wiLCBcInVuZGVmaW5lZFwiXSwgZm9sZGVyVHlwZSkpIHtcbiAgICAgICAgdGhyb3cgRXJyb3IoJ0Vycm9yOiB0b0RyaXZlIFwiZm9sZGVyXCIgcGFyYW1ldGVyIG11c3QgYmUgYSBzdHJpbmcsIGJ1dCBpcyBvZiB0eXBlICcgKyBmb2xkZXJUeXBlICsgXCIuXCIpO1xuICAgICAgfVxuICAgICAgdGFza0NvbmZpZy5kcml2ZUZvbGRlciA9IHRhc2tDb25maWcuZm9sZGVyIHx8IFwiXCI7XG4gICAgICB0YXNrQ29uZmlnLmRyaXZlRmlsZU5hbWVQcmVmaXggPSB0YXNrQ29uZmlnLmZpbGVOYW1lUHJlZml4IHx8IFwiXCI7XG4gICAgICBkZWxldGUgdGFza0NvbmZpZy5mb2xkZXI7XG4gICAgICBkZWxldGUgdGFza0NvbmZpZy5maWxlTmFtZVByZWZpeDtcbiAgfVxuICByZXR1cm4gdGFza0NvbmZpZztcbn07XG5tb2R1bGUkY29udGVudHMkZWUkYmF0Y2hfRXhwb3J0LmltYWdlLnByZXBhcmVUYXNrQ29uZmlnXyA9IGZ1bmN0aW9uKHRhc2tDb25maWcsIGRlc3RpbmF0aW9uKSB7XG4gIG51bGwgPT0gdGFza0NvbmZpZy5maWxlRm9ybWF0ICYmICh0YXNrQ29uZmlnLmZpbGVGb3JtYXQgPSBcIkdlb1RJRkZcIik7XG4gIHRhc2tDb25maWcgPSBtb2R1bGUkY29udGVudHMkZWUkYmF0Y2hfRXhwb3J0LnJlY29uY2lsZUltYWdlRm9ybWF0KHRhc2tDb25maWcpO1xuICB0YXNrQ29uZmlnID0gbW9kdWxlJGNvbnRlbnRzJGVlJGJhdGNoX0V4cG9ydC5wcmVwYXJlRGVzdGluYXRpb25fKHRhc2tDb25maWcsIGRlc3RpbmF0aW9uKTtcbiAgbnVsbCAhPSB0YXNrQ29uZmlnLmNyc1RyYW5zZm9ybSAmJiAodGFza0NvbmZpZ1ttb2R1bGUkY29udGVudHMkZWUkYmF0Y2hfRXhwb3J0LkNSU19UUkFOU0ZPUk1fS0VZXSA9IHRhc2tDb25maWcuY3JzVHJhbnNmb3JtLCBkZWxldGUgdGFza0NvbmZpZy5jcnNUcmFuc2Zvcm0pO1xuICByZXR1cm4gdGFza0NvbmZpZztcbn07XG5tb2R1bGUkY29udGVudHMkZWUkYmF0Y2hfRXhwb3J0LnRhYmxlLnByZXBhcmVUYXNrQ29uZmlnXyA9IGZ1bmN0aW9uKHRhc2tDb25maWcsIGRlc3RpbmF0aW9uKSB7XG4gIEFycmF5LmlzQXJyYXkodGFza0NvbmZpZy5zZWxlY3RvcnMpICYmICh0YXNrQ29uZmlnLnNlbGVjdG9ycyA9IHRhc2tDb25maWcuc2VsZWN0b3JzLmpvaW4oKSk7XG4gIHRhc2tDb25maWcgPSBtb2R1bGUkY29udGVudHMkZWUkYmF0Y2hfRXhwb3J0LnJlY29uY2lsZVRhYmxlRm9ybWF0KHRhc2tDb25maWcpO1xuICByZXR1cm4gdGFza0NvbmZpZyA9IG1vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9FeHBvcnQucHJlcGFyZURlc3RpbmF0aW9uXyh0YXNrQ29uZmlnLCBkZXN0aW5hdGlvbik7XG59O1xubW9kdWxlJGNvbnRlbnRzJGVlJGJhdGNoX0V4cG9ydC5tYXAucHJlcGFyZVRhc2tDb25maWdfID0gZnVuY3Rpb24odGFza0NvbmZpZywgZGVzdGluYXRpb24pIHtcbiAgdGFza0NvbmZpZyA9IG1vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9FeHBvcnQucHJlcGFyZURlc3RpbmF0aW9uXyh0YXNrQ29uZmlnLCBkZXN0aW5hdGlvbik7XG4gIHJldHVybiB0YXNrQ29uZmlnID0gbW9kdWxlJGNvbnRlbnRzJGVlJGJhdGNoX0V4cG9ydC5yZWNvbmNpbGVNYXBGb3JtYXQodGFza0NvbmZpZyk7XG59O1xubW9kdWxlJGNvbnRlbnRzJGVlJGJhdGNoX0V4cG9ydC52aWRlby5wcmVwYXJlVGFza0NvbmZpZ18gPSBmdW5jdGlvbih0YXNrQ29uZmlnLCBkZXN0aW5hdGlvbikge1xuICB0YXNrQ29uZmlnID0gbW9kdWxlJGNvbnRlbnRzJGVlJGJhdGNoX0V4cG9ydC5yZWNvbmNpbGVWaWRlb0Zvcm1hdF8odGFza0NvbmZpZyk7XG4gIHRhc2tDb25maWcgPSBtb2R1bGUkY29udGVudHMkZWUkYmF0Y2hfRXhwb3J0LnByZXBhcmVEZXN0aW5hdGlvbl8odGFza0NvbmZpZywgZGVzdGluYXRpb24pO1xuICBudWxsICE9IHRhc2tDb25maWcuY3JzVHJhbnNmb3JtICYmICh0YXNrQ29uZmlnW21vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9FeHBvcnQuQ1JTX1RSQU5TRk9STV9LRVldID0gdGFza0NvbmZpZy5jcnNUcmFuc2Zvcm0sIGRlbGV0ZSB0YXNrQ29uZmlnLmNyc1RyYW5zZm9ybSk7XG4gIHJldHVybiB0YXNrQ29uZmlnO1xufTtcbm1vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9FeHBvcnQudmlkZW9NYXAucHJlcGFyZVRhc2tDb25maWdfID0gZnVuY3Rpb24odGFza0NvbmZpZywgZGVzdGluYXRpb24pIHtcbiAgdGFza0NvbmZpZyA9IG1vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9FeHBvcnQucmVjb25jaWxlVmlkZW9Gb3JtYXRfKHRhc2tDb25maWcpO1xuICB0YXNrQ29uZmlnLnZlcnNpb24gPSB0YXNrQ29uZmlnLnZlcnNpb24gfHwgbW9kdWxlJGNvbnRlbnRzJGVlJGJhdGNoX1ZpZGVvTWFwVmVyc2lvbi5WMTtcbiAgdGFza0NvbmZpZy5zdHJpZGUgPSB0YXNrQ29uZmlnLnN0cmlkZSB8fCAxO1xuICB0YXNrQ29uZmlnLnRpbGVEaW1lbnNpb25zID0ge3dpZHRoOnRhc2tDb25maWcudGlsZVdpZHRoIHx8IDI1NiwgaGVpZ2h0OnRhc2tDb25maWcudGlsZUhlaWdodCB8fCAyNTZ9O1xuICByZXR1cm4gdGFza0NvbmZpZyA9IG1vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9FeHBvcnQucHJlcGFyZURlc3RpbmF0aW9uXyh0YXNrQ29uZmlnLCBkZXN0aW5hdGlvbik7XG59O1xubW9kdWxlJGNvbnRlbnRzJGVlJGJhdGNoX0V4cG9ydC5jbGFzc2lmaWVyLnByZXBhcmVUYXNrQ29uZmlnXyA9IGZ1bmN0aW9uKHRhc2tDb25maWcsIGRlc3RpbmF0aW9uKSB7XG4gIHJldHVybiB0YXNrQ29uZmlnID0gbW9kdWxlJGNvbnRlbnRzJGVlJGJhdGNoX0V4cG9ydC5wcmVwYXJlRGVzdGluYXRpb25fKHRhc2tDb25maWcsIGRlc3RpbmF0aW9uKTtcbn07XG52YXIgbW9kdWxlJGNvbnRlbnRzJGVlJGJhdGNoX1ZpZGVvRm9ybWF0ID0ge01QNDpcIk1QNFwiLCBHSUY6XCJHSUZcIiwgVlA5OlwiVlA5XCIsfSwgbW9kdWxlJGNvbnRlbnRzJGVlJGJhdGNoX01hcEZvcm1hdCA9IHtBVVRPX0pQRUdfUE5HOlwiQVVUT19KUEVHX1BOR1wiLCBKUEVHOlwiSlBFR1wiLCBQTkc6XCJQTkdcIix9LCBtb2R1bGUkY29udGVudHMkZWUkYmF0Y2hfSW1hZ2VGb3JtYXQgPSB7R0VPX1RJRkY6XCJHRU9fVElGRlwiLCBURl9SRUNPUkRfSU1BR0U6XCJURl9SRUNPUkRfSU1BR0VcIix9LCBtb2R1bGUkY29udGVudHMkZWUkYmF0Y2hfVGFibGVGb3JtYXQgPSB7Q1NWOlwiQ1NWXCIsIEdFT19KU09OOlwiR0VPX0pTT05cIiwgS01MOlwiS01MXCIsIEtNWjpcIktNWlwiLCBTSFA6XCJTSFBcIiwgVEZfUkVDT1JEX1RBQkxFOlwiVEZfUkVDT1JEX1RBQkxFXCIsfSwgbW9kdWxlJGNvbnRlbnRzJGVlJGJhdGNoX1ZpZGVvTWFwVmVyc2lvbiA9IHtWMTpcIlYxXCIsIFYyOlwiVjJcIix9LCBtb2R1bGUkY29udGVudHMkZWUkYmF0Y2hfRk9STUFUX09QVElPTlNfTUFQID0gXG57R0VPX1RJRkY6W1wiY2xvdWRPcHRpbWl6ZWRcIiwgXCJmaWxlRGltZW5zaW9uc1wiLCBcInNoYXJkU2l6ZVwiLF0sIFRGX1JFQ09SRF9JTUFHRTpcInBhdGNoRGltZW5zaW9ucyBrZXJuZWxTaXplIGNvbXByZXNzZWQgbWF4RmlsZVNpemUgZGVmYXVsdFZhbHVlIHRlbnNvckRlcHRocyBzZXF1ZW5jZURhdGEgY29sbGFwc2VCYW5kcyBtYXNrZWRUaHJlc2hvbGRcIi5zcGxpdChcIiBcIil9LCBtb2R1bGUkY29udGVudHMkZWUkYmF0Y2hfRk9STUFUX1BSRUZJWF9NQVAgPSB7R0VPX1RJRkY6XCJ0aWZmXCIsIFRGX1JFQ09SRF9JTUFHRTpcInRmcmVjb3JkXCJ9O1xubW9kdWxlJGNvbnRlbnRzJGVlJGJhdGNoX0V4cG9ydC5yZWNvbmNpbGVWaWRlb0Zvcm1hdF8gPSBmdW5jdGlvbih0YXNrQ29uZmlnKSB7XG4gIHRhc2tDb25maWcudmlkZW9PcHRpb25zID0gdGFza0NvbmZpZy5mcmFtZXNQZXJTZWNvbmQgfHwgNTtcbiAgdGFza0NvbmZpZy5tYXhGcmFtZXMgPSB0YXNrQ29uZmlnLm1heEZyYW1lcyB8fCAxRTM7XG4gIHRhc2tDb25maWcubWF4UGl4ZWxzID0gdGFza0NvbmZpZy5tYXhQaXhlbHMgfHwgMUU4O1xuICB2YXIgZm9ybWF0U3RyaW5nID0gdGFza0NvbmZpZy5maWxlRm9ybWF0O1xuICBudWxsID09IGZvcm1hdFN0cmluZyAmJiAoZm9ybWF0U3RyaW5nID0gbW9kdWxlJGNvbnRlbnRzJGVlJGJhdGNoX1ZpZGVvRm9ybWF0Lk1QNCk7XG4gIGZvcm1hdFN0cmluZyA9IGZvcm1hdFN0cmluZy50b1VwcGVyQ2FzZSgpO1xuICBzd2l0Y2goZm9ybWF0U3RyaW5nKSB7XG4gICAgY2FzZSBcIk1QNFwiOlxuICAgICAgZm9ybWF0U3RyaW5nID0gbW9kdWxlJGNvbnRlbnRzJGVlJGJhdGNoX1ZpZGVvRm9ybWF0Lk1QNDtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgXCJHSUZcIjpcbiAgICBjYXNlIFwiSklGXCI6XG4gICAgICBmb3JtYXRTdHJpbmcgPSBtb2R1bGUkY29udGVudHMkZWUkYmF0Y2hfVmlkZW9Gb3JtYXQuR0lGO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBcIlZQOVwiOlxuICAgIGNhc2UgXCJXRUJNXCI6XG4gICAgICBmb3JtYXRTdHJpbmcgPSBtb2R1bGUkY29udGVudHMkZWUkYmF0Y2hfVmlkZW9Gb3JtYXQuVlA5O1xuICAgICAgYnJlYWs7XG4gICAgZGVmYXVsdDpcbiAgICAgIHRocm93IEVycm9yKFwiSW52YWxpZCBmaWxlIGZvcm1hdCBcIiArIGZvcm1hdFN0cmluZyArIFwiLiBTdXBwb3J0ZWQgZm9ybWF0cyBhcmU6ICdNUDQnLCAnR0lGJywgYW5kICdXRUJNJy5cIik7XG4gIH1cbiAgdGFza0NvbmZpZy5maWxlRm9ybWF0ID0gZm9ybWF0U3RyaW5nO1xuICByZXR1cm4gdGFza0NvbmZpZztcbn07XG5tb2R1bGUkY29udGVudHMkZWUkYmF0Y2hfRXhwb3J0LnJlY29uY2lsZUltYWdlRm9ybWF0ID0gZnVuY3Rpb24odGFza0NvbmZpZykge1xuICB2YXIgZm9ybWF0U3RyaW5nID0gdGFza0NvbmZpZy5maWxlRm9ybWF0O1xuICBudWxsID09IGZvcm1hdFN0cmluZyAmJiAoZm9ybWF0U3RyaW5nID0gbW9kdWxlJGNvbnRlbnRzJGVlJGJhdGNoX0ltYWdlRm9ybWF0LkdFT19USUZGKTtcbiAgZm9ybWF0U3RyaW5nID0gZm9ybWF0U3RyaW5nLnRvVXBwZXJDYXNlKCk7XG4gIHN3aXRjaChmb3JtYXRTdHJpbmcpIHtcbiAgICBjYXNlIFwiVElGRlwiOlxuICAgIGNhc2UgXCJUSUZcIjpcbiAgICBjYXNlIFwiR0VPX1RJRkZcIjpcbiAgICBjYXNlIFwiR0VPVElGRlwiOlxuICAgICAgZm9ybWF0U3RyaW5nID0gbW9kdWxlJGNvbnRlbnRzJGVlJGJhdGNoX0ltYWdlRm9ybWF0LkdFT19USUZGO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBcIlRGX1JFQ09SRFwiOlxuICAgIGNhc2UgXCJURl9SRUNPUkRfSU1BR0VcIjpcbiAgICBjYXNlIFwiVEZSRUNPUkRcIjpcbiAgICAgIGZvcm1hdFN0cmluZyA9IG1vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9JbWFnZUZvcm1hdC5URl9SRUNPUkRfSU1BR0U7XG4gICAgICBicmVhaztcbiAgICBkZWZhdWx0OlxuICAgICAgdGhyb3cgRXJyb3IoXCJJbnZhbGlkIGZpbGUgZm9ybWF0IFwiICsgZm9ybWF0U3RyaW5nICsgXCIuIFN1cHBvcnRlZCBmb3JtYXRzIGFyZTogJ0dFT1RJRkYnLCAnVEZSRUNPUkQnLlwiKTtcbiAgfVxuICB0YXNrQ29uZmlnLmZpbGVGb3JtYXQgPSBmb3JtYXRTdHJpbmc7XG4gIGlmIChudWxsICE9IHRhc2tDb25maWcuZm9ybWF0T3B0aW9ucykge1xuICAgIHZhciBmb3JtYXRPcHRpb25zID0gbW9kdWxlJGNvbnRlbnRzJGVlJGJhdGNoX0V4cG9ydC5wcmVmaXhJbWFnZUZvcm1hdE9wdGlvbnNfKHRhc2tDb25maWcsIGZvcm1hdFN0cmluZyk7XG4gICAgZGVsZXRlIHRhc2tDb25maWcuZm9ybWF0T3B0aW9ucztcbiAgICBPYmplY3QuYXNzaWduKHRhc2tDb25maWcsIGZvcm1hdE9wdGlvbnMpO1xuICB9XG4gIHJldHVybiB0YXNrQ29uZmlnO1xufTtcbm1vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9FeHBvcnQucmVjb25jaWxlTWFwRm9ybWF0ID0gZnVuY3Rpb24odGFza0NvbmZpZykge1xuICB2YXIgZm9ybWF0U3RyaW5nID0gdGFza0NvbmZpZy5maWxlRm9ybWF0O1xuICBudWxsID09IGZvcm1hdFN0cmluZyAmJiAoZm9ybWF0U3RyaW5nID0gbW9kdWxlJGNvbnRlbnRzJGVlJGJhdGNoX01hcEZvcm1hdC5BVVRPX0pQRUdfUE5HKTtcbiAgZm9ybWF0U3RyaW5nID0gZm9ybWF0U3RyaW5nLnRvVXBwZXJDYXNlKCk7XG4gIHN3aXRjaChmb3JtYXRTdHJpbmcpIHtcbiAgICBjYXNlIFwiQVVUT1wiOlxuICAgIGNhc2UgXCJBVVRPX0pQRUdfUE5HXCI6XG4gICAgY2FzZSBcIkFVVE9fSlBHX1BOR1wiOlxuICAgICAgZm9ybWF0U3RyaW5nID0gbW9kdWxlJGNvbnRlbnRzJGVlJGJhdGNoX01hcEZvcm1hdC5BVVRPX0pQRUdfUE5HO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBcIkpQR1wiOlxuICAgIGNhc2UgXCJKUEVHXCI6XG4gICAgICBmb3JtYXRTdHJpbmcgPSBtb2R1bGUkY29udGVudHMkZWUkYmF0Y2hfTWFwRm9ybWF0LkpQRUc7XG4gICAgICBicmVhaztcbiAgICBjYXNlIFwiUE5HXCI6XG4gICAgICBmb3JtYXRTdHJpbmcgPSBtb2R1bGUkY29udGVudHMkZWUkYmF0Y2hfTWFwRm9ybWF0LlBORztcbiAgICAgIGJyZWFrO1xuICAgIGRlZmF1bHQ6XG4gICAgICB0aHJvdyBFcnJvcihcIkludmFsaWQgZmlsZSBmb3JtYXQgXCIgKyBmb3JtYXRTdHJpbmcgKyBcIi4gU3VwcG9ydGVkIGZvcm1hdHMgYXJlOiAnQVVUTycsICdQTkcnLCBhbmQgJ0pQRUcnLlwiKTtcbiAgfVxuICB0YXNrQ29uZmlnLmZpbGVGb3JtYXQgPSBmb3JtYXRTdHJpbmc7XG4gIHJldHVybiB0YXNrQ29uZmlnO1xufTtcbm1vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9FeHBvcnQucmVjb25jaWxlVGFibGVGb3JtYXQgPSBmdW5jdGlvbih0YXNrQ29uZmlnKSB7XG4gIHZhciBmb3JtYXRTdHJpbmcgPSB0YXNrQ29uZmlnLmZpbGVGb3JtYXQ7XG4gIG51bGwgPT0gZm9ybWF0U3RyaW5nICYmIChmb3JtYXRTdHJpbmcgPSBtb2R1bGUkY29udGVudHMkZWUkYmF0Y2hfVGFibGVGb3JtYXQuQ1NWKTtcbiAgZm9ybWF0U3RyaW5nID0gZm9ybWF0U3RyaW5nLnRvVXBwZXJDYXNlKCk7XG4gIHN3aXRjaChmb3JtYXRTdHJpbmcpIHtcbiAgICBjYXNlIFwiQ1NWXCI6XG4gICAgICBmb3JtYXRTdHJpbmcgPSBtb2R1bGUkY29udGVudHMkZWUkYmF0Y2hfVGFibGVGb3JtYXQuQ1NWO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBcIkpTT05cIjpcbiAgICBjYXNlIFwiR0VPSlNPTlwiOlxuICAgIGNhc2UgXCJHRU9fSlNPTlwiOlxuICAgICAgZm9ybWF0U3RyaW5nID0gbW9kdWxlJGNvbnRlbnRzJGVlJGJhdGNoX1RhYmxlRm9ybWF0LkdFT19KU09OO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBcIktNTFwiOlxuICAgICAgZm9ybWF0U3RyaW5nID0gbW9kdWxlJGNvbnRlbnRzJGVlJGJhdGNoX1RhYmxlRm9ybWF0LktNTDtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgXCJLTVpcIjpcbiAgICAgIGZvcm1hdFN0cmluZyA9IG1vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9UYWJsZUZvcm1hdC5LTVo7XG4gICAgICBicmVhaztcbiAgICBjYXNlIFwiU0hQXCI6XG4gICAgICBmb3JtYXRTdHJpbmcgPSBtb2R1bGUkY29udGVudHMkZWUkYmF0Y2hfVGFibGVGb3JtYXQuU0hQO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBcIlRGX1JFQ09SRFwiOlxuICAgIGNhc2UgXCJURl9SRUNPUkRfVEFCTEVcIjpcbiAgICBjYXNlIFwiVEZSRUNPUkRcIjpcbiAgICAgIGZvcm1hdFN0cmluZyA9IG1vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9UYWJsZUZvcm1hdC5URl9SRUNPUkRfVEFCTEU7XG4gICAgICBicmVhaztcbiAgICBkZWZhdWx0OlxuICAgICAgdGhyb3cgRXJyb3IoXCJJbnZhbGlkIGZpbGUgZm9ybWF0IFwiICsgZm9ybWF0U3RyaW5nICsgXCIuIFN1cHBvcnRlZCBmb3JtYXRzIGFyZTogJ0NTVicsICdHZW9KU09OJywgJ0tNTCcsICdLTVonLCAnU0hQJywgYW5kICdURlJlY29yZCcuXCIpO1xuICB9XG4gIHRhc2tDb25maWcuZmlsZUZvcm1hdCA9IGZvcm1hdFN0cmluZztcbiAgcmV0dXJuIHRhc2tDb25maWc7XG59O1xubW9kdWxlJGNvbnRlbnRzJGVlJGJhdGNoX0V4cG9ydC5wcmVmaXhJbWFnZUZvcm1hdE9wdGlvbnNfID0gZnVuY3Rpb24odGFza0NvbmZpZywgaW1hZ2VGb3JtYXQpIHtcbiAgdmFyIGZvcm1hdE9wdGlvbnMgPSB0YXNrQ29uZmlnLmZvcm1hdE9wdGlvbnM7XG4gIGlmIChudWxsID09IGZvcm1hdE9wdGlvbnMpIHtcbiAgICByZXR1cm4ge307XG4gIH1cbiAgaWYgKE9iamVjdC5rZXlzKHRhc2tDb25maWcpLnNvbWUoZnVuY3Rpb24oa2V5KSB7XG4gICAgcmV0dXJuIG1vZHVsZSRjb250ZW50cyRnb29nJG9iamVjdF9jb250YWluc0tleShmb3JtYXRPcHRpb25zLCBrZXkpO1xuICB9KSkge1xuICAgIHRocm93IEVycm9yKFwiUGFyYW1ldGVyIHNwZWNpZmllZCBhdCBsZWFzdCB0d2ljZTogb25jZSBpbiBjb25maWcsIGFuZCBvbmNlIGluIGNvbmZpZyBmb3JtYXQgb3B0aW9ucy5cIik7XG4gIH1cbiAgZm9yICh2YXIgcHJlZml4ID0gbW9kdWxlJGNvbnRlbnRzJGVlJGJhdGNoX0ZPUk1BVF9QUkVGSVhfTUFQW2ltYWdlRm9ybWF0XSwgdmFsaWRPcHRpb25LZXlzID0gbW9kdWxlJGNvbnRlbnRzJGVlJGJhdGNoX0ZPUk1BVF9PUFRJT05TX01BUFtpbWFnZUZvcm1hdF0sIHByZWZpeGVkT3B0aW9ucyA9IHt9LCAkanNjb21wJGl0ZXIkMzQgPSAkanNjb21wLm1ha2VJdGVyYXRvcihPYmplY3QuZW50cmllcyhmb3JtYXRPcHRpb25zKSksICRqc2NvbXAka2V5JCA9ICRqc2NvbXAkaXRlciQzNC5uZXh0KCk7ICEkanNjb21wJGtleSQuZG9uZTsgJGpzY29tcCRrZXkkID0gJGpzY29tcCRpdGVyJDM0Lm5leHQoKSkge1xuICAgIHZhciAkanNjb21wJGRlc3RydWN0dXJpbmckdmFyNTAgPSAkanNjb21wLm1ha2VJdGVyYXRvcigkanNjb21wJGtleSQudmFsdWUpLCBrZXkkanNjb21wJDAgPSAkanNjb21wJGRlc3RydWN0dXJpbmckdmFyNTAubmV4dCgpLnZhbHVlLCB2YWx1ZSA9ICRqc2NvbXAkZGVzdHJ1Y3R1cmluZyR2YXI1MC5uZXh0KCkudmFsdWU7XG4gICAgaWYgKCFtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9jb250YWlucyh2YWxpZE9wdGlvbktleXMsIGtleSRqc2NvbXAkMCkpIHtcbiAgICAgIHZhciB2YWxpZEtleXNNc2cgPSB2YWxpZE9wdGlvbktleXMuam9pbihcIiwgXCIpO1xuICAgICAgdGhyb3cgRXJyb3IoJ1wiJyArIGtleSRqc2NvbXAkMCArICdcIiBpcyBub3QgYSB2YWxpZCBvcHRpb24sIHRoZSBpbWFnZSBmb3JtYXQgXCInICsgaW1hZ2VGb3JtYXQgKyAnXCJcIm1heSBoYXZlIHRoZSBmb2xsb3dpbmcgb3B0aW9uczogJyArICh2YWxpZEtleXNNc2cgKyAnXCIuJykpO1xuICAgIH1cbiAgICB2YXIgcHJlZml4ZWRLZXkgPSBwcmVmaXggKyBrZXkkanNjb21wJDBbMF0udG9VcHBlckNhc2UoKSArIGtleSRqc2NvbXAkMC5zdWJzdHJpbmcoMSk7XG4gICAgQXJyYXkuaXNBcnJheSh2YWx1ZSkgPyBwcmVmaXhlZE9wdGlvbnNbcHJlZml4ZWRLZXldID0gdmFsdWUuam9pbigpIDogcHJlZml4ZWRPcHRpb25zW3ByZWZpeGVkS2V5XSA9IHZhbHVlO1xuICB9XG4gIHJldHVybiBwcmVmaXhlZE9wdGlvbnM7XG59O1xubW9kdWxlJGNvbnRlbnRzJGVlJGJhdGNoX0V4cG9ydC5DUlNfVFJBTlNGT1JNX0tFWSA9IFwiY3JzX3RyYW5zZm9ybVwiO1xubW9kdWxlJGNvbnRlbnRzJGVlJGJhdGNoX0V4cG9ydC5FRV9FTEVNRU5UX0tFWVMgPSBbXCJpbWFnZVwiLCBcImNvbGxlY3Rpb25cIiwgXCJjbGFzc2lmaWVyXCJdO1xuZWUuYmF0Y2guRXhwb3J0ID0gbW9kdWxlJGNvbnRlbnRzJGVlJGJhdGNoX0V4cG9ydDtcbmVlLmJhdGNoLkV4cG9ydFRhc2sgPSBtb2R1bGUkY29udGVudHMkZWUkYmF0Y2hfRXhwb3J0VGFzaztcbmVlLmJhdGNoLkltYWdlRm9ybWF0ID0gbW9kdWxlJGNvbnRlbnRzJGVlJGJhdGNoX0ltYWdlRm9ybWF0O1xuZWUuYmF0Y2guTWFwRm9ybWF0ID0gbW9kdWxlJGNvbnRlbnRzJGVlJGJhdGNoX01hcEZvcm1hdDtcbmVlLmJhdGNoLlNlcnZlclRhc2tDb25maWcgPSB7fTtcbmVlLmJhdGNoLlRhYmxlRm9ybWF0ID0gbW9kdWxlJGNvbnRlbnRzJGVlJGJhdGNoX1RhYmxlRm9ybWF0O1xuZWUuYmF0Y2guVmlkZW9Gb3JtYXQgPSBtb2R1bGUkY29udGVudHMkZWUkYmF0Y2hfVmlkZW9Gb3JtYXQ7XG5lZS5OdW1iZXIgPSBmdW5jdGlvbihudW1iZXIpIHtcbiAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIGVlLk51bWJlcikpIHtcbiAgICByZXR1cm4gZWUuQ29tcHV0ZWRPYmplY3QuY29uc3RydWN0KGVlLk51bWJlciwgYXJndW1lbnRzKTtcbiAgfVxuICBpZiAobnVtYmVyIGluc3RhbmNlb2YgZWUuTnVtYmVyKSB7XG4gICAgcmV0dXJuIG51bWJlcjtcbiAgfVxuICBlZS5OdW1iZXIuaW5pdGlhbGl6ZSgpO1xuICBpZiAoXCJudW1iZXJcIiA9PT0gdHlwZW9mIG51bWJlcikge1xuICAgIGVlLkNvbXB1dGVkT2JqZWN0LmNhbGwodGhpcywgbnVsbCwgbnVsbCksIHRoaXMubnVtYmVyXyA9IG51bWJlcjtcbiAgfSBlbHNlIGlmIChudW1iZXIgaW5zdGFuY2VvZiBlZS5Db21wdXRlZE9iamVjdCkge1xuICAgIGVlLkNvbXB1dGVkT2JqZWN0LmNhbGwodGhpcywgbnVtYmVyLmZ1bmMsIG51bWJlci5hcmdzLCBudW1iZXIudmFyTmFtZSksIHRoaXMubnVtYmVyXyA9IG51bGw7XG4gIH0gZWxzZSB7XG4gICAgdGhyb3cgRXJyb3IoXCJJbnZhbGlkIGFyZ3VtZW50IHNwZWNpZmllZCBmb3IgZWUuTnVtYmVyKCk6IFwiICsgbnVtYmVyKTtcbiAgfVxufTtcbmdvb2cuaW5oZXJpdHMoZWUuTnVtYmVyLCBlZS5Db21wdXRlZE9iamVjdCk7XG5nb29nLmV4cG9ydFN5bWJvbChcImVlLk51bWJlclwiLCBlZS5OdW1iZXIpO1xuZWUuTnVtYmVyLmluaXRpYWxpemVkXyA9ICExO1xuZWUuTnVtYmVyLmluaXRpYWxpemUgPSBmdW5jdGlvbigpIHtcbiAgZWUuTnVtYmVyLmluaXRpYWxpemVkXyB8fCAoZWUuQXBpRnVuY3Rpb24uaW1wb3J0QXBpKGVlLk51bWJlciwgXCJOdW1iZXJcIiwgXCJOdW1iZXJcIiksIGVlLk51bWJlci5pbml0aWFsaXplZF8gPSAhMCk7XG59O1xuZWUuTnVtYmVyLnJlc2V0ID0gZnVuY3Rpb24oKSB7XG4gIGVlLkFwaUZ1bmN0aW9uLmNsZWFyQXBpKGVlLk51bWJlcik7XG4gIGVlLk51bWJlci5pbml0aWFsaXplZF8gPSAhMTtcbn07XG5lZS5OdW1iZXIucHJvdG90eXBlLmVuY29kZSA9IGZ1bmN0aW9uKGVuY29kZXIpIHtcbiAgcmV0dXJuIFwibnVtYmVyXCIgPT09IHR5cGVvZiB0aGlzLm51bWJlcl8gPyB0aGlzLm51bWJlcl8gOiBlZS5OdW1iZXIuc3VwZXJDbGFzc18uZW5jb2RlLmNhbGwodGhpcywgZW5jb2Rlcik7XG59O1xuZWUuTnVtYmVyLnByb3RvdHlwZS5lbmNvZGVDbG91ZFZhbHVlID0gZnVuY3Rpb24oc2VyaWFsaXplcikge1xuICByZXR1cm4gXCJudW1iZXJcIiA9PT0gdHlwZW9mIHRoaXMubnVtYmVyXyA/IGVlLnJwY19ub2RlLnJlZmVyZW5jZShzZXJpYWxpemVyLm1ha2VSZWZlcmVuY2UodGhpcy5udW1iZXJfKSkgOiBlZS5OdW1iZXIuc3VwZXJDbGFzc18uZW5jb2RlQ2xvdWRWYWx1ZS5jYWxsKHRoaXMsIHNlcmlhbGl6ZXIpO1xufTtcbmVlLk51bWJlci5wcm90b3R5cGUubmFtZSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gXCJOdW1iZXJcIjtcbn07XG5lZS5TdHJpbmcgPSBmdW5jdGlvbihzdHJpbmcpIHtcbiAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIGVlLlN0cmluZykpIHtcbiAgICByZXR1cm4gZWUuQ29tcHV0ZWRPYmplY3QuY29uc3RydWN0KGVlLlN0cmluZywgYXJndW1lbnRzKTtcbiAgfVxuICBpZiAoc3RyaW5nIGluc3RhbmNlb2YgZWUuU3RyaW5nKSB7XG4gICAgcmV0dXJuIHN0cmluZztcbiAgfVxuICBlZS5TdHJpbmcuaW5pdGlhbGl6ZSgpO1xuICBpZiAoXCJzdHJpbmdcIiA9PT0gdHlwZW9mIHN0cmluZykge1xuICAgIGVlLkNvbXB1dGVkT2JqZWN0LmNhbGwodGhpcywgbnVsbCwgbnVsbCksIHRoaXMuc3RyaW5nXyA9IHN0cmluZztcbiAgfSBlbHNlIGlmIChzdHJpbmcgaW5zdGFuY2VvZiBlZS5Db21wdXRlZE9iamVjdCkge1xuICAgIHRoaXMuc3RyaW5nXyA9IG51bGwsIHN0cmluZy5mdW5jICYmIFwiU3RyaW5nXCIgPT0gc3RyaW5nLmZ1bmMuZ2V0U2lnbmF0dXJlKCkucmV0dXJucyA/IGVlLkNvbXB1dGVkT2JqZWN0LmNhbGwodGhpcywgc3RyaW5nLmZ1bmMsIHN0cmluZy5hcmdzLCBzdHJpbmcudmFyTmFtZSkgOiBlZS5Db21wdXRlZE9iamVjdC5jYWxsKHRoaXMsIG5ldyBlZS5BcGlGdW5jdGlvbihcIlN0cmluZ1wiKSwge2lucHV0OnN0cmluZ30sIG51bGwpO1xuICB9IGVsc2Uge1xuICAgIHRocm93IEVycm9yKFwiSW52YWxpZCBhcmd1bWVudCBzcGVjaWZpZWQgZm9yIGVlLlN0cmluZygpOiBcIiArIHN0cmluZyk7XG4gIH1cbn07XG5nb29nLmluaGVyaXRzKGVlLlN0cmluZywgZWUuQ29tcHV0ZWRPYmplY3QpO1xuZ29vZy5leHBvcnRTeW1ib2woXCJlZS5TdHJpbmdcIiwgZWUuU3RyaW5nKTtcbmVlLlN0cmluZy5pbml0aWFsaXplZF8gPSAhMTtcbmVlLlN0cmluZy5pbml0aWFsaXplID0gZnVuY3Rpb24oKSB7XG4gIGVlLlN0cmluZy5pbml0aWFsaXplZF8gfHwgKGVlLkFwaUZ1bmN0aW9uLmltcG9ydEFwaShlZS5TdHJpbmcsIFwiU3RyaW5nXCIsIFwiU3RyaW5nXCIpLCBlZS5TdHJpbmcuaW5pdGlhbGl6ZWRfID0gITApO1xufTtcbmVlLlN0cmluZy5yZXNldCA9IGZ1bmN0aW9uKCkge1xuICBlZS5BcGlGdW5jdGlvbi5jbGVhckFwaShlZS5TdHJpbmcpO1xuICBlZS5TdHJpbmcuaW5pdGlhbGl6ZWRfID0gITE7XG59O1xuZWUuU3RyaW5nLnByb3RvdHlwZS5lbmNvZGUgPSBmdW5jdGlvbihlbmNvZGVyKSB7XG4gIHJldHVybiBcInN0cmluZ1wiID09PSB0eXBlb2YgdGhpcy5zdHJpbmdfID8gdGhpcy5zdHJpbmdfIDogZWUuU3RyaW5nLnN1cGVyQ2xhc3NfLmVuY29kZS5jYWxsKHRoaXMsIGVuY29kZXIpO1xufTtcbmVlLlN0cmluZy5wcm90b3R5cGUuZW5jb2RlQ2xvdWRWYWx1ZSA9IGZ1bmN0aW9uKHNlcmlhbGl6ZXIpIHtcbiAgcmV0dXJuIFwic3RyaW5nXCIgPT09IHR5cGVvZiB0aGlzLnN0cmluZ18gPyBlZS5ycGNfbm9kZS5yZWZlcmVuY2Uoc2VyaWFsaXplci5tYWtlUmVmZXJlbmNlKHRoaXMuc3RyaW5nXykpIDogZWUuU3RyaW5nLnN1cGVyQ2xhc3NfLmVuY29kZUNsb3VkVmFsdWUuY2FsbCh0aGlzLCBzZXJpYWxpemVyKTtcbn07XG5lZS5TdHJpbmcucHJvdG90eXBlLm5hbWUgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIFwiU3RyaW5nXCI7XG59O1xuZWUuQ3VzdG9tRnVuY3Rpb24gPSBmdW5jdGlvbihzaWduYXR1cmUsIGJvZHkpIHtcbiAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIGVlLkN1c3RvbUZ1bmN0aW9uKSkge1xuICAgIHJldHVybiBlZS5Db21wdXRlZE9iamVjdC5jb25zdHJ1Y3QoZWUuQ3VzdG9tRnVuY3Rpb24sIGFyZ3VtZW50cyk7XG4gIH1cbiAgZm9yICh2YXIgdmFycyA9IFtdLCBhcmdzID0gc2lnbmF0dXJlLmFyZ3MsIGkgPSAwOyBpIDwgYXJncy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBhcmcgPSBhcmdzW2ldO1xuICAgIHZhcnMucHVzaChlZS5DdXN0b21GdW5jdGlvbi52YXJpYWJsZShlZS5UeXBlcy5uYW1lVG9DbGFzcyhhcmcudHlwZSksIGFyZy5uYW1lKSk7XG4gIH1cbiAgaWYgKHZvaWQgMCA9PT0gYm9keS5hcHBseShudWxsLCB2YXJzKSkge1xuICAgIHRocm93IEVycm9yKFwiVXNlci1kZWZpbmVkIG1ldGhvZHMgbXVzdCByZXR1cm4gYSB2YWx1ZS5cIik7XG4gIH1cbiAgdGhpcy5zaWduYXR1cmVfID0gZWUuQ3VzdG9tRnVuY3Rpb24ucmVzb2x2ZU5hbWVsZXNzQXJnc18oc2lnbmF0dXJlLCB2YXJzLCBib2R5KTtcbiAgdGhpcy5ib2R5XyA9IGJvZHkuYXBwbHkobnVsbCwgdmFycyk7XG59O1xuZ29vZy5pbmhlcml0cyhlZS5DdXN0b21GdW5jdGlvbiwgZWUuRnVuY3Rpb24pO1xuZ29vZy5leHBvcnRTeW1ib2woXCJlZS5DdXN0b21GdW5jdGlvblwiLCBlZS5DdXN0b21GdW5jdGlvbik7XG5lZS5DdXN0b21GdW5jdGlvbi5wcm90b3R5cGUuZW5jb2RlID0gZnVuY3Rpb24oZW5jb2Rlcikge1xuICByZXR1cm4ge3R5cGU6XCJGdW5jdGlvblwiLCBhcmd1bWVudE5hbWVzOm1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X21hcCh0aGlzLnNpZ25hdHVyZV8uYXJncywgZnVuY3Rpb24oYXJnKSB7XG4gICAgcmV0dXJuIGFyZy5uYW1lO1xuICB9KSwgYm9keTplbmNvZGVyKHRoaXMuYm9keV8pfTtcbn07XG5lZS5DdXN0b21GdW5jdGlvbi5wcm90b3R5cGUuZW5jb2RlQ2xvdWRWYWx1ZSA9IGZ1bmN0aW9uKHNlcmlhbGl6ZXIpIHtcbiAgcmV0dXJuIGVlLnJwY19ub2RlLmZ1bmN0aW9uRGVmaW5pdGlvbih0aGlzLnNpZ25hdHVyZV8uYXJncy5tYXAoZnVuY3Rpb24oYXJnKSB7XG4gICAgcmV0dXJuIGFyZy5uYW1lO1xuICB9KSwgc2VyaWFsaXplci5tYWtlUmVmZXJlbmNlKHRoaXMuYm9keV8pKTtcbn07XG5lZS5DdXN0b21GdW5jdGlvbi5wcm90b3R5cGUuZW5jb2RlQ2xvdWRJbnZvY2F0aW9uID0gZnVuY3Rpb24oc2VyaWFsaXplciwgYXJncykge1xuICByZXR1cm4gZWUucnBjX25vZGUuZnVuY3Rpb25CeVJlZmVyZW5jZShzZXJpYWxpemVyLm1ha2VSZWZlcmVuY2UodGhpcyksIGFyZ3MpO1xufTtcbmVlLkN1c3RvbUZ1bmN0aW9uLnByb3RvdHlwZS5nZXRTaWduYXR1cmUgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuc2lnbmF0dXJlXztcbn07XG5lZS5DdXN0b21GdW5jdGlvbi52YXJpYWJsZSA9IGZ1bmN0aW9uKHR5cGUsIG5hbWUkanNjb21wJDApIHtcbiAgdHlwZSA9IHR5cGUgfHwgT2JqZWN0O1xuICBpZiAoISh0eXBlLnByb3RvdHlwZSBpbnN0YW5jZW9mIGVlLkNvbXB1dGVkT2JqZWN0KSkge1xuICAgIGlmICh0eXBlICYmIHR5cGUgIT0gT2JqZWN0KSB7XG4gICAgICBpZiAodHlwZSA9PSBTdHJpbmcpIHtcbiAgICAgICAgdHlwZSA9IGVlLlN0cmluZztcbiAgICAgIH0gZWxzZSBpZiAodHlwZSA9PSBOdW1iZXIpIHtcbiAgICAgICAgdHlwZSA9IGVlLk51bWJlcjtcbiAgICAgIH0gZWxzZSBpZiAodHlwZSA9PSBBcnJheSkge1xuICAgICAgICB0eXBlID0gZ29vZy5nbG9iYWwuZWUuTGlzdDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IEVycm9yKFwiVmFyaWFibGVzIG11c3QgYmUgb2YgYW4gRUUgdHlwZSwgZS5nLiBlZS5JbWFnZSBvciBlZS5OdW1iZXIuXCIpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0eXBlID0gZWUuQ29tcHV0ZWRPYmplY3Q7XG4gICAgfVxuICB9XG4gIHZhciBrbGFzcyA9IGZ1bmN0aW9uKG5hbWUpIHtcbiAgICB0aGlzLmFyZ3MgPSB0aGlzLmZ1bmMgPSBudWxsO1xuICAgIHRoaXMudmFyTmFtZSA9IG5hbWU7XG4gIH07XG4gIGtsYXNzLnByb3RvdHlwZSA9IHR5cGUucHJvdG90eXBlO1xuICByZXR1cm4gbmV3IGtsYXNzKG5hbWUkanNjb21wJDApO1xufTtcbmVlLkN1c3RvbUZ1bmN0aW9uLmNyZWF0ZSA9IGZ1bmN0aW9uKGZ1bmMsIHJldHVyblR5cGUsIGFyZ190eXBlcykge1xuICB2YXIgc3RyaW5naWZ5VHlwZSA9IGZ1bmN0aW9uKHR5cGUpIHtcbiAgICByZXR1cm4gXCJzdHJpbmdcIiA9PT0gdHlwZW9mIHR5cGUgPyB0eXBlIDogZWUuVHlwZXMuY2xhc3NUb05hbWUodHlwZSk7XG4gIH0sIGFyZ3MgPSBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9tYXAoYXJnX3R5cGVzLCBmdW5jdGlvbihhcmdUeXBlKSB7XG4gICAgcmV0dXJuIHtuYW1lOm51bGwsIHR5cGU6c3RyaW5naWZ5VHlwZShhcmdUeXBlKX07XG4gIH0pLCBzaWduYXR1cmUgPSB7bmFtZTpcIlwiLCByZXR1cm5zOnN0cmluZ2lmeVR5cGUocmV0dXJuVHlwZSksIGFyZ3M6YXJnc307XG4gIHJldHVybiBuZXcgZWUuQ3VzdG9tRnVuY3Rpb24oc2lnbmF0dXJlLCBmdW5jKTtcbn07XG5lZS5DdXN0b21GdW5jdGlvbi5yZXNvbHZlTmFtZWxlc3NBcmdzXyA9IGZ1bmN0aW9uKHNpZ25hdHVyZSwgdmFycywgYm9keSkge1xuICBmb3IgKHZhciBuYW1lbGVzc0FyZ0luZGljZXMgPSBbXSwgaSA9IDA7IGkgPCB2YXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgbnVsbCA9PT0gdmFyc1tpXS52YXJOYW1lICYmIG5hbWVsZXNzQXJnSW5kaWNlcy5wdXNoKGkpO1xuICB9XG4gIGlmICgwID09PSBuYW1lbGVzc0FyZ0luZGljZXMubGVuZ3RoKSB7XG4gICAgcmV0dXJuIHNpZ25hdHVyZTtcbiAgfVxuICBmb3IgKHZhciBiYXNlTmFtZSA9IFwiX01BUFBJTkdfVkFSX1wiICsgZnVuY3Rpb24oZXhwcmVzc2lvbikge1xuICAgIHZhciBjb3VudE5vZGVzID0gZnVuY3Rpb24obm9kZXMpIHtcbiAgICAgIHJldHVybiBub2Rlcy5tYXAoY291bnROb2RlKS5yZWR1Y2UoZnVuY3Rpb24oYSwgYikge1xuICAgICAgICByZXR1cm4gYSArIGI7XG4gICAgICB9LCAwKTtcbiAgICB9LCBjb3VudE5vZGUgPSBmdW5jdGlvbihub2RlKSB7XG4gICAgICByZXR1cm4gbm9kZS5mdW5jdGlvbkRlZmluaXRpb25WYWx1ZSA/IDEgOiBub2RlLmFycmF5VmFsdWUgPyBjb3VudE5vZGVzKG5vZGUuYXJyYXlWYWx1ZS52YWx1ZXMpIDogbm9kZS5kaWN0aW9uYXJ5VmFsdWUgPyBjb3VudE5vZGVzKE9iamVjdC52YWx1ZXMobm9kZS5kaWN0aW9uYXJ5VmFsdWUudmFsdWVzKSkgOiBub2RlLmZ1bmN0aW9uSW52b2NhdGlvblZhbHVlID8gY291bnROb2RlcyhPYmplY3QudmFsdWVzKG5vZGUuZnVuY3Rpb25JbnZvY2F0aW9uVmFsdWUuYXJndW1lbnRzKSkgOiAwO1xuICAgIH07XG4gICAgcmV0dXJuIGNvdW50Tm9kZXMoT2JqZWN0LnZhbHVlcyhleHByZXNzaW9uLnZhbHVlcykpO1xuICB9KGVlLlNlcmlhbGl6ZXIuZW5jb2RlQ2xvdWRBcGlFeHByZXNzaW9uKGJvZHkuYXBwbHkobnVsbCwgdmFycyksIFwiPHVuYm91bmQ+XCIpKSArIFwiX1wiLCBpJDcwID0gMDsgaSQ3MCA8IG5hbWVsZXNzQXJnSW5kaWNlcy5sZW5ndGg7IGkkNzArKykge1xuICAgIHZhciBpbmRleCA9IG5hbWVsZXNzQXJnSW5kaWNlc1tpJDcwXSwgbmFtZSA9IGJhc2VOYW1lICsgaSQ3MDtcbiAgICB2YXJzW2luZGV4XS52YXJOYW1lID0gbmFtZTtcbiAgICBzaWduYXR1cmUuYXJnc1tpbmRleF0ubmFtZSA9IG5hbWU7XG4gIH1cbiAgcmV0dXJuIHNpZ25hdHVyZTtcbn07XG5lZS5EYXRlID0gZnVuY3Rpb24oZGF0ZSwgb3B0X3R6KSB7XG4gIGlmICghKHRoaXMgaW5zdGFuY2VvZiBlZS5EYXRlKSkge1xuICAgIHJldHVybiBlZS5Db21wdXRlZE9iamVjdC5jb25zdHJ1Y3QoZWUuRGF0ZSwgYXJndW1lbnRzKTtcbiAgfVxuICBpZiAoZGF0ZSBpbnN0YW5jZW9mIGVlLkRhdGUpIHtcbiAgICByZXR1cm4gZGF0ZTtcbiAgfVxuICBlZS5EYXRlLmluaXRpYWxpemUoKTtcbiAgdmFyIGpzQXJncyA9IGVlLmFyZ3VtZW50cy5leHRyYWN0RnJvbUZ1bmN0aW9uKGVlLkRhdGUsIGFyZ3VtZW50cyk7XG4gIGRhdGUgPSBqc0FyZ3MuZGF0ZTtcbiAgdmFyIHR6ID0ganNBcmdzLnR6LCBmdW5jID0gbmV3IGVlLkFwaUZ1bmN0aW9uKFwiRGF0ZVwiKSwgYXJncyA9IHt9LCB2YXJOYW1lID0gbnVsbDtcbiAgaWYgKGVlLlR5cGVzLmlzU3RyaW5nKGRhdGUpKSB7XG4gICAgaWYgKGFyZ3MudmFsdWUgPSBkYXRlLCB0eikge1xuICAgICAgaWYgKGVlLlR5cGVzLmlzU3RyaW5nKHR6KSkge1xuICAgICAgICBhcmdzLnRpbWVab25lID0gdHo7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBFcnJvcihcIkludmFsaWQgYXJndW1lbnQgc3BlY2lmaWVkIGZvciBlZS5EYXRlKC4uLiwgb3B0X3R6KTogXCIgKyB0eik7XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2UgaWYgKGVlLlR5cGVzLmlzTnVtYmVyKGRhdGUpKSB7XG4gICAgYXJncy52YWx1ZSA9IGRhdGU7XG4gIH0gZWxzZSBpZiAoZ29vZy5pc0RhdGVMaWtlKGRhdGUpKSB7XG4gICAgYXJncy52YWx1ZSA9IE1hdGguZmxvb3IoZGF0ZS5nZXRUaW1lKCkpO1xuICB9IGVsc2UgaWYgKGRhdGUgaW5zdGFuY2VvZiBlZS5Db21wdXRlZE9iamVjdCkge1xuICAgIGRhdGUuZnVuYyAmJiBcIkRhdGVcIiA9PSBkYXRlLmZ1bmMuZ2V0U2lnbmF0dXJlKCkucmV0dXJucyA/IChmdW5jID0gZGF0ZS5mdW5jLCBhcmdzID0gZGF0ZS5hcmdzLCB2YXJOYW1lID0gZGF0ZS52YXJOYW1lKSA6IGFyZ3MudmFsdWUgPSBkYXRlO1xuICB9IGVsc2Uge1xuICAgIHRocm93IEVycm9yKFwiSW52YWxpZCBhcmd1bWVudCBzcGVjaWZpZWQgZm9yIGVlLkRhdGUoKTogXCIgKyBkYXRlKTtcbiAgfVxuICBlZS5Db21wdXRlZE9iamVjdC5jYWxsKHRoaXMsIGZ1bmMsIGFyZ3MsIHZhck5hbWUpO1xufTtcbmdvb2cuaW5oZXJpdHMoZWUuRGF0ZSwgZWUuQ29tcHV0ZWRPYmplY3QpO1xuZ29vZy5leHBvcnRTeW1ib2woXCJlZS5EYXRlXCIsIGVlLkRhdGUpO1xuZWUuRGF0ZS5pbml0aWFsaXplZF8gPSAhMTtcbmVlLkRhdGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uKCkge1xuICBlZS5EYXRlLmluaXRpYWxpemVkXyB8fCAoZWUuQXBpRnVuY3Rpb24uaW1wb3J0QXBpKGVlLkRhdGUsIFwiRGF0ZVwiLCBcIkRhdGVcIiksIGVlLkRhdGUuaW5pdGlhbGl6ZWRfID0gITApO1xufTtcbmVlLkRhdGUucmVzZXQgPSBmdW5jdGlvbigpIHtcbiAgZWUuQXBpRnVuY3Rpb24uY2xlYXJBcGkoZWUuRGF0ZSk7XG4gIGVlLkRhdGUuaW5pdGlhbGl6ZWRfID0gITE7XG59O1xuZWUuRGF0ZS5wcm90b3R5cGUubmFtZSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gXCJEYXRlXCI7XG59O1xuZWUuRGVzZXJpYWxpemVyID0gZnVuY3Rpb24oKSB7XG59O1xuZ29vZy5leHBvcnRTeW1ib2woXCJlZS5EZXNlcmlhbGl6ZXJcIiwgZWUuRGVzZXJpYWxpemVyKTtcbmVlLkRlc2VyaWFsaXplci5mcm9tSlNPTiA9IGZ1bmN0aW9uKGpzb24pIHtcbiAgcmV0dXJuIGVlLkRlc2VyaWFsaXplci5kZWNvZGUoSlNPTi5wYXJzZShqc29uKSk7XG59O1xuZ29vZy5leHBvcnRTeW1ib2woXCJlZS5EZXNlcmlhbGl6ZXIuZnJvbUpTT05cIiwgZWUuRGVzZXJpYWxpemVyLmZyb21KU09OKTtcbmVlLkRlc2VyaWFsaXplci5kZWNvZGUgPSBmdW5jdGlvbihqc29uKSB7XG4gIGlmIChcInJlc3VsdFwiIGluIGpzb24gJiYgXCJ2YWx1ZXNcIiBpbiBqc29uKSB7XG4gICAgcmV0dXJuIGVlLkRlc2VyaWFsaXplci5kZWNvZGVDbG91ZEFwaShqc29uKTtcbiAgfVxuICB2YXIgbmFtZWRWYWx1ZXMgPSB7fTtcbiAgaWYgKGdvb2cuaXNPYmplY3QoanNvbikgJiYgXCJDb21wb3VuZFZhbHVlXCIgPT09IGpzb24udHlwZSkge1xuICAgIGZvciAodmFyIHNjb3BlcyA9IGpzb24uc2NvcGUsIGkgPSAwOyBpIDwgc2NvcGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIga2V5ID0gc2NvcGVzW2ldWzBdLCB2YWx1ZSA9IHNjb3Blc1tpXVsxXTtcbiAgICAgIGlmIChrZXkgaW4gbmFtZWRWYWx1ZXMpIHtcbiAgICAgICAgdGhyb3cgRXJyb3IoJ0R1cGxpY2F0ZSBzY29wZSBrZXkgXCInICsga2V5ICsgJ1wiIGluIHNjb3BlICMnICsgaSArIFwiLlwiKTtcbiAgICAgIH1cbiAgICAgIG5hbWVkVmFsdWVzW2tleV0gPSBlZS5EZXNlcmlhbGl6ZXIuZGVjb2RlVmFsdWVfKHZhbHVlLCBuYW1lZFZhbHVlcyk7XG4gICAgfVxuICAgIGpzb24gPSBqc29uLnZhbHVlO1xuICB9XG4gIHJldHVybiBlZS5EZXNlcmlhbGl6ZXIuZGVjb2RlVmFsdWVfKGpzb24sIG5hbWVkVmFsdWVzKTtcbn07XG5nb29nLmV4cG9ydFN5bWJvbChcImVlLkRlc2VyaWFsaXplci5kZWNvZGVcIiwgZWUuRGVzZXJpYWxpemVyLmRlY29kZSk7XG5lZS5EZXNlcmlhbGl6ZXIuZGVjb2RlVmFsdWVfID0gZnVuY3Rpb24oanNvbiwgbmFtZWRWYWx1ZXMpIHtcbiAgaWYgKG51bGwgPT09IGpzb24gfHwgXCJudW1iZXJcIiA9PT0gdHlwZW9mIGpzb24gfHwgXCJib29sZWFuXCIgPT09IHR5cGVvZiBqc29uIHx8IFwic3RyaW5nXCIgPT09IHR5cGVvZiBqc29uKSB7XG4gICAgcmV0dXJuIGpzb247XG4gIH1cbiAgaWYgKEFycmF5LmlzQXJyYXkoanNvbikpIHtcbiAgICByZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfbWFwKGpzb24sIGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICAgIHJldHVybiBlZS5EZXNlcmlhbGl6ZXIuZGVjb2RlVmFsdWVfKGVsZW1lbnQsIG5hbWVkVmFsdWVzKTtcbiAgICB9KTtcbiAgfVxuICBpZiAoIWdvb2cuaXNPYmplY3QoanNvbikgfHwgXCJmdW5jdGlvblwiID09PSB0eXBlb2YganNvbikge1xuICAgIHRocm93IEVycm9yKFwiQ2Fubm90IGRlY29kZSBvYmplY3Q6IFwiICsganNvbik7XG4gIH1cbiAgdmFyIHR5cGVOYW1lID0ganNvbi50eXBlO1xuICBzd2l0Y2godHlwZU5hbWUpIHtcbiAgICBjYXNlIFwiVmFsdWVSZWZcIjpcbiAgICAgIGlmIChqc29uLnZhbHVlIGluIG5hbWVkVmFsdWVzKSB7XG4gICAgICAgIHJldHVybiBuYW1lZFZhbHVlc1tqc29uLnZhbHVlXTtcbiAgICAgIH1cbiAgICAgIHRocm93IEVycm9yKFwiVW5rbm93biBWYWx1ZVJlZjogXCIgKyBqc29uKTtcbiAgICBjYXNlIFwiQXJndW1lbnRSZWZcIjpcbiAgICAgIHZhciB2YXJOYW1lID0ganNvbi52YWx1ZTtcbiAgICAgIGlmIChcInN0cmluZ1wiICE9PSB0eXBlb2YgdmFyTmFtZSkge1xuICAgICAgICB0aHJvdyBFcnJvcihcIkludmFsaWQgdmFyaWFibGUgbmFtZTogXCIgKyB2YXJOYW1lKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBlZS5DdXN0b21GdW5jdGlvbi52YXJpYWJsZShPYmplY3QsIHZhck5hbWUpO1xuICAgIGNhc2UgXCJEYXRlXCI6XG4gICAgICB2YXIgbWljcm9zZWNvbmRzID0ganNvbi52YWx1ZTtcbiAgICAgIGlmIChcIm51bWJlclwiICE9PSB0eXBlb2YgbWljcm9zZWNvbmRzKSB7XG4gICAgICAgIHRocm93IEVycm9yKFwiSW52YWxpZCBkYXRlIHZhbHVlOiBcIiArIG1pY3Jvc2Vjb25kcyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gbmV3IGVlLkRhdGUobWljcm9zZWNvbmRzIC8gMUUzKTtcbiAgICBjYXNlIFwiQnl0ZXNcIjpcbiAgICAgIHJldHVybiBlZS5EZXNlcmlhbGl6ZXIucm91bmRUcmlwXyhuZXcgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5WYWx1ZU5vZGUoe2J5dGVzVmFsdWU6anNvbn0pLCBqc29uKTtcbiAgICBjYXNlIFwiSW52b2NhdGlvblwiOlxuICAgICAgdmFyIGZ1bmMgPSBcImZ1bmN0aW9uTmFtZVwiIGluIGpzb24gPyBlZS5BcGlGdW5jdGlvbi5sb29rdXAoanNvbi5mdW5jdGlvbk5hbWUpIDogZWUuRGVzZXJpYWxpemVyLmRlY29kZVZhbHVlXyhqc29uW1wiZnVuY3Rpb25cIl0sIG5hbWVkVmFsdWVzKTtcbiAgICAgIHZhciBhcmdzID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckb2JqZWN0X21hcChqc29uLmFyZ3VtZW50cywgZnVuY3Rpb24oZWxlbWVudCkge1xuICAgICAgICByZXR1cm4gZWUuRGVzZXJpYWxpemVyLmRlY29kZVZhbHVlXyhlbGVtZW50LCBuYW1lZFZhbHVlcyk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBlZS5EZXNlcmlhbGl6ZXIuaW52b2NhdGlvbl8oZnVuYywgYXJncyk7XG4gICAgY2FzZSBcIkRpY3Rpb25hcnlcIjpcbiAgICAgIHJldHVybiBtb2R1bGUkY29udGVudHMkZ29vZyRvYmplY3RfbWFwKGpzb24udmFsdWUsIGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICAgICAgcmV0dXJuIGVlLkRlc2VyaWFsaXplci5kZWNvZGVWYWx1ZV8oZWxlbWVudCwgbmFtZWRWYWx1ZXMpO1xuICAgICAgfSk7XG4gICAgY2FzZSBcIkZ1bmN0aW9uXCI6XG4gICAgICB2YXIgYm9keSA9IGVlLkRlc2VyaWFsaXplci5kZWNvZGVWYWx1ZV8oanNvbi5ib2R5LCBuYW1lZFZhbHVlcyksIHNpZ25hdHVyZSA9IHtuYW1lOlwiXCIsIGFyZ3M6bW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfbWFwKGpzb24uYXJndW1lbnROYW1lcywgZnVuY3Rpb24oYXJnTmFtZSkge1xuICAgICAgICByZXR1cm4ge25hbWU6YXJnTmFtZSwgdHlwZTpcIk9iamVjdFwiLCBvcHRpb25hbDohMX07XG4gICAgICB9KSwgcmV0dXJuczpcIk9iamVjdFwifTtcbiAgICAgIHJldHVybiBuZXcgZWUuQ3VzdG9tRnVuY3Rpb24oc2lnbmF0dXJlLCBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIGJvZHk7XG4gICAgICB9KTtcbiAgICBjYXNlIFwiUG9pbnRcIjpcbiAgICBjYXNlIFwiTXVsdGlQb2ludFwiOlxuICAgIGNhc2UgXCJMaW5lU3RyaW5nXCI6XG4gICAgY2FzZSBcIk11bHRpTGluZVN0cmluZ1wiOlxuICAgIGNhc2UgXCJQb2x5Z29uXCI6XG4gICAgY2FzZSBcIk11bHRpUG9seWdvblwiOlxuICAgIGNhc2UgXCJMaW5lYXJSaW5nXCI6XG4gICAgY2FzZSBcIkdlb21ldHJ5Q29sbGVjdGlvblwiOlxuICAgICAgcmV0dXJuIG5ldyBlZS5HZW9tZXRyeShqc29uKTtcbiAgICBjYXNlIFwiQ29tcG91bmRWYWx1ZVwiOlxuICAgICAgdGhyb3cgRXJyb3IoXCJOZXN0ZWQgQ29tcG91bmRWYWx1ZXMgYXJlIGRpc2FsbG93ZWQuXCIpO1xuICAgIGRlZmF1bHQ6XG4gICAgICB0aHJvdyBFcnJvcihcIlVua25vd24gZW5jb2RlZCBvYmplY3QgdHlwZTogXCIgKyB0eXBlTmFtZSk7XG4gIH1cbn07XG5lZS5EZXNlcmlhbGl6ZXIucm91bmRUcmlwXyA9IGZ1bmN0aW9uKG5vZGUsIHZhbHVlKSB7XG4gIHZhciBSZWVuY29kZXIgPSBmdW5jdGlvbigpIHtcbiAgfTtcbiAgJGpzY29tcC5pbmhlcml0cyhSZWVuY29kZXIsIGVlLkVuY29kYWJsZSk7XG4gIFJlZW5jb2Rlci5wcm90b3R5cGUuZW5jb2RlID0gZnVuY3Rpb24oZW5jb2Rlcikge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfTtcbiAgUmVlbmNvZGVyLnByb3RvdHlwZS5lbmNvZGVDbG91ZFZhbHVlID0gZnVuY3Rpb24oZW5jb2Rlcikge1xuICAgIHJldHVybiBub2RlO1xuICB9O1xuICByZXR1cm4gbmV3IFJlZW5jb2RlcigpO1xufTtcbmVlLkRlc2VyaWFsaXplci5pbnZvY2F0aW9uXyA9IGZ1bmN0aW9uKGZ1bmMsIGFyZ3MkanNjb21wJDApIHtcbiAgaWYgKGZ1bmMgaW5zdGFuY2VvZiBlZS5GdW5jdGlvbikge1xuICAgIHJldHVybiBmdW5jLmFwcGx5KGFyZ3MkanNjb21wJDApO1xuICB9XG4gIGlmIChmdW5jIGluc3RhbmNlb2YgZWUuQ29tcHV0ZWRPYmplY3QpIHtcbiAgICB2YXIgQ29tcHV0ZWRGdW5jdGlvbiA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIGVlLkZ1bmN0aW9uLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgICB9O1xuICAgICRqc2NvbXAuaW5oZXJpdHMoQ29tcHV0ZWRGdW5jdGlvbiwgZWUuRnVuY3Rpb24pO1xuICAgIENvbXB1dGVkRnVuY3Rpb24ucHJvdG90eXBlLmVuY29kZSA9IGZ1bmN0aW9uKGVuY29kZXIpIHtcbiAgICAgIHJldHVybiBmdW5jLmVuY29kZShlbmNvZGVyKTtcbiAgICB9O1xuICAgIENvbXB1dGVkRnVuY3Rpb24ucHJvdG90eXBlLmVuY29kZUNsb3VkSW52b2NhdGlvbiA9IGZ1bmN0aW9uKHNlcmlhbGl6ZXIsIGFyZ3MpIHtcbiAgICAgIHJldHVybiBlZS5ycGNfbm9kZS5mdW5jdGlvbkJ5UmVmZXJlbmNlKHNlcmlhbGl6ZXIubWFrZVJlZmVyZW5jZShmdW5jKSwgYXJncyk7XG4gICAgfTtcbiAgICByZXR1cm4gbmV3IGVlLkNvbXB1dGVkT2JqZWN0KG5ldyBDb21wdXRlZEZ1bmN0aW9uKCksIGFyZ3MkanNjb21wJDApO1xuICB9XG4gIHRocm93IEVycm9yKFwiSW52YWxpZCBmdW5jdGlvbiB2YWx1ZVwiKTtcbn07XG5lZS5EZXNlcmlhbGl6ZXIuZnJvbUNsb3VkQXBpSlNPTiA9IGZ1bmN0aW9uKGpzb24pIHtcbiAgcmV0dXJuIGVlLkRlc2VyaWFsaXplci5kZWNvZGVDbG91ZEFwaShKU09OLnBhcnNlKGpzb24pKTtcbn07XG5nb29nLmV4cG9ydFN5bWJvbChcImVlLkRlc2VyaWFsaXplci5mcm9tQ2xvdWRBcGlKU09OXCIsIGVlLkRlc2VyaWFsaXplci5mcm9tQ2xvdWRBcGlKU09OKTtcbmVlLkRlc2VyaWFsaXplci5kZWNvZGVDbG91ZEFwaSA9IGZ1bmN0aW9uKGpzb24pIHtcbiAgdmFyIGV4cHJlc3Npb24gPSBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdF9kZXNlcmlhbGl6ZShtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkV4cHJlc3Npb24sIGpzb24pLCBkZWNvZGVkID0ge30sIGxvb2t1cCA9IGZ1bmN0aW9uKHJlZmVyZW5jZSwga2luZCkge1xuICAgIGlmICghKHJlZmVyZW5jZSBpbiBkZWNvZGVkKSkge1xuICAgICAgaWYgKCEocmVmZXJlbmNlIGluIGV4cHJlc3Npb24udmFsdWVzKSkge1xuICAgICAgICB0aHJvdyBFcnJvcihcIkNhbm5vdCBmaW5kIFwiICsga2luZCArIFwiIFwiICsgcmVmZXJlbmNlKTtcbiAgICAgIH1cbiAgICAgIGRlY29kZWRbcmVmZXJlbmNlXSA9IGRlY29kZShleHByZXNzaW9uLnZhbHVlc1tyZWZlcmVuY2VdKTtcbiAgICB9XG4gICAgcmV0dXJuIGRlY29kZWRbcmVmZXJlbmNlXTtcbiAgfSwgZGVjb2RlID0gZnVuY3Rpb24obm9kZSkge1xuICAgIHJldHVybiBudWxsICE9PSBub2RlLmNvbnN0YW50VmFsdWUgPyBub2RlLmNvbnN0YW50VmFsdWUgOiBudWxsICE9PSBub2RlLmFycmF5VmFsdWUgPyBub2RlLmFycmF5VmFsdWUudmFsdWVzLm1hcChkZWNvZGUpIDogbnVsbCAhPT0gbm9kZS5kaWN0aW9uYXJ5VmFsdWUgPyBtb2R1bGUkY29udGVudHMkZ29vZyRvYmplY3RfbWFwKG5vZGUuZGljdGlvbmFyeVZhbHVlLnZhbHVlcywgZGVjb2RlKSA6IG51bGwgIT09IG5vZGUuYXJndW1lbnRSZWZlcmVuY2UgPyBlZS5DdXN0b21GdW5jdGlvbi52YXJpYWJsZShPYmplY3QsIG5vZGUuYXJndW1lbnRSZWZlcmVuY2UpIDogbnVsbCAhPT0gbm9kZS5mdW5jdGlvbkRlZmluaXRpb25WYWx1ZSA/IGRlY29kZUZ1bmN0aW9uRGVmaW5pdGlvbihub2RlLmZ1bmN0aW9uRGVmaW5pdGlvblZhbHVlKSA6IG51bGwgIT09IG5vZGUuZnVuY3Rpb25JbnZvY2F0aW9uVmFsdWUgPyBkZWNvZGVGdW5jdGlvbkludm9jYXRpb24obm9kZS5mdW5jdGlvbkludm9jYXRpb25WYWx1ZSkgOiBcbiAgICBudWxsICE9PSBub2RlLmJ5dGVzVmFsdWUgPyBlZS5EZXNlcmlhbGl6ZXIucm91bmRUcmlwXyhuZXcgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5WYWx1ZU5vZGUoe2J5dGVzVmFsdWU6bm9kZS5ieXRlc1ZhbHVlfSksIG5vZGUuYnl0ZXNWYWx1ZSkgOiBudWxsICE9PSBub2RlLmludGVnZXJWYWx1ZSA/IGVlLkRlc2VyaWFsaXplci5yb3VuZFRyaXBfKG5ldyBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlZhbHVlTm9kZSh7aW50ZWdlclZhbHVlOm5vZGUuaW50ZWdlclZhbHVlfSksIG5vZGUuaW50ZWdlclZhbHVlKSA6IG51bGwgIT09IG5vZGUudmFsdWVSZWZlcmVuY2UgPyBsb29rdXAobm9kZS52YWx1ZVJlZmVyZW5jZSwgXCJyZWZlcmVuY2VcIikgOiBudWxsO1xuICB9LCBkZWNvZGVGdW5jdGlvbkRlZmluaXRpb24gPSBmdW5jdGlvbihkZWZpbmVkKSB7XG4gICAgdmFyIGJvZHkgPSBsb29rdXAoZGVmaW5lZC5ib2R5LCBcImZ1bmN0aW9uIGJvZHlcIiksIHNpZ25hdHVyZSA9IHthcmdzOmRlZmluZWQuYXJndW1lbnROYW1lcy5tYXAoZnVuY3Rpb24obmFtZSkge1xuICAgICAgcmV0dXJuIHtuYW1lOm5hbWUsIHR5cGU6XCJPYmplY3RcIiwgb3B0aW9uYWw6ITF9O1xuICAgIH0pLCBuYW1lOlwiXCIsIHJldHVybnM6XCJPYmplY3RcIn07XG4gICAgcmV0dXJuIG5ldyBlZS5DdXN0b21GdW5jdGlvbihzaWduYXR1cmUsIGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIGJvZHk7XG4gICAgfSk7XG4gIH0sIGRlY29kZUZ1bmN0aW9uSW52b2NhdGlvbiA9IGZ1bmN0aW9uKGludm9rZWQpIHtcbiAgICB2YXIgZnVuYyA9IGludm9rZWQuZnVuY3Rpb25SZWZlcmVuY2UgPyBsb29rdXAoaW52b2tlZC5mdW5jdGlvblJlZmVyZW5jZSwgXCJmdW5jdGlvblwiKSA6IGVlLkFwaUZ1bmN0aW9uLmxvb2t1cChpbnZva2VkLmZ1bmN0aW9uTmFtZSksIGFyZ3MgPSBtb2R1bGUkY29udGVudHMkZ29vZyRvYmplY3RfbWFwKGludm9rZWQuYXJndW1lbnRzLCBkZWNvZGUpO1xuICAgIHJldHVybiBlZS5EZXNlcmlhbGl6ZXIuaW52b2NhdGlvbl8oZnVuYywgYXJncyk7XG4gIH07XG4gIHJldHVybiBsb29rdXAoZXhwcmVzc2lvbi5yZXN1bHQsIFwicmVzdWx0IHZhbHVlXCIpO1xufTtcbmdvb2cuZXhwb3J0U3ltYm9sKFwiZWUuRGVzZXJpYWxpemVyLmRlY29kZUNsb3VkQXBpXCIsIGVlLkRlc2VyaWFsaXplci5kZWNvZGVDbG91ZEFwaSk7XG5lZS5EaWN0aW9uYXJ5ID0gZnVuY3Rpb24ob3B0X2RpY3QpIHtcbiAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIGVlLkRpY3Rpb25hcnkpKSB7XG4gICAgcmV0dXJuIGVlLkNvbXB1dGVkT2JqZWN0LmNvbnN0cnVjdChlZS5EaWN0aW9uYXJ5LCBhcmd1bWVudHMpO1xuICB9XG4gIGlmIChvcHRfZGljdCBpbnN0YW5jZW9mIGVlLkRpY3Rpb25hcnkpIHtcbiAgICByZXR1cm4gb3B0X2RpY3Q7XG4gIH1cbiAgZWUuRGljdGlvbmFyeS5pbml0aWFsaXplKCk7XG4gIGVlLlR5cGVzLmlzUmVndWxhck9iamVjdChvcHRfZGljdCkgPyAoZWUuQ29tcHV0ZWRPYmplY3QuY2FsbCh0aGlzLCBudWxsLCBudWxsKSwgdGhpcy5kaWN0XyA9IG9wdF9kaWN0KSA6IChvcHRfZGljdCBpbnN0YW5jZW9mIGVlLkNvbXB1dGVkT2JqZWN0ICYmIG9wdF9kaWN0LmZ1bmMgJiYgXCJEaWN0aW9uYXJ5XCIgPT0gb3B0X2RpY3QuZnVuYy5nZXRTaWduYXR1cmUoKS5yZXR1cm5zID8gZWUuQ29tcHV0ZWRPYmplY3QuY2FsbCh0aGlzLCBvcHRfZGljdC5mdW5jLCBvcHRfZGljdC5hcmdzLCBvcHRfZGljdC52YXJOYW1lKSA6IGVlLkNvbXB1dGVkT2JqZWN0LmNhbGwodGhpcywgbmV3IGVlLkFwaUZ1bmN0aW9uKFwiRGljdGlvbmFyeVwiKSwge2lucHV0Om9wdF9kaWN0fSwgbnVsbCksIHRoaXMuZGljdF8gPSBudWxsKTtcbn07XG5nb29nLmluaGVyaXRzKGVlLkRpY3Rpb25hcnksIGVlLkNvbXB1dGVkT2JqZWN0KTtcbmdvb2cuZXhwb3J0U3ltYm9sKFwiZWUuRGljdGlvbmFyeVwiLCBlZS5EaWN0aW9uYXJ5KTtcbmVlLkRpY3Rpb25hcnkuaW5pdGlhbGl6ZWRfID0gITE7XG5lZS5EaWN0aW9uYXJ5LmluaXRpYWxpemUgPSBmdW5jdGlvbigpIHtcbiAgZWUuRGljdGlvbmFyeS5pbml0aWFsaXplZF8gfHwgKGVlLkFwaUZ1bmN0aW9uLmltcG9ydEFwaShlZS5EaWN0aW9uYXJ5LCBcIkRpY3Rpb25hcnlcIiwgXCJEaWN0aW9uYXJ5XCIpLCBlZS5EaWN0aW9uYXJ5LmluaXRpYWxpemVkXyA9ICEwKTtcbn07XG5lZS5EaWN0aW9uYXJ5LnJlc2V0ID0gZnVuY3Rpb24oKSB7XG4gIGVlLkFwaUZ1bmN0aW9uLmNsZWFyQXBpKGVlLkRpY3Rpb25hcnkpO1xuICBlZS5EaWN0aW9uYXJ5LmluaXRpYWxpemVkXyA9ICExO1xufTtcbmVlLkRpY3Rpb25hcnkucHJvdG90eXBlLmVuY29kZSA9IGZ1bmN0aW9uKGVuY29kZXIpIHtcbiAgcmV0dXJuIG51bGwgIT09IHRoaXMuZGljdF8gPyBlbmNvZGVyKHRoaXMuZGljdF8pIDogZWUuRGljdGlvbmFyeS5zdXBlckNsYXNzXy5lbmNvZGUuY2FsbCh0aGlzLCBlbmNvZGVyKTtcbn07XG5lZS5EaWN0aW9uYXJ5LnByb3RvdHlwZS5lbmNvZGVDbG91ZFZhbHVlID0gZnVuY3Rpb24oc2VyaWFsaXplcikge1xuICByZXR1cm4gbnVsbCAhPT0gdGhpcy5kaWN0XyA/IGVlLnJwY19ub2RlLnJlZmVyZW5jZShzZXJpYWxpemVyLm1ha2VSZWZlcmVuY2UodGhpcy5kaWN0XykpIDogZWUuRGljdGlvbmFyeS5zdXBlckNsYXNzXy5lbmNvZGVDbG91ZFZhbHVlLmNhbGwodGhpcywgc2VyaWFsaXplcik7XG59O1xuZWUuRGljdGlvbmFyeS5wcm90b3R5cGUubmFtZSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gXCJEaWN0aW9uYXJ5XCI7XG59O1xuZWUuVGVycmFpbiA9IHt9O1xuZ29vZy5leHBvcnRTeW1ib2woXCJlZS5UZXJyYWluXCIsIGVlLlRlcnJhaW4pO1xuZWUuVGVycmFpbi5pbml0aWFsaXplZF8gPSAhMTtcbmVlLlRlcnJhaW4uaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uKCkge1xuICBlZS5UZXJyYWluLmluaXRpYWxpemVkXyB8fCAoZWUuQXBpRnVuY3Rpb24uaW1wb3J0QXBpKGVlLlRlcnJhaW4sIFwiVGVycmFpblwiLCBcIlRlcnJhaW5cIiksIGVlLlRlcnJhaW4uaW5pdGlhbGl6ZWRfID0gITApO1xufTtcbmVlLlRlcnJhaW4ucmVzZXQgPSBmdW5jdGlvbigpIHtcbiAgZWUuQXBpRnVuY3Rpb24uY2xlYXJBcGkoZWUuVGVycmFpbik7XG4gIGVlLlRlcnJhaW4uaW5pdGlhbGl6ZWRfID0gITE7XG59O1xuZWUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uKG9wdF9iYXNldXJsLCBvcHRfdGlsZXVybCwgb3B0X3N1Y2Nlc3NDYWxsYmFjaywgb3B0X2Vycm9yQ2FsbGJhY2ssIG9wdF94c3JmVG9rZW4sIG9wdF9wcm9qZWN0KSB7XG4gIGlmIChlZS5yZWFkeV8gIT0gZWUuSW5pdFN0YXRlLlJFQURZIHx8IG9wdF9iYXNldXJsIHx8IG9wdF90aWxldXJsKSB7XG4gICAgdmFyIGlzQXN5bmNocm9ub3VzID0gbnVsbCAhPSBvcHRfc3VjY2Vzc0NhbGxiYWNrO1xuICAgIGlmIChvcHRfZXJyb3JDYWxsYmFjaykge1xuICAgICAgaWYgKGlzQXN5bmNocm9ub3VzKSB7XG4gICAgICAgIGVlLmVycm9yQ2FsbGJhY2tzXy5wdXNoKG9wdF9lcnJvckNhbGxiYWNrKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IEVycm9yKFwiQ2FuJ3QgcGFzcyBhbiBlcnJvciBjYWxsYmFjayB3aXRob3V0IGEgc3VjY2VzcyBjYWxsYmFjay5cIik7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChlZS5yZWFkeV8gPT0gZWUuSW5pdFN0YXRlLkxPQURJTkcgJiYgaXNBc3luY2hyb25vdXMpIHtcbiAgICAgIGVlLnN1Y2Nlc3NDYWxsYmFja3NfLnB1c2gob3B0X3N1Y2Nlc3NDYWxsYmFjayk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChlZS5yZWFkeV8gPSBlZS5Jbml0U3RhdGUuTE9BRElORywgZWUuZGF0YS5pbml0aWFsaXplKG9wdF9iYXNldXJsLCBvcHRfdGlsZXVybCwgb3B0X3hzcmZUb2tlbiwgb3B0X3Byb2plY3QpLCBpc0FzeW5jaHJvbm91cykge1xuICAgICAgICBlZS5zdWNjZXNzQ2FsbGJhY2tzXy5wdXNoKG9wdF9zdWNjZXNzQ2FsbGJhY2spLCBlZS5BcGlGdW5jdGlvbi5pbml0aWFsaXplKGVlLmluaXRpYWxpemF0aW9uU3VjY2Vzc18sIGVlLmluaXRpYWxpemF0aW9uRmFpbHVyZV8pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBlZS5BcGlGdW5jdGlvbi5pbml0aWFsaXplKCksIGVlLmluaXRpYWxpemF0aW9uU3VjY2Vzc18oKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIHRocm93IGVlLmluaXRpYWxpemF0aW9uRmFpbHVyZV8oZSksIGU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgb3B0X3N1Y2Nlc3NDYWxsYmFjayAmJiBvcHRfc3VjY2Vzc0NhbGxiYWNrKCk7XG4gIH1cbn07XG5nb29nLmV4cG9ydFN5bWJvbChcImVlLmluaXRpYWxpemVcIiwgZWUuaW5pdGlhbGl6ZSk7XG5lZS5yZXNldCA9IGZ1bmN0aW9uKCkge1xuICBlZS5yZWFkeV8gPSBlZS5Jbml0U3RhdGUuTk9UX1JFQURZO1xuICBlZS5kYXRhLnJlc2V0KCk7XG4gIGVlLkFwaUZ1bmN0aW9uLnJlc2V0KCk7XG4gIGVlLkRhdGUucmVzZXQoKTtcbiAgZWUuRGljdGlvbmFyeS5yZXNldCgpO1xuICBlZS5FbGVtZW50LnJlc2V0KCk7XG4gIGVlLkltYWdlLnJlc2V0KCk7XG4gIGVlLkZlYXR1cmUucmVzZXQoKTtcbiAgZWUuQ29sbGVjdGlvbi5yZXNldCgpO1xuICBlZS5JbWFnZUNvbGxlY3Rpb24ucmVzZXQoKTtcbiAgZWUuRmVhdHVyZUNvbGxlY3Rpb24ucmVzZXQoKTtcbiAgZWUuRmlsdGVyLnJlc2V0KCk7XG4gIGVlLkdlb21ldHJ5LnJlc2V0KCk7XG4gIGVlLkxpc3QucmVzZXQoKTtcbiAgZWUuTnVtYmVyLnJlc2V0KCk7XG4gIGVlLlN0cmluZy5yZXNldCgpO1xuICBlZS5UZXJyYWluLnJlc2V0KCk7XG4gIGVlLnJlc2V0R2VuZXJhdGVkQ2xhc3Nlc18oKTtcbiAgbW9kdWxlJGNvbnRlbnRzJGdvb2ckb2JqZWN0X2NsZWFyKGVlLkFsZ29yaXRobXMpO1xufTtcbmdvb2cuZXhwb3J0U3ltYm9sKFwiZWUucmVzZXRcIiwgZWUucmVzZXQpO1xuZWUuSW5pdFN0YXRlID0ge05PVF9SRUFEWTpcIm5vdF9yZWFkeVwiLCBMT0FESU5HOlwibG9hZGluZ1wiLCBSRUFEWTpcInJlYWR5XCJ9O1xuZ29vZy5leHBvcnRTeW1ib2woXCJlZS5Jbml0U3RhdGVcIiwgZWUuSW5pdFN0YXRlKTtcbmdvb2cuZXhwb3J0U3ltYm9sKFwiZWUuSW5pdFN0YXRlLk5PVF9SRUFEWVwiLCBlZS5Jbml0U3RhdGUuTk9UX1JFQURZKTtcbmdvb2cuZXhwb3J0U3ltYm9sKFwiZWUuSW5pdFN0YXRlLkxPQURJTkdcIiwgZWUuSW5pdFN0YXRlLkxPQURJTkcpO1xuZ29vZy5leHBvcnRTeW1ib2woXCJlZS5Jbml0U3RhdGUuUkVBRFlcIiwgZWUuSW5pdFN0YXRlLlJFQURZKTtcbmVlLnJlYWR5XyA9IGVlLkluaXRTdGF0ZS5OT1RfUkVBRFk7XG5lZS5zdWNjZXNzQ2FsbGJhY2tzXyA9IFtdO1xuZWUuZXJyb3JDYWxsYmFja3NfID0gW107XG5lZS5USUxFX1NJWkUgPSAyNTY7XG5nb29nLmV4cG9ydFN5bWJvbChcImVlLlRJTEVfU0laRVwiLCBlZS5USUxFX1NJWkUpO1xuZWUuZ2VuZXJhdGVkQ2xhc3Nlc18gPSBbXTtcbmVlLkFsZ29yaXRobXMgPSB7fTtcbmdvb2cuZXhwb3J0U3ltYm9sKFwiZWUuQWxnb3JpdGhtc1wiLCBlZS5BbGdvcml0aG1zKTtcbmVlLnJlYWR5ID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBlZS5yZWFkeV87XG59O1xuZWUuY2FsbCA9IGZ1bmN0aW9uKGZ1bmMsIHZhcl9hcmdzKSB7XG4gIFwic3RyaW5nXCIgPT09IHR5cGVvZiBmdW5jICYmIChmdW5jID0gbmV3IGVlLkFwaUZ1bmN0aW9uKGZ1bmMpKTtcbiAgdmFyIGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpO1xuICByZXR1cm4gZWUuRnVuY3Rpb24ucHJvdG90eXBlLmNhbGwuYXBwbHkoZnVuYywgYXJncyk7XG59O1xuZ29vZy5leHBvcnRTeW1ib2woXCJlZS5jYWxsXCIsIGVlLmNhbGwpO1xuZWUuYXBwbHkgPSBmdW5jdGlvbihmdW5jLCBuYW1lZEFyZ3MpIHtcbiAgXCJzdHJpbmdcIiA9PT0gdHlwZW9mIGZ1bmMgJiYgKGZ1bmMgPSBuZXcgZWUuQXBpRnVuY3Rpb24oZnVuYykpO1xuICByZXR1cm4gZnVuYy5hcHBseShuYW1lZEFyZ3MpO1xufTtcbmdvb2cuZXhwb3J0U3ltYm9sKFwiZWUuYXBwbHlcIiwgZWUuYXBwbHkpO1xuZWUuaW5pdGlhbGl6YXRpb25TdWNjZXNzXyA9IGZ1bmN0aW9uKCkge1xuICBpZiAoZWUucmVhZHlfID09IGVlLkluaXRTdGF0ZS5MT0FESU5HKSB7XG4gICAgdHJ5IHtcbiAgICAgIGVlLkRhdGUuaW5pdGlhbGl6ZSgpLCBlZS5EaWN0aW9uYXJ5LmluaXRpYWxpemUoKSwgZWUuRWxlbWVudC5pbml0aWFsaXplKCksIGVlLkltYWdlLmluaXRpYWxpemUoKSwgZWUuRmVhdHVyZS5pbml0aWFsaXplKCksIGVlLkNvbGxlY3Rpb24uaW5pdGlhbGl6ZSgpLCBlZS5JbWFnZUNvbGxlY3Rpb24uaW5pdGlhbGl6ZSgpLCBlZS5GZWF0dXJlQ29sbGVjdGlvbi5pbml0aWFsaXplKCksIGVlLkZpbHRlci5pbml0aWFsaXplKCksIGVlLkdlb21ldHJ5LmluaXRpYWxpemUoKSwgZWUuTGlzdC5pbml0aWFsaXplKCksIGVlLk51bWJlci5pbml0aWFsaXplKCksIGVlLlN0cmluZy5pbml0aWFsaXplKCksIGVlLlRlcnJhaW4uaW5pdGlhbGl6ZSgpLCBlZS5pbml0aWFsaXplR2VuZXJhdGVkQ2xhc3Nlc18oKSwgZWUuaW5pdGlhbGl6ZVVuYm91bmRNZXRob2RzXygpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGVlLmluaXRpYWxpemF0aW9uRmFpbHVyZV8oZSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGVlLnJlYWR5XyA9IGVlLkluaXRTdGF0ZS5SRUFEWTtcbiAgICBmb3IgKGVlLmVycm9yQ2FsbGJhY2tzXyA9IFtdOyAwIDwgZWUuc3VjY2Vzc0NhbGxiYWNrc18ubGVuZ3RoOykge1xuICAgICAgZWUuc3VjY2Vzc0NhbGxiYWNrc18uc2hpZnQoKSgpO1xuICAgIH1cbiAgfVxufTtcbmVlLmluaXRpYWxpemF0aW9uRmFpbHVyZV8gPSBmdW5jdGlvbihlKSB7XG4gIGlmIChlZS5yZWFkeV8gPT0gZWUuSW5pdFN0YXRlLkxPQURJTkcpIHtcbiAgICBmb3IgKGVlLnJlYWR5XyA9IGVlLkluaXRTdGF0ZS5OT1RfUkVBRFksIGVlLnN1Y2Nlc3NDYWxsYmFja3NfID0gW107IDAgPCBlZS5lcnJvckNhbGxiYWNrc18ubGVuZ3RoOykge1xuICAgICAgZWUuZXJyb3JDYWxsYmFja3NfLnNoaWZ0KCkoZSk7XG4gICAgfVxuICB9XG59O1xuZWUucHJvbW90ZV8gPSBmdW5jdGlvbihhcmcsIGtsYXNzKSB7XG4gIGlmIChudWxsID09PSBhcmcpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBpZiAodm9pZCAwICE9PSBhcmcpIHtcbiAgICB2YXIgZXhwb3J0ZWRFRSA9IGdvb2cuZ2xvYmFsLmVlO1xuICAgIHN3aXRjaChrbGFzcykge1xuICAgICAgY2FzZSBcIkltYWdlXCI6XG4gICAgICAgIHJldHVybiBuZXcgZWUuSW1hZ2UoYXJnKTtcbiAgICAgIGNhc2UgXCJGZWF0dXJlXCI6XG4gICAgICAgIHJldHVybiBhcmcgaW5zdGFuY2VvZiBlZS5Db2xsZWN0aW9uID8gZWUuQXBpRnVuY3Rpb24uX2NhbGwoXCJGZWF0dXJlXCIsIGVlLkFwaUZ1bmN0aW9uLl9jYWxsKFwiQ29sbGVjdGlvbi5nZW9tZXRyeVwiLCBhcmcpKSA6IG5ldyBlZS5GZWF0dXJlKGFyZyk7XG4gICAgICBjYXNlIFwiRWxlbWVudFwiOlxuICAgICAgICBpZiAoYXJnIGluc3RhbmNlb2YgZWUuRWxlbWVudCkge1xuICAgICAgICAgIHJldHVybiBhcmc7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGFyZyBpbnN0YW5jZW9mIGVlLkdlb21ldHJ5KSB7XG4gICAgICAgICAgcmV0dXJuIG5ldyBlZS5GZWF0dXJlKGFyZyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGFyZyBpbnN0YW5jZW9mIGVlLkNvbXB1dGVkT2JqZWN0KSB7XG4gICAgICAgICAgcmV0dXJuIG5ldyBlZS5FbGVtZW50KGFyZy5mdW5jLCBhcmcuYXJncywgYXJnLnZhck5hbWUpO1xuICAgICAgICB9XG4gICAgICAgIHRocm93IEVycm9yKFwiQ2Fubm90IGNvbnZlcnQgXCIgKyBhcmcgKyBcIiB0byBFbGVtZW50LlwiKTtcbiAgICAgIGNhc2UgXCJHZW9tZXRyeVwiOlxuICAgICAgICByZXR1cm4gYXJnIGluc3RhbmNlb2YgZWUuRmVhdHVyZUNvbGxlY3Rpb24gPyBlZS5BcGlGdW5jdGlvbi5fY2FsbChcIkNvbGxlY3Rpb24uZ2VvbWV0cnlcIiwgYXJnKSA6IG5ldyBlZS5HZW9tZXRyeShhcmcpO1xuICAgICAgY2FzZSBcIkZlYXR1cmVDb2xsZWN0aW9uXCI6XG4gICAgICBjYXNlIFwiQ29sbGVjdGlvblwiOlxuICAgICAgICByZXR1cm4gYXJnIGluc3RhbmNlb2YgZWUuQ29sbGVjdGlvbiA/IGFyZyA6IG5ldyBlZS5GZWF0dXJlQ29sbGVjdGlvbihhcmcpO1xuICAgICAgY2FzZSBcIkltYWdlQ29sbGVjdGlvblwiOlxuICAgICAgICByZXR1cm4gbmV3IGVlLkltYWdlQ29sbGVjdGlvbihhcmcpO1xuICAgICAgY2FzZSBcIkZpbHRlclwiOlxuICAgICAgICByZXR1cm4gbmV3IGVlLkZpbHRlcihhcmcpO1xuICAgICAgY2FzZSBcIkFsZ29yaXRobVwiOlxuICAgICAgICBpZiAoXCJzdHJpbmdcIiA9PT0gdHlwZW9mIGFyZykge1xuICAgICAgICAgIHJldHVybiBuZXcgZWUuQXBpRnVuY3Rpb24oYXJnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoXCJmdW5jdGlvblwiID09PSB0eXBlb2YgYXJnKSB7XG4gICAgICAgICAgcmV0dXJuIGVlLkN1c3RvbUZ1bmN0aW9uLmNyZWF0ZShhcmcsIFwiT2JqZWN0XCIsIG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X3JlcGVhdChcIk9iamVjdFwiLCBhcmcubGVuZ3RoKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGFyZyBpbnN0YW5jZW9mIGVlLkVuY29kYWJsZSkge1xuICAgICAgICAgIHJldHVybiBhcmc7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgRXJyb3IoXCJBcmd1bWVudCBpcyBub3QgYSBmdW5jdGlvbjogXCIgKyBhcmcpO1xuICAgICAgY2FzZSBcIlN0cmluZ1wiOlxuICAgICAgICByZXR1cm4gZWUuVHlwZXMuaXNTdHJpbmcoYXJnKSB8fCBhcmcgaW5zdGFuY2VvZiBlZS5TdHJpbmcgfHwgYXJnIGluc3RhbmNlb2YgZWUuQ29tcHV0ZWRPYmplY3QgPyBuZXcgZWUuU3RyaW5nKGFyZykgOiBhcmc7XG4gICAgICBjYXNlIFwiRGljdGlvbmFyeVwiOlxuICAgICAgICByZXR1cm4gZWUuVHlwZXMuaXNSZWd1bGFyT2JqZWN0KGFyZykgPyBhcmcgOiBuZXcgZWUuRGljdGlvbmFyeShhcmcpO1xuICAgICAgY2FzZSBcIkxpc3RcIjpcbiAgICAgICAgcmV0dXJuIG5ldyBlZS5MaXN0KGFyZyk7XG4gICAgICBjYXNlIFwiTnVtYmVyXCI6XG4gICAgICBjYXNlIFwiRmxvYXRcIjpcbiAgICAgIGNhc2UgXCJMb25nXCI6XG4gICAgICBjYXNlIFwiSW50ZWdlclwiOlxuICAgICAgY2FzZSBcIlNob3J0XCI6XG4gICAgICBjYXNlIFwiQnl0ZVwiOlxuICAgICAgICByZXR1cm4gbmV3IGVlLk51bWJlcihhcmcpO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgaWYgKGtsYXNzIGluIGV4cG9ydGVkRUUpIHtcbiAgICAgICAgICB2YXIgY3RvciA9IGVlLkFwaUZ1bmN0aW9uLmxvb2t1cEludGVybmFsKGtsYXNzKTtcbiAgICAgICAgICBpZiAoYXJnIGluc3RhbmNlb2YgZXhwb3J0ZWRFRVtrbGFzc10pIHtcbiAgICAgICAgICAgIHJldHVybiBhcmc7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChjdG9yKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IGV4cG9ydGVkRUVba2xhc3NdKGFyZyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChcInN0cmluZ1wiID09PSB0eXBlb2YgYXJnKSB7XG4gICAgICAgICAgICBpZiAoYXJnIGluIGV4cG9ydGVkRUVba2xhc3NdKSB7XG4gICAgICAgICAgICAgIHJldHVybiBleHBvcnRlZEVFW2tsYXNzXVthcmddLmNhbGwoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRocm93IEVycm9yKFwiVW5rbm93biBhbGdvcml0aG06IFwiICsga2xhc3MgKyBcIi5cIiArIGFyZyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBuZXcgZXhwb3J0ZWRFRVtrbGFzc10oYXJnKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYXJnO1xuICAgIH1cbiAgfVxufTtcbmVlLmluaXRpYWxpemVVbmJvdW5kTWV0aG9kc18gPSBmdW5jdGlvbigpIHtcbiAgdmFyIHVuYm91bmQgPSBlZS5BcGlGdW5jdGlvbi51bmJvdW5kRnVuY3Rpb25zKCk7XG4gIG1vZHVsZSRjb250ZW50cyRnb29nJG9iamVjdF9nZXRLZXlzKHVuYm91bmQpLnNvcnQoKS5mb3JFYWNoKGZ1bmN0aW9uKG5hbWUpIHtcbiAgICB2YXIgZnVuYyA9IHVuYm91bmRbbmFtZV0sIHNpZ25hdHVyZSA9IGZ1bmMuZ2V0U2lnbmF0dXJlKCk7XG4gICAgaWYgKCFzaWduYXR1cmUuaGlkZGVuKSB7XG4gICAgICB2YXIgbmFtZVBhcnRzID0gbmFtZS5zcGxpdChcIi5cIiksIHRhcmdldCA9IGVlLkFsZ29yaXRobXM7XG4gICAgICBmb3IgKHRhcmdldC5zaWduYXR1cmUgPSB7fTsgMSA8IG5hbWVQYXJ0cy5sZW5ndGg7KSB7XG4gICAgICAgIHZhciBmaXJzdCA9IG5hbWVQYXJ0c1swXTtcbiAgICAgICAgZmlyc3QgaW4gdGFyZ2V0IHx8ICh0YXJnZXRbZmlyc3RdID0ge3NpZ25hdHVyZTp7fX0pO1xuICAgICAgICB0YXJnZXQgPSB0YXJnZXRbZmlyc3RdO1xuICAgICAgICBuYW1lUGFydHMgPSBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9zbGljZShuYW1lUGFydHMsIDEpO1xuICAgICAgfVxuICAgICAgdmFyIGJvdW5kID0gZnVuY3Rpb24odmFyX2FyZ3MpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmMuY2FsbE9yQXBwbHkodm9pZCAwLCBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDApKTtcbiAgICAgIH07XG4gICAgICBib3VuZC5zaWduYXR1cmUgPSBzaWduYXR1cmU7XG4gICAgICBib3VuZC50b1N0cmluZyA9IGdvb2cuYmluZChmdW5jLnRvU3RyaW5nLCBmdW5jKTtcbiAgICAgIHRhcmdldFtuYW1lUGFydHNbMF1dID0gYm91bmQ7XG4gICAgfVxuICB9KTtcbn07XG5lZS5pbml0aWFsaXplR2VuZXJhdGVkQ2xhc3Nlc18gPSBmdW5jdGlvbigpIHtcbiAgdmFyIHNpZ25hdHVyZXMgPSBlZS5BcGlGdW5jdGlvbi5hbGxTaWduYXR1cmVzKCksIG5hbWVzID0ge30sIHJldHVyblR5cGVzID0ge30sIHNpZztcbiAgZm9yIChzaWcgaW4gc2lnbmF0dXJlcykge1xuICAgIHZhciB0eXBlID0gdm9pZCAwO1xuICAgIHR5cGUgPSAtMSAhPSBzaWcuaW5kZXhPZihcIi5cIikgPyBzaWcuc2xpY2UoMCwgc2lnLmluZGV4T2YoXCIuXCIpKSA6IHNpZztcbiAgICBuYW1lc1t0eXBlXSA9ICEwO1xuICAgIHZhciBydHlwZSA9IHNpZ25hdHVyZXNbc2lnXS5yZXR1cm5zLnJlcGxhY2UoLzwuKj4vLCBcIlwiKTtcbiAgICByZXR1cm5UeXBlc1tydHlwZV0gPSAhMDtcbiAgfVxuICB2YXIgZXhwb3J0ZWRFRSA9IGdvb2cuZ2xvYmFsLmVlLCBuYW1lO1xuICBmb3IgKG5hbWUgaW4gbmFtZXMpIHtcbiAgICBuYW1lIGluIHJldHVyblR5cGVzICYmICEobmFtZSBpbiBleHBvcnRlZEVFKSAmJiAoZXhwb3J0ZWRFRVtuYW1lXSA9IGVlLm1ha2VDbGFzc18obmFtZSksIGVlLmdlbmVyYXRlZENsYXNzZXNfLnB1c2gobmFtZSksIHNpZ25hdHVyZXNbbmFtZV0gPyAoZXhwb3J0ZWRFRVtuYW1lXS5zaWduYXR1cmUgPSBzaWduYXR1cmVzW25hbWVdLCBleHBvcnRlZEVFW25hbWVdLnNpZ25hdHVyZS5pc0NvbnN0cnVjdG9yID0gITAsIGVlLkFwaUZ1bmN0aW9uLmJvdW5kU2lnbmF0dXJlc19bbmFtZV0gPSAhMCkgOiBleHBvcnRlZEVFW25hbWVdLnNpZ25hdHVyZSA9IHt9KTtcbiAgfVxuICBlZS5UeXBlcy5yZWdpc3RlckNsYXNzZXMoZXhwb3J0ZWRFRSk7XG59O1xuZWUucmVzZXRHZW5lcmF0ZWRDbGFzc2VzXyA9IGZ1bmN0aW9uKCkge1xuICBmb3IgKHZhciBleHBvcnRlZEVFID0gZ29vZy5nbG9iYWwuZWUsIGkgPSAwOyBpIDwgZWUuZ2VuZXJhdGVkQ2xhc3Nlc18ubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgbmFtZSA9IGVlLmdlbmVyYXRlZENsYXNzZXNfW2ldO1xuICAgIGVlLkFwaUZ1bmN0aW9uLmNsZWFyQXBpKGV4cG9ydGVkRUVbbmFtZV0pO1xuICAgIGRlbGV0ZSBleHBvcnRlZEVFW25hbWVdO1xuICB9XG4gIGVlLmdlbmVyYXRlZENsYXNzZXNfID0gW107XG4gIGVlLlR5cGVzLnJlZ2lzdGVyQ2xhc3NlcyhleHBvcnRlZEVFKTtcbn07XG5lZS5tYWtlQ2xhc3NfID0gZnVuY3Rpb24obmFtZSkge1xuICB2YXIgdGFyZ2V0ID0gZnVuY3Rpb24odmFyX2FyZ3MpIHtcbiAgICB2YXIga2xhc3MgPSBnb29nLmdsb2JhbC5lZVtuYW1lXSwgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyksIG9ubHlPbmVBcmcgPSAxID09IGFyZ3MubGVuZ3RoO1xuICAgIGlmIChvbmx5T25lQXJnICYmIGFyZ3NbMF0gaW5zdGFuY2VvZiBrbGFzcykge1xuICAgICAgcmV0dXJuIGFyZ3NbMF07XG4gICAgfVxuICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBrbGFzcykpIHtcbiAgICAgIHJldHVybiBlZS5Db21wdXRlZE9iamVjdC5jb25zdHJ1Y3Qoa2xhc3MsIGFyZ3MpO1xuICAgIH1cbiAgICB2YXIgY3RvciA9IGVlLkFwaUZ1bmN0aW9uLmxvb2t1cEludGVybmFsKG5hbWUpLCBmaXJzdEFyZ0lzUHJpbWl0aXZlID0gIShhcmdzWzBdIGluc3RhbmNlb2YgZWUuQ29tcHV0ZWRPYmplY3QpLCBzaG91bGRVc2VDb25zdHJ1Y3RvciA9ICExO1xuICAgIGN0b3IgJiYgKG9ubHlPbmVBcmcgPyBmaXJzdEFyZ0lzUHJpbWl0aXZlID8gc2hvdWxkVXNlQ29uc3RydWN0b3IgPSAhMCA6IGFyZ3NbMF0uZnVuYyAmJiBhcmdzWzBdLmZ1bmMuZ2V0U2lnbmF0dXJlKCkucmV0dXJucyA9PSBjdG9yLmdldFNpZ25hdHVyZSgpLnJldHVybnMgfHwgKHNob3VsZFVzZUNvbnN0cnVjdG9yID0gITApIDogc2hvdWxkVXNlQ29uc3RydWN0b3IgPSAhMCk7XG4gICAgaWYgKHNob3VsZFVzZUNvbnN0cnVjdG9yKSB7XG4gICAgICB2YXIgbmFtZWRBcmdzID0gZWUuVHlwZXMudXNlS2V5d29yZEFyZ3MoYXJncywgY3Rvci5nZXRTaWduYXR1cmUoKSkgPyBhcmdzWzBdIDogY3Rvci5uYW1lQXJncyhhcmdzKTtcbiAgICAgIGVlLkNvbXB1dGVkT2JqZWN0LmNhbGwodGhpcywgY3RvciwgY3Rvci5wcm9tb3RlQXJncyhuYW1lZEFyZ3MpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKCFvbmx5T25lQXJnKSB7XG4gICAgICAgIHRocm93IEVycm9yKFwiVG9vIG1hbnkgYXJndW1lbnRzIGZvciBlZS5cIiArIG5hbWUgKyBcIigpOiBcIiArIGFyZ3MpO1xuICAgICAgfVxuICAgICAgaWYgKGZpcnN0QXJnSXNQcmltaXRpdmUpIHtcbiAgICAgICAgdGhyb3cgRXJyb3IoXCJJbnZhbGlkIGFyZ3VtZW50IGZvciBlZS5cIiArIG5hbWUgKyBcIigpOiBcIiArIGFyZ3MgKyBcIi4gTXVzdCBiZSBhIENvbXB1dGVkT2JqZWN0LlwiKTtcbiAgICAgIH1cbiAgICAgIHZhciB0aGVPbmVBcmcgPSBhcmdzWzBdO1xuICAgICAgZWUuQ29tcHV0ZWRPYmplY3QuY2FsbCh0aGlzLCB0aGVPbmVBcmcuZnVuYywgdGhlT25lQXJnLmFyZ3MsIHRoZU9uZUFyZy52YXJOYW1lKTtcbiAgICB9XG4gIH07XG4gIGdvb2cuaW5oZXJpdHModGFyZ2V0LCBlZS5Db21wdXRlZE9iamVjdCk7XG4gIHRhcmdldC5wcm90b3R5cGUubmFtZSA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBuYW1lO1xuICB9O1xuICBlZS5BcGlGdW5jdGlvbi5pbXBvcnRBcGkodGFyZ2V0LCBuYW1lLCBuYW1lKTtcbiAgcmV0dXJuIHRhcmdldDtcbn07XG5lZS5GdW5jdGlvbi5yZWdpc3RlclByb21vdGVyKGVlLnByb21vdGVfKTtcbmVlLkZsb2F0VGlsZU92ZXJsYXkgPSBmdW5jdGlvbih1cmwsIG1hcElkLCB0b2tlbikge1xuICBlZS5BYnN0cmFjdE92ZXJsYXkuY2FsbCh0aGlzLCB1cmwsIG1hcElkLCB0b2tlbik7XG4gIHRoaXMudGlsZVNpemUgPSBuZXcgZ29vZ2xlLm1hcHMuU2l6ZShlZS5GbG9hdFRpbGVPdmVybGF5LlRJTEVfRURHRV9MRU5HVEgsIGVlLkZsb2F0VGlsZU92ZXJsYXkuVElMRV9FREdFX0xFTkdUSCk7XG4gIHRoaXMuZmxvYXRUaWxlc18gPSBuZXcgZ29vZy5zdHJ1Y3RzLk1hcCgpO1xuICB0aGlzLmZsb2F0VGlsZURpdnNfID0gbmV3IGdvb2cuc3RydWN0cy5NYXAoKTtcbn07XG4kanNjb21wLmluaGVyaXRzKGVlLkZsb2F0VGlsZU92ZXJsYXksIGVlLkFic3RyYWN0T3ZlcmxheSk7XG5lZS5GbG9hdFRpbGVPdmVybGF5LnByb3RvdHlwZS5nZXRUaWxlID0gZnVuY3Rpb24oY29vcmQsIHpvb20sIG93bmVyRG9jdW1lbnQpIHtcbiAgdmFyIHRpbGVJZCA9IHRoaXMuZ2V0VGlsZUlkKGNvb3JkLCB6b29tKSwgc3JjID0gW3RoaXMudXJsLCB0aWxlSWRdLmpvaW4oXCIvXCIpICsgXCI/dG9rZW49XCIgKyB0aGlzLnRva2VuLCB1bmlxdWVUaWxlSWQgPSBbdGlsZUlkLCB0aGlzLnRpbGVDb3VudGVyLCB0aGlzLnRva2VuXS5qb2luKFwiL1wiKTtcbiAgdGhpcy50aWxlc0xvYWRpbmcucHVzaCh1bmlxdWVUaWxlSWQpO1xuICB0aGlzLnRpbGVDb3VudGVyICs9IDE7XG4gIHZhciBkaXYgPSBnb29nLmRvbS5jcmVhdGVEb20oZ29vZy5kb20uVGFnTmFtZS5ESVYpLCBmbG9hdFRpbGUgPSB0aGlzLmxvYWRGbG9hdFRpbGVfKHNyYywgY29vcmQsIHVuaXF1ZVRpbGVJZCwgZGl2KTtcbiAgdGhpcy5kaXNwYXRjaFRpbGVFdmVudF8oKTtcbiAgcmV0dXJuIGRpdjtcbn07XG5lZS5GbG9hdFRpbGVPdmVybGF5LnByb3RvdHlwZS5sb2FkRmxvYXRUaWxlXyA9IGZ1bmN0aW9uKHRpbGVVcmwsIGNvb3JkLCB0aWxlSWQsIGRpdikge1xuICB2YXIgdGlsZVJlcXVlc3QgPSBnb29nLm5ldC5YbWxIdHRwKCk7XG4gIHRpbGVSZXF1ZXN0Lm9wZW4oXCJHRVRcIiwgdGlsZVVybCwgITApO1xuICB0aWxlUmVxdWVzdC5yZXNwb25zZVR5cGUgPSBcImFycmF5YnVmZmVyXCI7XG4gIHRpbGVSZXF1ZXN0Lm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGdvb2cuYmluZChmdW5jdGlvbigpIHtcbiAgICBpZiAodGlsZVJlcXVlc3QucmVhZHlTdGF0ZSA9PT0gWE1MSHR0cFJlcXVlc3QuRE9ORSAmJiAyMDAgPT09IHRpbGVSZXF1ZXN0LnN0YXR1cykge1xuICAgICAgdmFyIHRpbGVSZXNwb25zZSA9IHRpbGVSZXF1ZXN0LnJlc3BvbnNlO1xuICAgICAgaWYgKHRpbGVSZXNwb25zZSkge1xuICAgICAgICB2YXIgZmxvYXRCdWZmZXIgPSBuZXcgRmxvYXQzMkFycmF5KHRpbGVSZXNwb25zZSk7XG4gICAgICAgIHRoaXMuaGFuZGxlRmxvYXRUaWxlTG9hZGVkXyhmbG9hdEJ1ZmZlciwgY29vcmQsIHRpbGVJZCwgZGl2KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IHRoaXMudGlsZXNGYWlsZWQuYWRkKHRpbGVJZCksIEVycm9yKFwiVW5hYmxlIHRvIHJlcXVlc3QgZmxvYXRpbmcgcG9pbnQgYXJyYXkgYnVmZmVycy5cIik7XG4gICAgICB9XG4gICAgfVxuICB9LCB0aGlzKTtcbiAgdGlsZVJlcXVlc3Quc2VuZCgpO1xufTtcbmVlLkZsb2F0VGlsZU92ZXJsYXkucHJvdG90eXBlLmhhbmRsZUZsb2F0VGlsZUxvYWRlZF8gPSBmdW5jdGlvbihmbG9hdFRpbGUsIGNvb3JkLCB0aWxlSWQsIGRpdikge1xuICB0aGlzLmZsb2F0VGlsZXNfLnNldChjb29yZCwgZmxvYXRUaWxlKTtcbiAgdGhpcy5mbG9hdFRpbGVEaXZzXy5zZXQoY29vcmQsIGRpdik7XG4gIG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X3JlbW92ZSh0aGlzLnRpbGVzTG9hZGluZywgdGlsZUlkKTtcbiAgdGhpcy5kaXNwYXRjaFRpbGVFdmVudF8oKTtcbn07XG5lZS5GbG9hdFRpbGVPdmVybGF5LnByb3RvdHlwZS5nZXRBbGxGbG9hdFRpbGVzID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLmZsb2F0VGlsZXNfO1xufTtcbmVlLkZsb2F0VGlsZU92ZXJsYXkucHJvdG90eXBlLmdldEFsbEZsb2F0VGlsZURpdnMgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuZmxvYXRUaWxlRGl2c187XG59O1xuZWUuRmxvYXRUaWxlT3ZlcmxheS5wcm90b3R5cGUuZ2V0TG9hZGVkRmxvYXRUaWxlc0NvdW50ID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLmZsb2F0VGlsZXNfLmdldENvdW50KCk7XG59O1xuZWUuRmxvYXRUaWxlT3ZlcmxheS5wcm90b3R5cGUuZGlzcGF0Y2hUaWxlRXZlbnRfID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMuZGlzcGF0Y2hFdmVudChuZXcgZWUuVGlsZUV2ZW50KHRoaXMudGlsZXNMb2FkaW5nLmxlbmd0aCkpO1xufTtcbmVlLkZsb2F0VGlsZU92ZXJsYXkucHJvdG90eXBlLmRpc3Bvc2VJbnRlcm5hbCA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLmZsb2F0VGlsZURpdnNfID0gdGhpcy5mbG9hdFRpbGVzXyA9IG51bGw7XG4gIGVlLkFic3RyYWN0T3ZlcmxheS5wcm90b3R5cGUuZGlzcG9zZUludGVybmFsLmNhbGwodGhpcyk7XG59O1xuZ29vZy5leHBvcnRTeW1ib2woXCJlZS5GbG9hdFRpbGVPdmVybGF5XCIsIGVlLkZsb2F0VGlsZU92ZXJsYXkpO1xuZWUuRmxvYXRUaWxlT3ZlcmxheS5USUxFX0VER0VfTEVOR1RIID0gMjU2O1xuZWUubGF5ZXJzID0ge307XG52YXIgbW9kdWxlJGNvbnRlbnRzJGVlJGxheWVycyRBYnN0cmFjdE92ZXJsYXlTdGF0c19BYnN0cmFjdE92ZXJsYXlTdGF0cyA9IGZ1bmN0aW9uKHVuaXF1ZUlkKSB7XG4gIHRoaXMuc3RhdHNCeVpvb21fID0gbmV3IE1hcCgpO1xuICB0aGlzLnVuaXF1ZUlkXyA9IHVuaXF1ZUlkO1xufTtcbm1vZHVsZSRjb250ZW50cyRlZSRsYXllcnMkQWJzdHJhY3RPdmVybGF5U3RhdHNfQWJzdHJhY3RPdmVybGF5U3RhdHMucHJvdG90eXBlLmFkZFRpbGVTdGF0cyA9IGZ1bmN0aW9uKHN0YXJ0LCBlbmQsIHpvb20pIHtcbiAgdGhpcy5nZXRTdGF0c0Zvclpvb21fKHpvb20pLnRpbGVMYXRlbmNpZXMucHVzaChlbmQgLSBzdGFydCk7XG59O1xubW9kdWxlJGNvbnRlbnRzJGVlJGxheWVycyRBYnN0cmFjdE92ZXJsYXlTdGF0c19BYnN0cmFjdE92ZXJsYXlTdGF0cy5wcm90b3R5cGUuaW5jcmVtZW50VGhyb3R0bGVDb3VudGVyID0gZnVuY3Rpb24oem9vbSkge1xuICB0aGlzLmdldFN0YXRzRm9yWm9vbV8oem9vbSkudGhyb3R0bGVDb3VudCsrO1xufTtcbm1vZHVsZSRjb250ZW50cyRlZSRsYXllcnMkQWJzdHJhY3RPdmVybGF5U3RhdHNfQWJzdHJhY3RPdmVybGF5U3RhdHMucHJvdG90eXBlLmluY3JlbWVudEVycm9yQ291bnRlciA9IGZ1bmN0aW9uKHpvb20pIHtcbiAgdGhpcy5nZXRTdGF0c0Zvclpvb21fKHpvb20pLmVycm9yQ291bnQrKztcbn07XG5tb2R1bGUkY29udGVudHMkZWUkbGF5ZXJzJEFic3RyYWN0T3ZlcmxheVN0YXRzX0Fic3RyYWN0T3ZlcmxheVN0YXRzLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLnN0YXRzQnlab29tXy5jbGVhcigpO1xufTtcbm1vZHVsZSRjb250ZW50cyRlZSRsYXllcnMkQWJzdHJhY3RPdmVybGF5U3RhdHNfQWJzdHJhY3RPdmVybGF5U3RhdHMucHJvdG90eXBlLmhhc0RhdGEgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIDAgPCB0aGlzLnN0YXRzQnlab29tXy5zaXplO1xufTtcbm1vZHVsZSRjb250ZW50cyRlZSRsYXllcnMkQWJzdHJhY3RPdmVybGF5U3RhdHNfQWJzdHJhY3RPdmVybGF5U3RhdHMucHJvdG90eXBlLmdldFN1bW1hcnlMaXN0ID0gZnVuY3Rpb24oKSB7XG4gIHZhciAkanNjb21wJHRoaXMgPSB0aGlzLCBzdW1tYXJ5TGlzdCA9IFtdO1xuICB0aGlzLnN0YXRzQnlab29tXy5mb3JFYWNoKGZ1bmN0aW9uKHN0YXRzLCB6b29tKSB7XG4gICAgcmV0dXJuIHN1bW1hcnlMaXN0LnB1c2goe2xheWVySWQ6JGpzY29tcCR0aGlzLnVuaXF1ZUlkXywgem9vbUxldmVsOnpvb20sIHRpbGVMYXRlbmNpZXM6c3RhdHMudGlsZUxhdGVuY2llcywgdGhyb3R0bGVDb3VudDpzdGF0cy50aHJvdHRsZUNvdW50LCBlcnJvckNvdW50OnN0YXRzLmVycm9yQ291bnQsfSk7XG4gIH0pO1xuICByZXR1cm4gc3VtbWFyeUxpc3Q7XG59O1xubW9kdWxlJGNvbnRlbnRzJGVlJGxheWVycyRBYnN0cmFjdE92ZXJsYXlTdGF0c19BYnN0cmFjdE92ZXJsYXlTdGF0cy5wcm90b3R5cGUuZ2V0U3RhdHNGb3Jab29tXyA9IGZ1bmN0aW9uKHpvb20pIHtcbiAgdGhpcy5zdGF0c0J5Wm9vbV8uaGFzKHpvb20pIHx8IHRoaXMuc3RhdHNCeVpvb21fLnNldCh6b29tLCB7dGhyb3R0bGVDb3VudDowLCBlcnJvckNvdW50OjAsIHRpbGVMYXRlbmNpZXM6W10sfSk7XG4gIHJldHVybiB0aGlzLnN0YXRzQnlab29tXy5nZXQoem9vbSk7XG59O1xubW9kdWxlJGNvbnRlbnRzJGVlJGxheWVycyRBYnN0cmFjdE92ZXJsYXlTdGF0c19BYnN0cmFjdE92ZXJsYXlTdGF0cy5MYXllclN0YXRzRm9yWm9vbUxldmVsID0gZnVuY3Rpb24oKSB7XG59O1xubW9kdWxlJGNvbnRlbnRzJGVlJGxheWVycyRBYnN0cmFjdE92ZXJsYXlTdGF0c19BYnN0cmFjdE92ZXJsYXlTdGF0cy5TdW1tYXJ5ID0gZnVuY3Rpb24oKSB7XG59O1xuZWUubGF5ZXJzLkFic3RyYWN0T3ZlcmxheVN0YXRzID0gbW9kdWxlJGNvbnRlbnRzJGVlJGxheWVycyRBYnN0cmFjdE92ZXJsYXlTdGF0c19BYnN0cmFjdE92ZXJsYXlTdGF0cztcbmdvb2cuZXZlbnRzLkV2ZW50SGFuZGxlciA9IGZ1bmN0aW9uKG9wdF9zY29wZSkge1xuICBnb29nLkRpc3Bvc2FibGUuY2FsbCh0aGlzKTtcbiAgdGhpcy5oYW5kbGVyXyA9IG9wdF9zY29wZTtcbiAgdGhpcy5rZXlzXyA9IHt9O1xufTtcbmdvb2cuaW5oZXJpdHMoZ29vZy5ldmVudHMuRXZlbnRIYW5kbGVyLCBnb29nLkRpc3Bvc2FibGUpO1xuZ29vZy5ldmVudHMuRXZlbnRIYW5kbGVyLnR5cGVBcnJheV8gPSBbXTtcbmdvb2cuZXZlbnRzLkV2ZW50SGFuZGxlci5wcm90b3R5cGUubGlzdGVuID0gZnVuY3Rpb24oc3JjLCB0eXBlLCBvcHRfZm4sIG9wdF9vcHRpb25zKSB7XG4gIHJldHVybiB0aGlzLmxpc3Rlbl8oc3JjLCB0eXBlLCBvcHRfZm4sIG9wdF9vcHRpb25zKTtcbn07XG5nb29nLmV2ZW50cy5FdmVudEhhbmRsZXIucHJvdG90eXBlLmxpc3RlbldpdGhTY29wZSA9IGZ1bmN0aW9uKHNyYywgdHlwZSwgZm4sIG9wdGlvbnMsIHNjb3BlKSB7XG4gIHJldHVybiB0aGlzLmxpc3Rlbl8oc3JjLCB0eXBlLCBmbiwgb3B0aW9ucywgc2NvcGUpO1xufTtcbmdvb2cuZXZlbnRzLkV2ZW50SGFuZGxlci5wcm90b3R5cGUubGlzdGVuXyA9IGZ1bmN0aW9uKHNyYywgdHlwZSwgb3B0X2ZuLCBvcHRfb3B0aW9ucywgb3B0X3Njb3BlKSB7XG4gIEFycmF5LmlzQXJyYXkodHlwZSkgfHwgKHR5cGUgJiYgKGdvb2cuZXZlbnRzLkV2ZW50SGFuZGxlci50eXBlQXJyYXlfWzBdID0gdHlwZS50b1N0cmluZygpKSwgdHlwZSA9IGdvb2cuZXZlbnRzLkV2ZW50SGFuZGxlci50eXBlQXJyYXlfKTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCB0eXBlLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGxpc3RlbmVyT2JqID0gZ29vZy5ldmVudHMubGlzdGVuKHNyYywgdHlwZVtpXSwgb3B0X2ZuIHx8IHRoaXMuaGFuZGxlRXZlbnQsIG9wdF9vcHRpb25zIHx8ICExLCBvcHRfc2NvcGUgfHwgdGhpcy5oYW5kbGVyXyB8fCB0aGlzKTtcbiAgICBpZiAoIWxpc3RlbmVyT2JqKSB7XG4gICAgICBicmVhaztcbiAgICB9XG4gICAgdGhpcy5rZXlzX1tsaXN0ZW5lck9iai5rZXldID0gbGlzdGVuZXJPYmo7XG4gIH1cbiAgcmV0dXJuIHRoaXM7XG59O1xuZ29vZy5ldmVudHMuRXZlbnRIYW5kbGVyLnByb3RvdHlwZS5saXN0ZW5PbmNlID0gZnVuY3Rpb24oc3JjLCB0eXBlLCBvcHRfZm4sIG9wdF9vcHRpb25zKSB7XG4gIHJldHVybiB0aGlzLmxpc3Rlbk9uY2VfKHNyYywgdHlwZSwgb3B0X2ZuLCBvcHRfb3B0aW9ucyk7XG59O1xuZ29vZy5ldmVudHMuRXZlbnRIYW5kbGVyLnByb3RvdHlwZS5saXN0ZW5PbmNlV2l0aFNjb3BlID0gZnVuY3Rpb24oc3JjLCB0eXBlLCBmbiwgY2FwdHVyZSwgc2NvcGUpIHtcbiAgcmV0dXJuIHRoaXMubGlzdGVuT25jZV8oc3JjLCB0eXBlLCBmbiwgY2FwdHVyZSwgc2NvcGUpO1xufTtcbmdvb2cuZXZlbnRzLkV2ZW50SGFuZGxlci5wcm90b3R5cGUubGlzdGVuT25jZV8gPSBmdW5jdGlvbihzcmMsIHR5cGUsIG9wdF9mbiwgb3B0X29wdGlvbnMsIG9wdF9zY29wZSkge1xuICBpZiAoQXJyYXkuaXNBcnJheSh0eXBlKSkge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdHlwZS5sZW5ndGg7IGkrKykge1xuICAgICAgdGhpcy5saXN0ZW5PbmNlXyhzcmMsIHR5cGVbaV0sIG9wdF9mbiwgb3B0X29wdGlvbnMsIG9wdF9zY29wZSk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHZhciBsaXN0ZW5lck9iaiA9IGdvb2cuZXZlbnRzLmxpc3Rlbk9uY2Uoc3JjLCB0eXBlLCBvcHRfZm4gfHwgdGhpcy5oYW5kbGVFdmVudCwgb3B0X29wdGlvbnMsIG9wdF9zY29wZSB8fCB0aGlzLmhhbmRsZXJfIHx8IHRoaXMpO1xuICAgIGlmICghbGlzdGVuZXJPYmopIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICB0aGlzLmtleXNfW2xpc3RlbmVyT2JqLmtleV0gPSBsaXN0ZW5lck9iajtcbiAgfVxuICByZXR1cm4gdGhpcztcbn07XG5nb29nLmV2ZW50cy5FdmVudEhhbmRsZXIucHJvdG90eXBlLmxpc3RlbldpdGhXcmFwcGVyID0gZnVuY3Rpb24oc3JjLCB3cmFwcGVyLCBsaXN0ZW5lciwgb3B0X2NhcHQpIHtcbiAgcmV0dXJuIHRoaXMubGlzdGVuV2l0aFdyYXBwZXJfKHNyYywgd3JhcHBlciwgbGlzdGVuZXIsIG9wdF9jYXB0KTtcbn07XG5nb29nLmV2ZW50cy5FdmVudEhhbmRsZXIucHJvdG90eXBlLmxpc3RlbldpdGhXcmFwcGVyQW5kU2NvcGUgPSBmdW5jdGlvbihzcmMsIHdyYXBwZXIsIGxpc3RlbmVyLCBjYXB0dXJlLCBzY29wZSkge1xuICByZXR1cm4gdGhpcy5saXN0ZW5XaXRoV3JhcHBlcl8oc3JjLCB3cmFwcGVyLCBsaXN0ZW5lciwgY2FwdHVyZSwgc2NvcGUpO1xufTtcbmdvb2cuZXZlbnRzLkV2ZW50SGFuZGxlci5wcm90b3R5cGUubGlzdGVuV2l0aFdyYXBwZXJfID0gZnVuY3Rpb24oc3JjLCB3cmFwcGVyLCBsaXN0ZW5lciwgb3B0X2NhcHQsIG9wdF9zY29wZSkge1xuICB3cmFwcGVyLmxpc3RlbihzcmMsIGxpc3RlbmVyLCBvcHRfY2FwdCwgb3B0X3Njb3BlIHx8IHRoaXMuaGFuZGxlcl8gfHwgdGhpcywgdGhpcyk7XG4gIHJldHVybiB0aGlzO1xufTtcbmdvb2cuZXZlbnRzLkV2ZW50SGFuZGxlci5wcm90b3R5cGUuZ2V0TGlzdGVuZXJDb3VudCA9IGZ1bmN0aW9uKCkge1xuICB2YXIgY291bnQgPSAwLCBrZXk7XG4gIGZvciAoa2V5IGluIHRoaXMua2V5c18pIHtcbiAgICBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodGhpcy5rZXlzXywga2V5KSAmJiBjb3VudCsrO1xuICB9XG4gIHJldHVybiBjb3VudDtcbn07XG5nb29nLmV2ZW50cy5FdmVudEhhbmRsZXIucHJvdG90eXBlLnVubGlzdGVuID0gZnVuY3Rpb24oc3JjLCB0eXBlLCBvcHRfZm4sIG9wdF9vcHRpb25zLCBvcHRfc2NvcGUpIHtcbiAgaWYgKEFycmF5LmlzQXJyYXkodHlwZSkpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHR5cGUubGVuZ3RoOyBpKyspIHtcbiAgICAgIHRoaXMudW5saXN0ZW4oc3JjLCB0eXBlW2ldLCBvcHRfZm4sIG9wdF9vcHRpb25zLCBvcHRfc2NvcGUpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICB2YXIgbGlzdGVuZXIgPSBnb29nLmV2ZW50cy5nZXRMaXN0ZW5lcihzcmMsIHR5cGUsIG9wdF9mbiB8fCB0aGlzLmhhbmRsZUV2ZW50LCBnb29nLmlzT2JqZWN0KG9wdF9vcHRpb25zKSA/ICEhb3B0X29wdGlvbnMuY2FwdHVyZSA6ICEhb3B0X29wdGlvbnMsIG9wdF9zY29wZSB8fCB0aGlzLmhhbmRsZXJfIHx8IHRoaXMpO1xuICAgIGxpc3RlbmVyICYmIChnb29nLmV2ZW50cy51bmxpc3RlbkJ5S2V5KGxpc3RlbmVyKSwgZGVsZXRlIHRoaXMua2V5c19bbGlzdGVuZXIua2V5XSk7XG4gIH1cbiAgcmV0dXJuIHRoaXM7XG59O1xuZ29vZy5ldmVudHMuRXZlbnRIYW5kbGVyLnByb3RvdHlwZS51bmxpc3RlbldpdGhXcmFwcGVyID0gZnVuY3Rpb24oc3JjLCB3cmFwcGVyLCBsaXN0ZW5lciwgb3B0X2NhcHQsIG9wdF9zY29wZSkge1xuICB3cmFwcGVyLnVubGlzdGVuKHNyYywgbGlzdGVuZXIsIG9wdF9jYXB0LCBvcHRfc2NvcGUgfHwgdGhpcy5oYW5kbGVyXyB8fCB0aGlzLCB0aGlzKTtcbiAgcmV0dXJuIHRoaXM7XG59O1xuZ29vZy5ldmVudHMuRXZlbnRIYW5kbGVyLnByb3RvdHlwZS5yZW1vdmVBbGwgPSBmdW5jdGlvbigpIHtcbiAgbW9kdWxlJGNvbnRlbnRzJGdvb2ckb2JqZWN0X2ZvckVhY2godGhpcy5rZXlzXywgZnVuY3Rpb24obGlzdGVuZXJPYmosIGtleSkge1xuICAgIHRoaXMua2V5c18uaGFzT3duUHJvcGVydHkoa2V5KSAmJiBnb29nLmV2ZW50cy51bmxpc3RlbkJ5S2V5KGxpc3RlbmVyT2JqKTtcbiAgfSwgdGhpcyk7XG4gIHRoaXMua2V5c18gPSB7fTtcbn07XG5nb29nLmV2ZW50cy5FdmVudEhhbmRsZXIucHJvdG90eXBlLmRpc3Bvc2VJbnRlcm5hbCA9IGZ1bmN0aW9uKCkge1xuICBnb29nLmV2ZW50cy5FdmVudEhhbmRsZXIuc3VwZXJDbGFzc18uZGlzcG9zZUludGVybmFsLmNhbGwodGhpcyk7XG4gIHRoaXMucmVtb3ZlQWxsKCk7XG59O1xuZ29vZy5ldmVudHMuRXZlbnRIYW5kbGVyLnByb3RvdHlwZS5oYW5kbGVFdmVudCA9IGZ1bmN0aW9uKGUpIHtcbiAgdGhyb3cgRXJyb3IoXCJFdmVudEhhbmRsZXIuaGFuZGxlRXZlbnQgbm90IGltcGxlbWVudGVkXCIpO1xufTtcbmdvb2cuZnMuRE9NRXJyb3JMaWtlID0gZnVuY3Rpb24oKSB7XG59O1xuZ29vZy5mcy5FcnJvciA9IGZ1bmN0aW9uKGVycm9yLCBhY3Rpb24pIHtcbiAgaWYgKHZvaWQgMCAhPT0gZXJyb3IubmFtZSkge1xuICAgIHRoaXMubmFtZSA9IGVycm9yLm5hbWUsIHRoaXMuY29kZSA9IGdvb2cuZnMuRXJyb3IuZ2V0Q29kZUZyb21OYW1lXyhlcnJvci5uYW1lKTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgY29kZSA9IGdvb2cuYXNzZXJ0cy5hc3NlcnROdW1iZXIoZXJyb3IuY29kZSk7XG4gICAgdGhpcy5jb2RlID0gY29kZTtcbiAgICB0aGlzLm5hbWUgPSBnb29nLmZzLkVycm9yLmdldE5hbWVGcm9tQ29kZV8oY29kZSk7XG4gIH1cbiAgbW9kdWxlJGNvbnRlbnRzJGdvb2ckZGVidWckRXJyb3JfRGVidWdFcnJvci5jYWxsKHRoaXMsIGdvb2cuc3RyaW5nLnN1YnMoXCIlcyAlc1wiLCB0aGlzLm5hbWUsIGFjdGlvbikpO1xufTtcbmdvb2cuaW5oZXJpdHMoZ29vZy5mcy5FcnJvciwgbW9kdWxlJGNvbnRlbnRzJGdvb2ckZGVidWckRXJyb3JfRGVidWdFcnJvcik7XG5nb29nLmZzLkVycm9yLkVycm9yTmFtZSA9IHtBQk9SVDpcIkFib3J0RXJyb3JcIiwgRU5DT0RJTkc6XCJFbmNvZGluZ0Vycm9yXCIsIElOVkFMSURfTU9ESUZJQ0FUSU9OOlwiSW52YWxpZE1vZGlmaWNhdGlvbkVycm9yXCIsIElOVkFMSURfU1RBVEU6XCJJbnZhbGlkU3RhdGVFcnJvclwiLCBOT1RfRk9VTkQ6XCJOb3RGb3VuZEVycm9yXCIsIE5PVF9SRUFEQUJMRTpcIk5vdFJlYWRhYmxlRXJyb3JcIiwgTk9fTU9ESUZJQ0FUSU9OX0FMTE9XRUQ6XCJOb01vZGlmaWNhdGlvbkFsbG93ZWRFcnJvclwiLCBQQVRIX0VYSVNUUzpcIlBhdGhFeGlzdHNFcnJvclwiLCBRVU9UQV9FWENFRURFRDpcIlF1b3RhRXhjZWVkZWRFcnJvclwiLCBTRUNVUklUWTpcIlNlY3VyaXR5RXJyb3JcIiwgU1lOVEFYOlwiU3ludGF4RXJyb3JcIiwgVFlQRV9NSVNNQVRDSDpcIlR5cGVNaXNtYXRjaEVycm9yXCJ9O1xuZ29vZy5mcy5FcnJvci5FcnJvckNvZGUgPSB7Tk9UX0ZPVU5EOjEsIFNFQ1VSSVRZOjIsIEFCT1JUOjMsIE5PVF9SRUFEQUJMRTo0LCBFTkNPRElORzo1LCBOT19NT0RJRklDQVRJT05fQUxMT1dFRDo2LCBJTlZBTElEX1NUQVRFOjcsIFNZTlRBWDo4LCBJTlZBTElEX01PRElGSUNBVElPTjo5LCBRVU9UQV9FWENFRURFRDoxMCwgVFlQRV9NSVNNQVRDSDoxMSwgUEFUSF9FWElTVFM6MTJ9O1xuZ29vZy5mcy5FcnJvci5nZXROYW1lRnJvbUNvZGVfID0gZnVuY3Rpb24oY29kZSkge1xuICB2YXIgbmFtZSA9IG1vZHVsZSRjb250ZW50cyRnb29nJG9iamVjdF9maW5kS2V5KGdvb2cuZnMuRXJyb3IuTmFtZVRvQ29kZU1hcF8sIGZ1bmN0aW9uKGMpIHtcbiAgICByZXR1cm4gY29kZSA9PSBjO1xuICB9KTtcbiAgaWYgKHZvaWQgMCA9PT0gbmFtZSkge1xuICAgIHRocm93IEVycm9yKFwiSW52YWxpZCBjb2RlOiBcIiArIGNvZGUpO1xuICB9XG4gIHJldHVybiBuYW1lO1xufTtcbmdvb2cuZnMuRXJyb3IuZ2V0Q29kZUZyb21OYW1lXyA9IGZ1bmN0aW9uKG5hbWUpIHtcbiAgcmV0dXJuIGdvb2cuZnMuRXJyb3IuTmFtZVRvQ29kZU1hcF9bbmFtZV07XG59O1xudmFyICRqc2NvbXAkY29tcHByb3AxMSA9IHt9O1xuZ29vZy5mcy5FcnJvci5OYW1lVG9Db2RlTWFwXyA9ICgkanNjb21wJGNvbXBwcm9wMTFbZ29vZy5mcy5FcnJvci5FcnJvck5hbWUuQUJPUlRdID0gZ29vZy5mcy5FcnJvci5FcnJvckNvZGUuQUJPUlQsICRqc2NvbXAkY29tcHByb3AxMVtnb29nLmZzLkVycm9yLkVycm9yTmFtZS5FTkNPRElOR10gPSBnb29nLmZzLkVycm9yLkVycm9yQ29kZS5FTkNPRElORywgJGpzY29tcCRjb21wcHJvcDExW2dvb2cuZnMuRXJyb3IuRXJyb3JOYW1lLklOVkFMSURfTU9ESUZJQ0FUSU9OXSA9IGdvb2cuZnMuRXJyb3IuRXJyb3JDb2RlLklOVkFMSURfTU9ESUZJQ0FUSU9OLCAkanNjb21wJGNvbXBwcm9wMTFbZ29vZy5mcy5FcnJvci5FcnJvck5hbWUuSU5WQUxJRF9TVEFURV0gPSBnb29nLmZzLkVycm9yLkVycm9yQ29kZS5JTlZBTElEX1NUQVRFLCAkanNjb21wJGNvbXBwcm9wMTFbZ29vZy5mcy5FcnJvci5FcnJvck5hbWUuTk9UX0ZPVU5EXSA9IGdvb2cuZnMuRXJyb3IuRXJyb3JDb2RlLk5PVF9GT1VORCwgXG4kanNjb21wJGNvbXBwcm9wMTFbZ29vZy5mcy5FcnJvci5FcnJvck5hbWUuTk9UX1JFQURBQkxFXSA9IGdvb2cuZnMuRXJyb3IuRXJyb3JDb2RlLk5PVF9SRUFEQUJMRSwgJGpzY29tcCRjb21wcHJvcDExW2dvb2cuZnMuRXJyb3IuRXJyb3JOYW1lLk5PX01PRElGSUNBVElPTl9BTExPV0VEXSA9IGdvb2cuZnMuRXJyb3IuRXJyb3JDb2RlLk5PX01PRElGSUNBVElPTl9BTExPV0VELCAkanNjb21wJGNvbXBwcm9wMTFbZ29vZy5mcy5FcnJvci5FcnJvck5hbWUuUEFUSF9FWElTVFNdID0gZ29vZy5mcy5FcnJvci5FcnJvckNvZGUuUEFUSF9FWElTVFMsICRqc2NvbXAkY29tcHByb3AxMVtnb29nLmZzLkVycm9yLkVycm9yTmFtZS5RVU9UQV9FWENFRURFRF0gPSBnb29nLmZzLkVycm9yLkVycm9yQ29kZS5RVU9UQV9FWENFRURFRCwgJGpzY29tcCRjb21wcHJvcDExW2dvb2cuZnMuRXJyb3IuRXJyb3JOYW1lLlNFQ1VSSVRZXSA9IGdvb2cuZnMuRXJyb3IuRXJyb3JDb2RlLlNFQ1VSSVRZLCBcbiRqc2NvbXAkY29tcHByb3AxMVtnb29nLmZzLkVycm9yLkVycm9yTmFtZS5TWU5UQVhdID0gZ29vZy5mcy5FcnJvci5FcnJvckNvZGUuU1lOVEFYLCAkanNjb21wJGNvbXBwcm9wMTFbZ29vZy5mcy5FcnJvci5FcnJvck5hbWUuVFlQRV9NSVNNQVRDSF0gPSBnb29nLmZzLkVycm9yLkVycm9yQ29kZS5UWVBFX01JU01BVENILCAkanNjb21wJGNvbXBwcm9wMTEpO1xuZ29vZy5mcy5Qcm9ncmVzc0V2ZW50ID0gZnVuY3Rpb24oZXZlbnQsIHRhcmdldCkge1xuICBnb29nLmV2ZW50cy5FdmVudC5jYWxsKHRoaXMsIGV2ZW50LnR5cGUsIHRhcmdldCk7XG4gIHRoaXMuZXZlbnRfID0gZXZlbnQ7XG59O1xuZ29vZy5pbmhlcml0cyhnb29nLmZzLlByb2dyZXNzRXZlbnQsIGdvb2cuZXZlbnRzLkV2ZW50KTtcbmdvb2cuZnMuUHJvZ3Jlc3NFdmVudC5wcm90b3R5cGUuaXNMZW5ndGhDb21wdXRhYmxlID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLmV2ZW50Xy5sZW5ndGhDb21wdXRhYmxlO1xufTtcbmdvb2cuZnMuUHJvZ3Jlc3NFdmVudC5wcm90b3R5cGUuZ2V0TG9hZGVkID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLmV2ZW50Xy5sb2FkZWQ7XG59O1xuZ29vZy5mcy5Qcm9ncmVzc0V2ZW50LnByb3RvdHlwZS5nZXRUb3RhbCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5ldmVudF8udG90YWw7XG59O1xuZ29vZy5mcy5GaWxlUmVhZGVyID0gZnVuY3Rpb24oKSB7XG4gIGdvb2cuZXZlbnRzLkV2ZW50VGFyZ2V0LmNhbGwodGhpcyk7XG4gIHRoaXMucmVhZGVyXyA9IG5ldyBGaWxlUmVhZGVyKCk7XG4gIHRoaXMucmVhZGVyXy5vbmxvYWRzdGFydCA9IGdvb2cuYmluZCh0aGlzLmRpc3BhdGNoUHJvZ3Jlc3NFdmVudF8sIHRoaXMpO1xuICB0aGlzLnJlYWRlcl8ub25wcm9ncmVzcyA9IGdvb2cuYmluZCh0aGlzLmRpc3BhdGNoUHJvZ3Jlc3NFdmVudF8sIHRoaXMpO1xuICB0aGlzLnJlYWRlcl8ub25sb2FkID0gZ29vZy5iaW5kKHRoaXMuZGlzcGF0Y2hQcm9ncmVzc0V2ZW50XywgdGhpcyk7XG4gIHRoaXMucmVhZGVyXy5vbmFib3J0ID0gZ29vZy5iaW5kKHRoaXMuZGlzcGF0Y2hQcm9ncmVzc0V2ZW50XywgdGhpcyk7XG4gIHRoaXMucmVhZGVyXy5vbmVycm9yID0gZ29vZy5iaW5kKHRoaXMuZGlzcGF0Y2hQcm9ncmVzc0V2ZW50XywgdGhpcyk7XG4gIHRoaXMucmVhZGVyXy5vbmxvYWRlbmQgPSBnb29nLmJpbmQodGhpcy5kaXNwYXRjaFByb2dyZXNzRXZlbnRfLCB0aGlzKTtcbn07XG5nb29nLmluaGVyaXRzKGdvb2cuZnMuRmlsZVJlYWRlciwgZ29vZy5ldmVudHMuRXZlbnRUYXJnZXQpO1xuZ29vZy5mcy5GaWxlUmVhZGVyLlJlYWR5U3RhdGUgPSB7SU5JVDowLCBMT0FESU5HOjEsIERPTkU6Mn07XG5nb29nLmZzLkZpbGVSZWFkZXIuRXZlbnRUeXBlID0ge0xPQURfU1RBUlQ6XCJsb2Fkc3RhcnRcIiwgUFJPR1JFU1M6XCJwcm9ncmVzc1wiLCBMT0FEOlwibG9hZFwiLCBBQk9SVDpcImFib3J0XCIsIEVSUk9SOlwiZXJyb3JcIiwgTE9BRF9FTkQ6XCJsb2FkZW5kXCJ9O1xuZ29vZy5mcy5GaWxlUmVhZGVyLnByb3RvdHlwZS5hYm9ydCA9IGZ1bmN0aW9uKCkge1xuICB0cnkge1xuICAgIHRoaXMucmVhZGVyXy5hYm9ydCgpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgdGhyb3cgbmV3IGdvb2cuZnMuRXJyb3IoZSwgXCJhYm9ydGluZyByZWFkXCIpO1xuICB9XG59O1xuZ29vZy5mcy5GaWxlUmVhZGVyLnByb3RvdHlwZS5nZXRSZWFkeVN0YXRlID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLnJlYWRlcl8ucmVhZHlTdGF0ZTtcbn07XG5nb29nLmZzLkZpbGVSZWFkZXIucHJvdG90eXBlLmdldFJlc3VsdCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5yZWFkZXJfLnJlc3VsdDtcbn07XG5nb29nLmZzLkZpbGVSZWFkZXIucHJvdG90eXBlLmdldEVycm9yID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLnJlYWRlcl8uZXJyb3IgJiYgbmV3IGdvb2cuZnMuRXJyb3IodGhpcy5yZWFkZXJfLmVycm9yLCBcInJlYWRpbmcgZmlsZVwiKTtcbn07XG5nb29nLmZzLkZpbGVSZWFkZXIucHJvdG90eXBlLmRpc3BhdGNoUHJvZ3Jlc3NFdmVudF8gPSBmdW5jdGlvbihldmVudCkge1xuICB0aGlzLmRpc3BhdGNoRXZlbnQobmV3IGdvb2cuZnMuUHJvZ3Jlc3NFdmVudChldmVudCwgdGhpcykpO1xufTtcbmdvb2cuZnMuRmlsZVJlYWRlci5wcm90b3R5cGUuZGlzcG9zZUludGVybmFsID0gZnVuY3Rpb24oKSB7XG4gIGdvb2cuZnMuRmlsZVJlYWRlci5zdXBlckNsYXNzXy5kaXNwb3NlSW50ZXJuYWwuY2FsbCh0aGlzKTtcbiAgZGVsZXRlIHRoaXMucmVhZGVyXztcbn07XG5nb29nLmZzLkZpbGVSZWFkZXIucHJvdG90eXBlLnJlYWRBc0JpbmFyeVN0cmluZyA9IGZ1bmN0aW9uKGJsb2IpIHtcbiAgdGhpcy5yZWFkZXJfLnJlYWRBc0JpbmFyeVN0cmluZyhibG9iKTtcbn07XG5nb29nLmZzLkZpbGVSZWFkZXIucmVhZEFzQmluYXJ5U3RyaW5nID0gZnVuY3Rpb24oYmxvYikge1xuICB2YXIgcmVhZGVyID0gbmV3IGdvb2cuZnMuRmlsZVJlYWRlcigpLCBkID0gZ29vZy5mcy5GaWxlUmVhZGVyLmNyZWF0ZURlZmVycmVkXyhyZWFkZXIpO1xuICByZWFkZXIucmVhZEFzQmluYXJ5U3RyaW5nKGJsb2IpO1xuICByZXR1cm4gZDtcbn07XG5nb29nLmZzLkZpbGVSZWFkZXIucHJvdG90eXBlLnJlYWRBc0FycmF5QnVmZmVyID0gZnVuY3Rpb24oYmxvYikge1xuICB0aGlzLnJlYWRlcl8ucmVhZEFzQXJyYXlCdWZmZXIoYmxvYik7XG59O1xuZ29vZy5mcy5GaWxlUmVhZGVyLnJlYWRBc0FycmF5QnVmZmVyID0gZnVuY3Rpb24oYmxvYikge1xuICB2YXIgcmVhZGVyID0gbmV3IGdvb2cuZnMuRmlsZVJlYWRlcigpLCBkID0gZ29vZy5mcy5GaWxlUmVhZGVyLmNyZWF0ZURlZmVycmVkXyhyZWFkZXIpO1xuICByZWFkZXIucmVhZEFzQXJyYXlCdWZmZXIoYmxvYik7XG4gIHJldHVybiBkO1xufTtcbmdvb2cuZnMuRmlsZVJlYWRlci5wcm90b3R5cGUucmVhZEFzVGV4dCA9IGZ1bmN0aW9uKGJsb2IsIG9wdF9lbmNvZGluZykge1xuICB0aGlzLnJlYWRlcl8ucmVhZEFzVGV4dChibG9iLCBvcHRfZW5jb2RpbmcpO1xufTtcbmdvb2cuZnMuRmlsZVJlYWRlci5yZWFkQXNUZXh0ID0gZnVuY3Rpb24oYmxvYiwgb3B0X2VuY29kaW5nKSB7XG4gIHZhciByZWFkZXIgPSBuZXcgZ29vZy5mcy5GaWxlUmVhZGVyKCksIGQgPSBnb29nLmZzLkZpbGVSZWFkZXIuY3JlYXRlRGVmZXJyZWRfKHJlYWRlcik7XG4gIHJlYWRlci5yZWFkQXNUZXh0KGJsb2IsIG9wdF9lbmNvZGluZyk7XG4gIHJldHVybiBkO1xufTtcbmdvb2cuZnMuRmlsZVJlYWRlci5wcm90b3R5cGUucmVhZEFzRGF0YVVybCA9IGZ1bmN0aW9uKGJsb2IpIHtcbiAgdGhpcy5yZWFkZXJfLnJlYWRBc0RhdGFVUkwoYmxvYik7XG59O1xuZ29vZy5mcy5GaWxlUmVhZGVyLnJlYWRBc0RhdGFVcmwgPSBmdW5jdGlvbihibG9iKSB7XG4gIHZhciByZWFkZXIgPSBuZXcgZ29vZy5mcy5GaWxlUmVhZGVyKCksIGQgPSBnb29nLmZzLkZpbGVSZWFkZXIuY3JlYXRlRGVmZXJyZWRfKHJlYWRlcik7XG4gIHJlYWRlci5yZWFkQXNEYXRhVXJsKGJsb2IpO1xuICByZXR1cm4gZDtcbn07XG5nb29nLmZzLkZpbGVSZWFkZXIuY3JlYXRlRGVmZXJyZWRfID0gZnVuY3Rpb24ocmVhZGVyKSB7XG4gIHZhciBkZWZlcnJlZCA9IG5ldyBnb29nLmFzeW5jLkRlZmVycmVkKCk7XG4gIHJlYWRlci5saXN0ZW4oZ29vZy5mcy5GaWxlUmVhZGVyLkV2ZW50VHlwZS5MT0FEX0VORCwgZ29vZy5wYXJ0aWFsKGZ1bmN0aW9uKGQsIHIsIGUpIHtcbiAgICB2YXIgcmVzdWx0ID0gci5nZXRSZXN1bHQoKSwgZXJyb3IgPSByLmdldEVycm9yKCk7XG4gICAgbnVsbCA9PSByZXN1bHQgfHwgZXJyb3IgPyBkLmVycmJhY2soZXJyb3IpIDogZC5jYWxsYmFjayhyZXN1bHQpO1xuICAgIHIuZGlzcG9zZSgpO1xuICB9LCBkZWZlcnJlZCwgcmVhZGVyKSk7XG4gIHJldHVybiBkZWZlcnJlZDtcbn07XG5nb29nLmRvbS52ZW5kb3IgPSB7fTtcbmdvb2cuZG9tLnZlbmRvci5nZXRWZW5kb3JKc1ByZWZpeCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gZ29vZy51c2VyQWdlbnQuV0VCS0lUID8gXCJXZWJraXRcIiA6IGdvb2cudXNlckFnZW50LkdFQ0tPID8gXCJNb3pcIiA6IGdvb2cudXNlckFnZW50LklFID8gXCJtc1wiIDogbnVsbDtcbn07XG5nb29nLmRvbS52ZW5kb3IuZ2V0VmVuZG9yUHJlZml4ID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBnb29nLnVzZXJBZ2VudC5XRUJLSVQgPyBcIi13ZWJraXRcIiA6IGdvb2cudXNlckFnZW50LkdFQ0tPID8gXCItbW96XCIgOiBnb29nLnVzZXJBZ2VudC5JRSA/IFwiLW1zXCIgOiBudWxsO1xufTtcbmdvb2cuZG9tLnZlbmRvci5nZXRQcmVmaXhlZFByb3BlcnR5TmFtZSA9IGZ1bmN0aW9uKHByb3BlcnR5TmFtZSwgb3B0X29iamVjdCkge1xuICBpZiAob3B0X29iamVjdCAmJiBwcm9wZXJ0eU5hbWUgaW4gb3B0X29iamVjdCkge1xuICAgIHJldHVybiBwcm9wZXJ0eU5hbWU7XG4gIH1cbiAgdmFyIHByZWZpeCA9IGdvb2cuZG9tLnZlbmRvci5nZXRWZW5kb3JKc1ByZWZpeCgpO1xuICBpZiAocHJlZml4KSB7XG4gICAgcHJlZml4ID0gcHJlZml4LnRvTG93ZXJDYXNlKCk7XG4gICAgdmFyIHByZWZpeGVkUHJvcGVydHlOYW1lID0gcHJlZml4ICsgZ29vZy5zdHJpbmcudG9UaXRsZUNhc2UocHJvcGVydHlOYW1lKTtcbiAgICByZXR1cm4gdm9pZCAwID09PSBvcHRfb2JqZWN0IHx8IHByZWZpeGVkUHJvcGVydHlOYW1lIGluIG9wdF9vYmplY3QgPyBwcmVmaXhlZFByb3BlcnR5TmFtZSA6IG51bGw7XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59O1xuZ29vZy5kb20udmVuZG9yLmdldFByZWZpeGVkRXZlbnRUeXBlID0gZnVuY3Rpb24oZXZlbnRUeXBlKSB7XG4gIHJldHVybiAoKGdvb2cuZG9tLnZlbmRvci5nZXRWZW5kb3JKc1ByZWZpeCgpIHx8IFwiXCIpICsgZXZlbnRUeXBlKS50b0xvd2VyQ2FzZSgpO1xufTtcbmdvb2cubWF0aC5Cb3ggPSBmdW5jdGlvbih0b3AsIHJpZ2h0LCBib3R0b20sIGxlZnQpIHtcbiAgdGhpcy50b3AgPSB0b3A7XG4gIHRoaXMucmlnaHQgPSByaWdodDtcbiAgdGhpcy5ib3R0b20gPSBib3R0b207XG4gIHRoaXMubGVmdCA9IGxlZnQ7XG59O1xuZ29vZy5tYXRoLkJveC5ib3VuZGluZ0JveCA9IGZ1bmN0aW9uKHZhcl9hcmdzKSB7XG4gIGZvciAodmFyIGJveCA9IG5ldyBnb29nLm1hdGguQm94KGFyZ3VtZW50c1swXS55LCBhcmd1bWVudHNbMF0ueCwgYXJndW1lbnRzWzBdLnksIGFyZ3VtZW50c1swXS54KSwgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICBib3guZXhwYW5kVG9JbmNsdWRlQ29vcmRpbmF0ZShhcmd1bWVudHNbaV0pO1xuICB9XG4gIHJldHVybiBib3g7XG59O1xuZ29vZy5tYXRoLkJveC5wcm90b3R5cGUuZ2V0V2lkdGggPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMucmlnaHQgLSB0aGlzLmxlZnQ7XG59O1xuZ29vZy5tYXRoLkJveC5wcm90b3R5cGUuZ2V0SGVpZ2h0ID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLmJvdHRvbSAtIHRoaXMudG9wO1xufTtcbmdvb2cubWF0aC5Cb3gucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBuZXcgZ29vZy5tYXRoLkJveCh0aGlzLnRvcCwgdGhpcy5yaWdodCwgdGhpcy5ib3R0b20sIHRoaXMubGVmdCk7XG59O1xuZ29vZy5ERUJVRyAmJiAoZ29vZy5tYXRoLkJveC5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIFwiKFwiICsgdGhpcy50b3AgKyBcInQsIFwiICsgdGhpcy5yaWdodCArIFwiciwgXCIgKyB0aGlzLmJvdHRvbSArIFwiYiwgXCIgKyB0aGlzLmxlZnQgKyBcImwpXCI7XG59KTtcbmdvb2cubWF0aC5Cb3gucHJvdG90eXBlLmNvbnRhaW5zID0gZnVuY3Rpb24ob3RoZXIpIHtcbiAgcmV0dXJuIGdvb2cubWF0aC5Cb3guY29udGFpbnModGhpcywgb3RoZXIpO1xufTtcbmdvb2cubWF0aC5Cb3gucHJvdG90eXBlLmV4cGFuZCA9IGZ1bmN0aW9uKHRvcCwgb3B0X3JpZ2h0LCBvcHRfYm90dG9tLCBvcHRfbGVmdCkge1xuICBnb29nLmlzT2JqZWN0KHRvcCkgPyAodGhpcy50b3AgLT0gdG9wLnRvcCwgdGhpcy5yaWdodCArPSB0b3AucmlnaHQsIHRoaXMuYm90dG9tICs9IHRvcC5ib3R0b20sIHRoaXMubGVmdCAtPSB0b3AubGVmdCkgOiAodGhpcy50b3AgLT0gdG9wLCB0aGlzLnJpZ2h0ICs9IE51bWJlcihvcHRfcmlnaHQpLCB0aGlzLmJvdHRvbSArPSBOdW1iZXIob3B0X2JvdHRvbSksIHRoaXMubGVmdCAtPSBOdW1iZXIob3B0X2xlZnQpKTtcbiAgcmV0dXJuIHRoaXM7XG59O1xuZ29vZy5tYXRoLkJveC5wcm90b3R5cGUuZXhwYW5kVG9JbmNsdWRlID0gZnVuY3Rpb24oYm94KSB7XG4gIHRoaXMubGVmdCA9IE1hdGgubWluKHRoaXMubGVmdCwgYm94LmxlZnQpO1xuICB0aGlzLnRvcCA9IE1hdGgubWluKHRoaXMudG9wLCBib3gudG9wKTtcbiAgdGhpcy5yaWdodCA9IE1hdGgubWF4KHRoaXMucmlnaHQsIGJveC5yaWdodCk7XG4gIHRoaXMuYm90dG9tID0gTWF0aC5tYXgodGhpcy5ib3R0b20sIGJveC5ib3R0b20pO1xufTtcbmdvb2cubWF0aC5Cb3gucHJvdG90eXBlLmV4cGFuZFRvSW5jbHVkZUNvb3JkaW5hdGUgPSBmdW5jdGlvbihjb29yZCkge1xuICB0aGlzLnRvcCA9IE1hdGgubWluKHRoaXMudG9wLCBjb29yZC55KTtcbiAgdGhpcy5yaWdodCA9IE1hdGgubWF4KHRoaXMucmlnaHQsIGNvb3JkLngpO1xuICB0aGlzLmJvdHRvbSA9IE1hdGgubWF4KHRoaXMuYm90dG9tLCBjb29yZC55KTtcbiAgdGhpcy5sZWZ0ID0gTWF0aC5taW4odGhpcy5sZWZ0LCBjb29yZC54KTtcbn07XG5nb29nLm1hdGguQm94LmVxdWFscyA9IGZ1bmN0aW9uKGEsIGIpIHtcbiAgcmV0dXJuIGEgPT0gYiA/ICEwIDogYSAmJiBiID8gYS50b3AgPT0gYi50b3AgJiYgYS5yaWdodCA9PSBiLnJpZ2h0ICYmIGEuYm90dG9tID09IGIuYm90dG9tICYmIGEubGVmdCA9PSBiLmxlZnQgOiAhMTtcbn07XG5nb29nLm1hdGguQm94LmNvbnRhaW5zID0gZnVuY3Rpb24oYm94LCBvdGhlcikge1xuICByZXR1cm4gYm94ICYmIG90aGVyID8gb3RoZXIgaW5zdGFuY2VvZiBnb29nLm1hdGguQm94ID8gb3RoZXIubGVmdCA+PSBib3gubGVmdCAmJiBvdGhlci5yaWdodCA8PSBib3gucmlnaHQgJiYgb3RoZXIudG9wID49IGJveC50b3AgJiYgb3RoZXIuYm90dG9tIDw9IGJveC5ib3R0b20gOiBvdGhlci54ID49IGJveC5sZWZ0ICYmIG90aGVyLnggPD0gYm94LnJpZ2h0ICYmIG90aGVyLnkgPj0gYm94LnRvcCAmJiBvdGhlci55IDw9IGJveC5ib3R0b20gOiAhMTtcbn07XG5nb29nLm1hdGguQm94LnJlbGF0aXZlUG9zaXRpb25YID0gZnVuY3Rpb24oYm94LCBjb29yZCkge1xuICByZXR1cm4gY29vcmQueCA8IGJveC5sZWZ0ID8gY29vcmQueCAtIGJveC5sZWZ0IDogY29vcmQueCA+IGJveC5yaWdodCA/IGNvb3JkLnggLSBib3gucmlnaHQgOiAwO1xufTtcbmdvb2cubWF0aC5Cb3gucmVsYXRpdmVQb3NpdGlvblkgPSBmdW5jdGlvbihib3gsIGNvb3JkKSB7XG4gIHJldHVybiBjb29yZC55IDwgYm94LnRvcCA/IGNvb3JkLnkgLSBib3gudG9wIDogY29vcmQueSA+IGJveC5ib3R0b20gPyBjb29yZC55IC0gYm94LmJvdHRvbSA6IDA7XG59O1xuZ29vZy5tYXRoLkJveC5kaXN0YW5jZSA9IGZ1bmN0aW9uKGJveCwgY29vcmQpIHtcbiAgdmFyIHggPSBnb29nLm1hdGguQm94LnJlbGF0aXZlUG9zaXRpb25YKGJveCwgY29vcmQpLCB5ID0gZ29vZy5tYXRoLkJveC5yZWxhdGl2ZVBvc2l0aW9uWShib3gsIGNvb3JkKTtcbiAgcmV0dXJuIE1hdGguc3FydCh4ICogeCArIHkgKiB5KTtcbn07XG5nb29nLm1hdGguQm94LmludGVyc2VjdHMgPSBmdW5jdGlvbihhLCBiKSB7XG4gIHJldHVybiBhLmxlZnQgPD0gYi5yaWdodCAmJiBiLmxlZnQgPD0gYS5yaWdodCAmJiBhLnRvcCA8PSBiLmJvdHRvbSAmJiBiLnRvcCA8PSBhLmJvdHRvbTtcbn07XG5nb29nLm1hdGguQm94LmludGVyc2VjdHNXaXRoUGFkZGluZyA9IGZ1bmN0aW9uKGEsIGIsIHBhZGRpbmcpIHtcbiAgcmV0dXJuIGEubGVmdCA8PSBiLnJpZ2h0ICsgcGFkZGluZyAmJiBiLmxlZnQgPD0gYS5yaWdodCArIHBhZGRpbmcgJiYgYS50b3AgPD0gYi5ib3R0b20gKyBwYWRkaW5nICYmIGIudG9wIDw9IGEuYm90dG9tICsgcGFkZGluZztcbn07XG5nb29nLm1hdGguQm94LnByb3RvdHlwZS5jZWlsID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMudG9wID0gTWF0aC5jZWlsKHRoaXMudG9wKTtcbiAgdGhpcy5yaWdodCA9IE1hdGguY2VpbCh0aGlzLnJpZ2h0KTtcbiAgdGhpcy5ib3R0b20gPSBNYXRoLmNlaWwodGhpcy5ib3R0b20pO1xuICB0aGlzLmxlZnQgPSBNYXRoLmNlaWwodGhpcy5sZWZ0KTtcbiAgcmV0dXJuIHRoaXM7XG59O1xuZ29vZy5tYXRoLkJveC5wcm90b3R5cGUuZmxvb3IgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy50b3AgPSBNYXRoLmZsb29yKHRoaXMudG9wKTtcbiAgdGhpcy5yaWdodCA9IE1hdGguZmxvb3IodGhpcy5yaWdodCk7XG4gIHRoaXMuYm90dG9tID0gTWF0aC5mbG9vcih0aGlzLmJvdHRvbSk7XG4gIHRoaXMubGVmdCA9IE1hdGguZmxvb3IodGhpcy5sZWZ0KTtcbiAgcmV0dXJuIHRoaXM7XG59O1xuZ29vZy5tYXRoLkJveC5wcm90b3R5cGUucm91bmQgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy50b3AgPSBNYXRoLnJvdW5kKHRoaXMudG9wKTtcbiAgdGhpcy5yaWdodCA9IE1hdGgucm91bmQodGhpcy5yaWdodCk7XG4gIHRoaXMuYm90dG9tID0gTWF0aC5yb3VuZCh0aGlzLmJvdHRvbSk7XG4gIHRoaXMubGVmdCA9IE1hdGgucm91bmQodGhpcy5sZWZ0KTtcbiAgcmV0dXJuIHRoaXM7XG59O1xuZ29vZy5tYXRoLkJveC5wcm90b3R5cGUudHJhbnNsYXRlID0gZnVuY3Rpb24odHgsIG9wdF90eSkge1xuICB0eCBpbnN0YW5jZW9mIGdvb2cubWF0aC5Db29yZGluYXRlID8gKHRoaXMubGVmdCArPSB0eC54LCB0aGlzLnJpZ2h0ICs9IHR4LngsIHRoaXMudG9wICs9IHR4LnksIHRoaXMuYm90dG9tICs9IHR4LnkpIDogKGdvb2cuYXNzZXJ0cy5hc3NlcnROdW1iZXIodHgpLCB0aGlzLmxlZnQgKz0gdHgsIHRoaXMucmlnaHQgKz0gdHgsIFwibnVtYmVyXCIgPT09IHR5cGVvZiBvcHRfdHkgJiYgKHRoaXMudG9wICs9IG9wdF90eSwgdGhpcy5ib3R0b20gKz0gb3B0X3R5KSk7XG4gIHJldHVybiB0aGlzO1xufTtcbmdvb2cubWF0aC5Cb3gucHJvdG90eXBlLnNjYWxlID0gZnVuY3Rpb24oc3gsIG9wdF9zeSkge1xuICB2YXIgc3kgPSBcIm51bWJlclwiID09PSB0eXBlb2Ygb3B0X3N5ID8gb3B0X3N5IDogc3g7XG4gIHRoaXMubGVmdCAqPSBzeDtcbiAgdGhpcy5yaWdodCAqPSBzeDtcbiAgdGhpcy50b3AgKj0gc3k7XG4gIHRoaXMuYm90dG9tICo9IHN5O1xuICByZXR1cm4gdGhpcztcbn07XG5nb29nLm1hdGguSVJlY3QgPSBmdW5jdGlvbigpIHtcbn07XG5nb29nLm1hdGguUmVjdCA9IGZ1bmN0aW9uKHgsIHksIHcsIGgpIHtcbiAgdGhpcy5sZWZ0ID0geDtcbiAgdGhpcy50b3AgPSB5O1xuICB0aGlzLndpZHRoID0gdztcbiAgdGhpcy5oZWlnaHQgPSBoO1xufTtcbmdvb2cubWF0aC5SZWN0LnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbmV3IGdvb2cubWF0aC5SZWN0KHRoaXMubGVmdCwgdGhpcy50b3AsIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0KTtcbn07XG5nb29nLm1hdGguUmVjdC5wcm90b3R5cGUudG9Cb3ggPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG5ldyBnb29nLm1hdGguQm94KHRoaXMudG9wLCB0aGlzLmxlZnQgKyB0aGlzLndpZHRoLCB0aGlzLnRvcCArIHRoaXMuaGVpZ2h0LCB0aGlzLmxlZnQpO1xufTtcbmdvb2cubWF0aC5SZWN0LmNyZWF0ZUZyb21Qb3NpdGlvbkFuZFNpemUgPSBmdW5jdGlvbihwb3NpdGlvbiwgc2l6ZSkge1xuICByZXR1cm4gbmV3IGdvb2cubWF0aC5SZWN0KHBvc2l0aW9uLngsIHBvc2l0aW9uLnksIHNpemUud2lkdGgsIHNpemUuaGVpZ2h0KTtcbn07XG5nb29nLm1hdGguUmVjdC5jcmVhdGVGcm9tQm94ID0gZnVuY3Rpb24oYm94KSB7XG4gIHJldHVybiBuZXcgZ29vZy5tYXRoLlJlY3QoYm94LmxlZnQsIGJveC50b3AsIGJveC5yaWdodCAtIGJveC5sZWZ0LCBib3guYm90dG9tIC0gYm94LnRvcCk7XG59O1xuZ29vZy5ERUJVRyAmJiAoZ29vZy5tYXRoLlJlY3QucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBcIihcIiArIHRoaXMubGVmdCArIFwiLCBcIiArIHRoaXMudG9wICsgXCIgLSBcIiArIHRoaXMud2lkdGggKyBcIncgeCBcIiArIHRoaXMuaGVpZ2h0ICsgXCJoKVwiO1xufSk7XG5nb29nLm1hdGguUmVjdC5lcXVhbHMgPSBmdW5jdGlvbihhLCBiKSB7XG4gIHJldHVybiBhID09IGIgPyAhMCA6IGEgJiYgYiA/IGEubGVmdCA9PSBiLmxlZnQgJiYgYS53aWR0aCA9PSBiLndpZHRoICYmIGEudG9wID09IGIudG9wICYmIGEuaGVpZ2h0ID09IGIuaGVpZ2h0IDogITE7XG59O1xuZ29vZy5tYXRoLlJlY3QucHJvdG90eXBlLmludGVyc2VjdGlvbiA9IGZ1bmN0aW9uKHJlY3QpIHtcbiAgdmFyIHgwID0gTWF0aC5tYXgodGhpcy5sZWZ0LCByZWN0LmxlZnQpLCB4MSA9IE1hdGgubWluKHRoaXMubGVmdCArIHRoaXMud2lkdGgsIHJlY3QubGVmdCArIHJlY3Qud2lkdGgpO1xuICBpZiAoeDAgPD0geDEpIHtcbiAgICB2YXIgeTAgPSBNYXRoLm1heCh0aGlzLnRvcCwgcmVjdC50b3ApLCB5MSA9IE1hdGgubWluKHRoaXMudG9wICsgdGhpcy5oZWlnaHQsIHJlY3QudG9wICsgcmVjdC5oZWlnaHQpO1xuICAgIGlmICh5MCA8PSB5MSkge1xuICAgICAgcmV0dXJuIHRoaXMubGVmdCA9IHgwLCB0aGlzLnRvcCA9IHkwLCB0aGlzLndpZHRoID0geDEgLSB4MCwgdGhpcy5oZWlnaHQgPSB5MSAtIHkwLCAhMDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuICExO1xufTtcbmdvb2cubWF0aC5SZWN0LmludGVyc2VjdGlvbiA9IGZ1bmN0aW9uKGEsIGIpIHtcbiAgdmFyIHgwID0gTWF0aC5tYXgoYS5sZWZ0LCBiLmxlZnQpLCB4MSA9IE1hdGgubWluKGEubGVmdCArIGEud2lkdGgsIGIubGVmdCArIGIud2lkdGgpO1xuICBpZiAoeDAgPD0geDEpIHtcbiAgICB2YXIgeTAgPSBNYXRoLm1heChhLnRvcCwgYi50b3ApLCB5MSA9IE1hdGgubWluKGEudG9wICsgYS5oZWlnaHQsIGIudG9wICsgYi5oZWlnaHQpO1xuICAgIGlmICh5MCA8PSB5MSkge1xuICAgICAgcmV0dXJuIG5ldyBnb29nLm1hdGguUmVjdCh4MCwgeTAsIHgxIC0geDAsIHkxIC0geTApO1xuICAgIH1cbiAgfVxuICByZXR1cm4gbnVsbDtcbn07XG5nb29nLm1hdGguUmVjdC5pbnRlcnNlY3RzID0gZnVuY3Rpb24oYSwgYikge1xuICByZXR1cm4gYS5sZWZ0IDw9IGIubGVmdCArIGIud2lkdGggJiYgYi5sZWZ0IDw9IGEubGVmdCArIGEud2lkdGggJiYgYS50b3AgPD0gYi50b3AgKyBiLmhlaWdodCAmJiBiLnRvcCA8PSBhLnRvcCArIGEuaGVpZ2h0O1xufTtcbmdvb2cubWF0aC5SZWN0LnByb3RvdHlwZS5pbnRlcnNlY3RzID0gZnVuY3Rpb24ocmVjdCkge1xuICByZXR1cm4gZ29vZy5tYXRoLlJlY3QuaW50ZXJzZWN0cyh0aGlzLCByZWN0KTtcbn07XG5nb29nLm1hdGguUmVjdC5kaWZmZXJlbmNlID0gZnVuY3Rpb24oYSwgYikge1xuICB2YXIgaW50ZXJzZWN0aW9uID0gZ29vZy5tYXRoLlJlY3QuaW50ZXJzZWN0aW9uKGEsIGIpO1xuICBpZiAoIWludGVyc2VjdGlvbiB8fCAhaW50ZXJzZWN0aW9uLmhlaWdodCB8fCAhaW50ZXJzZWN0aW9uLndpZHRoKSB7XG4gICAgcmV0dXJuIFthLmNsb25lKCldO1xuICB9XG4gIHZhciByZXN1bHQgPSBbXSwgdG9wID0gYS50b3AsIGhlaWdodCA9IGEuaGVpZ2h0LCBhciA9IGEubGVmdCArIGEud2lkdGgsIGFiID0gYS50b3AgKyBhLmhlaWdodCwgYnIgPSBiLmxlZnQgKyBiLndpZHRoLCBiYiA9IGIudG9wICsgYi5oZWlnaHQ7XG4gIGIudG9wID4gYS50b3AgJiYgKHJlc3VsdC5wdXNoKG5ldyBnb29nLm1hdGguUmVjdChhLmxlZnQsIGEudG9wLCBhLndpZHRoLCBiLnRvcCAtIGEudG9wKSksIHRvcCA9IGIudG9wLCBoZWlnaHQgLT0gYi50b3AgLSBhLnRvcCk7XG4gIGJiIDwgYWIgJiYgKHJlc3VsdC5wdXNoKG5ldyBnb29nLm1hdGguUmVjdChhLmxlZnQsIGJiLCBhLndpZHRoLCBhYiAtIGJiKSksIGhlaWdodCA9IGJiIC0gdG9wKTtcbiAgYi5sZWZ0ID4gYS5sZWZ0ICYmIHJlc3VsdC5wdXNoKG5ldyBnb29nLm1hdGguUmVjdChhLmxlZnQsIHRvcCwgYi5sZWZ0IC0gYS5sZWZ0LCBoZWlnaHQpKTtcbiAgYnIgPCBhciAmJiByZXN1bHQucHVzaChuZXcgZ29vZy5tYXRoLlJlY3QoYnIsIHRvcCwgYXIgLSBiciwgaGVpZ2h0KSk7XG4gIHJldHVybiByZXN1bHQ7XG59O1xuZ29vZy5tYXRoLlJlY3QucHJvdG90eXBlLmRpZmZlcmVuY2UgPSBmdW5jdGlvbihyZWN0KSB7XG4gIHJldHVybiBnb29nLm1hdGguUmVjdC5kaWZmZXJlbmNlKHRoaXMsIHJlY3QpO1xufTtcbmdvb2cubWF0aC5SZWN0LnByb3RvdHlwZS5ib3VuZGluZ1JlY3QgPSBmdW5jdGlvbihyZWN0KSB7XG4gIHZhciByaWdodCA9IE1hdGgubWF4KHRoaXMubGVmdCArIHRoaXMud2lkdGgsIHJlY3QubGVmdCArIHJlY3Qud2lkdGgpLCBib3R0b20gPSBNYXRoLm1heCh0aGlzLnRvcCArIHRoaXMuaGVpZ2h0LCByZWN0LnRvcCArIHJlY3QuaGVpZ2h0KTtcbiAgdGhpcy5sZWZ0ID0gTWF0aC5taW4odGhpcy5sZWZ0LCByZWN0LmxlZnQpO1xuICB0aGlzLnRvcCA9IE1hdGgubWluKHRoaXMudG9wLCByZWN0LnRvcCk7XG4gIHRoaXMud2lkdGggPSByaWdodCAtIHRoaXMubGVmdDtcbiAgdGhpcy5oZWlnaHQgPSBib3R0b20gLSB0aGlzLnRvcDtcbn07XG5nb29nLm1hdGguUmVjdC5ib3VuZGluZ1JlY3QgPSBmdW5jdGlvbihhLCBiKSB7XG4gIGlmICghYSB8fCAhYikge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIHZhciBuZXdSZWN0ID0gbmV3IGdvb2cubWF0aC5SZWN0KGEubGVmdCwgYS50b3AsIGEud2lkdGgsIGEuaGVpZ2h0KTtcbiAgbmV3UmVjdC5ib3VuZGluZ1JlY3QoYik7XG4gIHJldHVybiBuZXdSZWN0O1xufTtcbmdvb2cubWF0aC5SZWN0LnByb3RvdHlwZS5jb250YWlucyA9IGZ1bmN0aW9uKGFub3RoZXIpIHtcbiAgcmV0dXJuIGFub3RoZXIgaW5zdGFuY2VvZiBnb29nLm1hdGguQ29vcmRpbmF0ZSA/IGFub3RoZXIueCA+PSB0aGlzLmxlZnQgJiYgYW5vdGhlci54IDw9IHRoaXMubGVmdCArIHRoaXMud2lkdGggJiYgYW5vdGhlci55ID49IHRoaXMudG9wICYmIGFub3RoZXIueSA8PSB0aGlzLnRvcCArIHRoaXMuaGVpZ2h0IDogdGhpcy5sZWZ0IDw9IGFub3RoZXIubGVmdCAmJiB0aGlzLmxlZnQgKyB0aGlzLndpZHRoID49IGFub3RoZXIubGVmdCArIGFub3RoZXIud2lkdGggJiYgdGhpcy50b3AgPD0gYW5vdGhlci50b3AgJiYgdGhpcy50b3AgKyB0aGlzLmhlaWdodCA+PSBhbm90aGVyLnRvcCArIGFub3RoZXIuaGVpZ2h0O1xufTtcbmdvb2cubWF0aC5SZWN0LnByb3RvdHlwZS5zcXVhcmVkRGlzdGFuY2UgPSBmdW5jdGlvbihwb2ludCkge1xuICB2YXIgZHggPSBwb2ludC54IDwgdGhpcy5sZWZ0ID8gdGhpcy5sZWZ0IC0gcG9pbnQueCA6IE1hdGgubWF4KHBvaW50LnggLSAodGhpcy5sZWZ0ICsgdGhpcy53aWR0aCksIDApLCBkeSA9IHBvaW50LnkgPCB0aGlzLnRvcCA/IHRoaXMudG9wIC0gcG9pbnQueSA6IE1hdGgubWF4KHBvaW50LnkgLSAodGhpcy50b3AgKyB0aGlzLmhlaWdodCksIDApO1xuICByZXR1cm4gZHggKiBkeCArIGR5ICogZHk7XG59O1xuZ29vZy5tYXRoLlJlY3QucHJvdG90eXBlLmRpc3RhbmNlID0gZnVuY3Rpb24ocG9pbnQpIHtcbiAgcmV0dXJuIE1hdGguc3FydCh0aGlzLnNxdWFyZWREaXN0YW5jZShwb2ludCkpO1xufTtcbmdvb2cubWF0aC5SZWN0LnByb3RvdHlwZS5nZXRTaXplID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBuZXcgZ29vZy5tYXRoLlNpemUodGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpO1xufTtcbmdvb2cubWF0aC5SZWN0LnByb3RvdHlwZS5nZXRUb3BMZWZ0ID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBuZXcgZ29vZy5tYXRoLkNvb3JkaW5hdGUodGhpcy5sZWZ0LCB0aGlzLnRvcCk7XG59O1xuZ29vZy5tYXRoLlJlY3QucHJvdG90eXBlLmdldENlbnRlciA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbmV3IGdvb2cubWF0aC5Db29yZGluYXRlKHRoaXMubGVmdCArIHRoaXMud2lkdGggLyAyLCB0aGlzLnRvcCArIHRoaXMuaGVpZ2h0IC8gMik7XG59O1xuZ29vZy5tYXRoLlJlY3QucHJvdG90eXBlLmdldEJvdHRvbVJpZ2h0ID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBuZXcgZ29vZy5tYXRoLkNvb3JkaW5hdGUodGhpcy5sZWZ0ICsgdGhpcy53aWR0aCwgdGhpcy50b3AgKyB0aGlzLmhlaWdodCk7XG59O1xuZ29vZy5tYXRoLlJlY3QucHJvdG90eXBlLmNlaWwgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5sZWZ0ID0gTWF0aC5jZWlsKHRoaXMubGVmdCk7XG4gIHRoaXMudG9wID0gTWF0aC5jZWlsKHRoaXMudG9wKTtcbiAgdGhpcy53aWR0aCA9IE1hdGguY2VpbCh0aGlzLndpZHRoKTtcbiAgdGhpcy5oZWlnaHQgPSBNYXRoLmNlaWwodGhpcy5oZWlnaHQpO1xuICByZXR1cm4gdGhpcztcbn07XG5nb29nLm1hdGguUmVjdC5wcm90b3R5cGUuZmxvb3IgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5sZWZ0ID0gTWF0aC5mbG9vcih0aGlzLmxlZnQpO1xuICB0aGlzLnRvcCA9IE1hdGguZmxvb3IodGhpcy50b3ApO1xuICB0aGlzLndpZHRoID0gTWF0aC5mbG9vcih0aGlzLndpZHRoKTtcbiAgdGhpcy5oZWlnaHQgPSBNYXRoLmZsb29yKHRoaXMuaGVpZ2h0KTtcbiAgcmV0dXJuIHRoaXM7XG59O1xuZ29vZy5tYXRoLlJlY3QucHJvdG90eXBlLnJvdW5kID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMubGVmdCA9IE1hdGgucm91bmQodGhpcy5sZWZ0KTtcbiAgdGhpcy50b3AgPSBNYXRoLnJvdW5kKHRoaXMudG9wKTtcbiAgdGhpcy53aWR0aCA9IE1hdGgucm91bmQodGhpcy53aWR0aCk7XG4gIHRoaXMuaGVpZ2h0ID0gTWF0aC5yb3VuZCh0aGlzLmhlaWdodCk7XG4gIHJldHVybiB0aGlzO1xufTtcbmdvb2cubWF0aC5SZWN0LnByb3RvdHlwZS50cmFuc2xhdGUgPSBmdW5jdGlvbih0eCwgb3B0X3R5KSB7XG4gIHR4IGluc3RhbmNlb2YgZ29vZy5tYXRoLkNvb3JkaW5hdGUgPyAodGhpcy5sZWZ0ICs9IHR4LngsIHRoaXMudG9wICs9IHR4LnkpIDogKHRoaXMubGVmdCArPSBnb29nLmFzc2VydHMuYXNzZXJ0TnVtYmVyKHR4KSwgXCJudW1iZXJcIiA9PT0gdHlwZW9mIG9wdF90eSAmJiAodGhpcy50b3AgKz0gb3B0X3R5KSk7XG4gIHJldHVybiB0aGlzO1xufTtcbmdvb2cubWF0aC5SZWN0LnByb3RvdHlwZS5zY2FsZSA9IGZ1bmN0aW9uKHN4LCBvcHRfc3kpIHtcbiAgdmFyIHN5ID0gXCJudW1iZXJcIiA9PT0gdHlwZW9mIG9wdF9zeSA/IG9wdF9zeSA6IHN4O1xuICB0aGlzLmxlZnQgKj0gc3g7XG4gIHRoaXMud2lkdGggKj0gc3g7XG4gIHRoaXMudG9wICo9IHN5O1xuICB0aGlzLmhlaWdodCAqPSBzeTtcbiAgcmV0dXJuIHRoaXM7XG59O1xuZ29vZy5zdHlsZSA9IHt9O1xuZ29vZy5zdHlsZS5zZXRTdHlsZSA9IGZ1bmN0aW9uKGVsZW1lbnQsIHN0eWxlLCBvcHRfdmFsdWUpIHtcbiAgaWYgKFwic3RyaW5nXCIgPT09IHR5cGVvZiBzdHlsZSkge1xuICAgIGdvb2cuc3R5bGUuc2V0U3R5bGVfKGVsZW1lbnQsIG9wdF92YWx1ZSwgc3R5bGUpO1xuICB9IGVsc2Uge1xuICAgIGZvciAodmFyIGtleSBpbiBzdHlsZSkge1xuICAgICAgZ29vZy5zdHlsZS5zZXRTdHlsZV8oZWxlbWVudCwgc3R5bGVba2V5XSwga2V5KTtcbiAgICB9XG4gIH1cbn07XG5nb29nLnN0eWxlLnNldFN0eWxlXyA9IGZ1bmN0aW9uKGVsZW1lbnQsIHZhbHVlLCBzdHlsZSkge1xuICB2YXIgcHJvcGVydHlOYW1lID0gZ29vZy5zdHlsZS5nZXRWZW5kb3JKc1N0eWxlTmFtZV8oZWxlbWVudCwgc3R5bGUpO1xuICBwcm9wZXJ0eU5hbWUgJiYgKGVsZW1lbnQuc3R5bGVbcHJvcGVydHlOYW1lXSA9IHZhbHVlKTtcbn07XG5nb29nLnN0eWxlLnN0eWxlTmFtZUNhY2hlXyA9IHt9O1xuZ29vZy5zdHlsZS5nZXRWZW5kb3JKc1N0eWxlTmFtZV8gPSBmdW5jdGlvbihlbGVtZW50LCBzdHlsZSkge1xuICB2YXIgcHJvcGVydHlOYW1lID0gZ29vZy5zdHlsZS5zdHlsZU5hbWVDYWNoZV9bc3R5bGVdO1xuICBpZiAoIXByb3BlcnR5TmFtZSkge1xuICAgIHZhciBjYW1lbFN0eWxlID0gZ29vZy5zdHJpbmcudG9DYW1lbENhc2Uoc3R5bGUpO1xuICAgIHByb3BlcnR5TmFtZSA9IGNhbWVsU3R5bGU7XG4gICAgaWYgKHZvaWQgMCA9PT0gZWxlbWVudC5zdHlsZVtjYW1lbFN0eWxlXSkge1xuICAgICAgdmFyIHByZWZpeGVkU3R5bGUgPSBnb29nLmRvbS52ZW5kb3IuZ2V0VmVuZG9ySnNQcmVmaXgoKSArIGdvb2cuc3RyaW5nLnRvVGl0bGVDYXNlKGNhbWVsU3R5bGUpO1xuICAgICAgdm9pZCAwICE9PSBlbGVtZW50LnN0eWxlW3ByZWZpeGVkU3R5bGVdICYmIChwcm9wZXJ0eU5hbWUgPSBwcmVmaXhlZFN0eWxlKTtcbiAgICB9XG4gICAgZ29vZy5zdHlsZS5zdHlsZU5hbWVDYWNoZV9bc3R5bGVdID0gcHJvcGVydHlOYW1lO1xuICB9XG4gIHJldHVybiBwcm9wZXJ0eU5hbWU7XG59O1xuZ29vZy5zdHlsZS5nZXRWZW5kb3JTdHlsZU5hbWVfID0gZnVuY3Rpb24oZWxlbWVudCwgc3R5bGUpIHtcbiAgdmFyIGNhbWVsU3R5bGUgPSBnb29nLnN0cmluZy50b0NhbWVsQ2FzZShzdHlsZSk7XG4gIGlmICh2b2lkIDAgPT09IGVsZW1lbnQuc3R5bGVbY2FtZWxTdHlsZV0pIHtcbiAgICB2YXIgcHJlZml4ZWRTdHlsZSA9IGdvb2cuZG9tLnZlbmRvci5nZXRWZW5kb3JKc1ByZWZpeCgpICsgZ29vZy5zdHJpbmcudG9UaXRsZUNhc2UoY2FtZWxTdHlsZSk7XG4gICAgaWYgKHZvaWQgMCAhPT0gZWxlbWVudC5zdHlsZVtwcmVmaXhlZFN0eWxlXSkge1xuICAgICAgcmV0dXJuIGdvb2cuZG9tLnZlbmRvci5nZXRWZW5kb3JQcmVmaXgoKSArIFwiLVwiICsgc3R5bGU7XG4gICAgfVxuICB9XG4gIHJldHVybiBzdHlsZTtcbn07XG5nb29nLnN0eWxlLmdldFN0eWxlID0gZnVuY3Rpb24oZWxlbWVudCwgcHJvcGVydHkpIHtcbiAgdmFyIHN0eWxlVmFsdWUgPSBlbGVtZW50LnN0eWxlW2dvb2cuc3RyaW5nLnRvQ2FtZWxDYXNlKHByb3BlcnR5KV07XG4gIHJldHVybiBcInVuZGVmaW5lZFwiICE9PSB0eXBlb2Ygc3R5bGVWYWx1ZSA/IHN0eWxlVmFsdWUgOiBlbGVtZW50LnN0eWxlW2dvb2cuc3R5bGUuZ2V0VmVuZG9ySnNTdHlsZU5hbWVfKGVsZW1lbnQsIHByb3BlcnR5KV0gfHwgXCJcIjtcbn07XG5nb29nLnN0eWxlLmdldENvbXB1dGVkU3R5bGUgPSBmdW5jdGlvbihlbGVtZW50LCBwcm9wZXJ0eSkge1xuICB2YXIgZG9jID0gZ29vZy5kb20uZ2V0T3duZXJEb2N1bWVudChlbGVtZW50KTtcbiAgaWYgKGRvYy5kZWZhdWx0VmlldyAmJiBkb2MuZGVmYXVsdFZpZXcuZ2V0Q29tcHV0ZWRTdHlsZSkge1xuICAgIHZhciBzdHlsZXMgPSBkb2MuZGVmYXVsdFZpZXcuZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50LCBudWxsKTtcbiAgICBpZiAoc3R5bGVzKSB7XG4gICAgICByZXR1cm4gc3R5bGVzW3Byb3BlcnR5XSB8fCBzdHlsZXMuZ2V0UHJvcGVydHlWYWx1ZShwcm9wZXJ0eSkgfHwgXCJcIjtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIFwiXCI7XG59O1xuZ29vZy5zdHlsZS5nZXRDYXNjYWRlZFN0eWxlID0gZnVuY3Rpb24oZWxlbWVudCwgc3R5bGUpIHtcbiAgcmV0dXJuIGVsZW1lbnQuY3VycmVudFN0eWxlID8gZWxlbWVudC5jdXJyZW50U3R5bGVbc3R5bGVdIDogbnVsbDtcbn07XG5nb29nLnN0eWxlLmdldFN0eWxlXyA9IGZ1bmN0aW9uKGVsZW1lbnQsIHN0eWxlKSB7XG4gIHJldHVybiBnb29nLnN0eWxlLmdldENvbXB1dGVkU3R5bGUoZWxlbWVudCwgc3R5bGUpIHx8IGdvb2cuc3R5bGUuZ2V0Q2FzY2FkZWRTdHlsZShlbGVtZW50LCBzdHlsZSkgfHwgZWxlbWVudC5zdHlsZSAmJiBlbGVtZW50LnN0eWxlW3N0eWxlXTtcbn07XG5nb29nLnN0eWxlLmdldENvbXB1dGVkQm94U2l6aW5nID0gZnVuY3Rpb24oZWxlbWVudCkge1xuICByZXR1cm4gZ29vZy5zdHlsZS5nZXRTdHlsZV8oZWxlbWVudCwgXCJib3hTaXppbmdcIikgfHwgZ29vZy5zdHlsZS5nZXRTdHlsZV8oZWxlbWVudCwgXCJNb3pCb3hTaXppbmdcIikgfHwgZ29vZy5zdHlsZS5nZXRTdHlsZV8oZWxlbWVudCwgXCJXZWJraXRCb3hTaXppbmdcIikgfHwgbnVsbDtcbn07XG5nb29nLnN0eWxlLmdldENvbXB1dGVkUG9zaXRpb24gPSBmdW5jdGlvbihlbGVtZW50KSB7XG4gIHJldHVybiBnb29nLnN0eWxlLmdldFN0eWxlXyhlbGVtZW50LCBcInBvc2l0aW9uXCIpO1xufTtcbmdvb2cuc3R5bGUuZ2V0QmFja2dyb3VuZENvbG9yID0gZnVuY3Rpb24oZWxlbWVudCkge1xuICByZXR1cm4gZ29vZy5zdHlsZS5nZXRTdHlsZV8oZWxlbWVudCwgXCJiYWNrZ3JvdW5kQ29sb3JcIik7XG59O1xuZ29vZy5zdHlsZS5nZXRDb21wdXRlZE92ZXJmbG93WCA9IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgcmV0dXJuIGdvb2cuc3R5bGUuZ2V0U3R5bGVfKGVsZW1lbnQsIFwib3ZlcmZsb3dYXCIpO1xufTtcbmdvb2cuc3R5bGUuZ2V0Q29tcHV0ZWRPdmVyZmxvd1kgPSBmdW5jdGlvbihlbGVtZW50KSB7XG4gIHJldHVybiBnb29nLnN0eWxlLmdldFN0eWxlXyhlbGVtZW50LCBcIm92ZXJmbG93WVwiKTtcbn07XG5nb29nLnN0eWxlLmdldENvbXB1dGVkWkluZGV4ID0gZnVuY3Rpb24oZWxlbWVudCkge1xuICByZXR1cm4gZ29vZy5zdHlsZS5nZXRTdHlsZV8oZWxlbWVudCwgXCJ6SW5kZXhcIik7XG59O1xuZ29vZy5zdHlsZS5nZXRDb21wdXRlZFRleHRBbGlnbiA9IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgcmV0dXJuIGdvb2cuc3R5bGUuZ2V0U3R5bGVfKGVsZW1lbnQsIFwidGV4dEFsaWduXCIpO1xufTtcbmdvb2cuc3R5bGUuZ2V0Q29tcHV0ZWRDdXJzb3IgPSBmdW5jdGlvbihlbGVtZW50KSB7XG4gIHJldHVybiBnb29nLnN0eWxlLmdldFN0eWxlXyhlbGVtZW50LCBcImN1cnNvclwiKTtcbn07XG5nb29nLnN0eWxlLmdldENvbXB1dGVkVHJhbnNmb3JtID0gZnVuY3Rpb24oZWxlbWVudCkge1xuICB2YXIgcHJvcGVydHkgPSBnb29nLnN0eWxlLmdldFZlbmRvclN0eWxlTmFtZV8oZWxlbWVudCwgXCJ0cmFuc2Zvcm1cIik7XG4gIHJldHVybiBnb29nLnN0eWxlLmdldFN0eWxlXyhlbGVtZW50LCBwcm9wZXJ0eSkgfHwgZ29vZy5zdHlsZS5nZXRTdHlsZV8oZWxlbWVudCwgXCJ0cmFuc2Zvcm1cIik7XG59O1xuZ29vZy5zdHlsZS5zZXRQb3NpdGlvbiA9IGZ1bmN0aW9uKGVsLCBhcmcxLCBvcHRfYXJnMikge1xuICBpZiAoYXJnMSBpbnN0YW5jZW9mIGdvb2cubWF0aC5Db29yZGluYXRlKSB7XG4gICAgdmFyIHggPSBhcmcxLng7XG4gICAgdmFyIHkgPSBhcmcxLnk7XG4gIH0gZWxzZSB7XG4gICAgeCA9IGFyZzEsIHkgPSBvcHRfYXJnMjtcbiAgfVxuICBlbC5zdHlsZS5sZWZ0ID0gZ29vZy5zdHlsZS5nZXRQaXhlbFN0eWxlVmFsdWVfKHgsICExKTtcbiAgZWwuc3R5bGUudG9wID0gZ29vZy5zdHlsZS5nZXRQaXhlbFN0eWxlVmFsdWVfKHksICExKTtcbn07XG5nb29nLnN0eWxlLmdldFBvc2l0aW9uID0gZnVuY3Rpb24oZWxlbWVudCkge1xuICByZXR1cm4gbmV3IGdvb2cubWF0aC5Db29yZGluYXRlKGVsZW1lbnQub2Zmc2V0TGVmdCwgZWxlbWVudC5vZmZzZXRUb3ApO1xufTtcbmdvb2cuc3R5bGUuZ2V0Q2xpZW50Vmlld3BvcnRFbGVtZW50ID0gZnVuY3Rpb24ob3B0X25vZGUpIHtcbiAgdmFyIGRvYyA9IG9wdF9ub2RlID8gZ29vZy5kb20uZ2V0T3duZXJEb2N1bWVudChvcHRfbm9kZSkgOiBnb29nLmRvbS5nZXREb2N1bWVudCgpO1xuICByZXR1cm4gIWdvb2cudXNlckFnZW50LklFIHx8IGdvb2cudXNlckFnZW50LmlzRG9jdW1lbnRNb2RlT3JIaWdoZXIoOSkgfHwgZ29vZy5kb20uZ2V0RG9tSGVscGVyKGRvYykuaXNDc3MxQ29tcGF0TW9kZSgpID8gZG9jLmRvY3VtZW50RWxlbWVudCA6IGRvYy5ib2R5O1xufTtcbmdvb2cuc3R5bGUuZ2V0Vmlld3BvcnRQYWdlT2Zmc2V0ID0gZnVuY3Rpb24oZG9jKSB7XG4gIHZhciBib2R5ID0gZG9jLmJvZHksIGRvY3VtZW50RWxlbWVudCA9IGRvYy5kb2N1bWVudEVsZW1lbnQ7XG4gIHJldHVybiBuZXcgZ29vZy5tYXRoLkNvb3JkaW5hdGUoYm9keS5zY3JvbGxMZWZ0IHx8IGRvY3VtZW50RWxlbWVudC5zY3JvbGxMZWZ0LCBib2R5LnNjcm9sbFRvcCB8fCBkb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wKTtcbn07XG5nb29nLnN0eWxlLmdldEJvdW5kaW5nQ2xpZW50UmVjdF8gPSBmdW5jdGlvbihlbCkge1xuICB0cnkge1xuICAgIHJldHVybiBlbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHJldHVybiB7bGVmdDowLCB0b3A6MCwgcmlnaHQ6MCwgYm90dG9tOjB9O1xuICB9XG59O1xuZ29vZy5zdHlsZS5nZXRPZmZzZXRQYXJlbnQgPSBmdW5jdGlvbihlbGVtZW50KSB7XG4gIGlmIChnb29nLnVzZXJBZ2VudC5JRSAmJiAhZ29vZy51c2VyQWdlbnQuaXNEb2N1bWVudE1vZGVPckhpZ2hlcig4KSkge1xuICAgIHJldHVybiBnb29nLmFzc2VydHMuYXNzZXJ0KGVsZW1lbnQgJiYgXCJvZmZzZXRQYXJlbnRcIiBpbiBlbGVtZW50KSwgZWxlbWVudC5vZmZzZXRQYXJlbnQ7XG4gIH1cbiAgZm9yICh2YXIgZG9jID0gZ29vZy5kb20uZ2V0T3duZXJEb2N1bWVudChlbGVtZW50KSwgcG9zaXRpb25TdHlsZSA9IGdvb2cuc3R5bGUuZ2V0U3R5bGVfKGVsZW1lbnQsIFwicG9zaXRpb25cIiksIHNraXBTdGF0aWMgPSBcImZpeGVkXCIgPT0gcG9zaXRpb25TdHlsZSB8fCBcImFic29sdXRlXCIgPT0gcG9zaXRpb25TdHlsZSwgcGFyZW50ID0gZWxlbWVudC5wYXJlbnROb2RlOyBwYXJlbnQgJiYgcGFyZW50ICE9IGRvYzsgcGFyZW50ID0gcGFyZW50LnBhcmVudE5vZGUpIHtcbiAgICBpZiAocGFyZW50Lm5vZGVUeXBlID09IGdvb2cuZG9tLk5vZGVUeXBlLkRPQ1VNRU5UX0ZSQUdNRU5UICYmIHBhcmVudC5ob3N0ICYmIChwYXJlbnQgPSBwYXJlbnQuaG9zdCksIHBvc2l0aW9uU3R5bGUgPSBnb29nLnN0eWxlLmdldFN0eWxlXyhwYXJlbnQsIFwicG9zaXRpb25cIiksIHNraXBTdGF0aWMgPSBza2lwU3RhdGljICYmIFwic3RhdGljXCIgPT0gcG9zaXRpb25TdHlsZSAmJiBwYXJlbnQgIT0gZG9jLmRvY3VtZW50RWxlbWVudCAmJiBwYXJlbnQgIT0gZG9jLmJvZHksICFza2lwU3RhdGljICYmIChwYXJlbnQuc2Nyb2xsV2lkdGggPiBwYXJlbnQuY2xpZW50V2lkdGggfHwgcGFyZW50LnNjcm9sbEhlaWdodCA+IHBhcmVudC5jbGllbnRIZWlnaHQgfHwgXCJmaXhlZFwiID09IHBvc2l0aW9uU3R5bGUgfHwgXCJhYnNvbHV0ZVwiID09IHBvc2l0aW9uU3R5bGUgfHwgXCJyZWxhdGl2ZVwiID09IHBvc2l0aW9uU3R5bGUpKSB7XG4gICAgICByZXR1cm4gcGFyZW50O1xuICAgIH1cbiAgfVxuICByZXR1cm4gbnVsbDtcbn07XG5nb29nLnN0eWxlLmdldFZpc2libGVSZWN0Rm9yRWxlbWVudCA9IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgZm9yICh2YXIgdmlzaWJsZVJlY3QgPSBuZXcgZ29vZy5tYXRoLkJveCgwLCBJbmZpbml0eSwgSW5maW5pdHksIDApLCBkb20gPSBnb29nLmRvbS5nZXREb21IZWxwZXIoZWxlbWVudCksIGJvZHkgPSBkb20uZ2V0RG9jdW1lbnQoKS5ib2R5LCBkb2N1bWVudEVsZW1lbnQgPSBkb20uZ2V0RG9jdW1lbnQoKS5kb2N1bWVudEVsZW1lbnQsIHNjcm9sbEVsID0gZG9tLmdldERvY3VtZW50U2Nyb2xsRWxlbWVudCgpLCBlbCA9IGVsZW1lbnQ7IGVsID0gZ29vZy5zdHlsZS5nZXRPZmZzZXRQYXJlbnQoZWwpOykge1xuICAgIGlmICghKGdvb2cudXNlckFnZW50LklFICYmIDAgPT0gZWwuY2xpZW50V2lkdGggfHwgZ29vZy51c2VyQWdlbnQuV0VCS0lUICYmIDAgPT0gZWwuY2xpZW50SGVpZ2h0ICYmIGVsID09IGJvZHkpICYmIGVsICE9IGJvZHkgJiYgZWwgIT0gZG9jdW1lbnRFbGVtZW50ICYmIFwidmlzaWJsZVwiICE9IGdvb2cuc3R5bGUuZ2V0U3R5bGVfKGVsLCBcIm92ZXJmbG93XCIpKSB7XG4gICAgICB2YXIgcG9zID0gZ29vZy5zdHlsZS5nZXRQYWdlT2Zmc2V0KGVsKSwgY2xpZW50ID0gZ29vZy5zdHlsZS5nZXRDbGllbnRMZWZ0VG9wKGVsKTtcbiAgICAgIHBvcy54ICs9IGNsaWVudC54O1xuICAgICAgcG9zLnkgKz0gY2xpZW50Lnk7XG4gICAgICB2aXNpYmxlUmVjdC50b3AgPSBNYXRoLm1heCh2aXNpYmxlUmVjdC50b3AsIHBvcy55KTtcbiAgICAgIHZpc2libGVSZWN0LnJpZ2h0ID0gTWF0aC5taW4odmlzaWJsZVJlY3QucmlnaHQsIHBvcy54ICsgZWwuY2xpZW50V2lkdGgpO1xuICAgICAgdmlzaWJsZVJlY3QuYm90dG9tID0gTWF0aC5taW4odmlzaWJsZVJlY3QuYm90dG9tLCBwb3MueSArIGVsLmNsaWVudEhlaWdodCk7XG4gICAgICB2aXNpYmxlUmVjdC5sZWZ0ID0gTWF0aC5tYXgodmlzaWJsZVJlY3QubGVmdCwgcG9zLngpO1xuICAgIH1cbiAgfVxuICB2YXIgc2Nyb2xsWCA9IHNjcm9sbEVsLnNjcm9sbExlZnQsIHNjcm9sbFkgPSBzY3JvbGxFbC5zY3JvbGxUb3A7XG4gIHZpc2libGVSZWN0LmxlZnQgPSBNYXRoLm1heCh2aXNpYmxlUmVjdC5sZWZ0LCBzY3JvbGxYKTtcbiAgdmlzaWJsZVJlY3QudG9wID0gTWF0aC5tYXgodmlzaWJsZVJlY3QudG9wLCBzY3JvbGxZKTtcbiAgdmFyIHdpblNpemUgPSBkb20uZ2V0Vmlld3BvcnRTaXplKCk7XG4gIHZpc2libGVSZWN0LnJpZ2h0ID0gTWF0aC5taW4odmlzaWJsZVJlY3QucmlnaHQsIHNjcm9sbFggKyB3aW5TaXplLndpZHRoKTtcbiAgdmlzaWJsZVJlY3QuYm90dG9tID0gTWF0aC5taW4odmlzaWJsZVJlY3QuYm90dG9tLCBzY3JvbGxZICsgd2luU2l6ZS5oZWlnaHQpO1xuICByZXR1cm4gMCA8PSB2aXNpYmxlUmVjdC50b3AgJiYgMCA8PSB2aXNpYmxlUmVjdC5sZWZ0ICYmIHZpc2libGVSZWN0LmJvdHRvbSA+IHZpc2libGVSZWN0LnRvcCAmJiB2aXNpYmxlUmVjdC5yaWdodCA+IHZpc2libGVSZWN0LmxlZnQgPyB2aXNpYmxlUmVjdCA6IG51bGw7XG59O1xuZ29vZy5zdHlsZS5nZXRDb250YWluZXJPZmZzZXRUb1Njcm9sbEludG8gPSBmdW5jdGlvbihlbGVtZW50LCBvcHRfY29udGFpbmVyLCBvcHRfY2VudGVyKSB7XG4gIHZhciBjb250YWluZXIgPSBvcHRfY29udGFpbmVyIHx8IGdvb2cuZG9tLmdldERvY3VtZW50U2Nyb2xsRWxlbWVudCgpLCBlbGVtZW50UG9zID0gZ29vZy5zdHlsZS5nZXRQYWdlT2Zmc2V0KGVsZW1lbnQpLCBjb250YWluZXJQb3MgPSBnb29nLnN0eWxlLmdldFBhZ2VPZmZzZXQoY29udGFpbmVyKSwgY29udGFpbmVyQm9yZGVyID0gZ29vZy5zdHlsZS5nZXRCb3JkZXJCb3goY29udGFpbmVyKTtcbiAgaWYgKGNvbnRhaW5lciA9PSBnb29nLmRvbS5nZXREb2N1bWVudFNjcm9sbEVsZW1lbnQoKSkge1xuICAgIHZhciByZWxYID0gZWxlbWVudFBvcy54IC0gY29udGFpbmVyLnNjcm9sbExlZnQsIHJlbFkgPSBlbGVtZW50UG9zLnkgLSBjb250YWluZXIuc2Nyb2xsVG9wO1xuICAgIGdvb2cudXNlckFnZW50LklFICYmICFnb29nLnVzZXJBZ2VudC5pc0RvY3VtZW50TW9kZU9ySGlnaGVyKDEwKSAmJiAocmVsWCArPSBjb250YWluZXJCb3JkZXIubGVmdCwgcmVsWSArPSBjb250YWluZXJCb3JkZXIudG9wKTtcbiAgfSBlbHNlIHtcbiAgICByZWxYID0gZWxlbWVudFBvcy54IC0gY29udGFpbmVyUG9zLnggLSBjb250YWluZXJCb3JkZXIubGVmdCwgcmVsWSA9IGVsZW1lbnRQb3MueSAtIGNvbnRhaW5lclBvcy55IC0gY29udGFpbmVyQm9yZGVyLnRvcDtcbiAgfVxuICB2YXIgZWxlbWVudFNpemUgPSBnb29nLnN0eWxlLmdldFNpemVXaXRoRGlzcGxheV8oZWxlbWVudCksIHNwYWNlWCA9IGNvbnRhaW5lci5jbGllbnRXaWR0aCAtIGVsZW1lbnRTaXplLndpZHRoLCBzcGFjZVkgPSBjb250YWluZXIuY2xpZW50SGVpZ2h0IC0gZWxlbWVudFNpemUuaGVpZ2h0LCBzY3JvbGxMZWZ0ID0gY29udGFpbmVyLnNjcm9sbExlZnQsIHNjcm9sbFRvcCA9IGNvbnRhaW5lci5zY3JvbGxUb3A7XG4gIG9wdF9jZW50ZXIgPyAoc2Nyb2xsTGVmdCArPSByZWxYIC0gc3BhY2VYIC8gMiwgc2Nyb2xsVG9wICs9IHJlbFkgLSBzcGFjZVkgLyAyKSA6IChzY3JvbGxMZWZ0ICs9IE1hdGgubWluKHJlbFgsIE1hdGgubWF4KHJlbFggLSBzcGFjZVgsIDApKSwgc2Nyb2xsVG9wICs9IE1hdGgubWluKHJlbFksIE1hdGgubWF4KHJlbFkgLSBzcGFjZVksIDApKSk7XG4gIHJldHVybiBuZXcgZ29vZy5tYXRoLkNvb3JkaW5hdGUoc2Nyb2xsTGVmdCwgc2Nyb2xsVG9wKTtcbn07XG5nb29nLnN0eWxlLnNjcm9sbEludG9Db250YWluZXJWaWV3ID0gZnVuY3Rpb24oZWxlbWVudCwgb3B0X2NvbnRhaW5lciwgb3B0X2NlbnRlcikge1xuICB2YXIgY29udGFpbmVyID0gb3B0X2NvbnRhaW5lciB8fCBnb29nLmRvbS5nZXREb2N1bWVudFNjcm9sbEVsZW1lbnQoKSwgb2Zmc2V0ID0gZ29vZy5zdHlsZS5nZXRDb250YWluZXJPZmZzZXRUb1Njcm9sbEludG8oZWxlbWVudCwgY29udGFpbmVyLCBvcHRfY2VudGVyKTtcbiAgY29udGFpbmVyLnNjcm9sbExlZnQgPSBvZmZzZXQueDtcbiAgY29udGFpbmVyLnNjcm9sbFRvcCA9IG9mZnNldC55O1xufTtcbmdvb2cuc3R5bGUuZ2V0Q2xpZW50TGVmdFRvcCA9IGZ1bmN0aW9uKGVsKSB7XG4gIHJldHVybiBuZXcgZ29vZy5tYXRoLkNvb3JkaW5hdGUoZWwuY2xpZW50TGVmdCwgZWwuY2xpZW50VG9wKTtcbn07XG5nb29nLnN0eWxlLmdldFBhZ2VPZmZzZXQgPSBmdW5jdGlvbihlbCkge1xuICB2YXIgZG9jID0gZ29vZy5kb20uZ2V0T3duZXJEb2N1bWVudChlbCk7XG4gIGdvb2cuYXNzZXJ0cy5hc3NlcnRPYmplY3QoZWwsIFwiUGFyYW1ldGVyIGlzIHJlcXVpcmVkXCIpO1xuICB2YXIgcG9zID0gbmV3IGdvb2cubWF0aC5Db29yZGluYXRlKDAsIDApLCB2aWV3cG9ydEVsZW1lbnQgPSBnb29nLnN0eWxlLmdldENsaWVudFZpZXdwb3J0RWxlbWVudChkb2MpO1xuICBpZiAoZWwgPT0gdmlld3BvcnRFbGVtZW50KSB7XG4gICAgcmV0dXJuIHBvcztcbiAgfVxuICB2YXIgYm94ID0gZ29vZy5zdHlsZS5nZXRCb3VuZGluZ0NsaWVudFJlY3RfKGVsKSwgc2Nyb2xsQ29vcmQgPSBnb29nLmRvbS5nZXREb21IZWxwZXIoZG9jKS5nZXREb2N1bWVudFNjcm9sbCgpO1xuICBwb3MueCA9IGJveC5sZWZ0ICsgc2Nyb2xsQ29vcmQueDtcbiAgcG9zLnkgPSBib3gudG9wICsgc2Nyb2xsQ29vcmQueTtcbiAgcmV0dXJuIHBvcztcbn07XG5nb29nLnN0eWxlLmdldFBhZ2VPZmZzZXRMZWZ0ID0gZnVuY3Rpb24oZWwpIHtcbiAgcmV0dXJuIGdvb2cuc3R5bGUuZ2V0UGFnZU9mZnNldChlbCkueDtcbn07XG5nb29nLnN0eWxlLmdldFBhZ2VPZmZzZXRUb3AgPSBmdW5jdGlvbihlbCkge1xuICByZXR1cm4gZ29vZy5zdHlsZS5nZXRQYWdlT2Zmc2V0KGVsKS55O1xufTtcbmdvb2cuc3R5bGUuZ2V0RnJhbWVkUGFnZU9mZnNldCA9IGZ1bmN0aW9uKGVsLCByZWxhdGl2ZVdpbikge1xuICB2YXIgcG9zaXRpb24gPSBuZXcgZ29vZy5tYXRoLkNvb3JkaW5hdGUoMCwgMCksIGN1cnJlbnRXaW4gPSBnb29nLmRvbS5nZXRXaW5kb3coZ29vZy5kb20uZ2V0T3duZXJEb2N1bWVudChlbCkpO1xuICBpZiAoIWdvb2cucmVmbGVjdC5jYW5BY2Nlc3NQcm9wZXJ0eShjdXJyZW50V2luLCBcInBhcmVudFwiKSkge1xuICAgIHJldHVybiBwb3NpdGlvbjtcbiAgfVxuICB2YXIgY3VycmVudEVsID0gZWw7XG4gIGRvIHtcbiAgICB2YXIgb2Zmc2V0ID0gY3VycmVudFdpbiA9PSByZWxhdGl2ZVdpbiA/IGdvb2cuc3R5bGUuZ2V0UGFnZU9mZnNldChjdXJyZW50RWwpIDogZ29vZy5zdHlsZS5nZXRDbGllbnRQb3NpdGlvbkZvckVsZW1lbnRfKGdvb2cuYXNzZXJ0cy5hc3NlcnQoY3VycmVudEVsKSk7XG4gICAgcG9zaXRpb24ueCArPSBvZmZzZXQueDtcbiAgICBwb3NpdGlvbi55ICs9IG9mZnNldC55O1xuICB9IHdoaWxlIChjdXJyZW50V2luICYmIGN1cnJlbnRXaW4gIT0gcmVsYXRpdmVXaW4gJiYgY3VycmVudFdpbiAhPSBjdXJyZW50V2luLnBhcmVudCAmJiAoY3VycmVudEVsID0gY3VycmVudFdpbi5mcmFtZUVsZW1lbnQpICYmIChjdXJyZW50V2luID0gY3VycmVudFdpbi5wYXJlbnQpKTtcbiAgcmV0dXJuIHBvc2l0aW9uO1xufTtcbmdvb2cuc3R5bGUudHJhbnNsYXRlUmVjdEZvckFub3RoZXJGcmFtZSA9IGZ1bmN0aW9uKHJlY3QsIG9yaWdCYXNlLCBuZXdCYXNlKSB7XG4gIGlmIChvcmlnQmFzZS5nZXREb2N1bWVudCgpICE9IG5ld0Jhc2UuZ2V0RG9jdW1lbnQoKSkge1xuICAgIHZhciBib2R5ID0gb3JpZ0Jhc2UuZ2V0RG9jdW1lbnQoKS5ib2R5LCBwb3MgPSBnb29nLnN0eWxlLmdldEZyYW1lZFBhZ2VPZmZzZXQoYm9keSwgbmV3QmFzZS5nZXRXaW5kb3coKSk7XG4gICAgcG9zID0gZ29vZy5tYXRoLkNvb3JkaW5hdGUuZGlmZmVyZW5jZShwb3MsIGdvb2cuc3R5bGUuZ2V0UGFnZU9mZnNldChib2R5KSk7XG4gICAgIWdvb2cudXNlckFnZW50LklFIHx8IGdvb2cudXNlckFnZW50LmlzRG9jdW1lbnRNb2RlT3JIaWdoZXIoOSkgfHwgb3JpZ0Jhc2UuaXNDc3MxQ29tcGF0TW9kZSgpIHx8IChwb3MgPSBnb29nLm1hdGguQ29vcmRpbmF0ZS5kaWZmZXJlbmNlKHBvcywgb3JpZ0Jhc2UuZ2V0RG9jdW1lbnRTY3JvbGwoKSkpO1xuICAgIHJlY3QubGVmdCArPSBwb3MueDtcbiAgICByZWN0LnRvcCArPSBwb3MueTtcbiAgfVxufTtcbmdvb2cuc3R5bGUuZ2V0UmVsYXRpdmVQb3NpdGlvbiA9IGZ1bmN0aW9uKGEsIGIpIHtcbiAgdmFyIGFwID0gZ29vZy5zdHlsZS5nZXRDbGllbnRQb3NpdGlvbihhKSwgYnAgPSBnb29nLnN0eWxlLmdldENsaWVudFBvc2l0aW9uKGIpO1xuICByZXR1cm4gbmV3IGdvb2cubWF0aC5Db29yZGluYXRlKGFwLnggLSBicC54LCBhcC55IC0gYnAueSk7XG59O1xuZ29vZy5zdHlsZS5nZXRDbGllbnRQb3NpdGlvbkZvckVsZW1lbnRfID0gZnVuY3Rpb24oZWwpIHtcbiAgdmFyIGJveCA9IGdvb2cuc3R5bGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0XyhlbCk7XG4gIHJldHVybiBuZXcgZ29vZy5tYXRoLkNvb3JkaW5hdGUoYm94LmxlZnQsIGJveC50b3ApO1xufTtcbmdvb2cuc3R5bGUuZ2V0Q2xpZW50UG9zaXRpb24gPSBmdW5jdGlvbihlbCkge1xuICBnb29nLmFzc2VydHMuYXNzZXJ0KGVsKTtcbiAgaWYgKGVsLm5vZGVUeXBlID09IGdvb2cuZG9tLk5vZGVUeXBlLkVMRU1FTlQpIHtcbiAgICByZXR1cm4gZ29vZy5zdHlsZS5nZXRDbGllbnRQb3NpdGlvbkZvckVsZW1lbnRfKGVsKTtcbiAgfVxuICB2YXIgdGFyZ2V0RXZlbnQgPSBlbC5jaGFuZ2VkVG91Y2hlcyA/IGVsLmNoYW5nZWRUb3VjaGVzWzBdIDogZWw7XG4gIHJldHVybiBuZXcgZ29vZy5tYXRoLkNvb3JkaW5hdGUodGFyZ2V0RXZlbnQuY2xpZW50WCwgdGFyZ2V0RXZlbnQuY2xpZW50WSk7XG59O1xuZ29vZy5zdHlsZS5zZXRQYWdlT2Zmc2V0ID0gZnVuY3Rpb24oZWwsIHgsIG9wdF95KSB7XG4gIHZhciBjdXIgPSBnb29nLnN0eWxlLmdldFBhZ2VPZmZzZXQoZWwpO1xuICB4IGluc3RhbmNlb2YgZ29vZy5tYXRoLkNvb3JkaW5hdGUgJiYgKG9wdF95ID0geC55LCB4ID0geC54KTtcbiAgdmFyIGR4ID0gZ29vZy5hc3NlcnRzLmFzc2VydE51bWJlcih4KSAtIGN1ci54O1xuICBnb29nLnN0eWxlLnNldFBvc2l0aW9uKGVsLCBlbC5vZmZzZXRMZWZ0ICsgZHgsIGVsLm9mZnNldFRvcCArIChOdW1iZXIob3B0X3kpIC0gY3VyLnkpKTtcbn07XG5nb29nLnN0eWxlLnNldFNpemUgPSBmdW5jdGlvbihlbGVtZW50LCB3LCBvcHRfaCkge1xuICBpZiAodyBpbnN0YW5jZW9mIGdvb2cubWF0aC5TaXplKSB7XG4gICAgdmFyIGggPSB3LmhlaWdodDtcbiAgICB3ID0gdy53aWR0aDtcbiAgfSBlbHNlIHtcbiAgICBpZiAodm9pZCAwID09IG9wdF9oKSB7XG4gICAgICB0aHJvdyBFcnJvcihcIm1pc3NpbmcgaGVpZ2h0IGFyZ3VtZW50XCIpO1xuICAgIH1cbiAgICBoID0gb3B0X2g7XG4gIH1cbiAgZ29vZy5zdHlsZS5zZXRXaWR0aChlbGVtZW50LCB3KTtcbiAgZ29vZy5zdHlsZS5zZXRIZWlnaHQoZWxlbWVudCwgaCk7XG59O1xuZ29vZy5zdHlsZS5nZXRQaXhlbFN0eWxlVmFsdWVfID0gZnVuY3Rpb24odmFsdWUsIHJvdW5kKSB7XG4gIFwibnVtYmVyXCIgPT0gdHlwZW9mIHZhbHVlICYmICh2YWx1ZSA9IChyb3VuZCA/IE1hdGgucm91bmQodmFsdWUpIDogdmFsdWUpICsgXCJweFwiKTtcbiAgcmV0dXJuIHZhbHVlO1xufTtcbmdvb2cuc3R5bGUuc2V0SGVpZ2h0ID0gZnVuY3Rpb24oZWxlbWVudCwgaGVpZ2h0KSB7XG4gIGVsZW1lbnQuc3R5bGUuaGVpZ2h0ID0gZ29vZy5zdHlsZS5nZXRQaXhlbFN0eWxlVmFsdWVfKGhlaWdodCwgITApO1xufTtcbmdvb2cuc3R5bGUuc2V0V2lkdGggPSBmdW5jdGlvbihlbGVtZW50LCB3aWR0aCkge1xuICBlbGVtZW50LnN0eWxlLndpZHRoID0gZ29vZy5zdHlsZS5nZXRQaXhlbFN0eWxlVmFsdWVfKHdpZHRoLCAhMCk7XG59O1xuZ29vZy5zdHlsZS5nZXRTaXplID0gZnVuY3Rpb24oZWxlbWVudCkge1xuICByZXR1cm4gZ29vZy5zdHlsZS5ldmFsdWF0ZVdpdGhUZW1wb3JhcnlEaXNwbGF5Xyhnb29nLnN0eWxlLmdldFNpemVXaXRoRGlzcGxheV8sIGVsZW1lbnQpO1xufTtcbmdvb2cuc3R5bGUuZXZhbHVhdGVXaXRoVGVtcG9yYXJ5RGlzcGxheV8gPSBmdW5jdGlvbihmbiwgZWxlbWVudCkge1xuICBpZiAoXCJub25lXCIgIT0gZ29vZy5zdHlsZS5nZXRTdHlsZV8oZWxlbWVudCwgXCJkaXNwbGF5XCIpKSB7XG4gICAgcmV0dXJuIGZuKGVsZW1lbnQpO1xuICB9XG4gIHZhciBzdHlsZSA9IGVsZW1lbnQuc3R5bGUsIG9yaWdpbmFsRGlzcGxheSA9IHN0eWxlLmRpc3BsYXksIG9yaWdpbmFsVmlzaWJpbGl0eSA9IHN0eWxlLnZpc2liaWxpdHksIG9yaWdpbmFsUG9zaXRpb24gPSBzdHlsZS5wb3NpdGlvbjtcbiAgc3R5bGUudmlzaWJpbGl0eSA9IFwiaGlkZGVuXCI7XG4gIHN0eWxlLnBvc2l0aW9uID0gXCJhYnNvbHV0ZVwiO1xuICBzdHlsZS5kaXNwbGF5ID0gXCJpbmxpbmVcIjtcbiAgdmFyIHJldFZhbCA9IGZuKGVsZW1lbnQpO1xuICBzdHlsZS5kaXNwbGF5ID0gb3JpZ2luYWxEaXNwbGF5O1xuICBzdHlsZS5wb3NpdGlvbiA9IG9yaWdpbmFsUG9zaXRpb247XG4gIHN0eWxlLnZpc2liaWxpdHkgPSBvcmlnaW5hbFZpc2liaWxpdHk7XG4gIHJldHVybiByZXRWYWw7XG59O1xuZ29vZy5zdHlsZS5nZXRTaXplV2l0aERpc3BsYXlfID0gZnVuY3Rpb24oZWxlbWVudCkge1xuICB2YXIgb2Zmc2V0V2lkdGggPSBlbGVtZW50Lm9mZnNldFdpZHRoLCBvZmZzZXRIZWlnaHQgPSBlbGVtZW50Lm9mZnNldEhlaWdodCwgd2Via2l0T2Zmc2V0c1plcm8gPSBnb29nLnVzZXJBZ2VudC5XRUJLSVQgJiYgIW9mZnNldFdpZHRoICYmICFvZmZzZXRIZWlnaHQ7XG4gIGlmICgodm9pZCAwID09PSBvZmZzZXRXaWR0aCB8fCB3ZWJraXRPZmZzZXRzWmVybykgJiYgZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QpIHtcbiAgICB2YXIgY2xpZW50UmVjdCA9IGdvb2cuc3R5bGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0XyhlbGVtZW50KTtcbiAgICByZXR1cm4gbmV3IGdvb2cubWF0aC5TaXplKGNsaWVudFJlY3QucmlnaHQgLSBjbGllbnRSZWN0LmxlZnQsIGNsaWVudFJlY3QuYm90dG9tIC0gY2xpZW50UmVjdC50b3ApO1xuICB9XG4gIHJldHVybiBuZXcgZ29vZy5tYXRoLlNpemUob2Zmc2V0V2lkdGgsIG9mZnNldEhlaWdodCk7XG59O1xuZ29vZy5zdHlsZS5nZXRUcmFuc2Zvcm1lZFNpemUgPSBmdW5jdGlvbihlbGVtZW50KSB7XG4gIGlmICghZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICB2YXIgY2xpZW50UmVjdCA9IGdvb2cuc3R5bGUuZXZhbHVhdGVXaXRoVGVtcG9yYXJ5RGlzcGxheV8oZ29vZy5zdHlsZS5nZXRCb3VuZGluZ0NsaWVudFJlY3RfLCBlbGVtZW50KTtcbiAgcmV0dXJuIG5ldyBnb29nLm1hdGguU2l6ZShjbGllbnRSZWN0LnJpZ2h0IC0gY2xpZW50UmVjdC5sZWZ0LCBjbGllbnRSZWN0LmJvdHRvbSAtIGNsaWVudFJlY3QudG9wKTtcbn07XG5nb29nLnN0eWxlLmdldEJvdW5kcyA9IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgdmFyIG8gPSBnb29nLnN0eWxlLmdldFBhZ2VPZmZzZXQoZWxlbWVudCksIHMgPSBnb29nLnN0eWxlLmdldFNpemUoZWxlbWVudCk7XG4gIHJldHVybiBuZXcgZ29vZy5tYXRoLlJlY3Qoby54LCBvLnksIHMud2lkdGgsIHMuaGVpZ2h0KTtcbn07XG5nb29nLnN0eWxlLnRvQ2FtZWxDYXNlID0gZnVuY3Rpb24oc2VsZWN0b3IpIHtcbiAgcmV0dXJuIGdvb2cuc3RyaW5nLnRvQ2FtZWxDYXNlKFN0cmluZyhzZWxlY3RvcikpO1xufTtcbmdvb2cuc3R5bGUudG9TZWxlY3RvckNhc2UgPSBmdW5jdGlvbihzZWxlY3Rvcikge1xuICByZXR1cm4gZ29vZy5zdHJpbmcudG9TZWxlY3RvckNhc2Uoc2VsZWN0b3IpO1xufTtcbmdvb2cuc3R5bGUuZ2V0T3BhY2l0eSA9IGZ1bmN0aW9uKGVsKSB7XG4gIGdvb2cuYXNzZXJ0cy5hc3NlcnQoZWwpO1xuICB2YXIgc3R5bGUgPSBlbC5zdHlsZSwgcmVzdWx0ID0gXCJcIjtcbiAgaWYgKFwib3BhY2l0eVwiIGluIHN0eWxlKSB7XG4gICAgcmVzdWx0ID0gc3R5bGUub3BhY2l0eTtcbiAgfSBlbHNlIGlmIChcIk1vek9wYWNpdHlcIiBpbiBzdHlsZSkge1xuICAgIHJlc3VsdCA9IHN0eWxlLk1vek9wYWNpdHk7XG4gIH0gZWxzZSBpZiAoXCJmaWx0ZXJcIiBpbiBzdHlsZSkge1xuICAgIHZhciBtYXRjaCA9IHN0eWxlLmZpbHRlci5tYXRjaCgvYWxwaGFcXChvcGFjaXR5PShbXFxkLl0rKVxcKS8pO1xuICAgIG1hdGNoICYmIChyZXN1bHQgPSBTdHJpbmcobWF0Y2hbMV0gLyAxMDApKTtcbiAgfVxuICByZXR1cm4gXCJcIiA9PSByZXN1bHQgPyByZXN1bHQgOiBOdW1iZXIocmVzdWx0KTtcbn07XG5nb29nLnN0eWxlLnNldE9wYWNpdHkgPSBmdW5jdGlvbihlbCwgYWxwaGEpIHtcbiAgZ29vZy5hc3NlcnRzLmFzc2VydChlbCk7XG4gIHZhciBzdHlsZSA9IGVsLnN0eWxlO1xuICBcIm9wYWNpdHlcIiBpbiBzdHlsZSA/IHN0eWxlLm9wYWNpdHkgPSBhbHBoYSA6IFwiTW96T3BhY2l0eVwiIGluIHN0eWxlID8gc3R5bGUuTW96T3BhY2l0eSA9IGFscGhhIDogXCJmaWx0ZXJcIiBpbiBzdHlsZSAmJiAoc3R5bGUuZmlsdGVyID0gXCJcIiA9PT0gYWxwaGEgPyBcIlwiIDogXCJhbHBoYShvcGFjaXR5PVwiICsgMTAwICogTnVtYmVyKGFscGhhKSArIFwiKVwiKTtcbn07XG5nb29nLnN0eWxlLnNldFRyYW5zcGFyZW50QmFja2dyb3VuZEltYWdlID0gZnVuY3Rpb24oZWwsIHNyYykge1xuICB2YXIgc3R5bGUgPSBlbC5zdHlsZTtcbiAgc3R5bGUuYmFja2dyb3VuZEltYWdlID0gXCJ1cmwoXCIgKyBzcmMgKyBcIilcIjtcbiAgc3R5bGUuYmFja2dyb3VuZFBvc2l0aW9uID0gXCJ0b3AgbGVmdFwiO1xuICBzdHlsZS5iYWNrZ3JvdW5kUmVwZWF0ID0gXCJuby1yZXBlYXRcIjtcbn07XG5nb29nLnN0eWxlLmNsZWFyVHJhbnNwYXJlbnRCYWNrZ3JvdW5kSW1hZ2UgPSBmdW5jdGlvbihlbCkge1xuICB2YXIgc3R5bGUgPSBlbC5zdHlsZTtcbiAgXCJmaWx0ZXJcIiBpbiBzdHlsZSA/IHN0eWxlLmZpbHRlciA9IFwiXCIgOiBzdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSBcIm5vbmVcIjtcbn07XG5nb29nLnN0eWxlLnNob3dFbGVtZW50ID0gZnVuY3Rpb24oZWwsIGRpc3BsYXkpIHtcbiAgZ29vZy5zdHlsZS5zZXRFbGVtZW50U2hvd24oZWwsIGRpc3BsYXkpO1xufTtcbmdvb2cuc3R5bGUuc2V0RWxlbWVudFNob3duID0gZnVuY3Rpb24oZWwsIGlzU2hvd24pIHtcbiAgZWwuc3R5bGUuZGlzcGxheSA9IGlzU2hvd24gPyBcIlwiIDogXCJub25lXCI7XG59O1xuZ29vZy5zdHlsZS5pc0VsZW1lbnRTaG93biA9IGZ1bmN0aW9uKGVsKSB7XG4gIHJldHVybiBcIm5vbmVcIiAhPSBlbC5zdHlsZS5kaXNwbGF5O1xufTtcbmdvb2cuc3R5bGUuaW5zdGFsbFNhZmVTdHlsZVNoZWV0ID0gZnVuY3Rpb24oc2FmZVN0eWxlU2hlZXQsIG9wdF9ub2RlKSB7XG4gIHZhciBkaCA9IGdvb2cuZG9tLmdldERvbUhlbHBlcihvcHRfbm9kZSksIGRvYyA9IGRoLmdldERvY3VtZW50KCk7XG4gIGlmIChnb29nLnVzZXJBZ2VudC5JRSAmJiBkb2MuY3JlYXRlU3R5bGVTaGVldCkge1xuICAgIHZhciBzdHlsZVNoZWV0ID0gZG9jLmNyZWF0ZVN0eWxlU2hlZXQoKTtcbiAgICBnb29nLnN0eWxlLnNldFNhZmVTdHlsZVNoZWV0KHN0eWxlU2hlZXQsIHNhZmVTdHlsZVNoZWV0KTtcbiAgICByZXR1cm4gc3R5bGVTaGVldDtcbiAgfVxuICB2YXIgaGVhZCA9IGRoLmdldEVsZW1lbnRzQnlUYWdOYW1lQW5kQ2xhc3MoZ29vZy5kb20uVGFnTmFtZS5IRUFEKVswXTtcbiAgaWYgKCFoZWFkKSB7XG4gICAgdmFyIGJvZHkgPSBkaC5nZXRFbGVtZW50c0J5VGFnTmFtZUFuZENsYXNzKGdvb2cuZG9tLlRhZ05hbWUuQk9EWSlbMF07XG4gICAgaGVhZCA9IGRoLmNyZWF0ZURvbShnb29nLmRvbS5UYWdOYW1lLkhFQUQpO1xuICAgIGJvZHkucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoaGVhZCwgYm9keSk7XG4gIH1cbiAgdmFyIGVsID0gZGguY3JlYXRlRG9tKGdvb2cuZG9tLlRhZ05hbWUuU1RZTEUpLCBub25jZSA9IGdvb2cuZG9tLnNhZmUuZ2V0U3R5bGVOb25jZSgpO1xuICBub25jZSAmJiBlbC5zZXRBdHRyaWJ1dGUoXCJub25jZVwiLCBub25jZSk7XG4gIGdvb2cuc3R5bGUuc2V0U2FmZVN0eWxlU2hlZXQoZWwsIHNhZmVTdHlsZVNoZWV0KTtcbiAgZGguYXBwZW5kQ2hpbGQoaGVhZCwgZWwpO1xuICByZXR1cm4gZWw7XG59O1xuZ29vZy5zdHlsZS51bmluc3RhbGxTdHlsZXMgPSBmdW5jdGlvbihzdHlsZVNoZWV0KSB7XG4gIGdvb2cuZG9tLnJlbW92ZU5vZGUoc3R5bGVTaGVldC5vd25lck5vZGUgfHwgc3R5bGVTaGVldC5vd25pbmdFbGVtZW50IHx8IHN0eWxlU2hlZXQpO1xufTtcbmdvb2cuc3R5bGUuc2V0U2FmZVN0eWxlU2hlZXQgPSBmdW5jdGlvbihlbGVtZW50LCBzYWZlU3R5bGVTaGVldCkge1xuICB2YXIgc3R5bGVzU3RyaW5nID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlU3R5bGVTaGVldF9TYWZlU3R5bGVTaGVldC51bndyYXAoc2FmZVN0eWxlU2hlZXQpO1xuICBnb29nLnVzZXJBZ2VudC5JRSAmJiB2b2lkIDAgIT09IGVsZW1lbnQuY3NzVGV4dCA/IGVsZW1lbnQuY3NzVGV4dCA9IHN0eWxlc1N0cmluZyA6IGdvb2cuZ2xvYmFsLnRydXN0ZWRUeXBlcyA/IGdvb2cuZG9tLnNldFRleHRDb250ZW50KGVsZW1lbnQsIHN0eWxlc1N0cmluZykgOiBlbGVtZW50LmlubmVySFRNTCA9IHN0eWxlc1N0cmluZztcbn07XG5nb29nLnN0eWxlLnNldFByZVdyYXAgPSBmdW5jdGlvbihlbCkge1xuICBlbC5zdHlsZS53aGl0ZVNwYWNlID0gZ29vZy51c2VyQWdlbnQuR0VDS08gPyBcIi1tb3otcHJlLXdyYXBcIiA6IFwicHJlLXdyYXBcIjtcbn07XG5nb29nLnN0eWxlLnNldElubGluZUJsb2NrID0gZnVuY3Rpb24oZWwpIHtcbiAgdmFyIHN0eWxlID0gZWwuc3R5bGU7XG4gIHN0eWxlLnBvc2l0aW9uID0gXCJyZWxhdGl2ZVwiO1xuICBzdHlsZS5kaXNwbGF5ID0gXCJpbmxpbmUtYmxvY2tcIjtcbn07XG5nb29nLnN0eWxlLmlzUmlnaHRUb0xlZnQgPSBmdW5jdGlvbihlbCkge1xuICByZXR1cm4gXCJydGxcIiA9PSBnb29nLnN0eWxlLmdldFN0eWxlXyhlbCwgXCJkaXJlY3Rpb25cIik7XG59O1xuZ29vZy5zdHlsZS51bnNlbGVjdGFibGVTdHlsZV8gPSBnb29nLnVzZXJBZ2VudC5HRUNLTyA/IFwiTW96VXNlclNlbGVjdFwiIDogZ29vZy51c2VyQWdlbnQuV0VCS0lUIHx8IGdvb2cudXNlckFnZW50LkVER0UgPyBcIldlYmtpdFVzZXJTZWxlY3RcIiA6IG51bGw7XG5nb29nLnN0eWxlLmlzVW5zZWxlY3RhYmxlID0gZnVuY3Rpb24oZWwpIHtcbiAgcmV0dXJuIGdvb2cuc3R5bGUudW5zZWxlY3RhYmxlU3R5bGVfID8gXCJub25lXCIgPT0gZWwuc3R5bGVbZ29vZy5zdHlsZS51bnNlbGVjdGFibGVTdHlsZV9dLnRvTG93ZXJDYXNlKCkgOiBnb29nLnVzZXJBZ2VudC5JRSA/IFwib25cIiA9PSBlbC5nZXRBdHRyaWJ1dGUoXCJ1bnNlbGVjdGFibGVcIikgOiAhMTtcbn07XG5nb29nLnN0eWxlLnNldFVuc2VsZWN0YWJsZSA9IGZ1bmN0aW9uKGVsLCB1bnNlbGVjdGFibGUsIG9wdF9ub1JlY3Vyc2UpIHtcbiAgdmFyIGRlc2NlbmRhbnRzID0gb3B0X25vUmVjdXJzZSA/IG51bGwgOiBlbC5nZXRFbGVtZW50c0J5VGFnTmFtZShcIipcIiksIG5hbWUgPSBnb29nLnN0eWxlLnVuc2VsZWN0YWJsZVN0eWxlXztcbiAgaWYgKG5hbWUpIHtcbiAgICB2YXIgdmFsdWUgPSB1bnNlbGVjdGFibGUgPyBcIm5vbmVcIiA6IFwiXCI7XG4gICAgZWwuc3R5bGUgJiYgKGVsLnN0eWxlW25hbWVdID0gdmFsdWUpO1xuICAgIGlmIChkZXNjZW5kYW50cykge1xuICAgICAgZm9yICh2YXIgaSA9IDAsIGRlc2NlbmRhbnQ7IGRlc2NlbmRhbnQgPSBkZXNjZW5kYW50c1tpXTsgaSsrKSB7XG4gICAgICAgIGRlc2NlbmRhbnQuc3R5bGUgJiYgKGRlc2NlbmRhbnQuc3R5bGVbbmFtZV0gPSB2YWx1ZSk7XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2UgaWYgKGdvb2cudXNlckFnZW50LklFICYmICh2YWx1ZSA9IHVuc2VsZWN0YWJsZSA/IFwib25cIiA6IFwiXCIsIGVsLnNldEF0dHJpYnV0ZShcInVuc2VsZWN0YWJsZVwiLCB2YWx1ZSksIGRlc2NlbmRhbnRzKSkge1xuICAgIGZvciAoaSA9IDA7IGRlc2NlbmRhbnQgPSBkZXNjZW5kYW50c1tpXTsgaSsrKSB7XG4gICAgICBkZXNjZW5kYW50LnNldEF0dHJpYnV0ZShcInVuc2VsZWN0YWJsZVwiLCB2YWx1ZSk7XG4gICAgfVxuICB9XG59O1xuZ29vZy5zdHlsZS5nZXRCb3JkZXJCb3hTaXplID0gZnVuY3Rpb24oZWxlbWVudCkge1xuICByZXR1cm4gbmV3IGdvb2cubWF0aC5TaXplKGVsZW1lbnQub2Zmc2V0V2lkdGgsIGVsZW1lbnQub2Zmc2V0SGVpZ2h0KTtcbn07XG5nb29nLnN0eWxlLnNldEJvcmRlckJveFNpemUgPSBmdW5jdGlvbihlbGVtZW50LCBzaXplKSB7XG4gIGdvb2cuc3R5bGUuc2V0Qm94U2l6aW5nU2l6ZV8oZWxlbWVudCwgc2l6ZSwgXCJib3JkZXItYm94XCIpO1xufTtcbmdvb2cuc3R5bGUuZ2V0Q29udGVudEJveFNpemUgPSBmdW5jdGlvbihlbGVtZW50KSB7XG4gIHZhciBkb2MgPSBnb29nLmRvbS5nZXRPd25lckRvY3VtZW50KGVsZW1lbnQpLCBpZUN1cnJlbnRTdHlsZSA9IGdvb2cudXNlckFnZW50LklFICYmIGVsZW1lbnQuY3VycmVudFN0eWxlO1xuICBpZiAoaWVDdXJyZW50U3R5bGUgJiYgZ29vZy5kb20uZ2V0RG9tSGVscGVyKGRvYykuaXNDc3MxQ29tcGF0TW9kZSgpICYmIFwiYXV0b1wiICE9IGllQ3VycmVudFN0eWxlLndpZHRoICYmIFwiYXV0b1wiICE9IGllQ3VycmVudFN0eWxlLmhlaWdodCAmJiAhaWVDdXJyZW50U3R5bGUuYm94U2l6aW5nKSB7XG4gICAgdmFyIHdpZHRoID0gZ29vZy5zdHlsZS5nZXRJZVBpeGVsVmFsdWVfKGVsZW1lbnQsIGllQ3VycmVudFN0eWxlLndpZHRoLCBcIndpZHRoXCIsIFwicGl4ZWxXaWR0aFwiKSwgaGVpZ2h0ID0gZ29vZy5zdHlsZS5nZXRJZVBpeGVsVmFsdWVfKGVsZW1lbnQsIGllQ3VycmVudFN0eWxlLmhlaWdodCwgXCJoZWlnaHRcIiwgXCJwaXhlbEhlaWdodFwiKTtcbiAgICByZXR1cm4gbmV3IGdvb2cubWF0aC5TaXplKHdpZHRoLCBoZWlnaHQpO1xuICB9XG4gIHZhciBib3JkZXJCb3hTaXplID0gZ29vZy5zdHlsZS5nZXRCb3JkZXJCb3hTaXplKGVsZW1lbnQpLCBwYWRkaW5nQm94ID0gZ29vZy5zdHlsZS5nZXRQYWRkaW5nQm94KGVsZW1lbnQpLCBib3JkZXJCb3ggPSBnb29nLnN0eWxlLmdldEJvcmRlckJveChlbGVtZW50KTtcbiAgcmV0dXJuIG5ldyBnb29nLm1hdGguU2l6ZShib3JkZXJCb3hTaXplLndpZHRoIC0gYm9yZGVyQm94LmxlZnQgLSBwYWRkaW5nQm94LmxlZnQgLSBwYWRkaW5nQm94LnJpZ2h0IC0gYm9yZGVyQm94LnJpZ2h0LCBib3JkZXJCb3hTaXplLmhlaWdodCAtIGJvcmRlckJveC50b3AgLSBwYWRkaW5nQm94LnRvcCAtIHBhZGRpbmdCb3guYm90dG9tIC0gYm9yZGVyQm94LmJvdHRvbSk7XG59O1xuZ29vZy5zdHlsZS5zZXRDb250ZW50Qm94U2l6ZSA9IGZ1bmN0aW9uKGVsZW1lbnQsIHNpemUpIHtcbiAgZ29vZy5zdHlsZS5zZXRCb3hTaXppbmdTaXplXyhlbGVtZW50LCBzaXplLCBcImNvbnRlbnQtYm94XCIpO1xufTtcbmdvb2cuc3R5bGUuc2V0Qm94U2l6aW5nU2l6ZV8gPSBmdW5jdGlvbihlbGVtZW50LCBzaXplLCBib3hTaXppbmcpIHtcbiAgdmFyIHN0eWxlID0gZWxlbWVudC5zdHlsZTtcbiAgZ29vZy51c2VyQWdlbnQuR0VDS08gPyBzdHlsZS5Nb3pCb3hTaXppbmcgPSBib3hTaXppbmcgOiBnb29nLnVzZXJBZ2VudC5XRUJLSVQgPyBzdHlsZS5XZWJraXRCb3hTaXppbmcgPSBib3hTaXppbmcgOiBzdHlsZS5ib3hTaXppbmcgPSBib3hTaXppbmc7XG4gIHN0eWxlLndpZHRoID0gTWF0aC5tYXgoc2l6ZS53aWR0aCwgMCkgKyBcInB4XCI7XG4gIHN0eWxlLmhlaWdodCA9IE1hdGgubWF4KHNpemUuaGVpZ2h0LCAwKSArIFwicHhcIjtcbn07XG5nb29nLnN0eWxlLmdldEllUGl4ZWxWYWx1ZV8gPSBmdW5jdGlvbihlbGVtZW50LCB2YWx1ZSwgbmFtZSwgcGl4ZWxOYW1lKSB7XG4gIGlmICgvXlxcZCtweD8kLy50ZXN0KHZhbHVlKSkge1xuICAgIHJldHVybiBwYXJzZUludCh2YWx1ZSwgMTApO1xuICB9XG4gIHZhciBvbGRTdHlsZVZhbHVlID0gZWxlbWVudC5zdHlsZVtuYW1lXSwgb2xkUnVudGltZVZhbHVlID0gZWxlbWVudC5ydW50aW1lU3R5bGVbbmFtZV07XG4gIGVsZW1lbnQucnVudGltZVN0eWxlW25hbWVdID0gZWxlbWVudC5jdXJyZW50U3R5bGVbbmFtZV07XG4gIGVsZW1lbnQuc3R5bGVbbmFtZV0gPSB2YWx1ZTtcbiAgdmFyIHBpeGVsVmFsdWUgPSBlbGVtZW50LnN0eWxlW3BpeGVsTmFtZV07XG4gIGVsZW1lbnQuc3R5bGVbbmFtZV0gPSBvbGRTdHlsZVZhbHVlO1xuICBlbGVtZW50LnJ1bnRpbWVTdHlsZVtuYW1lXSA9IG9sZFJ1bnRpbWVWYWx1ZTtcbiAgcmV0dXJuICtwaXhlbFZhbHVlO1xufTtcbmdvb2cuc3R5bGUuZ2V0SWVQaXhlbERpc3RhbmNlXyA9IGZ1bmN0aW9uKGVsZW1lbnQsIHByb3BOYW1lKSB7XG4gIHZhciB2YWx1ZSA9IGdvb2cuc3R5bGUuZ2V0Q2FzY2FkZWRTdHlsZShlbGVtZW50LCBwcm9wTmFtZSk7XG4gIHJldHVybiB2YWx1ZSA/IGdvb2cuc3R5bGUuZ2V0SWVQaXhlbFZhbHVlXyhlbGVtZW50LCB2YWx1ZSwgXCJsZWZ0XCIsIFwicGl4ZWxMZWZ0XCIpIDogMDtcbn07XG5nb29nLnN0eWxlLmdldEJveF8gPSBmdW5jdGlvbihlbGVtZW50LCBzdHlsZVByZWZpeCkge1xuICBpZiAoZ29vZy51c2VyQWdlbnQuSUUpIHtcbiAgICB2YXIgbGVmdCA9IGdvb2cuc3R5bGUuZ2V0SWVQaXhlbERpc3RhbmNlXyhlbGVtZW50LCBzdHlsZVByZWZpeCArIFwiTGVmdFwiKSwgcmlnaHQgPSBnb29nLnN0eWxlLmdldEllUGl4ZWxEaXN0YW5jZV8oZWxlbWVudCwgc3R5bGVQcmVmaXggKyBcIlJpZ2h0XCIpLCB0b3AgPSBnb29nLnN0eWxlLmdldEllUGl4ZWxEaXN0YW5jZV8oZWxlbWVudCwgc3R5bGVQcmVmaXggKyBcIlRvcFwiKSwgYm90dG9tID0gZ29vZy5zdHlsZS5nZXRJZVBpeGVsRGlzdGFuY2VfKGVsZW1lbnQsIHN0eWxlUHJlZml4ICsgXCJCb3R0b21cIik7XG4gICAgcmV0dXJuIG5ldyBnb29nLm1hdGguQm94KHRvcCwgcmlnaHQsIGJvdHRvbSwgbGVmdCk7XG4gIH1cbiAgbGVmdCA9IGdvb2cuc3R5bGUuZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50LCBzdHlsZVByZWZpeCArIFwiTGVmdFwiKTtcbiAgcmlnaHQgPSBnb29nLnN0eWxlLmdldENvbXB1dGVkU3R5bGUoZWxlbWVudCwgc3R5bGVQcmVmaXggKyBcIlJpZ2h0XCIpO1xuICB0b3AgPSBnb29nLnN0eWxlLmdldENvbXB1dGVkU3R5bGUoZWxlbWVudCwgc3R5bGVQcmVmaXggKyBcIlRvcFwiKTtcbiAgYm90dG9tID0gZ29vZy5zdHlsZS5nZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQsIHN0eWxlUHJlZml4ICsgXCJCb3R0b21cIik7XG4gIHJldHVybiBuZXcgZ29vZy5tYXRoLkJveChwYXJzZUZsb2F0KHRvcCksIHBhcnNlRmxvYXQocmlnaHQpLCBwYXJzZUZsb2F0KGJvdHRvbSksIHBhcnNlRmxvYXQobGVmdCkpO1xufTtcbmdvb2cuc3R5bGUuZ2V0UGFkZGluZ0JveCA9IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgcmV0dXJuIGdvb2cuc3R5bGUuZ2V0Qm94XyhlbGVtZW50LCBcInBhZGRpbmdcIik7XG59O1xuZ29vZy5zdHlsZS5nZXRNYXJnaW5Cb3ggPSBmdW5jdGlvbihlbGVtZW50KSB7XG4gIHJldHVybiBnb29nLnN0eWxlLmdldEJveF8oZWxlbWVudCwgXCJtYXJnaW5cIik7XG59O1xuZ29vZy5zdHlsZS5pZUJvcmRlcldpZHRoS2V5d29yZHNfID0ge3RoaW46MiwgbWVkaXVtOjQsIHRoaWNrOjZ9O1xuZ29vZy5zdHlsZS5nZXRJZVBpeGVsQm9yZGVyXyA9IGZ1bmN0aW9uKGVsZW1lbnQsIHByb3ApIHtcbiAgaWYgKFwibm9uZVwiID09IGdvb2cuc3R5bGUuZ2V0Q2FzY2FkZWRTdHlsZShlbGVtZW50LCBwcm9wICsgXCJTdHlsZVwiKSkge1xuICAgIHJldHVybiAwO1xuICB9XG4gIHZhciB3aWR0aCA9IGdvb2cuc3R5bGUuZ2V0Q2FzY2FkZWRTdHlsZShlbGVtZW50LCBwcm9wICsgXCJXaWR0aFwiKTtcbiAgcmV0dXJuIHdpZHRoIGluIGdvb2cuc3R5bGUuaWVCb3JkZXJXaWR0aEtleXdvcmRzXyA/IGdvb2cuc3R5bGUuaWVCb3JkZXJXaWR0aEtleXdvcmRzX1t3aWR0aF0gOiBnb29nLnN0eWxlLmdldEllUGl4ZWxWYWx1ZV8oZWxlbWVudCwgd2lkdGgsIFwibGVmdFwiLCBcInBpeGVsTGVmdFwiKTtcbn07XG5nb29nLnN0eWxlLmdldEJvcmRlckJveCA9IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgaWYgKGdvb2cudXNlckFnZW50LklFICYmICFnb29nLnVzZXJBZ2VudC5pc0RvY3VtZW50TW9kZU9ySGlnaGVyKDkpKSB7XG4gICAgdmFyIGxlZnQgPSBnb29nLnN0eWxlLmdldEllUGl4ZWxCb3JkZXJfKGVsZW1lbnQsIFwiYm9yZGVyTGVmdFwiKSwgcmlnaHQgPSBnb29nLnN0eWxlLmdldEllUGl4ZWxCb3JkZXJfKGVsZW1lbnQsIFwiYm9yZGVyUmlnaHRcIiksIHRvcCA9IGdvb2cuc3R5bGUuZ2V0SWVQaXhlbEJvcmRlcl8oZWxlbWVudCwgXCJib3JkZXJUb3BcIiksIGJvdHRvbSA9IGdvb2cuc3R5bGUuZ2V0SWVQaXhlbEJvcmRlcl8oZWxlbWVudCwgXCJib3JkZXJCb3R0b21cIik7XG4gICAgcmV0dXJuIG5ldyBnb29nLm1hdGguQm94KHRvcCwgcmlnaHQsIGJvdHRvbSwgbGVmdCk7XG4gIH1cbiAgbGVmdCA9IGdvb2cuc3R5bGUuZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50LCBcImJvcmRlckxlZnRXaWR0aFwiKTtcbiAgcmlnaHQgPSBnb29nLnN0eWxlLmdldENvbXB1dGVkU3R5bGUoZWxlbWVudCwgXCJib3JkZXJSaWdodFdpZHRoXCIpO1xuICB0b3AgPSBnb29nLnN0eWxlLmdldENvbXB1dGVkU3R5bGUoZWxlbWVudCwgXCJib3JkZXJUb3BXaWR0aFwiKTtcbiAgYm90dG9tID0gZ29vZy5zdHlsZS5nZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQsIFwiYm9yZGVyQm90dG9tV2lkdGhcIik7XG4gIHJldHVybiBuZXcgZ29vZy5tYXRoLkJveChwYXJzZUZsb2F0KHRvcCksIHBhcnNlRmxvYXQocmlnaHQpLCBwYXJzZUZsb2F0KGJvdHRvbSksIHBhcnNlRmxvYXQobGVmdCkpO1xufTtcbmdvb2cuc3R5bGUuZ2V0Rm9udEZhbWlseSA9IGZ1bmN0aW9uKGVsKSB7XG4gIHZhciBkb2MgPSBnb29nLmRvbS5nZXRPd25lckRvY3VtZW50KGVsKSwgZm9udCA9IFwiXCI7XG4gIGlmIChkb2MuYm9keS5jcmVhdGVUZXh0UmFuZ2UgJiYgZ29vZy5kb20uY29udGFpbnMoZG9jLCBlbCkpIHtcbiAgICB2YXIgcmFuZ2UgPSBkb2MuYm9keS5jcmVhdGVUZXh0UmFuZ2UoKTtcbiAgICByYW5nZS5tb3ZlVG9FbGVtZW50VGV4dChlbCk7XG4gICAgdHJ5IHtcbiAgICAgIGZvbnQgPSByYW5nZS5xdWVyeUNvbW1hbmRWYWx1ZShcIkZvbnROYW1lXCIpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGZvbnQgPSBcIlwiO1xuICAgIH1cbiAgfVxuICBmb250IHx8IChmb250ID0gZ29vZy5zdHlsZS5nZXRTdHlsZV8oZWwsIFwiZm9udEZhbWlseVwiKSk7XG4gIHZhciBmb250c0FycmF5ID0gZm9udC5zcGxpdChcIixcIik7XG4gIDEgPCBmb250c0FycmF5Lmxlbmd0aCAmJiAoZm9udCA9IGZvbnRzQXJyYXlbMF0pO1xuICByZXR1cm4gZ29vZy5zdHJpbmcuc3RyaXBRdW90ZXMoZm9udCwgXCJcXFwiJ1wiKTtcbn07XG5nb29nLnN0eWxlLmxlbmd0aFVuaXRSZWdleF8gPSAvW15cXGRdKyQvO1xuZ29vZy5zdHlsZS5nZXRMZW5ndGhVbml0cyA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gIHZhciB1bml0cyA9IHZhbHVlLm1hdGNoKGdvb2cuc3R5bGUubGVuZ3RoVW5pdFJlZ2V4Xyk7XG4gIHJldHVybiB1bml0cyAmJiB1bml0c1swXSB8fCBudWxsO1xufTtcbmdvb2cuc3R5bGUuQUJTT0xVVEVfQ1NTX0xFTkdUSF9VTklUU18gPSB7Y206MSwgXCJpblwiOjEsIG1tOjEsIHBjOjEsIHB0OjF9O1xuZ29vZy5zdHlsZS5DT05WRVJUSUJMRV9SRUxBVElWRV9DU1NfVU5JVFNfID0ge2VtOjEsIGV4OjF9O1xuZ29vZy5zdHlsZS5nZXRGb250U2l6ZSA9IGZ1bmN0aW9uKGVsKSB7XG4gIHZhciBmb250U2l6ZSA9IGdvb2cuc3R5bGUuZ2V0U3R5bGVfKGVsLCBcImZvbnRTaXplXCIpLCBzaXplVW5pdHMgPSBnb29nLnN0eWxlLmdldExlbmd0aFVuaXRzKGZvbnRTaXplKTtcbiAgaWYgKGZvbnRTaXplICYmIFwicHhcIiA9PSBzaXplVW5pdHMpIHtcbiAgICByZXR1cm4gcGFyc2VJbnQoZm9udFNpemUsIDEwKTtcbiAgfVxuICBpZiAoZ29vZy51c2VyQWdlbnQuSUUpIHtcbiAgICBpZiAoU3RyaW5nKHNpemVVbml0cykgaW4gZ29vZy5zdHlsZS5BQlNPTFVURV9DU1NfTEVOR1RIX1VOSVRTXykge1xuICAgICAgcmV0dXJuIGdvb2cuc3R5bGUuZ2V0SWVQaXhlbFZhbHVlXyhlbCwgZm9udFNpemUsIFwibGVmdFwiLCBcInBpeGVsTGVmdFwiKTtcbiAgICB9XG4gICAgaWYgKGVsLnBhcmVudE5vZGUgJiYgZWwucGFyZW50Tm9kZS5ub2RlVHlwZSA9PSBnb29nLmRvbS5Ob2RlVHlwZS5FTEVNRU5UICYmIFN0cmluZyhzaXplVW5pdHMpIGluIGdvb2cuc3R5bGUuQ09OVkVSVElCTEVfUkVMQVRJVkVfQ1NTX1VOSVRTXykge1xuICAgICAgdmFyIHBhcmVudEVsZW1lbnQgPSBlbC5wYXJlbnROb2RlLCBwYXJlbnRTaXplID0gZ29vZy5zdHlsZS5nZXRTdHlsZV8ocGFyZW50RWxlbWVudCwgXCJmb250U2l6ZVwiKTtcbiAgICAgIHJldHVybiBnb29nLnN0eWxlLmdldEllUGl4ZWxWYWx1ZV8ocGFyZW50RWxlbWVudCwgZm9udFNpemUgPT0gcGFyZW50U2l6ZSA/IFwiMWVtXCIgOiBmb250U2l6ZSwgXCJsZWZ0XCIsIFwicGl4ZWxMZWZ0XCIpO1xuICAgIH1cbiAgfVxuICB2YXIgc2l6ZUVsZW1lbnQgPSBnb29nLmRvbS5jcmVhdGVEb20oZ29vZy5kb20uVGFnTmFtZS5TUEFOLCB7c3R5bGU6XCJ2aXNpYmlsaXR5OmhpZGRlbjtwb3NpdGlvbjphYnNvbHV0ZTtsaW5lLWhlaWdodDowO3BhZGRpbmc6MDttYXJnaW46MDtib3JkZXI6MDtoZWlnaHQ6MWVtO1wifSk7XG4gIGdvb2cuZG9tLmFwcGVuZENoaWxkKGVsLCBzaXplRWxlbWVudCk7XG4gIGZvbnRTaXplID0gc2l6ZUVsZW1lbnQub2Zmc2V0SGVpZ2h0O1xuICBnb29nLmRvbS5yZW1vdmVOb2RlKHNpemVFbGVtZW50KTtcbiAgcmV0dXJuIGZvbnRTaXplO1xufTtcbmdvb2cuc3R5bGUucGFyc2VTdHlsZUF0dHJpYnV0ZSA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gIHZhciByZXN1bHQgPSB7fTtcbiAgdmFsdWUuc3BsaXQoL1xccyo7XFxzKi8pLmZvckVhY2goZnVuY3Rpb24ocGFpcikge1xuICAgIHZhciBrZXlWYWx1ZSA9IHBhaXIubWF0Y2goL1xccyooW1xcdy1dKylcXHMqOiguKykvKTtcbiAgICBpZiAoa2V5VmFsdWUpIHtcbiAgICAgIHZhciBzdHlsZVZhbHVlID0gZ29vZy5zdHJpbmcudHJpbShrZXlWYWx1ZVsyXSk7XG4gICAgICByZXN1bHRbZ29vZy5zdHJpbmcudG9DYW1lbENhc2Uoa2V5VmFsdWVbMV0udG9Mb3dlckNhc2UoKSldID0gc3R5bGVWYWx1ZTtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gcmVzdWx0O1xufTtcbmdvb2cuc3R5bGUudG9TdHlsZUF0dHJpYnV0ZSA9IGZ1bmN0aW9uKG9iaikge1xuICB2YXIgYnVmZmVyID0gW107XG4gIG1vZHVsZSRjb250ZW50cyRnb29nJG9iamVjdF9mb3JFYWNoKG9iaiwgZnVuY3Rpb24odmFsdWUsIGtleSkge1xuICAgIGJ1ZmZlci5wdXNoKGdvb2cuc3RyaW5nLnRvU2VsZWN0b3JDYXNlKGtleSksIFwiOlwiLCB2YWx1ZSwgXCI7XCIpO1xuICB9KTtcbiAgcmV0dXJuIGJ1ZmZlci5qb2luKFwiXCIpO1xufTtcbmdvb2cuc3R5bGUuc2V0RmxvYXQgPSBmdW5jdGlvbihlbCwgdmFsdWUpIHtcbiAgZWwuc3R5bGVbZ29vZy51c2VyQWdlbnQuSUUgPyBcInN0eWxlRmxvYXRcIiA6IFwiY3NzRmxvYXRcIl0gPSB2YWx1ZTtcbn07XG5nb29nLnN0eWxlLmdldEZsb2F0ID0gZnVuY3Rpb24oZWwpIHtcbiAgcmV0dXJuIGVsLnN0eWxlW2dvb2cudXNlckFnZW50LklFID8gXCJzdHlsZUZsb2F0XCIgOiBcImNzc0Zsb2F0XCJdIHx8IFwiXCI7XG59O1xuZ29vZy5zdHlsZS5nZXRTY3JvbGxiYXJXaWR0aCA9IGZ1bmN0aW9uKG9wdF9jbGFzc05hbWUpIHtcbiAgdmFyIG91dGVyRGl2ID0gZ29vZy5kb20uY3JlYXRlRWxlbWVudChnb29nLmRvbS5UYWdOYW1lLkRJVik7XG4gIG9wdF9jbGFzc05hbWUgJiYgKG91dGVyRGl2LmNsYXNzTmFtZSA9IG9wdF9jbGFzc05hbWUpO1xuICBvdXRlckRpdi5zdHlsZS5jc3NUZXh0ID0gXCJvdmVyZmxvdzphdXRvO3Bvc2l0aW9uOmFic29sdXRlO3RvcDowO3dpZHRoOjEwMHB4O2hlaWdodDoxMDBweFwiO1xuICB2YXIgaW5uZXJEaXYgPSBnb29nLmRvbS5jcmVhdGVFbGVtZW50KGdvb2cuZG9tLlRhZ05hbWUuRElWKTtcbiAgZ29vZy5zdHlsZS5zZXRTaXplKGlubmVyRGl2LCBcIjIwMHB4XCIsIFwiMjAwcHhcIik7XG4gIG91dGVyRGl2LmFwcGVuZENoaWxkKGlubmVyRGl2KTtcbiAgZ29vZy5kb20uYXBwZW5kQ2hpbGQoZ29vZy5kb20uZ2V0RG9jdW1lbnQoKS5ib2R5LCBvdXRlckRpdik7XG4gIHZhciB3aWR0aCA9IG91dGVyRGl2Lm9mZnNldFdpZHRoIC0gb3V0ZXJEaXYuY2xpZW50V2lkdGg7XG4gIGdvb2cuZG9tLnJlbW92ZU5vZGUob3V0ZXJEaXYpO1xuICByZXR1cm4gd2lkdGg7XG59O1xuZ29vZy5zdHlsZS5NQVRSSVhfVFJBTlNMQVRJT05fUkVHRVhfID0gUmVnRXhwKFwibWF0cml4XFxcXChbMC05XFxcXC5cXFxcLV0rLCBbMC05XFxcXC5cXFxcLV0rLCBbMC05XFxcXC5cXFxcLV0rLCBbMC05XFxcXC5cXFxcLV0rLCAoWzAtOVxcXFwuXFxcXC1dKylwP3g/LCAoWzAtOVxcXFwuXFxcXC1dKylwP3g/XFxcXClcIik7XG5nb29nLnN0eWxlLmdldENzc1RyYW5zbGF0aW9uID0gZnVuY3Rpb24oZWxlbWVudCkge1xuICB2YXIgdHJhbnNmb3JtID0gZ29vZy5zdHlsZS5nZXRDb21wdXRlZFRyYW5zZm9ybShlbGVtZW50KTtcbiAgaWYgKCF0cmFuc2Zvcm0pIHtcbiAgICByZXR1cm4gbmV3IGdvb2cubWF0aC5Db29yZGluYXRlKDAsIDApO1xuICB9XG4gIHZhciBtYXRjaGVzID0gdHJhbnNmb3JtLm1hdGNoKGdvb2cuc3R5bGUuTUFUUklYX1RSQU5TTEFUSU9OX1JFR0VYXyk7XG4gIHJldHVybiBtYXRjaGVzID8gbmV3IGdvb2cubWF0aC5Db29yZGluYXRlKHBhcnNlRmxvYXQobWF0Y2hlc1sxXSksIHBhcnNlRmxvYXQobWF0Y2hlc1syXSkpIDogbmV3IGdvb2cubWF0aC5Db29yZGluYXRlKDAsIDApO1xufTtcbmVlLmxheWVycy5BYnN0cmFjdE92ZXJsYXkgPSBmdW5jdGlvbih0aWxlU291cmNlLCBvcHRfb3B0aW9ucykge1xuICBnb29nLmV2ZW50cy5FdmVudFRhcmdldC5jYWxsKHRoaXMpO1xuICB2YXIgb3B0aW9ucyA9IG9wdF9vcHRpb25zIHx8IHt9O1xuICB0aGlzLm1pblpvb20gPSBvcHRpb25zLm1pblpvb20gfHwgMDtcbiAgdGhpcy5tYXhab29tID0gb3B0aW9ucy5tYXhab29tIHx8IDIwO1xuICBpZiAoIXdpbmRvdy5nb29nbGUgfHwgIXdpbmRvdy5nb29nbGUubWFwcykge1xuICAgIHRocm93IEVycm9yKFwiR29vZ2xlIE1hcHMgQVBJIGhhc24ndCBiZWVuIGluaXRpYWxpemVkLlwiKTtcbiAgfVxuICB0aGlzLnRpbGVTaXplID0gb3B0aW9ucy50aWxlU2l6ZSB8fCBuZXcgZ29vZ2xlLm1hcHMuU2l6ZShlZS5sYXllcnMuQWJzdHJhY3RPdmVybGF5LkRFRkFVTFRfVElMRV9FREdFX0xFTkdUSCwgZWUubGF5ZXJzLkFic3RyYWN0T3ZlcmxheS5ERUZBVUxUX1RJTEVfRURHRV9MRU5HVEgpO1xuICB0aGlzLmlzUG5nID0gXCJpc1BuZ1wiIGluIG9wdGlvbnMgPyBvcHRpb25zLmlzUG5nIDogITA7XG4gIHRoaXMubmFtZSA9IG9wdGlvbnMubmFtZTtcbiAgdGhpcy5vcGFjaXR5ID0gXCJvcGFjaXR5XCIgaW4gb3B0aW9ucyA/IG9wdGlvbnMub3BhY2l0eSA6IDE7XG4gIHRoaXMuc3RhdHMgPSBuZXcgbW9kdWxlJGNvbnRlbnRzJGVlJGxheWVycyRBYnN0cmFjdE92ZXJsYXlTdGF0c19BYnN0cmFjdE92ZXJsYXlTdGF0cyh0aWxlU291cmNlLmdldFVuaXF1ZUlkKCkpO1xuICB0aGlzLnRpbGVzQnlJZCA9IG5ldyBnb29nLnN0cnVjdHMuTWFwKCk7XG4gIHRoaXMudGlsZUNvdW50ZXIgPSAwO1xuICB0aGlzLnRpbGVTb3VyY2UgPSB0aWxlU291cmNlO1xuICB0aGlzLmhhbmRsZXIgPSBuZXcgZ29vZy5ldmVudHMuRXZlbnRIYW5kbGVyKHRoaXMpO1xuICB0aGlzLnJhZGl1cyA9IDA7XG59O1xuJGpzY29tcC5pbmhlcml0cyhlZS5sYXllcnMuQWJzdHJhY3RPdmVybGF5LCBnb29nLmV2ZW50cy5FdmVudFRhcmdldCk7XG5lZS5sYXllcnMuQWJzdHJhY3RPdmVybGF5LnByb3RvdHlwZS5hZGRUaWxlQ2FsbGJhY2sgPSBmdW5jdGlvbihjYWxsYmFjaykge1xuICByZXR1cm4gZ29vZy5ldmVudHMubGlzdGVuKHRoaXMsIGVlLmxheWVycy5BYnN0cmFjdE92ZXJsYXkuRXZlbnRUeXBlLlRJTEVfTE9BRCwgY2FsbGJhY2spO1xufTtcbmVlLmxheWVycy5BYnN0cmFjdE92ZXJsYXkucHJvdG90eXBlLnJlbW92ZVRpbGVDYWxsYmFjayA9IGZ1bmN0aW9uKGNhbGxiYWNrSWQpIHtcbiAgZ29vZy5ldmVudHMudW5saXN0ZW5CeUtleShjYWxsYmFja0lkKTtcbn07XG5lZS5sYXllcnMuQWJzdHJhY3RPdmVybGF5LnByb3RvdHlwZS5nZXRMb2FkaW5nVGlsZXNDb3VudCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5nZXRUaWxlQ291bnRGb3JTdGF0dXNfKGVlLmxheWVycy5BYnN0cmFjdFRpbGUuU3RhdHVzLlRIUk9UVExFRCkgKyB0aGlzLmdldFRpbGVDb3VudEZvclN0YXR1c18oZWUubGF5ZXJzLkFic3RyYWN0VGlsZS5TdGF0dXMuTE9BRElORykgKyB0aGlzLmdldFRpbGVDb3VudEZvclN0YXR1c18oZWUubGF5ZXJzLkFic3RyYWN0VGlsZS5TdGF0dXMuTkVXKTtcbn07XG5lZS5sYXllcnMuQWJzdHJhY3RPdmVybGF5LnByb3RvdHlwZS5nZXRGYWlsZWRUaWxlc0NvdW50ID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLmdldFRpbGVDb3VudEZvclN0YXR1c18oZWUubGF5ZXJzLkFic3RyYWN0VGlsZS5TdGF0dXMuRkFJTEVEKTtcbn07XG5lZS5sYXllcnMuQWJzdHJhY3RPdmVybGF5LnByb3RvdHlwZS5nZXRMb2FkZWRUaWxlc0NvdW50ID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLmdldFRpbGVDb3VudEZvclN0YXR1c18oZWUubGF5ZXJzLkFic3RyYWN0VGlsZS5TdGF0dXMuTE9BREVEKTtcbn07XG5lZS5sYXllcnMuQWJzdHJhY3RPdmVybGF5LnByb3RvdHlwZS5zZXRPcGFjaXR5ID0gZnVuY3Rpb24ob3BhY2l0eSkge1xuICB0aGlzLm9wYWNpdHkgPSBvcGFjaXR5O1xuICB0aGlzLnRpbGVzQnlJZC5mb3JFYWNoKGZ1bmN0aW9uKHRpbGUpIHtcbiAgICBnb29nLnN0eWxlLnNldE9wYWNpdHkodGlsZS5kaXYsIHRoaXMub3BhY2l0eSk7XG4gIH0sIHRoaXMpO1xufTtcbmVlLmxheWVycy5BYnN0cmFjdE92ZXJsYXkucHJvdG90eXBlLmdldFRpbGVzQnlJZCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy50aWxlc0J5SWQ7XG59O1xuZWUubGF5ZXJzLkFic3RyYWN0T3ZlcmxheS5wcm90b3R5cGUuZ2V0U3RhdHMgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuc3RhdHM7XG59O1xuZWUubGF5ZXJzLkFic3RyYWN0T3ZlcmxheS5wcm90b3R5cGUuZ2V0VGlsZSA9IGZ1bmN0aW9uKGNvb3JkLCB6b29tLCBvd25lckRvY3VtZW50KSB7XG4gIHZhciBtYXhDb29yZCA9IDEgPDwgem9vbTtcbiAgaWYgKHpvb20gPCB0aGlzLm1pblpvb20gfHwgMCA+IGNvb3JkLnkgfHwgY29vcmQueSA+PSBtYXhDb29yZCkge1xuICAgIHJldHVybiBvd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gIH1cbiAgdmFyIHggPSBjb29yZC54ICUgbWF4Q29vcmQ7XG4gIDAgPiB4ICYmICh4ICs9IG1heENvb3JkKTtcbiAgdmFyIG5vcm1hbGl6ZWRDb29yZCA9IG5ldyBnb29nbGUubWFwcy5Qb2ludCh4LCBjb29yZC55KSwgdW5pcXVlSWQgPSB0aGlzLmdldFVuaXF1ZVRpbGVJZF8oY29vcmQsIHpvb20pLCB0aWxlID0gdGhpcy5jcmVhdGVUaWxlKG5vcm1hbGl6ZWRDb29yZCwgem9vbSwgb3duZXJEb2N1bWVudCwgdW5pcXVlSWQpO1xuICB0aWxlLnRpbGVTaXplID0gdGhpcy50aWxlU2l6ZTtcbiAgZ29vZy5zdHlsZS5zZXRPcGFjaXR5KHRpbGUuZGl2LCB0aGlzLm9wYWNpdHkpO1xuICB0aGlzLnRpbGVzQnlJZC5zZXQodW5pcXVlSWQsIHRpbGUpO1xuICB0aGlzLnJlZ2lzdGVyU3RhdHVzQ2hhbmdlTGlzdGVuZXJfKHRpbGUpO1xuICB0aGlzLmRpc3BhdGNoRXZlbnQobmV3IGVlLmxheWVycy5UaWxlU3RhcnRFdmVudCh0aGlzLmdldExvYWRpbmdUaWxlc0NvdW50KCkpKTtcbiAgdGhpcy50aWxlU291cmNlLmxvYWRUaWxlKHRpbGUsIChuZXcgRGF0ZSgpKS5nZXRUaW1lKCkgLyAxRTMpO1xuICByZXR1cm4gdGlsZS5kaXY7XG59O1xuZWUubGF5ZXJzLkFic3RyYWN0T3ZlcmxheS5wcm90b3R5cGUucmVsZWFzZVRpbGUgPSBmdW5jdGlvbih0aWxlRGl2KSB7XG4gIHZhciB0aWxlID0gdGhpcy50aWxlc0J5SWQuZ2V0KHRpbGVEaXYuaWQpO1xuICB0aGlzLnRpbGVzQnlJZC5yZW1vdmUodGlsZURpdi5pZCk7XG4gIHRpbGUgJiYgKHRpbGUuYWJvcnQoKSwgbW9kdWxlJGNvbnRlbnRzJGdvb2ckZGlzcG9zZV9kaXNwb3NlKHRpbGUpKTtcbn07XG5lZS5sYXllcnMuQWJzdHJhY3RPdmVybGF5LnByb3RvdHlwZS5yZWdpc3RlclN0YXR1c0NoYW5nZUxpc3RlbmVyXyA9IGZ1bmN0aW9uKHRpbGUpIHtcbiAgdGhpcy5oYW5kbGVyLmxpc3Rlbih0aWxlLCBlZS5sYXllcnMuQWJzdHJhY3RUaWxlLkV2ZW50VHlwZS5TVEFUVVNfQ0hBTkdFRCwgZnVuY3Rpb24oKSB7XG4gICAgdmFyIFN0YXR1cyA9IGVlLmxheWVycy5BYnN0cmFjdFRpbGUuU3RhdHVzO1xuICAgIHN3aXRjaCh0aWxlLmdldFN0YXR1cygpKSB7XG4gICAgICBjYXNlIFN0YXR1cy5MT0FERUQ6XG4gICAgICAgIHRoaXMuc3RhdHMuYWRkVGlsZVN0YXRzKHRpbGUubG9hZGluZ1N0YXJ0VHNfLCAobmV3IERhdGUoKSkuZ2V0VGltZSgpLCB0aWxlLnpvb20pO1xuICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQobmV3IGVlLmxheWVycy5UaWxlTG9hZEV2ZW50KHRoaXMuZ2V0TG9hZGluZ1RpbGVzQ291bnQoKSkpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgU3RhdHVzLlRIUk9UVExFRDpcbiAgICAgICAgdGhpcy5zdGF0cy5pbmNyZW1lbnRUaHJvdHRsZUNvdW50ZXIodGlsZS56b29tKTtcbiAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBlZS5sYXllcnMuVGlsZVRocm90dGxlRXZlbnQodGlsZS5zb3VyY2VVcmwpKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFN0YXR1cy5GQUlMRUQ6XG4gICAgICAgIHRoaXMuc3RhdHMuaW5jcmVtZW50RXJyb3JDb3VudGVyKHRpbGUuem9vbSk7XG4gICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChuZXcgZWUubGF5ZXJzLlRpbGVGYWlsRXZlbnQodGlsZS5zb3VyY2VVcmwsIHRpbGUuZXJyb3JNZXNzYWdlXykpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgU3RhdHVzLkFCT1JURUQ6XG4gICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChuZXcgZWUubGF5ZXJzLlRpbGVBYm9ydEV2ZW50KHRoaXMuZ2V0TG9hZGluZ1RpbGVzQ291bnQoKSkpO1xuICAgIH1cbiAgfSk7XG59O1xuZWUubGF5ZXJzLkFic3RyYWN0T3ZlcmxheS5wcm90b3R5cGUuZ2V0VW5pcXVlVGlsZUlkXyA9IGZ1bmN0aW9uKGNvb3JkLCB6KSB7XG4gIHZhciB0aWxlSWQgPSBbY29vcmQueCwgY29vcmQueSwgeiwgdGhpcy50aWxlQ291bnRlcisrXS5qb2luKFwiLVwiKSwgc291cmNlSWQgPSB0aGlzLnRpbGVTb3VyY2UuZ2V0VW5pcXVlSWQoKTtcbiAgcmV0dXJuIFt0aWxlSWQsIHNvdXJjZUlkXS5qb2luKFwiLVwiKTtcbn07XG5lZS5sYXllcnMuQWJzdHJhY3RPdmVybGF5LnByb3RvdHlwZS5kaXNwb3NlSW50ZXJuYWwgPSBmdW5jdGlvbigpIHtcbiAgZ29vZy5ldmVudHMuRXZlbnRUYXJnZXQucHJvdG90eXBlLmRpc3Bvc2VJbnRlcm5hbC5jYWxsKHRoaXMpO1xuICB0aGlzLnRpbGVzQnlJZC5mb3JFYWNoKG1vZHVsZSRjb250ZW50cyRnb29nJGRpc3Bvc2VfZGlzcG9zZSk7XG4gIHRoaXMudGlsZXNCeUlkLmNsZWFyKCk7XG4gIHRoaXMudGlsZXNCeUlkID0gbnVsbDtcbiAgbW9kdWxlJGNvbnRlbnRzJGdvb2ckZGlzcG9zZV9kaXNwb3NlKHRoaXMuaGFuZGxlcik7XG4gIHRoaXMudGlsZVNvdXJjZSA9IHRoaXMuaGFuZGxlciA9IG51bGw7XG59O1xuZWUubGF5ZXJzLkFic3RyYWN0T3ZlcmxheS5wcm90b3R5cGUuZ2V0VGlsZUNvdW50Rm9yU3RhdHVzXyA9IGZ1bmN0aW9uKHN0YXR1cykge1xuICByZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfY291bnQodGhpcy50aWxlc0J5SWQuZ2V0VmFsdWVzKCksIGZ1bmN0aW9uKHRpbGUpIHtcbiAgICByZXR1cm4gdGlsZS5nZXRTdGF0dXMoKSA9PSBzdGF0dXM7XG4gIH0pO1xufTtcbmdvb2cuZXhwb3J0U3ltYm9sKFwiZWUubGF5ZXJzLkFic3RyYWN0T3ZlcmxheVwiLCBlZS5sYXllcnMuQWJzdHJhY3RPdmVybGF5KTtcbmdvb2cuZXhwb3J0UHJvcGVydHkoZWUubGF5ZXJzLkFic3RyYWN0T3ZlcmxheS5wcm90b3R5cGUsIFwicmVtb3ZlVGlsZUNhbGxiYWNrXCIsIGVlLmxheWVycy5BYnN0cmFjdE92ZXJsYXkucHJvdG90eXBlLnJlbW92ZVRpbGVDYWxsYmFjayk7XG5nb29nLmV4cG9ydFByb3BlcnR5KGVlLmxheWVycy5BYnN0cmFjdE92ZXJsYXkucHJvdG90eXBlLCBcImFkZFRpbGVDYWxsYmFja1wiLCBlZS5sYXllcnMuQWJzdHJhY3RPdmVybGF5LnByb3RvdHlwZS5hZGRUaWxlQ2FsbGJhY2spO1xuZWUubGF5ZXJzLkFic3RyYWN0T3ZlcmxheS5FdmVudFR5cGUgPSB7VElMRV9GQUlMOlwidGlsZS1mYWlsXCIsIFRJTEVfQUJPUlQ6XCJ0aWxlLWFib3J0XCIsIFRJTEVfVEhST1RUTEU6XCJ0aWxlLXRocm90dGxlXCIsIFRJTEVfTE9BRDpcInRpbGUtbG9hZFwiLCBUSUxFX1NUQVJUOlwidGlsZS1zdGFydFwiLH07XG5lZS5sYXllcnMuQWJzdHJhY3RPdmVybGF5LkRFRkFVTFRfVElMRV9FREdFX0xFTkdUSCA9IDI1NjtcbmVlLmxheWVycy5UaWxlTG9hZEV2ZW50ID0gZnVuY3Rpb24obG9hZGluZ1RpbGVDb3VudCkge1xuICBnb29nLmV2ZW50cy5FdmVudC5jYWxsKHRoaXMsIGVlLmxheWVycy5BYnN0cmFjdE92ZXJsYXkuRXZlbnRUeXBlLlRJTEVfTE9BRCk7XG4gIHRoaXMubG9hZGluZ1RpbGVDb3VudCA9IGxvYWRpbmdUaWxlQ291bnQ7XG59O1xuJGpzY29tcC5pbmhlcml0cyhlZS5sYXllcnMuVGlsZUxvYWRFdmVudCwgZ29vZy5ldmVudHMuRXZlbnQpO1xuZWUubGF5ZXJzLlRpbGVTdGFydEV2ZW50ID0gZnVuY3Rpb24obG9hZGluZ1RpbGVDb3VudCkge1xuICBnb29nLmV2ZW50cy5FdmVudC5jYWxsKHRoaXMsIGVlLmxheWVycy5BYnN0cmFjdE92ZXJsYXkuRXZlbnRUeXBlLlRJTEVfU1RBUlQpO1xuICB0aGlzLmxvYWRpbmdUaWxlQ291bnQgPSBsb2FkaW5nVGlsZUNvdW50O1xufTtcbiRqc2NvbXAuaW5oZXJpdHMoZWUubGF5ZXJzLlRpbGVTdGFydEV2ZW50LCBnb29nLmV2ZW50cy5FdmVudCk7XG5lZS5sYXllcnMuVGlsZVRocm90dGxlRXZlbnQgPSBmdW5jdGlvbih0aWxlVXJsKSB7XG4gIGdvb2cuZXZlbnRzLkV2ZW50LmNhbGwodGhpcywgZWUubGF5ZXJzLkFic3RyYWN0T3ZlcmxheS5FdmVudFR5cGUuVElMRV9USFJPVFRMRSk7XG4gIHRoaXMudGlsZVVybCA9IHRpbGVVcmw7XG59O1xuJGpzY29tcC5pbmhlcml0cyhlZS5sYXllcnMuVGlsZVRocm90dGxlRXZlbnQsIGdvb2cuZXZlbnRzLkV2ZW50KTtcbmVlLmxheWVycy5UaWxlRmFpbEV2ZW50ID0gZnVuY3Rpb24odGlsZVVybCwgb3B0X2Vycm9yTWVzc2FnZSkge1xuICBnb29nLmV2ZW50cy5FdmVudC5jYWxsKHRoaXMsIGVlLmxheWVycy5BYnN0cmFjdE92ZXJsYXkuRXZlbnRUeXBlLlRJTEVfRkFJTCk7XG4gIHRoaXMudGlsZVVybCA9IHRpbGVVcmw7XG4gIHRoaXMuZXJyb3JNZXNzYWdlID0gb3B0X2Vycm9yTWVzc2FnZTtcbn07XG4kanNjb21wLmluaGVyaXRzKGVlLmxheWVycy5UaWxlRmFpbEV2ZW50LCBnb29nLmV2ZW50cy5FdmVudCk7XG5lZS5sYXllcnMuVGlsZUFib3J0RXZlbnQgPSBmdW5jdGlvbihsb2FkaW5nVGlsZUNvdW50KSB7XG4gIGdvb2cuZXZlbnRzLkV2ZW50LmNhbGwodGhpcywgZWUubGF5ZXJzLkFic3RyYWN0T3ZlcmxheS5FdmVudFR5cGUuVElMRV9BQk9SVCk7XG4gIHRoaXMubG9hZGluZ1RpbGVDb3VudCA9IGxvYWRpbmdUaWxlQ291bnQ7XG59O1xuJGpzY29tcC5pbmhlcml0cyhlZS5sYXllcnMuVGlsZUFib3J0RXZlbnQsIGdvb2cuZXZlbnRzLkV2ZW50KTtcbmVlLmxheWVycy5BYnN0cmFjdFRpbGUgPSBmdW5jdGlvbihjb29yZCwgem9vbSwgb3duZXJEb2N1bWVudCwgdW5pcXVlSWQpIHtcbiAgZ29vZy5ldmVudHMuRXZlbnRUYXJnZXQuY2FsbCh0aGlzKTtcbiAgdGhpcy5jb29yZCA9IGNvb3JkO1xuICB0aGlzLnpvb20gPSB6b29tO1xuICB0aGlzLmRpdiA9IG93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgdGhpcy5kaXYuaWQgPSB1bmlxdWVJZDtcbiAgdGhpcy5tYXhSZXRyaWVzID0gZWUubGF5ZXJzLkFic3RyYWN0VGlsZS5ERUZBVUxUX01BWF9MT0FEX1JFVFJJRVNfO1xuICB0aGlzLnJlbmRlcmVyID0gZnVuY3Rpb24oKSB7XG4gIH07XG4gIHRoaXMuc3RhdHVzXyA9IGVlLmxheWVycy5BYnN0cmFjdFRpbGUuU3RhdHVzLk5FVztcbiAgdGhpcy5yZXRyeUF0dGVtcHRDb3VudF8gPSAwO1xuICB0aGlzLmlzUmV0cnlpbmdfID0gITE7XG59O1xuJGpzY29tcC5pbmhlcml0cyhlZS5sYXllcnMuQWJzdHJhY3RUaWxlLCBnb29nLmV2ZW50cy5FdmVudFRhcmdldCk7XG5lZS5sYXllcnMuQWJzdHJhY3RUaWxlLnByb3RvdHlwZS5nZXREaXYgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuZGl2O1xufTtcbmVlLmxheWVycy5BYnN0cmFjdFRpbGUucHJvdG90eXBlLnN0YXJ0TG9hZCA9IGZ1bmN0aW9uKCkge1xuICB2YXIgJGpzY29tcCR0aGlzID0gdGhpcztcbiAgaWYgKCF0aGlzLmlzUmV0cnlpbmdfICYmIHRoaXMuZ2V0U3RhdHVzKCkgPT0gZWUubGF5ZXJzLkFic3RyYWN0VGlsZS5TdGF0dXMuTE9BRElORykge1xuICAgIHRocm93IEVycm9yKFwic3RhcnRMb2FkKCkgY2FuIG9ubHkgYmUgaW52b2tlZCBvbmNlLiBVc2UgcmV0cnlMb2FkKCkgYWZ0ZXIgdGhlIGZpcnN0IGF0dGVtcHQuXCIpO1xuICB9XG4gIHRoaXMuc2V0U3RhdHVzKGVlLmxheWVycy5BYnN0cmFjdFRpbGUuU3RhdHVzLkxPQURJTkcpO1xuICB0aGlzLmxvYWRpbmdTdGFydFRzXyA9IChuZXcgRGF0ZSgpKS5nZXRUaW1lKCk7XG4gIHRoaXMueGhySW9fID0gbmV3IGdvb2cubmV0LlhocklvKCk7XG4gIHRoaXMueGhySW9fLnNldFJlc3BvbnNlVHlwZShnb29nLm5ldC5YaHJJby5SZXNwb25zZVR5cGUuQkxPQik7XG4gIHRoaXMueGhySW9fLmxpc3Rlbihnb29nLm5ldC5FdmVudFR5cGUuQ09NUExFVEUsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgdmFyIGJsb2IgPSAkanNjb21wJHRoaXMueGhySW9fLmdldFJlc3BvbnNlKCksIHN0YXR1cyA9ICRqc2NvbXAkdGhpcy54aHJJb18uZ2V0U3RhdHVzKCksIEh0dHBTdGF0dXMgPSBnb29nLm5ldC5IdHRwU3RhdHVzO1xuICAgIHN0YXR1cyA9PSBIdHRwU3RhdHVzLlRPT19NQU5ZX1JFUVVFU1RTICYmICRqc2NvbXAkdGhpcy5zZXRTdGF0dXMoZWUubGF5ZXJzLkFic3RyYWN0VGlsZS5TdGF0dXMuVEhST1RUTEVEKTtcbiAgICBpZiAoSHR0cFN0YXR1cy5pc1N1Y2Nlc3Moc3RhdHVzKSkge1xuICAgICAgdmFyIHNvdXJjZVJlc3BvbnNlSGVhZGVycyA9IHt9O1xuICAgICAgbW9kdWxlJGNvbnRlbnRzJGdvb2ckb2JqZWN0X2ZvckVhY2goJGpzY29tcCR0aGlzLnhocklvXy5nZXRSZXNwb25zZUhlYWRlcnMoKSwgZnVuY3Rpb24odmFsdWUsIG5hbWUpIHtcbiAgICAgICAgc291cmNlUmVzcG9uc2VIZWFkZXJzW25hbWUudG9Mb3dlckNhc2UoKV0gPSB2YWx1ZTtcbiAgICAgIH0pO1xuICAgICAgJGpzY29tcCR0aGlzLnNvdXJjZVJlc3BvbnNlSGVhZGVycyA9IHNvdXJjZVJlc3BvbnNlSGVhZGVycztcbiAgICAgICRqc2NvbXAkdGhpcy5zb3VyY2VEYXRhID0gYmxvYjtcbiAgICAgICRqc2NvbXAkdGhpcy5maW5pc2hMb2FkKCk7XG4gICAgfSBlbHNlIGlmIChibG9iKSB7XG4gICAgICB2YXIgcmVhZGVyID0gbmV3IGdvb2cuZnMuRmlsZVJlYWRlcigpO1xuICAgICAgcmVhZGVyLmxpc3Rlbihnb29nLmZzLkZpbGVSZWFkZXIuRXZlbnRUeXBlLkxPQURfRU5ELCBmdW5jdGlvbigpIHtcbiAgICAgICAgJGpzY29tcCR0aGlzLnJldHJ5TG9hZChyZWFkZXIuZ2V0UmVzdWx0KCkpO1xuICAgICAgfSwgdm9pZCAwKTtcbiAgICAgIHJlYWRlci5yZWFkQXNUZXh0KGJsb2IpO1xuICAgIH0gZWxzZSB7XG4gICAgICAkanNjb21wJHRoaXMucmV0cnlMb2FkKFwiRmFpbGVkIHRvIGxvYWQgdGlsZS5cIik7XG4gICAgfVxuICB9LCAhMSk7XG4gIHRoaXMueGhySW9fLmxpc3Rlbk9uY2UoZ29vZy5uZXQuRXZlbnRUeXBlLlJFQURZLCBnb29nLnBhcnRpYWwobW9kdWxlJGNvbnRlbnRzJGdvb2ckZGlzcG9zZV9kaXNwb3NlLCB0aGlzLnhocklvXykpO1xuICB0aGlzLnNvdXJjZVVybCAmJiB0aGlzLnNvdXJjZVVybC5lbmRzV2l0aChcIiZwcm9maWxpbmc9MVwiKSAmJiAodGhpcy5zb3VyY2VVcmwgPSB0aGlzLnNvdXJjZVVybC5yZXBsYWNlKFwiJnByb2ZpbGluZz0xXCIsIFwiXCIpLCB0aGlzLnhocklvXy5oZWFkZXJzLnNldChtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5QUk9GSUxFX1JFUVVFU1RfSEVBREVSLCBcIjFcIikpO1xuICB0aGlzLnhocklvXy5zZW5kKHRoaXMuc291cmNlVXJsLCBcIkdFVFwiKTtcbn07XG5lZS5sYXllcnMuQWJzdHJhY3RUaWxlLnByb3RvdHlwZS5maW5pc2hMb2FkID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMucmVuZGVyZXIodGhpcyk7XG4gIHRoaXMuc2V0U3RhdHVzKGVlLmxheWVycy5BYnN0cmFjdFRpbGUuU3RhdHVzLkxPQURFRCk7XG59O1xuZWUubGF5ZXJzLkFic3RyYWN0VGlsZS5wcm90b3R5cGUuY2FuY2VsTG9hZCA9IGZ1bmN0aW9uKCkge1xuICBtb2R1bGUkY29udGVudHMkZ29vZyRkaXNwb3NlX2Rpc3Bvc2UodGhpcy54aHJJb18pO1xufTtcbmVlLmxheWVycy5BYnN0cmFjdFRpbGUucHJvdG90eXBlLnJldHJ5TG9hZCA9IGZ1bmN0aW9uKG9wdF9lcnJvck1lc3NhZ2UpIHtcbiAgdmFyIHBhcnNlRXJyb3IgPSBmdW5jdGlvbihlcnJvcikge1xuICAgIHRyeSB7XG4gICAgICBpZiAoZXJyb3IgPSBKU09OLnBhcnNlKGVycm9yKSwgZXJyb3IuZXJyb3IgJiYgZXJyb3IuZXJyb3IubWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gZXJyb3IuZXJyb3IubWVzc2FnZTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgfVxuICAgIHJldHVybiBlcnJvcjtcbiAgfTtcbiAgdGhpcy5yZXRyeUF0dGVtcHRDb3VudF8gPj0gdGhpcy5tYXhSZXRyaWVzID8gKHRoaXMuZXJyb3JNZXNzYWdlXyA9IHBhcnNlRXJyb3Iob3B0X2Vycm9yTWVzc2FnZSksIHRoaXMuc2V0U3RhdHVzKGVlLmxheWVycy5BYnN0cmFjdFRpbGUuU3RhdHVzLkZBSUxFRCkpIDogKHRoaXMuY2FuY2VsTG9hZCgpLCBzZXRUaW1lb3V0KGdvb2cuYmluZChmdW5jdGlvbigpIHtcbiAgICB0aGlzLmlzRGlzcG9zZWQoKSB8fCAodGhpcy5pc1JldHJ5aW5nXyA9ICEwLCB0aGlzLnN0YXJ0TG9hZCgpLCB0aGlzLmlzUmV0cnlpbmdfID0gITEpO1xuICB9LCB0aGlzKSwgMUUzICogTWF0aC5wb3coMiwgdGhpcy5yZXRyeUF0dGVtcHRDb3VudF8rKykpKTtcbn07XG5lZS5sYXllcnMuQWJzdHJhY3RUaWxlLnByb3RvdHlwZS5hYm9ydCA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLmNhbmNlbExvYWQoKTtcbiAgdGhpcy5nZXRTdGF0dXMoKSAhPSBlZS5sYXllcnMuQWJzdHJhY3RUaWxlLlN0YXR1cy5BQk9SVEVEICYmIHRoaXMuZ2V0U3RhdHVzKCkgIT0gZWUubGF5ZXJzLkFic3RyYWN0VGlsZS5TdGF0dXMuUkVNT1ZFRCAmJiB0aGlzLnNldFN0YXR1cyh0aGlzLmlzRG9uZSgpID8gZWUubGF5ZXJzLkFic3RyYWN0VGlsZS5TdGF0dXMuUkVNT1ZFRCA6IGVlLmxheWVycy5BYnN0cmFjdFRpbGUuU3RhdHVzLkFCT1JURUQpO1xufTtcbmVlLmxheWVycy5BYnN0cmFjdFRpbGUucHJvdG90eXBlLmlzRG9uZSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5zdGF0dXNfIGluIGVlLmxheWVycy5BYnN0cmFjdFRpbGUuRE9ORV9TVEFUVVNfU0VUXztcbn07XG5lZS5sYXllcnMuQWJzdHJhY3RUaWxlLnByb3RvdHlwZS5nZXRTdGF0dXMgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuc3RhdHVzXztcbn07XG5lZS5sYXllcnMuQWJzdHJhY3RUaWxlLnByb3RvdHlwZS5zZXRTdGF0dXMgPSBmdW5jdGlvbihzdGF0dXMpIHtcbiAgdGhpcy5zdGF0dXNfID0gc3RhdHVzO1xuICB0aGlzLmRpc3BhdGNoRXZlbnQoZWUubGF5ZXJzLkFic3RyYWN0VGlsZS5FdmVudFR5cGUuU1RBVFVTX0NIQU5HRUQpO1xufTtcbmVlLmxheWVycy5BYnN0cmFjdFRpbGUucHJvdG90eXBlLmRpc3Bvc2VJbnRlcm5hbCA9IGZ1bmN0aW9uKCkge1xuICBnb29nLmV2ZW50cy5FdmVudFRhcmdldC5wcm90b3R5cGUuZGlzcG9zZUludGVybmFsLmNhbGwodGhpcyk7XG4gIHRoaXMuY2FuY2VsTG9hZCgpO1xuICB0aGlzLmRpdi5yZW1vdmUoKTtcbiAgdGhpcy5yZW5kZXJlciA9IG51bGw7XG59O1xuZWUubGF5ZXJzLkFic3RyYWN0VGlsZS5FdmVudFR5cGUgPSB7U1RBVFVTX0NIQU5HRUQ6XCJzdGF0dXMtY2hhbmdlZFwifTtcbmVlLmxheWVycy5BYnN0cmFjdFRpbGUuU3RhdHVzID0ge05FVzpcIm5ld1wiLCBMT0FESU5HOlwibG9hZGluZ1wiLCBUSFJPVFRMRUQ6XCJ0aHJvdHRsZWRcIiwgTE9BREVEOlwibG9hZGVkXCIsIEZBSUxFRDpcImZhaWxlZFwiLCBBQk9SVEVEOlwiYWJvcnRlZFwiLCBSRU1PVkVEOlwicmVtb3ZlZFwiLH07XG5lZS5sYXllcnMuQWJzdHJhY3RUaWxlLkRPTkVfU1RBVFVTX1NFVF8gPSBtb2R1bGUkY29udGVudHMkZ29vZyRvYmplY3RfY3JlYXRlU2V0KGVlLmxheWVycy5BYnN0cmFjdFRpbGUuU3RhdHVzLkFCT1JURUQsIGVlLmxheWVycy5BYnN0cmFjdFRpbGUuU3RhdHVzLkZBSUxFRCwgZWUubGF5ZXJzLkFic3RyYWN0VGlsZS5TdGF0dXMuTE9BREVELCBlZS5sYXllcnMuQWJzdHJhY3RUaWxlLlN0YXR1cy5SRU1PVkVEKTtcbmVlLmxheWVycy5BYnN0cmFjdFRpbGUuREVGQVVMVF9NQVhfTE9BRF9SRVRSSUVTXyA9IDU7XG52YXIgbW9kdWxlJGV4cG9ydHMkZWUkbGF5ZXJzJEFic3RyYWN0VGlsZVNvdXJjZSA9IGZ1bmN0aW9uKCkge1xuICBnb29nLkRpc3Bvc2FibGUuY2FsbCh0aGlzKTtcbn07XG4kanNjb21wLmluaGVyaXRzKG1vZHVsZSRleHBvcnRzJGVlJGxheWVycyRBYnN0cmFjdFRpbGVTb3VyY2UsIGdvb2cuRGlzcG9zYWJsZSk7XG5lZS5sYXllcnMuQmluYXJ5T3ZlcmxheSA9IGZ1bmN0aW9uKHRpbGVTb3VyY2UsIG9wdF9vcHRpb25zKSB7XG4gIGVlLmxheWVycy5BYnN0cmFjdE92ZXJsYXkuY2FsbCh0aGlzLCB0aWxlU291cmNlLCBvcHRfb3B0aW9ucyk7XG4gIHRoaXMuYnVmZmVyc0J5Q29vcmRfID0gbmV3IGdvb2cuc3RydWN0cy5NYXAoKTtcbiAgdGhpcy5kaXZzQnlDb29yZF8gPSBuZXcgZ29vZy5zdHJ1Y3RzLk1hcCgpO1xufTtcbiRqc2NvbXAuaW5oZXJpdHMoZWUubGF5ZXJzLkJpbmFyeU92ZXJsYXksIGVlLmxheWVycy5BYnN0cmFjdE92ZXJsYXkpO1xuZWUubGF5ZXJzLkJpbmFyeU92ZXJsYXkucHJvdG90eXBlLmNyZWF0ZVRpbGUgPSBmdW5jdGlvbihjb29yZCwgem9vbSwgb3duZXJEb2N1bWVudCwgdW5pcXVlSWQpIHtcbiAgdmFyIHRpbGUgPSBuZXcgZWUubGF5ZXJzLkJpbmFyeVRpbGUoY29vcmQsIHpvb20sIG93bmVyRG9jdW1lbnQsIHVuaXF1ZUlkKTtcbiAgdGhpcy5oYW5kbGVyLmxpc3Rlbih0aWxlLCBlZS5sYXllcnMuQWJzdHJhY3RUaWxlLkV2ZW50VHlwZS5TVEFUVVNfQ0hBTkdFRCwgZnVuY3Rpb24oKSB7XG4gICAgdGlsZS5nZXRTdGF0dXMoKSA9PSBlZS5sYXllcnMuQWJzdHJhY3RUaWxlLlN0YXR1cy5MT0FERUQgJiYgKHRoaXMuYnVmZmVyc0J5Q29vcmRfLnNldChjb29yZCwgbmV3IEZsb2F0MzJBcnJheSh0aWxlLmJ1ZmZlcl8pKSwgdGhpcy5kaXZzQnlDb29yZF8uc2V0KGNvb3JkLCB0aWxlLmRpdikpO1xuICB9KTtcbiAgcmV0dXJuIHRpbGU7XG59O1xuZWUubGF5ZXJzLkJpbmFyeU92ZXJsYXkucHJvdG90eXBlLmdldEJ1ZmZlcnNCeUNvb3JkID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLmJ1ZmZlcnNCeUNvb3JkXztcbn07XG5lZS5sYXllcnMuQmluYXJ5T3ZlcmxheS5wcm90b3R5cGUuZ2V0RGl2c0J5Q29vcmQgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuZGl2c0J5Q29vcmRfO1xufTtcbmVlLmxheWVycy5CaW5hcnlPdmVybGF5LnByb3RvdHlwZS5kaXNwb3NlSW50ZXJuYWwgPSBmdW5jdGlvbigpIHtcbiAgZWUubGF5ZXJzLkFic3RyYWN0T3ZlcmxheS5wcm90b3R5cGUuZGlzcG9zZUludGVybmFsLmNhbGwodGhpcyk7XG4gIHRoaXMuZGl2c0J5Q29vcmRfID0gdGhpcy5idWZmZXJzQnlDb29yZF8gPSBudWxsO1xufTtcbmdvb2cuZXhwb3J0U3ltYm9sKFwiZWUubGF5ZXJzLkJpbmFyeU92ZXJsYXlcIiwgZWUubGF5ZXJzLkJpbmFyeU92ZXJsYXkpO1xuZWUubGF5ZXJzLkJpbmFyeVRpbGUgPSBmdW5jdGlvbihjb29yZCwgem9vbSwgb3duZXJEb2N1bWVudCwgdW5pcXVlSWQpIHtcbiAgZWUubGF5ZXJzLkFic3RyYWN0VGlsZS5jYWxsKHRoaXMsIGNvb3JkLCB6b29tLCBvd25lckRvY3VtZW50LCB1bmlxdWVJZCk7XG59O1xuJGpzY29tcC5pbmhlcml0cyhlZS5sYXllcnMuQmluYXJ5VGlsZSwgZWUubGF5ZXJzLkFic3RyYWN0VGlsZSk7XG5lZS5sYXllcnMuQmluYXJ5VGlsZS5wcm90b3R5cGUuZmluaXNoTG9hZCA9IGZ1bmN0aW9uKCkge1xuICB2YXIgcmVhZGVyID0gbmV3IGdvb2cuZnMuRmlsZVJlYWRlcigpO1xuICByZWFkZXIubGlzdGVuKGdvb2cuZnMuRmlsZVJlYWRlci5FdmVudFR5cGUuTE9BRF9FTkQsIGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuYnVmZmVyXyA9IHJlYWRlci5nZXRSZXN1bHQoKTtcbiAgICBlZS5sYXllcnMuQWJzdHJhY3RUaWxlLnByb3RvdHlwZS5maW5pc2hMb2FkLmNhbGwodGhpcyk7XG4gIH0sIHZvaWQgMCwgdGhpcyk7XG4gIHJlYWRlci5yZWFkQXNBcnJheUJ1ZmZlcih0aGlzLnNvdXJjZURhdGEpO1xufTtcbmdvb2cubmV0LkltYWdlTG9hZGVyID0gZnVuY3Rpb24ob3B0X3BhcmVudCkge1xuICBnb29nLmV2ZW50cy5FdmVudFRhcmdldC5jYWxsKHRoaXMpO1xuICB0aGlzLmltYWdlSWRUb1JlcXVlc3RNYXBfID0ge307XG4gIHRoaXMuaW1hZ2VJZFRvSW1hZ2VNYXBfID0ge307XG4gIHRoaXMuaGFuZGxlcl8gPSBuZXcgZ29vZy5ldmVudHMuRXZlbnRIYW5kbGVyKHRoaXMpO1xuICB0aGlzLnBhcmVudF8gPSBvcHRfcGFyZW50O1xuICB0aGlzLmNvbXBsZXRpb25GaXJlZF8gPSAhMTtcbn07XG5nb29nLmluaGVyaXRzKGdvb2cubmV0LkltYWdlTG9hZGVyLCBnb29nLmV2ZW50cy5FdmVudFRhcmdldCk7XG5nb29nLm5ldC5JbWFnZUxvYWRlci5Db3JzUmVxdWVzdFR5cGUgPSB7QU5PTllNT1VTOlwiYW5vbnltb3VzXCIsIFVTRV9DUkVERU5USUFMUzpcInVzZS1jcmVkZW50aWFsc1wiLH07XG5nb29nLm5ldC5JbWFnZUxvYWRlci5JTUFHRV9MT0FEX0VWRU5UU18gPSBbZ29vZy5ldmVudHMuRXZlbnRUeXBlLkxPQUQsIGdvb2cubmV0LkV2ZW50VHlwZS5BQk9SVCwgZ29vZy5uZXQuRXZlbnRUeXBlLkVSUk9SLF07XG5nb29nLm5ldC5JbWFnZUxvYWRlci5wcm90b3R5cGUuYWRkSW1hZ2UgPSBmdW5jdGlvbihpZCwgaW1hZ2UsIG9wdF9jb3JzUmVxdWVzdFR5cGUpIHtcbiAgdmFyIHNyYyA9IFwic3RyaW5nXCIgPT09IHR5cGVvZiBpbWFnZSA/IGltYWdlIDogaW1hZ2Uuc3JjO1xuICBzcmMgJiYgKHRoaXMuY29tcGxldGlvbkZpcmVkXyA9ICExLCB0aGlzLmltYWdlSWRUb1JlcXVlc3RNYXBfW2lkXSA9IHtzcmM6c3JjLCBjb3JzUmVxdWVzdFR5cGU6dm9pZCAwICE9PSBvcHRfY29yc1JlcXVlc3RUeXBlID8gb3B0X2NvcnNSZXF1ZXN0VHlwZSA6IG51bGwsfSk7XG59O1xuZ29vZy5uZXQuSW1hZ2VMb2FkZXIucHJvdG90eXBlLnJlbW92ZUltYWdlID0gZnVuY3Rpb24oaWQpIHtcbiAgZGVsZXRlIHRoaXMuaW1hZ2VJZFRvUmVxdWVzdE1hcF9baWRdO1xuICB2YXIgaW1hZ2UgPSB0aGlzLmltYWdlSWRUb0ltYWdlTWFwX1tpZF07XG4gIGltYWdlICYmIChkZWxldGUgdGhpcy5pbWFnZUlkVG9JbWFnZU1hcF9baWRdLCB0aGlzLmhhbmRsZXJfLnVubGlzdGVuKGltYWdlLCBnb29nLm5ldC5JbWFnZUxvYWRlci5JTUFHRV9MT0FEX0VWRU5UU18sIHRoaXMub25OZXR3b3JrRXZlbnRfKSk7XG59O1xuZ29vZy5uZXQuSW1hZ2VMb2FkZXIucHJvdG90eXBlLnN0YXJ0ID0gZnVuY3Rpb24oKSB7XG4gIHZhciBpbWFnZUlkVG9SZXF1ZXN0TWFwID0gdGhpcy5pbWFnZUlkVG9SZXF1ZXN0TWFwXztcbiAgbW9kdWxlJGNvbnRlbnRzJGdvb2ckb2JqZWN0X2dldEtleXMoaW1hZ2VJZFRvUmVxdWVzdE1hcCkuZm9yRWFjaChmdW5jdGlvbihpZCkge1xuICAgIHZhciBpbWFnZVJlcXVlc3QgPSBpbWFnZUlkVG9SZXF1ZXN0TWFwW2lkXTtcbiAgICBpbWFnZVJlcXVlc3QgJiYgKGRlbGV0ZSBpbWFnZUlkVG9SZXF1ZXN0TWFwW2lkXSwgdGhpcy5sb2FkSW1hZ2VfKGltYWdlUmVxdWVzdCwgaWQpKTtcbiAgfSwgdGhpcyk7XG59O1xuZ29vZy5uZXQuSW1hZ2VMb2FkZXIucHJvdG90eXBlLmxvYWRJbWFnZV8gPSBmdW5jdGlvbihpbWFnZVJlcXVlc3QsIGlkKSB7XG4gIGlmICghdGhpcy5pc0Rpc3Bvc2VkKCkpIHtcbiAgICB2YXIgaW1hZ2UgPSB0aGlzLnBhcmVudF8gPyBnb29nLmRvbS5nZXREb21IZWxwZXIodGhpcy5wYXJlbnRfKS5jcmVhdGVEb20oZ29vZy5kb20uVGFnTmFtZS5JTUcpIDogbmV3IEltYWdlKCk7XG4gICAgaW1hZ2VSZXF1ZXN0LmNvcnNSZXF1ZXN0VHlwZSAmJiAoaW1hZ2UuY3Jvc3NPcmlnaW4gPSBpbWFnZVJlcXVlc3QuY29yc1JlcXVlc3RUeXBlKTtcbiAgICB0aGlzLmhhbmRsZXJfLmxpc3RlbihpbWFnZSwgZ29vZy5uZXQuSW1hZ2VMb2FkZXIuSU1BR0VfTE9BRF9FVkVOVFNfLCB0aGlzLm9uTmV0d29ya0V2ZW50Xyk7XG4gICAgdGhpcy5pbWFnZUlkVG9JbWFnZU1hcF9baWRdID0gaW1hZ2U7XG4gICAgaW1hZ2UuaWQgPSBpZDtcbiAgICBpbWFnZS5zcmMgPSBpbWFnZVJlcXVlc3Quc3JjO1xuICB9XG59O1xuZ29vZy5uZXQuSW1hZ2VMb2FkZXIucHJvdG90eXBlLm9uTmV0d29ya0V2ZW50XyA9IGZ1bmN0aW9uKGV2dCkge1xuICB2YXIgaW1hZ2UgPSBldnQuY3VycmVudFRhcmdldDtcbiAgaWYgKGltYWdlKSB7XG4gICAgaWYgKGV2dC50eXBlID09IGdvb2cubmV0LkV2ZW50VHlwZS5SRUFEWV9TVEFURV9DSEFOR0UpIHtcbiAgICAgIGlmIChpbWFnZS5yZWFkeVN0YXRlID09IGdvb2cubmV0LkV2ZW50VHlwZS5DT01QTEVURSkge1xuICAgICAgICBldnQudHlwZSA9IGdvb2cuZXZlbnRzLkV2ZW50VHlwZS5MT0FEO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cbiAgICBcInVuZGVmaW5lZFwiID09IHR5cGVvZiBpbWFnZS5uYXR1cmFsV2lkdGggJiYgKGV2dC50eXBlID09IGdvb2cuZXZlbnRzLkV2ZW50VHlwZS5MT0FEID8gKGltYWdlLm5hdHVyYWxXaWR0aCA9IGltYWdlLndpZHRoLCBpbWFnZS5uYXR1cmFsSGVpZ2h0ID0gaW1hZ2UuaGVpZ2h0KSA6IChpbWFnZS5uYXR1cmFsV2lkdGggPSAwLCBpbWFnZS5uYXR1cmFsSGVpZ2h0ID0gMCkpO1xuICAgIHRoaXMucmVtb3ZlSW1hZ2UoaW1hZ2UuaWQpO1xuICAgIHRoaXMuZGlzcGF0Y2hFdmVudCh7dHlwZTpldnQudHlwZSwgdGFyZ2V0OmltYWdlfSk7XG4gICAgdGhpcy5pc0Rpc3Bvc2VkKCkgfHwgdGhpcy5tYXliZUZpcmVDb21wbGV0aW9uRXZlbnRfKCk7XG4gIH1cbn07XG5nb29nLm5ldC5JbWFnZUxvYWRlci5wcm90b3R5cGUubWF5YmVGaXJlQ29tcGxldGlvbkV2ZW50XyA9IGZ1bmN0aW9uKCkge1xuICBtb2R1bGUkY29udGVudHMkZ29vZyRvYmplY3RfaXNFbXB0eSh0aGlzLmltYWdlSWRUb0ltYWdlTWFwXykgJiYgbW9kdWxlJGNvbnRlbnRzJGdvb2ckb2JqZWN0X2lzRW1wdHkodGhpcy5pbWFnZUlkVG9SZXF1ZXN0TWFwXykgJiYgIXRoaXMuY29tcGxldGlvbkZpcmVkXyAmJiAodGhpcy5jb21wbGV0aW9uRmlyZWRfID0gITAsIHRoaXMuZGlzcGF0Y2hFdmVudChnb29nLm5ldC5FdmVudFR5cGUuQ09NUExFVEUpKTtcbn07XG5nb29nLm5ldC5JbWFnZUxvYWRlci5wcm90b3R5cGUuZGlzcG9zZUludGVybmFsID0gZnVuY3Rpb24oKSB7XG4gIGRlbGV0ZSB0aGlzLmltYWdlSWRUb1JlcXVlc3RNYXBfO1xuICBkZWxldGUgdGhpcy5pbWFnZUlkVG9JbWFnZU1hcF87XG4gIG1vZHVsZSRjb250ZW50cyRnb29nJGRpc3Bvc2VfZGlzcG9zZSh0aGlzLmhhbmRsZXJfKTtcbiAgZ29vZy5uZXQuSW1hZ2VMb2FkZXIuc3VwZXJDbGFzc18uZGlzcG9zZUludGVybmFsLmNhbGwodGhpcyk7XG59O1xuZWUubGF5ZXJzLkltYWdlT3ZlcmxheSA9IGZ1bmN0aW9uKHRpbGVTb3VyY2UsIG9wdF9vcHRpb25zKSB7XG4gIGVlLmxheWVycy5BYnN0cmFjdE92ZXJsYXkuY2FsbCh0aGlzLCB0aWxlU291cmNlLCBvcHRfb3B0aW9ucyk7XG59O1xuJGpzY29tcC5pbmhlcml0cyhlZS5sYXllcnMuSW1hZ2VPdmVybGF5LCBlZS5sYXllcnMuQWJzdHJhY3RPdmVybGF5KTtcbmVlLmxheWVycy5JbWFnZU92ZXJsYXkucHJvdG90eXBlLmNyZWF0ZVRpbGUgPSBmdW5jdGlvbihjb29yZCwgem9vbSwgb3duZXJEb2N1bWVudCwgdW5pcXVlSWQpIHtcbiAgcmV0dXJuIG5ldyBlZS5sYXllcnMuSW1hZ2VUaWxlKGNvb3JkLCB6b29tLCBvd25lckRvY3VtZW50LCB1bmlxdWVJZCk7XG59O1xuZ29vZy5leHBvcnRTeW1ib2woXCJlZS5sYXllcnMuSW1hZ2VPdmVybGF5XCIsIGVlLmxheWVycy5JbWFnZU92ZXJsYXkpO1xuZWUubGF5ZXJzLkltYWdlVGlsZSA9IGZ1bmN0aW9uKGNvb3JkLCB6b29tLCBvd25lckRvY3VtZW50LCB1bmlxdWVJZCkge1xuICBlZS5sYXllcnMuQWJzdHJhY3RUaWxlLmNhbGwodGhpcywgY29vcmQsIHpvb20sIG93bmVyRG9jdW1lbnQsIHVuaXF1ZUlkKTtcbiAgdGhpcy5yZW5kZXJlciA9IGVlLmxheWVycy5JbWFnZVRpbGUuZGVmYXVsdFJlbmRlcmVyXztcbiAgdGhpcy5pbWFnZUxvYWRlckxpc3RlbmVyS2V5XyA9IHRoaXMuaW1hZ2VMb2FkZXJfID0gdGhpcy5pbWFnZUVsID0gbnVsbDtcbiAgdGhpcy5vYmplY3RVcmxfID0gXCJcIjtcbn07XG4kanNjb21wLmluaGVyaXRzKGVlLmxheWVycy5JbWFnZVRpbGUsIGVlLmxheWVycy5BYnN0cmFjdFRpbGUpO1xuZWUubGF5ZXJzLkltYWdlVGlsZS5wcm90b3R5cGUuZmluaXNoTG9hZCA9IGZ1bmN0aW9uKCkge1xuICB0cnkge1xuICAgIHZhciBzYWZlVXJsID0gZ29vZy5odG1sLlNhZmVVcmwuZnJvbUJsb2IodGhpcy5zb3VyY2VEYXRhKTtcbiAgICB0aGlzLm9iamVjdFVybF8gPSBnb29nLmh0bWwuU2FmZVVybC51bndyYXAoc2FmZVVybCk7XG4gICAgdmFyIGltYWdlVXJsID0gdGhpcy5vYmplY3RVcmxfICE9PSBnb29nLmh0bWwuU2FmZVVybC5JTk5PQ1VPVVNfU1RSSU5HID8gdGhpcy5vYmplY3RVcmxfIDogdGhpcy5zb3VyY2VVcmw7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBpbWFnZVVybCA9IHRoaXMuc291cmNlVXJsO1xuICB9XG4gIHRoaXMuaW1hZ2VMb2FkZXJfID0gbmV3IGdvb2cubmV0LkltYWdlTG9hZGVyKCk7XG4gIHRoaXMuaW1hZ2VMb2FkZXJfLmFkZEltYWdlKHRoaXMuZGl2LmlkICsgXCItaW1hZ2VcIiwgaW1hZ2VVcmwpO1xuICB0aGlzLmltYWdlTG9hZGVyTGlzdGVuZXJLZXlfID0gZ29vZy5ldmVudHMubGlzdGVuT25jZSh0aGlzLmltYWdlTG9hZGVyXywgZWUubGF5ZXJzLkltYWdlVGlsZS5JTUFHRV9MT0FERVJfRVZFTlRTXywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICBldmVudC50eXBlID09IGdvb2cuZXZlbnRzLkV2ZW50VHlwZS5MT0FEID8gKHRoaXMuaW1hZ2VFbCA9IGV2ZW50LnRhcmdldCwgZWUubGF5ZXJzLkFic3RyYWN0VGlsZS5wcm90b3R5cGUuZmluaXNoTG9hZC5jYWxsKHRoaXMpKSA6IHRoaXMucmV0cnlMb2FkKCk7XG4gIH0sIHZvaWQgMCwgdGhpcyk7XG4gIHRoaXMuaW1hZ2VMb2FkZXJfLnN0YXJ0KCk7XG59O1xuZWUubGF5ZXJzLkltYWdlVGlsZS5wcm90b3R5cGUuY2FuY2VsTG9hZCA9IGZ1bmN0aW9uKCkge1xuICBlZS5sYXllcnMuQWJzdHJhY3RUaWxlLnByb3RvdHlwZS5jYW5jZWxMb2FkLmNhbGwodGhpcyk7XG4gIHRoaXMuaW1hZ2VMb2FkZXJfICYmIChnb29nLmV2ZW50cy51bmxpc3RlbkJ5S2V5KHRoaXMuaW1hZ2VMb2FkZXJMaXN0ZW5lcktleV8pLCBtb2R1bGUkY29udGVudHMkZ29vZyRkaXNwb3NlX2Rpc3Bvc2UodGhpcy5pbWFnZUxvYWRlcl8pKTtcbn07XG5lZS5sYXllcnMuSW1hZ2VUaWxlLnByb3RvdHlwZS5kaXNwb3NlSW50ZXJuYWwgPSBmdW5jdGlvbigpIHtcbiAgZWUubGF5ZXJzLkFic3RyYWN0VGlsZS5wcm90b3R5cGUuZGlzcG9zZUludGVybmFsLmNhbGwodGhpcyk7XG4gIHRoaXMub2JqZWN0VXJsXyAmJiBVUkwucmV2b2tlT2JqZWN0VVJMKHRoaXMub2JqZWN0VXJsXyk7XG59O1xuZWUubGF5ZXJzLkltYWdlVGlsZS5kZWZhdWx0UmVuZGVyZXJfID0gZnVuY3Rpb24odGlsZSkge1xuICB0aWxlLmRpdi5hcHBlbmRDaGlsZCh0aWxlLmltYWdlRWwpO1xufTtcbmVlLmxheWVycy5JbWFnZVRpbGUuSU1BR0VfTE9BREVSX0VWRU5UU18gPSBbZ29vZy5ldmVudHMuRXZlbnRUeXBlLkxPQUQsIGdvb2cubmV0LkV2ZW50VHlwZS5BQk9SVCwgZ29vZy5uZXQuRXZlbnRUeXBlLkVSUk9SXTtcbmdvb2cuc3RyaW5nLnBhdGggPSB7fTtcbmdvb2cuc3RyaW5nLnBhdGguYmFzZU5hbWUgPSBmdW5jdGlvbihwYXRoKSB7XG4gIHZhciBpID0gcGF0aC5sYXN0SW5kZXhPZihcIi9cIikgKyAxO1xuICByZXR1cm4gcGF0aC5zbGljZShpKTtcbn07XG5nb29nLnN0cmluZy5wYXRoLmJhc2VuYW1lID0gZ29vZy5zdHJpbmcucGF0aC5iYXNlTmFtZTtcbmdvb2cuc3RyaW5nLnBhdGguZGlybmFtZSA9IGZ1bmN0aW9uKHBhdGgpIHtcbiAgdmFyIGkgPSBwYXRoLmxhc3RJbmRleE9mKFwiL1wiKSArIDEsIGhlYWQgPSBwYXRoLnNsaWNlKDAsIGkpO1xuICAvXlxcLyskLy50ZXN0KGhlYWQpIHx8IChoZWFkID0gaGVhZC5yZXBsYWNlKC9cXC8rJC8sIFwiXCIpKTtcbiAgcmV0dXJuIGhlYWQ7XG59O1xuZ29vZy5zdHJpbmcucGF0aC5leHRlbnNpb24gPSBmdW5jdGlvbihwYXRoKSB7XG4gIHZhciBiYXNlTmFtZSA9IGdvb2cuc3RyaW5nLnBhdGguYmFzZU5hbWUocGF0aCkucmVwbGFjZSgvXFwuKy9nLCBcIi5cIiksIHNlcGFyYXRvckluZGV4ID0gYmFzZU5hbWUubGFzdEluZGV4T2YoXCIuXCIpO1xuICByZXR1cm4gMCA+PSBzZXBhcmF0b3JJbmRleCA/IFwiXCIgOiBiYXNlTmFtZS5zbGljZShzZXBhcmF0b3JJbmRleCArIDEpO1xufTtcbmdvb2cuc3RyaW5nLnBhdGguam9pbiA9IGZ1bmN0aW9uKHZhcl9hcmdzKSB7XG4gIGZvciAodmFyIHBhdGggPSBhcmd1bWVudHNbMF0sIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGFyZyA9IGFyZ3VtZW50c1tpXTtcbiAgICBwYXRoID0gZ29vZy5zdHJpbmcuc3RhcnRzV2l0aChhcmcsIFwiL1wiKSA/IGFyZyA6IFwiXCIgPT0gcGF0aCB8fCBnb29nLnN0cmluZy5lbmRzV2l0aChwYXRoLCBcIi9cIikgPyBwYXRoICsgYXJnIDogcGF0aCArIChcIi9cIiArIGFyZyk7XG4gIH1cbiAgcmV0dXJuIHBhdGg7XG59O1xuZ29vZy5zdHJpbmcucGF0aC5ub3JtYWxpemVQYXRoID0gZnVuY3Rpb24ocGF0aCkge1xuICBpZiAoXCJcIiA9PSBwYXRoKSB7XG4gICAgcmV0dXJuIFwiLlwiO1xuICB9XG4gIHZhciBpbml0aWFsU2xhc2hlcyA9IFwiXCI7XG4gIGdvb2cuc3RyaW5nLnN0YXJ0c1dpdGgocGF0aCwgXCIvXCIpICYmIChpbml0aWFsU2xhc2hlcyA9IFwiL1wiLCBnb29nLnN0cmluZy5zdGFydHNXaXRoKHBhdGgsIFwiLy9cIikgJiYgIWdvb2cuc3RyaW5nLnN0YXJ0c1dpdGgocGF0aCwgXCIvLy9cIikgJiYgKGluaXRpYWxTbGFzaGVzID0gXCIvL1wiKSk7XG4gIGZvciAodmFyIHBhcnRzID0gcGF0aC5zcGxpdChcIi9cIiksIG5ld1BhcnRzID0gW10sIGkgPSAwOyBpIDwgcGFydHMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgcGFydCA9IHBhcnRzW2ldO1xuICAgIFwiXCIgIT0gcGFydCAmJiBcIi5cIiAhPSBwYXJ0ICYmIChcIi4uXCIgIT0gcGFydCB8fCAhaW5pdGlhbFNsYXNoZXMgJiYgIW5ld1BhcnRzLmxlbmd0aCB8fCBcIi4uXCIgPT0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfcGVlayhuZXdQYXJ0cykgPyBuZXdQYXJ0cy5wdXNoKHBhcnQpIDogbmV3UGFydHMucG9wKCkpO1xuICB9XG4gIHJldHVybiBpbml0aWFsU2xhc2hlcyArIG5ld1BhcnRzLmpvaW4oXCIvXCIpIHx8IFwiLlwiO1xufTtcbmdvb2cuc3RyaW5nLnBhdGguc3BsaXQgPSBmdW5jdGlvbihwYXRoKSB7XG4gIHZhciBoZWFkID0gZ29vZy5zdHJpbmcucGF0aC5kaXJuYW1lKHBhdGgpLCB0YWlsID0gZ29vZy5zdHJpbmcucGF0aC5iYXNlTmFtZShwYXRoKTtcbiAgcmV0dXJuIFtoZWFkLCB0YWlsXTtcbn07XG52YXIgbW9kdWxlJGNvbnRlbnRzJGVlJGxheWVycyRDbG91ZFN0b3JhZ2VUaWxlU291cmNlX0Nsb3VkU3RvcmFnZVRpbGVTb3VyY2UgPSBmdW5jdGlvbihidWNrZXQsIHBhdGgsIG1heFpvb20sIG9wdF9zdWZmaXgpIHtcbiAgbW9kdWxlJGV4cG9ydHMkZWUkbGF5ZXJzJEFic3RyYWN0VGlsZVNvdXJjZS5jYWxsKHRoaXMpO1xuICB0aGlzLmJ1Y2tldF8gPSBidWNrZXQ7XG4gIHRoaXMucGF0aF8gPSBwYXRoO1xuICB0aGlzLnN1ZmZpeF8gPSBvcHRfc3VmZml4IHx8IFwiXCI7XG4gIHRoaXMubWF4Wm9vbV8gPSBtYXhab29tO1xufTtcbiRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGNvbnRlbnRzJGVlJGxheWVycyRDbG91ZFN0b3JhZ2VUaWxlU291cmNlX0Nsb3VkU3RvcmFnZVRpbGVTb3VyY2UsIG1vZHVsZSRleHBvcnRzJGVlJGxheWVycyRBYnN0cmFjdFRpbGVTb3VyY2UpO1xubW9kdWxlJGNvbnRlbnRzJGVlJGxheWVycyRDbG91ZFN0b3JhZ2VUaWxlU291cmNlX0Nsb3VkU3RvcmFnZVRpbGVTb3VyY2UucHJvdG90eXBlLmxvYWRUaWxlID0gZnVuY3Rpb24odGlsZSwgb3B0X3ByaW9yaXR5KSB7XG4gIGlmICh0aWxlLnpvb20gPD0gdGhpcy5tYXhab29tXykge1xuICAgIHRpbGUuc291cmNlVXJsID0gdGhpcy5nZXRUaWxlVXJsXyh0aWxlLmNvb3JkLCB0aWxlLnpvb20pO1xuICB9IGVsc2Uge1xuICAgIHZhciB6b29tU3RlcHMgPSB0aWxlLnpvb20gLSB0aGlzLm1heFpvb21fLCB6b29tRmFjdG9yID0gTWF0aC5wb3coMiwgem9vbVN0ZXBzKSwgdXBwZXJDb29yZCA9IG5ldyBnb29nbGUubWFwcy5Qb2ludChNYXRoLmZsb29yKHRpbGUuY29vcmQueCAvIHpvb21GYWN0b3IpLCBNYXRoLmZsb29yKHRpbGUuY29vcmQueSAvIHpvb21GYWN0b3IpKTtcbiAgICB0aWxlLnNvdXJjZVVybCA9IHRoaXMuZ2V0VGlsZVVybF8odXBwZXJDb29yZCwgdGlsZS56b29tIC0gem9vbVN0ZXBzKTtcbiAgICB0aWxlLnJlbmRlcmVyID0gZ29vZy5wYXJ0aWFsKG1vZHVsZSRjb250ZW50cyRlZSRsYXllcnMkQ2xvdWRTdG9yYWdlVGlsZVNvdXJjZV9DbG91ZFN0b3JhZ2VUaWxlU291cmNlLnpvb21UaWxlUmVuZGVyZXJfLCB0aGlzLm1heFpvb21fKTtcbiAgfVxuICB2YXIgb3JpZ2luYWxSZXRyeUxvYWQgPSBnb29nLmJpbmQodGlsZS5yZXRyeUxvYWQsIHRpbGUpO1xuICB0aWxlLnJldHJ5TG9hZCA9IGdvb2cuYmluZChmdW5jdGlvbihvcHRfZXJyb3JNZXNzYWdlKSB7XG4gICAgb3B0X2Vycm9yTWVzc2FnZSAmJiAob3B0X2Vycm9yTWVzc2FnZS5pbmNsdWRlcyhtb2R1bGUkY29udGVudHMkZWUkbGF5ZXJzJENsb3VkU3RvcmFnZVRpbGVTb3VyY2VfQ2xvdWRTdG9yYWdlVGlsZVNvdXJjZS5NSVNTSU5HX1RJTEVfRVJST1JfKSB8fCBvcHRfZXJyb3JNZXNzYWdlLmluY2x1ZGVzKG1vZHVsZSRjb250ZW50cyRlZSRsYXllcnMkQ2xvdWRTdG9yYWdlVGlsZVNvdXJjZV9DbG91ZFN0b3JhZ2VUaWxlU291cmNlLkFDQ0VTU19ERU5JRURfRVJST1JfKSkgPyB0aWxlLnNldFN0YXR1cyhlZS5sYXllcnMuQWJzdHJhY3RUaWxlLlN0YXR1cy5MT0FERUQpIDogb3JpZ2luYWxSZXRyeUxvYWQob3B0X2Vycm9yTWVzc2FnZSk7XG4gIH0sIHRpbGUpO1xuICB0aWxlLnN0YXJ0TG9hZCgpO1xufTtcbm1vZHVsZSRjb250ZW50cyRlZSRsYXllcnMkQ2xvdWRTdG9yYWdlVGlsZVNvdXJjZV9DbG91ZFN0b3JhZ2VUaWxlU291cmNlLnByb3RvdHlwZS5nZXRVbmlxdWVJZCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gW3RoaXMuYnVja2V0XywgdGhpcy5wYXRoXywgdGhpcy5tYXhab29tXywgdGhpcy5zdWZmaXhfXS5qb2luKFwiLVwiKTtcbn07XG5tb2R1bGUkY29udGVudHMkZWUkbGF5ZXJzJENsb3VkU3RvcmFnZVRpbGVTb3VyY2VfQ2xvdWRTdG9yYWdlVGlsZVNvdXJjZS5wcm90b3R5cGUuZ2V0VGlsZVVybF8gPSBmdW5jdGlvbihjb29yZCwgem9vbSkge1xuICB2YXIgdXJsID0gZ29vZy5zdHJpbmcucGF0aC5qb2luKG1vZHVsZSRjb250ZW50cyRlZSRsYXllcnMkQ2xvdWRTdG9yYWdlVGlsZVNvdXJjZV9DbG91ZFN0b3JhZ2VUaWxlU291cmNlLkJBU0VfVVJMLCB0aGlzLmJ1Y2tldF8sIHRoaXMucGF0aF8sIFN0cmluZyh6b29tKSwgU3RyaW5nKGNvb3JkLngpLCBTdHJpbmcoY29vcmQueSkpO1xuICB0aGlzLnN1ZmZpeF8gJiYgKHVybCArPSB0aGlzLnN1ZmZpeF8pO1xuICByZXR1cm4gdXJsO1xufTtcbm1vZHVsZSRjb250ZW50cyRlZSRsYXllcnMkQ2xvdWRTdG9yYWdlVGlsZVNvdXJjZV9DbG91ZFN0b3JhZ2VUaWxlU291cmNlLnpvb21UaWxlUmVuZGVyZXJfID0gZnVuY3Rpb24obWF4Wm9vbSwgdGlsZSkge1xuICBpZiAoIXRpbGUuaW1hZ2VFbCkge1xuICAgIHRocm93IEVycm9yKFwiVGlsZSBtdXN0IGhhdmUgYW4gaW1hZ2UgZWxlbWVudCB0byBiZSByZW5kZXJlZC5cIik7XG4gIH1cbiAgdmFyIHpvb21GYWN0b3IgPSBNYXRoLnBvdygyLCB0aWxlLnpvb20gLSBtYXhab29tKSwgc2lkZUxlbmd0aCA9IHRpbGUudGlsZVNpemUud2lkdGgsIGNhbnYgPSB0aWxlLmRpdi5vd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIik7XG4gIGNhbnYuc2V0QXR0cmlidXRlKFwid2lkdGhcIiwgc2lkZUxlbmd0aCk7XG4gIGNhbnYuc2V0QXR0cmlidXRlKFwiaGVpZ2h0XCIsIHNpZGVMZW5ndGgpO1xuICB0aWxlLmRpdi5hcHBlbmRDaGlsZChjYW52KTtcbiAgdmFyIGNvbnRleHQgPSBjYW52LmdldENvbnRleHQoXCIyZFwiKTtcbiAgY29udGV4dC5pbWFnZVNtb290aGluZ0VuYWJsZWQgPSAhMTtcbiAgY29udGV4dC5tb3pJbWFnZVNtb290aGluZ0VuYWJsZWQgPSAhMTtcbiAgY29udGV4dC53ZWJraXRJbWFnZVNtb290aGluZ0VuYWJsZWQgPSAhMTtcbiAgY29udGV4dC5kcmF3SW1hZ2UodGlsZS5pbWFnZUVsLCBzaWRlTGVuZ3RoIC8gem9vbUZhY3RvciAqICh0aWxlLmNvb3JkLnggJSB6b29tRmFjdG9yKSwgc2lkZUxlbmd0aCAvIHpvb21GYWN0b3IgKiAodGlsZS5jb29yZC55ICUgem9vbUZhY3RvciksIHNpZGVMZW5ndGggLyB6b29tRmFjdG9yLCBzaWRlTGVuZ3RoIC8gem9vbUZhY3RvciwgMCwgMCwgc2lkZUxlbmd0aCwgc2lkZUxlbmd0aCk7XG59O1xuZ29vZy5leHBvcnRTeW1ib2woXCJlZS5sYXllcnMuQ2xvdWRTdG9yYWdlVGlsZVNvdXJjZVwiLCBtb2R1bGUkY29udGVudHMkZWUkbGF5ZXJzJENsb3VkU3RvcmFnZVRpbGVTb3VyY2VfQ2xvdWRTdG9yYWdlVGlsZVNvdXJjZSk7XG5tb2R1bGUkY29udGVudHMkZWUkbGF5ZXJzJENsb3VkU3RvcmFnZVRpbGVTb3VyY2VfQ2xvdWRTdG9yYWdlVGlsZVNvdXJjZS5CQVNFX1VSTCA9IFwiaHR0cHM6Ly9zdG9yYWdlLmdvb2dsZWFwaXMuY29tXCI7XG5tb2R1bGUkY29udGVudHMkZWUkbGF5ZXJzJENsb3VkU3RvcmFnZVRpbGVTb3VyY2VfQ2xvdWRTdG9yYWdlVGlsZVNvdXJjZS5NSVNTSU5HX1RJTEVfRVJST1JfID0gXCJUaGUgc3BlY2lmaWVkIGtleSBkb2VzIG5vdCBleGlzdC5cIjtcbm1vZHVsZSRjb250ZW50cyRlZSRsYXllcnMkQ2xvdWRTdG9yYWdlVGlsZVNvdXJjZV9DbG91ZFN0b3JhZ2VUaWxlU291cmNlLkFDQ0VTU19ERU5JRURfRVJST1JfID0gXCJBY2Nlc3NEZW5pZWRcIjtcbmVlLmxheWVycy5DbG91ZFN0b3JhZ2VUaWxlU291cmNlID0gbW9kdWxlJGNvbnRlbnRzJGVlJGxheWVycyRDbG91ZFN0b3JhZ2VUaWxlU291cmNlX0Nsb3VkU3RvcmFnZVRpbGVTb3VyY2U7XG5nb29nLnN0cnVjdHMuUXVldWUgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5mcm9udF8gPSBbXTtcbiAgdGhpcy5iYWNrXyA9IFtdO1xufTtcbmdvb2cuc3RydWN0cy5RdWV1ZS5wcm90b3R5cGUubWF5YmVGbGlwXyA9IGZ1bmN0aW9uKCkge1xuICAwID09PSB0aGlzLmZyb250Xy5sZW5ndGggJiYgKHRoaXMuZnJvbnRfID0gdGhpcy5iYWNrXywgdGhpcy5mcm9udF8ucmV2ZXJzZSgpLCB0aGlzLmJhY2tfID0gW10pO1xufTtcbmdvb2cuc3RydWN0cy5RdWV1ZS5wcm90b3R5cGUuZW5xdWV1ZSA9IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgdGhpcy5iYWNrXy5wdXNoKGVsZW1lbnQpO1xufTtcbmdvb2cuc3RydWN0cy5RdWV1ZS5wcm90b3R5cGUuZGVxdWV1ZSA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLm1heWJlRmxpcF8oKTtcbiAgcmV0dXJuIHRoaXMuZnJvbnRfLnBvcCgpO1xufTtcbmdvb2cuc3RydWN0cy5RdWV1ZS5wcm90b3R5cGUucGVlayA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLm1heWJlRmxpcF8oKTtcbiAgcmV0dXJuIG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X3BlZWsodGhpcy5mcm9udF8pO1xufTtcbmdvb2cuc3RydWN0cy5RdWV1ZS5wcm90b3R5cGUuZ2V0Q291bnQgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuZnJvbnRfLmxlbmd0aCArIHRoaXMuYmFja18ubGVuZ3RoO1xufTtcbmdvb2cuc3RydWN0cy5RdWV1ZS5wcm90b3R5cGUuaXNFbXB0eSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gMCA9PT0gdGhpcy5mcm9udF8ubGVuZ3RoICYmIDAgPT09IHRoaXMuYmFja18ubGVuZ3RoO1xufTtcbmdvb2cuc3RydWN0cy5RdWV1ZS5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5mcm9udF8gPSBbXTtcbiAgdGhpcy5iYWNrXyA9IFtdO1xufTtcbmdvb2cuc3RydWN0cy5RdWV1ZS5wcm90b3R5cGUuY29udGFpbnMgPSBmdW5jdGlvbihvYmopIHtcbiAgcmV0dXJuIG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X2NvbnRhaW5zKHRoaXMuZnJvbnRfLCBvYmopIHx8IG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X2NvbnRhaW5zKHRoaXMuYmFja18sIG9iaik7XG59O1xuZ29vZy5zdHJ1Y3RzLlF1ZXVlLnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbihvYmopIHtcbiAgcmV0dXJuIG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X3JlbW92ZUxhc3QodGhpcy5mcm9udF8sIG9iaikgfHwgbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfcmVtb3ZlKHRoaXMuYmFja18sIG9iaik7XG59O1xuZ29vZy5zdHJ1Y3RzLlF1ZXVlLnByb3RvdHlwZS5nZXRWYWx1ZXMgPSBmdW5jdGlvbigpIHtcbiAgZm9yICh2YXIgcmVzID0gW10sIGkgPSB0aGlzLmZyb250Xy5sZW5ndGggLSAxOyAwIDw9IGk7IC0taSkge1xuICAgIHJlcy5wdXNoKHRoaXMuZnJvbnRfW2ldKTtcbiAgfVxuICB2YXIgbGVuID0gdGhpcy5iYWNrXy5sZW5ndGg7XG4gIGZvciAoaSA9IDA7IGkgPCBsZW47ICsraSkge1xuICAgIHJlcy5wdXNoKHRoaXMuYmFja19baV0pO1xuICB9XG4gIHJldHVybiByZXM7XG59O1xuZ29vZy5zdHJ1Y3RzLlBvb2wgPSBmdW5jdGlvbihvcHRfbWluQ291bnQsIG9wdF9tYXhDb3VudCkge1xuICBnb29nLkRpc3Bvc2FibGUuY2FsbCh0aGlzKTtcbiAgdGhpcy5taW5Db3VudF8gPSBvcHRfbWluQ291bnQgfHwgMDtcbiAgdGhpcy5tYXhDb3VudF8gPSBvcHRfbWF4Q291bnQgfHwgMTA7XG4gIGlmICh0aGlzLm1pbkNvdW50XyA+IHRoaXMubWF4Q291bnRfKSB7XG4gICAgdGhyb3cgRXJyb3IoZ29vZy5zdHJ1Y3RzLlBvb2wuRVJST1JfTUlOX01BWF8pO1xuICB9XG4gIHRoaXMuZnJlZVF1ZXVlXyA9IG5ldyBnb29nLnN0cnVjdHMuUXVldWUoKTtcbiAgdGhpcy5pblVzZVNldF8gPSBuZXcgZ29vZy5zdHJ1Y3RzLlNldCgpO1xuICB0aGlzLmRlbGF5ID0gMDtcbiAgdGhpcy5sYXN0QWNjZXNzID0gbnVsbDtcbiAgdGhpcy5hZGp1c3RGb3JNaW5NYXgoKTtcbn07XG5nb29nLmluaGVyaXRzKGdvb2cuc3RydWN0cy5Qb29sLCBnb29nLkRpc3Bvc2FibGUpO1xuZ29vZy5zdHJ1Y3RzLlBvb2wuRVJST1JfTUlOX01BWF8gPSBcIltnb29nLnN0cnVjdHMuUG9vbF0gTWluIGNhbiBub3QgYmUgZ3JlYXRlciB0aGFuIG1heFwiO1xuZ29vZy5zdHJ1Y3RzLlBvb2wuRVJST1JfRElTUE9TRV9VTlJFTEVBU0VEX09CSlNfID0gXCJbZ29vZy5zdHJ1Y3RzLlBvb2xdIE9iamVjdHMgbm90IHJlbGVhc2VkXCI7XG5nb29nLnN0cnVjdHMuUG9vbC5wcm90b3R5cGUuc2V0TWluaW11bUNvdW50ID0gZnVuY3Rpb24obWluKSB7XG4gIGlmIChtaW4gPiB0aGlzLm1heENvdW50Xykge1xuICAgIHRocm93IEVycm9yKGdvb2cuc3RydWN0cy5Qb29sLkVSUk9SX01JTl9NQVhfKTtcbiAgfVxuICB0aGlzLm1pbkNvdW50XyA9IG1pbjtcbiAgdGhpcy5hZGp1c3RGb3JNaW5NYXgoKTtcbn07XG5nb29nLnN0cnVjdHMuUG9vbC5wcm90b3R5cGUuc2V0TWF4aW11bUNvdW50ID0gZnVuY3Rpb24obWF4KSB7XG4gIGlmIChtYXggPCB0aGlzLm1pbkNvdW50Xykge1xuICAgIHRocm93IEVycm9yKGdvb2cuc3RydWN0cy5Qb29sLkVSUk9SX01JTl9NQVhfKTtcbiAgfVxuICB0aGlzLm1heENvdW50XyA9IG1heDtcbiAgdGhpcy5hZGp1c3RGb3JNaW5NYXgoKTtcbn07XG5nb29nLnN0cnVjdHMuUG9vbC5wcm90b3R5cGUuc2V0RGVsYXkgPSBmdW5jdGlvbihkZWxheSkge1xuICB0aGlzLmRlbGF5ID0gZGVsYXk7XG59O1xuZ29vZy5zdHJ1Y3RzLlBvb2wucHJvdG90eXBlLmdldE9iamVjdCA9IGZ1bmN0aW9uKCkge1xuICB2YXIgdGltZSA9IERhdGUubm93KCk7XG4gIGlmICghKG51bGwgIT0gdGhpcy5sYXN0QWNjZXNzICYmIHRpbWUgLSB0aGlzLmxhc3RBY2Nlc3MgPCB0aGlzLmRlbGF5KSkge1xuICAgIHZhciBvYmogPSB0aGlzLnJlbW92ZUZyZWVPYmplY3RfKCk7XG4gICAgb2JqICYmICh0aGlzLmxhc3RBY2Nlc3MgPSB0aW1lLCB0aGlzLmluVXNlU2V0Xy5hZGQob2JqKSk7XG4gICAgcmV0dXJuIG9iajtcbiAgfVxufTtcbmdvb2cuc3RydWN0cy5Qb29sLnByb3RvdHlwZS5yZWxlYXNlT2JqZWN0ID0gZnVuY3Rpb24ob2JqKSB7XG4gIHJldHVybiB0aGlzLmluVXNlU2V0Xy5yZW1vdmUob2JqKSA/ICh0aGlzLmFkZEZyZWVPYmplY3Qob2JqKSwgITApIDogITE7XG59O1xuZ29vZy5zdHJ1Y3RzLlBvb2wucHJvdG90eXBlLnJlbW92ZUZyZWVPYmplY3RfID0gZnVuY3Rpb24oKSB7XG4gIGZvciAodmFyIG9iajsgMCA8IHRoaXMuZ2V0RnJlZUNvdW50KCkgJiYgKG9iaiA9IHRoaXMuZnJlZVF1ZXVlXy5kZXF1ZXVlKCksICF0aGlzLm9iamVjdENhbkJlUmV1c2VkKG9iaikpOykge1xuICAgIHRoaXMuYWRqdXN0Rm9yTWluTWF4KCk7XG4gIH1cbiAgIW9iaiAmJiB0aGlzLmdldENvdW50KCkgPCB0aGlzLm1heENvdW50XyAmJiAob2JqID0gdGhpcy5jcmVhdGVPYmplY3QoKSk7XG4gIHJldHVybiBvYmo7XG59O1xuZ29vZy5zdHJ1Y3RzLlBvb2wucHJvdG90eXBlLmFkZEZyZWVPYmplY3QgPSBmdW5jdGlvbihvYmopIHtcbiAgdGhpcy5pblVzZVNldF8ucmVtb3ZlKG9iaik7XG4gIHRoaXMub2JqZWN0Q2FuQmVSZXVzZWQob2JqKSAmJiB0aGlzLmdldENvdW50KCkgPCB0aGlzLm1heENvdW50XyA/IHRoaXMuZnJlZVF1ZXVlXy5lbnF1ZXVlKG9iaikgOiB0aGlzLmRpc3Bvc2VPYmplY3Qob2JqKTtcbn07XG5nb29nLnN0cnVjdHMuUG9vbC5wcm90b3R5cGUuYWRqdXN0Rm9yTWluTWF4ID0gZnVuY3Rpb24oKSB7XG4gIGZvciAodmFyIGZyZWVRdWV1ZSA9IHRoaXMuZnJlZVF1ZXVlXzsgdGhpcy5nZXRDb3VudCgpIDwgdGhpcy5taW5Db3VudF87KSB7XG4gICAgZnJlZVF1ZXVlLmVucXVldWUodGhpcy5jcmVhdGVPYmplY3QoKSk7XG4gIH1cbiAgZm9yICg7IHRoaXMuZ2V0Q291bnQoKSA+IHRoaXMubWF4Q291bnRfICYmIDAgPCB0aGlzLmdldEZyZWVDb3VudCgpOykge1xuICAgIHRoaXMuZGlzcG9zZU9iamVjdChmcmVlUXVldWUuZGVxdWV1ZSgpKTtcbiAgfVxufTtcbmdvb2cuc3RydWN0cy5Qb29sLnByb3RvdHlwZS5jcmVhdGVPYmplY3QgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHt9O1xufTtcbmdvb2cuc3RydWN0cy5Qb29sLnByb3RvdHlwZS5kaXNwb3NlT2JqZWN0ID0gZnVuY3Rpb24ob2JqKSB7XG4gIGlmIChcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIG9iai5kaXNwb3NlKSB7XG4gICAgb2JqLmRpc3Bvc2UoKTtcbiAgfSBlbHNlIHtcbiAgICBmb3IgKHZhciBpIGluIG9iaikge1xuICAgICAgb2JqW2ldID0gbnVsbDtcbiAgICB9XG4gIH1cbn07XG5nb29nLnN0cnVjdHMuUG9vbC5wcm90b3R5cGUub2JqZWN0Q2FuQmVSZXVzZWQgPSBmdW5jdGlvbihvYmopIHtcbiAgcmV0dXJuIFwiZnVuY3Rpb25cIiA9PSB0eXBlb2Ygb2JqLmNhbkJlUmV1c2VkID8gb2JqLmNhbkJlUmV1c2VkKCkgOiAhMDtcbn07XG5nb29nLnN0cnVjdHMuUG9vbC5wcm90b3R5cGUuY29udGFpbnMgPSBmdW5jdGlvbihvYmopIHtcbiAgcmV0dXJuIHRoaXMuZnJlZVF1ZXVlXy5jb250YWlucyhvYmopIHx8IHRoaXMuaW5Vc2VTZXRfLmNvbnRhaW5zKG9iaik7XG59O1xuZ29vZy5zdHJ1Y3RzLlBvb2wucHJvdG90eXBlLmdldENvdW50ID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLmZyZWVRdWV1ZV8uZ2V0Q291bnQoKSArIHRoaXMuaW5Vc2VTZXRfLmdldENvdW50KCk7XG59O1xuZ29vZy5zdHJ1Y3RzLlBvb2wucHJvdG90eXBlLmdldEluVXNlQ291bnQgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuaW5Vc2VTZXRfLmdldENvdW50KCk7XG59O1xuZ29vZy5zdHJ1Y3RzLlBvb2wucHJvdG90eXBlLmdldEZyZWVDb3VudCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5mcmVlUXVldWVfLmdldENvdW50KCk7XG59O1xuZ29vZy5zdHJ1Y3RzLlBvb2wucHJvdG90eXBlLmlzRW1wdHkgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuZnJlZVF1ZXVlXy5pc0VtcHR5KCkgJiYgdGhpcy5pblVzZVNldF8uaXNFbXB0eSgpO1xufTtcbmdvb2cuc3RydWN0cy5Qb29sLnByb3RvdHlwZS5kaXNwb3NlSW50ZXJuYWwgPSBmdW5jdGlvbigpIHtcbiAgZ29vZy5zdHJ1Y3RzLlBvb2wuc3VwZXJDbGFzc18uZGlzcG9zZUludGVybmFsLmNhbGwodGhpcyk7XG4gIGlmICgwIDwgdGhpcy5nZXRJblVzZUNvdW50KCkpIHtcbiAgICB0aHJvdyBFcnJvcihnb29nLnN0cnVjdHMuUG9vbC5FUlJPUl9ESVNQT1NFX1VOUkVMRUFTRURfT0JKU18pO1xuICB9XG4gIGRlbGV0ZSB0aGlzLmluVXNlU2V0XztcbiAgZm9yICh2YXIgZnJlZVF1ZXVlID0gdGhpcy5mcmVlUXVldWVfOyAhZnJlZVF1ZXVlLmlzRW1wdHkoKTspIHtcbiAgICB0aGlzLmRpc3Bvc2VPYmplY3QoZnJlZVF1ZXVlLmRlcXVldWUoKSk7XG4gIH1cbiAgZGVsZXRlIHRoaXMuZnJlZVF1ZXVlXztcbn07XG5nb29nLnN0cnVjdHMuTm9kZSA9IGZ1bmN0aW9uKGtleSwgdmFsdWUpIHtcbiAgdGhpcy5rZXlfID0ga2V5O1xuICB0aGlzLnZhbHVlXyA9IHZhbHVlO1xufTtcbmdvb2cuc3RydWN0cy5Ob2RlLnByb3RvdHlwZS5nZXRLZXkgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMua2V5Xztcbn07XG5nb29nLnN0cnVjdHMuTm9kZS5wcm90b3R5cGUuZ2V0VmFsdWUgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMudmFsdWVfO1xufTtcbmdvb2cuc3RydWN0cy5Ob2RlLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbmV3IGdvb2cuc3RydWN0cy5Ob2RlKHRoaXMua2V5XywgdGhpcy52YWx1ZV8pO1xufTtcbnZhciBtb2R1bGUkY29udGVudHMkZ29vZyRzdHJ1Y3RzJEhlYXBfSGVhcCA9IGZ1bmN0aW9uKG9wdF9oZWFwKSB7XG4gIHRoaXMubm9kZXNfID0gW107XG4gIG9wdF9oZWFwICYmIHRoaXMuaW5zZXJ0QWxsKG9wdF9oZWFwKTtcbn07XG5tb2R1bGUkY29udGVudHMkZ29vZyRzdHJ1Y3RzJEhlYXBfSGVhcC5wcm90b3R5cGUuaW5zZXJ0ID0gZnVuY3Rpb24oa2V5LCB2YWx1ZSkge1xuICB2YXIgbm9kZSA9IG5ldyBnb29nLnN0cnVjdHMuTm9kZShrZXksIHZhbHVlKSwgbm9kZXMgPSB0aGlzLm5vZGVzXztcbiAgbm9kZXMucHVzaChub2RlKTtcbiAgdGhpcy5tb3ZlVXBfKG5vZGVzLmxlbmd0aCAtIDEpO1xufTtcbm1vZHVsZSRjb250ZW50cyRnb29nJHN0cnVjdHMkSGVhcF9IZWFwLnByb3RvdHlwZS5pbnNlcnRBbGwgPSBmdW5jdGlvbihoZWFwKSB7XG4gIGlmIChoZWFwIGluc3RhbmNlb2YgbW9kdWxlJGNvbnRlbnRzJGdvb2ckc3RydWN0cyRIZWFwX0hlYXApIHtcbiAgICB2YXIga2V5cyA9IGhlYXAuZ2V0S2V5cygpO1xuICAgIHZhciB2YWx1ZXMgPSBoZWFwLmdldFZhbHVlcygpO1xuICAgIGlmICgwID49IHRoaXMuZ2V0Q291bnQoKSkge1xuICAgICAgZm9yICh2YXIgbm9kZXMgPSB0aGlzLm5vZGVzXywgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIG5vZGVzLnB1c2gobmV3IGdvb2cuc3RydWN0cy5Ob2RlKGtleXNbaV0sIHZhbHVlc1tpXSkpO1xuICAgICAgfVxuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBrZXlzID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckb2JqZWN0X2dldEtleXMoaGVhcCksIHZhbHVlcyA9IG1vZHVsZSRjb250ZW50cyRnb29nJG9iamVjdF9nZXRWYWx1ZXMoaGVhcCk7XG4gIH1cbiAgZm9yICh2YXIgaSQ3MSA9IDA7IGkkNzEgPCBrZXlzLmxlbmd0aDsgaSQ3MSsrKSB7XG4gICAgdGhpcy5pbnNlcnQoa2V5c1tpJDcxXSwgdmFsdWVzW2kkNzFdKTtcbiAgfVxufTtcbm1vZHVsZSRjb250ZW50cyRnb29nJHN0cnVjdHMkSGVhcF9IZWFwLnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbigpIHtcbiAgdmFyIG5vZGVzID0gdGhpcy5ub2Rlc18sIGNvdW50ID0gbm9kZXMubGVuZ3RoLCByb290Tm9kZSA9IG5vZGVzWzBdO1xuICBpZiAoISgwID49IGNvdW50KSkge1xuICAgIHJldHVybiAxID09IGNvdW50ID8gbm9kZXMubGVuZ3RoID0gMCA6IChub2Rlc1swXSA9IG5vZGVzLnBvcCgpLCB0aGlzLm1vdmVEb3duXygwKSksIHJvb3ROb2RlLmdldFZhbHVlKCk7XG4gIH1cbn07XG5tb2R1bGUkY29udGVudHMkZ29vZyRzdHJ1Y3RzJEhlYXBfSGVhcC5wcm90b3R5cGUucGVlayA9IGZ1bmN0aW9uKCkge1xuICB2YXIgbm9kZXMgPSB0aGlzLm5vZGVzXztcbiAgaWYgKDAgIT0gbm9kZXMubGVuZ3RoKSB7XG4gICAgcmV0dXJuIG5vZGVzWzBdLmdldFZhbHVlKCk7XG4gIH1cbn07XG5tb2R1bGUkY29udGVudHMkZ29vZyRzdHJ1Y3RzJEhlYXBfSGVhcC5wcm90b3R5cGUucGVla0tleSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5ub2Rlc19bMF0gJiYgdGhpcy5ub2Rlc19bMF0uZ2V0S2V5KCk7XG59O1xubW9kdWxlJGNvbnRlbnRzJGdvb2ckc3RydWN0cyRIZWFwX0hlYXAucHJvdG90eXBlLm1vdmVEb3duXyA9IGZ1bmN0aW9uKGluZGV4KSB7XG4gIGZvciAodmFyIG5vZGVzID0gdGhpcy5ub2Rlc18sIGNvdW50ID0gbm9kZXMubGVuZ3RoLCBub2RlID0gbm9kZXNbaW5kZXhdOyBpbmRleCA8IGNvdW50ID4+IDE7KSB7XG4gICAgdmFyIGxlZnRDaGlsZEluZGV4ID0gdGhpcy5nZXRMZWZ0Q2hpbGRJbmRleF8oaW5kZXgpLCByaWdodENoaWxkSW5kZXggPSB0aGlzLmdldFJpZ2h0Q2hpbGRJbmRleF8oaW5kZXgpLCBzbWFsbGVyQ2hpbGRJbmRleCA9IHJpZ2h0Q2hpbGRJbmRleCA8IGNvdW50ICYmIG5vZGVzW3JpZ2h0Q2hpbGRJbmRleF0uZ2V0S2V5KCkgPCBub2Rlc1tsZWZ0Q2hpbGRJbmRleF0uZ2V0S2V5KCkgPyByaWdodENoaWxkSW5kZXggOiBsZWZ0Q2hpbGRJbmRleDtcbiAgICBpZiAobm9kZXNbc21hbGxlckNoaWxkSW5kZXhdLmdldEtleSgpID4gbm9kZS5nZXRLZXkoKSkge1xuICAgICAgYnJlYWs7XG4gICAgfVxuICAgIG5vZGVzW2luZGV4XSA9IG5vZGVzW3NtYWxsZXJDaGlsZEluZGV4XTtcbiAgICBpbmRleCA9IHNtYWxsZXJDaGlsZEluZGV4O1xuICB9XG4gIG5vZGVzW2luZGV4XSA9IG5vZGU7XG59O1xubW9kdWxlJGNvbnRlbnRzJGdvb2ckc3RydWN0cyRIZWFwX0hlYXAucHJvdG90eXBlLm1vdmVVcF8gPSBmdW5jdGlvbihpbmRleCkge1xuICBmb3IgKHZhciBub2RlcyA9IHRoaXMubm9kZXNfLCBub2RlID0gbm9kZXNbaW5kZXhdOyAwIDwgaW5kZXg7KSB7XG4gICAgdmFyIHBhcmVudEluZGV4ID0gdGhpcy5nZXRQYXJlbnRJbmRleF8oaW5kZXgpO1xuICAgIGlmIChub2Rlc1twYXJlbnRJbmRleF0uZ2V0S2V5KCkgPiBub2RlLmdldEtleSgpKSB7XG4gICAgICBub2Rlc1tpbmRleF0gPSBub2Rlc1twYXJlbnRJbmRleF0sIGluZGV4ID0gcGFyZW50SW5kZXg7XG4gICAgfSBlbHNlIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuICBub2Rlc1tpbmRleF0gPSBub2RlO1xufTtcbm1vZHVsZSRjb250ZW50cyRnb29nJHN0cnVjdHMkSGVhcF9IZWFwLnByb3RvdHlwZS5nZXRMZWZ0Q2hpbGRJbmRleF8gPSBmdW5jdGlvbihpbmRleCkge1xuICByZXR1cm4gMiAqIGluZGV4ICsgMTtcbn07XG5tb2R1bGUkY29udGVudHMkZ29vZyRzdHJ1Y3RzJEhlYXBfSGVhcC5wcm90b3R5cGUuZ2V0UmlnaHRDaGlsZEluZGV4XyA9IGZ1bmN0aW9uKGluZGV4KSB7XG4gIHJldHVybiAyICogaW5kZXggKyAyO1xufTtcbm1vZHVsZSRjb250ZW50cyRnb29nJHN0cnVjdHMkSGVhcF9IZWFwLnByb3RvdHlwZS5nZXRQYXJlbnRJbmRleF8gPSBmdW5jdGlvbihpbmRleCkge1xuICByZXR1cm4gaW5kZXggLSAxID4+IDE7XG59O1xubW9kdWxlJGNvbnRlbnRzJGdvb2ckc3RydWN0cyRIZWFwX0hlYXAucHJvdG90eXBlLmdldFZhbHVlcyA9IGZ1bmN0aW9uKCkge1xuICBmb3IgKHZhciBub2RlcyA9IHRoaXMubm9kZXNfLCBydiA9IFtdLCBsID0gbm9kZXMubGVuZ3RoLCBpID0gMDsgaSA8IGw7IGkrKykge1xuICAgIHJ2LnB1c2gobm9kZXNbaV0uZ2V0VmFsdWUoKSk7XG4gIH1cbiAgcmV0dXJuIHJ2O1xufTtcbm1vZHVsZSRjb250ZW50cyRnb29nJHN0cnVjdHMkSGVhcF9IZWFwLnByb3RvdHlwZS5nZXRLZXlzID0gZnVuY3Rpb24oKSB7XG4gIGZvciAodmFyIG5vZGVzID0gdGhpcy5ub2Rlc18sIHJ2ID0gW10sIGwgPSBub2Rlcy5sZW5ndGgsIGkgPSAwOyBpIDwgbDsgaSsrKSB7XG4gICAgcnYucHVzaChub2Rlc1tpXS5nZXRLZXkoKSk7XG4gIH1cbiAgcmV0dXJuIHJ2O1xufTtcbm1vZHVsZSRjb250ZW50cyRnb29nJHN0cnVjdHMkSGVhcF9IZWFwLnByb3RvdHlwZS5jb250YWluc1ZhbHVlID0gZnVuY3Rpb24odmFsKSB7XG4gIHJldHVybiB0aGlzLm5vZGVzXy5zb21lKGZ1bmN0aW9uKG5vZGUpIHtcbiAgICByZXR1cm4gbm9kZS5nZXRWYWx1ZSgpID09IHZhbDtcbiAgfSk7XG59O1xubW9kdWxlJGNvbnRlbnRzJGdvb2ckc3RydWN0cyRIZWFwX0hlYXAucHJvdG90eXBlLmNvbnRhaW5zS2V5ID0gZnVuY3Rpb24oa2V5KSB7XG4gIHJldHVybiB0aGlzLm5vZGVzXy5zb21lKGZ1bmN0aW9uKG5vZGUpIHtcbiAgICByZXR1cm4gbm9kZS5nZXRLZXkoKSA9PSBrZXk7XG4gIH0pO1xufTtcbm1vZHVsZSRjb250ZW50cyRnb29nJHN0cnVjdHMkSGVhcF9IZWFwLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbmV3IG1vZHVsZSRjb250ZW50cyRnb29nJHN0cnVjdHMkSGVhcF9IZWFwKHRoaXMpO1xufTtcbm1vZHVsZSRjb250ZW50cyRnb29nJHN0cnVjdHMkSGVhcF9IZWFwLnByb3RvdHlwZS5nZXRDb3VudCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5ub2Rlc18ubGVuZ3RoO1xufTtcbm1vZHVsZSRjb250ZW50cyRnb29nJHN0cnVjdHMkSGVhcF9IZWFwLnByb3RvdHlwZS5pc0VtcHR5ID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiAwID09PSB0aGlzLm5vZGVzXy5sZW5ndGg7XG59O1xubW9kdWxlJGNvbnRlbnRzJGdvb2ckc3RydWN0cyRIZWFwX0hlYXAucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMubm9kZXNfLmxlbmd0aCA9IDA7XG59O1xuZ29vZy5zdHJ1Y3RzLkhlYXAgPSBtb2R1bGUkY29udGVudHMkZ29vZyRzdHJ1Y3RzJEhlYXBfSGVhcDtcbnZhciBtb2R1bGUkY29udGVudHMkZ29vZyRzdHJ1Y3RzJFByaW9yaXR5UXVldWVfUHJpb3JpdHlRdWV1ZSA9IGZ1bmN0aW9uKCkge1xuICBtb2R1bGUkY29udGVudHMkZ29vZyRzdHJ1Y3RzJEhlYXBfSGVhcC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufTtcbiRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGNvbnRlbnRzJGdvb2ckc3RydWN0cyRQcmlvcml0eVF1ZXVlX1ByaW9yaXR5UXVldWUsIG1vZHVsZSRjb250ZW50cyRnb29nJHN0cnVjdHMkSGVhcF9IZWFwKTtcbm1vZHVsZSRjb250ZW50cyRnb29nJHN0cnVjdHMkUHJpb3JpdHlRdWV1ZV9Qcmlvcml0eVF1ZXVlLnByb3RvdHlwZS5lbnF1ZXVlID0gZnVuY3Rpb24ocHJpb3JpdHksIHZhbHVlKSB7XG4gIHRoaXMuaW5zZXJ0KHByaW9yaXR5LCB2YWx1ZSk7XG59O1xubW9kdWxlJGNvbnRlbnRzJGdvb2ckc3RydWN0cyRQcmlvcml0eVF1ZXVlX1ByaW9yaXR5UXVldWUucHJvdG90eXBlLmRlcXVldWUgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMucmVtb3ZlKCk7XG59O1xuZ29vZy5zdHJ1Y3RzLlByaW9yaXR5UXVldWUgPSBtb2R1bGUkY29udGVudHMkZ29vZyRzdHJ1Y3RzJFByaW9yaXR5UXVldWVfUHJpb3JpdHlRdWV1ZTtcbmdvb2cuc3RydWN0cy5Qcmlvcml0eVBvb2wgPSBmdW5jdGlvbihvcHRfbWluQ291bnQsIG9wdF9tYXhDb3VudCkge1xuICB0aGlzLmRlbGF5VGltZW91dF8gPSB2b2lkIDA7XG4gIHRoaXMucmVxdWVzdFF1ZXVlXyA9IG5ldyBtb2R1bGUkY29udGVudHMkZ29vZyRzdHJ1Y3RzJFByaW9yaXR5UXVldWVfUHJpb3JpdHlRdWV1ZSgpO1xuICBnb29nLnN0cnVjdHMuUG9vbC5jYWxsKHRoaXMsIG9wdF9taW5Db3VudCwgb3B0X21heENvdW50KTtcbn07XG5nb29nLmluaGVyaXRzKGdvb2cuc3RydWN0cy5Qcmlvcml0eVBvb2wsIGdvb2cuc3RydWN0cy5Qb29sKTtcbmdvb2cuc3RydWN0cy5Qcmlvcml0eVBvb2wuREVGQVVMVF9QUklPUklUWV8gPSAxMDA7XG5nb29nLnN0cnVjdHMuUHJpb3JpdHlQb29sLnByb3RvdHlwZS5zZXREZWxheSA9IGZ1bmN0aW9uKGRlbGF5KSB7XG4gIGdvb2cuc3RydWN0cy5Qcmlvcml0eVBvb2wuc3VwZXJDbGFzc18uc2V0RGVsYXkuY2FsbCh0aGlzLCBkZWxheSk7XG4gIG51bGwgIT0gdGhpcy5sYXN0QWNjZXNzICYmIChnb29nLmdsb2JhbC5jbGVhclRpbWVvdXQodGhpcy5kZWxheVRpbWVvdXRfKSwgdGhpcy5kZWxheVRpbWVvdXRfID0gZ29vZy5nbG9iYWwuc2V0VGltZW91dChnb29nLmJpbmQodGhpcy5oYW5kbGVRdWV1ZVJlcXVlc3RzXywgdGhpcyksIHRoaXMuZGVsYXkgKyB0aGlzLmxhc3RBY2Nlc3MgLSBEYXRlLm5vdygpKSwgdGhpcy5oYW5kbGVRdWV1ZVJlcXVlc3RzXygpKTtcbn07XG5nb29nLnN0cnVjdHMuUHJpb3JpdHlQb29sLnByb3RvdHlwZS5nZXRPYmplY3QgPSBmdW5jdGlvbihvcHRfY2FsbGJhY2ssIG9wdF9wcmlvcml0eSkge1xuICBpZiAoIW9wdF9jYWxsYmFjaykge1xuICAgIHZhciByZXN1bHQgPSBnb29nLnN0cnVjdHMuUHJpb3JpdHlQb29sLnN1cGVyQ2xhc3NfLmdldE9iamVjdC5jYWxsKHRoaXMpO1xuICAgIHJlc3VsdCAmJiB0aGlzLmRlbGF5ICYmICh0aGlzLmRlbGF5VGltZW91dF8gPSBnb29nLmdsb2JhbC5zZXRUaW1lb3V0KGdvb2cuYmluZCh0aGlzLmhhbmRsZVF1ZXVlUmVxdWVzdHNfLCB0aGlzKSwgdGhpcy5kZWxheSkpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbiAgdGhpcy5yZXF1ZXN0UXVldWVfLmVucXVldWUodm9pZCAwICE9PSBvcHRfcHJpb3JpdHkgPyBvcHRfcHJpb3JpdHkgOiBnb29nLnN0cnVjdHMuUHJpb3JpdHlQb29sLkRFRkFVTFRfUFJJT1JJVFlfLCBvcHRfY2FsbGJhY2spO1xuICB0aGlzLmhhbmRsZVF1ZXVlUmVxdWVzdHNfKCk7XG59O1xuZ29vZy5zdHJ1Y3RzLlByaW9yaXR5UG9vbC5wcm90b3R5cGUuaGFuZGxlUXVldWVSZXF1ZXN0c18gPSBmdW5jdGlvbigpIHtcbiAgZm9yICh2YXIgcmVxdWVzdFF1ZXVlID0gdGhpcy5yZXF1ZXN0UXVldWVfOyAwIDwgcmVxdWVzdFF1ZXVlLmdldENvdW50KCk7KSB7XG4gICAgdmFyIG9iaiA9IHRoaXMuZ2V0T2JqZWN0KCk7XG4gICAgaWYgKG9iaikge1xuICAgICAgcmVxdWVzdFF1ZXVlLmRlcXVldWUoKS5hcHBseSh0aGlzLCBbb2JqXSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxufTtcbmdvb2cuc3RydWN0cy5Qcmlvcml0eVBvb2wucHJvdG90eXBlLmFkZEZyZWVPYmplY3QgPSBmdW5jdGlvbihvYmopIHtcbiAgZ29vZy5zdHJ1Y3RzLlByaW9yaXR5UG9vbC5zdXBlckNsYXNzXy5hZGRGcmVlT2JqZWN0LmNhbGwodGhpcywgb2JqKTtcbiAgdGhpcy5oYW5kbGVRdWV1ZVJlcXVlc3RzXygpO1xufTtcbmdvb2cuc3RydWN0cy5Qcmlvcml0eVBvb2wucHJvdG90eXBlLmFkanVzdEZvck1pbk1heCA9IGZ1bmN0aW9uKCkge1xuICBnb29nLnN0cnVjdHMuUHJpb3JpdHlQb29sLnN1cGVyQ2xhc3NfLmFkanVzdEZvck1pbk1heC5jYWxsKHRoaXMpO1xuICB0aGlzLmhhbmRsZVF1ZXVlUmVxdWVzdHNfKCk7XG59O1xuZ29vZy5zdHJ1Y3RzLlByaW9yaXR5UG9vbC5wcm90b3R5cGUuZGlzcG9zZUludGVybmFsID0gZnVuY3Rpb24oKSB7XG4gIGdvb2cuc3RydWN0cy5Qcmlvcml0eVBvb2wuc3VwZXJDbGFzc18uZGlzcG9zZUludGVybmFsLmNhbGwodGhpcyk7XG4gIGdvb2cuZ2xvYmFsLmNsZWFyVGltZW91dCh0aGlzLmRlbGF5VGltZW91dF8pO1xuICB0aGlzLnJlcXVlc3RRdWV1ZV8uY2xlYXIoKTtcbiAgdGhpcy5yZXF1ZXN0UXVldWVfID0gbnVsbDtcbn07XG52YXIgbW9kdWxlJGNvbnRlbnRzJGVlJGxheWVycyRFYXJ0aEVuZ2luZVRpbGVTb3VyY2VfRWFydGhFbmdpbmVUaWxlU291cmNlID0gZnVuY3Rpb24obWFwSWQsIG9wdF9wcm9maWxlcikge1xuICBtb2R1bGUkZXhwb3J0cyRlZSRsYXllcnMkQWJzdHJhY3RUaWxlU291cmNlLmNhbGwodGhpcyk7XG4gIHRoaXMubWFwSWRfID0gbWFwSWQ7XG4gIHRoaXMucHJvZmlsZXJfID0gb3B0X3Byb2ZpbGVyIHx8IG51bGw7XG59O1xuJGpzY29tcC5pbmhlcml0cyhtb2R1bGUkY29udGVudHMkZWUkbGF5ZXJzJEVhcnRoRW5naW5lVGlsZVNvdXJjZV9FYXJ0aEVuZ2luZVRpbGVTb3VyY2UsIG1vZHVsZSRleHBvcnRzJGVlJGxheWVycyRBYnN0cmFjdFRpbGVTb3VyY2UpO1xubW9kdWxlJGNvbnRlbnRzJGVlJGxheWVycyRFYXJ0aEVuZ2luZVRpbGVTb3VyY2VfRWFydGhFbmdpbmVUaWxlU291cmNlLnByb3RvdHlwZS5sb2FkVGlsZSA9IGZ1bmN0aW9uKHRpbGUsIG9wdF9wcmlvcml0eSkge1xuICB2YXIgUHJvZmlsZXJIZWFkZXIgPSBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5QUk9GSUxFX0hFQURFUi50b0xvd2VyQ2FzZSgpLCBrZXkgPSBnb29nLmV2ZW50cy5saXN0ZW4odGlsZSwgZWUubGF5ZXJzLkFic3RyYWN0VGlsZS5FdmVudFR5cGUuU1RBVFVTX0NIQU5HRUQsIGZ1bmN0aW9uKCkge1xuICAgIHN3aXRjaCh0aWxlLmdldFN0YXR1cygpKSB7XG4gICAgICBjYXNlIGVlLmxheWVycy5BYnN0cmFjdFRpbGUuU3RhdHVzLkxPQURFRDpcbiAgICAgICAgdmFyIHByb2ZpbGVJZCA9IHRpbGUuc291cmNlUmVzcG9uc2VIZWFkZXJzW1Byb2ZpbGVySGVhZGVyXTtcbiAgICAgICAgdGhpcy5wcm9maWxlcl8gJiYgcHJvZmlsZUlkICYmIHRoaXMucHJvZmlsZXJfLmFkZFRpbGUodGlsZS5kaXYuaWQsIHByb2ZpbGVJZCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBlZS5sYXllcnMuQWJzdHJhY3RUaWxlLlN0YXR1cy5GQUlMRUQ6XG4gICAgICBjYXNlIGVlLmxheWVycy5BYnN0cmFjdFRpbGUuU3RhdHVzLkFCT1JURUQ6XG4gICAgICAgIHRoaXMucHJvZmlsZXJfICYmIFwiXCIgIT09IHRpbGUuZGl2LmlkICYmIHRoaXMucHJvZmlsZXJfLnJlbW92ZVRpbGUodGlsZS5kaXYuaWQpLCBnb29nLmV2ZW50cy51bmxpc3RlbkJ5S2V5KGtleSk7XG4gICAgfVxuICB9LCB2b2lkIDAsIHRoaXMpO1xuICB0aWxlLnNvdXJjZVVybCA9IHRoaXMuZ2V0VGlsZVVybF8odGlsZS5jb29yZCwgdGlsZS56b29tKTtcbiAgdmFyIGhhbmRsZUF2YWlsYWJsZVRva2VuID0gZ29vZy5iaW5kKHRoaXMuaGFuZGxlQXZhaWxhYmxlVG9rZW5fLCB0aGlzLCB0aWxlKTtcbiAgbW9kdWxlJGNvbnRlbnRzJGVlJGxheWVycyRFYXJ0aEVuZ2luZVRpbGVTb3VyY2VfRWFydGhFbmdpbmVUaWxlU291cmNlLmdldEdsb2JhbFRva2VuUG9vbF8oKS5nZXRPYmplY3QoaGFuZGxlQXZhaWxhYmxlVG9rZW4sIG9wdF9wcmlvcml0eSk7XG59O1xubW9kdWxlJGNvbnRlbnRzJGVlJGxheWVycyRFYXJ0aEVuZ2luZVRpbGVTb3VyY2VfRWFydGhFbmdpbmVUaWxlU291cmNlLnByb3RvdHlwZS5nZXRVbmlxdWVJZCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5tYXBJZF8ubWFwaWQgKyBcIi1cIiArIHRoaXMubWFwSWRfLnRva2VuO1xufTtcbm1vZHVsZSRjb250ZW50cyRlZSRsYXllcnMkRWFydGhFbmdpbmVUaWxlU291cmNlX0VhcnRoRW5naW5lVGlsZVNvdXJjZS5wcm90b3R5cGUuaGFuZGxlQXZhaWxhYmxlVG9rZW5fID0gZnVuY3Rpb24odGlsZSwgdG9rZW4pIHtcbiAgdmFyIHRva2VuUG9vbCA9IG1vZHVsZSRjb250ZW50cyRlZSRsYXllcnMkRWFydGhFbmdpbmVUaWxlU291cmNlX0VhcnRoRW5naW5lVGlsZVNvdXJjZS5nZXRHbG9iYWxUb2tlblBvb2xfKCk7XG4gIGlmICh0aWxlLmlzRGlzcG9zZWQoKSB8fCB0aWxlLmdldFN0YXR1cygpID09IGVlLmxheWVycy5BYnN0cmFjdFRpbGUuU3RhdHVzLkFCT1JURUQpIHtcbiAgICB0b2tlblBvb2wucmVsZWFzZU9iamVjdCh0b2tlbik7XG4gIH0gZWxzZSB7XG4gICAgdmFyIGtleSA9IGdvb2cuZXZlbnRzLmxpc3Rlbih0aWxlLCBlZS5sYXllcnMuQWJzdHJhY3RUaWxlLkV2ZW50VHlwZS5TVEFUVVNfQ0hBTkdFRCwgZnVuY3Rpb24oKSB7XG4gICAgICB0aWxlLmlzRG9uZSgpICYmIChnb29nLmV2ZW50cy51bmxpc3RlbkJ5S2V5KGtleSksIHRva2VuUG9vbC5yZWxlYXNlT2JqZWN0KHRva2VuKSk7XG4gICAgfSk7XG4gICAgdGlsZS5zdGFydExvYWQoKTtcbiAgfVxufTtcbm1vZHVsZSRjb250ZW50cyRlZSRsYXllcnMkRWFydGhFbmdpbmVUaWxlU291cmNlX0VhcnRoRW5naW5lVGlsZVNvdXJjZS5wcm90b3R5cGUuZ2V0VGlsZVVybF8gPSBmdW5jdGlvbihjb29yZCwgem9vbSkge1xuICB2YXIgdXJsID0gZWUuZGF0YS5nZXRUaWxlVXJsKHRoaXMubWFwSWRfLCBjb29yZC54LCBjb29yZC55LCB6b29tKTtcbiAgcmV0dXJuIHRoaXMucHJvZmlsZXJfICYmIHRoaXMucHJvZmlsZXJfLmlzRW5hYmxlZCgpID8gdXJsICsgXCImcHJvZmlsaW5nPTFcIiA6IHVybDtcbn07XG5tb2R1bGUkY29udGVudHMkZWUkbGF5ZXJzJEVhcnRoRW5naW5lVGlsZVNvdXJjZV9FYXJ0aEVuZ2luZVRpbGVTb3VyY2UuZ2V0R2xvYmFsVG9rZW5Qb29sXyA9IGZ1bmN0aW9uKCkge1xuICBtb2R1bGUkY29udGVudHMkZWUkbGF5ZXJzJEVhcnRoRW5naW5lVGlsZVNvdXJjZV9FYXJ0aEVuZ2luZVRpbGVTb3VyY2UuVE9LRU5fUE9PTF8gfHwgKG1vZHVsZSRjb250ZW50cyRlZSRsYXllcnMkRWFydGhFbmdpbmVUaWxlU291cmNlX0VhcnRoRW5naW5lVGlsZVNvdXJjZS5UT0tFTl9QT09MXyA9IG5ldyBnb29nLnN0cnVjdHMuUHJpb3JpdHlQb29sKDAsIG1vZHVsZSRjb250ZW50cyRlZSRsYXllcnMkRWFydGhFbmdpbmVUaWxlU291cmNlX0VhcnRoRW5naW5lVGlsZVNvdXJjZS5UT0tFTl9DT1VOVF8pKTtcbiAgcmV0dXJuIG1vZHVsZSRjb250ZW50cyRlZSRsYXllcnMkRWFydGhFbmdpbmVUaWxlU291cmNlX0VhcnRoRW5naW5lVGlsZVNvdXJjZS5UT0tFTl9QT09MXztcbn07XG5nb29nLmV4cG9ydFN5bWJvbChcImVlLmxheWVycy5FYXJ0aEVuZ2luZVRpbGVTb3VyY2VcIiwgbW9kdWxlJGNvbnRlbnRzJGVlJGxheWVycyRFYXJ0aEVuZ2luZVRpbGVTb3VyY2VfRWFydGhFbmdpbmVUaWxlU291cmNlKTtcbm1vZHVsZSRjb250ZW50cyRlZSRsYXllcnMkRWFydGhFbmdpbmVUaWxlU291cmNlX0VhcnRoRW5naW5lVGlsZVNvdXJjZS5UT0tFTl9QT09MXyA9IG51bGw7XG5tb2R1bGUkY29udGVudHMkZWUkbGF5ZXJzJEVhcnRoRW5naW5lVGlsZVNvdXJjZV9FYXJ0aEVuZ2luZVRpbGVTb3VyY2UuVE9LRU5fQ09VTlRfID0gNDtcbmVlLmxheWVycy5FYXJ0aEVuZ2luZVRpbGVTb3VyY2UgPSBtb2R1bGUkY29udGVudHMkZWUkbGF5ZXJzJEVhcnRoRW5naW5lVGlsZVNvdXJjZV9FYXJ0aEVuZ2luZVRpbGVTb3VyY2U7XG5lZS5sYXllcnMuRmVhdHVyZVZpZXdUaWxlU291cmNlID0ge307XG52YXIgbW9kdWxlJGNvbnRlbnRzJGVlJGxheWVycyRGZWF0dXJlVmlld1RpbGVTb3VyY2VfRmVhdHVyZVZpZXdUaWxlU291cmNlID0gZnVuY3Rpb24odGlsZXNLZXkpIHtcbiAgbW9kdWxlJGV4cG9ydHMkZWUkbGF5ZXJzJEFic3RyYWN0VGlsZVNvdXJjZS5jYWxsKHRoaXMpO1xuICB0aGlzLnRpbGVzS2V5XyA9IHRpbGVzS2V5O1xufTtcbiRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGNvbnRlbnRzJGVlJGxheWVycyRGZWF0dXJlVmlld1RpbGVTb3VyY2VfRmVhdHVyZVZpZXdUaWxlU291cmNlLCBtb2R1bGUkZXhwb3J0cyRlZSRsYXllcnMkQWJzdHJhY3RUaWxlU291cmNlKTtcbm1vZHVsZSRjb250ZW50cyRlZSRsYXllcnMkRmVhdHVyZVZpZXdUaWxlU291cmNlX0ZlYXR1cmVWaWV3VGlsZVNvdXJjZS5wcm90b3R5cGUubG9hZFRpbGUgPSBmdW5jdGlvbih0aWxlLCBvcHRfcHJpb3JpdHkpIHtcbiAgdGlsZS5zb3VyY2VVcmwgPSB0aGlzLnRpbGVzS2V5Xy5mb3JtYXRUaWxlVXJsKHRpbGUuY29vcmQueCwgdGlsZS5jb29yZC55LCB0aWxlLnpvb20pO1xuICB0aWxlLnN0YXJ0TG9hZCgpO1xufTtcbm1vZHVsZSRjb250ZW50cyRlZSRsYXllcnMkRmVhdHVyZVZpZXdUaWxlU291cmNlX0ZlYXR1cmVWaWV3VGlsZVNvdXJjZS5wcm90b3R5cGUuZ2V0VW5pcXVlSWQgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMudGlsZXNLZXlfLnRva2VuO1xufTtcbmdvb2cuZXhwb3J0U3ltYm9sKFwiZWUubGF5ZXJzLkZlYXR1cmVWaWV3VGlsZVNvdXJjZVwiLCBtb2R1bGUkY29udGVudHMkZWUkbGF5ZXJzJEZlYXR1cmVWaWV3VGlsZVNvdXJjZV9GZWF0dXJlVmlld1RpbGVTb3VyY2UpO1xuZWUubGF5ZXJzLkZlYXR1cmVWaWV3VGlsZVNvdXJjZS5GZWF0dXJlVmlld1RpbGVTb3VyY2UgPSBtb2R1bGUkY29udGVudHMkZWUkbGF5ZXJzJEZlYXR1cmVWaWV3VGlsZVNvdXJjZV9GZWF0dXJlVmlld1RpbGVTb3VyY2U7XG5lZS5NYXBUaWxlTWFuYWdlciA9IGZ1bmN0aW9uKCkge1xuICBnb29nLmV2ZW50cy5FdmVudFRhcmdldC5jYWxsKHRoaXMpO1xuICB0aGlzLnRva2VuUG9vbF8gPSBuZXcgZWUuTWFwVGlsZU1hbmFnZXIuVG9rZW5Qb29sXygwLCA2MCk7XG4gIHRoaXMucmVxdWVzdHNfID0gbmV3IGdvb2cuc3RydWN0cy5NYXAoKTtcbn07XG4kanNjb21wLmluaGVyaXRzKGVlLk1hcFRpbGVNYW5hZ2VyLCBnb29nLmV2ZW50cy5FdmVudFRhcmdldCk7XG5lZS5NYXBUaWxlTWFuYWdlci5wcm90b3R5cGUuZ2V0T3V0c3RhbmRpbmdDb3VudCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5yZXF1ZXN0c18uZ2V0Q291bnQoKTtcbn07XG5lZS5NYXBUaWxlTWFuYWdlci5wcm90b3R5cGUuc2VuZCA9IGZ1bmN0aW9uKGlkLCB1cmwsIG9wdF9wcmlvcml0eSwgb3B0X2ltYWdlQ29tcGxldGVkQ2FsbGJhY2ssIG9wdF9tYXhSZXRyaWVzKSB7XG4gIGlmICh0aGlzLnJlcXVlc3RzXy5nZXQoaWQpKSB7XG4gICAgdGhyb3cgRXJyb3IoZWUuTWFwVGlsZU1hbmFnZXIuRVJST1JfSURfSU5fVVNFXyk7XG4gIH1cbiAgdmFyIHJlcXVlc3QgPSBuZXcgZWUuTWFwVGlsZU1hbmFnZXIuUmVxdWVzdF8oaWQsIHVybCwgb3B0X2ltYWdlQ29tcGxldGVkQ2FsbGJhY2ssIGdvb2cuYmluZCh0aGlzLnJlbGVhc2VSZXF1ZXN0XywgdGhpcyksIHZvaWQgMCAhPT0gb3B0X21heFJldHJpZXMgPyBvcHRfbWF4UmV0cmllcyA6IGVlLk1hcFRpbGVNYW5hZ2VyLk1BWF9SRVRSSUVTKTtcbiAgdGhpcy5yZXF1ZXN0c18uc2V0KGlkLCByZXF1ZXN0KTtcbiAgdmFyIGNhbGxiYWNrID0gZ29vZy5iaW5kKHRoaXMuaGFuZGxlQXZhaWxhYmxlVG9rZW5fLCB0aGlzLCByZXF1ZXN0KTtcbiAgdGhpcy50b2tlblBvb2xfLmdldE9iamVjdChjYWxsYmFjaywgb3B0X3ByaW9yaXR5KTtcbiAgcmV0dXJuIHJlcXVlc3Q7XG59O1xuZWUuTWFwVGlsZU1hbmFnZXIucHJvdG90eXBlLmFib3J0ID0gZnVuY3Rpb24oaWQpIHtcbiAgdmFyIHJlcXVlc3QgPSB0aGlzLnJlcXVlc3RzXy5nZXQoaWQpO1xuICByZXF1ZXN0ICYmIChyZXF1ZXN0LnNldEFib3J0ZWQoITApLCB0aGlzLnJlbGVhc2VSZXF1ZXN0XyhyZXF1ZXN0KSk7XG59O1xuZWUuTWFwVGlsZU1hbmFnZXIucHJvdG90eXBlLmhhbmRsZUF2YWlsYWJsZVRva2VuXyA9IGZ1bmN0aW9uKHJlcXVlc3QsIHRva2VuKSB7XG4gIGlmIChyZXF1ZXN0LmdldEltYWdlTG9hZGVyKCkgfHwgcmVxdWVzdC5nZXRBYm9ydGVkKCkpIHtcbiAgICB0aGlzLnJlbGVhc2VPYmplY3RfKHRva2VuKTtcbiAgfSBlbHNlIHtcbiAgICBpZiAocmVxdWVzdC5zZXRUb2tlbih0b2tlbiksIHRva2VuLnNldEFjdGl2ZSghMCksIHJlcXVlc3Quc2V0SW1hZ2VMb2FkZXIobmV3IGdvb2cubmV0LkltYWdlTG9hZGVyKCkpLCAhcmVxdWVzdC5yZXRyeSgpKSB7XG4gICAgICB0aHJvdyBFcnJvcihcIkNhbm5vdCBkaXNwYXRjaCBmaXJzdCByZXF1ZXN0IVwiKTtcbiAgICB9XG4gIH1cbn07XG5lZS5NYXBUaWxlTWFuYWdlci5wcm90b3R5cGUucmVsZWFzZVJlcXVlc3RfID0gZnVuY3Rpb24ocmVxdWVzdCkge1xuICB0aGlzLnJlcXVlc3RzXy5yZW1vdmUocmVxdWVzdC5nZXRJZCgpKTtcbiAgcmVxdWVzdC5nZXRJbWFnZUxvYWRlcigpICYmICh0aGlzLnJlbGVhc2VPYmplY3RfKHJlcXVlc3QuZ2V0VG9rZW4oKSksIHJlcXVlc3QuZ2V0SW1hZ2VMb2FkZXIoKS5kaXNwb3NlKCkpO1xuICByZXF1ZXN0LmZpcmVJbWFnZUV2ZW50Q2FsbGJhY2soKTtcbn07XG5lZS5NYXBUaWxlTWFuYWdlci5wcm90b3R5cGUucmVsZWFzZU9iamVjdF8gPSBmdW5jdGlvbih0b2tlbikge1xuICB0b2tlbi5zZXRBY3RpdmUoITEpO1xuICBpZiAoIXRoaXMudG9rZW5Qb29sXy5yZWxlYXNlT2JqZWN0KHRva2VuKSkge1xuICAgIHRocm93IEVycm9yKFwiT2JqZWN0IG5vdCByZWxlYXNlZFwiKTtcbiAgfVxufTtcbmVlLk1hcFRpbGVNYW5hZ2VyLnByb3RvdHlwZS5kaXNwb3NlSW50ZXJuYWwgPSBmdW5jdGlvbigpIHtcbiAgZ29vZy5ldmVudHMuRXZlbnRUYXJnZXQucHJvdG90eXBlLmRpc3Bvc2VJbnRlcm5hbC5jYWxsKHRoaXMpO1xuICB0aGlzLnRva2VuUG9vbF8uZGlzcG9zZSgpO1xuICB0aGlzLnRva2VuUG9vbF8gPSBudWxsO1xuICB2YXIgcmVxdWVzdHMgPSB0aGlzLnJlcXVlc3RzXztcbiAgbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfZm9yRWFjaChyZXF1ZXN0cy5nZXRWYWx1ZXMoKSwgZnVuY3Rpb24odmFsdWUpIHtcbiAgICB2YWx1ZS5kaXNwb3NlKCk7XG4gIH0pO1xuICByZXF1ZXN0cy5jbGVhcigpO1xuICB0aGlzLnJlcXVlc3RzXyA9IG51bGw7XG59O1xuZWUuTWFwVGlsZU1hbmFnZXIuZ2V0SW5zdGFuY2UgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIGdvb2cuc2luZ2xldG9uLmdldEluc3RhbmNlKGVlLk1hcFRpbGVNYW5hZ2VyKTtcbn07XG5nb29nLmV4cG9ydFN5bWJvbChcImVlLk1hcFRpbGVNYW5hZ2VyXCIsIGVlLk1hcFRpbGVNYW5hZ2VyKTtcbmVlLk1hcFRpbGVNYW5hZ2VyLk1BWF9SRVRSSUVTID0gMTtcbmVlLk1hcFRpbGVNYW5hZ2VyLkVSUk9SX0lEX0lOX1VTRV8gPSBcIltlZS5NYXBUaWxlTWFuYWdlcl0gSUQgaW4gdXNlXCI7XG5lZS5NYXBUaWxlTWFuYWdlci5SZXF1ZXN0XyA9IGZ1bmN0aW9uKGlkLCB1cmwsIG9wdF9pbWFnZUV2ZW50Q2FsbGJhY2ssIG9wdF9yZXF1ZXN0Q29tcGxldGVDYWxsYmFjaywgb3B0X21heFJldHJpZXMpIHtcbiAgZ29vZy5EaXNwb3NhYmxlLmNhbGwodGhpcyk7XG4gIHRoaXMuaWRfID0gaWQ7XG4gIHRoaXMudXJsXyA9IHVybDtcbiAgdGhpcy5tYXhSZXRyaWVzXyA9IHZvaWQgMCAhPT0gb3B0X21heFJldHJpZXMgPyBvcHRfbWF4UmV0cmllcyA6IGVlLk1hcFRpbGVNYW5hZ2VyLk1BWF9SRVRSSUVTO1xuICB0aGlzLmltYWdlRXZlbnRDYWxsYmFja18gPSBvcHRfaW1hZ2VFdmVudENhbGxiYWNrO1xuICB0aGlzLnJlcXVlc3RDb21wbGV0ZUNhbGxiYWNrXyA9IG9wdF9yZXF1ZXN0Q29tcGxldGVDYWxsYmFjaztcbn07XG4kanNjb21wLmluaGVyaXRzKGVlLk1hcFRpbGVNYW5hZ2VyLlJlcXVlc3RfLCBnb29nLkRpc3Bvc2FibGUpO1xuZWUuTWFwVGlsZU1hbmFnZXIuUmVxdWVzdF8ucHJvdG90eXBlLmdldEltYWdlTG9hZGVyID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLmltYWdlTG9hZGVyXztcbn07XG5lZS5NYXBUaWxlTWFuYWdlci5SZXF1ZXN0Xy5wcm90b3R5cGUuc2V0SW1hZ2VMb2FkZXIgPSBmdW5jdGlvbihpbWFnZUxvYWRlcikge1xuICB0aGlzLmltYWdlTG9hZGVyXyA9IGltYWdlTG9hZGVyO1xufTtcbmVlLk1hcFRpbGVNYW5hZ2VyLlJlcXVlc3RfLnByb3RvdHlwZS5nZXRUb2tlbiA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy50b2tlbl87XG59O1xuZWUuTWFwVGlsZU1hbmFnZXIuUmVxdWVzdF8ucHJvdG90eXBlLnNldFRva2VuID0gZnVuY3Rpb24odG9rZW4pIHtcbiAgdGhpcy50b2tlbl8gPSB0b2tlbjtcbn07XG5lZS5NYXBUaWxlTWFuYWdlci5SZXF1ZXN0Xy5wcm90b3R5cGUuYWRkSW1hZ2VFdmVudExpc3RlbmVyID0gZnVuY3Rpb24oKSB7XG4gIGdvb2cuZXZlbnRzLmxpc3Rlbk9uY2UodGhpcy5pbWFnZUxvYWRlcl8sIGVlLk1hcFRpbGVNYW5hZ2VyLlJlcXVlc3RfLklNQUdFX0xPQURFUl9FVkVOVF9UWVBFU18sIGdvb2cuYmluZCh0aGlzLmhhbmRsZUltYWdlRXZlbnRfLCB0aGlzKSk7XG59O1xuZWUuTWFwVGlsZU1hbmFnZXIuUmVxdWVzdF8ucHJvdG90eXBlLmZpcmVJbWFnZUV2ZW50Q2FsbGJhY2sgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5pbWFnZUV2ZW50Q2FsbGJhY2tfICYmIHRoaXMuaW1hZ2VFdmVudENhbGxiYWNrXyh0aGlzLmV2ZW50XywgdGhpcy5wcm9maWxlSWRfKTtcbn07XG5lZS5NYXBUaWxlTWFuYWdlci5SZXF1ZXN0Xy5wcm90b3R5cGUuZ2V0SWQgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuaWRfO1xufTtcbmVlLk1hcFRpbGVNYW5hZ2VyLlJlcXVlc3RfLnByb3RvdHlwZS5nZXRVcmwgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMudXJsXztcbn07XG5lZS5NYXBUaWxlTWFuYWdlci5SZXF1ZXN0Xy5wcm90b3R5cGUuZ2V0TWF4UmV0cmllcyA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5tYXhSZXRyaWVzXztcbn07XG5lZS5NYXBUaWxlTWFuYWdlci5SZXF1ZXN0Xy5wcm90b3R5cGUuZ2V0QXR0ZW1wdENvdW50ID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLmF0dGVtcHRDb3VudF87XG59O1xuZWUuTWFwVGlsZU1hbmFnZXIuUmVxdWVzdF8ucHJvdG90eXBlLmluY3JlYXNlQXR0ZW1wdENvdW50ID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMuYXR0ZW1wdENvdW50XysrO1xufTtcbmVlLk1hcFRpbGVNYW5hZ2VyLlJlcXVlc3RfLnByb3RvdHlwZS5oYXNSZWFjaGVkTWF4UmV0cmllcyA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5hdHRlbXB0Q291bnRfID4gdGhpcy5tYXhSZXRyaWVzXztcbn07XG5lZS5NYXBUaWxlTWFuYWdlci5SZXF1ZXN0Xy5wcm90b3R5cGUuc2V0QWJvcnRlZCA9IGZ1bmN0aW9uKGFib3J0ZWQpIHtcbiAgYWJvcnRlZCAmJiAhdGhpcy5hYm9ydGVkXyAmJiAodGhpcy5hYm9ydGVkXyA9IGFib3J0ZWQsIHRoaXMuZXZlbnRfID0gbmV3IGdvb2cuZXZlbnRzLkV2ZW50KGdvb2cubmV0LkV2ZW50VHlwZS5BQk9SVCkpO1xufTtcbmVlLk1hcFRpbGVNYW5hZ2VyLlJlcXVlc3RfLnByb3RvdHlwZS5nZXRBYm9ydGVkID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLmFib3J0ZWRfO1xufTtcbmVlLk1hcFRpbGVNYW5hZ2VyLlJlcXVlc3RfLnByb3RvdHlwZS5oYW5kbGVJbWFnZUV2ZW50XyA9IGZ1bmN0aW9uKGUpIHtcbiAgaWYgKHRoaXMuZ2V0QWJvcnRlZCgpKSB7XG4gICAgdGhpcy5tYXJrQ29tcGxldGVkXygpO1xuICB9IGVsc2Uge1xuICAgIHN3aXRjaChlLnR5cGUpIHtcbiAgICAgIGNhc2UgZ29vZy5ldmVudHMuRXZlbnRUeXBlLkxPQUQ6XG4gICAgICAgIHRoaXMuaGFuZGxlU3VjY2Vzc18oZSk7XG4gICAgICAgIHRoaXMubWFya0NvbXBsZXRlZF8oKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIGdvb2cubmV0LkV2ZW50VHlwZS5FUlJPUjpcbiAgICAgIGNhc2UgZ29vZy5uZXQuRXZlbnRUeXBlLkFCT1JUOlxuICAgICAgICB0aGlzLmhhbmRsZUVycm9yXyhlKTtcbiAgICB9XG4gIH1cbn07XG5lZS5NYXBUaWxlTWFuYWdlci5SZXF1ZXN0Xy5wcm90b3R5cGUubWFya0NvbXBsZXRlZF8gPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5yZXF1ZXN0Q29tcGxldGVDYWxsYmFja18gJiYgdGhpcy5yZXF1ZXN0Q29tcGxldGVDYWxsYmFja18odGhpcyk7XG59O1xuZWUuTWFwVGlsZU1hbmFnZXIuUmVxdWVzdF8ucHJvdG90eXBlLmhhbmRsZVN1Y2Nlc3NfID0gZnVuY3Rpb24oZSkge1xuICB0aGlzLmV2ZW50XyA9IGU7XG59O1xuZWUuTWFwVGlsZU1hbmFnZXIuUmVxdWVzdF8ucHJvdG90eXBlLmhhbmRsZUVycm9yXyA9IGZ1bmN0aW9uKGUpIHtcbiAgdGhpcy5yZXRyeSgpIHx8ICh0aGlzLmV2ZW50XyA9IGUsIHRoaXMubWFya0NvbXBsZXRlZF8oKSk7XG59O1xuZWUuTWFwVGlsZU1hbmFnZXIuUmVxdWVzdF8ucHJvdG90eXBlLmRpc3Bvc2VJbnRlcm5hbCA9IGZ1bmN0aW9uKCkge1xuICBnb29nLkRpc3Bvc2FibGUucHJvdG90eXBlLmRpc3Bvc2VJbnRlcm5hbC5jYWxsKHRoaXMpO1xuICBkZWxldGUgdGhpcy5pbWFnZUV2ZW50Q2FsbGJhY2tfO1xuICBkZWxldGUgdGhpcy5yZXF1ZXN0Q29tcGxldGVDYWxsYmFja187XG59O1xuZWUuTWFwVGlsZU1hbmFnZXIuUmVxdWVzdF8ucHJvdG90eXBlLnJldHJ5ID0gZnVuY3Rpb24oKSB7XG4gIGlmICh0aGlzLmhhc1JlYWNoZWRNYXhSZXRyaWVzKCkpIHtcbiAgICByZXR1cm4gITE7XG4gIH1cbiAgdGhpcy5pbmNyZWFzZUF0dGVtcHRDb3VudCgpO1xuICB0aGlzLmltYWdlTG9hZGVyXy5yZW1vdmVJbWFnZSh0aGlzLmlkXyk7XG4gIHNldFRpbWVvdXQoZ29vZy5iaW5kKHRoaXMuc3RhcnRfLCB0aGlzKSwgMCk7XG4gIHJldHVybiAhMDtcbn07XG5lZS5NYXBUaWxlTWFuYWdlci5SZXF1ZXN0Xy5wcm90b3R5cGUuc3RhcnRfID0gZnVuY3Rpb24oKSB7XG4gIGlmICghdGhpcy5nZXRBYm9ydGVkKCkpIHtcbiAgICB2YXIgYWN0dWFsbHlMb2FkSW1hZ2UgPSBnb29nLmJpbmQoZnVuY3Rpb24oaW1hZ2VVcmwpIHtcbiAgICAgIHRoaXMuZ2V0QWJvcnRlZCgpIHx8ICh0aGlzLmltYWdlTG9hZGVyXy5hZGRJbWFnZSh0aGlzLmlkXywgaW1hZ2VVcmwpLCB0aGlzLmFkZEltYWdlRXZlbnRMaXN0ZW5lcigpLCB0aGlzLmltYWdlTG9hZGVyXy5zdGFydCgpKTtcbiAgICB9LCB0aGlzKSwgc291cmNlVXJsID0gdGhpcy5nZXRVcmwoKTtcbiAgICBpZiAoZ29vZy5VcmkucGFyc2Uoc291cmNlVXJsKS5nZXRRdWVyeURhdGEoKS5jb250YWluc0tleShcInByb2ZpbGluZ1wiKSkge1xuICAgICAgdmFyIHhocklvID0gbmV3IGdvb2cubmV0LlhocklvKCk7XG4gICAgICB4aHJJby5zZXRSZXNwb25zZVR5cGUoZ29vZy5uZXQuWGhySW8uUmVzcG9uc2VUeXBlLkJMT0IpO1xuICAgICAgeGhySW8ubGlzdGVuKGdvb2cubmV0LkV2ZW50VHlwZS5DT01QTEVURSwgZ29vZy5iaW5kKGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgIHRoaXMucHJvZmlsZUlkXyA9IHhocklvLmdldFJlc3BvbnNlSGVhZGVyKG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LlBST0ZJTEVfSEVBREVSKSB8fCBudWxsO1xuICAgICAgICBpZiAoMjAwIDw9IHhocklvLmdldFN0YXR1cygpICYmIDMwMCA+IHhocklvLmdldFN0YXR1cygpKSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHZhciBvYmplY3RVcmwgPSBnb29nLmh0bWwuU2FmZVVybC51bndyYXAoZ29vZy5odG1sLlNhZmVVcmwuZnJvbUJsb2IoeGhySW8uZ2V0UmVzcG9uc2UoKSkpO1xuICAgICAgICAgICAgdmFyIG9rID0gb2JqZWN0VXJsICE9PSBnb29nLmh0bWwuU2FmZVVybC5JTk5PQ1VPVVNfU1RSSU5HO1xuICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYWN0dWFsbHlMb2FkSW1hZ2Uob2sgPyBvYmplY3RVcmwgOiBzb3VyY2VVcmwpO1xuICAgICAgfSwgdGhpcykpO1xuICAgICAgeGhySW8ubGlzdGVuT25jZShnb29nLm5ldC5FdmVudFR5cGUuUkVBRFksIGdvb2cuYmluZCh4aHJJby5kaXNwb3NlLCB4aHJJbykpO1xuICAgICAgeGhySW8uc2VuZChzb3VyY2VVcmwsIFwiR0VUXCIpO1xuICAgIH0gZWxzZSB7XG4gICAgICBhY3R1YWxseUxvYWRJbWFnZShzb3VyY2VVcmwpO1xuICAgIH1cbiAgfVxufTtcbmVlLk1hcFRpbGVNYW5hZ2VyLlJlcXVlc3RfLnByb3RvdHlwZS5hdHRlbXB0Q291bnRfID0gMDtcbmVlLk1hcFRpbGVNYW5hZ2VyLlJlcXVlc3RfLnByb3RvdHlwZS5hYm9ydGVkXyA9ICExO1xuZWUuTWFwVGlsZU1hbmFnZXIuUmVxdWVzdF8ucHJvdG90eXBlLmltYWdlTG9hZGVyXyA9IG51bGw7XG5lZS5NYXBUaWxlTWFuYWdlci5SZXF1ZXN0Xy5wcm90b3R5cGUudG9rZW5fID0gbnVsbDtcbmVlLk1hcFRpbGVNYW5hZ2VyLlJlcXVlc3RfLnByb3RvdHlwZS5ldmVudF8gPSBudWxsO1xuZWUuTWFwVGlsZU1hbmFnZXIuUmVxdWVzdF8ucHJvdG90eXBlLnByb2ZpbGVJZF8gPSBudWxsO1xuZWUuTWFwVGlsZU1hbmFnZXIuUmVxdWVzdF8uSU1BR0VfTE9BREVSX0VWRU5UX1RZUEVTXyA9IFtnb29nLmV2ZW50cy5FdmVudFR5cGUuTE9BRCwgZ29vZy5uZXQuRXZlbnRUeXBlLkFCT1JULCBnb29nLm5ldC5FdmVudFR5cGUuRVJST1JdO1xuZWUuTWFwVGlsZU1hbmFnZXIuVG9rZW5fID0gZnVuY3Rpb24oKSB7XG4gIGdvb2cuRGlzcG9zYWJsZS5jYWxsKHRoaXMpO1xuICB0aGlzLmFjdGl2ZV8gPSAhMTtcbn07XG4kanNjb21wLmluaGVyaXRzKGVlLk1hcFRpbGVNYW5hZ2VyLlRva2VuXywgZ29vZy5EaXNwb3NhYmxlKTtcbmVlLk1hcFRpbGVNYW5hZ2VyLlRva2VuXy5wcm90b3R5cGUuc2V0QWN0aXZlID0gZnVuY3Rpb24odmFsKSB7XG4gIHRoaXMuYWN0aXZlXyA9IHZhbDtcbn07XG5lZS5NYXBUaWxlTWFuYWdlci5Ub2tlbl8ucHJvdG90eXBlLmlzQWN0aXZlID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLmFjdGl2ZV87XG59O1xuZWUuTWFwVGlsZU1hbmFnZXIuVG9rZW5Qb29sXyA9IGZ1bmN0aW9uKG9wdF9taW5Db3VudCwgb3B0X21heENvdW50KSB7XG4gIGdvb2cuc3RydWN0cy5Qcmlvcml0eVBvb2wuY2FsbCh0aGlzLCBvcHRfbWluQ291bnQsIG9wdF9tYXhDb3VudCk7XG59O1xuJGpzY29tcC5pbmhlcml0cyhlZS5NYXBUaWxlTWFuYWdlci5Ub2tlblBvb2xfLCBnb29nLnN0cnVjdHMuUHJpb3JpdHlQb29sKTtcbmVlLk1hcFRpbGVNYW5hZ2VyLlRva2VuUG9vbF8ucHJvdG90eXBlLmNyZWF0ZU9iamVjdCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbmV3IGVlLk1hcFRpbGVNYW5hZ2VyLlRva2VuXygpO1xufTtcbmVlLk1hcFRpbGVNYW5hZ2VyLlRva2VuUG9vbF8ucHJvdG90eXBlLmRpc3Bvc2VPYmplY3QgPSBmdW5jdGlvbihvYmopIHtcbiAgb2JqLmRpc3Bvc2UoKTtcbn07XG5lZS5NYXBUaWxlTWFuYWdlci5Ub2tlblBvb2xfLnByb3RvdHlwZS5vYmplY3RDYW5CZVJldXNlZCA9IGZ1bmN0aW9uKG9iaikge1xuICByZXR1cm4gIW9iai5pc0Rpc3Bvc2VkKCkgJiYgIW9iai5pc0FjdGl2ZSgpO1xufTtcbmVlLk1hcExheWVyT3ZlcmxheSA9IGZ1bmN0aW9uKHVybCwgbWFwSWQsIHRva2VuLCBpbml0LCBvcHRfcHJvZmlsZXIpIHtcbiAgZWUuQWJzdHJhY3RPdmVybGF5LmNhbGwodGhpcywgdXJsLCBtYXBJZCwgdG9rZW4sIGluaXQsIG9wdF9wcm9maWxlcik7XG4gIHRoaXMubWluWm9vbSA9IGluaXQubWluWm9vbSB8fCAwO1xuICB0aGlzLm1heFpvb20gPSBpbml0Lm1heFpvb20gfHwgMjA7XG4gIGlmICghd2luZG93Lmdvb2dsZSB8fCAhd2luZG93Lmdvb2dsZS5tYXBzKSB7XG4gICAgdGhyb3cgRXJyb3IoXCJHb29nbGUgTWFwcyBBUEkgaGFzbid0IGJlZW4gaW5pdGlhbGl6ZWQuXCIpO1xuICB9XG4gIHRoaXMudGlsZVNpemUgPSBpbml0LnRpbGVTaXplIHx8IG5ldyBnb29nbGUubWFwcy5TaXplKDI1NiwgMjU2KTtcbiAgdGhpcy5pc1BuZyA9IHZvaWQgMCAhPT0gaW5pdC5pc1BuZyA/IGluaXQuaXNQbmcgOiAhMDtcbiAgdGhpcy5uYW1lID0gaW5pdC5uYW1lO1xuICB0aGlzLnRpbGVzXyA9IG5ldyBnb29nLnN0cnVjdHMuU2V0KCk7XG4gIHRoaXMub3BhY2l0eV8gPSAxO1xuICB0aGlzLnZpc2libGVfID0gITA7XG4gIHRoaXMucHJvZmlsZXJfID0gb3B0X3Byb2ZpbGVyIHx8IG51bGw7XG59O1xuJGpzY29tcC5pbmhlcml0cyhlZS5NYXBMYXllck92ZXJsYXksIGVlLkFic3RyYWN0T3ZlcmxheSk7XG5lZS5NYXBMYXllck92ZXJsYXkucHJvdG90eXBlLmFkZFRpbGVDYWxsYmFjayA9IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG4gIHJldHVybiBnb29nLmV2ZW50cy5saXN0ZW4odGhpcywgZWUuQWJzdHJhY3RPdmVybGF5LkV2ZW50VHlwZS5USUxFX0xPQURFRCwgY2FsbGJhY2spO1xufTtcbmVlLk1hcExheWVyT3ZlcmxheS5wcm90b3R5cGUucmVtb3ZlVGlsZUNhbGxiYWNrID0gZnVuY3Rpb24oY2FsbGJhY2tJZCkge1xuICBnb29nLmV2ZW50cy51bmxpc3RlbkJ5S2V5KGNhbGxiYWNrSWQpO1xufTtcbmVlLk1hcExheWVyT3ZlcmxheS5wcm90b3R5cGUuZGlzcGF0Y2hUaWxlRXZlbnRfID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMuZGlzcGF0Y2hFdmVudChuZXcgZWUuVGlsZUV2ZW50KHRoaXMudGlsZXNMb2FkaW5nLmxlbmd0aCkpO1xufTtcbmVlLk1hcExheWVyT3ZlcmxheS5wcm90b3R5cGUuZ2V0VGlsZSA9IGZ1bmN0aW9uKGNvb3JkLCB6b29tLCBvd25lckRvY3VtZW50KSB7XG4gIHZhciBtYXhDb29yZDtcbiAgaWYgKHpvb20gPCB0aGlzLm1pblpvb20gfHwgMCA+IGNvb3JkLnkgfHwgY29vcmQueSA+PSAxIDw8IHpvb20pIHtcbiAgICB2YXIgaW1nID0gb3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiSU1HXCIpO1xuICAgIGltZy5zdHlsZS53aWR0aCA9IFwiMHB4XCI7XG4gICAgaW1nLnN0eWxlLmhlaWdodCA9IFwiMHB4XCI7XG4gICAgcmV0dXJuIGltZztcbiAgfVxuICB2YXIgcHJvZmlsaW5nID0gdGhpcy5wcm9maWxlcl8gJiYgdGhpcy5wcm9maWxlcl8uaXNFbmFibGVkKCksIHRpbGVJZCA9IHRoaXMuZ2V0VGlsZUlkKGNvb3JkLCB6b29tKSwgc3JjID0gW3RoaXMudXJsLCB0aWxlSWRdLmpvaW4oXCIvXCIpICsgXCI/dG9rZW49XCIgKyB0aGlzLnRva2VuO1xuICBwcm9maWxpbmcgJiYgKHNyYyArPSBcIiZwcm9maWxpbmc9MVwiKTtcbiAgdmFyIHVuaXF1ZVRpbGVJZCA9IFt0aWxlSWQsIHRoaXMudGlsZUNvdW50ZXIsIHRoaXMudG9rZW5dLmpvaW4oXCIvXCIpO1xuICB0aGlzLnRpbGVDb3VudGVyICs9IDE7XG4gIHZhciBkaXYgPSBnb29nLmRvbS5jcmVhdGVEb20oZ29vZy5kb20uVGFnTmFtZS5ESVYsIHtpZDp1bmlxdWVUaWxlSWR9KSwgcHJpb3JpdHkgPSAobmV3IERhdGUoKSkuZ2V0VGltZSgpIC8gMUUzO1xuICB0aGlzLnRpbGVzTG9hZGluZy5wdXNoKHVuaXF1ZVRpbGVJZCk7XG4gIGVlLk1hcFRpbGVNYW5hZ2VyLmdldEluc3RhbmNlKCkuc2VuZCh1bmlxdWVUaWxlSWQsIHNyYywgcHJpb3JpdHksIGdvb2cuYmluZCh0aGlzLmhhbmRsZUltYWdlQ29tcGxldGVkXywgdGhpcywgZGl2LCB1bmlxdWVUaWxlSWQpKTtcbiAgdGhpcy5kaXNwYXRjaFRpbGVFdmVudF8oKTtcbiAgcmV0dXJuIGRpdjtcbn07XG5lZS5NYXBMYXllck92ZXJsYXkucHJvdG90eXBlLmdldExvYWRlZFRpbGVzQ291bnQgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMudGlsZXNfLmdldENvdW50KCk7XG59O1xuZWUuTWFwTGF5ZXJPdmVybGF5LnByb3RvdHlwZS5nZXRMb2FkaW5nVGlsZXNDb3VudCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy50aWxlc0xvYWRpbmcubGVuZ3RoO1xufTtcbmVlLk1hcExheWVyT3ZlcmxheS5wcm90b3R5cGUucmVsZWFzZVRpbGUgPSBmdW5jdGlvbih0aWxlRGl2KSB7XG4gIGVlLk1hcFRpbGVNYW5hZ2VyLmdldEluc3RhbmNlKCkuYWJvcnQodGlsZURpdi5pZCk7XG4gIHRoaXMudGlsZXNfLnJlbW92ZShnb29nLmRvbS5nZXRGaXJzdEVsZW1lbnRDaGlsZCh0aWxlRGl2KSk7XG4gIFwiXCIgIT09IHRpbGVEaXYuaWQgJiYgKHRoaXMudGlsZXNGYWlsZWQucmVtb3ZlKHRpbGVEaXYuaWQpLCB0aGlzLnByb2ZpbGVyXyAmJiB0aGlzLnByb2ZpbGVyXy5yZW1vdmVUaWxlKHRpbGVEaXYuaWQpKTtcbn07XG5lZS5NYXBMYXllck92ZXJsYXkucHJvdG90eXBlLnNldE9wYWNpdHkgPSBmdW5jdGlvbihvcGFjaXR5KSB7XG4gIHRoaXMub3BhY2l0eV8gPSBvcGFjaXR5O1xuICB2YXIgaXRlciA9IHRoaXMudGlsZXNfLl9faXRlcmF0b3JfXygpO1xuICBnb29nLml0ZXIuZm9yRWFjaChpdGVyLCBmdW5jdGlvbih0aWxlKSB7XG4gICAgZ29vZy5zdHlsZS5zZXRPcGFjaXR5KHRpbGUsIG9wYWNpdHkpO1xuICB9KTtcbn07XG5lZS5NYXBMYXllck92ZXJsYXkucHJvdG90eXBlLmhhbmRsZUltYWdlQ29tcGxldGVkXyA9IGZ1bmN0aW9uKGRpdiwgdGlsZUlkLCBlLCBwcm9maWxlSWQpIHtcbiAgaWYgKGUudHlwZSA9PSBnb29nLm5ldC5FdmVudFR5cGUuRVJST1IpIHtcbiAgICBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9yZW1vdmUodGhpcy50aWxlc0xvYWRpbmcsIHRpbGVJZCksIHRoaXMudGlsZXNGYWlsZWQuYWRkKHRpbGVJZCksIHRoaXMuZGlzcGF0Y2hFdmVudChlKTtcbiAgfSBlbHNlIHtcbiAgICBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9yZW1vdmUodGhpcy50aWxlc0xvYWRpbmcsIHRpbGVJZCk7XG4gICAgaWYgKGUudGFyZ2V0ICYmIGUudHlwZSA9PSBnb29nLmV2ZW50cy5FdmVudFR5cGUuTE9BRCkge1xuICAgICAgdmFyIHRpbGUgPSBlLnRhcmdldDtcbiAgICAgIHRoaXMudGlsZXNfLmFkZCh0aWxlKTtcbiAgICAgIDEgIT0gdGhpcy5vcGFjaXR5XyAmJiBnb29nLnN0eWxlLnNldE9wYWNpdHkodGlsZSwgdGhpcy5vcGFjaXR5Xyk7XG4gICAgICBkaXYuYXBwZW5kQ2hpbGQodGlsZSk7XG4gICAgfVxuICAgIHRoaXMuZGlzcGF0Y2hUaWxlRXZlbnRfKCk7XG4gIH1cbiAgdGhpcy5wcm9maWxlcl8gJiYgbnVsbCAhPT0gcHJvZmlsZUlkICYmIHRoaXMucHJvZmlsZXJfLmFkZFRpbGUodGlsZUlkLCBwcm9maWxlSWQpO1xufTtcbmdvb2cuZXhwb3J0U3ltYm9sKFwiZWUuTWFwTGF5ZXJPdmVybGF5XCIsIGVlLk1hcExheWVyT3ZlcmxheSk7XG5nb29nLmV4cG9ydFByb3BlcnR5KGVlLk1hcExheWVyT3ZlcmxheS5wcm90b3R5cGUsIFwicmVtb3ZlVGlsZUNhbGxiYWNrXCIsIGVlLk1hcExheWVyT3ZlcmxheS5wcm90b3R5cGUucmVtb3ZlVGlsZUNhbGxiYWNrKTtcbmdvb2cuZXhwb3J0UHJvcGVydHkoZWUuTWFwTGF5ZXJPdmVybGF5LnByb3RvdHlwZSwgXCJhZGRUaWxlQ2FsbGJhY2tcIiwgZWUuTWFwTGF5ZXJPdmVybGF5LnByb3RvdHlwZS5hZGRUaWxlQ2FsbGJhY2spO1xuZ29vZy5leHBvcnRQcm9wZXJ0eShlZS5NYXBMYXllck92ZXJsYXkucHJvdG90eXBlLCBcImdldFRpbGVcIiwgZWUuTWFwTGF5ZXJPdmVybGF5LnByb3RvdHlwZS5nZXRUaWxlKTtcbmdvb2cuZXhwb3J0UHJvcGVydHkoZWUuTWFwTGF5ZXJPdmVybGF5LnByb3RvdHlwZSwgXCJzZXRPcGFjaXR5XCIsIGVlLk1hcExheWVyT3ZlcmxheS5wcm90b3R5cGUuc2V0T3BhY2l0eSk7XG5nb29nLmV4cG9ydFByb3BlcnR5KGVlLk1hcExheWVyT3ZlcmxheS5wcm90b3R5cGUsIFwicmVsZWFzZVRpbGVcIiwgZWUuTWFwTGF5ZXJPdmVybGF5LnByb3RvdHlwZS5yZWxlYXNlVGlsZSk7XG5nb29nLmFzeW5jLkRlbGF5ID0gZnVuY3Rpb24obGlzdGVuZXIsIG9wdF9pbnRlcnZhbCwgb3B0X2hhbmRsZXIpIHtcbiAgZ29vZy5EaXNwb3NhYmxlLmNhbGwodGhpcyk7XG4gIHRoaXMubGlzdGVuZXJfID0gbGlzdGVuZXI7XG4gIHRoaXMuaW50ZXJ2YWxfID0gb3B0X2ludGVydmFsIHx8IDA7XG4gIHRoaXMuaGFuZGxlcl8gPSBvcHRfaGFuZGxlcjtcbiAgdGhpcy5jYWxsYmFja18gPSBnb29nLmJpbmQodGhpcy5kb0FjdGlvbl8sIHRoaXMpO1xufTtcbmdvb2cuaW5oZXJpdHMoZ29vZy5hc3luYy5EZWxheSwgZ29vZy5EaXNwb3NhYmxlKTtcbmdvb2cuYXN5bmMuRGVsYXkucHJvdG90eXBlLmlkXyA9IDA7XG5nb29nLmFzeW5jLkRlbGF5LnByb3RvdHlwZS5kaXNwb3NlSW50ZXJuYWwgPSBmdW5jdGlvbigpIHtcbiAgZ29vZy5hc3luYy5EZWxheS5zdXBlckNsYXNzXy5kaXNwb3NlSW50ZXJuYWwuY2FsbCh0aGlzKTtcbiAgdGhpcy5zdG9wKCk7XG4gIGRlbGV0ZSB0aGlzLmxpc3RlbmVyXztcbiAgZGVsZXRlIHRoaXMuaGFuZGxlcl87XG59O1xuZ29vZy5hc3luYy5EZWxheS5wcm90b3R5cGUuc3RhcnQgPSBmdW5jdGlvbihvcHRfaW50ZXJ2YWwpIHtcbiAgdGhpcy5zdG9wKCk7XG4gIHRoaXMuaWRfID0gZ29vZy5UaW1lci5jYWxsT25jZSh0aGlzLmNhbGxiYWNrXywgdm9pZCAwICE9PSBvcHRfaW50ZXJ2YWwgPyBvcHRfaW50ZXJ2YWwgOiB0aGlzLmludGVydmFsXyk7XG59O1xuZ29vZy5hc3luYy5EZWxheS5wcm90b3R5cGUuc3RhcnRJZk5vdEFjdGl2ZSA9IGZ1bmN0aW9uKG9wdF9pbnRlcnZhbCkge1xuICB0aGlzLmlzQWN0aXZlKCkgfHwgdGhpcy5zdGFydChvcHRfaW50ZXJ2YWwpO1xufTtcbmdvb2cuYXN5bmMuRGVsYXkucHJvdG90eXBlLnN0b3AgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5pc0FjdGl2ZSgpICYmIGdvb2cuVGltZXIuY2xlYXIodGhpcy5pZF8pO1xuICB0aGlzLmlkXyA9IDA7XG59O1xuZ29vZy5hc3luYy5EZWxheS5wcm90b3R5cGUuZmlyZSA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLnN0b3AoKTtcbiAgdGhpcy5kb0FjdGlvbl8oKTtcbn07XG5nb29nLmFzeW5jLkRlbGF5LnByb3RvdHlwZS5maXJlSWZBY3RpdmUgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5pc0FjdGl2ZSgpICYmIHRoaXMuZmlyZSgpO1xufTtcbmdvb2cuYXN5bmMuRGVsYXkucHJvdG90eXBlLmlzQWN0aXZlID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiAwICE9IHRoaXMuaWRfO1xufTtcbmdvb2cuYXN5bmMuRGVsYXkucHJvdG90eXBlLmRvQWN0aW9uXyA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLmlkXyA9IDA7XG4gIHRoaXMubGlzdGVuZXJfICYmIHRoaXMubGlzdGVuZXJfLmNhbGwodGhpcy5oYW5kbGVyXyk7XG59O1xuZWUuZGF0YS5Qcm9maWxlciA9IGZ1bmN0aW9uKGZvcm1hdCkge1xuICBnb29nLmV2ZW50cy5FdmVudFRhcmdldC5jYWxsKHRoaXMpO1xuICB0aGlzLmZvcm1hdF8gPSBmb3JtYXQ7XG4gIHRoaXMuaXNFbmFibGVkXyA9ICExO1xuICB0aGlzLmxhc3RSZWZyZXNoVG9rZW5fID0gbnVsbDtcbiAgdGhpcy5wcm9maWxlSWRzXyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gIHRoaXMudGlsZVByb2ZpbGVJZHNfID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgdGhpcy5zaG93SW50ZXJuYWxfID0gITE7XG4gIHRoaXMucHJvZmlsZUVycm9yXyA9IG51bGw7XG4gIHRoaXMudGhyb3R0bGVkUmVmcmVzaF8gPSBuZXcgZ29vZy5hc3luYy5EZWxheShnb29nLmJpbmQodGhpcy5yZWZyZXNoXywgdGhpcyksIGVlLmRhdGEuUHJvZmlsZXIuREVMQVlfQkVGT1JFX1JFRlJFU0hfKTtcbiAgdGhpcy5wcm9maWxlRGF0YV8gPSBlZS5kYXRhLlByb2ZpbGVyLmdldEVtcHR5UHJvZmlsZV8oZm9ybWF0KTtcbiAgdGhpcy5NQVhfUkVUUllfQ09VTlRfID0gNTtcbn07XG4kanNjb21wLmluaGVyaXRzKGVlLmRhdGEuUHJvZmlsZXIsIGdvb2cuZXZlbnRzLkV2ZW50VGFyZ2V0KTtcbmVlLmRhdGEuUHJvZmlsZXIucHJvdG90eXBlLmlzRW5hYmxlZCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5pc0VuYWJsZWRfO1xufTtcbmVlLmRhdGEuUHJvZmlsZXIucHJvdG90eXBlLnNldEVuYWJsZWQgPSBmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLmlzRW5hYmxlZF8gPSAhIXZhbHVlO1xuICB0aGlzLmRpc3BhdGNoRXZlbnQobmV3IGdvb2cuZXZlbnRzLkV2ZW50KGVlLmRhdGEuUHJvZmlsZXIuRXZlbnRUeXBlLlNUQVRFX0NIQU5HRUQpKTtcbn07XG5lZS5kYXRhLlByb2ZpbGVyLnByb3RvdHlwZS5pc0xvYWRpbmcgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG51bGwgIT09IHRoaXMubGFzdFJlZnJlc2hUb2tlbl87XG59O1xuZWUuZGF0YS5Qcm9maWxlci5wcm90b3R5cGUuaXNFcnJvciA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbnVsbCAhPSB0aGlzLnByb2ZpbGVFcnJvcl87XG59O1xuZWUuZGF0YS5Qcm9maWxlci5wcm90b3R5cGUuZ2V0U3RhdHVzVGV4dCA9IGZ1bmN0aW9uKCkge1xuICBpZiAodGhpcy5wcm9maWxlRXJyb3JfKSB7XG4gICAgcmV0dXJuIHRoaXMucHJvZmlsZUVycm9yXztcbiAgfVxuICBpZiAodGhpcy5sYXN0UmVmcmVzaFRva2VuXykge1xuICAgIHJldHVybiBcIkxvYWRpbmcuLi5cIjtcbiAgfVxuICB2YXIgcHJvZmlsZXMgPSAwLCBub25UaWxlUHJvZmlsZXMgPSAwLCB0aWxlUHJvZmlsZXMgPSAwO1xuICBtb2R1bGUkY29udGVudHMkZ29vZyRvYmplY3RfZm9yRWFjaCh0aGlzLnByb2ZpbGVJZHNfLCBmdW5jdGlvbihyZWZDb3VudCkge1xuICAgIHByb2ZpbGVzKys7XG4gICAgSW5maW5pdHkgPT09IHJlZkNvdW50ID8gbm9uVGlsZVByb2ZpbGVzKysgOiB0aWxlUHJvZmlsZXMrKztcbiAgfSwgdGhpcyk7XG4gIHJldHVybiBcIlZpZXdpbmcgXCIgKyBwcm9maWxlcyArIFwiIHByb2ZpbGVzLCBcIiArIG5vblRpbGVQcm9maWxlcyArIFwiIGZyb20gQVBJIGNhbGxzIGFuZCBcIiArIHRpbGVQcm9maWxlcyArIFwiIGZyb20gbWFwIHRpbGVzLlwiO1xufTtcbmVlLmRhdGEuUHJvZmlsZXIucHJvdG90eXBlLmdldFByb2ZpbGVEYXRhID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLnByb2ZpbGVEYXRhXztcbn07XG5lZS5kYXRhLlByb2ZpbGVyLnByb3RvdHlwZS5jbGVhckFuZERyb3AgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5wcm9maWxlSWRzXyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gIHRoaXMudGlsZVByb2ZpbGVJZHNfID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgdGhpcy5yZWZyZXNoXygpO1xufTtcbmVlLmRhdGEuUHJvZmlsZXIucHJvdG90eXBlLmdldFByb2ZpbGVIb29rID0gZnVuY3Rpb24oKSB7XG4gIHZhciBwcm9maWxlSWRzID0gdGhpcy5wcm9maWxlSWRzXztcbiAgcmV0dXJuIHRoaXMuaXNFbmFibGVkXyA/IGdvb2cuYmluZChmdW5jdGlvbihwcm9maWxlSWQpIHtcbiAgICBwcm9maWxlSWRzW3Byb2ZpbGVJZF0gPSBJbmZpbml0eTtcbiAgICB0aGlzLnRocm90dGxlZFJlZnJlc2hfLnN0YXJ0KCk7XG4gIH0sIHRoaXMpIDogbnVsbDtcbn07XG5lZS5kYXRhLlByb2ZpbGVyLnByb3RvdHlwZS5yZW1vdmVQcm9maWxlXyA9IGZ1bmN0aW9uKHByb2ZpbGVJZCkge1xuICB2YXIgY291bnQgPSB0aGlzLnByb2ZpbGVJZHNfW3Byb2ZpbGVJZF07XG4gIDEgPCBjb3VudCA/IHRoaXMucHJvZmlsZUlkc19bcHJvZmlsZUlkXS0tIDogdm9pZCAwICE9PSBjb3VudCAmJiAoZGVsZXRlIHRoaXMucHJvZmlsZUlkc19bcHJvZmlsZUlkXSwgdGhpcy50aHJvdHRsZWRSZWZyZXNoXy5zdGFydCgpKTtcbn07XG5lZS5kYXRhLlByb2ZpbGVyLnByb3RvdHlwZS5yZWZyZXNoXyA9IGZ1bmN0aW9uKHJldHJ5QXR0ZW1wdCkge1xuICB2YXIgJGpzY29tcCR0aGlzID0gdGhpcztcbiAgcmV0cnlBdHRlbXB0ID0gdm9pZCAwID09PSByZXRyeUF0dGVtcHQgPyAwIDogcmV0cnlBdHRlbXB0O1xuICB2YXIgbWFya2VyID0ge307XG4gIHRoaXMubGFzdFJlZnJlc2hUb2tlbl8gPSBtYXJrZXI7XG4gIHZhciBoYW5kbGVSZXNwb25zZSA9IGZ1bmN0aW9uKHJlc3VsdCwgZXJyb3IpIHtcbiAgICBtYXJrZXIgPT0gJGpzY29tcCR0aGlzLmxhc3RSZWZyZXNoVG9rZW5fICYmIChlcnJvciAmJiBcIm51bWJlclwiID09PSB0eXBlb2YgcmV0cnlBdHRlbXB0ICYmIHJldHJ5QXR0ZW1wdCA8ICRqc2NvbXAkdGhpcy5NQVhfUkVUUllfQ09VTlRfID8gZ29vZy5UaW1lci5jYWxsT25jZShnb29nLmJpbmQoJGpzY29tcCR0aGlzLnJlZnJlc2hfLCAkanNjb21wJHRoaXMsIHJldHJ5QXR0ZW1wdCArIDEpLCAyICogZWUuZGF0YS5Qcm9maWxlci5ERUxBWV9CRUZPUkVfUkVGUkVTSF8pIDogKCRqc2NvbXAkdGhpcy5wcm9maWxlRXJyb3JfID0gZXJyb3IgfHwgbnVsbCwgJGpzY29tcCR0aGlzLnByb2ZpbGVEYXRhXyA9IGVycm9yID8gZWUuZGF0YS5Qcm9maWxlci5nZXRFbXB0eVByb2ZpbGVfKCRqc2NvbXAkdGhpcy5mb3JtYXRfKSA6IHJlc3VsdCwgJGpzY29tcCR0aGlzLmxhc3RSZWZyZXNoVG9rZW5fID0gbnVsbCwgJGpzY29tcCR0aGlzLmRpc3BhdGNoRXZlbnQoZWUuZGF0YS5Qcm9maWxlci5FdmVudFR5cGUuU1RBVEVfQ0hBTkdFRCksIFxuICAgICRqc2NvbXAkdGhpcy5kaXNwYXRjaEV2ZW50KGVlLmRhdGEuUHJvZmlsZXIuRXZlbnRUeXBlLkRBVEFfQ0hBTkdFRCkpKTtcbiAgfSwgaWRzID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckb2JqZWN0X2dldEtleXModGhpcy5wcm9maWxlSWRzXyk7XG4gIDAgPT09IGlkcy5sZW5ndGggPyBoYW5kbGVSZXNwb25zZShlZS5kYXRhLlByb2ZpbGVyLmdldEVtcHR5UHJvZmlsZV8odGhpcy5mb3JtYXRfKSwgdm9pZCAwKSA6IChlZS5BcGlGdW5jdGlvbi5fYXBwbHkodGhpcy5zaG93SW50ZXJuYWxfID8gXCJQcm9maWxlLmdldFByb2ZpbGVzSW50ZXJuYWxcIiA6IFwiUHJvZmlsZS5nZXRQcm9maWxlc1wiLCB7aWRzOmlkcywgZm9ybWF0OnRoaXMuZm9ybWF0Xy50b1N0cmluZygpLH0pLmdldEluZm8oaGFuZGxlUmVzcG9uc2UpLCB0aGlzLmRpc3BhdGNoRXZlbnQoZWUuZGF0YS5Qcm9maWxlci5FdmVudFR5cGUuU1RBVEVfQ0hBTkdFRCkpO1xufTtcbmVlLmRhdGEuUHJvZmlsZXIucHJvdG90eXBlLmFkZFRpbGUgPSBmdW5jdGlvbih0aWxlSWQsIHByb2ZpbGVJZCkge1xuICB0aGlzLnRpbGVQcm9maWxlSWRzX1t0aWxlSWRdIHx8ICh0aGlzLnRpbGVQcm9maWxlSWRzX1t0aWxlSWRdID0gcHJvZmlsZUlkLCB0aGlzLnByb2ZpbGVJZHNfW3Byb2ZpbGVJZF0gPSAodGhpcy5wcm9maWxlSWRzX1twcm9maWxlSWRdIHx8IDApICsgMSwgdGhpcy50aHJvdHRsZWRSZWZyZXNoXy5zdGFydCgpKTtcbn07XG5lZS5kYXRhLlByb2ZpbGVyLnByb3RvdHlwZS5yZW1vdmVUaWxlID0gZnVuY3Rpb24odGlsZUlkKSB7XG4gIHZhciBwcm9maWxlSWQgPSB0aGlzLnRpbGVQcm9maWxlSWRzX1t0aWxlSWRdO1xuICBwcm9maWxlSWQgJiYgKGRlbGV0ZSB0aGlzLnRpbGVQcm9maWxlSWRzX1t0aWxlSWRdLCB0aGlzLnJlbW92ZVByb2ZpbGVfKHByb2ZpbGVJZCkpO1xufTtcbmVlLmRhdGEuUHJvZmlsZXIucHJvdG90eXBlLmdldFNob3dJbnRlcm5hbCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5zaG93SW50ZXJuYWxfO1xufTtcbmVlLmRhdGEuUHJvZmlsZXIucHJvdG90eXBlLnNldFNob3dJbnRlcm5hbCA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuc2hvd0ludGVybmFsXyA9ICEhdmFsdWU7XG4gIHRoaXMudGhyb3R0bGVkUmVmcmVzaF8uZmlyZSgpO1xufTtcbmVlLmRhdGEuUHJvZmlsZXIucHJvdG90eXBlLnNldFBhcmVudEV2ZW50VGFyZ2V0ID0gZnVuY3Rpb24ocGFyZW50KSB7XG4gIHRocm93IEVycm9yKFwibm90IGFwcGxpY2FibGVcIik7XG59O1xuZWUuZGF0YS5Qcm9maWxlci5nZXRFbXB0eVByb2ZpbGVfID0gZnVuY3Rpb24oZm9ybWF0KSB7XG4gIHN3aXRjaChmb3JtYXQpIHtcbiAgICBjYXNlIGVlLmRhdGEuUHJvZmlsZXIuRm9ybWF0LlRFWFQ6XG4gICAgICByZXR1cm4gXCJcIjtcbiAgICBjYXNlIGVlLmRhdGEuUHJvZmlsZXIuRm9ybWF0LkpTT046XG4gICAgICByZXR1cm4gZWUuZGF0YS5Qcm9maWxlci5FTVBUWV9KU09OX1BST0ZJTEVfO1xuICAgIGRlZmF1bHQ6XG4gICAgICB0aHJvdyBFcnJvcihcIkludmFsaWQgUHJvZmlsZXIgZGF0YSBmb3JtYXQ6IFwiICsgZm9ybWF0KTtcbiAgfVxufTtcbmVlLmRhdGEuUHJvZmlsZXIuREVMQVlfQkVGT1JFX1JFRlJFU0hfID0gNTAwO1xuZWUuZGF0YS5Qcm9maWxlci5FTVBUWV9KU09OX1BST0ZJTEVfID0ge2NvbHM6W10sIHJvd3M6W119O1xuZWUuZGF0YS5Qcm9maWxlci5FdmVudFR5cGUgPSB7U1RBVEVfQ0hBTkdFRDpcInN0YXRlY2hhbmdlZFwiLCBEQVRBX0NIQU5HRUQ6XCJkYXRhY2hhbmdlZFwifTtcbmVlLmRhdGEuUHJvZmlsZXIuRm9ybWF0ID0gZnVuY3Rpb24oZm9ybWF0KSB7XG4gIHRoaXMuZm9ybWF0XyA9IGZvcm1hdDtcbn07XG5lZS5kYXRhLlByb2ZpbGVyLkZvcm1hdC5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuZm9ybWF0Xztcbn07XG5lZS5kYXRhLlByb2ZpbGVyLkZvcm1hdC5URVhUID0gbmV3IGVlLmRhdGEuUHJvZmlsZXIuRm9ybWF0KFwidGV4dFwiKTtcbmVlLmRhdGEuUHJvZmlsZXIuRm9ybWF0LkpTT04gPSBuZXcgZWUuZGF0YS5Qcm9maWxlci5Gb3JtYXQoXCJqc29uXCIpO1xuKGZ1bmN0aW9uKCkge1xuICB2YXIgZXhwb3J0ZWRGbkluZm8gPSB7fSwgb3JkZXJlZEZuTmFtZXMgPSBcImVlLkFwaUZ1bmN0aW9uLmxvb2t1cCBlZS5BcGlGdW5jdGlvbi5fYXBwbHkgZWUuQXBpRnVuY3Rpb24uX2NhbGwgZWUuYmF0Y2guRXhwb3J0LnRhYmxlLnRvQ2xvdWRTdG9yYWdlIGVlLmJhdGNoLkV4cG9ydC50YWJsZS50b0RyaXZlIGVlLmJhdGNoLkV4cG9ydC50YWJsZS50b0ZlYXR1cmVWaWV3IGVlLmJhdGNoLkV4cG9ydC50YWJsZS50b0Fzc2V0IGVlLmJhdGNoLkV4cG9ydC52aWRlb01hcC50b0Nsb3VkU3RvcmFnZSBlZS5iYXRjaC5FeHBvcnQuaW1hZ2UudG9Bc3NldCBlZS5iYXRjaC5FeHBvcnQudmlkZW8udG9Ecml2ZSBlZS5iYXRjaC5FeHBvcnQubWFwLnRvQ2xvdWRTdG9yYWdlIGVlLmJhdGNoLkV4cG9ydC5pbWFnZS50b0Nsb3VkU3RvcmFnZSBlZS5iYXRjaC5FeHBvcnQudmlkZW8udG9DbG91ZFN0b3JhZ2UgZWUuYmF0Y2guRXhwb3J0LmltYWdlLnRvRHJpdmUgZWUuYmF0Y2guRXhwb3J0LmNsYXNzaWZpZXIudG9Bc3NldCBlZS5Db2xsZWN0aW9uLnByb3RvdHlwZS5maWx0ZXJNZXRhZGF0YSBlZS5Db2xsZWN0aW9uLnByb3RvdHlwZS5pdGVyYXRlIGVlLkNvbGxlY3Rpb24ucHJvdG90eXBlLm1hcCBlZS5Db2xsZWN0aW9uLnByb3RvdHlwZS5saW1pdCBlZS5Db2xsZWN0aW9uLnByb3RvdHlwZS5maWx0ZXIgZWUuQ29sbGVjdGlvbi5wcm90b3R5cGUuZmlsdGVyRGF0ZSBlZS5Db2xsZWN0aW9uLnByb3RvdHlwZS5maWx0ZXJCb3VuZHMgZWUuQ29sbGVjdGlvbi5wcm90b3R5cGUuc29ydCBlZS5Db21wdXRlZE9iamVjdC5wcm90b3R5cGUuZXZhbHVhdGUgZWUuQ29tcHV0ZWRPYmplY3QucHJvdG90eXBlLmFzaWRlIGVlLkNvbXB1dGVkT2JqZWN0LnByb3RvdHlwZS5zZXJpYWxpemUgZWUuQ29tcHV0ZWRPYmplY3QucHJvdG90eXBlLmdldEluZm8gZWUuZGF0YS5hdXRoZW50aWNhdGVWaWFPYXV0aCBlZS5kYXRhLmdldFZpZGVvVGh1bWJJZCBlZS5kYXRhLmNhbmNlbFRhc2sgZWUuZGF0YS5nZXRNYXBJZCBlZS5kYXRhLmdldEZpbG1zdHJpcFRodW1iSWQgZWUuZGF0YS5tYWtlVGh1bWJVcmwgZWUuZGF0YS51cGRhdGVBc3NldCBlZS5kYXRhLnN0YXJ0SW5nZXN0aW9uIGVlLmRhdGEuZ2V0VGlsZVVybCBlZS5kYXRhLnVwZGF0ZVRhc2sgZWUuZGF0YS5hdXRoZW50aWNhdGUgZWUuZGF0YS5nZXRMaXN0IGVlLmRhdGEuc3RhcnRQcm9jZXNzaW5nIGVlLmRhdGEuc2V0QXNzZXRBY2wgZWUuZGF0YS5saXN0QXNzZXRzIGVlLmRhdGEuYXV0aGVudGljYXRlVmlhUG9wdXAgZWUuZGF0YS5nZXREb3dubG9hZElkIGVlLmRhdGEuc2V0QXNzZXRQcm9wZXJ0aWVzIGVlLmRhdGEuZ2V0RmVhdHVyZVZpZXdUaWxlc0tleSBlZS5kYXRhLmF1dGhlbnRpY2F0ZVZpYVByaXZhdGVLZXkgZWUuZGF0YS5saXN0SW1hZ2VzIGVlLmRhdGEubWFrZURvd25sb2FkVXJsIGVlLmRhdGEuc3RhcnRUYWJsZUluZ2VzdGlvbiBlZS5kYXRhLmdldEFzc2V0Um9vdFF1b3RhIGVlLmRhdGEubGlzdEZlYXR1cmVzIGVlLmRhdGEuZ2V0VGFibGVEb3dubG9hZElkIGVlLmRhdGEubGlzdEJ1Y2tldHMgZWUuZGF0YS5nZXRBc3NldCBlZS5kYXRhLmNvbXB1dGVWYWx1ZSBlZS5kYXRhLm1ha2VUYWJsZURvd25sb2FkVXJsIGVlLmRhdGEuZ2V0QXNzZXRSb290cyBlZS5kYXRhLmdldFdvcmtsb2FkVGFnIGVlLmRhdGEuZ2V0SW5mbyBlZS5kYXRhLm5ld1Rhc2tJZCBlZS5kYXRhLmNyZWF0ZUFzc2V0SG9tZSBlZS5kYXRhLnNldFdvcmtsb2FkVGFnIGVlLmRhdGEuZ2V0VGh1bWJJZCBlZS5kYXRhLnNldERlZmF1bHRXb3JrbG9hZFRhZyBlZS5kYXRhLmNyZWF0ZUFzc2V0IGVlLmRhdGEuZ2V0VGFza1N0YXR1cyBlZS5kYXRhLnJlc2V0V29ya2xvYWRUYWcgZWUuZGF0YS5jcmVhdGVGb2xkZXIgZWUuZGF0YS5nZXRUYXNrTGlzdCBlZS5kYXRhLnJlbmFtZUFzc2V0IGVlLmRhdGEuZ2V0VGFza0xpc3RXaXRoTGltaXQgZWUuZGF0YS5jb3B5QXNzZXQgZWUuZGF0YS5saXN0T3BlcmF0aW9ucyBlZS5kYXRhLmRlbGV0ZUFzc2V0IGVlLmRhdGEuY2FuY2VsT3BlcmF0aW9uIGVlLmRhdGEuZ2V0QXNzZXRBY2wgZWUuZGF0YS5nZXRPcGVyYXRpb24gZWUuRGF0ZSBlZS5EZXNlcmlhbGl6ZXIuZGVjb2RlQ2xvdWRBcGkgZWUuRGVzZXJpYWxpemVyLmRlY29kZSBlZS5EZXNlcmlhbGl6ZXIuZnJvbUNsb3VkQXBpSlNPTiBlZS5EZXNlcmlhbGl6ZXIuZnJvbUpTT04gZWUuRGljdGlvbmFyeSBlZS5yZXNldCBlZS5Jbml0U3RhdGUgZWUuQWxnb3JpdGhtcyBlZS5pbml0aWFsaXplIGVlLmNhbGwgZWUuYXBwbHkgZWUuVElMRV9TSVpFIGVlLkVsZW1lbnQucHJvdG90eXBlLnNldCBlZS5GZWF0dXJlIGVlLkZlYXR1cmUucHJvdG90eXBlLmdldE1hcCBlZS5GZWF0dXJlLnByb3RvdHlwZS5nZXRJbmZvIGVlLkZlYXR1cmVDb2xsZWN0aW9uLnByb3RvdHlwZS5zZWxlY3QgZWUuRmVhdHVyZUNvbGxlY3Rpb24gZWUuRmVhdHVyZUNvbGxlY3Rpb24ucHJvdG90eXBlLmdldEluZm8gZWUuRmVhdHVyZUNvbGxlY3Rpb24ucHJvdG90eXBlLmdldE1hcCBlZS5GZWF0dXJlQ29sbGVjdGlvbi5wcm90b3R5cGUuZ2V0RG93bmxvYWRVUkwgZWUuRmlsdGVyLmx0IGVlLkZpbHRlci5hbmQgZWUuRmlsdGVyLmd0ZSBlZS5GaWx0ZXIub3IgZWUuRmlsdGVyLmRhdGUgZWUuRmlsdGVyIGVlLkZpbHRlci5wcm90b3R5cGUubm90IGVlLkZpbHRlci5pbkxpc3QgZWUuRmlsdGVyLm1ldGFkYXRhIGVlLkZpbHRlci5lcSBlZS5GaWx0ZXIubmVxIGVlLkZpbHRlci5ndCBlZS5GaWx0ZXIuYm91bmRzIGVlLkZpbHRlci5sdGUgZWUuRnVuY3Rpb24ucHJvdG90eXBlLmFwcGx5IGVlLkZ1bmN0aW9uLnByb3RvdHlwZS5jYWxsIGVlLkdlb21ldHJ5LlBvbHlnb24gZWUuR2VvbWV0cnkucHJvdG90eXBlLnRvR2VvSlNPTiBlZS5HZW9tZXRyeS5wcm90b3R5cGUudG9HZW9KU09OU3RyaW5nIGVlLkdlb21ldHJ5LlBvaW50IGVlLkdlb21ldHJ5LkJCb3ggZWUuR2VvbWV0cnkuTGluZWFyUmluZyBlZS5HZW9tZXRyeSBlZS5HZW9tZXRyeS5wcm90b3R5cGUuc2VyaWFsaXplIGVlLkdlb21ldHJ5Lk11bHRpUG9pbnQgZWUuR2VvbWV0cnkuTXVsdGlQb2x5Z29uIGVlLkdlb21ldHJ5Lk11bHRpTGluZVN0cmluZyBlZS5HZW9tZXRyeS5SZWN0YW5nbGUgZWUuR2VvbWV0cnkuTGluZVN0cmluZyBlZS5JbWFnZSBlZS5JbWFnZS5wcm90b3R5cGUucmVuYW1lIGVlLkltYWdlLnByb3RvdHlwZS5nZXRNYXAgZWUuSW1hZ2UucHJvdG90eXBlLmdldERvd25sb2FkVVJMIGVlLkltYWdlLnJnYiBlZS5JbWFnZS5wcm90b3R5cGUuZ2V0SW5mbyBlZS5JbWFnZS5wcm90b3R5cGUuZ2V0VGh1bWJVUkwgZWUuSW1hZ2UucHJvdG90eXBlLmdldFRodW1iSWQgZWUuSW1hZ2UucHJvdG90eXBlLmNsaXAgZWUuSW1hZ2UucHJvdG90eXBlLnNlbGVjdCBlZS5JbWFnZS5wcm90b3R5cGUuZXhwcmVzc2lvbiBlZS5JbWFnZS5jYXQgZWUuSW1hZ2VDb2xsZWN0aW9uLnByb3RvdHlwZS5nZXRGaWxtc3RyaXBUaHVtYlVSTCBlZS5JbWFnZUNvbGxlY3Rpb24ucHJvdG90eXBlLmdldFZpZGVvVGh1bWJVUkwgZWUuSW1hZ2VDb2xsZWN0aW9uLnByb3RvdHlwZS5nZXRNYXAgZWUuSW1hZ2VDb2xsZWN0aW9uLnByb3RvdHlwZS5nZXRJbmZvIGVlLkltYWdlQ29sbGVjdGlvbi5wcm90b3R5cGUuc2VsZWN0IGVlLkltYWdlQ29sbGVjdGlvbi5wcm90b3R5cGUuZmlyc3QgZWUuSW1hZ2VDb2xsZWN0aW9uIGVlLkxpc3QgZWUuTnVtYmVyIGVlLlNlcmlhbGl6ZXIudG9SZWFkYWJsZUNsb3VkQXBpSlNPTiBlZS5TZXJpYWxpemVyLmVuY29kZUNsb3VkQXBpUHJldHR5IGVlLlNlcmlhbGl6ZXIudG9DbG91ZEFwaUpTT04gZWUuU2VyaWFsaXplci5lbmNvZGUgZWUuU2VyaWFsaXplci50b0pTT04gZWUuU2VyaWFsaXplci50b1JlYWRhYmxlSlNPTiBlZS5TZXJpYWxpemVyLmVuY29kZUNsb3VkQXBpIGVlLlN0cmluZyBlZS5UZXJyYWluXCIuc3BsaXQoXCIgXCIpLCBcbiAgb3JkZXJlZFBhcmFtTGlzdHMgPSBbW1wibmFtZVwiXSwgW1wibmFtZVwiLCBcIm5hbWVkQXJnc1wiXSwgW1wibmFtZVwiLCBcInZhcl9hcmdzXCJdLCBcImNvbGxlY3Rpb24gb3B0X2Rlc2NyaXB0aW9uIG9wdF9idWNrZXQgb3B0X2ZpbGVOYW1lUHJlZml4IG9wdF9maWxlRm9ybWF0IG9wdF9zZWxlY3RvcnMgb3B0X21heFZlcnRpY2VzXCIuc3BsaXQoXCIgXCIpLCBcImNvbGxlY3Rpb24gb3B0X2Rlc2NyaXB0aW9uIG9wdF9mb2xkZXIgb3B0X2ZpbGVOYW1lUHJlZml4IG9wdF9maWxlRm9ybWF0IG9wdF9zZWxlY3RvcnMgb3B0X21heFZlcnRpY2VzXCIuc3BsaXQoXCIgXCIpLCBcImNvbGxlY3Rpb24gb3B0X2Rlc2NyaXB0aW9uIG9wdF9hc3NldElkIG9wdF9tYXhGZWF0dXJlc1BlclRpbGUgb3B0X3RoaW5uaW5nU3RyYXRlZ3kgb3B0X3RoaW5uaW5nUmFua2luZyBvcHRfek9yZGVyUmFua2luZ1wiLnNwbGl0KFwiIFwiKSwgW1wiY29sbGVjdGlvblwiLCBcIm9wdF9kZXNjcmlwdGlvblwiLCBcIm9wdF9hc3NldElkXCIsIFwib3B0X21heFZlcnRpY2VzXCJdLCBcbiAgXCJjb2xsZWN0aW9uIG9wdF9kZXNjcmlwdGlvbiBvcHRfYnVja2V0IG9wdF9maWxlTmFtZVByZWZpeCBvcHRfZnJhbWVzUGVyU2Vjb25kIG9wdF93cml0ZVB1YmxpY1RpbGVzIG9wdF9taW5ab29tIG9wdF9tYXhab29tIG9wdF9zY2FsZSBvcHRfcmVnaW9uIG9wdF9za2lwRW1wdHlUaWxlcyBvcHRfbWluVGltZU1hY2hpbmVab29tU3Vic2V0IG9wdF9tYXhUaW1lTWFjaGluZVpvb21TdWJzZXQgb3B0X3RpbGVXaWR0aCBvcHRfdGlsZUhlaWdodCBvcHRfdGlsZVN0cmlkZSBvcHRfdmlkZW9Gb3JtYXQgb3B0X3ZlcnNpb24gb3B0X21hcHNBcGlLZXkgb3B0X2J1Y2tldENvcnNVcmlzXCIuc3BsaXQoXCIgXCIpLCBcImltYWdlIG9wdF9kZXNjcmlwdGlvbiBvcHRfYXNzZXRJZCBvcHRfcHlyYW1pZGluZ1BvbGljeSBvcHRfZGltZW5zaW9ucyBvcHRfcmVnaW9uIG9wdF9zY2FsZSBvcHRfY3JzIG9wdF9jcnNUcmFuc2Zvcm0gb3B0X21heFBpeGVscyBvcHRfc2hhcmRTaXplXCIuc3BsaXQoXCIgXCIpLCBcImNvbGxlY3Rpb24gb3B0X2Rlc2NyaXB0aW9uIG9wdF9mb2xkZXIgb3B0X2ZpbGVOYW1lUHJlZml4IG9wdF9mcmFtZXNQZXJTZWNvbmQgb3B0X2RpbWVuc2lvbnMgb3B0X3JlZ2lvbiBvcHRfc2NhbGUgb3B0X2NycyBvcHRfY3JzVHJhbnNmb3JtIG9wdF9tYXhQaXhlbHMgb3B0X21heEZyYW1lc1wiLnNwbGl0KFwiIFwiKSwgXG4gIFwiaW1hZ2Ugb3B0X2Rlc2NyaXB0aW9uIG9wdF9idWNrZXQgb3B0X2ZpbGVGb3JtYXQgb3B0X3BhdGggb3B0X3dyaXRlUHVibGljVGlsZXMgb3B0X3NjYWxlIG9wdF9tYXhab29tIG9wdF9taW5ab29tIG9wdF9yZWdpb24gb3B0X3NraXBFbXB0eVRpbGVzIG9wdF9tYXBzQXBpS2V5IG9wdF9idWNrZXRDb3JzVXJpc1wiLnNwbGl0KFwiIFwiKSwgXCJpbWFnZSBvcHRfZGVzY3JpcHRpb24gb3B0X2J1Y2tldCBvcHRfZmlsZU5hbWVQcmVmaXggb3B0X2RpbWVuc2lvbnMgb3B0X3JlZ2lvbiBvcHRfc2NhbGUgb3B0X2NycyBvcHRfY3JzVHJhbnNmb3JtIG9wdF9tYXhQaXhlbHMgb3B0X3NoYXJkU2l6ZSBvcHRfZmlsZURpbWVuc2lvbnMgb3B0X3NraXBFbXB0eVRpbGVzIG9wdF9maWxlRm9ybWF0IG9wdF9mb3JtYXRPcHRpb25zXCIuc3BsaXQoXCIgXCIpLCBcImNvbGxlY3Rpb24gb3B0X2Rlc2NyaXB0aW9uIG9wdF9idWNrZXQgb3B0X2ZpbGVOYW1lUHJlZml4IG9wdF9mcmFtZXNQZXJTZWNvbmQgb3B0X2RpbWVuc2lvbnMgb3B0X3JlZ2lvbiBvcHRfc2NhbGUgb3B0X2NycyBvcHRfY3JzVHJhbnNmb3JtIG9wdF9tYXhQaXhlbHMgb3B0X21heEZyYW1lc1wiLnNwbGl0KFwiIFwiKSwgXG4gIFwiaW1hZ2Ugb3B0X2Rlc2NyaXB0aW9uIG9wdF9mb2xkZXIgb3B0X2ZpbGVOYW1lUHJlZml4IG9wdF9kaW1lbnNpb25zIG9wdF9yZWdpb24gb3B0X3NjYWxlIG9wdF9jcnMgb3B0X2Nyc1RyYW5zZm9ybSBvcHRfbWF4UGl4ZWxzIG9wdF9zaGFyZFNpemUgb3B0X2ZpbGVEaW1lbnNpb25zIG9wdF9za2lwRW1wdHlUaWxlcyBvcHRfZmlsZUZvcm1hdCBvcHRfZm9ybWF0T3B0aW9uc1wiLnNwbGl0KFwiIFwiKSwgW1wiY2xhc3NpZmllclwiLCBcIm9wdF9kZXNjcmlwdGlvblwiLCBcIm9wdF9hc3NldElkXCJdLCBbXCJuYW1lXCIsIFwib3BlcmF0b3JcIiwgXCJ2YWx1ZVwiXSwgW1wiYWxnb3JpdGhtXCIsIFwib3B0X2ZpcnN0XCJdLCBbXCJhbGdvcml0aG1cIiwgXCJvcHRfZHJvcE51bGxzXCJdLCBbXCJtYXhcIiwgXCJvcHRfcHJvcGVydHlcIiwgXCJvcHRfYXNjZW5kaW5nXCJdLCBbXCJmaWx0ZXJcIl0sIFtcInN0YXJ0XCIsIFwib3B0X2VuZFwiXSwgW1wiZ2VvbWV0cnlcIl0sIFtcInByb3BlcnR5XCIsIFwib3B0X2FzY2VuZGluZ1wiXSwgW1wiY2FsbGJhY2tcIl0sIFxuICBbXCJmdW5jXCIsIFwidmFyX2FyZ3NcIl0sIFtcImxlZ2FjeVwiXSwgW1wib3B0X2NhbGxiYWNrXCJdLCBcImNsaWVudElkIHN1Y2Nlc3Mgb3B0X2Vycm9yIG9wdF9leHRyYVNjb3BlcyBvcHRfb25JbW1lZGlhdGVGYWlsZWQgb3B0X3N1cHByZXNzRGVmYXVsdFNjb3Blc1wiLnNwbGl0KFwiIFwiKSwgW1wicGFyYW1zXCIsIFwib3B0X2NhbGxiYWNrXCJdLCBbXCJ0YXNrSWRcIiwgXCJvcHRfY2FsbGJhY2tcIl0sIFtcInBhcmFtc1wiLCBcIm9wdF9jYWxsYmFja1wiXSwgW1wicGFyYW1zXCIsIFwib3B0X2NhbGxiYWNrXCJdLCBbXCJpZFwiXSwgW1wiYXNzZXRJZFwiLCBcImFzc2V0XCIsIFwidXBkYXRlRmllbGRzXCIsIFwib3B0X2NhbGxiYWNrXCJdLCBbXCJ0YXNrSWRcIiwgXCJyZXF1ZXN0XCIsIFwib3B0X2NhbGxiYWNrXCJdLCBbXCJpZFwiLCBcInhcIiwgXCJ5XCIsIFwielwiXSwgW1widGFza0lkXCIsIFwiYWN0aW9uXCIsIFwib3B0X2NhbGxiYWNrXCJdLCBbXCJjbGllbnRJZFwiLCBcInN1Y2Nlc3NcIiwgXCJvcHRfZXJyb3JcIiwgXCJvcHRfZXh0cmFTY29wZXNcIiwgXCJvcHRfb25JbW1lZGlhdGVGYWlsZWRcIl0sIFxuICBbXCJwYXJhbXNcIiwgXCJvcHRfY2FsbGJhY2tcIl0sIFtcInRhc2tJZFwiLCBcInBhcmFtc1wiLCBcIm9wdF9jYWxsYmFja1wiXSwgW1wiYXNzZXRJZFwiLCBcImFjbFVwZGF0ZVwiLCBcIm9wdF9jYWxsYmFja1wiXSwgW1wicGFyZW50XCIsIFwib3B0X3BhcmFtc1wiLCBcIm9wdF9jYWxsYmFja1wiXSwgW1wib3B0X3N1Y2Nlc3NcIiwgXCJvcHRfZXJyb3JcIl0sIFtcInBhcmFtc1wiLCBcIm9wdF9jYWxsYmFja1wiXSwgW1wiYXNzZXRJZFwiLCBcInByb3BlcnRpZXNcIiwgXCJvcHRfY2FsbGJhY2tcIl0sIFtcInBhcmFtc1wiLCBcIm9wdF9jYWxsYmFja1wiXSwgW1wicHJpdmF0ZUtleVwiLCBcIm9wdF9zdWNjZXNzXCIsIFwib3B0X2Vycm9yXCIsIFwib3B0X2V4dHJhU2NvcGVzXCIsIFwib3B0X3N1cHByZXNzRGVmYXVsdFNjb3Blc1wiXSwgW1wicGFyZW50XCIsIFwib3B0X3BhcmFtc1wiLCBcIm9wdF9jYWxsYmFja1wiXSwgW1wiaWRcIl0sIFtcInRhc2tJZFwiLCBcInJlcXVlc3RcIiwgXCJvcHRfY2FsbGJhY2tcIl0sIFtcInJvb3RJZFwiLCBcIm9wdF9jYWxsYmFja1wiXSwgW1wiYXNzZXRcIiwgXCJwYXJhbXNcIiwgXG4gIFwib3B0X2NhbGxiYWNrXCJdLCBbXCJwYXJhbXNcIiwgXCJvcHRfY2FsbGJhY2tcIl0sIFtcInByb2plY3RcIiwgXCJvcHRfY2FsbGJhY2tcIl0sIFtcImlkXCIsIFwib3B0X2NhbGxiYWNrXCJdLCBbXCJvYmpcIiwgXCJvcHRfY2FsbGJhY2tcIl0sIFtcImlkXCJdLCBbXCJvcHRfY2FsbGJhY2tcIl0sIFtdLCBbXCJpZFwiLCBcIm9wdF9jYWxsYmFja1wiXSwgW1wib3B0X2NvdW50XCIsIFwib3B0X2NhbGxiYWNrXCJdLCBbXCJyZXF1ZXN0ZWRJZFwiLCBcIm9wdF9jYWxsYmFja1wiXSwgW1widGFnXCJdLCBbXCJwYXJhbXNcIiwgXCJvcHRfY2FsbGJhY2tcIl0sIFtcInRhZ1wiXSwgW1widmFsdWVcIiwgXCJvcHRfcGF0aFwiLCBcIm9wdF9mb3JjZVwiLCBcIm9wdF9wcm9wZXJ0aWVzXCIsIFwib3B0X2NhbGxiYWNrXCJdLCBbXCJ0YXNrSWRcIiwgXCJvcHRfY2FsbGJhY2tcIl0sIFtcIm9wdF9yZXNldERlZmF1bHRcIl0sIFtcInBhdGhcIiwgXCJvcHRfZm9yY2VcIiwgXCJvcHRfY2FsbGJhY2tcIl0sIFtcIm9wdF9jYWxsYmFja1wiXSwgW1wic291cmNlSWRcIiwgXCJkZXN0aW5hdGlvbklkXCIsIFwib3B0X2NhbGxiYWNrXCJdLCBcbiAgW1wib3B0X2xpbWl0XCIsIFwib3B0X2NhbGxiYWNrXCJdLCBbXCJzb3VyY2VJZFwiLCBcImRlc3RpbmF0aW9uSWRcIiwgXCJvcHRfb3ZlcndyaXRlXCIsIFwib3B0X2NhbGxiYWNrXCJdLCBbXCJvcHRfbGltaXRcIiwgXCJvcHRfY2FsbGJhY2tcIl0sIFtcImFzc2V0SWRcIiwgXCJvcHRfY2FsbGJhY2tcIl0sIFtcIm9wZXJhdGlvbk5hbWVcIiwgXCJvcHRfY2FsbGJhY2tcIl0sIFtcImFzc2V0SWRcIiwgXCJvcHRfY2FsbGJhY2tcIl0sIFtcIm9wZXJhdGlvbk5hbWVcIiwgXCJvcHRfY2FsbGJhY2tcIl0sIFtcImRhdGVcIiwgXCJvcHRfdHpcIl0sIFtcImpzb25cIl0sIFtcImpzb25cIl0sIFtcImpzb25cIl0sIFtcImpzb25cIl0sIFtcIm9wdF9kaWN0XCJdLCBbXSwgW10sIFtdLCBcIm9wdF9iYXNldXJsIG9wdF90aWxldXJsIG9wdF9zdWNjZXNzQ2FsbGJhY2sgb3B0X2Vycm9yQ2FsbGJhY2sgb3B0X3hzcmZUb2tlbiBvcHRfcHJvamVjdFwiLnNwbGl0KFwiIFwiKSwgW1wiZnVuY1wiLCBcInZhcl9hcmdzXCJdLCBbXCJmdW5jXCIsIFwibmFtZWRBcmdzXCJdLCBbXSwgW1widmFyX2FyZ3NcIl0sIFxuICBbXCJnZW9tZXRyeVwiLCBcIm9wdF9wcm9wZXJ0aWVzXCJdLCBbXCJvcHRfdmlzUGFyYW1zXCIsIFwib3B0X2NhbGxiYWNrXCJdLCBbXCJvcHRfY2FsbGJhY2tcIl0sIFtcInByb3BlcnR5U2VsZWN0b3JzXCIsIFwib3B0X25ld1Byb3BlcnRpZXNcIiwgXCJvcHRfcmV0YWluR2VvbWV0cnlcIl0sIFtcImFyZ3NcIiwgXCJvcHRfY29sdW1uXCJdLCBbXCJvcHRfY2FsbGJhY2tcIl0sIFtcIm9wdF92aXNQYXJhbXNcIiwgXCJvcHRfY2FsbGJhY2tcIl0sIFtcIm9wdF9mb3JtYXRcIiwgXCJvcHRfc2VsZWN0b3JzXCIsIFwib3B0X2ZpbGVuYW1lXCIsIFwib3B0X2NhbGxiYWNrXCJdLCBbXCJuYW1lXCIsIFwidmFsdWVcIl0sIFtcInZhcl9hcmdzXCJdLCBbXCJuYW1lXCIsIFwidmFsdWVcIl0sIFtcInZhcl9hcmdzXCJdLCBbXCJzdGFydFwiLCBcIm9wdF9lbmRcIl0sIFtcIm9wdF9maWx0ZXJcIl0sIFtdLCBbXCJvcHRfbGVmdEZpZWxkXCIsIFwib3B0X3JpZ2h0VmFsdWVcIiwgXCJvcHRfcmlnaHRGaWVsZFwiLCBcIm9wdF9sZWZ0VmFsdWVcIl0sIFtcIm5hbWVcIiwgXCJvcGVyYXRvclwiLCBcInZhbHVlXCJdLCBcbiAgW1wibmFtZVwiLCBcInZhbHVlXCJdLCBbXCJuYW1lXCIsIFwidmFsdWVcIl0sIFtcIm5hbWVcIiwgXCJ2YWx1ZVwiXSwgW1wiZ2VvbWV0cnlcIiwgXCJvcHRfZXJyb3JNYXJnaW5cIl0sIFtcIm5hbWVcIiwgXCJ2YWx1ZVwiXSwgW1wibmFtZWRBcmdzXCJdLCBbXCJ2YXJfYXJnc1wiXSwgW1wiY29vcmRzXCIsIFwib3B0X3Byb2pcIiwgXCJvcHRfZ2VvZGVzaWNcIiwgXCJvcHRfbWF4RXJyb3JcIiwgXCJvcHRfZXZlbk9kZFwiXSwgW10sIFtdLCBbXCJjb29yZHNcIiwgXCJvcHRfcHJvalwiXSwgW1wid2VzdFwiLCBcInNvdXRoXCIsIFwiZWFzdFwiLCBcIm5vcnRoXCJdLCBbXCJjb29yZHNcIiwgXCJvcHRfcHJvalwiLCBcIm9wdF9nZW9kZXNpY1wiLCBcIm9wdF9tYXhFcnJvclwiXSwgW1wiZ2VvSnNvblwiLCBcIm9wdF9wcm9qXCIsIFwib3B0X2dlb2Rlc2ljXCIsIFwib3B0X2V2ZW5PZGRcIl0sIFtcImxlZ2FjeVwiXSwgW1wiY29vcmRzXCIsIFwib3B0X3Byb2pcIl0sIFtcImNvb3Jkc1wiLCBcIm9wdF9wcm9qXCIsIFwib3B0X2dlb2Rlc2ljXCIsIFwib3B0X21heEVycm9yXCIsIFwib3B0X2V2ZW5PZGRcIl0sIFtcImNvb3Jkc1wiLCBcbiAgXCJvcHRfcHJvalwiLCBcIm9wdF9nZW9kZXNpY1wiLCBcIm9wdF9tYXhFcnJvclwiXSwgW1wiY29vcmRzXCIsIFwib3B0X3Byb2pcIiwgXCJvcHRfZ2VvZGVzaWNcIiwgXCJvcHRfZXZlbk9kZFwiXSwgW1wiY29vcmRzXCIsIFwib3B0X3Byb2pcIiwgXCJvcHRfZ2VvZGVzaWNcIiwgXCJvcHRfbWF4RXJyb3JcIl0sIFtcIm9wdF9hcmdzXCJdLCBbXCJ2YXJfYXJnc1wiXSwgW1wib3B0X3Zpc1BhcmFtc1wiLCBcIm9wdF9jYWxsYmFja1wiXSwgW1wicGFyYW1zXCIsIFwib3B0X2NhbGxiYWNrXCJdLCBbXCJyXCIsIFwiZ1wiLCBcImJcIl0sIFtcIm9wdF9jYWxsYmFja1wiXSwgW1wicGFyYW1zXCIsIFwib3B0X2NhbGxiYWNrXCJdLCBbXCJwYXJhbXNcIiwgXCJvcHRfY2FsbGJhY2tcIl0sIFtcImdlb21ldHJ5XCJdLCBbXCJ2YXJfYXJnc1wiXSwgW1wiZXhwcmVzc2lvblwiLCBcIm9wdF9tYXBcIl0sIFtcInZhcl9hcmdzXCJdLCBbXCJwYXJhbXNcIiwgXCJvcHRfY2FsbGJhY2tcIl0sIFtcInBhcmFtc1wiLCBcIm9wdF9jYWxsYmFja1wiXSwgW1wib3B0X3Zpc1BhcmFtc1wiLCBcIm9wdF9jYWxsYmFja1wiXSwgW1wib3B0X2NhbGxiYWNrXCJdLCBcbiAgW1wic2VsZWN0b3JzXCIsIFwib3B0X25hbWVzXCJdLCBbXSwgW1wiYXJnc1wiXSwgW1wibGlzdFwiXSwgW1wibnVtYmVyXCJdLCBbXCJvYmpcIl0sIFtcIm9ialwiXSwgW1wib2JqXCJdLCBbXCJvYmpcIiwgXCJvcHRfaXNDb21wb3VuZFwiXSwgW1wib2JqXCJdLCBbXCJvYmpcIl0sIFtcIm9ialwiXSwgW1wic3RyaW5nXCJdLCBbXV07XG4gIFtlZS5BcGlGdW5jdGlvbi5sb29rdXAsIGVlLkFwaUZ1bmN0aW9uLl9hcHBseSwgZWUuQXBpRnVuY3Rpb24uX2NhbGwsIG1vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9FeHBvcnQudGFibGUudG9DbG91ZFN0b3JhZ2UsIG1vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9FeHBvcnQudGFibGUudG9Ecml2ZSwgbW9kdWxlJGNvbnRlbnRzJGVlJGJhdGNoX0V4cG9ydC50YWJsZS50b0ZlYXR1cmVWaWV3LCBtb2R1bGUkY29udGVudHMkZWUkYmF0Y2hfRXhwb3J0LnRhYmxlLnRvQXNzZXQsIG1vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9FeHBvcnQudmlkZW9NYXAudG9DbG91ZFN0b3JhZ2UsIG1vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9FeHBvcnQuaW1hZ2UudG9Bc3NldCwgbW9kdWxlJGNvbnRlbnRzJGVlJGJhdGNoX0V4cG9ydC52aWRlby50b0RyaXZlLCBtb2R1bGUkY29udGVudHMkZWUkYmF0Y2hfRXhwb3J0Lm1hcC50b0Nsb3VkU3RvcmFnZSwgbW9kdWxlJGNvbnRlbnRzJGVlJGJhdGNoX0V4cG9ydC5pbWFnZS50b0Nsb3VkU3RvcmFnZSwgXG4gIG1vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9FeHBvcnQudmlkZW8udG9DbG91ZFN0b3JhZ2UsIG1vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9FeHBvcnQuaW1hZ2UudG9Ecml2ZSwgbW9kdWxlJGNvbnRlbnRzJGVlJGJhdGNoX0V4cG9ydC5jbGFzc2lmaWVyLnRvQXNzZXQsIGVlLkNvbGxlY3Rpb24ucHJvdG90eXBlLmZpbHRlck1ldGFkYXRhLCBlZS5Db2xsZWN0aW9uLnByb3RvdHlwZS5pdGVyYXRlLCBlZS5Db2xsZWN0aW9uLnByb3RvdHlwZS5tYXAsIGVlLkNvbGxlY3Rpb24ucHJvdG90eXBlLmxpbWl0LCBlZS5Db2xsZWN0aW9uLnByb3RvdHlwZS5maWx0ZXIsIGVlLkNvbGxlY3Rpb24ucHJvdG90eXBlLmZpbHRlckRhdGUsIGVlLkNvbGxlY3Rpb24ucHJvdG90eXBlLmZpbHRlckJvdW5kcywgZWUuQ29sbGVjdGlvbi5wcm90b3R5cGUuc29ydCwgZWUuQ29tcHV0ZWRPYmplY3QucHJvdG90eXBlLmV2YWx1YXRlLCBlZS5Db21wdXRlZE9iamVjdC5wcm90b3R5cGUuYXNpZGUsIGVlLkNvbXB1dGVkT2JqZWN0LnByb3RvdHlwZS5zZXJpYWxpemUsIFxuICBlZS5Db21wdXRlZE9iamVjdC5wcm90b3R5cGUuZ2V0SW5mbywgZWUuZGF0YS5hdXRoZW50aWNhdGVWaWFPYXV0aCwgZWUuZGF0YS5nZXRWaWRlb1RodW1iSWQsIGVlLmRhdGEuY2FuY2VsVGFzaywgZWUuZGF0YS5nZXRNYXBJZCwgZWUuZGF0YS5nZXRGaWxtc3RyaXBUaHVtYklkLCBlZS5kYXRhLm1ha2VUaHVtYlVybCwgZWUuZGF0YS51cGRhdGVBc3NldCwgZWUuZGF0YS5zdGFydEluZ2VzdGlvbiwgZWUuZGF0YS5nZXRUaWxlVXJsLCBlZS5kYXRhLnVwZGF0ZVRhc2ssIGVlLmRhdGEuYXV0aGVudGljYXRlLCBlZS5kYXRhLmdldExpc3QsIGVlLmRhdGEuc3RhcnRQcm9jZXNzaW5nLCBlZS5kYXRhLnNldEFzc2V0QWNsLCBlZS5kYXRhLmxpc3RBc3NldHMsIGVlLmRhdGEuYXV0aGVudGljYXRlVmlhUG9wdXAsIGVlLmRhdGEuZ2V0RG93bmxvYWRJZCwgZWUuZGF0YS5zZXRBc3NldFByb3BlcnRpZXMsIGVlLmRhdGEuZ2V0RmVhdHVyZVZpZXdUaWxlc0tleSwgZWUuZGF0YS5hdXRoZW50aWNhdGVWaWFQcml2YXRlS2V5LCBcbiAgZWUuZGF0YS5saXN0SW1hZ2VzLCBlZS5kYXRhLm1ha2VEb3dubG9hZFVybCwgZWUuZGF0YS5zdGFydFRhYmxlSW5nZXN0aW9uLCBlZS5kYXRhLmdldEFzc2V0Um9vdFF1b3RhLCBlZS5kYXRhLmxpc3RGZWF0dXJlcywgZWUuZGF0YS5nZXRUYWJsZURvd25sb2FkSWQsIGVlLmRhdGEubGlzdEJ1Y2tldHMsIGVlLmRhdGEuZ2V0QXNzZXQsIGVlLmRhdGEuY29tcHV0ZVZhbHVlLCBlZS5kYXRhLm1ha2VUYWJsZURvd25sb2FkVXJsLCBlZS5kYXRhLmdldEFzc2V0Um9vdHMsIGVlLmRhdGEuZ2V0V29ya2xvYWRUYWcsIGVlLmRhdGEuZ2V0SW5mbywgZWUuZGF0YS5uZXdUYXNrSWQsIGVlLmRhdGEuY3JlYXRlQXNzZXRIb21lLCBlZS5kYXRhLnNldFdvcmtsb2FkVGFnLCBlZS5kYXRhLmdldFRodW1iSWQsIGVlLmRhdGEuc2V0RGVmYXVsdFdvcmtsb2FkVGFnLCBlZS5kYXRhLmNyZWF0ZUFzc2V0LCBlZS5kYXRhLmdldFRhc2tTdGF0dXMsIGVlLmRhdGEucmVzZXRXb3JrbG9hZFRhZywgZWUuZGF0YS5jcmVhdGVGb2xkZXIsIFxuICBlZS5kYXRhLmdldFRhc2tMaXN0LCBlZS5kYXRhLnJlbmFtZUFzc2V0LCBlZS5kYXRhLmdldFRhc2tMaXN0V2l0aExpbWl0LCBlZS5kYXRhLmNvcHlBc3NldCwgZWUuZGF0YS5saXN0T3BlcmF0aW9ucywgZWUuZGF0YS5kZWxldGVBc3NldCwgZWUuZGF0YS5jYW5jZWxPcGVyYXRpb24sIGVlLmRhdGEuZ2V0QXNzZXRBY2wsIGVlLmRhdGEuZ2V0T3BlcmF0aW9uLCBlZS5EYXRlLCBlZS5EZXNlcmlhbGl6ZXIuZGVjb2RlQ2xvdWRBcGksIGVlLkRlc2VyaWFsaXplci5kZWNvZGUsIGVlLkRlc2VyaWFsaXplci5mcm9tQ2xvdWRBcGlKU09OLCBlZS5EZXNlcmlhbGl6ZXIuZnJvbUpTT04sIGVlLkRpY3Rpb25hcnksIGVlLnJlc2V0LCBlZS5Jbml0U3RhdGUsIGVlLkFsZ29yaXRobXMsIGVlLmluaXRpYWxpemUsIGVlLmNhbGwsIGVlLmFwcGx5LCBlZS5USUxFX1NJWkUsIGVlLkVsZW1lbnQucHJvdG90eXBlLnNldCwgZWUuRmVhdHVyZSwgZWUuRmVhdHVyZS5wcm90b3R5cGUuZ2V0TWFwLCBlZS5GZWF0dXJlLnByb3RvdHlwZS5nZXRJbmZvLCBcbiAgZWUuRmVhdHVyZUNvbGxlY3Rpb24ucHJvdG90eXBlLnNlbGVjdCwgZWUuRmVhdHVyZUNvbGxlY3Rpb24sIGVlLkZlYXR1cmVDb2xsZWN0aW9uLnByb3RvdHlwZS5nZXRJbmZvLCBlZS5GZWF0dXJlQ29sbGVjdGlvbi5wcm90b3R5cGUuZ2V0TWFwLCBlZS5GZWF0dXJlQ29sbGVjdGlvbi5wcm90b3R5cGUuZ2V0RG93bmxvYWRVUkwsIGVlLkZpbHRlci5sdCwgZWUuRmlsdGVyLmFuZCwgZWUuRmlsdGVyLmd0ZSwgZWUuRmlsdGVyLm9yLCBlZS5GaWx0ZXIuZGF0ZSwgZWUuRmlsdGVyLCBlZS5GaWx0ZXIucHJvdG90eXBlLm5vdCwgZWUuRmlsdGVyLmluTGlzdCwgZWUuRmlsdGVyLm1ldGFkYXRhLCBlZS5GaWx0ZXIuZXEsIGVlLkZpbHRlci5uZXEsIGVlLkZpbHRlci5ndCwgZWUuRmlsdGVyLmJvdW5kcywgZWUuRmlsdGVyLmx0ZSwgZWUuRnVuY3Rpb24ucHJvdG90eXBlLmFwcGx5LCBlZS5GdW5jdGlvbi5wcm90b3R5cGUuY2FsbCwgZWUuR2VvbWV0cnkuUG9seWdvbiwgZWUuR2VvbWV0cnkucHJvdG90eXBlLnRvR2VvSlNPTiwgXG4gIGVlLkdlb21ldHJ5LnByb3RvdHlwZS50b0dlb0pTT05TdHJpbmcsIGVlLkdlb21ldHJ5LlBvaW50LCBlZS5HZW9tZXRyeS5CQm94LCBlZS5HZW9tZXRyeS5MaW5lYXJSaW5nLCBlZS5HZW9tZXRyeSwgZWUuR2VvbWV0cnkucHJvdG90eXBlLnNlcmlhbGl6ZSwgZWUuR2VvbWV0cnkuTXVsdGlQb2ludCwgZWUuR2VvbWV0cnkuTXVsdGlQb2x5Z29uLCBlZS5HZW9tZXRyeS5NdWx0aUxpbmVTdHJpbmcsIGVlLkdlb21ldHJ5LlJlY3RhbmdsZSwgZWUuR2VvbWV0cnkuTGluZVN0cmluZywgZWUuSW1hZ2UsIGVlLkltYWdlLnByb3RvdHlwZS5yZW5hbWUsIGVlLkltYWdlLnByb3RvdHlwZS5nZXRNYXAsIGVlLkltYWdlLnByb3RvdHlwZS5nZXREb3dubG9hZFVSTCwgZWUuSW1hZ2UucmdiLCBlZS5JbWFnZS5wcm90b3R5cGUuZ2V0SW5mbywgZWUuSW1hZ2UucHJvdG90eXBlLmdldFRodW1iVVJMLCBlZS5JbWFnZS5wcm90b3R5cGUuZ2V0VGh1bWJJZCwgZWUuSW1hZ2UucHJvdG90eXBlLmNsaXAsIFxuICBlZS5JbWFnZS5wcm90b3R5cGUuc2VsZWN0LCBlZS5JbWFnZS5wcm90b3R5cGUuZXhwcmVzc2lvbiwgZWUuSW1hZ2UuY2F0LCBlZS5JbWFnZUNvbGxlY3Rpb24ucHJvdG90eXBlLmdldEZpbG1zdHJpcFRodW1iVVJMLCBlZS5JbWFnZUNvbGxlY3Rpb24ucHJvdG90eXBlLmdldFZpZGVvVGh1bWJVUkwsIGVlLkltYWdlQ29sbGVjdGlvbi5wcm90b3R5cGUuZ2V0TWFwLCBlZS5JbWFnZUNvbGxlY3Rpb24ucHJvdG90eXBlLmdldEluZm8sIGVlLkltYWdlQ29sbGVjdGlvbi5wcm90b3R5cGUuc2VsZWN0LCBlZS5JbWFnZUNvbGxlY3Rpb24ucHJvdG90eXBlLmZpcnN0LCBlZS5JbWFnZUNvbGxlY3Rpb24sIGVlLkxpc3QsIGVlLk51bWJlciwgZWUuU2VyaWFsaXplci50b1JlYWRhYmxlQ2xvdWRBcGlKU09OLCBlZS5TZXJpYWxpemVyLmVuY29kZUNsb3VkQXBpUHJldHR5LCBlZS5TZXJpYWxpemVyLnRvQ2xvdWRBcGlKU09OLCBlZS5TZXJpYWxpemVyLmVuY29kZSwgZWUuU2VyaWFsaXplci50b0pTT04sIFxuICBlZS5TZXJpYWxpemVyLnRvUmVhZGFibGVKU09OLCBlZS5TZXJpYWxpemVyLmVuY29kZUNsb3VkQXBpLCBlZS5TdHJpbmcsIGVlLlRlcnJhaW5dLmZvckVhY2goZnVuY3Rpb24oZm4sIGkpIHtcbiAgICBmbiAmJiAoZXhwb3J0ZWRGbkluZm9bZm4udG9TdHJpbmcoKV0gPSB7bmFtZTpvcmRlcmVkRm5OYW1lc1tpXSwgcGFyYW1OYW1lczpvcmRlcmVkUGFyYW1MaXN0c1tpXX0pO1xuICB9KTtcbiAgZ29vZy5nbG9iYWwuRVhQT1JURURfRk5fSU5GTyA9IGV4cG9ydGVkRm5JbmZvO1xufSkoKTtcblxuZ29vZy5nbG9iYWwgPSB3aW5kb3c7XG5nb29nLlRpbWVyLmRlZmF1bHRUaW1lck9iamVjdCA9IHdpbmRvdztcbm1vZHVsZS5leHBvcnRzID0gZWU7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@google/earthengine/build/browser.js\n");

/***/ }),

/***/ "./src/index.js":
/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

eval("// Require client library and private key.\n// const Auth = require('./scripts/auth.js');\nconst ee = __webpack_require__(/*! ../node_modules/@google/earthengine */ \"./node_modules/@google/earthengine/build/browser.js\");\n\n// ee.data.authenticateViaPrivateKey(privateKey, runAnalysis, function (e) {\n//    console.error('Authentication error: ' + e);\n// });\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  console.log(window.location.href);\n\n  // Initialize client library and run analysis.\n  ee.data.authenticateViaOauth('714908911037-v3hbclsdn48e4dcvkk72jemktuh7q0h9.apps.googleusercontent.com');\n  console.log(ee);\n  ee.initialize();\n\n  // Run an Earth Engine script.\n  var image = new ee.Image('srtm90_v4');\n  image.getMap({\n    min: 0,\n    max: 1000\n  }, function (map) {\n    console.log(map);\n  });\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvaW5kZXguanMuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBLE1BQU1BLEVBQUUsR0FBR0MsbUJBQU8sQ0FBQyxnR0FBcUMsQ0FBQzs7QUFHekQ7QUFDQTtBQUNBOztBQUVBQyxRQUFRLENBQUNDLGdCQUFnQixDQUFDLGtCQUFrQixFQUFFLE1BQU07RUFDakRDLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDQyxNQUFNLENBQUNDLFFBQVEsQ0FBQ0MsSUFBSSxDQUFDOztFQUdqQztFQUNBUixFQUFFLENBQUNTLElBQUksQ0FBQ0Msb0JBQW9CLENBQUMsMEVBQTBFLENBQUM7RUFFeEdOLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDTCxFQUFFLENBQUM7RUFFZkEsRUFBRSxDQUFDVyxVQUFVLEVBQUU7O0VBRWY7RUFDQSxJQUFJQyxLQUFLLEdBQUcsSUFBSVosRUFBRSxDQUFDYSxLQUFLLENBQUMsV0FBVyxDQUFDO0VBQ3JDRCxLQUFLLENBQUNFLE1BQU0sQ0FBQztJQUFFQyxHQUFHLEVBQUUsQ0FBQztJQUFFQyxHQUFHLEVBQUU7RUFBSyxDQUFDLEVBQUUsVUFBVUMsR0FBRyxFQUFFO0lBQ2hEYixPQUFPLENBQUNDLEdBQUcsQ0FBQ1ksR0FBRyxDQUFDO0VBQ25CLENBQUMsQ0FBQztBQUVMLENBQUMsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2pzcHJval9ncmFwZXByb3NwZXJpdHkvLi9zcmMvaW5kZXguanM/YjYzNSJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBSZXF1aXJlIGNsaWVudCBsaWJyYXJ5IGFuZCBwcml2YXRlIGtleS5cbi8vIGNvbnN0IEF1dGggPSByZXF1aXJlKCcuL3NjcmlwdHMvYXV0aC5qcycpO1xuY29uc3QgZWUgPSByZXF1aXJlKCcuLi9ub2RlX21vZHVsZXMvQGdvb2dsZS9lYXJ0aGVuZ2luZScpO1xuXG5cbi8vIGVlLmRhdGEuYXV0aGVudGljYXRlVmlhUHJpdmF0ZUtleShwcml2YXRlS2V5LCBydW5BbmFseXNpcywgZnVuY3Rpb24gKGUpIHtcbi8vICAgIGNvbnNvbGUuZXJyb3IoJ0F1dGhlbnRpY2F0aW9uIGVycm9yOiAnICsgZSk7XG4vLyB9KTtcblxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsICgpID0+IHtcbiAgIGNvbnNvbGUubG9nKHdpbmRvdy5sb2NhdGlvbi5ocmVmKTtcblxuXG4gICAvLyBJbml0aWFsaXplIGNsaWVudCBsaWJyYXJ5IGFuZCBydW4gYW5hbHlzaXMuXG4gICBlZS5kYXRhLmF1dGhlbnRpY2F0ZVZpYU9hdXRoKCc3MTQ5MDg5MTEwMzctdjNoYmNsc2RuNDhlNGRjdmtrNzJqZW1rdHVoN3EwaDkuYXBwcy5nb29nbGV1c2VyY29udGVudC5jb20nKTtcblxuICAgY29uc29sZS5sb2coZWUpO1xuXG4gICBlZS5pbml0aWFsaXplKCk7XG5cbiAgIC8vIFJ1biBhbiBFYXJ0aCBFbmdpbmUgc2NyaXB0LlxuICAgdmFyIGltYWdlID0gbmV3IGVlLkltYWdlKCdzcnRtOTBfdjQnKTtcbiAgIGltYWdlLmdldE1hcCh7IG1pbjogMCwgbWF4OiAxMDAwIH0sIGZ1bmN0aW9uIChtYXApIHtcbiAgICAgIGNvbnNvbGUubG9nKG1hcCk7XG4gICB9KTtcblxufSkiXSwibmFtZXMiOlsiZWUiLCJyZXF1aXJlIiwiZG9jdW1lbnQiLCJhZGRFdmVudExpc3RlbmVyIiwiY29uc29sZSIsImxvZyIsIndpbmRvdyIsImxvY2F0aW9uIiwiaHJlZiIsImRhdGEiLCJhdXRoZW50aWNhdGVWaWFPYXV0aCIsImluaXRpYWxpemUiLCJpbWFnZSIsIkltYWdlIiwiZ2V0TWFwIiwibWluIiwibWF4IiwibWFwIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/index.js\n");

/***/ }),

/***/ "./src/index.scss":
/*!************************!*\
  !*** ./src/index.scss ***!
  \************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvaW5kZXguc2Nzcy5qcyIsIm1hcHBpbmdzIjoiO0FBQUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9qc3Byb2pfZ3JhcGVwcm9zcGVyaXR5Ly4vc3JjL2luZGV4LnNjc3M/OTc0NSJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBleHRyYWN0ZWQgYnkgbWluaS1jc3MtZXh0cmFjdC1wbHVnaW5cbmV4cG9ydCB7fTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/index.scss\n");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/global */
/******/ 	!function() {
/******/ 		__webpack_require__.g = (function() {
/******/ 			if (typeof globalThis === 'object') return globalThis;
/******/ 			try {
/******/ 				return this || new Function('return this')();
/******/ 			} catch (e) {
/******/ 				if (typeof window === 'object') return window;
/******/ 			}
/******/ 		})();
/******/ 	}();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	!function() {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = function(exports) {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	}();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval-source-map devtool is used.
/******/ 	__webpack_require__("./src/index.js");
/******/ 	var __webpack_exports__ = __webpack_require__("./src/index.scss");
/******/ 	
/******/ })()
;